"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5702],{25702:function(e,t,n){n.r(t);var i=n(93433),s=n(29439),r=n(72791),o=n(26181),c=n.n(o),a=n(78687),l=n(57689),u=n(29945),d=n(31776),f=n(82342),b=n(38442),h=n(56087),m=n(87995),x=n(9859),j=n(44690),p=n(75578),S=n(27454),v=n(80184),k=(0,p.Z)(r.lazy((function(){return n.e(455).then(n.bind(n,80455))}))),_=(0,p.Z)(r.lazy((function(){return n.e(8296).then(n.bind(n,8296))})));t.default=function(){var e=(0,j.TL)(),t=(0,l.UO)(),n=(0,a.v9)(x.HQ),o=(0,r.useState)(!1),p=(0,s.Z)(o,2),E=p[0],F=p[1],T=(0,r.useState)(!0),I=(0,s.Z)(T,2),N=I[0],C=I[1],O=(0,r.useState)([]),g=(0,s.Z)(O,2),A=g[0],Z=g[1],y=(0,r.useState)(!1),K=(0,s.Z)(y,2),B=K[0],P=K[1],M=(0,r.useState)(null),U=(0,s.Z)(M,2),w=U[0],G=U[1],z=t.bucketName||"",R=(0,b.F)(z,[h.Ft.S3_GET_BUCKET_NOTIFICATIONS,h.Ft.S3_GET_ACTIONS]);(0,r.useEffect)((function(){n&&C(!0)}),[n,C]),(0,r.useEffect)((function(){e((0,m.Sc)("bucket_detail_events"))}),[]),(0,r.useEffect)((function(){N&&(R?d.h.buckets.listBucketEvents(z).then((function(e){var t=c()(e.data,"events",[]);C(!1),Z(t||[])})).catch((function(t){C(!1),e((0,m.Ih)((0,f.g)(t.error)))})):C(!1))}),[N,e,z,R]);var Q=[{type:"delete",onClick:function(e){P(!0),G(e)}}];return(0,v.jsxs)(r.Fragment,{children:[B&&(0,v.jsx)(k,{deleteOpen:B,selectedBucket:z,bucketEvent:w,closeDeleteModalAndRefresh:function(e){P(!1),e&&C(!0)}}),E&&(0,v.jsx)(_,{open:E,selectedBucket:z,closeModalAndRefresh:function(){F(!1),C(!0)}}),(0,v.jsx)(u.NZf,{separator:!0,sx:{marginBottom:15},actions:(0,v.jsx)(b.s,{scopes:[h.Ft.S3_PUT_BUCKET_NOTIFICATIONS,h.Ft.S3_PUT_ACTIONS,h.Ft.ADMIN_SERVER_INFO],resource:z,matchAll:!0,errorProps:{disabled:!0},children:(0,v.jsx)(S.Z,{tooltip:"Subscribe to Event",children:(0,v.jsx)(u.zxk,{id:"Subscribe-bucket-event",onClick:function(){F(!0)},label:"Subscribe to Event",icon:(0,v.jsx)(u.dtP,{}),variant:"callAction"})})}),children:(0,v.jsx)(u.SYi,{content:(0,v.jsxs)(r.Fragment,{children:["MinIO"," ",(0,v.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/monitoring.html",children:"bucket notifications"})," ","allow administrators to send notifications to supported external services on certain object or bucket events."]}),placement:"right",children:"Events"})}),(0,v.jsxs)(u.rjZ,{container:!0,children:[(0,v.jsx)(u.rjZ,{item:!0,xs:12,children:(0,v.jsx)(b.s,{scopes:[h.Ft.S3_GET_BUCKET_NOTIFICATIONS,h.Ft.S3_GET_ACTIONS],resource:z,errorProps:{disabled:!0},children:(0,v.jsx)(u.wQF,{itemActions:Q,columns:[{label:"SQS",elementKey:"arn"},{label:"Events",elementKey:"events",renderFunction:function(e){if(!e)return"other";var t=e.reduce((function(e,t){return e.includes(t)?e:[].concat((0,i.Z)(e),[t])}),[]);return(0,v.jsx)(r.Fragment,{children:t.join(", ")})}},{label:"Prefix",elementKey:"prefix"},{label:"Suffix",elementKey:"suffix"}],isLoading:N,records:A,entityName:"Events",idField:"id",customPaperHeight:"400px"})})}),!N&&(0,v.jsxs)(u.rjZ,{item:!0,xs:12,children:[(0,v.jsx)("br",{}),(0,v.jsx)(u.KfX,{title:"Event Notifications",iconComponent:(0,v.jsx)(u.cCG,{}),help:(0,v.jsxs)(r.Fragment,{children:["MinIO bucket notifications allow administrators to send notifications to supported external services on certain object or bucket events. MinIO supports bucket and object-level S3 events similar to the Amazon S3 Event Notifications.",(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),"You can learn more at our"," ",(0,v.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/monitoring/bucket-notifications.html?ref=con",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})]})]})]})}}}]);
//# sourceMappingURL=5702.719f144e.chunk.js.map