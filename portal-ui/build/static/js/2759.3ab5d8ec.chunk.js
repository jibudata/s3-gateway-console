"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2759],{51270:function(e,r,t){var n=t(29439),i=(t(72791),t(51691)),o=t(9505),a=t(23508),l=t(56096),c=t(87995),s=t(25469),u=t(80184);r.Z=function(e){var r=e.closeDeleteModalAndRefresh,t=e.deleteOpen,d=e.idp,p=e.idpType,f=(0,s.TL)(),h=(0,o.Z)((function(e){r(!0),f((0,c.cN)(!0===e.restart))}),(function(e){return f((0,c.Ih)(e))})),x=(0,n.Z)(h,2),m=x[0],b=x[1];if(!d)return null;var y="_"===d?"Default":d;return(0,u.jsx)(a.Z,{title:"Delete ".concat(y),confirmText:"Delete",isOpen:t,titleIcon:(0,u.jsx)(l.NvT,{}),isLoading:m,onConfirm:function(){b("DELETE","/api/v1/idp/".concat(p,"/").concat(d))},onClose:function(){return r(!1)},confirmButtonProps:{disabled:m},confirmationContent:(0,u.jsxs)(i.Z,{children:["Are you sure you want to delete IDP ",(0,u.jsx)("b",{children:y})," ","configuration? ",(0,u.jsx)("br",{})]})})}},18476:function(e,r,t){var n=t(4942),i=t(74165),o=t(15861),a=t(29439),l=t(1413),c=t(72791),s=t(11135),u=t(25787),d=t(61889),p=t(64554),f=t(23814),h=t(56096),x=t(21435),m=t(75952),b=t(16871),y=t(25469),Z=t(87995),v=t(9505),D=t(81207),g=t(74794),C=t(32291),j=t(84669),E=t(14917),N=t(51270),_=t(37516),k=t(80184);r.Z=(0,u.Z)((function(e){return(0,s.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},f.DF),{},{formFieldRow:(0,l.Z)({},f.DF.formFieldRow)},f.oO),{},{pageContainer:{height:"100%"},screenTitle:{border:0,paddingTop:0}},f.Bw),f.qg),{},{capitalize:{textTransform:"capitalize"}},f.bp),f.Si),(0,f.Bz)(e.spacing(4))))}))((function(e){var r=e.classes,t=e.formFields,s=e.endpoint,u=e.backLink,f=e.header,q=e.idpType,S=e.icon,P=(0,y.TL)(),L=(0,b.s0)(),w=(0,b.UO)().idpName,T=(0,c.useState)(!0),A=(0,a.Z)(T,2),I=A[0],R=A[1],B=(0,c.useState)(!1),F=(0,a.Z)(B,2),U=F[0],O=F[1],z=(0,c.useState)({}),G=(0,a.Z)(z,2),M=G[0],H=G[1],V=(0,c.useState)({}),J=(0,a.Z)(V,2),K=J[0],X=J[1],Q=(0,c.useState)({}),W=(0,a.Z)(Q,2),Y=W[0],$=W[1],ee=(0,c.useState)(!1),re=(0,a.Z)(ee,2),te=re[0],ne=re[1],ie=(0,c.useState)(!1),oe=(0,a.Z)(ie,2),ae=oe[0],le=oe[1],ce=(0,v.Z)((function(e){P((0,Z.cN)(!0===e.restart))}),(function(e){return P((0,Z.Ih)(e))})),se=(0,a.Z)(ce,2),ue=se[0],de=se[1],pe=(0,v.Z)((function(e){O(!U),P((0,Z.cN)(!0===e.restart))}),(function(e){P((0,Z.Ih)(e))})),fe=(0,a.Z)(pe,2),he=fe[0],xe=fe[1],me=function(e){var r={};e.info&&e.info.forEach((function(e){"enable"===e.key&&O("on"===e.value),r[e.key]=e.value})),H(r)};(0,c.useEffect)((function(){R(!0)}),[]),(0,c.useEffect)((function(){I&&D.Z.invoke("GET","".concat(s).concat(w)).then((function(e){e&&($(e),me(e),function(e){var r={};e.info&&e.info.forEach((function(e){r[e.key]=e.value})),X(r)}(e)),R(!1)})).catch((function(e){P((0,Z.Ih)(e)),R(!1)}))}),[P,I,w,s]);var be=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le(!1),r&&L(u);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,k.jsxs)(d.ZP,{item:!0,xs:12,children:[ae&&w&&(0,k.jsx)(N.Z,{deleteOpen:ae,idp:w,idpType:q,closeDeleteModalAndRefresh:be}),(0,k.jsx)(C.Z,{label:(0,k.jsx)(j.Z,{to:u,label:f}),actions:(0,k.jsx)(_.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:U,value:"is-configuration-enabled",id:"is-configuration-enabled",name:"is-configuration-enabled",onChange:function(e){return function(e){var r="enable=".concat(e?"on":"off");xe("PUT","".concat(s).concat(w),{input:r})}(e.target.checked)},description:"",disabled:he})}),(0,k.jsxs)(g.Z,{className:r.pageContainer,children:[(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsx)(E.Z,{classes:{screenTitle:r.screenTitle},icon:S,title:"_"===w?"Default":w,actions:(0,k.jsxs)(c.Fragment,{children:["_"!==w&&(0,k.jsx)(m.zx,{id:"delete-idp-config",onClick:function(){le(!0)},label:"Delete Configuration",icon:(0,k.jsx)(h.XHJ,{}),variant:"secondary"}),(0,k.jsx)(m.zx,{id:"refresh-idp-config",onClick:function(){return R(!0)},label:"Refresh",icon:(0,k.jsx)(h.DuK,{})})]})})}),(0,k.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault();for(var r="",n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];(M[o]||M[o]!==K[o])&&(r+="".concat(o,"=").concat(M[o]," "))}de("PUT","".concat(s).concat(w),{input:r}),ne(!1)}(e)},children:(0,k.jsx)(d.ZP,{container:!0,item:!0,spacing:"20",sx:{marginTop:1},children:(0,k.jsxs)(d.ZP,{xs:12,item:!0,className:r.fieldBox,children:[Object.entries(t).map((function(e){var t=(0,a.Z)(e,2),i=t[0],o=t[1];return(0,k.jsx)(d.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,k.jsx)(x.Z,{id:i,required:o.required,name:i,label:o.label,tooltip:o.tooltip,error:o.hasError(M[i],te),value:M[i]?M[i]:"",onChange:function(e){return H((0,l.Z)((0,l.Z)({},M),{},(0,n.Z)({},i,e.target.value)))},placeholder:o.placeholder,disabled:!te,type:o.type})},i)})),(0,k.jsx)(d.ZP,{item:!0,xs:12,textAlign:"right",children:(0,k.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginTop:"20px",gap:"15px"},children:[(0,k.jsx)(m.zx,{id:"edit",type:"button",variant:te?"regular":"callAction",onClick:function(){te&&me(Y),ne(!te)},label:te?"Cancel":"Edit"}),te&&(0,k.jsx)(m.zx,{id:"clear",type:"button",variant:"regular",onClick:function(){H({})},label:"Clear"}),te&&(0,k.jsx)(m.zx,{id:"save-key",type:"submit",variant:"callAction",color:"primary",disabled:I||ue||!function(){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=(0,a.Z)(r[e],2),i=n[0];if(n[1].required&&(void 0===M[i]||null===M[i]||""===M[i]))return!1}return!0}(),label:"Save"})]})})]})})})]})]})}))},62759:function(e,r,t){t.r(r);t(72791);var n=t(11135),i=t(25787),o=t(79979),a=t(50521),l=t(18476),c=t(56087),s=t(80184);r.default=(0,i.Z)((function(e){return(0,n.Z)({})}))((function(e){e.classes;return(0,s.jsx)(l.Z,{backLink:c.gA.IDP_LDAP_CONFIGURATIONS,header:"LDAP Configurations",endpoint:"/api/v1/idp/ldap/",idpType:"ldap",formFields:o.i,icon:(0,s.jsx)(a.Z,{width:40})})}))},79979:function(e,r,t){t.d(r,{D:function(){return n},i:function(){return i}});var n={config_url:{required:!0,hasError:function(e,r){return!e&&r?"Config URL is required":""},label:"Config URL",tooltip:"Config URL for identity provider configuration",placeholder:"https://identity-provider-url/.well-known/openid-configuration",type:"text"},client_id:{required:!0,hasError:function(e,r){return!e&&r?"Client ID is required":""},label:"Client ID",tooltip:"Identity provider Client ID",placeholder:"Enter Client ID",type:"text"},client_secret:{required:!0,hasError:function(e,r){return!e&&r?"Client Secret is required":""},label:"Client Secret",tooltip:"Identity provider Client Secret",placeholder:"Enter Client Secret",type:"password"},display_name:{required:!1,label:"Display Name",tooltip:"Display Name",placeholder:"Enter Display Name",type:"text",hasError:function(e,r){return""}},claim_name:{required:!1,label:"Claim Name",tooltip:"Claim from which MinIO will read the policy or role to use",placeholder:"Enter Claim Name",type:"text",hasError:function(e,r){return""}},claim_prefix:{required:!1,label:"Claim Prefix",tooltip:"Claim Prefix",placeholder:"Enter Claim Prefix",type:"text",hasError:function(e,r){return""}},scopes:{required:!1,label:"Scopes",tooltip:"Scopes",placeholder:"openid,profile,email",type:"text",hasError:function(e,r){return""}},redirect_uri:{required:!1,label:"Redirect URI",tooltip:"Redirect URI",placeholder:"https://console-endpoint-url/oauth_callback",type:"text",hasError:function(e,r){return""}},role_policy:{required:!1,label:"Role Policy",tooltip:"Role Policy",placeholder:"readonly",type:"text",hasError:function(e,r){return""}}},i={server_addr:{required:!0,hasError:function(e,r){return!e&&r?"Server Address is required":""},label:"Server Address",tooltip:'AD/LDAP server address e.g. "myldapserver.com:636"',placeholder:"myldapserver.com:636",type:"text"},lookup_bind_dn:{required:!0,hasError:function(e,r){return!e&&r?"Lookup Bind DN is required":""},label:"Lookup Bind DN",tooltip:"DN for LDAP read-only service account used to perform DN and group lookups",placeholder:"cn=admin,dc=min,dc=io",type:"text"},lookup_bind_password:{required:!0,hasError:function(e,r){return!e&&r?"Lookup Bind Password is required":""},label:"Lookup Bind Password",tooltip:"Password for LDAP read-only service account used to perform DN and group lookups",placeholder:"admin",type:"password"},user_dn_search_base_dn:{required:!0,hasError:function(e,r){return!e&&r?"User DN Search Base DN is required":""},label:"User DN Search Base",tooltip:"Base LDAP DN to search for user DN",placeholder:"DC=example,DC=net",type:"text"},user_dn_search_filter:{required:!0,hasError:function(e,r){return!e&&r?"User DN Search Filter is required":""},label:"User DN Search Filter",tooltip:"Search filter to lookup user DN",placeholder:"(sAMAcountName=%s)",type:"text"},display_name:{required:!1,label:"Display Name",tooltip:"Display Name",placeholder:"Enter Display Name",type:"text",hasError:function(e,r){return""}},group_search_base_dn:{required:!1,hasError:function(e,r){return""},label:"Group Search Base DN",tooltip:"Group Search Base DN",placeholder:"ou=swengg,dc=min,dc=io",type:"text"},group_search_filter:{required:!1,hasError:function(e,r){return""},label:"Group Search Filter",tooltip:"Group Search Filter",placeholder:"(&(objectclass=groupofnames)(member=%d))",type:"text"}}},50521:function(e,r,t){var n=t(64836);r.Z=void 0;var i=n(t(45649)),o=t(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}),"Login");r.Z=a}}]);
//# sourceMappingURL=2759.3ab5d8ec.chunk.js.map