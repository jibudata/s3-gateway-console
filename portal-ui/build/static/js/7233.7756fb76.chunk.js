"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7233],{33690:function(e,l,i){i.r(l);var n=i(29439),t=i(1413),a=i(72791),o=i(29945),s=i(11135),c=i(25787),r=i(61889),d=i(23814),u=i(81207),f=i(56028),p=i(90673),x=i(92217),m=i(87995),h=i(81551),b=i(19859),Z=i(80184);(0,s.Z)((0,t.Z)((0,t.Z)({},d.ID),d.bK));l.default=(0,c.Z)((function(e){return(0,s.Z)((0,t.Z)((0,t.Z)((0,t.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},d.DF),d.ID),d.bK))}))((function(e){var l=e.classes,i=e.open,t=e.bucketName,s=e.actualPolicy,c=e.actualDefinition,d=e.closeModalAndRefresh,v=(0,h.TL)(),j=(0,a.useState)(!1),C=(0,n.Z)(j,2),g=C[0],P=C[1],y=(0,a.useState)(""),S=(0,n.Z)(y,2),k=S[0],N=S[1],B=(0,a.useState)(b.L),I=(0,n.Z)(B,2),T=I[0],w=I[1];return(0,a.useEffect)((function(){N(s),w(c?JSON.stringify(JSON.parse(c),null,4):b.L)}),[N,s,w,c]),(0,Z.jsx)(f.Z,{title:"Change Access Policy",modalOpen:i,onClose:function(){d()},titleIcon:(0,Z.jsx)(o.QXQ,{}),children:(0,Z.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g||(P(!0),u.Z.invoke("PUT","/api/v1/buckets/".concat(t,"/set-policy"),{access:k,definition:T}).then((function(e){P(!1),d()})).catch((function(e){P(!1),v((0,m.zb)(e))})))},children:(0,Z.jsxs)(r.ZP,{container:!0,children:[(0,Z.jsxs)(r.ZP,{item:!0,xs:12,className:l.modalFormScrollable,children:[(0,Z.jsx)(r.ZP,{item:!0,xs:12,className:l.formFieldRow,children:(0,Z.jsx)(p.Z,{value:k,label:"Access Policy",id:"select-access-policy",name:"select-access-policy",onChange:function(e){N(e.target.value)},options:[{value:"PRIVATE",label:"Private"},{value:"PUBLIC",label:"Public"},{value:"CUSTOM",label:"Custom"}]})}),"PUBLIC"===k&&(0,Z.jsx)("div",{style:{marginTop:"25px",fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:"* Warning: With Public access anyone will be able to upload, download and delete files from this Bucket *"}),"CUSTOM"===k&&(0,Z.jsx)(r.ZP,{item:!0,xs:12,className:l.codeMirrorContainer,children:(0,Z.jsx)(x.Z,{label:"Write Policy",value:T,onBeforeChange:function(e,l,i){w(i)},editorHeight:"350px"})})]}),(0,Z.jsxs)(r.ZP,{item:!0,xs:12,className:l.modalButtonBar,children:[(0,Z.jsx)(o.zxk,{id:"cancel",type:"button",variant:"regular",onClick:function(){d()},disabled:g,label:"Cancel"}),(0,Z.jsx)(o.zxk,{id:"set",type:"submit",variant:"callAction",disabled:g||"CUSTOM"===k&&!T,label:"Set"})]})]})})})}))},90673:function(e,l,i){var n=i(1413),t=i(72791),a=i(61889),o=i(76098),s=i(30829),c=i(20068),r=i(68096),d=i(58406),u=i(77865),f=i(11135),p=i(25787),x=i(23814),m=i(29945),h=i(80184),b=(0,p.Z)((function(e){return(0,f.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(o.ZP);l.Z=(0,p.Z)((function(e){return(0,f.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},x.YI),x.Hr),{},{fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var l=e.classes,i=e.id,n=e.name,o=e.onChange,f=e.options,p=e.label,x=e.tooltip,Z=void 0===x?"":x,v=e.value,j=e.disabled,C=void 0!==j&&j;return(0,h.jsx)(t.Fragment,{children:(0,h.jsxs)(a.ZP,{item:!0,xs:12,className:l.fieldContainer,children:[""!==p&&(0,h.jsxs)(s.Z,{htmlFor:i,className:l.inputLabel,children:[(0,h.jsx)("span",{children:p}),""!==Z&&(0,h.jsx)("div",{className:l.tooltipContainer,children:(0,h.jsx)(c.Z,{title:Z,placement:"top-start",children:(0,h.jsx)("div",{className:l.tooltip,children:(0,h.jsx)(m.byK,{})})})})]}),(0,h.jsx)(r.Z,{fullWidth:!0,children:(0,h.jsx)(d.Z,{id:i,name:n,value:v,onChange:o,input:(0,h.jsx)(b,{}),disabled:C,children:f.map((function(e){return(0,h.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(n,"-").concat(e.label))}))})})]})})}))}}]);
//# sourceMappingURL=7233.7756fb76.chunk.js.map