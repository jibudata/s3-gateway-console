(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[483],{70483:function(e,t,n){"use strict";n.r(t);var o=n(93433),i=n(29439),l=n(1413),c=n(72791),r=n(95087),a=n(75952),s=n(11135),u=n(25787),f=n(61889),b=n(34866),d=n(26824),p=n(23814),h=n(57689),m=n(31460),x=n(9478),g=n(47974),w=n(80184),v=null;t.default=(0,u.Z)((function(e){return(0,s.Z)((0,l.Z)((0,l.Z)({buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:24,"& button":{marginLeft:8}},dropdown:{marginBottom:24},checkboxLabel:{marginTop:12,marginRight:4,fontSize:16,fontWeight:500},checkboxDisabled:{opacity:.5},inlineCheckboxes:(0,l.Z)((0,l.Z)({},p.IX.inlineCheckboxes),{},{alignItems:"center","@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start"}})},p.OR),p.Bz))}))((function(e){var t=e.classes,n=(0,h.s0)(),l=(0,c.useState)(!1),s=(0,i.Z)(l,2),u=s[0],p=s[1],k=(0,c.useState)(["cpu","mem","block","mutex","goroutines"]),y=(0,i.Z)(k,2),j=y[0],C=y[1],Z=(0,x.Yc)(),_=function(e){var t=[];t=j.indexOf(e.target.value)>-1?j.filter((function(t){return t!==e.target.value})):[].concat((0,o.Z)(j),[e.target.value]),C(t)};return(0,w.jsxs)(c.Fragment,{children:[(0,w.jsx)(g.Z,{label:"Profile"}),(0,w.jsxs)(a.Xgh,{children:[!Z&&(0,w.jsx)(m.Z,{compactMode:!0}),(0,w.jsxs)(f.ZP,{item:!0,xs:12,className:t.boxy,children:[(0,w.jsx)(f.ZP,{item:!0,xs:12,className:t.dropdown,children:(0,w.jsxs)(f.ZP,{item:!0,xs:12,className:"".concat(t.inlineCheckboxes," ").concat(u&&t.checkboxDisabled),children:[(0,w.jsx)("div",{className:t.checkboxLabel,children:"Types to profile:"}),[{label:"cpu",value:"cpu"},{label:"mem",value:"mem"},{label:"block",value:"block"},{label:"mutex",value:"mutex"},{label:"goroutines",value:"goroutines"}].map((function(e){return(0,w.jsx)(b.Z,{checked:j.indexOf(e.value)>-1,disabled:u,id:"checkbox-".concat(e.label),label:e.label,name:"checkbox-".concat(e.label),onChange:_,value:e.value},"checkbox-".concat(e.label))}))]})}),(0,w.jsxs)(f.ZP,{item:!0,xs:12,className:t.buttonContainer,children:[(0,w.jsx)(a.zxk,{id:"start-profiling",type:"submit",variant:Z?"callAction":"regular",disabled:u||j.length<1,onClick:function(){Z?function(){var e=j.join(","),t=new URL(window.location.toString()),n=t.port,o=new URL(document.baseURI).pathname,i=(0,d.x2)(t.protocol);if(null!==(v=new r.w3cwebsocket("".concat(i,"://").concat(t.hostname,":").concat(n).concat(o,"ws/profile?types=").concat(e))))v.onopen=function(){p(!0),v.send("ok")},v.onmessage=function(e){var t=new Blob([e.data],{type:"application/zip"});p(!1);var n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.download="profile.zip",document.body.appendChild(n),n.click(),document.body.removeChild(n)},v.onclose=function(){console.log("connection closed by server"),p(!1)}}():n("/support/register")},label:"Start Profiling"}),(0,w.jsx)(a.zxk,{id:"stop-profiling",type:"submit",variant:"callAction",color:"primary",disabled:!u,onClick:function(){v.close(1e3),p(!1)},label:"Stop Profiling"})]})]})]})]})}))},26824:function(e,t,n){"use strict";n.d(t,{HE:function(){return l},V9:function(){return o},ci:function(){return i},x2:function(){return c}});var o=1006,i=1008,l=1011,c=function(e){var t="ws";return"https:"===e&&(t="wss"),t}},94210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},95087:function(e,t,n){var o;if("object"===typeof globalThis)o=globalThis;else try{o=n(94210)}catch(r){}finally{if(o||"undefined"===typeof window||(o=window),!o)throw new Error("Could not determine global this")}var i=o.WebSocket||o.MozWebSocket,l=n(51496);function c(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(c,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?c:null,version:l}},51496:function(e,t,n){e.exports=n(19794).version},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=483.45d7c8e9.chunk.js.map