"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6895],{66895:function(e,t,n){n.r(t);var i=n(29439),s=n(1413),c=n(72791),a=n(57689),l=n(29945),o=n(78687),r=n(11135),u=n(25787),d=n(23814),f=n(56087),b=n(38442),_=n(75578),T=n(87995),h=n(9859),x=n(81551),C=n(27454),I=n(47974),j=n(31776),F=n(82342),S=n(99670),m=n(80184),E=(0,_.Z)(c.lazy((function(){return n.e(9968).then(n.bind(n,39968))}))),p=(0,_.Z)(c.lazy((function(){return n.e(7494).then(n.bind(n,47494))}))),O=(0,_.Z)(c.lazy((function(){return n.e(4738).then(n.bind(n,84738))}))),k=(0,_.Z)(c.lazy((function(){return n.e(3989).then(n.bind(n,93989))}))),A=(0,_.Z)(c.lazy((function(){return n.e(5702).then(n.bind(n,25702))}))),N=(0,_.Z)(c.lazy((function(){return n.e(5759).then(n.bind(n,85759))}))),y=(0,_.Z)(c.lazy((function(){return Promise.all([n.e(5473),n.e(1715),n.e(3203),n.e(51)]).then(n.bind(n,51))})));t.default=(0,u.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)({pageContainer:{height:"100%"}},d.qg),{},{capitalize:{textTransform:"capitalize"}},d.Bz))}))((function(e){var t,n=e.classes,s=(0,x.TL)(),r=(0,a.s0)(),u=(0,a.UO)(),d=(0,a.TH)(),_=(0,o.v9)(T.N5),g=(0,o.v9)(h.HQ),v=(0,o.v9)(h.G6),U=(0,o.v9)(T.gw),Z=(0,c.useState)(!1),B=(0,i.Z)(Z,2),L=B[0],z=B[1],G=(0,c.useState)(!1),P=(0,i.Z)(G,2),R=P[0],w=P[1],K=u.bucketName||"",D=(0,b.F)(K,f.o3),W=(0,b.F)(K,f.B);(0,c.useEffect)((function(){s((0,T.Sc)("bucket_details"))}),[]),(0,c.useEffect)((function(){L||(s((0,h.d5)(!0)),z(!0))}),[L,s,z]),(0,c.useEffect)((function(){g&&j.h.buckets.bucketInfo(K).then((function(e){s((0,h.d5)(!1)),s((0,h.f4)(e.data))})).catch((function(e){s((0,h.d5)(!1)),s((0,T.Ih)((0,F.g)(e)))}))}),[K,g,s]);var M="/buckets/".concat(K),Y={events:"/admin/events",replication:"/admin/replication",lifecycle:"/admin/lifecycle",access:"/admin/access",prefix:"/admin/prefix"},H=function(e){var t=Y[e];return t=t?"".concat(M).concat(t):"".concat(M).concat("/admin/summary")};return(0,m.jsxs)(c.Fragment,{children:[R&&(0,m.jsx)(E,{deleteOpen:R,selectedBucket:K,closeDeleteModalAndRefresh:function(e){!function(e){w(!1),e&&r("/buckets")}(e)}}),(0,m.jsx)(I.Z,{label:(0,m.jsx)(l.hbI,{label:"Buckets",onClick:function(){return r("/buckets")}}),actions:(0,m.jsxs)(c.Fragment,{children:[(0,m.jsx)(C.Z,{tooltip:W?"Browse Bucket":(0,f.MK)(f.D[f.EI.BUCKET_VIEWER],"browsing this bucket"),children:(0,m.jsx)(l.zxk,{id:"switch-browse-view","aria-label":"Browse Bucket",onClick:function(){r("/browser/".concat(K))},icon:(0,m.jsx)(l.ROc,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"},disabled:!W})}),(0,m.jsx)(S.Z,{})]})}),(0,m.jsxs)(l.Xgh,{children:[(0,m.jsx)(l.UHn,{icon:(0,m.jsx)(c.Fragment,{children:(0,m.jsx)(l.wNb,{width:40})}),title:K,subTitle:(0,m.jsxs)(b.s,{scopes:[f.Ft.S3_GET_BUCKET_POLICY,f.Ft.S3_GET_ACTIONS],resource:K,children:[(0,m.jsx)("span",{style:{fontSize:15},children:"Access: "}),(0,m.jsx)("span",{className:n.capitalize,style:{fontWeight:600,fontSize:15},children:null===v||void 0===v||null===(t=v.access)||void 0===t?void 0:t.toLowerCase()})]}),actions:(0,m.jsxs)(c.Fragment,{children:[(0,m.jsx)(b.s,{scopes:f.o3,resource:K,errorProps:{disabled:!0},children:(0,m.jsx)(C.Z,{tooltip:D?"":(0,f.MK)([f.Ft.S3_DELETE_BUCKET,f.Ft.S3_FORCE_DELETE_BUCKET],"deleting this bucket"),children:(0,m.jsx)(l.zxk,{id:"delete-bucket-button",onClick:function(){w(!0)},label:"Delete Bucket",icon:(0,m.jsx)(l.XHJ,{}),variant:"secondary",disabled:!D})})}),(0,m.jsx)(l.zxk,{id:"refresh-bucket-info",onClick:function(){s((0,h.d5)(!0))},label:"Refresh",icon:(0,m.jsx)(l.DuK,{})})]}),sx:{marginBottom:15}}),(0,m.jsx)(l.xuv,{children:(0,m.jsx)(l.mQc,{currentTabOrPath:d.pathname,useRouteTabs:!0,onTabClick:function(e){r(e)},options:[{tabConfig:{label:"Summary",id:"summary",to:H("summary")}},{tabConfig:{label:"Events",id:"events",disabled:!(0,b.F)(K,[f.Ft.S3_GET_BUCKET_NOTIFICATIONS,f.Ft.S3_PUT_BUCKET_NOTIFICATIONS,f.Ft.S3_GET_ACTIONS,f.Ft.S3_PUT_ACTIONS]),to:H("events")}},{tabConfig:{label:"Replication",id:"replication",disabled:!_||U.enabled&&U.curSite||!(0,b.F)(K,[f.Ft.S3_GET_REPLICATION_CONFIGURATION,f.Ft.S3_PUT_REPLICATION_CONFIGURATION,f.Ft.S3_GET_ACTIONS,f.Ft.S3_PUT_ACTIONS]),to:H("replication")}},{tabConfig:{label:"Lifecycle",id:"lifecycle",disabled:!_||!(0,b.F)(K,[f.Ft.S3_GET_LIFECYCLE_CONFIGURATION,f.Ft.S3_PUT_LIFECYCLE_CONFIGURATION,f.Ft.S3_GET_ACTIONS,f.Ft.S3_PUT_ACTIONS]),to:H("lifecycle")}},{tabConfig:{label:"Access",id:"access",disabled:!(0,b.F)(K,[f.Ft.ADMIN_GET_POLICY,f.Ft.ADMIN_LIST_USER_POLICIES,f.Ft.ADMIN_LIST_USERS]),to:H("access")}},{tabConfig:{label:"Anonymous",id:"anonymous",disabled:!(0,b.F)(K,[f.Ft.S3_GET_BUCKET_POLICY,f.Ft.S3_GET_ACTIONS]),to:H("prefix")}}],routes:(0,m.jsxs)(a.Z5,{children:[(0,m.jsx)(a.AW,{path:"summary",element:(0,m.jsx)(k,{})}),(0,m.jsx)(a.AW,{path:"events",element:(0,m.jsx)(A,{})}),_&&(0,m.jsx)(a.AW,{path:"replication",element:(0,m.jsx)(N,{})}),_&&(0,m.jsx)(a.AW,{path:"lifecycle",element:(0,m.jsx)(y,{})}),(0,m.jsx)(a.AW,{path:"access",element:(0,m.jsx)(O,{})}),(0,m.jsx)(a.AW,{path:"prefix",element:(0,m.jsx)(p,{})}),(0,m.jsx)(a.AW,{path:"*",element:(0,m.jsx)(a.Fg,{to:"/buckets/".concat(K,"/admin/summary")})})]})})})]})]})}))},75578:function(e,t,n){var i=n(1413),s=n(72791),c=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return(0,c.jsx)(s.Suspense,{fallback:t,children:(0,c.jsx)(e,(0,i.Z)({},n))})}}}}]);
//# sourceMappingURL=6895.26443f5f.chunk.js.map