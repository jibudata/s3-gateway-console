"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7233],{33690:function(e,t,a){a.r(t);var n=a(29439),i=a(1413),o=a(72791),r=a(29945),l=a(11135),s=a(25787),c=a(61889),d=a(23814),u=a(81207),p=a(56028),m=a(90673),f=a(92217),v=a(87995),x=a(81551),b=a(19859),h=a(80184);(0,l.Z)((0,i.Z)((0,i.Z)({},d.ID),d.bK));t.default=(0,s.Z)((function(e){return(0,l.Z)((0,i.Z)((0,i.Z)((0,i.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},d.DF),d.ID),d.bK))}))((function(e){var t=e.classes,a=e.open,i=e.bucketName,l=e.actualPolicy,s=e.actualDefinition,d=e.closeModalAndRefresh,g=(0,x.TL)(),Z=(0,o.useState)(!1),y=(0,n.Z)(Z,2),C=y[0],j=y[1],k=(0,o.useState)(""),P=(0,n.Z)(k,2),S=P[0],w=P[1],O=(0,o.useState)(b.L),I=(0,n.Z)(O,2),M=I[0],N=I[1];return(0,o.useEffect)((function(){w(l),N(s?JSON.stringify(JSON.parse(s),null,4):b.L)}),[w,l,N,s]),(0,h.jsx)(p.Z,{title:"Change Access Policy",modalOpen:a,onClose:function(){d()},titleIcon:(0,h.jsx)(r.QXQ,{}),children:(0,h.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),C||(j(!0),u.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/set-policy"),{access:S,definition:M}).then((function(e){j(!1),d()})).catch((function(e){j(!1),g((0,v.zb)(e))})))},children:(0,h.jsxs)(c.ZP,{container:!0,children:[(0,h.jsxs)(c.ZP,{item:!0,xs:12,className:t.modalFormScrollable,children:[(0,h.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,h.jsx)(m.Z,{value:S,label:"Access Policy",id:"select-access-policy",name:"select-access-policy",onChange:function(e){w(e.target.value)},options:[{value:"PRIVATE",label:"Private"},{value:"PUBLIC",label:"Public"},{value:"CUSTOM",label:"Custom"}]})}),"PUBLIC"===S&&(0,h.jsx)("div",{style:{marginTop:"25px",fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:"* Warning: With Public access anyone will be able to upload, download and delete files from this Bucket *"}),"CUSTOM"===S&&(0,h.jsx)(c.ZP,{item:!0,xs:12,className:t.codeMirrorContainer,children:(0,h.jsx)(f.Z,{label:"Write Policy",value:M,onBeforeChange:function(e,t,a){N(a)},editorHeight:"350px"})})]}),(0,h.jsxs)(c.ZP,{item:!0,xs:12,className:t.modalButtonBar,children:[(0,h.jsx)(r.zxk,{id:"cancel",type:"button",variant:"regular",onClick:function(){d()},disabled:C,label:"Cancel"}),(0,h.jsx)(r.zxk,{id:"set",type:"submit",variant:"callAction",disabled:C||"CUSTOM"===S&&!M,label:"Set"})]})]})})})}))},92217:function(e,t,a){var n=a(1413),i=a(72791),o=a(61889),r=a(30829),l=a(20068),s=a(64554),c=a(11135),d=a(25787),u=a(29945),p=a(23814),m=a(78029),f=a.n(m),v=a(9534),x=a(27454),b=a(80184);t.Z=(0,d.Z)((function(e){return(0,c.Z)((0,n.Z)({},p.YI))}))((function(e){var t=e.value,a=e.label,n=void 0===a?"":a,c=e.tooltip,d=void 0===c?"":c,p=e.mode,m=void 0===p?"json":p,h=e.classes,g=e.onBeforeChange,Z=(e.readOnly,e.editorHeight),y=void 0===Z?"250px":Z;return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(o.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,b.jsxs)(r.Z,{className:h.inputLabel,children:[(0,b.jsx)("span",{children:n}),""!==d&&(0,b.jsx)("div",{className:h.tooltipContainer,children:(0,b.jsx)(l.Z,{title:d,placement:"top-start",children:(0,b.jsx)("div",{className:h.tooltip,children:(0,b.jsx)(u.byK,{})})})})]})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,style:{maxHeight:y,overflow:"auto",border:"1px solid #eaeaea"},children:(0,b.jsx)(v.Z,{value:t,language:m,onChange:function(e){g(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:y||"initial",color:"#000000"}})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,b.jsx)(s.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,b.jsx)(x.Z,{tooltip:"Copy to Clipboard",children:(0,b.jsx)(f(),{text:t,children:(0,b.jsx)(u.zxk,{type:"button",id:"copy-code-mirror",icon:(0,b.jsx)(u.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},90673:function(e,t,a){var n=a(1413),i=a(72791),o=a(61889),r=a(76098),l=a(30829),s=a(20068),c=a(68096),d=a(58406),u=a(77865),p=a(11135),m=a(25787),f=a(23814),v=a(29945),x=a(80184),b=(0,m.Z)((function(e){return(0,p.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(r.ZP);t.Z=(0,m.Z)((function(e){return(0,p.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},f.YI),f.Hr),{},{fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var t=e.classes,a=e.id,n=e.name,r=e.onChange,p=e.options,m=e.label,f=e.tooltip,h=void 0===f?"":f,g=e.value,Z=e.disabled,y=void 0!==Z&&Z;return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(o.ZP,{item:!0,xs:12,className:t.fieldContainer,children:[""!==m&&(0,x.jsxs)(l.Z,{htmlFor:a,className:t.inputLabel,children:[(0,x.jsx)("span",{children:m}),""!==h&&(0,x.jsx)("div",{className:t.tooltipContainer,children:(0,x.jsx)(s.Z,{title:h,placement:"top-start",children:(0,x.jsx)("div",{className:t.tooltip,children:(0,x.jsx)(v.byK,{})})})})]}),(0,x.jsx)(c.Z,{fullWidth:!0,children:(0,x.jsx)(d.Z,{id:a,name:n,value:g,onChange:r,input:(0,x.jsx)(b,{}),disabled:y,children:p.map((function(e){return(0,x.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(n,"-").concat(e.label))}))})})]})})}))},19859:function(e,t,a){a.d(t,{L:function(){return n}});var n='{\n    "Version": "2012-10-17",\n    "Statement": [\n        \n    ]\n}'},77865:function(e,t,a){a.d(t,{Z:function(){return S}});var n=a(4942),i=a(63366),o=a(87462),r=a(72791),l=a(28182),s=a(94419),c=a(12065),d=a(66934),u=a(31402),p=a(66199),m=a(95080),f=a(40162),v=a(42071),x=a(75878);var b=(0,x.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),h=a(96014),g=a(29849),Z=a(21217);function y(e){return(0,Z.Z)("MuiMenuItem",e)}var C=(0,x.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),j=a(80184),k=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],P=(0,d.ZP)(m.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((function(e){var t,a=e.theme,i=e.ownerState;return(0,o.Z)({},a.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat((a.vars||a).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,n.Z)(t,"&.".concat(C.selected),(0,n.Z)({backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)},"&.".concat(C.focusVisible),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)})),(0,n.Z)(t,"&.".concat(C.selected,":hover"),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}}),(0,n.Z)(t,"&.".concat(C.focusVisible),{backgroundColor:(a.vars||a).palette.action.focus}),(0,n.Z)(t,"&.".concat(C.disabled),{opacity:(a.vars||a).palette.action.disabledOpacity}),(0,n.Z)(t,"& + .".concat(b.root),{marginTop:a.spacing(1),marginBottom:a.spacing(1)}),(0,n.Z)(t,"& + .".concat(b.inset),{marginLeft:52}),(0,n.Z)(t,"& .".concat(g.Z.root),{marginTop:0,marginBottom:0}),(0,n.Z)(t,"& .".concat(g.Z.inset),{paddingLeft:36}),(0,n.Z)(t,"& .".concat(h.Z.root),{minWidth:36}),t),!i.dense&&(0,n.Z)({},a.breakpoints.up("sm"),{minHeight:"auto"}),i.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},a.typography.body2,(0,n.Z)({},"& .".concat(h.Z.root," svg"),{fontSize:"1.25rem"})))})),S=r.forwardRef((function(e,t){var a=(0,u.Z)({props:e,name:"MuiMenuItem"}),n=a.autoFocus,c=void 0!==n&&n,d=a.component,m=void 0===d?"li":d,x=a.dense,b=void 0!==x&&x,h=a.divider,g=void 0!==h&&h,Z=a.disableGutters,C=void 0!==Z&&Z,S=a.focusVisibleClassName,w=a.role,O=void 0===w?"menuitem":w,I=a.tabIndex,M=a.className,N=(0,i.Z)(a,k),F=r.useContext(p.Z),B=r.useMemo((function(){return{dense:b||F.dense||!1,disableGutters:C}}),[F.dense,b,C]),L=r.useRef(null);(0,f.Z)((function(){c&&L.current&&L.current.focus()}),[c]);var T,R=(0,o.Z)({},a,{dense:B.dense,divider:g,disableGutters:C}),V=function(e){var t=e.disabled,a=e.dense,n=e.divider,i=e.disableGutters,r=e.selected,l=e.classes,c={root:["root",a&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",r&&"selected"]},d=(0,s.Z)(c,y,l);return(0,o.Z)({},l,d)}(a),z=(0,v.Z)(L,t);return a.disabled||(T=void 0!==I?I:-1),(0,j.jsx)(p.Z.Provider,{value:B,children:(0,j.jsx)(P,(0,o.Z)({ref:z,role:O,tabIndex:T,component:m,focusVisibleClassName:(0,l.Z)(V.focusVisible,S),className:(0,l.Z)(V.root,M)},N,{ownerState:R,classes:V}))})}))}}]);
//# sourceMappingURL=7233.27f033e9.chunk.js.map