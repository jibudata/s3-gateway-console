"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8045],{68045:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var a=n(4942),i=n(93433),r=n(29439),s=n(72791),o=n(57689),c=n(29945),l=n(23814),u=n(38442),d=n(56087),h=n(87995),x=n(81551),g=n(78687),m=n(46078),p=n(54756),f=n(47974),b=n(31776),j=n(82342),v=n(99670),k=n(73996),C=n(27454),Z=n(81806),S=n(59114),y=n(66514),_=n(1413),w=n(11135),E=n(25787),T=n(26181),B=n.n(T),N=n(15146),F=n(98946),z=n(56028),L=n(80184),R=(0,E.Z)((function(e){return(0,w.Z)({wizardStepContainer:{display:"flex",flexDirection:"column",flex:1},wizardComponent:{overflowY:"auto",marginBottom:10,height:"calc(100vh - 100px - 80px)",minHeight:400,flex:1,width:"100%"},wizardModal:{overflowY:"auto",marginBottom:10,height:"calc(100vh - 515px)"},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",padding:"10px 0",borderTop:"#EAEAEA 1px solid","& button":{marginLeft:10},"&.forModal":{paddingBottom:0}},buttonInnerContainer:{width:"100%",display:"flex",justifyContent:"flex-end",marginRight:15}})}))((function(e){var t=e.classes,n=e.page,a=e.pageChange,i=e.loadingStep,r=e.forModal;return(0,L.jsxs)("div",{className:t.wizardStepContainer,children:[(0,L.jsx)("div",{className:r?t.wizardModal:t.wizardComponent,children:n.componentRender}),i&&(0,L.jsx)("div",{children:(0,L.jsx)(c.kod,{})}),(0,L.jsx)("div",{className:"".concat(t.buttonsContainer," ").concat(r?"forModal":""),children:(0,L.jsx)("div",{className:t.buttonInnerContainer,children:n.buttons.map((function(e){return e.componentRender?e.componentRender:(0,L.jsx)(c.zxk,{id:"wizard-button-"+e.label,variant:"regular",onClick:function(){!function(e){switch(e.type){case"next":a("++");break;case"back":a("--");break;case"to":a(e.toPage||0)}e.action&&e.action(a)}(e)},disabled:!e.enabled,label:e.label},"button-".concat(n.label,"-").concat(e.label))}))})})]})})),I=n(90493),M=n(61889),A=n(15021),K=n(49900),P=(0,E.Z)((function(e){return(0,w.Z)({wizFromContainer:{},wizFromModal:{position:"relative"},modalWizardSteps:{padding:5,borderBottom:"#eaeaea 1px solid","& ul":{padding:0,marginTop:0,display:"flex",justifyContent:"space-evenly","& li":{listStyle:"lower-roman","&::marker":{paddingLeft:15}}}},buttonList:{backgroundColor:"transparent",border:"none",cursor:"pointer","&:not(:disabled):hover":{textDecoration:"underline"},"&:selected, &:active, &:focus, &:focus:active":{border:"none",outline:0,boxShadow:"none"}},paddedContentGrid:{marginTop:8,padding:"0 10px",minHeight:400},stepsLabel:{fontSize:20,color:"#393939",fontWeight:600,margin:"15px 12px","&.stepsModalTitle":{textAlign:"center",width:"100%",marginTop:0,marginBottom:10}},stepsMasterContainer:{position:"sticky",top:0,backgroundColor:"#FFFFFF",width:"100%",maxHeight:90},verticalSteps:{borderRight:"1px solid #E5E5E5",background:"#F8F8F8"},stepsContainer:{paddingTop:0,"& .MuiButtonBase-root.Mui-selected":{background:"#E5E5E5"}},stepItem:{minHeight:60,borderBottom:"1px solid #E5E5E5","&:hover":{background:"rgba(247,247,247,0.7)"}}})}))((function(e){var t=e.classes,n=e.wizardSteps,a=e.loadingStep,i=e.forModal,o=(0,s.useState)(0),c=(0,r.Z)(o,2),l=c[0],u=c[1],d=function(e){var t=n.length-1;if("++"===e){var a=l+1;a>t&&(a=t),u(a)}if("--"===e){var i=l-1;i<0&&(i=0),u(i)}if("number"===typeof e){var r=e;e<0&&(r=0),e>t&&(r=t),u(r)}};if(0===n.length)return null;return(0,L.jsxs)(M.ZP,{container:!0,className:i?t.wizFromModal:t.wizFromContainer,children:[i?(0,L.jsx)(s.Fragment,{children:(0,L.jsxs)("div",{className:t.stepsMasterContainer,children:[(0,L.jsx)("div",{className:"".concat(t.stepsLabel," stepsModalTitle"),children:"Steps"}),(0,L.jsx)("div",{className:t.modalWizardSteps,children:(0,L.jsx)("ul",{children:n.map((function(e,n){return(0,L.jsx)("li",{children:(0,L.jsx)("button",{onClick:function(){return d(n)},disabled:n>l,className:t.buttonList,children:e.label})},"wizard-".concat(n.toString()))}))})})]})}):(0,L.jsx)(s.Fragment,{children:(0,L.jsx)(M.ZP,{item:!0,xs:12,sm:2,md:2,lg:2,xl:2,className:t.verticalSteps,children:(0,L.jsx)(s.Fragment,{children:(0,L.jsx)(I.Z,{component:"nav",dense:!0,classes:{root:t.stepsContainer},children:n.map((function(e,n){return(0,L.jsx)(A.ZP,{id:"wizard-step-"+e.label.toLowerCase().replaceAll(" ","-"),button:!0,disableRipple:!0,onClick:function(){return d(n)},selected:l===n,classes:{root:t.stepItem},children:(0,L.jsx)(K.Z,{primary:e.label})},"wizard-".concat(n.toString()))}))})})})}),(0,L.jsx)(M.ZP,{item:!0,xs:12,sm:i?12:10,md:i?12:10,lg:i?12:10,xl:i?12:10,className:i?"":t.paddedContentGrid,children:(0,L.jsx)(R,{page:n[l],pageChange:d,loadingStep:a,forModal:i})})]})})),D=n(17420),U=(0,E.Z)((function(e){return(0,w.Z)((0,_.Z)((0,_.Z)((0,_.Z)((0,_.Z)({resultGrid:{display:"grid",gridTemplateColumns:"45px auto",alignItems:"center",justifyContent:"stretch"},errorIcon:{paddingTop:5,color:"#C72C48"},successIcon:{paddingTop:5,color:"#42C91A"}},l.bK),l.ID),l.DF),l.QV))}))((function(e){var t,n=e.open,a=e.closeModalAndRefresh,i=e.classes,o=e.buckets,l=(0,x.TL)(),u=(0,s.useState)(!1),d=(0,r.Z)(u,2),g=d[0],m=d[1],p=(0,s.useState)(!0),f=(0,r.Z)(p,2),v=f[0],k=f[1],C=(0,s.useState)([]),Z=(0,r.Z)(C,2),S=Z[0],y=Z[1],w=(0,s.useState)(""),E=(0,r.Z)(w,2),T=E[0],R=E[1],I=(0,s.useState)(""),M=(0,r.Z)(I,2),A=M[0],K=M[1],U=(0,s.useState)(""),W=(0,r.Z)(U,2),O=W[0],q=W[1],Y=(0,s.useState)(""),H=(0,r.Z)(Y,2),V=H[0],G=H[1],Q=(0,s.useState)(!1),X=(0,r.Z)(Q,2),J=X[0],$=X[1],ee=(0,s.useState)("0"),te=(0,r.Z)(ee,2),ne=te[0],ae=te[1],ie=(0,s.useState)("0"),re=(0,r.Z)(ie,2),se=re[0],oe=re[1],ce=(0,s.useState)("expiry"),le=(0,r.Z)(ce,2),ue=le[0],de=le[1],he=(0,s.useState)("0"),xe=(0,r.Z)(he,2),ge=xe[0],me=xe[1],pe=(0,s.useState)("0"),fe=(0,r.Z)(pe,2),be=fe[0],je=fe[1],ve=(0,s.useState)(!1),ke=(0,r.Z)(ve,2),Ce=ke[0],Ze=ke[1],Se=(0,s.useState)(null),ye=(0,r.Z)(Se,2),_e=ye[0],we=ye[1];(0,s.useEffect)((function(){v&&b.h.admin.tiersList().then((function(e){var t=B()(e.data,"items",[]);if(null!==t&&t.length>=1){var n=t.map((function(e){var t=e.type,n=B()(e,"".concat(t,".name"),"");return{label:n,value:n}}));y(n),n.length>0&&q(n[0].value)}k(!1)})).catch((function(e){k(!1),l((0,h.zb)((0,j.g)(e.error)))}))}),[v,l]),(0,s.useEffect)((function(){var e=!0;"expiry"!==ue&&""===O&&(e=!1),Ze(e)}),[ue,ge,be,O]);var Ee=function(e){var t=e.errString;switch(t){case"":return(0,L.jsx)("div",{className:i.successIcon,children:(0,L.jsx)(F.Z,{})});case"n/a":return null;default:if(t)return(0,L.jsx)("div",{className:i.errorIcon,children:(0,L.jsx)(c.ua7,{tooltip:t,placement:"top",children:(0,L.jsx)(N.Z,{})})})}return null};return(0,L.jsx)(z.Z,{modalOpen:n,onClose:function(){a(!1)},title:"Set Lifecycle to multiple buckets",children:(0,L.jsx)(P,{loadingStep:g||v,wizardSteps:[{label:"Lifecycle Configuration",componentRender:(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)(c.rjZ,{item:!0,xs:12,children:(0,L.jsx)(c.bSr,{label:"Local Buckets to replicate",children:o.join(", ")})}),(0,L.jsx)("h4",{children:"Remote Endpoint Configuration"}),(0,L.jsxs)(c.ltY,{withBorders:!1,containerPadding:!1,children:[(0,L.jsxs)("fieldset",{className:"inputItem",children:[(0,L.jsx)("legend",{children:"Lifecycle Configuration"}),(0,L.jsx)(c.Eep,{currentValue:ue,id:"quota_type",name:"quota_type",label:"ILM Rule",onChange:function(e){de(e.target.value)},selectorOptions:[{value:"expiry",label:"Expiry"},{value:"transition",label:"Transition"}]}),"expiry"===ue?(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)(c.Wzg,{type:"number",id:"expiry_days",name:"expiry_days",onChange:function(e){me(e.target.value)},label:"Expiry Days",value:ge,min:"0"}),(0,L.jsx)(c.Wzg,{type:"number",id:"noncurrentversion_expiration_days",name:"noncurrentversion_expiration_days",onChange:function(e){ae(e.target.value)},label:"Non-current Expiration Days",value:ne,min:"0"})]}):(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)(c.Wzg,{type:"number",id:"transition_days",name:"transition_days",onChange:function(e){je(e.target.value)},label:"Transition Days",value:be,min:"0"}),(0,L.jsx)(c.Wzg,{type:"number",id:"noncurrentversion_transition_days",name:"noncurrentversion_transition_days",onChange:function(e){oe(e.target.value)},label:"Non-current Transition Days",value:se,min:"0"}),(0,L.jsx)(c.Wzg,{id:"noncurrentversion_t_SC",name:"noncurrentversion_t_SC",onChange:function(e){G(e.target.value)},placeholder:"Set Non-current Version Transition Storage Class",label:"Non-current Version Transition Storage Class",value:V}),(0,L.jsx)(c.PhF,{label:"Storage Class",id:"storage_class",name:"storage_class",value:O,onChange:function(e){q(e)},options:S})]})]}),(0,L.jsxs)("fieldset",{className:"inputItem",children:[(0,L.jsx)("legend",{children:"File Configuration"}),(0,L.jsx)(c.Wzg,{id:"prefix",name:"prefix",onChange:function(e){R(e.target.value)},label:"Prefix",value:T}),(0,L.jsx)(D.Z,{name:"tags",label:"Tags",elements:A,onChange:function(e){K(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0}),(0,L.jsx)(c.rsf,{value:"expired_delete_marker",id:"expired_delete_marker",name:"expired_delete_marker",checked:J,onChange:function(e){$(e.target.checked)},label:"Expired Object Delete Marker"})]})]})]}),buttons:[{type:"custom",label:"Create Rules",enabled:!v&&!g&&Ce,action:function(e){var t={};if("expiry"===ue){var n={expiry_days:parseInt(ge)};t=(0,_.Z)((0,_.Z)({},n),{},{noncurrentversion_expiration_days:parseInt(ne)})}else{var a={transition_days:parseInt(be)};t=(0,_.Z)((0,_.Z)({},a),{},{noncurrentversion_transition_days:parseInt(se),noncurrentversion_transition_storage_class:V,storage_class:O})}var i=(0,_.Z)({buckets:o,type:ue,prefix:T,tags:A,expired_object_delete_marker:J},t);b.h.buckets.addMultiBucketLifecycle(i).then((function(t){m(!1),we(t.data),e("++")})).catch((function(e){m(!1),l((0,h.zb)((0,j.g)(e.error)))}))}}]},{label:"Results",componentRender:(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)("h3",{children:"Multi Bucket lifecycle Assignments Results"}),(0,L.jsx)(c.rjZ,{container:!0,children:(0,L.jsxs)(c.rjZ,{item:!0,xs:12,className:i.formScrollable,children:[(0,L.jsx)("h4",{children:"Buckets Results"}),null===_e||void 0===_e||null===(t=_e.results)||void 0===t?void 0:t.map((function(e){return(0,L.jsxs)("div",{className:i.resultGrid,children:[Ee({errString:e.error||""}),(0,L.jsx)("span",{children:e.bucketName})]})}))]})})]}),buttons:[{type:"custom",label:"Done",enabled:!g,action:function(){return a(!0)}}]}],forModal:!0})})})),W=n(49535),O=n(17691),q=n(11087),Y=n(45248),H=O.ZP.div((function(e){var t=e.theme;return{border:"".concat(B()(t,"borderColor","#eaeaea")," 1px solid"),borderRadius:3,padding:15,cursor:"pointer","&.disabled":{backgroundColor:B()(t,"signalColors.danger","red")},"&:hover":{backgroundColor:B()(t,"boxBackground","#FBFAFA")},"& .bucketTitle":{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:10,"& h1":(0,a.Z)({padding:0,margin:0,marginBottom:5,fontSize:22,color:B()(t,"screenTitle.iconColor","#07193E")},"@media (max-width: ".concat(c.Egj.md,"px)"),{marginBottom:0})},"& .bucketDetails":(0,a.Z)({display:"flex",gap:40,"& span":{fontSize:14}},"@media (max-width: ".concat(c.Egj.md,"px)"),{flexFlow:"column-reverse",gap:5}),"& .bucketMetrics":(0,a.Z)({display:"flex",alignItems:"center",marginTop:20,gap:25,borderTop:"".concat(B()(t,"borderColor","#E2E2E2")," 1px solid"),paddingTop:20,"& svg.bucketIcon":{color:B()(t,"screenTitle.iconColor","#07193E"),fill:B()(t,"screenTitle.iconColor","#07193E")},"& .metric":{"& .min-icon":{color:B()(t,"fontColor","#000"),width:13,marginRight:5}},"& .metricLabel":{fontSize:14,fontWeight:"bold",color:B()(t,"fontColor","#000")},"& .metricText":{fontSize:24,fontWeight:"bold"},"& .unit":{fontSize:12,fontWeight:"normal"}},"@media (max-width: ".concat(c.Egj.md,"px)"),{marginTop:8,paddingTop:8})}})),V=function(e){var t=e.bucket,n=e.onSelect,a=e.selected,i=e.bulkSelect,r=(0,o.s0)(),l=(0,Y.ae)("".concat(t.size)||"0"),h=l.split(" ")[0],x=l.split(" ")[1],g=B()(t,"details.quota.quota","0"),m=(0,Y.Am)(g,!0,!1),p=(0,u.F)(t.name,d.D[d.EI.BUCKET_ADMIN])&&!1;return(0,L.jsxs)(H,{onClick:function(){r("/buckets/".concat(t.name,"/admin"))},id:"manageBucket-".concat(t.name),className:"bucket-item ".concat(p?"disabled":""),children:[(0,L.jsxs)(c.xuv,{className:"bucketTitle",children:[i&&(0,L.jsx)(c.xuv,{onClick:function(e){e.stopPropagation()},children:(0,L.jsx)(c.XZJ,{checked:a,id:"select-".concat(t.name),label:"",name:"select-".concat(t.name),onChange:function(e){n(e)},value:t.name})}),(0,L.jsxs)("h1",{children:[t.name," ",p]})]}),(0,L.jsxs)(c.xuv,{className:"bucketDetails",children:[(0,L.jsxs)("span",{id:"created-".concat(t.name),children:[(0,L.jsx)("strong",{children:"Created:"})," ",t.creation_date?new Date(t.creation_date).toString():"n/a"]}),(0,L.jsxs)("span",{id:"access-".concat(t.name),children:[(0,L.jsx)("strong",{children:"Access:"})," ",function(e){var t,n,a,i,r,s;return null===(t=e.rw_access)||void 0===t||!t.read||null!==(n=e.rw_access)&&void 0!==n&&n.write?null!==(a=e.rw_access)&&void 0!==a&&a.read||null===(i=e.rw_access)||void 0===i||!i.write?null!==(r=e.rw_access)&&void 0!==r&&r.read&&null!==(s=e.rw_access)&&void 0!==s&&s.write?"R/W":"":"W":"R"}(t)]})]}),(0,L.jsxs)(c.xuv,{className:"bucketMetrics",children:[(0,L.jsx)(q.rU,{to:"/buckets/".concat(t.name,"/admin"),children:(0,L.jsx)(c.wNb,{className:"bucketIcon",style:{height:48,width:48}})}),(0,L.jsxs)(c.rjZ,{item:!0,className:"metric",children:[(0,L.jsx)(c.rHZ,{}),(0,L.jsx)("span",{className:"metricLabel",children:"Usage"}),(0,L.jsxs)("div",{className:"metricText",children:[h,(0,L.jsx)("span",{className:"unit",children:x}),"0"!==g&&(0,L.jsxs)(s.Fragment,{children:[" ","/ ",m.total,(0,L.jsx)("span",{className:"unit",children:m.unit})]})]})]}),(0,L.jsxs)(c.rjZ,{item:!0,className:"metric",children:[(0,L.jsx)(c.xpX,{}),(0,L.jsx)("span",{className:"metricLabel",children:"Objects"}),(0,L.jsx)("div",{className:"metricText",children:t.objects?(0,Y.CE)(t.objects):0})]})]})]})},G=n(64163),Q=n(84741),X=(0,E.Z)((function(e){return(0,w.Z)((0,_.Z)((0,_.Z)({remoteBucketList:{display:"grid",gridTemplateColumns:"auto auto 45px",alignItems:"center",justifyContent:"stretch"},errorIcon:{color:"#C72C48"},successIcon:{color:"#42C91A"},hide:{opacity:0,transitionDuration:"0.3s"}},l.oO),l.AK))}))((function(e){var t=e.open,n=e.closeModalAndRefresh,a=e.classes,o=e.buckets,l=(0,x.TL)(),u=(0,s.useState)([]),d=(0,r.Z)(u,2),g=d[0],m=d[1],p=(0,s.useState)(!1),f=(0,r.Z)(p,2),v=f[0],k=f[1],C=(0,s.useState)(!1),Z=(0,r.Z)(C,2),S=Z[0],y=Z[1],_=(0,s.useState)(""),w=(0,r.Z)(_,2),E=w[0],T=w[1],R=(0,s.useState)(""),I=(0,r.Z)(R,2),M=I[0],A=I[1],K=(0,s.useState)(""),D=(0,r.Z)(K,2),U=D[0],W=D[1],O=(0,s.useState)(""),q=(0,r.Z)(O,2),H=q[0],V=q[1],X=(0,s.useState)(!0),J=(0,r.Z)(X,2),$=J[0],ee=J[1],te=(0,s.useState)("async"),ne=(0,r.Z)(te,2),ae=ne[0],ie=ne[1],re=(0,s.useState)("100"),se=(0,r.Z)(re,2),oe=se[0],ce=se[1],le=(0,s.useState)("Gi"),ue=(0,r.Z)(le,2),de=ue[0],he=ue[1],xe=(0,s.useState)("60"),ge=(0,r.Z)(xe,2),me=ge[0],pe=ge[1],fe=(0,s.useState)([]),be=(0,r.Z)(fe,2),je=be[0],ve=be[1],ke=(0,s.useState)([]),Ce=(0,r.Z)(ke,2),Ze=Ce[0],Se=Ce[1],ye=(0,s.useState)([]),_e=(0,r.Z)(ye,2),we=_e[0],Ee=_e[1],Te=Ze.map((function(e){return{label:e,value:e}}));(0,s.useEffect)((function(){if(0===je.length){var e=[],t=[];o.forEach((function(n){e.push(n),t.push("")})),ve(t),m(e)}}),[o,je.length]);var Be=function(e){var t=e.errString;switch(t){case"":return(0,L.jsx)("div",{className:a.successIcon,children:(0,L.jsx)(F.Z,{})});case"n/a":return null;default:if(t)return(0,L.jsx)("div",{className:a.errorIcon,children:(0,L.jsx)(c.ua7,{tooltip:t,placement:"top",children:(0,L.jsx)(N.Z,{})})})}return null},Ne=function(e,t){var n=(0,i.Z)(je);n[e]=t,ve(n)},Fe=function(e){var t=(0,i.Z)(g),n=(0,i.Z)(je);null===e||void 0===e||e.forEach((function(e){var a=B()(e,"errorString","");if(!a||""===a){var i=t.indexOf(e.originBucket||"");t.splice(i,1),n.splice(i,1)}})),m(t),ve(n)};return(0,L.jsx)(z.Z,{modalOpen:t,onClose:function(){n(!1)},title:"Set Multiple Bucket Replication",children:(0,L.jsx)(P,{loadingStep:v||S,wizardSteps:[{label:"Remote Configuration",componentRender:(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)(c.rjZ,{item:!0,xs:12,children:(0,L.jsx)(G.Z,{label:"Local Buckets to replicate",content:g.join(", ")})}),(0,L.jsx)("h4",{children:"Remote Endpoint Configuration"}),(0,L.jsx)("span",{className:a.descriptionText,children:"Please avoid the use of root credentials for this feature"}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsxs)(c.ltY,{containerPadding:!1,withBorders:!1,children:[(0,L.jsx)(c.Wzg,{id:"accessKey",name:"accessKey",onChange:function(e){T(e.target.value)},label:"Access Key",value:E}),(0,L.jsx)(c.Wzg,{id:"secretKey",name:"secretKey",onChange:function(e){A(e.target.value)},label:"Secret Key",value:M}),(0,L.jsx)(c.Wzg,{id:"targetURL",name:"targetURL",onChange:function(e){W(e.target.value)},placeholder:"play.min.io:9000",label:"Target URL",value:U}),(0,L.jsx)(c.rsf,{checked:$,id:"useTLS",name:"useTLS",label:"Use TLS",onChange:function(e){ee(e.target.checked)},value:"yes"}),(0,L.jsx)(c.Wzg,{id:"region",name:"region",onChange:function(e){V(e.target.value)},label:"Region",value:H}),(0,L.jsx)(c.PhF,{id:"replication_mode",name:"replication_mode",onChange:function(e){ie(e)},label:"Replication Mode",value:ae,options:[{label:"Asynchronous",value:"async"},{label:"Synchronous",value:"sync"}]}),"async"===ae&&(0,L.jsx)(c.Wzg,{type:"number",id:"bandwidth_scalar",name:"bandwidth_scalar",onChange:function(e){e.target.validity.valid&&ce(e.target.value)},label:"Bandwidth",value:oe,min:"0",pattern:"[0-9]*",overlayObject:(0,L.jsx)(Q.Z,{id:"quota_unit",onUnitChange:function(e){he(e)},unitSelected:de,unitsList:(0,Y.zQ)(["Ki"]),disabled:!1})}),(0,L.jsx)(c.Wzg,{id:"healthCheck",name:"healthCheck",onChange:function(e){pe(e.target.value)},label:"Health Check Duration",value:me})]})]}),buttons:[{type:"custom",label:"Next",enabled:!S,action:function(e){var t={accessKey:E,secretKey:M,targetURL:U,useTLS:$};y(!0),b.h.listExternalBuckets.listExternalBuckets(t).then((function(t){var n=B()(t.data,"buckets",[]);if(n&&n.length>0){var a=n.map((function(e){return e.name}));Se(a)}e("++"),y(!1)})).catch((function(e){y(!1),l((0,h.zb)((0,j.g)(e.error)))}))}}]},{label:"Bucket Assignments",componentRender:(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)("h3",{children:"Remote Bucket Assignments"}),(0,L.jsx)("span",{className:a.descriptionText,children:"Please select / type the desired remote bucket were you want the local data to be replicated."}),(0,L.jsx)("div",{className:a.remoteBucketList,children:g.map((function(e,t){var n,i=function(e){if(we&&we.length>0){var t=we.find((function(t){return t.originBucket===e}));if(t)return B()(t,"errorString","")||""}return"n/a"}(e);return(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)("div",{className:""===i?a.hide:"",children:e}),(0,L.jsx)("div",{className:""===i?a.hide:"",children:(n=t,Ze.length>0?(0,L.jsx)(s.Fragment,{children:(0,L.jsx)(c.PhF,{label:"",id:"assign-bucket-".concat(n),name:"assign-bucket-".concat(n),value:je[n],onChange:function(e){Ne(n,e)},options:Te,disabled:v})}):(0,L.jsx)(s.Fragment,{children:(0,L.jsx)(c.Wzg,{id:"assign-bucket-".concat(n),name:"assign-bucket-".concat(n),label:"",onChange:function(e){Ne(n,e.target.value)},value:je[n],disabled:v})}))}),(0,L.jsx)("div",{className:""===i?a.hide:"",children:we&&we.length>0&&(0,L.jsx)(Be,{errString:i})})]},"buckets-assignation-".concat(t.toString(),"-").concat(e))}))})]}),buttons:[{type:"back",label:"Back",enabled:!0},{type:"next",label:"Create",enabled:!v,action:function(){k(!0);var e=g.map((function(e,t){return{originBucket:e,destinationBucket:je[t]}})),t="".concat($?"https://":"http://").concat(U),a=parseInt(me),i={accessKey:E,secretKey:M,targetURL:t,region:H,bucketsRelation:e,syncMode:ae,bandwidth:"async"===ae?parseInt((0,Y.Pw)(oe,de,!0)):0,healthCheckPeriod:a};b.h.bucketsReplication.setMultiBucketReplication(i).then((function(e){k(!1);var t=e.data.replicationState;Ee(t);var a=null===t||void 0===t?void 0:t.filter((function(e){return e.errorString&&""!==e.errorString}));0===(null===a||void 0===a?void 0:a.length)?n(!0):setTimeout((function(){Fe(t)}),500)})).catch((function(e){k(!1),l((0,h.zb)((0,j.g)(e.error)))}))}}]}],forModal:!0})})})),J=function(){var e=(0,x.TL)(),t=(0,o.s0)(),n=(0,s.useState)([]),_=(0,r.Z)(n,2),w=_[0],E=_[1],T=(0,s.useState)(!0),B=(0,r.Z)(T,2),N=B[0],F=B[1],z=(0,s.useState)(""),R=(0,r.Z)(z,2),I=R[0],M=R[1],A=(0,s.useState)([]),K=(0,r.Z)(A,2),P=K[0],D=K[1],O=(0,s.useState)(!1),q=(0,r.Z)(O,2),Y=q[0],H=q[1],G=(0,s.useState)(!1),Q=(0,r.Z)(G,2),J=Q[0],$=Q[1],ee=(0,s.useState)(!1),te=(0,r.Z)(ee,2),ne=te[0],ae=te[1],ie=(0,s.useState)(!1),re=(0,r.Z)(ie,2),se=re[0],oe=re[1],ce=(0,g.v9)(m.$4),le=!(null===ce||void 0===ce||!ce.includes("object-browser-only"));(0,s.useEffect)((function(){e((0,h.Sc)("ob_bucket_list"))}),[e]),(0,s.useEffect)((function(){if(N){F(!0),b.h.buckets.listBuckets().then((function(t){t.data?(F(!1),E(t.data.buckets||[]),e((0,p.Cn)(!0))):t.error&&(F(!1),e((0,h.Ih)((0,j.g)(t.error))))}))}}),[N,e]);var ue=w.filter((function(e){return""===I||e.name.indexOf(I)>=0})),de=w.length>0,he=function(e){var t=e.target,n=t.value,a=t.checked,r=(0,i.Z)(P);return a?r.push(n):r=r.filter((function(e){return e!==n})),D(r),r};(0,s.useEffect)((function(){var e=!1;P.forEach((function(t){(0,W.Z)(t,d.D[d.EI.BUCKET_LIFECYCLE],!0)?ae(!0):e=!0})),ae(!e)}),[P]);var xe=(0,W.Z)("*",[d.Ft.S3_CREATE_BUCKET]),ge=(0,W.Z)("*",[d.Ft.S3_LIST_BUCKET,d.Ft.S3_ALL_LIST_BUCKET]);return(0,L.jsxs)(s.Fragment,{children:[Y&&(0,L.jsx)(X,{open:Y,buckets:P,closeModalAndRefresh:function(e){H(!1),e&&D([])}}),J&&(0,L.jsx)(U,{buckets:P,closeModalAndRefresh:function(e){$(!1),e&&D([])},open:J}),!le&&(0,L.jsx)(f.Z,{label:"Buckets",actions:(0,L.jsx)(v.Z,{})}),(0,L.jsxs)(c.Xgh,{children:[(0,L.jsxs)(c.rjZ,{item:!0,xs:12,sx:l.OR.actionsTray,children:[le&&(0,L.jsx)(c.rjZ,{item:!0,xs:!0,children:(0,L.jsx)(k.Z,{marginRight:15,marginTop:10})}),de&&(0,L.jsx)(S.Z,{onChange:M,placeholder:"Search Buckets",value:I,sx:(0,a.Z)({minWidth:380},"@media (max-width: ".concat(c.Egj.md,"px)"),{minWidth:220})}),(0,L.jsxs)(c.rjZ,{item:!0,xs:12,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:5},children:[!le&&(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)(C.Z,{tooltip:de?se?"Unselect Buckets":"Select Multiple Buckets":"",children:(0,L.jsx)(c.zxk,{id:"multiple-bucket-seection",onClick:function(){oe(!se),D([])},icon:(0,L.jsx)(c.amE,{}),variant:se?"callAction":"regular",disabled:!de})}),se&&(0,L.jsx)(C.Z,{tooltip:de?P.length===ue.length?"Unselect All Buckets":"Select All Buckets":"",children:(0,L.jsx)(c.zxk,{id:"select-all-buckets",onClick:function(){if(P.length!==ue.length){var e=ue.map((function(e){return e.name}));D(e)}else D([])},icon:(0,L.jsx)(c.QQb,{}),variant:"regular"})}),(0,L.jsx)(C.Z,{tooltip:de?ne?0===P.length?se?"Please select at least one bucket on which to configure Lifecycle":"Use the Select Multiple Buckets button to choose buckets on which to configure Lifecycle":"Set Lifecycle":(0,d.MK)(d.D[d.EI.BUCKET_LIFECYCLE],"configure lifecycle for the selected buckets"):"",children:(0,L.jsx)(c.zxk,{id:"set-lifecycle",onClick:function(){$(!0)},icon:(0,L.jsx)(c.QIv,{}),variant:"regular",disabled:0===P.length||!ne})}),(0,L.jsx)(C.Z,{tooltip:de?0===P.length?se?"Please select at least one bucket on which to configure Replication":"Use the Select Multiple Buckets button to choose buckets on which to configure Replication":"Set Replication":"",children:(0,L.jsx)(c.zxk,{id:"set-replication",onClick:function(){H(!0)},icon:(0,L.jsx)(c.D6F,{}),variant:"regular",disabled:0===P.length})})]}),(0,L.jsx)(C.Z,{tooltip:"Refresh",children:(0,L.jsx)(c.zxk,{id:"refresh-buckets",onClick:function(){F(!0)},icon:(0,L.jsx)(c.DuK,{}),variant:"regular"})}),!le&&(0,L.jsx)(C.Z,{tooltip:xe?"":(0,d.MK)([d.Ft.S3_CREATE_BUCKET],"create a bucket"),children:(0,L.jsx)(c.zxk,{id:"create-bucket",onClick:function(){t(d.gA.ADD_BUCKETS)},icon:(0,L.jsx)(c.dtP,{}),variant:"callAction",disabled:!xe,label:"Create Bucket"})})]})]}),N&&(0,L.jsx)(c.kod,{}),!N&&(0,L.jsxs)(c.rjZ,{item:!0,xs:12,sx:{marginTop:25,height:"calc(100vh - 211px)","&.isEmbedded":{height:"calc(100vh - 128px)"}},className:le?"isEmbedded":"",children:[0!==ue.length&&(0,L.jsx)(y.Z,{rowRenderFunction:function(e){var t=ue[e]||null;return t?(0,L.jsx)(V,{bucket:t,onSelect:he,selected:P.includes(t.name),bulkSelect:se}):null},totalItems:ue.length}),0===ue.length&&""!==I&&(0,L.jsx)(c.rjZ,{container:!0,children:(0,L.jsx)(c.rjZ,{item:!0,xs:8,children:(0,L.jsx)(c.KfX,{iconComponent:(0,L.jsx)(c.wNb,{}),title:"No Results",help:(0,L.jsx)(s.Fragment,{children:"No buckets match the filtering condition"})})})}),!de&&(0,L.jsx)(c.rjZ,{container:!0,children:(0,L.jsx)(c.rjZ,{item:!0,xs:8,children:(0,L.jsx)(c.KfX,{iconComponent:(0,L.jsx)(c.wNb,{}),title:"Buckets",help:(0,L.jsxs)(s.Fragment,{children:["MinIO uses buckets to organize objects. A bucket is similar to a folder or directory in a filesystem, where each bucket can hold an arbitrary number of objects.",(0,L.jsx)("br",{}),ge?"":(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)("br",{}),(0,d.MK)([d.Ft.S3_LIST_BUCKET,d.Ft.S3_ALL_LIST_BUCKET],"view the buckets on this server"),(0,L.jsx)("br",{})]}),(0,L.jsxs)(u.s,{scopes:[d.Ft.S3_CREATE_BUCKET],resource:d.C3,children:[(0,L.jsx)("br",{}),"To get started,\xa0",(0,L.jsx)(Z.Z,{onClick:function(){t(d.gA.ADD_BUCKETS)},children:"Create a Bucket."})]})]})})})})]})]})]})}},84741:function(e,t,n){var a=n(29439),i=n(72791),r=n(11135),s=n(25787),o=n(71715),c=n(77865),l=n(80184);t.Z=(0,s.Z)((function(e){return(0,r.Z)({buttonTrigger:{border:"#F0F2F2 1px solid",borderRadius:3,color:"#838383",backgroundColor:"#fff",fontSize:12}})}))((function(e){var t=e.classes,n=e.id,r=e.unitSelected,s=e.unitsList,u=e.disabled,d=void 0!==u&&u,h=e.onUnitChange,x=i.useState(null),g=(0,a.Z)(x,2),m=g[0],p=g[1],f=Boolean(m),b=function(e){p(null),""!==e&&h&&h(e)};return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)("button",{id:"".concat(n,"-button"),"aria-controls":"".concat(n,"-menu"),"aria-haspopup":"true","aria-expanded":f?"true":void 0,onClick:function(e){p(e.currentTarget)},className:t.buttonTrigger,disabled:d,type:"button",children:r}),(0,l.jsx)(o.Z,{id:"".concat(n,"-menu"),"aria-labelledby":"".concat(n,"-button"),anchorEl:m,open:f,onClose:function(){b("")},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:s.map((function(e){return(0,l.jsx)(c.Z,{onClick:function(){return b(e.value)},children:e.label},"itemUnit-".concat(e.value,"-").concat(e.label))}))})]})}))},64163:function(e,t,n){var a=n(1413),i=n(72791),r=n(61889),s=n(11135),o=n(25787),c=n(23814),l=n(80184);t.Z=(0,o.Z)((function(e){return(0,s.Z)((0,a.Z)({},c.xx))}))((function(e){var t=e.classes,n=e.label,a=void 0===n?"":n,s=e.content,o=e.multiLine,c=void 0!==o&&o,u=e.actionButton;return(0,l.jsx)(i.Fragment,{children:(0,l.jsxs)(r.ZP,{className:t.prefinedContainer,children:[""!==a&&(0,l.jsx)(r.ZP,{item:!0,xs:12,className:t.predefinedTitle,children:a}),(0,l.jsxs)(r.ZP,{item:!0,xs:12,className:"".concat(t.predefinedList," ").concat(u?t.includesActionButton:""),children:[(0,l.jsx)(r.ZP,{item:!0,xs:12,className:c?t.innerContentMultiline:t.innerContent,children:s}),u&&(0,l.jsx)("div",{className:t.overlayShareOption,children:u})]})]})})}))},17420:function(e,t,n){var a=n(93433),i=n(29439),r=n(72791),s=n(26181),o=n.n(s),c=n(48573),l=n.n(c),u=n(29945),d=n(80184);t.Z=function(e){var t=e.elements,n=e.name,s=e.label,c=e.tooltip,h=void 0===c?"":c,x=e.keyPlaceholder,g=void 0===x?"":x,m=e.valuePlaceholder,p=void 0===m?"":m,f=e.onChange,b=e.withBorder,j=void 0!==b&&b,v=(0,r.useState)([""]),k=(0,i.Z)(v,2),C=k[0],Z=k[1],S=(0,r.useState)([""]),y=(0,i.Z)(S,2),_=y[0],w=y[1],E=(0,r.createRef)();(0,r.useEffect)((function(){if(1===C.length&&""===C[0]&&1===_.length&&""===_[0]&&t&&""!==t){var e=t.split("&"),n=[],a=[];e.forEach((function(e){var t=e.split("=");2===t.length&&(n.push(t[0]),a.push(t[1]))})),n.push(""),a.push(""),Z(n),w(a)}}),[C,_,t]),(0,r.useEffect)((function(){var e=E.current;e&&C.length>1&&e.scrollIntoView(!1)}),[C]);var T=(0,r.useRef)(!0);(0,r.useLayoutEffect)((function(){T.current?T.current=!1:F()}),[C,_]);var B=function(e){e.persist();var t=(0,a.Z)(C),n=o()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,Z(t)},N=function(e){e.persist();var t=(0,a.Z)(_),n=o()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,w(t)},F=l()((function(){var e="";C.forEach((function(t,n){if(C[n]&&_[n]){var a="".concat(t,"=").concat(_[n]);0!==n&&(a="&".concat(a)),e="".concat(e).concat(a)}})),f(e)}),500),z=_.map((function(e,t){return(0,d.jsxs)(u.rjZ,{item:!0,xs:12,className:"lineInputBoxes inputItem",children:[(0,d.jsx)(u.Wzg,{id:"".concat(n,"-key-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:C[t],onChange:B,index:t,placeholder:g}),(0,d.jsx)("span",{className:"queryDiv",children:":"}),(0,d.jsx)(u.Wzg,{id:"".concat(n,"-value-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:_[t],onChange:N,index:t,placeholder:p,overlayIcon:t===_.length-1?(0,d.jsx)(u.dtP,{}):null,overlayAction:function(){!function(){if(""!==C[C.length-1].trim()&&""!==_[_.length-1].trim()){var e=(0,a.Z)(C),t=(0,a.Z)(_);e.push(""),t.push(""),Z(e),w(t)}}()}})]},"query-pair-".concat(n,"-").concat(t.toString()))}));return(0,d.jsx)(r.Fragment,{children:(0,d.jsxs)(u.rjZ,{item:!0,xs:12,sx:{"& .lineInputBoxes":{display:"flex"},"& .queryDiv":{alignSelf:"center",margin:"-15px 4px 0",fontWeight:600}},children:[(0,d.jsxs)(u.AZs,{children:[s,""!==h&&(0,d.jsx)(u.xuv,{sx:{marginLeft:5,display:"flex",alignItems:"center","& .min-icon":{width:13}},children:(0,d.jsx)(u.ua7,{tooltip:h,placement:"top",children:(0,d.jsx)(u.byK,{style:{width:13,height:13}})})})]}),(0,d.jsxs)(u.xuv,{withBorders:j,sx:{padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15},children:[z,(0,d.jsx)("div",{ref:E})]})]})})}}}]);
//# sourceMappingURL=8045.51df3c6f.chunk.js.map