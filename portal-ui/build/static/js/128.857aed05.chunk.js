(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[128],{347:function(e,t,a){"use strict";var n,o=a(15),r=a(3),s=a(0),c=a(38),i=a(328),l=a(322),d=a(417),b=a(418),j=a(419),u=a(250),m=a(260),f=a(116),O=a(30),p=a(45),h=a.n(p),g=a(125),x=a.n(g),C=a(124),v=a.n(C),S=a(122),y=a.n(S),k=a(2),M=function(){clearInterval(n)},E={displayErrorMessage:O.h},N=Object(c.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),E)(Object(m.a)((function(e){return Object(u.a)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},simpleError:{marginTop:5,padding:"2px 5px",fontSize:16,color:"#000"},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var t=e.classes,a=e.modalSnackMessage,r=e.displayErrorMessage,c=e.customStyle,i=Object(s.useState)(!1),l=Object(o.a)(i,2),d=l[0],b=l[1],j=Object(s.useState)(!1),u=Object(o.a)(j,2),m=u[0],f=u[1],O=Object(s.useCallback)((function(){f(!1)}),[]);Object(s.useEffect)((function(){m||(r({detailedError:"",errorMessage:""}),b(!1))}),[r,m]),Object(s.useEffect)((function(){""!==a.message&&"error"===a.type&&f(!0)}),[O,a.message,a.type]);var p=h()(a,"message",""),g=h()(a,"detailedErrorMsg","");return"error"!==a.type||""===p?null:Object(k.jsx)(s.Fragment,{children:Object(k.jsxs)("div",{className:"".concat(t.modalErrorContainer," ").concat(m?t.modalErrorShow:""),style:c,onMouseOver:M,onMouseLeave:function(){n=setInterval(O,1e4)},children:[Object(k.jsx)("button",{className:t.closeButton,onClick:O,children:Object(k.jsx)(y.a,{})}),Object(k.jsxs)("div",{className:t.errorTitle,children:[Object(k.jsx)("span",{className:t.messageIcon,children:Object(k.jsx)(v.a,{})}),Object(k.jsx)("span",{className:t.errorLabel,children:p})]}),""!==g&&Object(k.jsxs)(s.Fragment,{children:[Object(k.jsx)("div",{className:t.detailsContainerLink,children:Object(k.jsxs)("button",{className:t.detailsButton,onClick:function(){b(!d)},children:["Details",Object(k.jsx)(x.a,{className:"".concat(t.arrowElement," ").concat(d?t.arrowOpen:"")})]})}),Object(k.jsx)("div",{className:"".concat(t.extraDetailsContainer," ").concat(d?t.extraDetailsOpen:""),children:g})]})]})})}))),w={content:'" "',borderLeft:"2px solid #9C9C9C",height:33,width:1,position:"absolute"},B=Object(c.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:O.i});t.a=Object(m.a)((function(e){return Object(u.a)(Object(r.a)({dialogContainer:{padding:"8px 15px 22px"},closeContainer:{textAlign:"right"},closeButton:{height:16,width:16,padding:0,backgroundColor:"initial","&:hover":{backgroundColor:"initial"},"&:active":{backgroundColor:"initial"}},modalCloseIcon:{fontSize:35,color:"#9C9C9C",fontWeight:300,"&:hover":{color:"#9C9C9C"}},closeIcon:{"&::before":Object(r.a)(Object(r.a)({},w),{},{transform:"rotate(45deg)",height:12}),"&::after":Object(r.a)(Object(r.a)({},w),{},{transform:"rotate(-45deg)",height:12}),"&:hover::before, &:hover::after":{borderColor:"#9C9C9C"},display:"block",position:"relative",height:12,width:12},titleClass:{padding:"0px 50px 12px",fontSize:"1.2rem",fontWeight:600,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},modalContent:{padding:"0 50px"},customDialogSize:{width:"100%",maxWidth:765}},f.y))}))(B((function(e){var t=e.onClose,a=e.modalOpen,n=e.title,c=e.children,u=e.classes,m=e.wideLimit,f=void 0===m||m,O=e.modalSnackMessage,p=e.noContentPadding,h=e.setModalSnackMessage,g=Object(s.useState)(!1),x=Object(o.a)(g,2),C=x[0],v=x[1];Object(s.useEffect)((function(){h("")}),[h]),Object(s.useEffect)((function(){if(O){if(""===O.message)return void v(!1);"error"!==O.type&&v(!0)}}),[O]);var S=f?{classes:{paper:u.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},y="";return O&&(y=O.detailedErrorMsg,(""===O.detailedErrorMsg||O.detailedErrorMsg.length<5)&&(y=O.message)),Object(k.jsx)(d.a,Object(r.a)(Object(r.a)({open:a,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},S),{},{children:Object(k.jsxs)("div",{className:u.dialogContainer,children:[Object(k.jsx)(N,{}),Object(k.jsx)(l.a,{open:C,className:u.snackBarModal,onClose:function(){v(!1),h("")},message:y,ContentProps:{className:"".concat(u.snackBar," ").concat(O&&"error"===O.type?u.errorSnackBar:"")},autoHideDuration:O&&"error"===O.type?1e4:5e3}),Object(k.jsx)("div",{className:u.closeContainer,children:Object(k.jsx)(i.a,{"aria-label":"close",className:u.closeButton,onClick:t,disableRipple:!0,size:"large",children:Object(k.jsx)("span",{className:u.closeIcon})})}),Object(k.jsx)(b.a,{id:"alert-dialog-title",className:u.titleClass,children:n}),Object(k.jsx)(j.a,{className:p?"":u.modalContent,children:c})]})}))})))},529:function(e,t,a){"use strict";var n=a(3),o=a(0),r=a.n(o),s=a(444),c=a(583),i=a(818),l=a(326),d=a(250),b=a(260),j=a(334),u=a(116),m=(a(585),a(586),a(2));a(587);t.a=Object(b.a)((function(e){return Object(d.a)(Object(n.a)({},u.i))}))((function(e){var t=e.value,a=e.label,n=void 0===a?"":a,o=e.tooltip,d=void 0===o?"":o,b=e.mode,u=void 0===b?"yaml":b,f=e.classes,O=e.onChange,p=void 0===O?function(){}:O,h=e.onBeforeChange,g=e.readOnly,x=void 0!==g&&g;return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsxs)(i.a,{className:f.inputLabel,children:[Object(m.jsx)("span",{children:n}),""!==d&&Object(m.jsx)("div",{className:f.tooltipContainer,children:Object(m.jsx)(l.a,{title:d,placement:"top-start",children:Object(m.jsx)("div",{className:f.tooltip,children:Object(m.jsx)(j.a,{})})})})]}),Object(m.jsx)(s.a,{item:!0,xs:12,children:Object(m.jsx)("br",{})}),Object(m.jsx)(s.a,{item:!0,xs:12,children:Object(m.jsx)(c.Controlled,{value:t,options:{mode:u,lineNumbers:!0,readOnly:x},onBeforeChange:h,onChange:p})})]})}))},882:function(e,t,a){"use strict";a.r(t);var n=a(15),o=a(3),r=a(0),s=a(38),c=a(444),i=a(316),l=a(330),d=a(250),b=a(260),j=a(50),u=a(30),m=a(116),f=a(347),O=a(529),p=a(2),h={setModalErrorSnackMessage:u.h},g=Object(s.b)(null,h);t.default=Object(b.a)((function(e){return Object(d.a)(Object(o.a)(Object(o.a)({jsonPolicyEditor:{minHeight:400,width:"100%"},buttonContainer:{textAlign:"right"},errorState:{color:"#b53b4b",fontSize:14,fontWeight:"bold"}},m.p),m.i))}))(g((function(e){var t=e.classes,a=e.open,o=e.closeModalAndRefresh,s=e.tenant,d=e.namespace,b=e.setModalErrorSnackMessage,u=Object(r.useState)(!1),m=Object(n.a)(u,2),h=m[0],g=m[1],x=Object(r.useState)(!1),C=Object(n.a)(x,2),v=C[0],S=C[1],y=Object(r.useState)(""),k=Object(n.a)(y,2),M=k[0],E=k[1],N=Object(r.useState)(""),w=Object(n.a)(N,2),B=w[0],D=w[1];Object(r.useEffect)((function(){j.a.invoke("GET","/api/v1/namespaces/".concat(d,"/tenants/").concat(s,"/yaml")).then((function(e){S(!1),E(e.yaml)})).catch((function(e){S(!1),b(e)}))}),[s,d,b]),Object(r.useEffect)((function(){}),[]);var L=""!==M.trim();return Object(p.jsxs)(f.a,{modalOpen:a,onClose:function(){o(!1)},title:"YAML",children:[v&&Object(p.jsx)(i.a,{}),""!==B&&Object(p.jsx)("div",{className:t.errorState,children:B}),!v&&Object(p.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),h||(g(!0),D(""),j.a.invoke("PUT","/api/v1/namespaces/".concat(d,"/tenants/").concat(s,"/yaml"),{yaml:M}).then((function(e){g(!1),o(!0),D("")})).catch((function(e){g(!1),D(e.errorMessage)})))},children:Object(p.jsxs)(c.a,{container:!0,children:[Object(p.jsxs)(c.a,{item:!0,xs:12,className:t.formScrollable,children:[Object(p.jsx)(c.a,{item:!0,xs:12,children:Object(p.jsx)("br",{})}),Object(p.jsx)(O.a,{label:"Tenant Specification",value:M,mode:"yaml",onBeforeChange:function(e,t,a){E(a)}})]}),Object(p.jsx)(c.a,{item:!0,xs:12,className:t.buttonContainer,children:Object(p.jsx)(l.a,{type:"submit",variant:"contained",color:"primary",disabled:h||!L,children:"Save"})}),h&&Object(p.jsx)(c.a,{item:!0,xs:12,children:Object(p.jsx)(i.a,{})})]})})]})})))}}]);
//# sourceMappingURL=128.857aed05.chunk.js.map