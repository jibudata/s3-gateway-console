"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3067],{75578:function(e,t,n){var i=n(1413),s=n(72791),l=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return(0,l.jsx)(s.Suspense,{fallback:t,children:(0,l.jsx)(e,(0,i.Z)({},n))})}}},31460:function(e,t,n){var i=n(4942),s=n(72791),l=n(57689),a=n(29945),o=n(80184);t.Z=function(e){var t=e.compactMode,n=void 0!==t&&t,r=(0,l.s0)(),c=(0,o.jsx)(a.zxk,{id:"go-to-register",type:"submit",variant:"callAction",color:"primary",onClick:function(){return r("/support/register")},children:"Register your Cluster"}),x="Please use your MinIO Subscription Network login credentials to register this cluster and enable this feature.";return n?(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(a.rjZ,{sx:{"& div.leftItems":{marginBottom:0}},children:(0,o.jsx)(a.KfX,{title:(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1},children:[(0,o.jsx)("span",{children:x})," ",c]}),iconComponent:(0,o.jsx)(a.e6P,{}),help:null})}),(0,o.jsx)("br",{})]}):(0,o.jsx)(a.xuv,{sx:(0,i.Z)({padding:"25px",border:"1px solid #eaeaea",display:"flex",alignItems:"center",justifyContent:"center",flexFlow:"row",marginBottom:"15px"},"@media (max-width: ".concat(a.Egj.sm,"px)"),{flexFlow:"column"}),children:(0,o.jsxs)(a.rjZ,{container:!0,children:[(0,o.jsx)(a.rjZ,{item:!0,xs:12,children:(0,o.jsx)(a.xuv,{sx:{marginRight:"8px",fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center","& .min-icon":{width:"83px",height:"14px",marginLeft:"5px",marginRight:"5px"}},children:"Register your cluster"})}),(0,o.jsx)(a.rjZ,{item:!0,xs:12,children:(0,o.jsx)(a.xuv,{sx:(0,i.Z)({display:"flex",flexFlow:"row"},"@media (max-width: ".concat(a.Egj.sm,"px)"),{flexFlow:"column"}),children:(0,o.jsxs)(a.xuv,{sx:{display:"flex",flexFlow:"column",flex:"2"},children:[(0,o.jsx)(a.xuv,{sx:{fontSize:"16px",display:"flex",flexFlow:"column",marginTop:"15px",marginBottom:"15px"},children:x}),(0,o.jsx)(a.xuv,{sx:{flex:"1"},children:(0,o.jsx)(a.xuv,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:c})})]})})})]})})}},73067:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var i=n(72791),s=n(57689),l=n(75578),a=n(98604),o=n(29439),r=n(29945),c=n(11087),x=n(81207),d=n(87995),u=n(44690),h=n(9478),p=n(56028),m=n(80184),f=function(e){var t=e.onClose,n=e.diagStatus,s=e.logsStatus,l=e.open,a=e.disable,c=void 0!==a&&a,h=(0,u.TL)(),f=(0,i.useState)(!1),g=(0,o.Z)(f,2),j=g[0],b=g[1],y=function(){b(!0),x.Z.invoke("PUT","/api/v1/support/callhome",{diagState:!c&&n,logsState:!c&&s}).then((function(e){h((0,d.y1)("Configuration saved successfully")),b(!1),t(!0)})).catch((function(e){b(!1),h((0,d.Ih)(e))}))};return(0,m.jsx)(p.Z,{modalOpen:l,title:c?"Disable Call Home":"Edit Call Home Configurations",onClose:function(){return t(!1)},titleIcon:(0,m.jsx)(r.o0P,{}),children:c?(0,m.jsxs)(i.Fragment,{children:["Please Acknowledge that after doing this action, we will no longer receive updated cluster information automatically, losing the potential benefits that Call Home provides to your MinIO cluster.",(0,m.jsx)(r.rjZ,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Are you sure you want to disable SUBNET Call Home?"}),(0,m.jsx)("br",{}),j&&(0,m.jsx)(r.rjZ,{item:!0,xs:12,sx:{marginBottom:10},children:(0,m.jsx)(r.kod,{})}),(0,m.jsxs)(r.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,m.jsx)(r.zxk,{id:"reset",type:"button",variant:"regular",disabled:j,onClick:function(){return t(!1)},label:"Cancel",sx:{marginRight:10}}),(0,m.jsx)(r.zxk,{id:"save-lifecycle",type:"submit",variant:"secondary",color:"primary",disabled:j,label:"Yes, Disable Call Home",onClick:y})]})]}):(0,m.jsxs)(i.Fragment,{children:["Are you sure you want to change the following configurations for SUBNET Call Home:",(0,m.jsxs)(r.rjZ,{item:!0,sx:{margin:"20px 0",display:"flex",flexDirection:"column",gap:15},children:[(0,m.jsxs)(r.rjZ,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,m.jsx)(r.J$M,{style:{fill:n?"#4CCB92":"#C83B51",width:20}}),(0,m.jsxs)("span",{children:[(0,m.jsx)("strong",{children:n?"Enable":"Disable"})," - Send Diagnostics Information to SUBNET"]})]}),(0,m.jsxs)(r.rjZ,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,m.jsx)(r.J$M,{style:{fill:s?"#4CCB92":"#C83B51",width:20}}),(0,m.jsxs)("span",{children:[(0,m.jsx)("strong",{children:s?"Enable":"Disable"})," - Send Logs Information to SUBNET"]})]})]}),(0,m.jsx)(r.rjZ,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Please Acknowledge that the information provided will only be available in your SUBNET Account and it will not be shared to other persons or entities besides MinIO team and you."}),j&&(0,m.jsx)(r.rjZ,{item:!0,xs:12,sx:{marginBottom:10},children:(0,m.jsx)(r.kod,{})}),(0,m.jsxs)(r.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,m.jsx)(r.zxk,{id:"reset",type:"button",variant:"regular",disabled:j,onClick:function(){return t(!1)},label:"Cancel",sx:{marginRight:10}}),(0,m.jsx)(r.zxk,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:j,label:"Yes, Save this Configuration",onClick:y})]})]})})},g=n(31460),j=n(47974),b=n(99670),y=function(){var e=(0,u.TL)(),t=(0,s.s0)(),n=(0,i.useState)(!0),l=(0,o.Z)(n,2),a=l[0],p=l[1],y=(0,i.useState)(!1),v=(0,o.Z)(y,2),C=v[0],Z=v[1],S=(0,i.useState)(!1),w=(0,o.Z)(S,2),k=w[0],I=w[1],E=(0,i.useState)(!1),B=(0,o.Z)(E,2),T=B[0],z=B[1],A=(0,i.useState)(!1),F=(0,o.Z)(A,2),L=F[0],D=F[1],H=(0,i.useState)(!1),M=(0,o.Z)(H,2),N=M[0],O=M[1],P=(0,i.useState)(!1),R=(0,o.Z)(P,2),U=R[0],W=R[1],Y=(0,h.Yc)();(0,i.useEffect)((function(){a&&x.Z.invoke("GET","/api/v1/support/callhome").then((function(e){p(!1),I(!!e.diagnosticsStatus),O(!!e.logsStatus),z(!!e.diagnosticsStatus),D(!!e.logsStatus)})).catch((function(t){p(!1),e((0,d.Ih)(t))}))}),[a,e]);var X="regular";return!Y||k===T&&N===L||(X="callAction"),(0,i.useEffect)((function(){e((0,d.Sc)("call_home"))}),[]),(0,m.jsxs)(i.Fragment,{children:[C&&(0,m.jsx)(f,{onClose:function(e){e&&p(!0),Z(!1)},open:C,logsStatus:N,diagStatus:k,disable:U}),(0,m.jsx)(j.Z,{label:"Call Home",actions:(0,m.jsx)(b.Z,{})}),(0,m.jsxs)(r.Xgh,{children:[!Y&&(0,m.jsx)(g.Z,{compactMode:!0}),(0,m.jsx)(r.ltY,{helpBox:(0,m.jsx)(r.KfX,{title:"Learn more about Call Home",iconComponent:(0,m.jsx)(r.o0P,{}),help:(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(r.xuv,{sx:{display:"flex",flexFlow:"column",fontSize:"14px",flex:"2",marginTop:"10px"},children:(0,m.jsxs)(r.xuv,{children:["Enabling Call Home sends cluster health & status to your registered MinIO Subscription Network account every 24 hours.",(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),"This helps the MinIO support team to provide quick incident responses along with suggestions for possible improvements that can be made to your MinIO instances.",(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),"Your cluster must be"," ",(0,m.jsx)(c.rU,{to:"/support/register",children:"registered"})," in the MinIO Subscription Network (SUBNET) before enabling this feature."]})})})}),children:a?(0,m.jsx)("span",{style:{marginLeft:5},children:(0,m.jsx)(r.aNw,{style:{width:16,height:16}})}):(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(r.rsf,{value:"enableDiag",id:"enableDiag",name:"enableDiag",checked:k,onChange:function(e){I(e.target.checked)},label:"Daily Health Report",disabled:!Y,description:"Daily Health Report enables you to proactively identify potential issues in your deployment before they escalate."}),(0,m.jsx)(r.rsf,{value:"enableLogs",id:"enableLogs",name:"enableLogs",checked:N,onChange:function(e){O(e.target.checked)},label:"Live Error Logs",disabled:!Y,description:"Live Error Logs will enable MinIO's support team and automatic diagnostics system to catch failures early."}),(0,m.jsxs)(r.xuv,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginTop:"55px",gap:"0px 10px"},children:[(T||L)&&(0,m.jsx)(r.zxk,{id:"callhome-action",variant:"secondary","data-test-id":"call-home-toggle-button",onClick:function(){W(!0),Z(!0)},disabled:a||!Y,children:"Disable Call Home"}),(0,m.jsx)(r.zxk,{id:"callhome-action",type:"button",variant:X,"data-test-id":"call-home-toggle-button",onClick:function(){Y?(W(!1),Z(!0)):t("/support/register")},disabled:a||!Y,children:"Save Configuration"})]})]})})]})]})},v=(0,l.Z)(i.lazy((function(){return Promise.all([n.e(911),n.e(4549),n.e(817),n.e(8833)]).then(n.bind(n,58833))}))),C=(0,l.Z)(i.lazy((function(){return n.e(1516).then(n.bind(n,51516))}))),Z=(0,l.Z)(i.lazy((function(){return n.e(483).then(n.bind(n,70483))}))),S=function(){return(0,m.jsxs)(s.Z5,{children:[(0,m.jsx)(s.AW,{path:"register",element:(0,m.jsx)(C,{})}),(0,m.jsx)(s.AW,{path:"profile",element:(0,m.jsx)(Z,{})}),(0,m.jsx)(s.AW,{path:"call-home",element:(0,m.jsx)(y,{})}),(0,m.jsx)(s.AW,{path:"inspect",element:(0,m.jsx)(v,{})}),(0,m.jsx)(s.AW,{path:"*",element:(0,m.jsx)(a.Z,{})})]})}}}]);
//# sourceMappingURL=3067.76cd4ffe.chunk.js.map