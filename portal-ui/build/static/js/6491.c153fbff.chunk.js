(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6491],{45902:function(e,n,r){"use strict";var t=r(1413),i=(r(72791),r(1582)),o=r(80184);n.Z=function(e){var n=e.label,r=void 0===n?null:n,a=e.value,c=void 0===a?"-":a,l=e.orientation,u=void 0===l?"column":l,s=e.stkProps,d=void 0===s?{}:s,p=e.lblProps,f=void 0===p?{}:p,h=e.valProps,x=void 0===h?{}:h;return(0,o.jsxs)(i.Z,(0,t.Z)((0,t.Z)({direction:{xs:"column",sm:u}},d),{},{children:[(0,o.jsx)("label",(0,t.Z)((0,t.Z)({style:{marginRight:5,fontWeight:600}},f),{},{children:r})),(0,o.jsx)("label",(0,t.Z)((0,t.Z)({style:{marginRight:5,fontWeight:500}},x),{},{children:c}))]}))}},37099:function(e,n,r){"use strict";var t=r(72791),i=r(29945),o=r(80184),a=function(e){var n=e.icon,r=e.description;return(0,o.jsxs)(i.xuv,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[n," ",(0,o.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:r})]})};n.Z=function(e){var n=e.helpText,r=e.docLink,c=e.docText,l=e.contents;return(0,o.jsxs)(i.xuv,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px"},children:[(0,o.jsxs)(i.xuv,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px",paddingBottom:"20px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,o.jsx)(i.M9A,{}),(0,o.jsx)("div",{children:n})]}),(0,o.jsxs)(i.xuv,{sx:{fontSize:"14px",marginBottom:"15px"},children:[l.map((function(e,n){return(0,o.jsxs)(t.Fragment,{children:[e.icon&&(0,o.jsx)(i.xuv,{sx:{paddingBottom:"20px"},children:(0,o.jsx)(a,{icon:e.icon,description:e.iconDescription})}),(0,o.jsx)(i.xuv,{sx:{paddingBottom:"20px"},children:e.text})]},"feature-item-".concat(n))})),(0,o.jsx)(i.xuv,{sx:{paddingBottom:"20px"},children:(0,o.jsx)("a",{href:r,target:"_blank",rel:"noopener",children:c})})]})]})}},51270:function(e,n,r){"use strict";var t=r(29439),i=r(72791),o=r(29945),a=r(87995),c=r(81551),l=r(9505),u=r(23508),s=r(80184);n.Z=function(e){var n=e.closeDeleteModalAndRefresh,r=e.deleteOpen,d=e.idp,p=e.idpType,f=(0,c.TL)(),h=(0,l.Z)((function(e){n(!0),f((0,a.cN)(!0===e.restart))}),(function(e){return f((0,a.Ih)(e))})),x=(0,t.Z)(h,2),m=x[0],v=x[1];if(!d)return null;var g="_"===d?"Default":d;return(0,s.jsx)(u.Z,{title:"Delete ".concat(g),confirmText:"Delete",isOpen:r,titleIcon:(0,s.jsx)(o.NvT,{}),isLoading:m,onConfirm:function(){v("DELETE","/api/v1/idp/".concat(p,"/").concat(d))},onClose:function(){return n(!1)},confirmButtonProps:{disabled:m},confirmationContent:(0,s.jsxs)(i.Fragment,{children:["Are you sure you want to delete IDP ",(0,s.jsx)("b",{children:g})," ","configuration? ",(0,s.jsx)("br",{})]})})}},6491:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return C}});var t=r(72791),i=r(56087),o=r(29945),a=r(79979),c=r(4942),l=r(1413),u=r(74165),s=r(15861),d=r(29439),p=r(57689),f=r(23814),h=r(81551),x=r(87995),m=r(81207),v=r(9505),g=r(51270),b=r(45902),y=r(47974),Z=r(99670),D=r(80184),j=function(e){var n=e.formFields,r=e.endpoint,i=e.backLink,a=e.header,j=e.idpType,k=e.icon,C=e.helpBox,S=(0,h.TL)(),E=(0,p.s0)(),I=(0,p.UO)().idpName,_=(0,t.useState)(!0),w=(0,d.Z)(_,2),P=w[0],q=w[1],N=(0,t.useState)(!1),O=(0,d.Z)(N,2),A=O[0],L=O[1],B=(0,t.useState)({}),R=(0,d.Z)(B,2),M=R[0],T=R[1],F=(0,t.useState)({}),U=(0,d.Z)(F,2),z=U[0],G=U[1],W=(0,t.useState)({}),V=(0,d.Z)(W,2),Y=V[0],H=V[1],$=(0,t.useState)(!1),K=(0,d.Z)($,2),X=K[0],J=K[1],Q=(0,t.useState)(!1),ee=(0,d.Z)(Q,2),ne=ee[0],re=ee[1],te=(0,v.Z)((function(e){S((0,x.cN)(!0===e.restart))}),(function(e){return S((0,x.Ih)(e))})),ie=(0,d.Z)(te,2),oe=ie[0],ae=ie[1],ce=(0,v.Z)((function(e){L(!A),S((0,x.cN)(!0===e.restart))}),(function(e){S((0,x.Ih)(e))})),le=(0,d.Z)(ce,2),ue=le[0],se=le[1],de=function(){X&&pe(Y),J(!X)},pe=function(e){var n={};e.info&&e.info.forEach((function(e){"enable"===e.key&&L("on"===e.value),n[e.key]=e.value})),T(n)};(0,t.useEffect)((function(){q(!0)}),[]),(0,t.useEffect)((function(){P&&m.Z.invoke("GET","".concat(r).concat(I)).then((function(e){e&&(H(e),pe(e),function(e){var n={};e.info&&e.info.forEach((function(e){n[e.key]=e.value})),G(n)}(e)),q(!1)})).catch((function(e){S((0,x.Ih)(e)),q(!1)}))}),[S,P,I,r]);var fe=function(){for(var e=0,r=Object.entries(n);e<r.length;e++){var t=(0,d.Z)(r[e],2),i=t[0];if(t[1].required&&(void 0===M[i]||null===M[i]||""===M[i]))return!1}return!0},he=function(){T({})},xe=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re(!1),n&&E(i);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){S((0,x.Sc)("idp_config"))}),[S]),(0,D.jsxs)(t.Fragment,{children:[ne&&I&&(0,D.jsx)(g.Z,{deleteOpen:ne,idp:I,idpType:j,closeDeleteModalAndRefresh:xe}),(0,D.jsxs)(o.rjZ,{item:!0,xs:12,children:[(0,D.jsx)(y.Z,{label:(0,D.jsx)(o.hbI,{onClick:function(){return E(i)},label:a}),actions:(0,D.jsx)(Z.Z,{})}),(0,D.jsxs)(o.Xgh,{children:[(0,D.jsx)(o.UHn,{icon:k,title:"_"===I?"Default":I||"",subTitle:null,actions:(0,D.jsxs)(t.Fragment,{children:["_"!==I&&(0,D.jsx)(o.zxk,{id:"delete-idp-config",onClick:function(){re(!0)},label:"Delete Configuration",icon:(0,D.jsx)(o.XHJ,{}),variant:"secondary"}),!X&&(0,D.jsx)(o.zxk,{id:"edit",type:"button",variant:"callAction",icon:(0,D.jsx)(o.dY8,{}),onClick:de,label:"Edit"}),(0,D.jsx)(o.zxk,{id:"is-configuration-enabled",onClick:function(){return function(e){var n="enable=".concat(e?"on":"off");se("PUT","".concat(r).concat(I),{input:n})}(!A)},label:A?"Disable":"Enable",disabled:ue}),(0,D.jsx)(o.zxk,{id:"refresh-idp-config",onClick:function(){return q(!0)},label:"Refresh",icon:(0,D.jsx)(o.DuK,{})})]}),sx:{marginBottom:15}}),X?(0,D.jsx)(o.ltY,{helpBox:C,children:(0,D.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault();for(var t="",i=0,o=Object.keys(n);i<o.length;i++){var a=o[i];(M[a]||M[a]!==z[a])&&(t+="".concat(a,"=").concat(M[a]," "))}ae("PUT","".concat(r).concat(I),{input:t}),J(!1)}(e)},children:(0,D.jsx)(o.rjZ,{container:!0,children:(0,D.jsxs)(o.rjZ,{xs:12,item:!0,children:[Object.entries(n).map((function(e){var n=(0,d.Z)(e,2);return function(e,n){return"toggle"===n.type?(0,D.jsx)(o.rsf,{indicatorLabels:["Enabled","Disabled"],checked:"on"===M[e],value:"is-field-enabled",id:"is-field-enabled",name:"is-field-enabled",label:n.label,tooltip:n.tooltip,onChange:function(n){return T((0,l.Z)((0,l.Z)({},M),{},(0,c.Z)({},e,n.target.checked?"on":"off")))},description:"",disabled:!X}):(0,D.jsx)(o.Wzg,{id:e,required:n.required,name:e,label:n.label,tooltip:n.tooltip,error:n.hasError(M[e],X),value:M[e]?M[e]:"",onChange:function(n){return T((0,l.Z)((0,l.Z)({},M),{},(0,c.Z)({},e,n.target.value)))},placeholder:n.placeholder,disabled:!X,type:n.type})}(n[0],n[1])})),(0,D.jsxs)(o.rjZ,{item:!0,xs:12,sx:f.ID.modalButtonBar,children:[X&&(0,D.jsx)(o.zxk,{id:"clear",type:"button",variant:"regular",onClick:he,label:"Clear"}),X&&(0,D.jsx)(o.zxk,{id:"cancel",type:"button",variant:"regular",onClick:de,label:"Cancel"}),X&&(0,D.jsx)(o.zxk,{id:"save-key",type:"submit",variant:"callAction",color:"primary",disabled:P||oe||!fe(),label:"Save"})]})]})})})}):(0,D.jsx)(o.xuv,{sx:(0,c.Z)({display:"grid",gridTemplateColumns:"1fr",gridAutoFlow:"dense",gap:3,padding:"15px",border:"1px solid #eaeaea"},"@media (min-width: ".concat(o.Egj.sm,"px)"),{gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row"}),children:Object.entries(n).map((function(e){var n=(0,d.Z)(e,2),r=n[0],t=n[1];return(0,D.jsx)(b.Z,{label:t.label,value:M[r]?M[r]:""},r)}))})]})]})]})},k=r(37099),C=function(){return(0,D.jsx)(j,{backLink:i.gA.IDP_OPENID_CONFIGURATIONS,header:"OpenID Configurations",endpoint:"/api/v1/idp/openid/",idpType:"openid",helpBox:(0,D.jsx)(k.Z,{helpText:"Learn more about OpenID Connect Configurations",contents:a.f4,docLink:"https://min.io/docs/minio/linux/operations/external-iam.html?ref=con#minio-external-iam-oidc",docText:"Learn more about OpenID Connect Configurations"}),formFields:a.DY,icon:(0,D.jsx)(o.mBM,{width:40})})}},79979:function(e,n,r){"use strict";r.d(n,{DY:function(){return l},Si:function(){return a},f4:function(){return c},iR:function(){return u}});var t=r(50521),i=r(29945),o=r(80184),a=[{text:"MinIO supports using an Active Directory or LDAP (AD/LDAP) service for external management of user identities. Configuring an external IDentity Provider (IDP) enables Single-Sign On (SSO) workflows, where applications authenticate against the external IDP before accessing MinIO.",icon:(0,o.jsx)(t.Z,{}),iconDescription:"Create Configurations"},{text:"MinIO queries the configured Active Directory / LDAP server to verify the credentials specified by the application and optionally return a list of groups in which the user has membership. MinIO supports two modes (Lookup-Bind Mode and Username-Bind Mode) for performing these queries",icon:null,iconDescription:""},{text:"MinIO recommends using Lookup-Bind mode as the preferred method for verifying AD/LDAP credentials. Username-Bind mode is a legacy method retained for backwards compatibility only.",icon:null,iconDescription:""}],c=[{text:"MinIO supports using an OpenID Connect (OIDC) compatible IDentity Provider (IDP) such as Okta, KeyCloak, Dex, Google, or Facebook for external management of user identities.",icon:(0,o.jsx)(i.mBM,{}),iconDescription:"Create Configurations"},{text:"Configuring an external IDP enables Single-Sign On workflows, where applications authenticate against the external IDP before accessing MinIO.",icon:null,iconDescription:""}],l={config_url:{required:!0,hasError:function(e,n){return!e&&n?"Config URL is required":""},label:"Config URL",tooltip:"Config URL for identity provider configuration",placeholder:"https://identity-provider-url/.well-known/openid-configuration",type:"text"},client_id:{required:!0,hasError:function(e,n){return!e&&n?"Client ID is required":""},label:"Client ID",tooltip:"Identity provider Client ID",placeholder:"Enter Client ID",type:"text"},client_secret:{required:!0,hasError:function(e,n){return!e&&n?"Client Secret is required":""},label:"Client Secret",tooltip:"Identity provider Client Secret",placeholder:"Enter Client Secret",type:"password"},claim_name:{required:!1,label:"Claim Name",tooltip:"Claim from which MinIO will read the policy or role to use",placeholder:"Enter Claim Name",type:"text",hasError:function(e,n){return""}},display_name:{required:!1,label:"Display Name",tooltip:"",placeholder:"Enter Display Name",type:"text",hasError:function(e,n){return""}},claim_prefix:{required:!1,label:"Claim Prefix",tooltip:"",placeholder:"Enter Claim Prefix",type:"text",hasError:function(e,n){return""}},scopes:{required:!1,label:"Scopes",tooltip:"",placeholder:"openid,profile,email",type:"text",hasError:function(e,n){return""}},redirect_uri:{required:!1,label:"Redirect URI",tooltip:"",placeholder:"https://console-endpoint-url/oauth_callback",type:"text",hasError:function(e,n){return""}},role_policy:{required:!1,label:"Role Policy",tooltip:"",placeholder:"readonly",type:"text",hasError:function(e,n){return""}},claim_userinfo:{required:!1,label:"Claim User Info",tooltip:"",placeholder:"Claim User Info",type:"toggle",hasError:function(e,n){return""}},redirect_uri_dynamic:{required:!1,label:"Redirect URI Dynamic",tooltip:"",placeholder:"Redirect URI Dynamic",type:"toggle",hasError:function(e,n){return""}}},u={server_insecure:{required:!0,hasError:function(e,n){return!e&&n?"Server Address is required":""},label:"Server Insecure",tooltip:"Disable SSL certificate verification ",placeholder:"myldapserver.com:636",type:"toggle"},server_addr:{required:!0,hasError:function(e,n){return!e&&n?"Server Address is required":""},label:"Server Address",tooltip:'AD/LDAP server address e.g. "myldapserver.com:636"',placeholder:"myldapserver.com:636",type:"text"},lookup_bind_dn:{required:!0,hasError:function(e,n){return!e&&n?"Lookup Bind DN is required":""},label:"Lookup Bind DN",tooltip:"DN (Distinguished Name) for LDAP read-only service account used to perform DN and group lookups",placeholder:"cn=admin,dc=min,dc=io",type:"text"},lookup_bind_password:{required:!0,hasError:function(e,n){return!e&&n?"Lookup Bind Password is required":""},label:"Lookup Bind Password",tooltip:"Password for LDAP read-only service account used to perform DN and group lookups",placeholder:"admin",type:"password"},user_dn_search_base_dn:{required:!0,hasError:function(e,n){return!e&&n?"User DN Search Base DN is required":""},label:"User DN Search Base",tooltip:"",placeholder:"DC=example,DC=net",type:"text"},user_dn_search_filter:{required:!0,hasError:function(e,n){return!e&&n?"User DN Search Filter is required":""},label:"User DN Search Filter",tooltip:"",placeholder:"(sAMAcountName=%s)",type:"text"},group_search_base_dn:{required:!1,hasError:function(e,n){return""},label:"Group Search Base DN",tooltip:"",placeholder:"ou=swengg,dc=min,dc=io",type:"text"},group_search_filter:{required:!1,hasError:function(e,n){return""},label:"Group Search Filter",tooltip:"",placeholder:"(&(objectclass=groupofnames)(member=%d))",type:"text"}}},50521:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var i=t(r(45649)),o=r(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}),"Login");n.Z=a},45649:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=r(28610)},1582:function(e,n,r){"use strict";r.d(n,{Z:function(){return E}});var t=r(4942),i=r(63366),o=r(87462),a=r(72791),c=r(63733),l=r(82466),u=r(94419),s=r(21217),d=(0,r(44046).ZP)(),p=r(86083),f=r(78519),h=r(85080),x=r(51184),m=r(45682),v=r(80184),g=["component","direction","spacing","divider","children","className","useFlexGap"],b=(0,h.Z)(),y=d("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return n.root}});function Z(e){return(0,p.Z)({props:e,name:"MuiStack",defaultTheme:b})}function D(e,n){var r=a.Children.toArray(e).filter(Boolean);return r.reduce((function(e,t,i){return e.push(t),i<r.length-1&&e.push(a.cloneElement(n,{key:"separator-".concat(i)})),e}),[])}var j=function(e){var n=e.ownerState,r=e.theme,i=(0,o.Z)({display:"flex",flexDirection:"column"},(0,x.k9)({theme:r},(0,x.P$)({values:n.direction,breakpoints:r.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var a=(0,m.hB)(r),c=Object.keys(r.breakpoints.values).reduce((function(e,r){return("object"===typeof n.spacing&&null!=n.spacing[r]||"object"===typeof n.direction&&null!=n.direction[r])&&(e[r]=!0),e}),{}),u=(0,x.P$)({values:n.direction,base:c}),s=(0,x.P$)({values:n.spacing,base:c});"object"===typeof u&&Object.keys(u).forEach((function(e,n,r){if(!u[e]){var t=n>0?u[r[n-1]]:"column";u[e]=t}}));i=(0,l.Z)(i,(0,x.k9)({theme:r},s,(function(e,r){return n.useFlexGap?{gap:(0,m.NA)(a,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":(0,t.Z)({},"margin".concat((i=r?u[r]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i])),(0,m.NA)(a,e))};var i})))}return i=(0,x.dt)(r.breakpoints,i)};var k=r(66934),C=r(31402),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.createStyledComponent,r=void 0===n?y:n,t=e.useThemeProps,l=void 0===t?Z:t,d=e.componentName,p=void 0===d?"MuiStack":d,h=r(j),x=a.forwardRef((function(e,n){var r=l(e),t=(0,f.Z)(r),a=t.component,d=void 0===a?"div":a,x=t.direction,m=void 0===x?"column":x,b=t.spacing,y=void 0===b?0:b,Z=t.divider,j=t.children,k=t.className,C=t.useFlexGap,S=void 0!==C&&C,E=(0,i.Z)(t,g),I={direction:m,spacing:y,useFlexGap:S},_=(0,u.Z)({root:["root"]},(function(e){return(0,s.Z)(p,e)}),{});return(0,v.jsx)(h,(0,o.Z)({as:d,ownerState:I,ref:n,className:(0,c.Z)(_.root,k)},E,{children:Z?D(j,Z):j}))}));return x}({createStyledComponent:(0,k.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return n.root}}),useThemeProps:function(e){return(0,C.Z)({props:e,name:"MuiStack"})}}),E=S},31260:function(e,n,r){"use strict";var t=r(78949);n.Z=t.Z},28610:function(e,n,r){"use strict";r.r(n),r.d(n,{capitalize:function(){return i.Z},createChainedFunction:function(){return o.Z},createSvgIcon:function(){return a.Z},debounce:function(){return c.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return u.Z},ownerDocument:function(){return s.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return p},setRef:function(){return f},unstable_ClassNameGenerator:function(){return Z},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return x.Z},unsupportedProp:function(){return m},useControlled:function(){return v.Z},useEventCallback:function(){return g.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return y.Z}});var t=r(55902),i=r(14036),o=r(31260),a=r(76189),c=r(83199);var l=function(e,n){return function(){return null}},u=r(19103),s=r(98301),d=r(17602);r(87462);var p=function(e,n){return function(){return null}},f=r(62971).Z,h=r(40162),x=r(67384);var m=function(e,n,r,t,i){return null},v=r(98278),g=r(89683),b=r(42071),y=r(23031),Z={configure:function(e){t.Z.configure(e)}}},19103:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(72791);var i=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)}},78949:function(e,n,r){"use strict";function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce((function(e,n){return null==n?e:function(){for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];e.apply(this,t),n.apply(this,t)}}),(function(){}))}r.d(n,{Z:function(){return t}})},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=6491.c153fbff.chunk.js.map