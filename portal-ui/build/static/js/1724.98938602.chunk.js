"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1724],{89345:function(e,t,n){var a=n(18489),i=n(50390),r=n(62449),l=n(98247),o=n(49044),s=n(62559),c=(0,r.Z)({root:{backgroundColor:"transparent",paddingTop:0,paddingBottom:0,fontSize:22,textTransform:"uppercase",color:"#D0D0D0"},selected:{"& .MuiTab-wrapper":{color:"#07193E",fontWeight:"bold"}},indicator:{background:"transparent linear-gradient(90deg, #072B4E 0%, #081C42 100%) 0% 0% no-repeat padding-box;",height:4},scroller:{maxWidth:1185,position:"relative","&::after":{content:'" "',backgroundColor:"#EEF1F4",height:4,width:"100%",display:"block"}}});t.Z=function(e){var t=e.selectedTab,n=e.onChange,r=e.tabOptions,d=c();return(0,s.jsx)(i.Fragment,{children:(0,s.jsx)(l.Z,{indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",value:t,onChange:function(e,t){n(t)},classes:{indicator:d.indicator,scroller:d.scroller},children:r.map((function(e,t){var n={label:e.label};return e.value&&(n=(0,a.Z)((0,a.Z)({},n),{},{value:e.value})),e.disabled&&(n=(0,a.Z)((0,a.Z)({},n),{},{disabled:e.disabled})),(0,i.createElement)(o.Z,(0,a.Z)((0,a.Z)({},n),{},{classes:{root:d.root,selected:d.selected},id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t),key:"tab-".concat(t,"-").concat(e.label)}))}))})})}},80076:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(35531),i=n(23430),r=n(18489),l=n(50390),o=n(86509),s=n(4285),c=n(25594),d=n(28948),u=n(4795),m=n(16356),g=n(86192),x=n(52813),f=n(38342),p=n.n(f),h=n(72462),v=n(62559),j=(0,s.Z)((function(e){return(0,o.Z)((0,r.Z)({},h.SJ))}))((function(e){var t=e.classes,n=e.server,a=e.index,i=Object.keys(p()(n,"network",{})),r=i.length,l=n.drives?n.drives.length:0,o=i.reduce((function(e,t){return"online"===n.network[t]?e+1:e}),0),s=n.drives?n.drives.filter((function(e){return"ok"===e.state})).length:0;return(0,v.jsx)(m.Z,{className:t.cardContainer,children:(0,v.jsx)(g.Z,{className:t.cardHeader,title:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:t.cardNumber,children:["Server ",a]}),(0,v.jsxs)("div",{className:t.referenceTitle,children:[n.state&&(0,v.jsx)("span",{className:function(e){switch(e){case"offline":return t.redState;case"online":return t.greenState;default:return t.greyState}}(n.state),children:(0,v.jsx)(x.J$,{})}),n.endpoint||""]})]}),subheader:(0,v.jsxs)(c.ZP,{item:!0,xs:12,className:t.stateContainer,children:[(0,v.jsxs)("span",{className:t.infoValue,children:[(0,v.jsx)("span",{className:"".concat(t.innerState," ").concat(s<=l/2&&t.redState,"  ").concat(2!==l&&s===l/2+1&&t.yellowState,"  ").concat(s===l&&t.greenState),children:(0,v.jsx)(x.J$,{})}),"Drives: ",s,"/",l," "]}),(0,v.jsxs)("span",{className:t.infoValue,children:[(0,v.jsx)("span",{className:"".concat(t.innerState," ").concat(o<=r/2&&t.redState," ").concat(o===r/2+1&&t.yellowState," ").concat(o===r&&t.greenState),children:(0,v.jsx)(x.J$,{})}),"Network: ",o,"/",r," "]}),(0,v.jsxs)("span",{className:t.infoValue,children:["Uptime: ",n.uptime?(0,d.v1)(n.uptime):"N/A"]}),(0,v.jsxs)("span",{className:t.infoValue,children:[(0,v.jsx)(x.Db,{}),(0,v.jsx)("strong",{children:"Version"})," ",n.version?n.version:"N/A"]})]})})})})),y=(0,s.Z)((function(e){return(0,o.Z)((0,r.Z)({},h.SJ))}))((function(e){var t=e.classes,n=e.drive;return(0,v.jsx)(l.Fragment,{children:(0,v.jsx)(m.Z,{className:t.cardContainer,children:(0,v.jsx)(g.Z,{className:t.cardHeader,title:(0,v.jsxs)("div",{className:t.referenceTitle,children:[n.state&&(0,v.jsx)("span",{className:function(e){switch(e){case"offline":return t.redState;case"ok":return t.greenState;default:return t.greyState}}(n.state),children:(0,v.jsx)(x.J$,{})}),n.endpoint||""]}),subheader:(0,v.jsxs)(c.ZP,{item:!0,xs:12,className:t.stateContainer,children:[(0,v.jsxs)("span",{className:t.infoValue,children:[(0,v.jsx)("strong",{children:"Capacity:"})," ",(0,d.ae)(n.totalSpace?n.totalSpace.toString():"0")]}),(0,v.jsxs)("span",{className:t.infoValue,children:[(0,v.jsx)("strong",{children:"Used:"})," ",(0,d.ae)(n.usedSpace?n.usedSpace.toString():"0")]}),(0,v.jsxs)("span",{className:t.infoValue,children:[(0,v.jsx)("strong",{children:"Available:"})," ",(0,d.ae)(n.availableSpace?n.availableSpace.toString():"0")]})]})})})})})),C=n(48820),b=n(89345),Z=n(62449),N=n(43353),S=(0,Z.Z)({ul:{"& .MuiPaginationItem-root":{color:"#07193E",fontSize:14,"&.Mui-selected":{backgroundColor:"transparent",fontWeight:"bold","&::after":{backgroundColor:"#07193E",width:"100%",height:3,content:'" "',position:"absolute",bottom:-3}}}}}),A=(0,s.Z)((function(e){return(0,o.Z)({paginatorContainer:{margin:"10px 0 18px",flexWrap:"wrap"},paginatorInformation:{color:"#848484",fontSize:12,fontStyle:"italic",whiteSpace:"nowrap"},paginatorEntity:{color:"#767676",fontSize:12,fontWeight:"bold"},paginationElement:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",color:"#848484",fontSize:12}})}))((function(e){var t=e.classes,n=e.page,a=void 0===n?1:n,i=e.itemsPerPage,r=void 0===i?5:i,o=e.entity,s=e.totalItems,d=e.onChange,u=S(),m=a*r-r+1,g=m+r-1,x=g>s?s:g,f=Math.ceil(s/r);return(0,v.jsx)(l.Fragment,{children:(0,v.jsxs)(c.ZP,{container:!0,className:t.paginatorContainer,children:[(0,v.jsxs)(c.ZP,{item:!0,xs:6,children:[(0,v.jsx)("span",{className:t.paginatorEntity,children:o}),(0,v.jsx)("br",{}),(0,v.jsxs)("span",{className:t.paginatorInformation,children:["Showing"," ",f>1?(0,v.jsxs)(l.Fragment,{children:[m," - ",x," out of"," "]}):null,s," Total ",o]})]}),(0,v.jsx)(c.ZP,{item:!0,xs:6,className:t.paginationElement,children:f>1&&(0,v.jsxs)(l.Fragment,{children:["Go to:"," ",(0,v.jsx)(N.Z,{count:f,variant:"text",siblingCount:3,page:a,size:"small",hideNextButton:!0,hidePrevButton:!0,onChange:function(e,t){d(t)},classes:{ul:u.ul}})]})})]})})})),E=n(8235),w=(0,s.Z)((function(e){return(0,o.Z)((0,r.Z)({generalStatusTitle:{color:"#767676",fontSize:16,fontWeight:"bold",margin:"15px 10px 0 10px"},paginatorContainer:{maxWidth:1185,width:"100%"}},h.bN))}))((function(e){var t=e.classes,n=e.usage,r=(0,l.useState)(0),o=(0,i.Z)(r,2),s=o[0],m=o[1],g=(0,l.useState)(1),f=(0,i.Z)(g,2),p=f[0],h=f[1],Z=(0,l.useState)(1),N=(0,i.Z)(Z,2),S=N[0],w=N[1],k=function(e){return null!==e?e.servers.sort((function(e,t){var n=e.endpoint.toLowerCase(),a=t.endpoint.toLowerCase();return n<a?-1:n>a?1:0})):[]}(n||null),F=function(e){return void 0===e?{total:"0",unit:"Mi"}:(0,d.Am)(e)}(n&&n.usage?n.usage.toString():"0"),P=[];k.forEach((function(e){var t=e.drives.map((function(e){return e}));P=[].concat((0,a.Z)(P),(0,a.Z)(t))}));var T=k.slice(5*p-5,5*p),M=P.slice(5*S-5,5*S);return(0,v.jsxs)(l.Fragment,{children:[(0,v.jsx)("div",{className:t.dashboardBG}),(null===n||void 0===n?void 0:n.prometheusNotReady)&&(0,v.jsx)(c.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,v.jsx)(c.ZP,{item:!0,xs:8,children:(0,v.jsx)(E.Z,{iconComponent:(0,v.jsx)(x.MY,{}),title:"We can't retrieve advanced metrics at this time",help:(0,v.jsxs)(l.Fragment,{children:["MinIO Dashboard will display basic metrics as we couldn't connect to Prometheus successfully.",(0,v.jsx)("br",{})," ",(0,v.jsx)("br",{}),"Please try again in a few minutes. If the problem persists, you can review your configuration and confirm that Prometheus server is up and running."]})})})}),(0,v.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(c.ZP,{item:!0,xs:12,className:t.generalStatusTitle,children:"General Status"}),(0,v.jsxs)(c.ZP,{item:!0,xs:12,className:t.dashboardRow,children:[(0,v.jsx)(c.ZP,{item:!0,xs:7,sm:8,md:6,lg:3,className:t.widgetPanelDelimiter,children:(0,v.jsx)(C.Z,{title:"All Buckets",metricValue:n?(0,d.nk)(n.buckets):0,extraMargin:!0})}),(0,v.jsx)(c.ZP,{item:!0,xs:7,sm:8,md:6,lg:3,className:t.widgetPanelDelimiter,children:(0,v.jsx)(C.Z,{title:"Usage",metricValue:F.total,metricUnit:F.unit,extraMargin:!0})}),(0,v.jsx)(c.ZP,{item:!0,xs:7,sm:8,md:6,lg:3,className:t.widgetPanelDelimiter,children:(0,v.jsx)(C.Z,{title:"Total Objects",metricValue:n?(0,d.nk)(n.objects):0,extraMargin:!0})}),(0,v.jsx)(c.ZP,{item:!0,xs:7,sm:8,md:6,lg:3,className:t.widgetPanelDelimiter,children:(0,v.jsx)(C.Z,{title:"Servers",metricValue:n?function(e){return void 0===e?0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}(k.length):0,subMessage:{message:"Total"},extraMargin:!0})})]}),(0,v.jsx)(c.ZP,{item:!0,xs:12,children:(0,v.jsx)(b.Z,{selectedTab:s,onChange:function(e){m(e)},tabOptions:[{label:"Servers"},{label:"Drives"}]})}),(0,v.jsxs)(c.ZP,{item:!0,xs:12,className:t.widgetsContainer,children:[(0,v.jsxs)(u.x,{index:0,value:s,children:[(0,v.jsx)("div",{className:t.paginatorContainer,children:(0,v.jsx)(A,{page:p,entity:"Servers",totalItems:k.length,onChange:h,itemsPerPage:5})}),T.map((function(e,t){return(0,v.jsx)(c.ZP,{item:!0,xs:12,children:(0,v.jsx)(j,{server:e,index:t+1})},"serverDS-".concat(t.toString()))}))]}),(0,v.jsxs)(u.x,{index:1,value:s,children:[(0,v.jsx)("div",{className:t.paginatorContainer,children:(0,v.jsx)(A,{page:S,entity:"Drives",totalItems:P.length,onChange:w,itemsPerPage:5})}),M.map((function(e,t){return(0,v.jsx)(c.ZP,{item:!0,xs:12,children:(0,v.jsx)(y,{drive:e})},"drive-".concat(t,"-").concat(e.uuid))}))]})]})]}),!(null!==n&&void 0!==n&&n.prometheusNotReady)&&(0,v.jsx)(c.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,v.jsx)(c.ZP,{item:!0,xs:8,children:(0,v.jsx)(E.Z,{iconComponent:(0,v.jsx)(x.MY,{}),title:"Monitoring",help:(0,v.jsxs)(l.Fragment,{children:["The MinIO Dashboard is displaying basic metrics only due to missing the"," ",(0,v.jsx)("a",{href:"https://docs.min.io/minio/baremetal/console/minio-console.html?ref=con#configuration",target:"_blank",rel:"noreferrer",children:"necessary settings"})," ","for displaying extended metrics.",(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),"See"," ",(0,v.jsx)("a",{href:"https://docs.min.io/minio/baremetal/monitoring/metrics-alerts/collect-minio-metrics-using-prometheus.html?ref=con#minio-metrics-collect-using-prometheus",target:"_blank",rel:"noreferrer",children:"Collect MinIO Metrics Using Prometheus"})," ","for a complete tutorial on scraping and visualizing MinIO metrics with Prometheus."]})})})})]})}))},48820:function(e,t,n){var a=n(18489),i=n(16356),r=n(86192),l=n(6369),o=n(86509),s=n(4285),c=n(62449),d=n(50390),u=n(72462),m=n(62559),g=(0,c.Z)({root:{backgroundColor:"#fff",padding:0},title:(0,a.Z)({},u.NP.titleContainer),content:{maxWidth:"100%"}});t.Z=(0,s.Z)((function(e){return(0,o.Z)((0,a.Z)((0,a.Z)({},u.NP),{},{cardRoot:(0,a.Z)((0,a.Z)({},u.NP.singleValueContainer),{},{"&.MuiPaper-root":{borderRadius:10}}),metricText:{fontSize:70,lineHeight:1.1,color:"#07193E",fontWeight:"bold"},unitText:{fontSize:10,color:"#767676",fontWeight:"normal"},subHearderContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},subMessage:{fontSize:10,color:"#767676","&.bold":{fontWeight:"bold"}},headerContainer:{display:"flex",justifyContent:"space-between"},viewAll:{fontSize:10,color:"#C83B51",textTransform:"capitalize","& a, & a:hover, & a:visited, & a:active":{color:"#C83B51"}},extraMargin:{margin:"10px 20px 10px 0"}}))}))((function(e){var t=e.title,n=e.metricValue,a=e.metricUnit,o=e.subMessage,s=e.moreLink,c=e.rightComponent,u=e.extraMargin,x=void 0!==u&&u,f=e.classes,p=g(),h=function(){return(0,m.jsx)(d.Fragment,{children:(0,m.jsxs)("div",{className:f.subHearderContainer,children:[(0,m.jsxs)("div",{className:f.leftSide,children:[(0,m.jsx)("div",{children:(0,m.jsxs)("span",{className:f.metricText,children:[n,(0,m.jsx)("span",{className:f.unitText,children:a})]})}),o&&(0,m.jsx)("div",{className:"".concat(f.subMessage," ").concat(o.fontWeight?o.fontWeight:""),children:o.message})]}),(0,m.jsx)("div",{className:f.rightSide,children:c})]})})},v=function(){return(0,m.jsx)(d.Fragment,{children:(0,m.jsxs)("div",{className:f.headerContainer,children:[(0,m.jsx)("span",{className:f.title,children:t}),s&&(0,m.jsx)(d.Fragment,{children:(0,m.jsx)("span",{className:f.viewAll,children:(0,m.jsx)(l.rU,{to:s,children:"View All"})})})]})})};return(0,m.jsx)(d.Fragment,{children:(0,m.jsx)(i.Z,{className:"".concat(f.cardRoot," ").concat(x?f.extraMargin:""),children:""!==n&&(0,m.jsx)(r.Z,{title:(0,m.jsx)(v,{}),subheader:(0,m.jsx)(d.Fragment,{children:(0,m.jsx)(h,{})}),classes:{root:p.root,title:p.title,content:p.content}})})})}))},82165:function(e,t,n){n.d(t,{Z:function(){return pe}});var a,i=n(23430),r=n(18489),l=n(50390),o=n(34424),s=n(25594),c=n(86509),d=n(4285),u=n(13512),m=n(72462),g=n(38342),x=n.n(g);!function(e){e.singleValue="singleValue",e.linearGraph="linearGraph",e.areaGraph="areaGraph",e.barChart="barChart",e.pieChart="pieChart",e.singleRep="singleRep",e.simpleWidget="simpleWidget"}(a||(a={}));var f=n(28948),p=n(20426),h=n(73891),v=n(52813),j=n(62559),y=["#C4D4E9","#DCD1EE","#D1EEE7","#EEDED1","#AAF38F","#F9E6C5","#C83B51","#F4CECE","#D6D6D6"],C=function(e){return(0,f.v1)(e,"ns")},b=function(e){return parseInt(e).toString(10)},Z=[{id:1,title:"Uptime",data:"N/A",type:a.simpleWidget,widgetIcon:(0,j.jsx)(v.oN,{}),labelDisplayFunction:f.v1},{id:50,title:"Capacity",data:[],dataOuter:[{name:"outer",value:100}],widgetConfiguration:{outerChart:{colorList:["#9c9c9c"],innerRadius:0,outerRadius:0,startAngle:0,endAngle:0},innerChart:{colorList:y,innerRadius:20,outerRadius:50,startAngle:90,endAngle:-200}},type:a.pieChart,innerLabel:"N/A",labelDisplayFunction:f.ae},{id:68,title:"Data Usage Growth",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.areaGraph,yAxisFormatter:f.ae,xAxisFormatter:f.Ue},{id:52,title:"Object size distribution",data:[],widgetConfiguration:[{dataKey:"a",color:y[0],background:{fill:"#EEF1F4"},greatestColor:"#081C42"}],customStructure:[{originTag:"LESS_THAN_1024_B",displayTag:"Less than 1024B"},{originTag:"BETWEEN_1024_B_AND_1_MB",displayTag:"Between 1024B and 1MB"},{originTag:"BETWEEN_1_MB_AND_10_MB",displayTag:"Between 1MB and 10MB"},{originTag:"BETWEEN_10_MB_AND_64_MB",displayTag:"Between 10MB and 64MB"},{originTag:"BETWEEN_64_MB_AND_128_MB",displayTag:"Between 64MB and 128MB"},{originTag:"BETWEEN_128_MB_AND_512_MB",displayTag:"Between 128MB and 512MB"},{originTag:"GREATER_THAN_512_MB",displayTag:"Greater than 512MB"}],type:a.barChart},{id:66,title:"Buckets",data:[],innerLabel:"N/A",type:a.singleRep,color:"#0071BC",fillColor:"#ADD5E0"},{id:44,title:"Objects",data:[],innerLabel:"N/A",type:a.singleRep,color:"#0071BC",fillColor:"#ADD5E0"},{id:63,title:"API Data Received Rate",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,xAxisFormatter:f.Ue,yAxisFormatter:f.ae},{id:61,title:"Total Open FDs",data:[],innerLabel:"N/A",type:a.singleRep,color:"#22B573",fillColor:"#A6E8C4"},{id:62,title:"Total Goroutines",data:[],innerLabel:"N/A",type:a.singleRep,color:"#F7655E",fillColor:"#F4CECE"},{id:77,title:"Node CPU Usage",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,yAxisFormatter:b,xAxisFormatter:f.Ue},{id:60,title:"API Request Rate",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,xAxisFormatter:f.Ue},{id:70,title:"API Data Sent Rate",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,xAxisFormatter:f.Ue,yAxisFormatter:f.ae},{id:17,title:"Internode Data Transfer",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,yAxisFormatter:f.ae,xAxisFormatter:f.Ue},{id:73,title:"Node IO",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,yAxisFormatter:f.ae,xAxisFormatter:f.Ue},{id:80,title:"Time Since Last Heal Activity",data:"N/A",type:a.simpleWidget,widgetIcon:(0,j.jsx)(p.Z,{}),labelDisplayFunction:C},{id:81,title:"Time Since Last Scan Activity",data:"N/A",type:a.simpleWidget,widgetIcon:(0,j.jsx)(h.Z,{}),labelDisplayFunction:C},{id:71,title:"API Request Error Rate",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,xAxisFormatter:f.Ue},{id:76,title:"Node Memory Usage",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,xAxisFormatter:f.Ue,yAxisFormatter:f.ae},{id:74,title:"Drive Used Capacity",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,xAxisFormatter:f.Ue,yAxisFormatter:f.ae},{id:82,title:"Drives Free Inodes",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,disableYAxis:!0,xAxisFormatter:f.Ue},{id:11,title:"Node Syscalls",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,yAxisFormatter:b,xAxisFormatter:f.Ue},{id:8,title:"Node File Descriptors",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:a.linearGraph,yAxisFormatter:b,xAxisFormatter:f.Ue},{id:500,mergedPanels:[{id:53,title:"Online",data:"N/A",type:a.singleValue},{id:69,title:"Offline",data:"N/A",type:a.singleValue}],title:"Servers"},{id:501,mergedPanels:[{id:9,title:"Online",data:"N/A",type:a.singleValue},{id:78,title:"Offline",data:"N/A",type:a.singleValue}],title:"Drives"},{id:502,mergedPanels:[{id:65,title:"Upload",data:"N/A",type:a.singleValue,labelDisplayFunction:f.ae},{id:64,title:"Download",data:"N/A",type:a.singleValue,labelDisplayFunction:f.ae}],title:"Network"}],N=function(e,t){if(0===e.length)return["","0"];if("mean"===t){var n=e.reduce((function(e,t){return e+parseFloat(t[1])}),0);return["",Math.floor(n/e.length).toString()]}var a=e.sort((function(e,t){return e[0]-t[0]}));return a[a.length-1]},S=function(e,t){if(!e)return t;var n=e.type;switch(t.type){case a.singleValue:case a.simpleWidget:if("stat"===n||"singlestat"===n){var i=x()(e,"targets[0].result[0].values",[]);null===i&&(i=[]);var l=x()(e,"options.reduceOptions.calcs[0]","lastNotNull"),o=N(i,l),s=t.labelDisplayFunction?t.labelDisplayFunction(o[1]):o[1];return(0,r.Z)((0,r.Z)({},t),{},{data:s})}break;case a.pieChart:if("gauge"===n){var c=x()(e,"targets[0].result",[]);null===c&&(c=[]);var d=x()(e,"options.reduceOptions.calcs[0]","lastNotNull"),u=c.length>0?c[0].values:[],m=N(u,d),g=c.map((function(e){var t=x()(e,"values",[]),n=Object.keys(e.metric),a=t.sort((function(e,t){return e[0]-t[0]})),i=e.metric[n[0]],r=a[a.length-1];return{name:i,value:parseInt(r)}})),p=t.labelDisplayFunction?t.labelDisplayFunction(m[1]):m[1];return(0,r.Z)((0,r.Z)({},t),{},{data:g,innerLabel:p})}break;case a.linearGraph:case a.areaGraph:if("graph"===n){var h=x()(e,"targets",[]);null===h&&(h=[]);var v=[],j=[];h.forEach((function(e,t){var n=x()(e,"result",[]),a=e.legendFormat;null===n&&(n=[]),n.forEach((function(e){var n=function(e,t){var n=Object.keys(e),a=new RegExp("{{(".concat(n.join("|"),")}}"),"g"),i=t.replace(a,(function(t){var n=t.replace(/({{|}})/g,"");return e[n]})),r=(i.match(/{{/g)||[]).length,l=(i.match(/}}/g)||[]).length,o=i.replace(/{{(.*?)}}/g,"");return r===l&&0!==r&&0!==l&&(n.forEach((function(t){i=i.replace(t,e[t])})),o=i),o}(e.metric,a),i="key_".concat(t).concat(n);v.push({dataKey:i,keyLabel:n,lineColor:"",fillColor:""});var r=x()(e,"values",[]);null===r&&(r=[]),r.forEach((function(e){var t=j.findIndex((function(t){return t.name===e[0]}));if(-1===t){var n={name:e[0]};n[i]=e[1],j.push(n)}else j[t][i]=e[1]}))}))}));var C=v.sort((function(e,t){return e.keyLabel<t.keyLabel?-1:e.keyLabel>t.keyLabel?1:0})).map((function(e,t){return(0,r.Z)((0,r.Z)({},e),{},{lineColor:y[t]||(0,f.C5)(e.keyLabel),fillColor:y[t]||(0,f.C5)(e.keyLabel)})})),b=j.sort((function(e,t){return e.name-t.name}));return(0,r.Z)((0,r.Z)({},t),{},{widgetConfiguration:C,data:b})}break;case a.barChart:if("bargauge"===n){var Z=x()(e,"targets[0].result",[]);null===Z&&(Z=[]);var S=function(e,t){return e[0]-t[0]},A=[];return A=t.customStructure?t.customStructure.map((function(e){var t=Z.find((function(t){var n=Object.keys(t.metric);return t.metric[n[0]]===e.originTag})),n=x()(t,"values",[]).sort(S),a=n[n.length-1]||["","0"];return{name:e.displayTag,a:parseInt(a[1])}})):Z.map((function(e){var t=Object.keys(e.metric),n=e.metric[t[0]],a=x()(e,"values",[]).sort(S),i=a[a.length-1]||["","0"];return{name:n,a:parseInt(i[1])}})),(0,r.Z)((0,r.Z)({},t),{},{data:A})}break;case a.singleRep:if("stat"===n){var E=x()(e,"targets[0].result[0].values",[]);null===E&&(E=[]);var w=x()(e,"options.reduceOptions.calcs[0]","lastNotNull"),k=N(E,w),F=E.sort((function(e,t){return e[0]-t[0]})),P=[];1===F.length&&P.push({value:0}),F.forEach((function(e){P.push({value:parseInt(e[1])})}));var T=t.labelDisplayFunction?t.labelDisplayFunction(k[1]):k[1];return(0,r.Z)((0,r.Z)({},t),{},{data:P,innerLabel:T})}}return t},A=function(e){var t=e.split(" "),n=function(){var t=e;return isNaN(parseFloat(e))||(t=(0,f.nk)(parseFloat(e))),(0,j.jsx)(l.Fragment,{children:t})};return 2!==t.length?n():f.Dl.includes(t[1])?(0,j.jsxs)("span",{className:"commonValue",children:[t[0],(0,j.jsx)("span",{className:"unitText",children:t[1]})]}):n()},E=n(4795),w=n(44149),k=n(30324),F=n(89345),P=n(48820),T=function(e){var t=e.title,n=e.leftComponent,a=e.rightComponent;return(0,j.jsx)(l.Fragment,{children:(0,j.jsx)(P.Z,{title:t,metricValue:n,rightComponent:a})})},M=n(88970),D=n(27505),L=n(50990),I=n(62879),B=n(34107),R=n(65607),W=n(29503),G=n(18201),z=n(58089),O=(0,d.Z)((function(e){return(0,c.Z)((0,r.Z)({},m.Rp))}))((function(e){var t=e.active,n=e.payload,a=e.label,i=e.barChartConfiguration,r=e.classes;return t?(0,j.jsxs)("div",{className:r.customTooltip,children:[(0,j.jsx)("div",{className:r.timeStampTitle,children:a}),n&&n.map((function(e,t){return(0,j.jsxs)("div",{className:r.labelContainer,children:[(0,j.jsx)("div",{className:r.labelColor,style:{backgroundColor:i[t].color}}),(0,j.jsx)("div",{className:r.itemValue,children:(0,j.jsx)("span",{className:r.valueContainer,children:e.value})})]},"pltiem-".concat(t,"-").concat(a))}))]}):null})),_=n(47373),V=n(32657),U=function(e){var t=e.y,n=e.payload;return(0,j.jsx)("text",{width:50,fontSize:"63%",textAnchor:"start",fill:"#333",transform:"translate(5,".concat(t,")"),fontWeight:700,dy:3,children:n.value})},K=(0,o.$j)(null,{displayErrorMessage:w.Ih,openZoomPage:_.xG}),$=(0,d.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)({},m.NP),{},{loadingAlign:{width:"100%",paddingTop:"15px",textAlign:"center",margin:"auto"}}))}))(K((function(e){var t=e.classes,n=e.title,a=e.panelItem,r=e.timeStart,o=e.timeEnd,s=e.propLoading,c=e.displayErrorMessage,d=e.apiPrefix,m=e.zoomActivated,g=void 0!==m&&m,x=e.openZoomPage,f=(0,l.useState)(!0),p=(0,i.Z)(f,2),h=p[0],v=p[1],y=(0,l.useState)([]),C=(0,i.Z)(y,2),b=C[0],Z=C[1],N=(0,l.useState)(null),A=(0,i.Z)(N,2),E=A[0],w=A[1];(0,l.useEffect)((function(){s&&v(!0)}),[s]),(0,l.useEffect)((function(){if(h){var e=0;if(null!==r&&null!==o){var t=o.unix()-r.unix(),n=Math.floor(t/60);e=n<1?15:n}k.Z.invoke("GET","/api/v1/".concat(d,"/info/widgets/").concat(a.id,"/?step=").concat(e,"&").concat(null!==r?"&start=".concat(r.unix()):"").concat(null!==r&&null!==o?"&":"").concat(null!==o?"end=".concat(o.unix()):"")).then((function(e){var t=S(e,a);Z(t.data),w(t),v(!1)})).catch((function(e){c(e),v(!1)}))}}),[h,a,o,r,c,d]);var F=E?E.widgetConfiguration:[],P=0,T=0;if(1===F.length){var _=F[0];b.forEach((function(e,t){e[_.dataKey]>T&&(T=e[_.dataKey],P=t)}))}var K=(0,V.Z)(),$=(0,u.Z)(K.breakpoints.up("md"));return(0,j.jsxs)("div",{className:g?"":t.singleValueContainer,children:[!g&&(0,j.jsxs)("div",{className:t.titleContainer,children:[n," ",(0,j.jsx)("button",{onClick:function(){x(a)},className:t.zoomChartIcon,children:(0,j.jsx)(z.Z,{})})]}),h&&(0,j.jsx)("div",{className:t.loadingAlign,children:(0,j.jsx)(G.Z,{})}),!h&&(0,j.jsx)("div",{className:g?t.zoomChartCont:t.contentContainer,children:(0,j.jsx)(M.h,{width:"99%",children:(0,j.jsxs)(D.v,{data:b,layout:"vertical",barCategoryGap:1,children:[(0,j.jsx)(L.K,{type:"number",hide:!0}),(0,j.jsx)(I.B,{dataKey:"name",type:"category",interval:0,tick:(0,j.jsx)(U,{}),tickLine:!1,axisLine:!1,width:150,hide:!$}),F.map((function(e){return(0,j.jsx)(B.$,{dataKey:e.dataKey,fill:e.color,background:e.background,barSize:g?25:12,children:1===F.length?(0,j.jsx)(l.Fragment,{children:b.map((function(t,n){return(0,j.jsx)(R.b,{fill:n===P?e.greatestColor:e.color},"chart-bar-".concat(n.toString()))}))}):null},"bar-".concat(e.dataKey))})),(0,j.jsx)(W.u,{cursor:{fill:"rgba(255, 255, 255, 0.3)"},content:(0,j.jsx)(O,{barChartConfiguration:F})})]})})})]})}))),H=n(89472),Y=n(86072),J=n(84930),q=n(84109),Q=(0,d.Z)((function(e){return(0,c.Z)((0,r.Z)({},m.Rp))}))((function(e){var t=e.active,n=e.payload,a=e.label,i=e.linearConfiguration,r=e.yAxisFormatter,l=e.classes;return t?(0,j.jsxs)("div",{className:l.customTooltip,children:[(0,j.jsx)("div",{className:l.timeStampTitle,children:(0,f.Ue)(a,!0)}),n&&n.map((function(e,t){return(0,j.jsxs)("div",{className:l.labelContainer,children:[(0,j.jsx)("div",{className:l.labelColor,style:{backgroundColor:i[t].lineColor}}),(0,j.jsx)("div",{className:l.itemValue,children:(0,j.jsxs)("span",{className:l.valueContainer,children:[i[t].keyLabel,":"," ",r(e.value)]})})]},"lbPl-".concat(t,"-").concat(i[t].keyLabel))}))]}):null})),X=(0,o.$j)(null,{displayErrorMessage:w.Ih,openZoomPage:_.xG}),ee=(0,d.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)({},m.NP),{},{containerElements:{display:"flex",flexDirection:"row",height:"100%",flexGrow:1},verticalAlignment:{flexDirection:"column"},chartCont:{position:"relative",height:140,width:"100%"},legendChart:{display:"flex",flexDirection:"column",flex:"0 1 auto",maxHeight:130,margin:0,overflowY:"auto",position:"relative",textAlign:"center",width:"100%",justifyContent:"flex-start",color:"#404143",fontWeight:"bold",fontSize:12},loadingAlign:{margin:"auto"}}))}))(X((function(e){var t=e.classes,n=e.title,a=e.displayErrorMessage,r=e.timeStart,o=e.timeEnd,s=e.propLoading,c=e.panelItem,d=e.apiPrefix,m=e.hideYAxis,g=void 0!==m&&m,x=e.areaWidget,f=void 0!==x&&x,p=e.yAxisFormatter,h=void 0===p?function(e){return e}:p,v=e.xAxisFormatter,y=void 0===v?function(e){return e}:v,C=e.zoomActivated,b=void 0!==C&&C,Z=e.openZoomPage,N=(0,l.useState)(!0),A=(0,i.Z)(N,2),E=A[0],w=A[1],F=(0,l.useState)([]),P=(0,i.Z)(F,2),T=P[0],D=P[1],B=(0,l.useState)(0),R=(0,i.Z)(B,2),O=R[0],_=R[1],U=(0,l.useState)(null),K=(0,i.Z)(U,2),$=K[0],X=K[1];(0,l.useEffect)((function(){s&&w(!0)}),[s]),(0,l.useEffect)((function(){if(E){var e=0;if(null!==r&&null!==o){var t=o.unix()-r.unix(),n=Math.floor(t/60);e=n<1?15:n}k.Z.invoke("GET","/api/v1/".concat(d,"/info/widgets/").concat(c.id,"/?step=").concat(e,"&").concat(null!==r?"&start=".concat(r.unix()):"").concat(null!==r&&null!==o?"&":"").concat(null!==o?"end=".concat(o.unix()):"")).then((function(e){var t=S(e,c);D(t.data),X(t),w(!1);var n,a=0,i=(0,H.Z)(t.data);try{for(i.s();!(n=i.n()).done;){var r=n.value;for(var l in r)if("name"!==l){var o=parseInt(r[l]);isNaN(o)&&(o=0),a<o&&(a=o)}}}catch(s){i.e(s)}finally{i.f()}_(a)})).catch((function(e){a(e),w(!1)}))}}),[E,c,o,r,a,d]);var ee=Math.floor(T.length/5),te=$?null===$||void 0===$?void 0:$.widgetConfiguration:[],ne=function(e){var t=e.cx,n=e.cy;return e.index%3!==0?null:(0,j.jsx)("circle",{cx:t,cy:n,r:3,strokeWidth:0,fill:"#07264A"})},ae=(0,V.Z)(),ie=(0,u.Z)(ae.breakpoints.up("md"));return(0,j.jsxs)("div",{className:b?"":t.singleValueContainer,children:[!b&&(0,j.jsxs)("div",{className:t.titleContainer,children:[n," ",(0,j.jsx)("button",{onClick:function(){Z(c)},className:t.zoomChartIcon,children:(0,j.jsx)(z.Z,{})})]}),(0,j.jsxs)("div",{className:b?t.verticalAlignment:t.containerElements,children:[E&&(0,j.jsx)(G.Z,{className:t.loadingAlign}),!E&&(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)("div",{className:b?t.zoomChartCont:t.chartCont,children:(0,j.jsx)(M.h,{width:"99%",children:(0,j.jsxs)(Y.T,{data:T,margin:{top:5,right:20,left:g?20:5,bottom:0},children:[f&&(0,j.jsx)("defs",{children:(0,j.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,j.jsx)("stop",{offset:"0%",stopColor:"#ABC8F2",stopOpacity:.9}),(0,j.jsx)("stop",{offset:"95%",stopColor:"#ABC8F2",stopOpacity:0})]})}),(0,j.jsx)(J.q,{strokeDasharray:f?"0 0":"3 3",strokeWidth:1,strokeOpacity:.5,stroke:"#07264A30",vertical:!f}),(0,j.jsx)(L.K,{dataKey:"name",tickFormatter:function(e){return y(e)},interval:ee,tick:{fontSize:"70%",fontWeight:"bold",color:"#404143"},tickCount:10,stroke:"#082045"}),(0,j.jsx)(I.B,{type:"number",domain:[0,1.1*O],hide:g,tickFormatter:function(e){return h(e)},tick:{fontSize:"70%",fontWeight:"bold",color:"#404143"},stroke:"#082045"}),te.map((function(e,t){return(0,j.jsx)(q.u,{type:"monotone",dataKey:e.dataKey,stroke:e.lineColor,fill:f?"url(#colorUv)":e.fillColor,fillOpacity:f?.3:0,strokeWidth:f?0:2,dot:!!f&&(0,j.jsx)(ne,{})},"area-".concat(e.dataKey,"-").concat(t.toString()))})),(0,j.jsx)(W.u,{content:(0,j.jsx)(Q,{linearConfiguration:te,yAxisFormatter:h}),wrapperStyle:{zIndex:5e3}})]})})}),!f&&(0,j.jsxs)(l.Fragment,{children:[b&&(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)("strong",{children:"Series"}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{})]}),ie&&(0,j.jsx)("div",{className:t.legendChart,children:te.map((function(e,n){return(0,j.jsxs)("div",{className:t.singleLegendContainer,children:[(0,j.jsx)("div",{className:t.colorContainer,style:{backgroundColor:e.lineColor}}),(0,j.jsx)("div",{className:t.legendLabel,children:e.keyLabel})]},"legend-".concat(e.keyLabel,"-").concat(n.toString()))}))})]})]})]})]})}))),te=n(62342),ne=n(68924),ae=(0,o.$j)(null,{displayErrorMessage:w.Ih}),ie=(0,d.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)({},m.NP),{},{loadingAlign:{width:"100%",paddingTop:"15px",textAlign:"center",margin:"auto"},pieChartLabel:{fontSize:60,color:"#07193E",fontWeight:"bold",width:"100%","& .unitText":{color:"#767676",fontSize:12}},chartContainer:{width:"100%",height:140}}))}))(ae((function(e){var t=e.classes,n=e.title,a=e.panelItem,r=e.timeStart,o=e.timeEnd,s=e.propLoading,c=e.displayErrorMessage,d=e.apiPrefix,u=(0,l.useState)(!0),m=(0,i.Z)(u,2),g=m[0],f=m[1],p=(0,l.useState)([]),h=(0,i.Z)(p,2),v=h[0],y=h[1],C=(0,l.useState)([]),b=(0,i.Z)(C,2),Z=b[0],N=b[1],E=(0,l.useState)(null),w=(0,i.Z)(E,2),F=w[0],P=w[1];(0,l.useEffect)((function(){s&&f(!0)}),[s]),(0,l.useEffect)((function(){if(g){var e=0;if(null!==r&&null!==o){var t=o.unix()-r.unix(),n=Math.floor(t/60);e=n<1?15:n}k.Z.invoke("GET","/api/v1/".concat(d,"/info/widgets/").concat(a.id,"/?step=").concat(e,"&").concat(null!==r?"&start=".concat(r.unix()):"").concat(null!==r&&null!==o?"&":"").concat(null!==o?"end=".concat(o.unix()):"")).then((function(e){var t=S(e,a);y(t.data),N(t.dataOuter),P(t),f(!1)})).catch((function(e){c(e),f(!1)}))}}),[g,a,o,r,c,d]);var T=F?F.widgetConfiguration:[],D=null===F||void 0===F?void 0:F.innerLabel,L=x()(T,"innerChart.colorList",[]),I=x()(T,"outerChart.colorList",[]);return(0,j.jsxs)("div",{className:t.singleValueContainer,children:[(0,j.jsx)("div",{className:t.titleContainer,children:n}),g&&(0,j.jsx)("div",{className:t.loadingAlign,children:(0,j.jsx)(G.Z,{})}),!g&&(0,j.jsxs)("div",{className:t.contentContainer,children:[(0,j.jsx)("span",{className:t.pieChartLabel,children:D&&A(D)}),(0,j.jsx)("div",{className:t.chartContainer,children:(0,j.jsx)(M.h,{width:"99%",children:(0,j.jsxs)(te.u,{margin:{top:5,bottom:5},children:[Z&&(0,j.jsx)(ne.b,{data:Z,cx:"50%",cy:"50%",dataKey:"value",innerRadius:x()(T,"outerChart.innerRadius",0),outerRadius:x()(T,"outerChart.outerRadius","80%"),startAngle:x()(T,"outerChart.startAngle",0),endAngle:x()(T,"outerChart.endAngle",360),fill:"#201763",children:Z.map((function(e,t){return(0,j.jsx)(R.b,{fill:"undefined"===typeof I[t]?"#393939":I[t]},"cellOuter-".concat(t))}))}),v&&(0,j.jsx)(ne.b,{data:v,dataKey:"value",cx:"50%",cy:"50%",innerRadius:x()(T,"innerChart.innerRadius",0),outerRadius:x()(T,"innerChart.outerRadius","80%"),startAngle:x()(T,"innerChart.startAngle",0),endAngle:x()(T,"innerChart.endAngle",360),fill:"#201763",children:v.map((function(e,t){return(0,j.jsx)(R.b,{fill:"undefined"===typeof L[t]?"#393939":L[t]},"cell-".concat(t))}))})]})})})]})]})}))),re=(0,o.$j)(null,{displayErrorMessage:w.Ih}),le=(0,d.Z)((function(e){return(0,c.Z)({mainWidgetContainer:{display:"inline-flex",color:"#072A4D",alignItems:"center"},icon:{color:"#072A4D",fill:"#072A4D",marginRight:5,marginLeft:12},widgetLabel:{fontWeight:"bold",textTransform:"uppercase",marginRight:10},widgetValue:{marginRight:25}})}))(re((function(e){var t=e.classes,n=e.iconWidget,a=e.title,r=e.panelItem,o=e.timeStart,s=e.timeEnd,c=e.propLoading,d=e.displayErrorMessage,u=e.apiPrefix,m=(0,l.useState)(!0),g=(0,i.Z)(m,2),x=g[0],f=g[1],p=(0,l.useState)(""),h=(0,i.Z)(p,2),v=h[0],y=h[1];return(0,l.useEffect)((function(){c&&f(!0)}),[c]),(0,l.useEffect)((function(){if(x){var e=0;if(null!==o&&null!==s){var t=s.unix()-o.unix(),n=Math.floor(t/60);e=n<1?15:n}k.Z.invoke("GET","/api/v1/".concat(u,"/info/widgets/").concat(r.id,"/?step=").concat(e,"&").concat(null!==o?"&start=".concat(o.unix()):"").concat(null!==o&&null!==s?"&":"").concat(null!==s?"end=".concat(s.unix()):"")).then((function(e){var t=S(e,r);y(t.data),f(!1)})).catch((function(e){d(e),f(!1)}))}}),[x,r,s,o,d,u]),(0,j.jsxs)(l.Fragment,{children:[x&&(0,j.jsx)("div",{className:t.loadingAlign,children:(0,j.jsx)(G.Z,{})}),!x&&(0,j.jsxs)("span",{className:t.mainWidgetContainer,children:[(0,j.jsx)("span",{className:t.icon,children:n||null}),(0,j.jsxs)("span",{className:t.widgetLabel,children:[a,": "]}),(0,j.jsx)("span",{className:t.widgetValue,children:v})]})]})}))),oe=(0,o.$j)(null,{displayErrorMessage:w.Ih}),se=(0,d.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)({},m.NP),{},{loadingAlign:{width:"100%",paddingTop:"5px",textAlign:"center",margin:"auto"}}))}))(oe((function(e){var t=e.classes,n=e.title,a=e.panelItem,r=e.timeStart,o=e.timeEnd,s=e.propLoading,c=e.displayErrorMessage,d=e.color,u=e.fillColor,m=e.apiPrefix,g=(0,l.useState)(!0),x=(0,i.Z)(g,2),p=x[0],h=x[1],v=(0,l.useState)([]),y=(0,i.Z)(v,2),C=y[0],b=y[1],Z=(0,l.useState)(null),N=(0,i.Z)(Z,2),A=N[0],E=N[1];(0,l.useEffect)((function(){s&&h(!0)}),[s]),(0,l.useEffect)((function(){if(p){var e=0;if(null!==r&&null!==o){var t=o.unix()-r.unix(),n=Math.floor(t/60);e=n<1?15:n}k.Z.invoke("GET","/api/v1/".concat(m,"/info/widgets/").concat(a.id,"/?step=").concat(e,"&").concat(null!==r?"&start=".concat(r.unix()):"").concat(null!==r&&null!==o?"&":"").concat(null!==o?"end=".concat(o.unix()):"")).then((function(e){var t=S(e,a);E(t),b(t.data),h(!1)})).catch((function(e){c(e),h(!1)}))}}),[p,a,o,r,c,m]);var w="colorGradient-".concat(n.split(" ").join("-")),F="";if(A){var P=parseInt(A.innerLabel||"0");F=isNaN(P)?"0":(0,f.nk)(P)}return(0,j.jsxs)("div",{className:t.singleValueContainer,children:[(0,j.jsx)("div",{className:t.titleContainer,children:n}),p&&(0,j.jsx)("div",{className:t.loadingAlign,children:(0,j.jsx)(G.Z,{})}),!p&&(0,j.jsx)("div",{className:t.contentContainer,children:(0,j.jsx)(M.h,{width:"99%",children:(0,j.jsxs)(Y.T,{data:C,children:[(0,j.jsx)("defs",{children:(0,j.jsxs)("linearGradient",{id:w,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,j.jsx)("stop",{offset:"5%",stopColor:u,stopOpacity:1}),(0,j.jsx)("stop",{offset:"95%",stopColor:u,stopOpacity:0})]})}),(0,j.jsx)(I.B,{domain:[0,function(e){return 2*e}],hide:!0}),(0,j.jsx)(q.u,{type:"monotone",dataKey:"value",stroke:d,fill:"url(#".concat(w,")"),fillOpacity:1}),(0,j.jsx)("text",{x:"0%",y:"80%",textAnchor:"start",dominantBaseline:"auto",fontWeight:700,fontSize:65,fill:"#07193E",children:A?F:""})]})})})]})}))),ce=(0,o.$j)(null,{displayErrorMessage:w.Ih}),de=(0,d.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)({},m.NP),{},{loadingAlign:{width:"100%",textAlign:"center",margin:"auto"},metric:{fontSize:60,lineHeight:1,color:"#07193E",fontWeight:700},titleElement:{fontSize:10,color:"#767676",fontWeight:700},containerAlignment:{display:"flex",height:140,flexDirection:"column",justifyContent:"center","& .unitText":{color:"#767676",fontSize:12}}}))}))(ce((function(e){var t=e.title,n=e.panelItem,a=e.timeStart,r=e.timeEnd,o=e.propLoading,s=e.displayErrorMessage,c=e.classes,d=e.apiPrefix,u=(0,l.useState)(!0),m=(0,i.Z)(u,2),g=m[0],x=m[1],f=(0,l.useState)(""),p=(0,i.Z)(f,2),h=p[0],v=p[1];return(0,l.useEffect)((function(){o&&x(!0)}),[o]),(0,l.useEffect)((function(){if(g){var e=0;if(null!==a&&null!==r){var t=r.unix()-a.unix(),i=Math.floor(t/60);e=i<1?15:i}k.Z.invoke("GET","/api/v1/".concat(d,"/info/widgets/").concat(n.id,"/?step=").concat(e,"&").concat(null!==a?"&start=".concat(a.unix()):"").concat(null!==a&&null!==r?"&":"").concat(null!==r?"end=".concat(r.unix()):"")).then((function(e){var t=S(e,n);v(t.data),x(!1)})).catch((function(e){s(e),x(!1)}))}}),[g,n,r,a,s,d]),(0,j.jsxs)("div",{className:c.containerAlignment,children:[g&&(0,j.jsx)("div",{className:c.loadingAlign,children:(0,j.jsx)(G.Z,{})}),!g&&(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)("div",{className:c.metric,children:A(h)}),(0,j.jsx)("div",{className:c.titleElement,children:t})]})]})}))),ue=function(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];switch(e.type){case a.singleValue:return(0,j.jsx)(de,{title:e.title,panelItem:e,timeStart:t,timeEnd:n,propLoading:i,apiPrefix:r});case a.simpleWidget:return(0,j.jsx)(le,{title:e.title,panelItem:e,timeStart:t,timeEnd:n,propLoading:i,apiPrefix:r,iconWidget:e.widgetIcon});case a.pieChart:return(0,j.jsx)(ie,{title:e.title,panelItem:e,timeStart:t,timeEnd:n,propLoading:i,apiPrefix:r});case a.linearGraph:case a.areaGraph:return(0,j.jsx)(ee,{title:e.title,panelItem:e,timeStart:t,timeEnd:n,propLoading:i,hideYAxis:e.disableYAxis,xAxisFormatter:e.xAxisFormatter,yAxisFormatter:e.yAxisFormatter,apiPrefix:r,areaWidget:e.type===a.areaGraph,zoomActivated:l});case a.barChart:return(0,j.jsx)($,{title:e.title,panelItem:e,timeStart:t,timeEnd:n,propLoading:i,apiPrefix:r,zoomActivated:l});case a.singleRep:var o=e.fillColor?e.fillColor:e.color;return(0,j.jsx)(se,{title:e.title,panelItem:e,timeStart:t,timeEnd:n,propLoading:i,color:e.color,fillColor:o,apiPrefix:r});default:return null}},me=n(76352),ge=(0,o.$j)(null,{onCloseAction:_.jv})((function(e){var t=e.value,n=e.modalOpen,a=e.timeStart,i=e.timeEnd,r=e.apiPrefix,o=e.onCloseAction;return t?(0,j.jsx)(me.Z,{title:t.title,onClose:function(){o()},modalOpen:n,wideLimit:!1,noContentPadding:!0,children:(0,j.jsx)(l.Fragment,{children:ue(t,a,i,!0,r,!0)})}):null})),xe=n(17778),fe=(0,o.$j)((function(e){return{zoomOpen:e.dashboard.zoom.openZoom,zoomWidget:e.dashboard.zoom.widgetRender}}),{displayErrorMessage:w.Ih}),pe=(0,d.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},m.OR),m.bN),{},{dashboardRow:{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexWrap:"wrap",maxWidth:1180}}))}))(fe((function(e){var t=e.classes,n=e.displayErrorMessage,a=e.apiPrefix,r=void 0===a?"admin":a,o=e.zoomOpen,c=e.zoomWidget,d=(0,l.useState)(null),m=(0,i.Z)(d,2),g=m[0],x=m[1],f=(0,l.useState)(null),p=(0,i.Z)(f,2),h=p[0],v=p[1],y=(0,l.useState)(!0),C=(0,i.Z)(y,2),b=C[0],N=C[1],A=(0,l.useState)(Z),w=(0,i.Z)(A,2),P=w[0],M=w[1],D=(0,l.useState)(0),L=(0,i.Z)(D,2),I=L[0],B=L[1],R=(0,V.Z)(),W=(0,u.Z)(R.breakpoints.up("md")),G=(0,l.useCallback)((function(e,n){return null===n||void 0===n?void 0:n.map((function(n,a){var i=n.length,o=Math.floor(12/i);return!W&&i>=4?o=6:!W&&i>=3&&(o=12),o<1?o=1:o>12&&(o=12),(0,j.jsx)(s.ZP,{item:!0,xs:12,className:t.dashboardRow,children:n.map((function(e,n){var a=P.find((function(t){return t.id===e}));return(0,j.jsx)(s.ZP,{className:t.widgetPanelDelimiter,item:!0,xs:12,sm:o,md:o,lg:o,children:(0,j.jsx)(s.ZP,{item:!0,xs:12,children:a?(0,j.jsx)(l.Fragment,{children:a.mergedPanels?(0,j.jsx)(l.Fragment,{children:(0,j.jsx)(T,{title:a.title,leftComponent:ue(a.mergedPanels[0],g,h,b,r),rightComponent:ue(a.mergedPanels[1],g,h,b,r)})}):ue(a,g,h,b,r)}):null})},"widget-".concat(e,"-").concat(n))}))},"line-".concat(e,"-").concat(a))}))}),[g,h,b,r,t.dashboardRow,t.widgetPanelDelimiter,P,W]),z=(0,l.useCallback)((function(){var e=0;if(null!==g&&null!==h){var t=h.unix()-g.unix(),a=Math.floor(t/60);e=a<1?15:a}k.Z.invoke("GET","/api/v1/".concat(r,"/info?step=").concat(e,"&").concat(null!==g?"&start=".concat(g.unix()):"").concat(null!==g&&null!==h?"&":"").concat(null!==h?"end=".concat(h.unix()):"")).then((function(e){if(e.widgets){var t=(a=e.widgets,Z.map((function(e){var t=a.find((function(t){return t.title.toLowerCase().trim()===e.title.toLowerCase().trim()}));return S(t,e)})));M(t)}else n({errorMessage:"Widget information could not be retrieved at this time. Please try again",detailedError:""});var a;N(!1)})).catch((function(e){n(e),N(!1)}))}),[g,h,n,r]);(0,l.useEffect)((function(){b&&z()}),[b,z]);var O=[[66,44,500,501],[80,81,1],[68,52],[63,70]];W?O.splice(1,0,[50,502]):(O.splice(1,0,[50]),O.splice(1,0,[502]));return(0,j.jsxs)(l.Fragment,{children:[o&&(0,j.jsx)(ge,{modalOpen:o,timeStart:g,timeEnd:h,widgetRender:0,value:c,apiPrefix:r}),(0,j.jsx)(xe.Z,{timeStart:g,setTimeStart:x,timeEnd:h,setTimeEnd:v,triggerSync:function(){N(!0)}}),(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsx)(F.Z,{selectedTab:I,onChange:function(e){B(e)},tabOptions:[{label:"Usage"},{label:"Traffic"},{label:"Resources"}]})}),(0,j.jsxs)(s.ZP,{item:!0,xs:12,className:t.widgetsContainer,children:[(0,j.jsx)(E.x,{index:0,value:I,children:G("Summary",O)}),(0,j.jsx)(E.x,{index:1,value:I,children:G("Traffic",[[60],[71,17],[73]])}),(0,j.jsx)(E.x,{index:2,value:I,children:G("Resources",[[76,77],[11,8],[82,74]])})]})]})})))},4795:function(e,t,n){n.d(t,{x:function(){return s}});var a=n(18489),i=n(83738),r=n(50390),l=n(62559),o=["children","value","index"],s=function(e){var t=e.children,n=e.value,s=e.index,c=(0,i.Z)(e,o);return(0,l.jsx)("div",(0,a.Z)((0,a.Z)({role:"tabpanel",hidden:n!==s,id:"simple-tabpanel-".concat(s),"aria-labelledby":"simple-tab-".concat(s),style:{marginTop:"5px"}},c),{},{children:n===s&&(0,l.jsx)(r.Fragment,{children:t})}))}}}]);
//# sourceMappingURL=1724.98938602.chunk.js.map