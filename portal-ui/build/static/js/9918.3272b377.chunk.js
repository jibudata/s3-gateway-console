"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9918],{79918:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var i=t(29439),s=t(1413),l=t(72791),o=t(78687),r=t(57689),c=t(11135),a=t(25787),u=t(61889),d=t(64554),f=t(26181),x=t.n(f),p=t(23814),h=t(81207),m=t(56087),v=t(38442),Z=t(75578),j=t(45902),g=t(84861),T=t(75952),E=t(45987),S=t(36151),b=t(80184),_=["isLoading","onClick","label"],y=function(e){var n=e.isLoading,t=e.onClick,i=e.label,l=(0,E.Z)(e,_);return(0,b.jsx)(S.Z,(0,s.Z)((0,s.Z)({color:"primary",onClick:t,variant:"text",sx:{padding:0,margin:0,alignItems:"flex-start",justifyContent:"flex-start",display:"inline-flex",height:"auto",textDecoration:"underline",color:"#2781B0","&:hover":{background:"#ffffff",textDecoration:"underline"}},disableRipple:!0,disableFocusRipple:!0},l),{},{children:n?(0,b.jsx)(T.aNw,{style:{width:16,height:16}}):i}))},C=t(13400),I=["disabled","onClick"],N=(0,a.Z)((function(e){return(0,c.Z)({root:{"&:hover":{backgroundColor:"#E2E2E2"}}})}))((function(e){var n=e.disabled,t=e.onClick,i=(0,E.Z)(e,I);return(0,b.jsx)(C.Z,(0,s.Z)((0,s.Z)({size:"small",disabled:n,onClick:t},i),{},{children:(0,b.jsx)(T.dY8,{})}))})),k=function(e){var n=e.resourceName,t=e.iamScopes,i=e.secureCmpProps,l=void 0===i?{}:i,o=e.children;return(0,b.jsx)(v.s,(0,s.Z)((0,s.Z)({scopes:t,resource:n,errorProps:{disabled:!0}},l),{},{children:o}))},O=function(e){var n=e.isLoading,t=void 0===n||n,i=e.resourceName,s=void 0===i?"":i,l=e.iamScopes,o=e.secureCmpProps,r=void 0===o?{}:o,c=e.property,a=void 0===c?null:c,u=e.value,f=void 0===u?null:u,x=e.onEdit;return(0,b.jsxs)(d.Z,{sx:{display:"flex",alignItems:"baseline",justifyContent:"flex-start"},children:[(0,b.jsx)(j.Z,{label:a,value:(0,b.jsx)(k,{resourceName:s,iamScopes:l,secureCmpProps:r,children:(0,b.jsx)(y,{isLoading:t,onClick:x,label:f})})}),(0,b.jsx)(k,{resourceName:s,iamScopes:l,secureCmpProps:r,children:(0,b.jsx)(N,{onClick:x,sx:{background:"#f8f8f8",marginLeft:"3px",top:3,"& .min-icon":{width:"16px",height:"16px"}}})})]})},F=t(45248),P=function(e){var n=e.bucketSize;return(0,b.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center","& .min-icon":{height:37,width:37}},children:[(0,b.jsx)(T.Mhr,{}),(0,b.jsxs)(d.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",flexFlow:"column",marginLeft:"20px",fontSize:"19px"},children:[(0,b.jsx)("label",{style:{fontWeight:600},children:"Reported Usage:"}),(0,b.jsx)("label",{children:(0,F.ae)(n)})]})]})},A=function(e){var n=e.quota;return(0,b.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center","& .min-icon":{height:37,width:37}},children:[(0,b.jsx)(T.sjJ,{}),(0,b.jsxs)(d.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",flexFlow:"column",marginLeft:"20px",fontSize:"19px"},children:[(0,b.jsxs)("label",{style:{fontWeight:600,textTransform:"capitalize"},children:[null===n||void 0===n?void 0:n.type," Quota"]}),(0,b.jsxs)("label",{children:[" ",(0,F.ae)("".concat(null===n||void 0===n?void 0:n.quota),!0)]})]})]})},G=t(50896),R=t(87995),U=t(9859),w=t(81551),B=t(91685),L=(0,Z.Z)(l.lazy((function(){return Promise.all([t.e(5017),t.e(9682)]).then(t.bind(t,33690))}))),D=(0,Z.Z)(l.lazy((function(){return Promise.all([t.e(1520),t.e(1604)]).then(t.bind(t,1604))}))),M=(0,Z.Z)(l.lazy((function(){return t.e(9952).then(t.bind(t,99952))}))),K=(0,Z.Z)(l.lazy((function(){return t.e(402).then(t.bind(t,70402))}))),z=(0,Z.Z)(l.lazy((function(){return Promise.all([t.e(1918),t.e(1705)]).then(t.bind(t,71705))}))),Y=(0,Z.Z)(l.lazy((function(){return t.e(1581).then(t.bind(t,1581))}))),V={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},Q=(0,a.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)({},p.bK),p.VI))}))((function(e){var n=e.classes,t=(0,w.TL)(),c=(0,r.UO)(),a=(0,o.v9)(U.HQ),f=(0,o.v9)(U.G6),p=(0,o.v9)(R.N5),Z=(0,l.useState)(null),E=(0,i.Z)(Z,2),S=E[0],_=E[1],y=(0,l.useState)("0"),C=(0,i.Z)(y,2),I=C[0],N=C[1],k=(0,l.useState)(!1),F=(0,i.Z)(k,2),Q=F[0],W=F[1],q=(0,l.useState)(!1),J=(0,i.Z)(q,2),$=J[0],H=J[1],X=(0,l.useState)(!1),ee=(0,i.Z)(X,2),ne=ee[0],te=ee[1],ie=(0,l.useState)(!0),se=(0,i.Z)(ie,2),le=se[0],oe=se[1],re=(0,l.useState)(!0),ce=(0,i.Z)(re,2),ae=ce[0],ue=ce[1],de=(0,l.useState)(!0),fe=(0,i.Z)(de,2),xe=fe[0],pe=fe[1],he=(0,l.useState)(!0),me=(0,i.Z)(he,2),ve=me[0],Ze=me[1],je=(0,l.useState)(!0),ge=(0,i.Z)(je,2),Te=ge[0],Ee=ge[1],Se=(0,l.useState)(!0),be=(0,i.Z)(Se,2),_e=be[0],ye=be[1],Ce=(0,l.useState)(!0),Ie=(0,i.Z)(Ce,2),Ne=Ie[0],ke=Ie[1],Oe=(0,l.useState)(!0),Fe=(0,i.Z)(Oe,2),Pe=Fe[0],Ae=Fe[1],Ge=(0,l.useState)(),Re=(0,i.Z)(Ge,2),Ue=Re[0],we=Re[1],Be=(0,l.useState)(!1),Le=(0,i.Z)(Be,2),De=Le[0],Me=Le[1],Ke=(0,l.useState)(null),ze=(0,i.Z)(Ke,2),Ye=ze[0],Ve=ze[1],Qe=(0,l.useState)(!1),We=(0,i.Z)(Qe,2),qe=We[0],Je=We[1],$e=(0,l.useState)(!1),He=(0,i.Z)($e,2),Xe=He[0],en=He[1],nn=(0,l.useState)(null),tn=(0,i.Z)(nn,2),sn=tn[0],ln=tn[1],on=(0,l.useState)(!1),rn=(0,i.Z)(on,2),cn=rn[0],an=rn[1],un=(0,l.useState)(!1),dn=(0,i.Z)(un,2),fn=dn[0],xn=dn[1],pn=(0,l.useState)(!1),hn=(0,i.Z)(pn,2),mn=hn[0],vn=hn[1],Zn=(0,l.useState)(!1),jn=(0,i.Z)(Zn,2),gn=jn[0],Tn=jn[1],En=c.bucketName||"",Sn="n/a",bn="";null!==f&&(Sn=f.access,bn=f.definition);var _n=(0,v.F)(En,[m.Ft.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION,m.Ft.S3_GET_ACTIONS]),yn=(0,v.F)(En,[m.Ft.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,m.Ft.S3_GET_ACTIONS]),Cn=(0,v.F)(En,[m.Ft.ADMIN_GET_BUCKET_QUOTA]);(0,l.useEffect)((function(){pe(!!a)}),[a,pe]),(0,l.useEffect)((function(){ve&&(yn?h.Z.invoke("GET","/api/v1/buckets/".concat(En,"/encryption/info")).then((function(e){e.algorithm&&(Je(!0),_(e)),Ze(!1)})).catch((function(e){"The server side encryption configuration was not found"===e.errorMessage&&(Je(!1),_(null)),Ze(!1)})):(Je(!1),_(null),Ze(!1)))}),[ve,En,yn]),(0,l.useEffect)((function(){Te&&p&&h.Z.invoke("GET","/api/v1/buckets/".concat(En,"/versioning")).then((function(e){we(e),Ee(!1)})).catch((function(e){t((0,R.Ih)(e)),Ee(!1)}))}),[Te,t,En,p]),(0,l.useEffect)((function(){_e&&p&&(Cn?h.Z.invoke("GET","/api/v1/buckets/".concat(En,"/quota")).then((function(e){Ve(e),e.quota?Me(!0):Me(!1),ye(!1)})).catch((function(e){t((0,R.Ih)(e)),Me(!1),ye(!1)})):(Me(!1),ye(!1)))}),[_e,Ee,t,En,p,Cn]),(0,l.useEffect)((function(){Te&&p&&(_n?h.Z.invoke("GET","/api/v1/buckets/".concat(En,"/object-locking")).then((function(e){W(e.object_locking_enabled),oe(!1)})).catch((function(e){t((0,R.Ih)(e)),oe(!1)})):oe(!1))}),[le,t,En,Te,p,_n]),(0,l.useEffect)((function(){ae&&h.Z.invoke("GET","/api/v1/buckets").then((function(e){var n=x()(e,"buckets",[]).find((function(e){return e.name===En})),t=x()(n,"size","0");ue(!1),N(t)})).catch((function(e){ue(!1),t((0,R.Ih)(e))}))}),[ae,t,En]),(0,l.useEffect)((function(){Ne&&p&&h.Z.invoke("GET","/api/v1/buckets/".concat(En,"/replication")).then((function(e){var n=e.rules?e.rules:[];te(n.length>0),ke(!1)})).catch((function(e){t((0,R.Ih)(e)),ke(!1)}))}),[Ne,t,En,p]),(0,l.useEffect)((function(){Pe&&Q&&h.Z.invoke("GET","/api/v1/buckets/".concat(En,"/retention")).then((function(e){Ae(!1),en(!0),ln(e)})).catch((function(e){en(!1),Ae(!1),ln(null)}))}),[Pe,Q,En]);var In=function(){t((0,U.d5)(!0)),pe(!0),ue(!0),Ee(!0),Ze(!0),Ae(!0)},Nn=null===Ue||void 0===Ue?void 0:Ue.Status,kn="Unversioned (Default)";return"Enabled"===Nn?kn="Versioned":"Suspended"===Nn&&(kn="Suspended"),(0,b.jsxs)(l.Fragment,{children:[fn&&(0,b.jsx)(M,{open:fn,selectedBucket:En,encryptionEnabled:qe,encryptionCfg:S,closeModalAndRefresh:function(){xn(!1),Ze(!0)}}),mn&&(0,b.jsx)(Y,{open:mn,selectedBucket:En,enabled:De,cfg:Ye,closeModalAndRefresh:function(){vn(!1),ye(!0)}}),$&&(0,b.jsx)(L,{bucketName:En,open:$,actualPolicy:Sn,actualDefinition:bn,closeModalAndRefresh:function(){H(!1),In()}}),cn&&(0,b.jsx)(D,{bucketName:En,open:cn,closeModalAndRefresh:function(){an(!1),In()}}),gn&&(0,b.jsx)(K,{closeVersioningModalAndRefresh:function(e){Tn(!1),e&&In()},modalOpen:gn,selectedBucket:En,versioningInfo:Ue}),(0,b.jsx)(G.Z,{children:"Summary"}),(0,b.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,b.jsx)(v.s,{scopes:[m.Ft.S3_GET_BUCKET_POLICY,m.Ft.S3_GET_ACTIONS],resource:En,children:(0,b.jsx)(u.ZP,{item:!0,xs:12,children:(0,b.jsxs)(d.Z,{sx:(0,s.Z)({},V),children:[(0,b.jsxs)(d.Z,{sx:(0,s.Z)({},V),children:[(0,b.jsx)(v.s,{scopes:[m.Ft.S3_GET_BUCKET_POLICY,m.Ft.S3_GET_ACTIONS],resource:En,children:(0,b.jsx)(O,{iamScopes:[m.Ft.S3_PUT_BUCKET_POLICY,m.Ft.S3_PUT_ACTIONS],resourceName:En,property:"Access Policy:",value:Sn.toLowerCase(),onEdit:function(){H(!0)},isLoading:xe})}),(0,b.jsx)(v.s,{scopes:[m.Ft.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,m.Ft.S3_GET_ACTIONS],resource:En,children:(0,b.jsx)(O,{iamScopes:[m.Ft.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,m.Ft.S3_PUT_ACTIONS],resourceName:En,property:"Encryption:",value:qe?"Enabled":"Disabled",onEdit:function(){xn(!0)},isLoading:ve})}),(0,b.jsx)(v.s,{scopes:[m.Ft.S3_GET_REPLICATION_CONFIGURATION,m.Ft.S3_GET_ACTIONS],resource:En,children:(0,b.jsx)(j.Z,{label:"Replication:",value:(0,b.jsx)(g.Z,{icon:ne?(0,b.jsx)(T.E31,{}):(0,b.jsx)(T.dRf,{}),label:(0,b.jsx)("label",{className:n.textMuted,children:ne?"Enabled":"Disabled"})})})}),(0,b.jsx)(v.s,{scopes:[m.Ft.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION,m.Ft.S3_GET_ACTIONS],resource:En,children:(0,b.jsx)(j.Z,{label:"Object Locking:",value:(0,b.jsx)(g.Z,{icon:Q?(0,b.jsx)(T.E31,{}):(0,b.jsx)(T.dRf,{}),label:(0,b.jsx)("label",{className:n.textMuted,children:Q?"Enabled":"Disabled"})})})}),(0,b.jsx)(d.Z,{className:n.spacerTop,children:(0,b.jsx)(j.Z,{label:"Tags:",value:(0,b.jsx)(z,{bucketName:En})})}),(0,b.jsx)(O,{iamScopes:[m.Ft.ADMIN_SET_BUCKET_QUOTA],resourceName:En,property:"Quota:",value:De?"Enabled":"Disabled",onEdit:function(){vn(!0)},isLoading:_e})]}),(0,b.jsxs)(d.Z,{sx:{display:"grid",gridTemplateColumns:"1fr",alignItems:"flex-start"},children:[(0,b.jsx)(P,{bucketSize:I}),De&&Ye?(0,b.jsx)(A,{quota:Ye}):null]})]})})}),p&&(0,b.jsx)(v.s,{scopes:[m.Ft.S3_GET_BUCKET_VERSIONING,m.Ft.S3_GET_ACTIONS],resource:En,children:(0,b.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,b.jsx)(G.Z,{children:"Versioning"}),(0,b.jsx)(d.Z,{sx:(0,s.Z)({},V),children:(0,b.jsxs)(d.Z,{sx:(0,s.Z)({},V),children:[(0,b.jsx)(O,{iamScopes:[m.Ft.S3_PUT_BUCKET_VERSIONING,m.Ft.S3_PUT_ACTIONS],resourceName:En,property:"Current Status:",value:(0,b.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",textDecorationStyle:"normal",placeItems:"flex-start",justifyItems:"flex-start",gap:3},children:(0,b.jsxs)("div",{children:[" ",kn]})}),onEdit:function(){Tn(!0)},isLoading:Te}),"Enabled"===(null===Ue||void 0===Ue?void 0:Ue.Status)?(0,b.jsx)(B.Z,{versioningState:Ue}):null]})})]})}),Q&&(0,b.jsx)(v.s,{scopes:[m.Ft.S3_GET_OBJECT_RETENTION,m.Ft.S3_GET_ACTIONS],resource:En,children:(0,b.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,b.jsx)(G.Z,{children:"Retention"}),(0,b.jsxs)(d.Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},children:[(0,b.jsxs)(d.Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},children:[(0,b.jsx)(O,{iamScopes:[m.Ft.ADMIN_SET_BUCKET_QUOTA],resourceName:En,property:"Retention:",value:Xe?"Enabled":"Disabled",onEdit:function(){an(!0)},isLoading:Pe}),(0,b.jsx)(j.Z,{label:"Mode:",value:(0,b.jsx)("label",{className:n.textMuted,style:{textTransform:"capitalize"},children:sn&&sn.mode?sn.mode:"-"})}),(0,b.jsx)(j.Z,{label:"Validity:",value:(0,b.jsxs)("label",{className:n.textMuted,style:{textTransform:"capitalize"},children:[sn&&sn.validity," ",sn&&(1===sn.validity?sn.unit.slice(0,-1):sn.unit)]})})]}),(0,b.jsx)(d.Z,{sx:{display:"grid",gridTemplateColumns:"1fr",alignItems:"flex-start"}})]})]})})]})]})}))},84861:function(e,n,t){t(72791);var i=t(64554),s=t(80184);n.Z=function(e){var n=e.icon,t=void 0===n?null:n,l=e.label,o=void 0===l?null:l;return(0,s.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,s.jsx)("div",{style:{height:16,width:16,display:"flex",alignItems:"center",marginTop:5},children:t}),(0,s.jsx)("div",{style:{marginLeft:t?5:"none"},children:o})]})}},91685:function(e,n,t){t(72791);var i=t(64554),s=t(84861),l=t(75952),o=t(80184);n.Z=function(e){var n,t,r=e.versioningState,c=void 0===r?{}:r;return(0,o.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,o.jsx)(i.Z,{sx:{fontWeight:"medium",display:"flex",gap:2},children:c.ExcludeFolders?(0,o.jsx)(s.Z,{icon:c.ExcludeFolders?(0,o.jsx)(l.E31,{style:{color:"green"}}):(0,o.jsx)(l.dRf,{}),label:(0,o.jsx)("label",{style:{textDecoration:"normal"},children:"Exclude Folders"})}):null}),null!==(n=c.ExcludedPrefixes)&&void 0!==n&&n.length?(0,o.jsxs)(i.Z,{sx:{fontWeight:"medium",display:"flex",justifyItems:"end",placeItems:"flex-start",flexDirection:"column",gap:1},children:[(0,o.jsx)(i.Z,{children:"Excluded Prefixes :"}),(0,o.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto",placeItems:"flex-start",justifyItems:"end",flexDirection:"column",display:"flex"},children:null===(t=c.ExcludedPrefixes)||void 0===t?void 0:t.map((function(e){return(0,o.jsx)("div",{children:(0,o.jsx)("strong",{children:e.Prefix})})}))})]}):null]})}},45902:function(e,n,t){var i=t(1413),s=(t(72791),t(53767)),l=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,o=e.value,r=void 0===o?"-":o,c=e.orientation,a=void 0===c?"column":c,u=e.stkProps,d=void 0===u?{}:u,f=e.lblProps,x=void 0===f?{}:f,p=e.valProps,h=void 0===p?{}:p;return(0,l.jsxs)(s.Z,(0,i.Z)((0,i.Z)({direction:{xs:"column",sm:a}},d),{},{children:[(0,l.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:600}},x),{},{children:t})),(0,l.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:500}},h),{},{children:r}))]}))}},53767:function(e,n,t){var i=t(4942),s=t(63366),l=t(87462),o=t(72791),r=t(51184),c=t(45682),a=t(78519),u=t(82466),d=t(47630),f=t(93736),x=t(80184),p=["component","direction","spacing","divider","children"];function h(e,n){var t=o.Children.toArray(e).filter(Boolean);return t.reduce((function(e,i,s){return e.push(i),s<t.length-1&&e.push(o.cloneElement(n,{key:"separator-".concat(s)})),e}),[])}var m=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,s=(0,l.Z)({display:"flex",flexDirection:"column"},(0,r.k9)({theme:t},(0,r.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var o=(0,c.hB)(t),a=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),d=(0,r.P$)({values:n.direction,base:a}),f=(0,r.P$)({values:n.spacing,base:a});"object"===typeof d&&Object.keys(d).forEach((function(e,n,t){if(!d[e]){var i=n>0?d[t[n-1]]:"column";d[e]=i}}));s=(0,u.Z)(s,(0,r.k9)({theme:t},f,(function(e,t){return{"& > :not(style) + :not(style)":(0,i.Z)({margin:0},"margin".concat((s=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[s])),(0,c.NA)(o,e))};var s})))}return s=(0,r.dt)(t.breakpoints,s)})),v=o.forwardRef((function(e,n){var t=(0,f.Z)({props:e,name:"MuiStack"}),i=(0,a.Z)(t),o=i.component,r=void 0===o?"div":o,c=i.direction,u=void 0===c?"column":c,d=i.spacing,v=void 0===d?0:d,Z=i.divider,j=i.children,g=(0,s.Z)(i,p),T={direction:u,spacing:v};return(0,x.jsx)(m,(0,l.Z)({as:r,ownerState:T,ref:n},g,{children:Z?h(j,Z):j}))}));n.Z=v}}]);
//# sourceMappingURL=9918.3272b377.chunk.js.map