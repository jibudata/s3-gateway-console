"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9952],{99952:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var i=t(29439),a=t(1413),o=t(72791),s=t(61889),l=t(40986),r=t(75952),c=t(11135),d=t(25787),u=t(23814),p=t(81207),x=t(56028),m=t(90673),f=t(87995),h=t(81551),v=t(56087),Z=t(38442),b=t(27454),j=t(51691),y=t(21435),g=t(9505),k=t(23508),C=t(40214),S=t(80184),P=function(e){var n=e.closeAddModalAndRefresh,t=e.addOpen,a=(0,h.TL)(),l=(0,g.Z)((function(){return n(!0)}),(function(e){n(!1),a((0,f.Ih)(e))})),r=(0,i.Z)(l,2),c=r[0],d=r[1],u=(0,o.useState)(""),p=(0,i.Z)(u,2),x=p[0],m=p[1];return(0,S.jsx)(k.Z,{title:"",confirmText:"Create",isOpen:t,isLoading:c,onConfirm:function(){d("POST","/api/v1/kms/keys/",{key:x})},onClose:function(){return n(!1)},confirmButtonProps:{disabled:-1!==x.indexOf(" ")||""===x||c,variant:"callAction"},confirmationContent:(0,S.jsxs)(j.Z,{children:[(0,S.jsx)(C.Z,{helpText:"Create Key",contents:["Create a new cryptographic key in the Key Management Service server connected to MINIO."]}),(0,S.jsx)(s.ZP,{item:!0,xs:12,marginTop:3,children:(0,S.jsx)(y.Z,{id:"key-name",name:"key-name",label:"Key Name",autoFocus:!0,value:x,error:-1!==x.indexOf(" ")?"Key name cannot contain spaces":"",onChange:function(e){m(e.target.value)}})})]})})},F=(0,d.Z)((function(e){return(0,c.Z)((0,a.Z)((0,a.Z)({},u.ID),u.DF))}))((function(e){var n=e.classes,t=e.open,a=e.encryptionCfg,c=e.selectedBucket,d=e.closeModalAndRefresh,u=(0,h.TL)(),j=(0,o.useState)(!1),y=(0,i.Z)(j,2),g=y[0],k=y[1],C=(0,o.useState)(""),F=(0,i.Z)(C,2),M=F[0],N=F[1],I=(0,o.useState)("disabled"),z=(0,i.Z)(I,2),T=z[0],w=z[1],K=(0,o.useState)([]),R=(0,i.Z)(K,2),A=R[0],O=R[1],B=(0,o.useState)(!1),E=(0,i.Z)(B,2),L=E[0],D=E[1],W=(0,o.useState)(!1),H=(0,i.Z)(W,2),_=H[0],Y=H[1];(0,o.useEffect)((function(){a&&("AES256"===a.algorithm?w("sse-s3"):(w("sse-kms"),N(a.kmsMasterKeyID)))}),[a]),(0,o.useEffect)((function(){"sse-kms"===T&&p.Z.invoke("GET","/api/v1/kms/keys").then((function(e){O(e.results),D(!1)})).catch((function(e){D(!1),u((0,f.zb)(e))}))}),[T,L,u]);return(0,S.jsxs)(o.Fragment,{children:[_&&(0,S.jsx)(P,{addOpen:_,closeAddModalAndRefresh:function(e){Y(!1),D(!0)}}),(0,S.jsx)(x.Z,{modalOpen:t,onClose:function(){d()},title:"Enable Bucket Encryption",titleIcon:(0,S.jsx)(r.Xn4,{}),children:(0,S.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g||("disabled"===T?p.Z.invoke("POST","/api/v1/buckets/".concat(c,"/encryption/disable")).then((function(){k(!1),d()})).catch((function(e){k(!1),u((0,f.zb)(e))})):p.Z.invoke("POST","/api/v1/buckets/".concat(c,"/encryption/enable"),{encType:T,kmsKeyID:M}).then((function(){k(!1),d()})).catch((function(e){k(!1),u((0,f.zb)(e))})))},children:(0,S.jsxs)(s.ZP,{container:!0,children:[(0,S.jsxs)(s.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,S.jsx)(s.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,S.jsx)(m.Z,{onChange:function(e){w(e.target.value)},id:"select-encryption-type",name:"select-encryption-type",label:"Encryption Type",value:T,options:[{label:"Disabled",value:"disabled"},{label:"SSE-S3",value:"sse-s3"},{label:"SSE-KMS",value:"sse-kms"}]})}),"sse-kms"===T&&(0,S.jsxs)(s.ZP,{item:!0,xs:12,className:n.formFieldRow,display:"flex",children:[(0,S.jsx)(m.Z,{onChange:function(e){N(e.target.value)},id:"select-kms-key-id",name:"select-kms-key-id",label:"KMS Key ID",value:M,options:A.map((function(e){return{label:e.name,value:e.name}}))}),(0,S.jsx)(s.ZP,{marginLeft:1,children:(0,S.jsx)(Z.s,{scopes:[v.Ft.KMS_IMPORT_KEY],resource:v.C3,errorProps:{disabled:!0},children:(0,S.jsx)(b.Z,{tooltip:"Add key",children:(0,S.jsx)(r.zxk,{id:"import-key",variant:"regular",icon:(0,S.jsx)(r.dtP,{}),onClick:function(e){Y(!0),e.preventDefault()}})})})})]})]}),(0,S.jsxs)(s.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,S.jsx)(r.zxk,{id:"cancel",type:"submit",variant:"regular",onClick:function(){d()},disabled:g,label:"Cancel"}),(0,S.jsx)(r.zxk,{id:"save",type:"submit",variant:"callAction",disabled:g,label:"Save"})]}),g&&(0,S.jsx)(s.ZP,{item:!0,xs:12,children:(0,S.jsx)(l.Z,{})})]})})})]})}))},21435:function(e,n,t){var i=t(29439),a=t(1413),o=t(72791),s=t(27391),l=t(61889),r=t(30829),c=t(20068),d=t(13400),u=t(20165),p=t(3579),x=t(11135),m=t(72455),f=t(25787),h=t(23814),v=t(75952),Z=t(28182),b=t(80184),j=(0,m.Z)((function(e){return(0,x.Z)((0,a.Z)({},h.gM))}));function y(e){var n=j();return(0,b.jsx)(s.Z,(0,a.Z)({InputProps:{classes:n}},e))}n.Z=(0,f.Z)((function(e){return(0,x.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},h.YI),h.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var n=e.label,t=e.onChange,s=e.value,x=e.id,m=e.name,f=e.type,h=void 0===f?"text":f,j=e.autoComplete,g=void 0===j?"off":j,k=e.disabled,C=void 0!==k&&k,S=e.multiline,P=void 0!==S&&S,F=e.tooltip,M=void 0===F?"":F,N=e.index,I=void 0===N?0:N,z=e.error,T=void 0===z?"":z,w=e.required,K=void 0!==w&&w,R=e.placeholder,A=void 0===R?"":R,O=e.min,B=e.max,E=e.overlayId,L=e.overlayIcon,D=void 0===L?null:L,W=e.overlayObject,H=void 0===W?null:W,_=e.extraInputProps,Y=void 0===_?{}:_,G=e.overlayAction,V=e.noLabelMinWidth,q=void 0!==V&&V,X=e.pattern,J=void 0===X?"":X,Q=e.autoFocus,U=void 0!==Q&&Q,$=e.classes,ee=e.className,ne=void 0===ee?"":ee,te=e.onKeyPress,ie=e.onFocus,ae=e.onPaste,oe=(0,a.Z)({"data-index":I},Y),se=(0,o.useState)(!1),le=(0,i.Z)(se,2),re=le[0],ce=le[1];"number"===h&&O&&(oe.min=O),"number"===h&&B&&(oe.max=B),""!==J&&(oe.pattern=J);var de=D,ue=h;return"password"===h&&null===D&&(de=re?(0,b.jsx)(u.Z,{}):(0,b.jsx)(p.Z,{}),ue=re?"text":"password"),(0,b.jsx)(o.Fragment,{children:(0,b.jsxs)(l.ZP,{container:!0,className:(0,Z.Z)(""!==ne?ne:"",""!==T?$.errorInField:$.inputBoxContainer),children:[""!==n&&(0,b.jsxs)(r.Z,{htmlFor:x,className:q?$.noMinWidthLabel:$.inputLabel,children:[(0,b.jsxs)("span",{children:[n,K?"*":""]}),""!==M&&(0,b.jsx)("div",{className:$.tooltipContainer,children:(0,b.jsx)(c.Z,{title:M,placement:"top-start",children:(0,b.jsx)("div",{className:$.tooltip,children:(0,b.jsx)(v.byK,{})})})})]}),(0,b.jsxs)("div",{className:$.textBoxContainer,children:[(0,b.jsx)(y,{id:x,name:m,fullWidth:!0,value:s,autoFocus:U,disabled:C,onChange:t,type:ue,multiline:P,autoComplete:g,inputProps:oe,error:""!==T,helperText:T,placeholder:A,className:$.inputRebase,onKeyPress:te,onFocus:ie,onPaste:ae}),de&&(0,b.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,b.jsx)(d.Z,{onClick:G?function(){G()}:function(){return ce(!re)},id:E,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:de})}),H&&(0,b.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:H})]})]})})}))},90673:function(e,n,t){var i=t(1413),a=t(72791),o=t(61889),s=t(4834),l=t(30829),r=t(20068),c=t(68096),d=t(58406),u=t(77865),p=t(11135),x=t(25787),m=t(23814),f=t(75952),h=t(80184),v=(0,x.Z)((function(e){return(0,p.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(s.ZP);n.Z=(0,x.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},m.YI),m.Hr),{},{fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var n=e.classes,t=e.id,i=e.name,s=e.onChange,p=e.options,x=e.label,m=e.tooltip,Z=void 0===m?"":m,b=e.value,j=e.disabled,y=void 0!==j&&j;return(0,h.jsx)(a.Fragment,{children:(0,h.jsxs)(o.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==x&&(0,h.jsxs)(l.Z,{htmlFor:t,className:n.inputLabel,children:[(0,h.jsx)("span",{children:x}),""!==Z&&(0,h.jsx)("div",{className:n.tooltipContainer,children:(0,h.jsx)(r.Z,{title:Z,placement:"top-start",children:(0,h.jsx)("div",{className:n.tooltip,children:(0,h.jsx)(f.byK,{})})})})]}),(0,h.jsx)(c.Z,{fullWidth:!0,children:(0,h.jsx)(d.Z,{id:t,name:i,value:b,onChange:s,input:(0,h.jsx)(v,{}),disabled:y,children:p.map((function(e){return(0,h.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(i,"-").concat(e.label))}))})})]})})}))},40214:function(e,n,t){t(72791);var i=t(64554),a=t(75952),o=t(80184);n.Z=function(e){var n=e.helpText,t=e.contents;return(0,o.jsxs)(i.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px"},children:[(0,o.jsxs)(i.Z,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px",paddingBottom:"20px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,o.jsx)(a.M9A,{}),(0,o.jsx)("div",{children:n})]}),(0,o.jsx)(i.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:t.map((function(e){return(0,o.jsx)(i.Z,{sx:{paddingBottom:"20px"},children:e})}))})]})}},3579:function(e,n,t){var i=t(64836);n.Z=void 0;var a=i(t(45649)),o=t(80184),s=(0,a.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");n.Z=s},20165:function(e,n,t){var i=t(64836);n.Z=void 0;var a=i(t(45649)),o=t(80184),s=(0,a.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");n.Z=s}}]);
//# sourceMappingURL=9952.dc18fe46.chunk.js.map