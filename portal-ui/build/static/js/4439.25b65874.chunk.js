"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4439],{14439:function(e,a,l){l.r(a),l.d(a,{default:function(){return j}});var t=l(4942),u=l(74165),n=l(15861),s=l(1413),r=l(29439),i=l(72791),o=l(57689),c=l(26181),v=l.n(c),b=l(29945),d=l(31776),S=l(82342),g=l(23814),h=l(34345),A=l(56087),E=l(87995),f=l(44690),p=[{label:"US East (Ohio)",value:"us-east-2"},{label:"US East (N. Virginia)",value:"us-east-1"},{label:"US West (N. California)",value:"us-west-1"},{label:"US West (Oregon)",value:"us-west-2"},{label:"Africa (Cape Town)",value:"af-south-1"},{label:"Asia Pacific (Hong Kong)***",value:"ap-east-1"},{label:"Asia Pacific (Jakarta)",value:"ap-southeast-3"},{label:"Asia Pacific (Mumbai)",value:"ap-south-1"},{label:"Asia Pacific (Osaka)",value:"ap-northeast-3"},{label:"Asia Pacific (Seoul)",value:"ap-northeast-2"},{label:"Asia Pacific (Singapore)",value:"ap-southeast-1"},{label:"Asia Pacific (Sydney)",value:"ap-southeast-2"},{label:"Asia Pacific (Tokyo)",value:"ap-northeast-1"},{label:"Canada (Central)",value:"ca-central-1"},{label:"China (Beijing)",value:"cn-north-1"},{label:"China (Ningxia)",value:"cn-northwest-1"},{label:"Europe (Frankfurt)",value:"eu-central-1"},{label:"Europe (Ireland)",value:"eu-west-1"},{label:"Europe (London)",value:"eu-west-2"},{label:"Europe (Milan)",value:"eu-south-1"},{label:"Europe (Paris)",value:"eu-west-3"},{label:"Europe (Stockholm)",value:"eu-north-1"},{label:"South America (S\xe3o Paulo)",value:"sa-east-1"},{label:"Middle East (Bahrain)",value:"me-south-1"},{label:"AWS GovCloud (US-East)",value:"us-gov-east-1"},{label:"AWS GovCloud (US-West)",value:"us-gov-west-1"}],m=[{label:"Montr\xe9al",value:"NORTHAMERICA-NORTHEAST1"},{label:"Toronto",value:"NORTHAMERICA-NORTHEAST2"},{label:"Iowa",value:"US-CENTRAL1"},{label:"South Carolina",value:"US-EAST1"},{label:"Northern Virginia",value:"US-EAST4"},{label:"Oregon",value:"US-WEST1"},{label:"Los Angeles",value:"US-WEST2"},{label:"Salt Lake City",value:"US-WEST3"},{label:"Las Vegas",value:"US-WEST4"},{label:"S\xe3o Paulo",value:"SOUTHAMERICA-EAST1"},{label:"Santiago",value:"SOUTHAMERICA-WEST1"},{label:"Warsaw",value:"EUROPE-CENTRAL2"},{label:"Finland",value:"EUROPE-NORTH1"},{label:"Belgium",value:"EUROPE-WEST1"},{label:"London",value:"EUROPE-WEST2"},{label:"Frankfurt",value:"EUROPE-WEST3"},{label:"Netherlands",value:"EUROPE-WEST4"},{label:"Z\xfcrich",value:"EUROPE-WEST6"},{label:"Taiwan",value:"ASIA-EAST1"},{label:"Hong Kong",value:"ASIA-EAST2"},{label:"Tokyo",value:"ASIA-NORTHEAST1"},{label:"Osaka",value:"ASIA-NORTHEAST2"},{label:"Seoul",value:"ASIA-NORTHEAST3"},{label:"Mumbai",value:"ASIA-SOUTH1"},{label:"Delhi",value:"ASIA-SOUTH2"},{label:"Singapore",value:"ASIA-SOUTHEAST1"},{label:"Jakarta",value:"ASIA-SOUTHEAST2"},{label:"Sydney",value:"AUSTRALIA-SOUTHEAST1"},{label:"Melbourne",value:"AUSTRALIA-SOUTHEAST2"}],C=[{label:"Asia",value:"asia"},{label:"Asia Pacific",value:"asiapacific"},{label:"Australia",value:"australia"},{label:"Australia Central",value:"australiacentral"},{label:"Australia Central 2",value:"australiacentral2"},{label:"Australia East",value:"australiaeast"},{label:"Australia Southeast",value:"australiasoutheast"},{label:"Brazil",value:"brazil"},{label:"Brazil South",value:"brazilsouth"},{label:"Brazil Southeast",value:"brazilsoutheast"},{label:"Canada",value:"canada"},{label:"Canada Central",value:"canadacentral"},{label:"Canada East",value:"canadaeast"},{label:"Central India",value:"centralindia"},{label:"Central US",value:"centralus"},{label:"Central US (Stage)",value:"centralusstage"},{label:"Central US EUAP",value:"centraluseuap"},{label:"East Asia",value:"eastasia"},{label:"East Asia (Stage)",value:"eastasiastage"},{label:"East US",value:"eastus"},{label:"East US (Stage)",value:"eastusstage"},{label:"East US 2",value:"eastus2"},{label:"East US 2 (Stage)",value:"eastus2stage"},{label:"East US 2 EUAP",value:"eastus2euap"},{label:"Europe",value:"europe"},{label:"France",value:"france"},{label:"France Central",value:"francecentral"},{label:"France South",value:"francesouth"},{label:"Germany",value:"germany"},{label:"Germany North",value:"germanynorth"},{label:"Germany West Central",value:"germanywestcentral"},{label:"Global",value:"global"},{label:"India",value:"india"},{label:"Japan",value:"japan"},{label:"Japan East",value:"japaneast"},{label:"Japan West",value:"japanwest"},{label:"Jio India Central",value:"jioindiacentral"},{label:"Jio India West",value:"jioindiawest"},{label:"Korea",value:"korea"},{label:"Korea Central",value:"koreacentral"},{label:"Korea South",value:"koreasouth"},{label:"North Central US",value:"northcentralus"},{label:"North Central US (Stage)",value:"northcentralusstage"},{label:"North Europe",value:"northeurope"},{label:"Norway",value:"norway"},{label:"Norway East",value:"norwayeast"},{label:"Norway West",value:"norwaywest"},{label:"South Africa",value:"southafrica"},{label:"South Africa North",value:"southafricanorth"},{label:"South Africa West",value:"southafricawest"},{label:"South Central US",value:"southcentralus"},{label:"South Central US (Stage)",value:"southcentralusstage"},{label:"South India",value:"southindia"},{label:"Southeast Asia",value:"southeastasia"},{label:"Southeast Asia (Stage)",value:"southeastasiastage"},{label:"Sweden Central",value:"swedencentral"},{label:"Switzerland",value:"switzerland"},{label:"Switzerland North",value:"switzerlandnorth"},{label:"Switzerland West",value:"switzerlandwest"},{label:"UAE Central",value:"uaecentral"},{label:"UAE North",value:"uaenorth"},{label:"UK South",value:"uksouth"},{label:"UK West",value:"ukwest"},{label:"United Arab Emirates",value:"uae"},{label:"United Kingdom",value:"uk"},{label:"United States",value:"unitedstates"},{label:"United States EUAP",value:"unitedstateseuap"},{label:"West Central US",value:"westcentralus"},{label:"West Europe",value:"westeurope"},{label:"West India",value:"westindia"},{label:"West US",value:"westus"},{label:"West US (Stage)",value:"westusstage"},{label:"West US 2",value:"westus2"},{label:"West US 2 (Stage)",value:"westus2stage"},{label:"West US 3",value:"westus3"}],T=l(80184),U=function(e){var a=e.label,l=e.onChange,t=e.type,u=e.tooltip,n=void 0===u?"":u,s=e.required,o=void 0!==s&&s,c=e.disabled,v=e.placeholder,d=function(e){var a=[];return"s3"===e&&(a=p),"gcs"===e&&(a=m),"azure"===e&&(a=C),a.map((function(e){return{value:e.value,label:"".concat(e.label," - ").concat(e.value)}}))}(t),S=(0,i.useState)(""),g=(0,r.Z)(S,2),h=g[0],A=g[1];return"minio"===t?(0,T.jsx)(b.Wzg,{label:a,disabled:c,required:o,tooltip:n,value:h,placeholder:v,id:"region-list",onChange:function(e){A(e.target.value),l(e.target.value)}}):(0,T.jsx)(b.F2H,{label:a,disabled:c,required:o,tooltip:n,options:d,value:h,placeholder:v,id:"region-list",onChange:function(e){A(e),l(e)}})},x=l(47974),w=l(99670),j=function(){var e=(0,f.TL)(),a=(0,o.s0)(),l=(0,o.UO)(),c=(0,i.useState)(!1),p=(0,r.Z)(c,2),m=p[0],C=p[1],j=(0,i.useState)(""),y=(0,r.Z)(j,2),W=y[0],k=y[1],Z=(0,i.useState)(""),N=(0,r.Z)(Z,2),z=N[0],O=N[1],I=(0,i.useState)(""),R=(0,r.Z)(I,2),P=R[0],K=R[1],H=(0,i.useState)(""),B=(0,r.Z)(H,2),F=B[0],q=B[1],M=(0,i.useState)(""),G=(0,r.Z)(M,2),L=G[0],J=G[1],D=(0,i.useState)(""),X=(0,r.Z)(D,2),V=X[0],_=X[1],$=(0,i.useState)(""),Q=(0,r.Z)($,2),Y=Q[0],ee=Q[1],ae=(0,i.useState)(""),le=(0,r.Z)(ae,2),te=le[0],ue=le[1],ne=(0,i.useState)(""),se=(0,r.Z)(ne,2),re=se[0],ie=se[1],oe=(0,i.useState)(""),ce=(0,r.Z)(oe,2),ve=ce[0],be=ce[1],de=(0,i.useState)(""),Se=(0,r.Z)(de,2),ge=Se[0],he=Se[1],Ae=(0,i.useState)(""),Ee=(0,r.Z)(Ae,2),fe=Ee[0],pe=Ee[1],me=(0,i.useState)(""),Ce=(0,r.Z)(me,2),Te=Ce[0],Ue=Ce[1],xe=v()(l,"service","s3"),we=(0,i.useState)(!0),je=(0,r.Z)(we,2),ye=je[0],We=je[1],ke=(0,i.useState)(""),Ze=(0,r.Z)(ke,2),Ne=Ze[0],ze=Ze[1],Oe=(0,i.useCallback)((function(){return/^[A-Z0-9-_]+$/.test(W)?(ze(""),!0):(ze("Please verify that string is uppercase only and contains valid characters (numbers, dashes & underscores)."),!1)}),[W]);(0,i.useEffect)((function(){if(m){var l={},t={name:W,endpoint:z,bucket:P,prefix:F,region:L},r=xe;switch(xe){case"minio":l={minio:(0,s.Z)((0,s.Z)({},t),{},{accesskey:Y,secretkey:te})};break;case"s3":l={s3:(0,s.Z)((0,s.Z)({},t),{},{accesskey:Y,secretkey:te,storageclass:V})};break;case"gcs":l={gcs:(0,s.Z)((0,s.Z)({},t),{},{creds:ve})};break;case"azure":l={azure:(0,s.Z)((0,s.Z)({},t),{},{accountname:ge,accountkey:fe})}}var i=(0,s.Z)({type:r},l);d.h.admin.addTier(i).then((function(){C(!1),a(A.gA.TIERS)})).catch(function(){var a=(0,n.Z)((0,u.Z)().mark((function a(l){var t;return(0,u.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.json();case 2:t=a.sent,C(!1),e((0,E.Ih)((0,S.g)(t)));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}}),[Y,fe,ge,P,ve,z,W,F,L,m,te,e,V,xe,a]),(0,i.useEffect)((function(){var e=!0;""===xe&&(e=!1),""!==W&&Oe()||(e=!1),""===z&&(e=!1),""===P&&(e=!1),""===F&&(e=!1),""===L&&"minio"!==xe&&(e=!1),"s3"!==xe&&"minio"!==xe||(""===Y&&(e=!1),""===te&&(e=!1)),"gcs"===xe&&""===ve&&(e=!1),"azure"===xe&&(""===ge&&(e=!1),""===fe&&(e=!1)),We(e)}),[Y,fe,ge,P,ve,z,ye,W,F,L,te,V,xe,Oe]),(0,i.useEffect)((function(){switch(xe){case"gcs":O("https://storage.googleapis.com"),Ue("Google Cloud");break;case"s3":O("https://s3.amazonaws.com"),Ue("Amazon S3");break;case"azure":O("http://blob.core.windows.net"),Ue("Azure");break;case"minio":O(""),Ue("MinIO")}}),[xe]);var Ie=h.Bh.find((function(e){return e.serviceName===xe}));return(0,i.useEffect)((function(){e((0,E.Sc)("add-tier-configuration"))}),[]),(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(x.Z,{label:(0,T.jsx)(i.Fragment,{children:(0,T.jsx)(b.hbI,{label:"Add Tier",onClick:function(){return a(A.gA.TIERS_ADD)}})}),actions:(0,T.jsx)(w.Z,{})}),(0,T.jsx)(b.Xgh,{children:(0,T.jsx)(b.rjZ,{item:!0,xs:12,sx:{border:"1px solid #eaeaea",padding:"25px"},children:(0,T.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),C(!0)},children:[""!==xe&&Ie?(0,T.jsxs)(b.NZf,{icon:Ie.logo,sx:{marginBottom:20},children:[Te||""," - Add Tier Configuration"]}):null,(0,T.jsx)(b.rjZ,{item:!0,xs:12,sx:(0,t.Z)({display:"grid",gridTemplateColumns:"1fr 1fr",gridAutoFlow:"row",gridRowGap:20,gridColumnGap:50},"@media (max-width: ".concat(b.Egj.sm,"px)"),{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}),children:""!==xe&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(b.Wzg,{id:"name",name:"name",label:"Name",placeholder:"Enter Name (Eg. REMOTE-TIER)",value:W,onChange:function(e){k(e.target.value.toUpperCase())},error:Ne,required:!0}),(0,T.jsx)(b.Wzg,{id:"endpoint",name:"endpoint",label:"Endpoint",placeholder:"Enter Endpoint",value:z,onChange:function(e){O(e.target.value)},required:!0}),(xe===h.b2||xe===h.Pp)&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(b.Wzg,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:Y,onChange:function(e){ee(e.target.value)},required:!0}),(0,T.jsx)(b.Wzg,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:te,onChange:function(e){ue(e.target.value)},required:!0})]}),xe===h.f0&&(0,T.jsx)(b.F5R,{accept:".json",id:"creds",label:"Credentials",name:"creds",returnEncodedData:!0,onChange:function(e,a,l){l&&(be(l),ie(a))},value:re,required:!0}),xe===h.vB&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(b.Wzg,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:ge,onChange:function(e){he(e.target.value)},required:!0}),(0,T.jsx)(b.Wzg,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:fe,onChange:function(e){pe(e.target.value)},required:!0})]}),(0,T.jsx)(b.Wzg,{id:"bucket",name:"bucket",label:"Bucket",placeholder:"Enter Bucket",value:P,onChange:function(e){K(e.target.value)},required:!0}),(0,T.jsx)(b.Wzg,{id:"prefix",name:"prefix",label:"Prefix",placeholder:"Enter Prefix",value:F,onChange:function(e){q(e.target.value)},required:!0}),(0,T.jsx)(U,{onChange:function(e){J(e)},required:"minio"!==xe,label:"Region",id:"region",type:xe}),xe===h.b2&&(0,T.jsx)(b.Wzg,{id:"storageClass",name:"storageClass",label:"Storage Class",placeholder:"Enter Storage Class",value:V,onChange:function(e){_(e.target.value)}})]})}),(0,T.jsx)(b.rjZ,{item:!0,xs:12,sx:g.ID.modalButtonBar,children:(0,T.jsx)(b.zxk,{id:"save-tier-configuration",type:"submit",variant:"callAction",disabled:m||!ye,label:"Save Tier Configuration"})})]})})})]})}},34345:function(e,a,l){l.d(a,{Bh:function(){return o},Pp:function(){return n},b2:function(){return r},f0:function(){return s},vB:function(){return i}});var t=l(29945),u=l(80184),n="minio",s="gcs",r="s3",i="azure",o=[{serviceName:n,targetTitle:"MinIO",logo:(0,u.jsx)(t.$E9,{}),logoXs:(0,u.jsx)(t.YEz,{})},{serviceName:s,targetTitle:"Google Cloud Storage",logo:(0,u.jsx)(t.UQG,{}),logoXs:(0,u.jsx)(t.Vwu,{})},{serviceName:r,targetTitle:"AWS S3",logo:(0,u.jsx)(t.feu,{}),logoXs:(0,u.jsx)(t.Xj3,{})},{serviceName:i,targetTitle:"Azure",logo:(0,u.jsx)(t.jze,{}),logoXs:(0,u.jsx)(t.nAe,{})}]}}]);
//# sourceMappingURL=4439.25b65874.chunk.js.map