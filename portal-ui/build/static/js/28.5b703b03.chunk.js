(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[28],{376:function(e,t,a){"use strict";a(1);var n=a(550),r=a(290),i=a(299),s=a(94),c=a(38),o=a(71),l=a(72),u=a(401),d=a(0),m=Object(c.b)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode}}),null);t.a=m(Object(i.a)((function(e){return Object(r.a)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var t=e.classes,a=e.label,r=e.actions,i=e.sidebarOpen,c=e.operatorMode;return Object(d.jsxs)(n.a,{container:!0,className:t.headerContainer,direction:"row",alignItems:"center",children:[Object(d.jsx)(u.a,{display:{xs:"block",sm:"block",md:"none"},children:Object(d.jsx)(n.a,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),Object(d.jsxs)(n.a,{item:!0,xs:12,sm:12,md:6,className:t.label,children:[!i&&Object(d.jsx)("div",{className:t.logo,children:c?Object(d.jsx)(o.a,{}):Object(d.jsx)(l.a,{})}),Object(d.jsx)(s.a,{variant:"h4",className:t.labelStyle,children:a})]}),r&&Object(d.jsx)(n.a,{item:!0,xs:12,sm:12,md:6,className:t.rightMenu,children:r})]})})))},377:function(e,t,a){"use strict";var n,r=a(14),i=a(2),s=a(1),c=a(38),o=a(367),l=a(361),u=a(446),d=a(455),m=a(456),b=a(290),j=a(299),p=a(120),g=a(30),h=a(44),f=a.n(h),x=a(133),O=a.n(x),v=a(129),y=a.n(v),C=a(126),S=a.n(C),_=a(0),A=function(){clearInterval(n)},I={displayErrorMessage:g.h},k=Object(c.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),I)(Object(j.a)((function(e){return Object(b.a)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},simpleError:{marginTop:5,padding:"2px 5px",fontSize:16,color:"#000"},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var t=e.classes,a=e.modalSnackMessage,i=e.displayErrorMessage,c=e.customStyle,o=Object(s.useState)(!1),l=Object(r.a)(o,2),u=l[0],d=l[1],m=Object(s.useState)(!1),b=Object(r.a)(m,2),j=b[0],p=b[1],g=Object(s.useCallback)((function(){p(!1)}),[]);Object(s.useEffect)((function(){j||(i({detailedError:"",errorMessage:""}),d(!1))}),[i,j]),Object(s.useEffect)((function(){""!==a.message&&"error"===a.type&&p(!0)}),[g,a.message,a.type]);var h=f()(a,"message",""),x=f()(a,"detailedErrorMsg","");return"error"!==a.type||""===h?null:Object(_.jsx)(s.Fragment,{children:Object(_.jsxs)("div",{className:"".concat(t.modalErrorContainer," ").concat(j?t.modalErrorShow:""),style:c,onMouseOver:A,onMouseLeave:function(){n=setInterval(g,1e4)},children:[Object(_.jsx)("button",{className:t.closeButton,onClick:g,children:Object(_.jsx)(S.a,{})}),Object(_.jsxs)("div",{className:t.errorTitle,children:[Object(_.jsx)("span",{className:t.messageIcon,children:Object(_.jsx)(y.a,{})}),Object(_.jsx)("span",{className:t.errorLabel,children:h})]}),""!==x&&Object(_.jsxs)(s.Fragment,{children:[Object(_.jsx)("div",{className:t.detailsContainerLink,children:Object(_.jsxs)("button",{className:t.detailsButton,onClick:function(){d(!u)},children:["Details",Object(_.jsx)(O.a,{className:"".concat(t.arrowElement," ").concat(u?t.arrowOpen:"")})]})}),Object(_.jsx)("div",{className:"".concat(t.extraDetailsContainer," ").concat(u?t.extraDetailsOpen:""),children:x})]})]})})}))),N={content:'" "',borderLeft:"2px solid #9C9C9C",height:33,width:1,position:"absolute"},T=Object(c.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:g.i});t.a=Object(j.a)((function(e){return Object(b.a)(Object(i.a)({dialogContainer:{padding:"8px 15px 22px"},closeContainer:{textAlign:"right"},closeButton:{height:16,width:16,padding:0,backgroundColor:"initial","&:hover":{backgroundColor:"initial"},"&:active":{backgroundColor:"initial"}},modalCloseIcon:{fontSize:35,color:"#9C9C9C",fontWeight:300,"&:hover":{color:"#9C9C9C"}},closeIcon:{"&::before":Object(i.a)(Object(i.a)({},N),{},{transform:"rotate(45deg)",height:12}),"&::after":Object(i.a)(Object(i.a)({},N),{},{transform:"rotate(-45deg)",height:12}),"&:hover::before, &:hover::after":{borderColor:"#9C9C9C"},display:"block",position:"relative",height:12,width:12},titleClass:{padding:"0px 50px 12px",fontSize:"1.2rem",fontWeight:600,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},modalContent:{padding:"0 50px"},customDialogSize:{width:"100%",maxWidth:765}},p.v))}))(T((function(e){var t=e.onClose,a=e.modalOpen,n=e.title,c=e.children,b=e.classes,j=e.wideLimit,p=void 0===j||j,g=e.modalSnackMessage,h=e.noContentPadding,f=e.setModalSnackMessage,x=Object(s.useState)(!1),O=Object(r.a)(x,2),v=O[0],y=O[1];Object(s.useEffect)((function(){f("")}),[f]),Object(s.useEffect)((function(){if(g){if(""===g.message)return void y(!1);"error"!==g.type&&y(!0)}}),[g]);var C=p?{classes:{paper:b.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},S="";return g&&(S=g.detailedErrorMsg,(""===g.detailedErrorMsg||g.detailedErrorMsg.length<5)&&(S=g.message)),Object(_.jsx)(u.a,Object(i.a)(Object(i.a)({open:a,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},C),{},{children:Object(_.jsxs)("div",{className:b.dialogContainer,children:[Object(_.jsx)(k,{}),Object(_.jsx)(l.a,{open:v,className:b.snackBarModal,onClose:function(){y(!1),f("")},message:S,ContentProps:{className:"".concat(b.snackBar," ").concat(g&&"error"===g.type?b.errorSnackBar:"")},autoHideDuration:g&&"error"===g.type?1e4:5e3}),Object(_.jsx)("div",{className:b.closeContainer,children:Object(_.jsx)(o.a,{"aria-label":"close",className:b.closeButton,onClick:t,disableRipple:!0,size:"large",children:Object(_.jsx)("span",{className:b.closeIcon})})}),Object(_.jsx)(d.a,{id:"alert-dialog-title",className:b.titleClass,children:n}),Object(_.jsx)(m.a,{className:h?"":b.modalContent,children:c})]})}))})))},378:function(e,t,a){"use strict";var n=a(2),r=a(1),i=a.n(r),s=a(883),c=a(550),o=a(884),l=a(365),u=a(367),d=a(290),m=a(358),b=a(299),j=a(120),p=a(122),g=a(0),h=Object(m.a)((function(e){return Object(d.a)(Object(n.a)({},j.k))}));function f(e){var t=h();return Object(g.jsx)(s.a,Object(n.a)({InputProps:{classes:t}},e))}t.a=Object(b.a)((function(e){return Object(d.a)(Object(n.a)(Object(n.a)(Object(n.a)({},j.g),j.A),{},{textBoxContainer:{flexGrow:1,position:"relative"},textBoxWithIcon:{position:"relative",paddingRight:25},errorState:{color:"#b53b4b",fontSize:14,position:"absolute",top:7,right:7},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,r=e.value,s=e.id,d=e.name,m=e.type,b=void 0===m?"text":m,j=e.autoComplete,h=void 0===j?"off":j,x=e.disabled,O=void 0!==x&&x,v=e.multiline,y=void 0!==v&&v,C=e.tooltip,S=void 0===C?"":C,_=e.index,A=void 0===_?0:_,I=e.error,k=void 0===I?"":I,N=e.required,T=void 0!==N&&N,D=e.placeholder,P=void 0===D?"":D,z=e.min,w=e.max,E=e.overlayIcon,F=void 0===E?null:E,R=e.overlayObject,K=void 0===R?null:R,M=e.extraInputProps,G=void 0===M?{}:M,q=e.overlayAction,L=e.noLabelMinWidth,V=void 0!==L&&L,U=e.classes,B=Object(n.a)({"data-index":A},G);return"number"===b&&z&&(B.min=z),"number"===b&&w&&(B.max=w),Object(g.jsx)(i.a.Fragment,{children:Object(g.jsxs)(c.a,{container:!0,className:" ".concat(""!==k?U.errorInField:U.inputBoxContainer),children:[""!==t&&Object(g.jsxs)(o.a,{htmlFor:s,className:V?U.noMinWidthLabel:U.inputLabel,children:[Object(g.jsxs)("span",{children:[t,T?"*":""]}),""!==S&&Object(g.jsx)("div",{className:U.tooltipContainer,children:Object(g.jsx)(l.a,{title:S,placement:"top-start",children:Object(g.jsx)("div",{className:U.tooltip,children:Object(g.jsx)(p.a,{})})})})]}),Object(g.jsxs)("div",{className:U.textBoxContainer,children:[Object(g.jsx)(f,{id:s,name:d,fullWidth:!0,value:r,disabled:O,onChange:a,type:b,multiline:y,autoComplete:h,inputProps:B,error:""!==k,helperText:k,placeholder:P,className:U.inputRebase}),F&&Object(g.jsx)("div",{className:"".concat(U.overlayAction," ").concat(""!==t?"withLabel":""),children:Object(g.jsx)(u.a,{onClick:q?function(){q()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:F})}),K&&Object(g.jsx)("div",{className:"".concat(U.overlayAction," ").concat(""!==t?"withLabel":""),children:K})]})]})})}))},382:function(e,t,a){"use strict";var n=a(5),r=a(2),i=a(1),s=a.n(i),c=a(290),o=a(299),l=a(527),u=a(884),d=a(365),m=a(94),b=a(550),j=a(120),p=a(122),g=a(7),h=a(0),f=Object(o.a)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))(l.a);t.a=Object(o.a)((function(e){return Object(c.a)(Object(r.a)(Object(r.a)({seeMore:{marginTop:e.spacing(3)},paper:{display:"flex",overflow:"auto",flexDirection:"column",paddingTop:15,boxShadow:"none"},addSideBar:{width:"320px",padding:"20px"},tableToolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(0)},wrapCell:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"},minTableHeader:{color:"#393939","& tr":{"& th":{fontWeight:"bold"}}},noFound:{textAlign:"center",padding:"10px 0"},tableContainer:{maxHeight:200},stickyHeader:{backgroundColor:"#fff"},actionsTitle:{fontWeight:600,color:"#081C42",fontSize:16,alignSelf:"center"},tableBlock:{marginTop:15},filterField:{width:375,fontWeight:600,"& .input":{"&::placeholder":{fontWeight:600,color:"#081C42"}}},divContainer:{marginBottom:20},indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},j.a),j.g))}))((function(e){var t=e.label,a=void 0===t?"":t,r=e.onChange,i=e.value,c=e.id,o=e.name,l=e.checked,j=void 0!==l&&l,x=e.disabled,O=void 0!==x&&x,v=e.switchOnly,y=void 0!==v&&v,C=e.tooltip,S=void 0===C?"":C,_=e.description,A=void 0===_?"":_,I=e.classes,k=e.indicatorLabels,N=Object(h.jsxs)(s.a.Fragment,{children:[!y&&Object(h.jsx)("span",{className:Object(g.a)(I.indicatorLabel,Object(n.a)({},I.indicatorLabelOn,!j)),children:k&&k.length>1?k[1]:"OFF"}),Object(h.jsx)(f,{checked:j,onChange:r,color:"primary",name:o,inputProps:{"aria-label":"primary checkbox"},disabled:O,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:i}),!y&&Object(h.jsx)("span",{className:Object(g.a)(I.indicatorLabel,Object(n.a)({},I.indicatorLabelOn,j)),children:k?k[0]:"ON"})]});return y?N:Object(h.jsx)("div",{className:I.divContainer,children:Object(h.jsxs)(b.a,{container:!0,alignItems:"center",children:[Object(h.jsx)(b.a,{item:!0,xs:!0,children:Object(h.jsxs)(b.a,{container:!0,children:[Object(h.jsx)(b.a,{item:!0,xs:12,sm:4,md:3,children:""!==a&&Object(h.jsxs)(u.a,{htmlFor:c,className:I.inputLabel,children:[Object(h.jsx)("span",{children:a}),""!==S&&Object(h.jsx)("div",{className:I.tooltipContainer,children:Object(h.jsx)(d.a,{title:S,placement:"top-start",children:Object(h.jsx)("div",{className:I.tooltip,children:Object(h.jsx)(p.a,{})})})})]})}),Object(h.jsx)(b.a,{item:!0,xs:12,sm:!0,textAlign:"left",children:""!==A&&Object(h.jsx)(m.a,{component:"p",className:I.fieldDescription,children:A})})]})}),Object(h.jsx)(b.a,{item:!0,xs:12,sm:2,textAlign:"right",className:I.switchContainer,children:N})]})})}))},390:function(e,t,a){"use strict";var n=a(2),r=a(5),i=a(385),s=(a(1),a(290)),c=a(299),o=a(367),l=a(365),u=a(7),d=a(0),m=["classes","children","variant","tooltip"];t.a=Object(c.a)((function(e){return Object(s.a)({root:{padding:8,marginLeft:8,borderWidth:1,borderColor:"#696969",color:"#696969",borderStyle:"solid",borderRadius:3,"& .min-icon":{width:20},"& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.main,borderRadius:3,opacity:.3},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}},contained:{borderColor:e.palette.primary.main,background:e.palette.primary.main,color:"white","& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.dark,borderRadius:3,opacity:.3},"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"}}})}))((function(e){var t=e.classes,a=e.children,s=e.variant,c=void 0===s?"outlined":s,b=e.tooltip,j=Object(i.a)(e,m),p=Object(d.jsx)(o.a,Object(n.a)(Object(n.a)({},j),{},{className:Object(u.a)(t.root,Object(r.a)({},t.contained,"contained"===c)),children:a}));return b&&""!==b?Object(d.jsx)(l.a,{title:b,children:Object(d.jsx)("span",{children:p})}):p}))},410:function(e,t,a){"use strict";var n=a(2),r=a(1),i=a.n(r),s=a(550),c=a(708),o=a(884),l=a(365),u=a(897),d=a(881),m=a(552),b=a(290),j=a(299),p=a(120),g=a(122),h=a(0),f=Object(j.a)((function(e){return Object(b.a)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(c.c);t.a=Object(j.a)((function(e){return Object(b.a)(Object(n.a)(Object(n.a)({},p.g),p.A))}))((function(e){var t=e.classes,a=e.id,n=e.name,r=e.onChange,c=e.options,b=e.label,j=e.tooltip,p=void 0===j?"":j,x=e.value,O=e.disabled,v=void 0!==O&&O;return Object(h.jsx)(i.a.Fragment,{children:Object(h.jsxs)(s.a,{item:!0,xs:12,className:t.fieldContainer,children:[""!==b&&Object(h.jsxs)(o.a,{htmlFor:a,className:t.inputLabel,children:[Object(h.jsx)("span",{children:b}),""!==p&&Object(h.jsx)("div",{className:t.tooltipContainer,children:Object(h.jsx)(l.a,{title:p,placement:"top-start",children:Object(h.jsx)("div",{className:t.tooltip,children:Object(h.jsx)(g.a,{})})})})]}),Object(h.jsx)(u.a,{fullWidth:!0,children:Object(h.jsx)(d.a,{id:a,name:n,value:x,onChange:r,input:Object(h.jsx)(f,{}),disabled:v,children:c.map((function(e){return Object(h.jsx)(m.a,{value:e.value,children:e.label},"select-".concat(n,"-").concat(e.label))}))})})]})})}))},432:function(e,t,a){"use strict";a.d(t,"t",(function(){return r})),a.d(t,"l",(function(){return i})),a.d(t,"o",(function(){return s})),a.d(t,"n",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"j",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"k",(function(){return m})),a.d(t,"f",(function(){return b})),a.d(t,"d",(function(){return j})),a.d(t,"b",(function(){return p})),a.d(t,"h",(function(){return g})),a.d(t,"g",(function(){return h})),a.d(t,"c",(function(){return f})),a.d(t,"m",(function(){return x})),a.d(t,"p",(function(){return O})),a.d(t,"r",(function(){return v})),a.d(t,"q",(function(){return y})),a.d(t,"s",(function(){return C}));var n=a(16),r=function(e,t,a){return{type:n.v,pageName:e,field:t,value:a}},i=function(e,t){return{type:n.t,pageName:e,valid:t}},s=function(e){return{type:n.u,storageClasses:e}},c=function(e){return{type:n.s,limitSize:e}},o=function(){return{type:n.a}},l=function(e){return{type:n.h,id:e}},u=function(e,t,a,r){return{type:n.d,id:e,key:t,fileName:a,value:r}},d=function(){return{type:n.g}},m=function(e){return{type:n.j,id:e}},b=function(e,t,a,r){return{type:n.f,id:e,key:t,fileName:a,value:r}},j=function(e,t,a){return{type:n.m,key:e,fileName:t,value:a}},p=function(e,t,a){return{type:n.k,key:e,fileName:t,value:a}},g=function(e,t,a){return{type:n.o,key:e,fileName:t,value:a}},h=function(e,t){return{type:n.n,fileName:e,value:t}},f=function(e,t){return{type:n.l,fileName:e,value:t}},x=function(){return{type:n.p}},O=function(e){return{type:n.x,state:e}},v=function(e,t){return{type:n.w,name:e,namespace:t}},y=function(e){return{type:n.z,tenant:e}},C=function(e){return{type:n.y,tab:e}}},442:function(e,t,a){"use strict";var n=a(5),r=a(2),i=(a(1),a(7)),s=a(550),c=a(733),o=a(739),l=a(732),u=a(884),d=a(365),m=a(290),b=a(299),j=a(358),p=a(120),g=a(122),h=a(0),f=Object(j.a)(Object(r.a)({root:{"&:hover":{backgroundColor:"transparent"}}},p.q)),x=function(e){var t=f();return Object(h.jsx)(l.a,Object(r.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(h.jsx)("span",{className:t.radioSelectedIcon}),icon:Object(h.jsx)("span",{className:t.radioUnselectedIcon})},e))};t.a=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)(Object(r.a)({},p.g),p.A),{},{radioBoxContainer:{},optionLabel:{"&.Mui-disabled":{"& .MuiFormControlLabel-label":{color:"#9c9c9c"}},"&:last-child":{marginRight:0},"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E"}},checkedOption:{"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E",fontWeight:700}}}))}))((function(e){var t=e.selectorOptions,a=void 0===t?[]:t,r=e.currentSelection,l=e.label,m=e.id,b=e.name,j=e.onChange,p=e.tooltip,f=void 0===p?"":p,O=e.disableOptions,v=void 0!==O&&O,y=e.classes,C=e.displayInColumn,S=void 0!==C&&C;return Object(h.jsxs)(s.a,{container:!0,alignItems:"center",children:[Object(h.jsx)(s.a,{item:!0,xs:!0,children:Object(h.jsxs)(u.a,{htmlFor:m,className:y.inputLabel,children:[Object(h.jsx)("span",{children:l}),""!==f&&Object(h.jsx)("div",{className:y.tooltipContainer,children:Object(h.jsx)(d.a,{title:f,placement:"top-start",children:Object(h.jsx)("div",{children:Object(h.jsx)(g.a,{})})})})]})}),Object(h.jsx)(s.a,{item:!0,xs:!0,children:Object(h.jsx)(c.a,{"aria-label":m,id:m,name:b,value:r,onChange:j,row:!S,style:{display:"block",textAlign:"right"},children:a.map((function(e){return Object(h.jsx)(o.a,{value:e.value,control:Object(h.jsx)(x,{}),label:e.label,disabled:v,className:Object(i.a)(y.optionLabel,Object(n.a)({},y.checkedOption,e.value===r))},"rd-".concat(b,"-").concat(e.value))}))})})]})}))},482:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(94),s=a(290),c=a(299),o=a(0);t.a=Object(c.a)((function(e){var t;return Object(s.a)({errorBlock:{color:(null===(t=e.palette)||void 0===t?void 0:t.error.main)||"#C83B51"}})}))((function(e){var t=e.classes,a=e.errorMessage,n=e.withBreak,s=void 0===n||n;return Object(o.jsxs)(r.a.Fragment,{children:[s&&Object(o.jsx)("br",{}),Object(o.jsx)(i.a,{component:"p",variant:"body1",className:t.errorBlock,children:a})]})}))},494:function(e,t,a){"use strict";var n=a(2),r=(a(1),a(0));t.a=function(e){return Object(r.jsxs)("svg",Object(n.a)(Object(n.a)({},e),{},{className:"min-icon",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#e04006","stroke-width":"2"}),Object(r.jsx)("path",{fill:"none",stroke:"#e04006","stroke-width":"2",d:"M8 4v6m0 1v2"})]}))}},528:function(e,t,a){"use strict";var n=a(14),r=a(2),i=a(1),s=a.n(i),c=a(44),o=a.n(c),l=a(550),u=a(884),d=a(365),m=a(367),b=a(547),j=a.n(b),p=a(546),g=a.n(p),h=a(290),f=a(299),x=a(120),O=a(122),v=a(482),y=a(0);t.a=Object(f.a)((function(e){return Object(h.a)(Object(r.a)(Object(r.a)(Object(r.a)({},x.g),x.A),{},{textBoxContainer:{flexGrow:1,position:"relative",display:"flex",flexWrap:"nowrap",height:48},errorState:{color:"#b53b4b",fontSize:14,position:"absolute",top:7,right:7},errorText:{margin:"0",fontSize:"0.75rem",marginTop:3,textAlign:"left",fontFamily:"Lato,sans-serif",fontWeight:400,lineHeight:"1.66",color:"#dc1f2e"},valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileReselect:{display:"flex",alignItems:"center",height:48},fieldBottom:{borderBottom:"#9c9c9c 1px solid"},fileInputField:{margin:"13px 0"}}))}))((function(e){var t=e.label,a=e.classes,r=e.onChange,c=e.id,b=e.name,p=e.disabled,h=void 0!==p&&p,f=e.tooltip,x=void 0===f?"":f,C=e.required,S=e.error,_=void 0===S?"":S,A=e.accept,I=void 0===A?"":A,k=e.value,N=void 0===k?"":k,T=Object(i.useState)(!1),D=Object(n.a)(T,2),P=D[0],z=D[1];return Object(y.jsx)(s.a.Fragment,{children:Object(y.jsxs)(l.a,{item:!0,xs:12,className:"".concat(a.fieldBottom," ").concat(a.fieldContainer," ").concat(""!==_?a.errorInField:""),children:[""!==t&&Object(y.jsxs)(u.a,{htmlFor:c,className:"".concat(""!==_?a.fieldLabelError:""," ").concat(a.inputLabel),children:[Object(y.jsxs)("span",{children:[t,C?"*":""]}),""!==x&&Object(y.jsx)("div",{className:a.tooltipContainer,children:Object(y.jsx)(d.a,{title:x,placement:"top-start",children:Object(y.jsx)("div",{className:a.tooltip,children:Object(y.jsx)(O.a,{})})})})]}),P||""===N?Object(y.jsxs)("div",{className:a.textBoxContainer,children:[Object(y.jsx)("input",{type:"file",name:b,onChange:function(e){var t=o()(e,"target.files[0].name","");!function(e,t){var a=e.target.files[0],n=new FileReader;n.readAsDataURL(a),n.onload=function(){var e=n.result;if(e){var a=e.toString().split("base64,");2===a.length&&t(a[1])}}}(e,(function(e){r(e,t)}))},accept:I,required:C,disabled:h,className:a.fileInputField}),""!==N&&Object(y.jsx)(m.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){z(!1)},disableRipple:!1,disableFocusRipple:!1,size:"large",children:Object(y.jsx)(g.a,{})}),""!==_&&Object(y.jsx)(v.a,{errorMessage:_})]}):Object(y.jsxs)("div",{className:a.fileReselect,children:[Object(y.jsx)("div",{className:a.valueString,children:N}),Object(y.jsx)(m.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){z(!0)},disableRipple:!1,disableFocusRipple:!1,size:"large",children:Object(y.jsx)(j.a,{})})]})]})})}))},545:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var n=a(44),r=a.n(n),i=function(e){return e.map((function(e){return{label:e,value:e}}))},s=function(e){var t=r()(e,"elements",[]),a={};return t.forEach((function(e){var t=e.name.split(".storageclass.storage.k8s.io/requests.storage")[0],n=r()(e,"hard",0),i=r()(e,"used",0);a[t]=n-i})),a},c=function(e){return""!==e.currentState&&(!(!e.status&&"green"!==e.health_status&&"yellow"!==e.health_status)&&(!e.status||"green"===e.status.health_status||"yellow"===e.status.health_status))}},551:function(e,t,a){"use strict";var n=a(2),r=a(15),i=a(1),s=a.n(i),c=a(44),o=a.n(c),l=a(290),u=a(299),d=a(369),m=a(377),b=a(550),j=a(888),p=a(454),g=a(390),h=a(490),f=a.n(h),x=a(121),O=a(0),v=Object(u.a)((function(e){return Object(l.a)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:{fontSize:".8rem",fontWeight:600}})}))((function(e){var t=e.label,a=void 0===t?"":t,n=e.value,r=void 0===n?"":n,i=e.classes,s=void 0===i?{}:i;return Object(O.jsxs)("div",{className:s.container,children:[Object(O.jsxs)("div",{className:s.inputLabel,children:[a,":"]}),Object(O.jsx)("div",{className:s.inputWithCopy,children:Object(O.jsx)(j.a,{value:r,readOnly:!0,endAdornment:Object(O.jsx)(p.a,{position:"end",children:Object(O.jsx)(f.a,{text:r,children:Object(O.jsx)(g.a,{"aria-label":"copy",tooltip:"Copy",onClick:function(){},onMouseDown:function(){},edge:"end",children:Object(O.jsx)(x.o,{})})})})})})]})})),y=function(e){return Object(O.jsxs)("svg",Object(n.a)(Object(n.a)({},e),{},{className:"min-icon",fill:"currentcolor",id:"Account_Icon","data-name":"Account Icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.409 13.096",children:[Object(O.jsx)("path",{id:"Trazado_391","data-name":"Trazado 391",d:"M-4332.855-1143.481a3.023,3.023,0,0,0,2.958-3.078,3.023,3.023,0,0,0-2.958-3.078,3.023,3.023,0,0,0-2.958,3.078A3.023,3.023,0,0,0-4332.855-1143.481Zm0-5.194a2.078,2.078,0,0,1,2.03,2.116,2.077,2.077,0,0,1-2.03,2.116,2.075,2.075,0,0,1-2.028-2.116A2.076,2.076,0,0,1-4332.855-1148.675Z",transform:"translate(4339.12 1149.637)",fill:"#07193e"}),Object(O.jsx)("path",{id:"Trazado_392","data-name":"Trazado 392",d:"M-4337.952-1130.053a1.374,1.374,0,0,0,1.252.775h4.993a1.354,1.354,0,0,0,1.25-.786,1.675,1.675,0,0,0-.164-1.686,4.521,4.521,0,0,0-1.7-1.405,4.361,4.361,0,0,0-2.125-.438,4.483,4.483,0,0,0-3.318,1.808c-.026.035-.051.071-.075.106A1.641,1.641,0,0,0-4337.952-1130.053Zm6.663-.437a.426.426,0,0,1-.417.25h-4.993a.453.453,0,0,1-.427-.254.64.64,0,0,1,.053-.632h0c.017-.027.037-.054.057-.08a3.539,3.539,0,0,1,2.622-1.424c.056,0,.113,0,.168,0a3.606,3.606,0,0,1,2.864,1.466A.686.686,0,0,1-4331.29-1130.49Z",transform:"translate(4340.467 1140.236)",fill:"#07193e"}),Object(O.jsx)("path",{id:"Trazado_393","data-name":"Trazado 393",d:"M-4329.387-1146.951h-3.506a.476.476,0,0,0-.477.476.477.477,0,0,0,.477.476h3.506a1.047,1.047,0,0,1,1.046,1.045v7.99a1.047,1.047,0,0,1-1.046,1.045H-4341.8a1.047,1.047,0,0,1-1.046-1.045v-7.99A1.048,1.048,0,0,1-4341.8-1146a.476.476,0,0,0,.476-.476.476.476,0,0,0-.476-.476,2,2,0,0,0-2,2v7.99a2,2,0,0,0,2,2h12.412a2,2,0,0,0,2-2v-7.99A2,2,0,0,0-4329.387-1146.951Z",transform:"translate(4343.797 1148.063)",fill:"#07193e"}),Object(O.jsx)("rect",{id:"Rect\xe1ngulo_809","data-name":"Rect\xe1ngulo 809",width:"3.266",height:"2.781",rx:"1.024",transform:"translate(11.002 3.376)",fill:"#07193e"}),Object(O.jsx)("rect",{id:"Rect\xe1ngulo_810","data-name":"Rect\xe1ngulo 810",width:"3.266",height:"1.336",rx:"0.668",transform:"translate(11.002 7.328)",fill:"#07193e"}),Object(O.jsx)("rect",{id:"Rect\xe1ngulo_811","data-name":"Rect\xe1ngulo 811",width:"3.266",height:"1.336",rx:"0.668",transform:"translate(11.002 9.621)",fill:"#07193e"})]}))},C=a(494);t.a=Object(u.a)((function(e){return Object(l.a)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem"}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{textAlign:"right",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"},promptIcon:{marginRight:".1rem",display:"flex",alignItems:"center",height:"2rem",width:"2rem"}})}))((function(e){var t=e.classes,a=e.newServiceAccount,i=e.open,c=e.closeModal,l=e.entity;if(!a)return null;var u=o()(a,"console",null),j=o()(a,"idp",!1);return Object(O.jsx)(m.a,{modalOpen:i,onClose:function(){c()},title:Object(O.jsxs)("div",{className:t.promptTitle,children:[Object(O.jsx)("div",{className:t.promptIcon,children:Object(O.jsx)(y,{})})," ",Object(O.jsxs)("div",{children:["New ",l," Created"]})]}),children:Object(O.jsxs)(b.a,{container:!0,children:[Object(O.jsxs)(b.a,{item:!0,xs:12,className:t.formScrollable,children:["A new ",l," has been created with the following details:",!j&&u&&Object(O.jsx)(s.a.Fragment,{children:Object(O.jsxs)(b.a,{item:!0,xs:12,className:t.credentialsPanel,children:[Object(O.jsx)("div",{className:t.credentialTitle,children:"Console Credentials"}),Array.isArray(u)&&u.map((function(e,t){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{label:"Access Key",value:e.accessKey}),Object(O.jsx)(v,{label:"Secret Key",value:e.secretKey})]})})),!Array.isArray(u)&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{label:"Access Key",value:u.accessKey}),Object(O.jsx)(v,{label:"Secret Key",value:u.secretKey})]})]})}),j?Object(O.jsx)("div",{className:t.warningBlock,children:"Please Login via the configured external identity provider."}):Object(O.jsxs)("div",{className:t.warningBlock,children:[Object(O.jsx)(C.a,{}),Object(O.jsx)("span",{children:"Write these down, as this is the only time the secret will be displayed."})]})]}),Object(O.jsxs)(b.a,{item:!0,xs:12,className:t.buttonContainer,children:[Object(O.jsx)(d.a,{variant:"outlined",className:t.buttonSpacer,onClick:function(){c()},color:"primary",children:"Done"}),!j&&Object(O.jsx)(d.a,{onClick:function(){var e={};if(u)if(Array.isArray(u)){var t=u.map((function(e){return{access_key:e.accessKey,secret_key:e.secretKey}}));e={console:Object(r.a)(t)}}else e={console:[{access_key:u.accessKey,secret_key:u.secretKey}]};!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}("credentials.json",JSON.stringify(Object(n.a)({},e)))},endIcon:Object(O.jsx)(x.v,{}),variant:"contained",color:"primary",children:"Download"})]})]})})}))},696:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(e,t){return{podAntiAffinity:{requiredDuringSchedulingIgnoredDuringExecution:[{labelSelector:{matchExpressions:[{key:"v1.min.io/tenant",operator:"In",values:[e]},{key:"v1.min.io/pool",operator:"In",values:[t]}]},topologyKey:"kubernetes.io/hostname"}]}}},r=function(e,t,a,r){var i=e.split("&"),s=[];i.forEach((function(e){var t=e.split("=");2===t.length&&s.push({key:t[0],operator:"In",values:[t[1]]})}));var c={nodeAffinity:{requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:[{matchExpressions:s}]}}};if(t){var o=n(a,r);c.podAntiAffinity=o.podAntiAffinity}return console.log(c),c}},709:function(e,t,a){"use strict";var n=a(14),r=a(1),i=a(290),s=a(299),c=a(355),o=a(369),l=a(0),u=Object(s.a)((function(e){return Object(i.a)({wizardStepContainer:{display:"flex",flexDirection:"column"},wizardComponent:{overflowY:"auto",marginBottom:10,height:"calc(100vh - 100px - 80px)",maxWidth:840,width:"100%"},wizardModal:{overflowY:"auto",marginBottom:10,height:"calc(100vh - 515px)"},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",padding:"10px 0",borderTop:"#EAEAEA 1px solid","& button":{marginLeft:10},"&.forModal":{paddingBottom:0}},buttonInnerContainer:{maxWidth:840,width:"100%",textAlign:"right"}})}))((function(e){var t=e.classes,a=e.page,n=e.pageChange,r=e.loadingStep,i=e.forModal;return Object(l.jsxs)("div",{className:t.wizardStepContainer,children:[Object(l.jsx)("div",{className:i?t.wizardModal:t.wizardComponent,children:a.componentRender}),r&&Object(l.jsx)("div",{children:Object(l.jsx)(c.a,{})}),Object(l.jsx)("div",{className:"".concat(t.buttonsContainer," ").concat(i?"forModal":""),children:Object(l.jsx)("div",{className:t.buttonInnerContainer,children:a.buttons.map((function(e){return Object(l.jsx)(o.a,{variant:"contained",color:"primary",size:"small",onClick:function(){!function(e){switch(e.type){case"next":n("++");break;case"back":n("--");break;case"to":n(e.toPage||0)}e.action&&e.action(n)}(e)},disabled:!e.enabled,children:e.label},"button-".concat(a.label,"-").concat(e.label))}))})})]})})),d=a(368),m=a(550),b=a(360),j=a(352);t.a=Object(s.a)((function(e){return Object(i.a)({wizardMain:{display:"flex",width:"100%",height:"100%",flexGrow:1},wizFromContainer:{},wizFromModal:{position:"relative"},modalWizardSteps:{padding:5,borderBottom:"#eaeaea 1px solid","& ul":{padding:0,marginTop:0,display:"flex",justifyContent:"space-evenly","& li":{listStyle:"lower-roman","&::marker":{paddingLeft:15}}}},buttonList:{backgroundColor:"transparent",border:"none",cursor:"pointer","&:not(:disabled):hover":{textDecoration:"underline"},"&:selected, &:active, &:focus, &:focus:active":{border:"none",outline:0,boxShadow:"none"}},paddedContentGrid:{marginTop:8,padding:"0 10px"},stepsLabel:{fontSize:20,color:"#393939",fontWeight:600,margin:"15px 12px","&.stepsModalTitle":{textAlign:"center",width:"100%",marginTop:0,marginBottom:10}},stepsMasterContainer:{position:"sticky",top:0,backgroundColor:"#FFFFFF",width:"100%",maxHeight:90}})}))((function(e){var t=e.classes,a=e.wizardSteps,i=e.loadingStep,s=e.forModal,c=Object(r.useState)(0),o=Object(n.a)(c,2),p=o[0],g=o[1],h=function(e){var t=a.length-1;if("++"===e){var n=p+1;n>t&&(n=t),g(n)}if("--"===e){var r=p-1;r<0&&(r=0),g(r)}if("number"===typeof e){var i=e;e<0&&(i=0),e>t&&(i=t),g(i)}};if(0===a.length)return null;return Object(l.jsxs)(m.a,{container:!0,className:s?t.wizFromModal:t.wizFromContainer,children:[s?Object(l.jsx)(r.Fragment,{children:Object(l.jsxs)("div",{className:t.stepsMasterContainer,children:[Object(l.jsx)("div",{className:"".concat(t.stepsLabel," stepsModalTitle"),children:"Steps"}),Object(l.jsx)("div",{className:t.modalWizardSteps,children:Object(l.jsx)("ul",{children:a.map((function(e,a){return Object(l.jsx)("li",{children:Object(l.jsx)("button",{onClick:function(){return h(a)},disabled:a>p,className:t.buttonList,children:e.label})},"wizard-".concat(a.toString()))}))})})]})}):Object(l.jsx)(r.Fragment,{children:Object(l.jsx)(m.a,{item:!0,xs:12,sm:2,md:2,lg:2,xl:2,children:Object(l.jsx)(r.Fragment,{children:Object(l.jsx)(d.a,{component:"nav",dense:!0,children:a.map((function(e,t){return Object(l.jsx)(b.a,{button:!0,onClick:function(){return h(t)},selected:p===t,children:Object(l.jsx)(j.a,{primary:e.label})},"wizard-".concat(t.toString()))}))})})})}),Object(l.jsx)(m.a,{item:!0,xs:12,sm:s?12:10,md:s?12:10,lg:s?12:10,xl:s?12:10,className:s?"":t.paddedContentGrid,children:Object(l.jsx)(u,{page:a[p],pageChange:h,loadingStep:i,forModal:s})})]})}))},873:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(2),i=a(1),s=a.n(i),c=a(44),o=a.n(c),l=a(38),u=a(550),d=a(355),m=a(290),b=a(299),j=a(120),p=a(50),g=a(55),h=a(709),f=a(30),x=a(696),O=a(551),v=a(420),y=a.n(v),C=a(432),S=a(545),_=function(e){var t={};return e.forEach((function(e){if(e.required&&""===e.value.trim())t[e.fieldKey]="Field cannot be empty";else if(e.required||""!==e.value.trim())if(e.customValidation&&e.customValidationMessage)t[e.fieldKey]=e.customValidationMessage;else if(e.pattern&&e.customPatternMessage){var a=new RegExp(e.pattern,"g");e.value.match(a)||(t[e.fieldKey]=e.customPatternMessage)}else;})),t},A=a(57),I=a(378),k=a(410),N=a(138),T=a(446),D=a(455),P=a(456),z=a(553),w=a(486),E=a(369),F=a(0),R={setErrorSnackMessage:f.e},K=Object(l.b)(null,R),M=Object(b.a)((function(e){return Object(m.a)(Object(r.a)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},j.m))}))(K((function(e){var t=e.classes,a=e.namespace,r=e.addNamespaceOpen,s=e.closeAddNamespaceModalAndRefresh,c=e.setErrorSnackMessage,o=Object(i.useState)(!1),l=Object(n.a)(o,2),u=l[0],m=l[1];Object(i.useEffect)((function(){u&&p.a.invoke("POST","/api/v1/namespace",{name:a}).then((function(e){m(!1),s(!0)})).catch((function(e){m(!1),c(e)}))}),[u,s,a,c]);return Object(F.jsxs)(T.a,{open:r,onClose:function(){s(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(F.jsx)(D.a,{id:"alert-dialog-title",children:"Create new namespace"}),Object(F.jsxs)(P.a,{children:[u&&Object(F.jsx)(d.a,{}),Object(F.jsxs)(z.a,{id:"alert-dialog-description",children:["Are you sure you want to add a namespace called"," ",Object(F.jsx)("b",{className:t.wrapText,children:a}),"?"]})]}),Object(F.jsxs)(w.a,{children:[Object(F.jsx)(E.a,{onClick:function(){s(!1)},color:"primary",disabled:u,type:"button",className:t.clearButton,children:"Cancel"}),Object(F.jsx)(E.a,{onClick:function(){m(!0)},variant:"contained",color:"primary",autoFocus:!0,disabled:u,children:"Create Namespace"})]})]})}))),G=a(735),q=a(736),L=a(738),V=a(737),U=a(349),B=Object(l.b)((function(e){return{advancedMode:e.tenants.createTenant.advancedModeOn,volumeSize:e.tenants.createTenant.fields.tenantSize.volumeSize,sizeFactor:e.tenants.createTenant.fields.tenantSize.sizeFactor,drivesPerServer:e.tenants.createTenant.fields.tenantSize.drivesPerServer,nodes:e.tenants.createTenant.fields.tenantSize.nodes,memoryNode:e.tenants.createTenant.fields.tenantSize.memoryNode,ecParity:e.tenants.createTenant.fields.tenantSize.ecParity,ecParityChoices:e.tenants.createTenant.fields.tenantSize.ecParityChoices,cleanECChoices:e.tenants.createTenant.fields.tenantSize.cleanECChoices,maxAllocableMemo:e.tenants.createTenant.fields.tenantSize.maxAllocableMemo,memorySize:e.tenants.createTenant.fields.tenantSize.memorySize,distribution:e.tenants.createTenant.fields.tenantSize.distribution,ecParityCalc:e.tenants.createTenant.fields.tenantSize.ecParityCalc,limitSize:e.tenants.createTenant.fields.tenantSize.limitSize,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass}}),{updateAddField:C.t,isPageValid:C.l}),W=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"},root:{margin:4},table:{"& .MuiTableCell-root":{fontSize:13}}},j.m),j.E))}))(B((function(e){var t=e.classes,a=e.updateAddField,r=e.isPageValid,s=e.advancedMode,c=e.volumeSize,o=e.sizeFactor,l=e.drivesPerServer,u=e.nodes,d=e.memoryNode,m=e.ecParity,b=e.ecParityChoices,j=e.cleanECChoices,h=e.maxAllocableMemo,f=e.memorySize,x=e.distribution,O=e.ecParityCalc,v=e.limitSize,y=e.selectedStorageClass,C=Object(i.useState)(!1),A=Object(n.a)(C,2),I=A[0],k=A[1],N=Object(i.useState)(""),T=Object(n.a)(N,2),D=T[0],P=T[1],z=O.storageFactors.find((function(e){return e.erasureCode===m})),w=Object(i.useCallback)((function(e,t){a("tenantSize",e,t)}),[a]),E=Object(i.useCallback)((function(){var e=parseInt(d)||0,t=c||0,a=h||0,n=o,r=Object(g.i)(t.toString(10),n),i=Object(g.q)(e,r,a);w("memorySize",i)}),[h,d,o,w,c]);Object(i.useEffect)((function(){E()}),[d,E]),Object(i.useEffect)((function(){E()}),[h,E]),Object(i.useEffect)((function(){if(b.length>0&&""===x.error){var e=Object(g.f)(j,x.persistentVolumes,x.pvSize,x.nodes);w("ecParityCalc",e),w("ecParity",e.defaultEC)}}),[b.length,x,j,w]),Object(i.useEffect)((function(){R(),K(),function(e){""===e||isNaN(parseInt(e))||(P(""),p.a.invoke("GET","/api/v1/cluster/max-allocatable-memory?num_nodes=".concat(e)).then((function(e){var t=e.max_memory?e.max_memory:0;w("maxAllocableMemo",t)})).catch((function(e){k(!0),P(e.errorMessage)})))}(u)}),[u,c,o,l]);var R=function(){var e=c,t=o,a=Object(g.i)("12","Ti",!0),n={unit:t,value:e.toString()},r=Object(g.b)(n,parseInt(u),parseInt(a),parseInt(l));w("distribution",r)},K=function(){w("ecParity",""),""!==u.trim()&&""!==l.trim()&&p.a.invoke("GET","/api/v1/get-parity/".concat(u,"/").concat(l)).then((function(e){w("ecParityChoices",Object(S.a)(e)),w("cleanECChoices",e)})).catch((function(e){w("ecparityChoices",[]),r("tenantSize",!1),w("ecParity","")}))};return Object(i.useEffect)((function(){var e=Object(g.i)(c,o,!0),t=_([{fieldKey:"nodes",required:!0,value:u,customValidation:I,customValidationMessage:D},{fieldKey:"volume_size",required:!0,value:c,customValidation:parseInt(e)<1073741824||parseInt(e)>v[y],customValidationMessage:"Volume size must be greater than 1Gi and less than ".concat(Object(g.l)(v[y],!0))},{fieldKey:"memory_per_node",required:!0,value:d,customValidation:parseInt(d)<2,customValidationMessage:"Memory size must be greater than 2Gi"},{fieldKey:"drivesps",required:!0,value:l,customValidation:parseInt(l)<1,customValidationMessage:"There must be at least one drive"}]);r("tenantSize",!("nodes"in t)&&!("volume_size"in t)&&!("memory_per_node"in t)&&!("drivesps"in t)&&""===x.error&&0===O.error&&""===f.error)}),[u,c,o,d,x,l,O,f,v,y,r,I,D]),Object(F.jsxs)("div",{className:t.root,children:[Object(F.jsx)("h4",{children:"Resource Allocation"}),Object(F.jsx)(U.a,{}),Object(F.jsx)(G.a,{className:t.table,"aria-label":"simple table",size:"small",children:Object(F.jsxs)(q.a,{children:[Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"Number of Servers"}),Object(F.jsx)(L.a,{align:"right",children:parseInt(u)>0?u:"-"})]}),Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"Drives per Server"}),Object(F.jsx)(L.a,{align:"right",children:x?x.disks:"-"})]}),Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"Drive Capacity"}),Object(F.jsx)(L.a,{align:"right",children:x?Object(g.l)(x.pvSize):"-"})]}),Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"Total Volumes"}),Object(F.jsx)(L.a,{align:"right",children:x?x.persistentVolumes:"-"})]}),!s&&Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"Memory per Node"}),Object(F.jsxs)(L.a,{align:"right",children:[d," Gi"]})]})]})}),0===O.error&&z&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)("h4",{children:"Erasure Code Configuration"}),Object(F.jsx)(U.a,{}),Object(F.jsx)(G.a,{className:t.table,"aria-label":"simple table",size:"small",children:Object(F.jsxs)(q.a,{children:[Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"EC Parity"}),Object(F.jsx)(L.a,{align:"right",children:""!==m?m:"-"})]}),Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"Raw Capacity"}),Object(F.jsx)(L.a,{align:"right",children:Object(g.l)(O.rawCapacity)})]}),Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"Usable Capacity"}),Object(F.jsx)(L.a,{align:"right",children:Object(g.l)(z.maxCapacity)})]}),Object(F.jsxs)(V.a,{children:[Object(F.jsx)(L.a,{scope:"row",children:"Server Failures Tolerated"}),Object(F.jsx)(L.a,{align:"right",children:x?Math.floor(z.maxFailureTolerations/x.disks):"-"})]})]})})]})]})}))),$=Object(l.b)((function(e){return{advancedMode:e.tenants.createTenant.advancedModeOn,volumeSize:e.tenants.createTenant.fields.tenantSize.volumeSize,sizeFactor:e.tenants.createTenant.fields.tenantSize.sizeFactor,drivesPerServer:e.tenants.createTenant.fields.tenantSize.drivesPerServer,nodes:e.tenants.createTenant.fields.tenantSize.nodes,memoryNode:e.tenants.createTenant.fields.tenantSize.memoryNode,ecParity:e.tenants.createTenant.fields.tenantSize.ecParity,ecParityChoices:e.tenants.createTenant.fields.tenantSize.ecParityChoices,cleanECChoices:e.tenants.createTenant.fields.tenantSize.cleanECChoices,maxAllocableMemo:e.tenants.createTenant.fields.tenantSize.maxAllocableMemo,memorySize:e.tenants.createTenant.fields.tenantSize.memorySize,distribution:e.tenants.createTenant.fields.tenantSize.distribution,ecParityCalc:e.tenants.createTenant.fields.tenantSize.ecParityCalc,limitSize:e.tenants.createTenant.fields.tenantSize.limitSize,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass}}),{updateAddField:C.t,isPageValid:C.l}),H=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"}},j.m),j.E))}))($((function(e){var t=e.classes,a=e.updateAddField,r=e.isPageValid,s=(e.advancedMode,e.volumeSize),c=e.sizeFactor,o=e.drivesPerServer,l=e.nodes,d=e.memoryNode,m=e.ecParity,b=e.ecParityChoices,j=e.cleanECChoices,h=e.maxAllocableMemo,f=e.memorySize,x=e.distribution,O=e.ecParityCalc,v=e.limitSize,y=e.selectedStorageClass,C=Object(i.useState)({}),N=Object(n.a)(C,2),T=N[0],D=N[1],P=Object(i.useState)(!1),z=Object(n.a)(P,2),w=z[0],E=z[1],R=Object(i.useState)(""),K=Object(n.a)(R,2),M=K[0],G=K[1],q=Object(i.useCallback)((function(e,t){a("tenantSize",e,t)}),[a]),L=function(e){D(Object(A.a)(T,e))},V=Object(i.useCallback)((function(){var e=parseInt(d)||0,t=s||0,a=h||0,n=c,r=Object(g.i)(t.toString(10),n),i=Object(g.q)(e,r,a);q("memorySize",i)}),[h,d,c,q,s]);Object(i.useEffect)((function(){V()}),[d,V]),Object(i.useEffect)((function(){V()}),[h,V]),Object(i.useEffect)((function(){if(b.length>0&&""===x.error){var e=Object(g.f)(j,x.persistentVolumes,x.pvSize,x.nodes);q("ecParityCalc",e),q("ecParity",e.defaultEC)}}),[b.length,x,j,q]),Object(i.useEffect)((function(){U(),B(),function(e){""===e||isNaN(parseInt(e))||(G(""),p.a.invoke("GET","/api/v1/cluster/max-allocatable-memory?num_nodes=".concat(e)).then((function(e){var t=e.max_memory?e.max_memory:0;q("maxAllocableMemo",t)})).catch((function(e){E(!0),G(e.errorMessage)})))}(l)}),[l,s,c,o]);var U=function(){var e=s,t=c,a=Object(g.i)("12","Ti",!0),n={unit:t,value:e.toString()},r=Object(g.b)(n,parseInt(l),parseInt(a),parseInt(o));q("distribution",r)},B=function(){q("ecParity",""),""!==l.trim()&&""!==o.trim()&&p.a.invoke("GET","/api/v1/get-parity/".concat(l,"/").concat(o)).then((function(e){q("ecParityChoices",Object(S.a)(e)),q("cleanECChoices",e)})).catch((function(e){q("ecparityChoices",[]),r("tenantSize",!1),q("ecParity","")}))};return Object(i.useEffect)((function(){var e=Object(g.i)(s,c,!0),t=_([{fieldKey:"nodes",required:!0,value:l,customValidation:w,customValidationMessage:M},{fieldKey:"volume_size",required:!0,value:s,customValidation:parseInt(e)<1073741824||parseInt(e)>v[y],customValidationMessage:"Volume size must be greater than 1Gi and less than ".concat(Object(g.l)(v[y],!0))},{fieldKey:"memory_per_node",required:!0,value:d,customValidation:parseInt(d)<2,customValidationMessage:"Memory size must be greater than 2Gi"},{fieldKey:"drivesps",required:!0,value:o,customValidation:parseInt(o)<1,customValidationMessage:"There must be at least one drive"}]);r("tenantSize",!("nodes"in t)&&!("volume_size"in t)&&!("memory_per_node"in t)&&!("drivesps"in t)&&""===x.error&&0===O.error&&""===f.error),D(t)}),[l,s,c,d,x,o,O,f,v,y,r,w,M]),Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Tenant Size"}),Object(F.jsx)("span",{className:t.descriptionText,children:"Please select the desired capacity"})]})}),""!==x.error&&Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.error,children:x.error})}),""!==f.error&&Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.error,children:f.error})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"nodes",name:"nodes",type:"number",onChange:function(e){q("nodes",e.target.value),L("nodes")},label:"Number of Servers",disabled:""===y,value:l,min:"4",required:!0,error:T.nodes||""})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"drivesps",name:"drivesps",type:"number",onChange:function(e){q("drivesPerServer",e.target.value),L("drivesps")},label:"Number of Drives per Server",value:o,disabled:""===y,min:"1",required:!0,error:T.drivesps||""})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)("div",{className:t.multiContainer,children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"volume_size",name:"volume_size",onChange:function(e){q("volumeSize",e.target.value),L("volume_size")},label:"Total Size",value:s,disabled:""===y,required:!0,error:T.volume_size||"",min:"0"})}),Object(F.jsx)("div",{className:t.sizeFactorContainer,children:Object(F.jsx)(k.a,{label:"Unit",id:"size_factor",name:"size_factor",value:c,disabled:""===y,onChange:function(e){q("sizeFactor",e.target.value)},options:Object(g.k)()})})]})}),Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{type:"number",id:"memory_per_node",name:"memory_per_node",onChange:function(e){q("memoryNode",e.target.value),L("memory_per_node")},label:"Memory per Node [Gi]",value:d,disabled:""===y,required:!0,error:T.memory_per_node||"",min:"2"})}),Object(F.jsxs)(u.a,{item:!0,xs:12,children:[Object(F.jsx)(k.a,{id:"ec_parity",name:"ec_parity",onChange:function(e){q("ecParity",e.target.value)},label:"Erasure Code Parity",disabled:""===y,value:m,options:b}),Object(F.jsx)("span",{className:t.descriptionText,children:"Please select the desired parity. This setting will change the max usable capacity in the cluster"})]})]})]})}))),Z=a(366),Y=Object(l.b)((function(e){return{tenantName:e.tenants.createTenant.fields.nameTenant.tenantName,namespace:e.tenants.createTenant.fields.nameTenant.namespace,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass,storageClasses:e.tenants.createTenant.storageClasses}}),{setModalErrorSnackMessage:f.h,updateAddField:C.t,setStorageClassesList:C.o,setLimitSize:C.n,isPageValid:C.l}),J=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"},sizePreview:{position:"fixed"}},j.m),j.E))}))(Y((function(e){var t=e.classes,a=e.storageClasses,r=e.tenantName,s=e.namespace,c=e.selectedStorageClass,l=e.updateAddField,d=e.setStorageClassesList,m=e.setLimitSize,b=e.isPageValid,j=e.setModalErrorSnackMessage,g=Object(i.useState)({}),h=Object(n.a)(g,2),f=h[0],x=h[1],O=Object(i.useState)(!0),v=Object(n.a)(O,2),C=v[0],T=v[1],D=Object(i.useState)(!1),P=Object(n.a)(D,2),z=P[0],w=P[1],E=Object(i.useState)(!1),R=Object(n.a)(E,2),K=R[0],G=R[1],q=Object(i.useState)(!1),L=Object(n.a)(q,2),V=L[0],U=L[1],B=Object(i.useCallback)((function(e,t){l("nameTenant",e,t)}),[l]),$=Object(i.useCallback)((function(){G(!1),B("selectedStorageClass",""),d([]),p.a.invoke("GET","/api/v1/namespaces/".concat(s,"/tenants")).then((function(e){var t=o()(e,"tenants",[]);if(t&&t.length>0)return T(!1),void w(!1);T(!0),p.a.invoke("GET","/api/v1/namespaces/".concat(s,"/resourcequotas/").concat(s,"-storagequota")).then((function(e){var t=o()(e,"elements",[]);m(Object(S.b)(e));var a=t.map((function(e){var t=o()(e,"name","").split(".storageclass.storage.k8s.io/requests.storage")[0];return{label:t,value:t}}));d(a),a.length>0&&B("selectedStorageClass",a[0].value),w(!1)})).catch((function(e){w(!1),G(!0),console.error("Namespace error: ",e)}))})).catch((function(e){j({errorMessage:"Error validating if namespace already has tenants",detailedError:e.detailedError})}))}),[s,m,j,d,B]),Y=Object(i.useMemo)((function(){return y()($,500)}),[$]);Object(i.useEffect)((function(){if(""!==s)return Y(),w(!0),Y.cancel}),[Y,s]),Object(i.useEffect)((function(){var e=!1,t="";C||z?a.length<1&&C&&!z&&(e=!0,t="Please enter a valid namespace"):(e=!0,t="You can only create one tenant per namespace");var n=_([{fieldKey:"tenant-name",required:!0,pattern:/^[a-z0-9-]{3,63}$/,customPatternMessage:"Name only can contain lowercase letters, numbers and '-'. Min. Length: 3",value:r},{fieldKey:"namespace",required:!0,value:s,customValidation:e,customValidationMessage:t}]),i=!("tenant-name"in n)&&!("namespace"in n)&&a.length>0;b("nameTenant",i),x(n)}),[a,s,r,b,C,z]);var J=function(e){x(Object(A.a)(f,e))};return Object(F.jsxs)(i.Fragment,{children:[V&&Object(F.jsx)(M,{addNamespaceOpen:V,closeAddNamespaceModalAndRefresh:function(e){U(!1),e&&Y()},namespace:s}),Object(F.jsxs)(u.a,{container:!0,children:[Object(F.jsx)(u.a,{item:!0,xs:8,children:Object(F.jsx)(Z.a,{className:t.paperWrapper,children:Object(F.jsxs)(u.a,{container:!0,children:[Object(F.jsxs)(u.a,{item:!0,xs:12,children:[Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Name Tenant"}),Object(F.jsx)("span",{className:t.descriptionText,children:"How would you like to name this new tenant?"})]}),Object(F.jsx)(I.a,{id:"tenant-name",name:"tenant-name",onChange:function(e){B("tenantName",e.target.value),J("tenant-name")},label:"Name",value:r,required:!0,error:f["tenant-name"]||""})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"namespace",name:"namespace",onChange:function(e){B("namespace",e.target.value),J("namespace")},label:"Namespace",value:s,error:f.namespace||"",overlayIcon:K?Object(F.jsx)(N.a,{}):null,overlayAction:function(){U(!0)},required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(k.a,{id:"storage_class",name:"storage_class",onChange:function(e){B("selectedStorageClass",e.target.value)},label:"Storage Class",value:c,options:a,disabled:a.length<1})}),Object(F.jsx)(H,{})]})})}),Object(F.jsx)(u.a,{item:!0,xs:4,children:Object(F.jsx)("div",{className:t.sizePreview,children:Object(F.jsx)(W,{})})})]})]})}))),X=a(15),Q=a(382),ee=Object(l.b)((function(e){return{storageClasses:e.tenants.createTenant.storageClasses,customImage:e.tenants.createTenant.fields.configure.customImage,imageName:e.tenants.createTenant.fields.configure.imageName,customDockerhub:e.tenants.createTenant.fields.configure.customDockerhub,imageRegistry:e.tenants.createTenant.fields.configure.imageRegistry,imageRegistryUsername:e.tenants.createTenant.fields.configure.imageRegistryUsername,imageRegistryPassword:e.tenants.createTenant.fields.configure.imageRegistryPassword,exposeMinIO:e.tenants.createTenant.fields.configure.exposeMinIO,exposeConsole:e.tenants.createTenant.fields.configure.exposeConsole,prometheusCustom:e.tenants.createTenant.fields.configure.prometheusCustom,tenantCustom:e.tenants.createTenant.fields.configure.tenantCustom,logSearchCustom:e.tenants.createTenant.fields.configure.logSearchCustom,logSearchVolumeSize:e.tenants.createTenant.fields.configure.logSearchVolumeSize,logSearchSizeFactor:e.tenants.createTenant.fields.configure.logSearchSizeFactor,prometheusVolumeSize:e.tenants.createTenant.fields.configure.prometheusVolumeSize,prometheusSizeFactor:e.tenants.createTenant.fields.configure.prometheusSizeFactor,logSearchSelectedStorageClass:e.tenants.createTenant.fields.configure.logSearchSelectedStorageClass,logSearchImage:e.tenants.createTenant.fields.configure.logSearchImage,kesImage:e.tenants.createTenant.fields.configure.kesImage,logSearchPostgresImage:e.tenants.createTenant.fields.configure.logSearchPostgresImage,logSearchPostgresInitImage:e.tenants.createTenant.fields.configure.logSearchPostgresInitImage,prometheusSelectedStorageClass:e.tenants.createTenant.fields.configure.prometheusSelectedStorageClass,prometheusImage:e.tenants.createTenant.fields.configure.prometheusImage,prometheusSidecarImage:e.tenants.createTenant.fields.configure.prometheusSidecarImage,prometheusInitImage:e.tenants.createTenant.fields.configure.prometheusInitImage,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass,tenantSecurityContext:e.tenants.createTenant.fields.configure.tenantSecurityContext,logSearchSecurityContext:e.tenants.createTenant.fields.configure.logSearchSecurityContext,logSearchPostgresSecurityContext:e.tenants.createTenant.fields.configure.logSearchPostgresSecurityContext,prometheusSecurityContext:e.tenants.createTenant.fields.configure.prometheusSecurityContext}}),{updateAddField:C.t,isPageValid:C.l}),te=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"}},j.m),j.E))}))(ee((function(e){var t=e.classes,a=e.storageClasses,s=e.customImage,c=e.imageName,o=e.customDockerhub,l=e.imageRegistry,d=e.imageRegistryUsername,m=e.imageRegistryPassword,b=e.exposeMinIO,j=e.exposeConsole,p=e.prometheusCustom,g=e.tenantCustom,h=e.logSearchCustom,f=e.logSearchVolumeSize,x=(e.logSearchSizeFactor,e.logSearchImage),O=e.kesImage,v=e.logSearchPostgresImage,y=e.logSearchPostgresInitImage,C=e.prometheusVolumeSize,S=(e.prometheusSizeFactor,e.logSearchSelectedStorageClass),N=e.prometheusSelectedStorageClass,T=e.prometheusImage,D=e.prometheusSidecarImage,P=e.prometheusInitImage,z=e.updateAddField,w=e.isPageValid,E=e.selectedStorageClass,R=e.tenantSecurityContext,K=e.logSearchSecurityContext,M=e.logSearchPostgresSecurityContext,G=e.prometheusSecurityContext,q=Object(i.useState)({}),L=Object(n.a)(q,2),V=L[0],U=L[1],B=Object(i.useCallback)((function(e,t){z("configure",e,t)}),[z]);Object(i.useEffect)((function(){var e=[];g&&(e=[].concat(Object(X.a)(e),[{fieldKey:"tenant_securityContext_runAsUser",required:!0,value:R.runAsUser,customValidation:""===R.runAsUser||parseInt(R.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"tenant_securityContext_runAsGroup",required:!0,value:R.runAsGroup,customValidation:""===R.runAsGroup||parseInt(R.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"tenant_securityContext_fsGroup",required:!0,value:R.fsGroup,customValidation:""===R.fsGroup||parseInt(R.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}])),p&&(e=[].concat(Object(X.a)(e),[{fieldKey:"prometheus_storage_class",required:!0,value:N,customValidation:""===N,customValidationMessage:"Field cannot be empty"},{fieldKey:"prometheus_volume_size",required:!0,value:C,customValidation:""===C||parseInt(C)<=0,customValidationMessage:"Volume size must be present and be greater than 0"},{fieldKey:"prometheus_securityContext_runAsUser",required:!0,value:G.runAsUser,customValidation:""===G.runAsUser||parseInt(G.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"prometheus_securityContext_runAsGroup",required:!0,value:G.runAsGroup,customValidation:""===G.runAsGroup||parseInt(G.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"prometheus_securityContext_fsGroup",required:!0,value:G.fsGroup,customValidation:""===G.fsGroup||parseInt(G.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}])),h&&(e=[].concat(Object(X.a)(e),[{fieldKey:"log_search_storage_class",required:!0,value:S,customValidation:""===S,customValidationMessage:"Field cannot be empty"},{fieldKey:"log_search_volume_size",required:!0,value:f,customValidation:""===f||parseInt(f)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"},{fieldKey:"logSearch_securityContext_runAsUser",required:!0,value:K.runAsUser,customValidation:""===K.runAsUser||parseInt(K.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"logSearch_securityContext_runAsGroup",required:!0,value:K.runAsGroup,customValidation:""===K.runAsGroup||parseInt(K.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"logSearch_securityContext_fsGroup",required:!0,value:K.fsGroup,customValidation:""===K.fsGroup||parseInt(K.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"},{fieldKey:"postgres_securityContext_runAsUser",required:!0,value:M.runAsUser,customValidation:""===M.runAsUser||parseInt(M.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"postgres_securityContext_runAsGroup",required:!0,value:G.runAsGroup,customValidation:""===M.runAsGroup||parseInt(M.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"postgres_securityContext_fsGroup",required:!0,value:M.fsGroup,customValidation:""===M.fsGroup||parseInt(M.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}])),s&&(e=[].concat(Object(X.a)(e),[{fieldKey:"image",required:!1,value:c,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/minio:VERSION'"},{fieldKey:"logSearchImage",required:!1,value:x,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/logsearchapi:VERSION'"},{fieldKey:"kesImage",required:!1,value:O,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/kes:VERSION'"},{fieldKey:"logSearchPostgresImage",required:!1,value:v,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/postgres:VERSION'"},{fieldKey:"logSearchPostgresInitImage",required:!1,value:y,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/busybox:VERSION'"},{fieldKey:"prometheusImage",required:!1,value:T,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/prometheus:VERSION'"},{fieldKey:"prometheusSidecarImage",required:!1,value:D,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'project/container:VERSION'"},{fieldKey:"prometheusInitImage",required:!1,value:P,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/busybox:VERSION'"}]),o&&(e=[].concat(Object(X.a)(e),[{fieldKey:"registry",required:!0,value:l},{fieldKey:"registryUsername",required:!0,value:d},{fieldKey:"registryPassword",required:!0,value:m}])));var t=_(e);w("configure",0===Object.keys(t).length),U(t)}),[s,c,x,O,v,y,T,D,P,o,l,d,m,w,p,g,h,N,C,S,f,R,K,M,G]),Object(i.useEffect)((function(){a.length>0&&(0===a.filter((function(e){return e.value===N})).length&&B("prometheusSelectedStorageClass",E),0===a.filter((function(e){return e.value===S})).length&&B("logSearchSelectedStorageClass",E))}),[S,N,E,a,B]);var W=function(e){U(Object(A.a)(V,e))};return Object(F.jsxs)(Z.a,{className:t.paperWrapper,children:[Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Configure"}),Object(F.jsx)("span",{className:t.descriptionText,children:"Basic configurations for tenant management"})]}),Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Expose Services"}),Object(F.jsx)("span",{className:t.descriptionText,children:"Whether the tenant's services should request an external IP."})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"expose_minio",id:"expose_minio",name:"expose_minio",checked:b,onChange:function(e){var t=e.target.checked;B("exposeMinIO",t)},label:"Expose MiniO Service"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"expose_console",id:"expose_console",name:"expose_console",checked:j,onChange:function(e){var t=e.target.checked;B("exposeConsole",t)},label:"Expose Console Service"})}),Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Additional Configurations"}),Object(F.jsx)("span",{className:t.descriptionText,children:"Configure SecurityContext, Storage Classes & Storage size for Log Search, Prometheus add-ons and your Tenant"})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"tenantConfig",id:"tenant_configuration",name:"tenant_configuration",checked:g,onChange:function(e){var t=e.target.checked;B("tenantCustom",t)},label:"Override Tenant defaults"})}),g&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)("span",{className:t.descriptionText,children:"SecurityContext for MinIO"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)("div",{className:t.multiContainer,children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"tenant_securityContext_runAsUser",name:"tenant_securityContext_runAsUser",onChange:function(e){B("tenantSecurityContext",Object(r.a)(Object(r.a)({},R),{},{runAsUser:e.target.value})),W("tenant_securityContext_runAsUser")},label:"Run As User",value:R.runAsUser,required:!0,error:V.tenant_securityContext_runAsUser||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"tenant_securityContext_runAsGroup",name:"tenant_securityContext_runAsGroup",onChange:function(e){B("tenantSecurityContext",Object(r.a)(Object(r.a)({},R),{},{runAsGroup:e.target.value})),W("tenant_securityContext_runAsGroup")},label:"Run As Group",value:R.runAsGroup,required:!0,error:V.tenant_securityContext_runAsGroup||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"tenant_securityContext_fsGroup",name:"tenant_securityContext_fsGroup",onChange:function(e){B("tenantSecurityContext",Object(r.a)(Object(r.a)({},R),{},{fsGroup:e.target.value})),W("tenant_securityContext_fsGroup")},label:"FsGroup",value:R.fsGroup,required:!0,error:V.tenant_securityContext_fsGroup||"",min:"0"})})]})}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.multiContainer,children:Object(F.jsx)(Q.a,{value:"tenantSecurityContextRunAsNonRoot",id:"tenant_securityContext_runAsNonRoot",name:"tenant_securityContext_runAsNonRoot",checked:R.runAsNonRoot,onChange:function(e){var t=e.target.checked;B("tenantSecurityContext",Object(r.a)(Object(r.a)({},R),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"logSearchConfig",id:"log_search_configuration",name:"log_search_configuration",checked:h,onChange:function(e){var t=e.target.checked;B("logSearchCustom",t)},label:"Override Log Search defaults"})}),h&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(k.a,{id:"log_search_storage_class",name:"log_search_storage_class",onChange:function(e){B("logSearchSelectedStorageClass",e.target.value)},label:"Log Search Storage Class",value:S,options:a,disabled:a.length<1})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.multiContainer,children:Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"log_search_volume_size",name:"log_search_volume_size",onChange:function(e){B("logSearchVolumeSize",e.target.value),W("log_search_volume_size")},label:"Storage Size [Gi]",value:f,required:!0,error:V.log_search_volume_size||"",min:"0"})})})}),Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)("span",{className:t.descriptionText,children:"SecurityContext for LogSearch"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)("div",{className:t.multiContainer,children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"logSearch_securityContext_runAsUser",name:"logSearch_securityContext_runAsUser",onChange:function(e){B("logSearchSecurityContext",Object(r.a)(Object(r.a)({},K),{},{runAsUser:e.target.value})),W("logSearch_securityContext_runAsUser")},label:"Run As User",value:K.runAsUser,required:!0,error:V.logSearch_securityContext_runAsUser||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"logSearch_securityContext_runAsGroup",name:"logSearch_securityContext_runAsGroup",onChange:function(e){B("logSearchSecurityContext",Object(r.a)(Object(r.a)({},K),{},{runAsGroup:e.target.value})),W("logSearch_securityContext_runAsGroup")},label:"Run As Group",value:K.runAsGroup,required:!0,error:V.logSearch_securityContext_runAsGroup||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"logSearch_securityContext_fsGroup",name:"logSearch_securityContext_fsGroup",onChange:function(e){B("logSearchSecurityContext",Object(r.a)(Object(r.a)({},K),{},{fsGroup:e.target.value})),W("logSearch_securityContext_fsGroup")},label:"FsGroup",value:K.fsGroup,required:!0,error:V.logSearch_securityContext_fsGroup||"",min:"0"})})]})}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.multiContainer,children:Object(F.jsx)(Q.a,{value:"logSearchSecurityContextRunAsNonRoot",id:"logSearch_securityContext_runAsNonRoot",name:"logSearch_securityContext_runAsNonRoot",checked:K.runAsNonRoot,onChange:function(e){var t=e.target.checked;B("logSearchSecurityContext",Object(r.a)(Object(r.a)({},K),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]}),Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)("span",{className:t.descriptionText,children:"SecurityContext for PostgreSQL"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)("div",{className:t.multiContainer,children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"postgres_securityContext_runAsUser",name:"postgres_securityContext_runAsUser",onChange:function(e){B("logSearchPostgresSecurityContext",Object(r.a)(Object(r.a)({},M),{},{runAsUser:e.target.value})),W("postgres_securityContext_runAsUser")},label:"Run As User",value:M.runAsUser,required:!0,error:V.postgres_securityContext_runAsUser||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"postgres_securityContext_runAsGroup",name:"postgres_securityContext_runAsGroup",onChange:function(e){B("logSearchPostgresSecurityContext",Object(r.a)(Object(r.a)({},M),{},{runAsGroup:e.target.value})),W("postgres_securityContext_runAsGroup")},label:"Run As Group",value:M.runAsGroup,required:!0,error:V.postgres_securityContext_runAsGroup||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"postgres_securityContext_fsGroup",name:"postgres_securityContext_fsGroup",onChange:function(e){B("logSearchPostgresSecurityContext",Object(r.a)(Object(r.a)({},M),{},{fsGroup:e.target.value})),W("postgres_securityContext_fsGroup")},label:"FsGroup",value:M.fsGroup,required:!0,error:V.postgres_securityContext_fsGroup||"",min:"0"})})]})}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.multiContainer,children:Object(F.jsx)(Q.a,{value:"postgresSecurityContextRunAsNonRoot",id:"postgres_securityContext_runAsNonRoot",name:"postgres_securityContext_runAsNonRoot",checked:M.runAsNonRoot,onChange:function(e){var t=e.target.checked;B("logSearchPostgresSecurityContext",Object(r.a)(Object(r.a)({},M),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"prometheusConfig",id:"prometheus_configuration",name:"prometheus_configuration",checked:p,onChange:function(e){var t=e.target.checked;B("prometheusCustom",t)},label:"Override Prometheus defaults"})}),p&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(k.a,{id:"prometheus_storage_class",name:"prometheus_storage_class",onChange:function(e){B("prometheusSelectedStorageClass",e.target.value)},label:"Prometheus Storage Class",value:N,options:a,disabled:a.length<1})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.multiContainer,children:Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"prometheus_volume_size",name:"prometheus_volume_size",onChange:function(e){B("prometheusVolumeSize",e.target.value),W("prometheus_volume_size")},label:"Storage Size [Gi]",value:C,required:!0,error:V.prometheus_volume_size||"",min:"0"})})})}),Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)("span",{className:t.descriptionText,children:"SecurityContext for Prometheus"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)("div",{className:t.multiContainer,children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"prometheus_securityContext_runAsUser",name:"prometheus_securityContext_runAsUser",onChange:function(e){B("prometheusSecurityContext",Object(r.a)(Object(r.a)({},G),{},{runAsUser:e.target.value})),W("prometheus_securityContext_runAsUser")},label:"Run As User",value:G.runAsUser,required:!0,error:V.prometheus_securityContext_runAsUser||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"prometheus_securityContext_runAsGroup",name:"prometheus_securityContext_runAsGroup",onChange:function(e){B("prometheusSecurityContext",Object(r.a)(Object(r.a)({},G),{},{runAsGroup:e.target.value})),W("prometheus_securityContext_runAsGroup")},label:"Run As Group",value:G.runAsGroup,required:!0,error:V.prometheus_securityContext_runAsGroup||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"prometheus_securityContext_fsGroup",name:"prometheus_securityContext_fsGroup",onChange:function(e){B("prometheusSecurityContext",Object(r.a)(Object(r.a)({},G),{},{fsGroup:e.target.value})),W("prometheus_securityContext_fsGroup")},label:"FsGroup",value:G.fsGroup,required:!0,error:V.prometheus_securityContext_fsGroup||"",min:"0"})})]})}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.multiContainer,children:Object(F.jsx)(Q.a,{value:"prometheusSecurityContextRunAsNonRoot",id:"prometheus_securityContext_runAsNonRoot",name:"prometheus_securityContext_runAsNonRoot",checked:G.runAsNonRoot,onChange:function(e){var t=e.target.checked;B("prometheusSecurityContext",Object(r.a)(Object(r.a)({},G),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]})]})]})}))),ae=a(365),ne=a(367),re=a(94),ie=a(814),se=a.n(ie),ce=a(815),oe=a.n(ce),le=a(442),ue=a(647),de=a.n(ue),me=Object(l.b)((function(e){return{idpSelection:e.tenants.createTenant.fields.identityProvider.idpSelection,accessKeys:e.tenants.createTenant.fields.identityProvider.accessKeys,secretKeys:e.tenants.createTenant.fields.identityProvider.secretKeys,openIDConfigurationURL:e.tenants.createTenant.fields.identityProvider.openIDConfigurationURL,openIDClientID:e.tenants.createTenant.fields.identityProvider.openIDClientID,openIDSecretID:e.tenants.createTenant.fields.identityProvider.openIDSecretID,openIDCallbackURL:e.tenants.createTenant.fields.identityProvider.openIDCallbackURL,openIDClaimName:e.tenants.createTenant.fields.identityProvider.openIDClaimName,openIDScopes:e.tenants.createTenant.fields.identityProvider.openIDScopes,ADURL:e.tenants.createTenant.fields.identityProvider.ADURL,ADSkipTLS:e.tenants.createTenant.fields.identityProvider.ADSkipTLS,ADServerInsecure:e.tenants.createTenant.fields.identityProvider.ADServerInsecure,ADUserNameSearchFilter:e.tenants.createTenant.fields.identityProvider.ADUserNameSearchFilter,ADGroupSearchBaseDN:e.tenants.createTenant.fields.identityProvider.ADGroupSearchBaseDN,ADGroupSearchFilter:e.tenants.createTenant.fields.identityProvider.ADGroupSearchFilter,ADGroupNameAttribute:e.tenants.createTenant.fields.identityProvider.ADGroupNameAttribute,ADUserDNs:e.tenants.createTenant.fields.identityProvider.ADUserDNs,ADUserNameFormat:e.tenants.createTenant.fields.identityProvider.ADUserNameFormat,ADLookupBindDN:e.tenants.createTenant.fields.identityProvider.ADLookupBindDN,ADLookupBindPassword:e.tenants.createTenant.fields.identityProvider.ADLookupBindPassword,ADUserDNSearchBaseDN:e.tenants.createTenant.fields.identityProvider.ADUserDNSearchBaseDN,ADUserDNSearchFilter:e.tenants.createTenant.fields.identityProvider.ADUserDNSearchFilter,ADServerStartTLS:e.tenants.createTenant.fields.identityProvider.ADServerStartTLS}}),{updateAddField:C.t,isPageValid:C.l}),be=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"},shortened:{gridTemplateColumns:"auto auto 50px 50px",display:"grid",gridGap:20},buttonTray:{gridTemplateColumns:"auto auto 10px 10px",display:"grid",gridGap:0,height:16,marginTop:12}},j.m),j.E))}))(me((function(e){var t=e.classes,a=e.idpSelection,r=e.accessKeys,s=e.secretKeys,c=e.openIDConfigurationURL,o=e.openIDClientID,l=e.openIDSecretID,d=e.openIDCallbackURL,m=e.openIDClaimName,b=e.openIDScopes,j=e.ADURL,p=e.ADSkipTLS,g=e.ADServerInsecure,h=e.ADUserNameSearchFilter,f=e.ADGroupSearchBaseDN,x=e.ADGroupSearchFilter,O=e.ADGroupNameAttribute,v=e.ADUserDNs,y=e.ADUserNameFormat,C=e.ADLookupBindDN,S=e.ADLookupBindPassword,k=e.ADUserDNSearchBaseDN,N=e.ADUserDNSearchFilter,T=e.ADServerStartTLS,D=e.updateAddField,P=e.isPageValid,z=Object(i.useState)({}),w=Object(n.a)(z,2),E=w[0],R=w[1],K=Object(i.useCallback)((function(e,t){D("identityProvider",e,t)}),[D]),M=function(e,t){var a=Object(X.a)(r);a[e]=t,K("accessKeys",a)},G=function(e,t){var a=Object(X.a)(s);a[e]=t,K("secretKeys",a)},q=function(e,t){var a=Object(X.a)(v);a[e]=t,K("ADUserDNs",a)},L=function(e){R(Object(A.a)(E,e))};Object(i.useEffect)((function(){var e=[];if("Built-in"===a){e=Object(X.a)(e);for(var t=0;t<r.length;t++)e.push({fieldKey:"accesskey-".concat(t.toString()),required:!0,value:r[t],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"}),e.push({fieldKey:"secretkey-".concat(t.toString()),required:!0,value:s[t],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"})}if("OpenID"===a&&(e=[].concat(Object(X.a)(e),[{fieldKey:"openID_CONFIGURATION_URL",required:!0,value:c},{fieldKey:"openID_clientID",required:!0,value:o},{fieldKey:"openID_secretID",required:!0,value:l},{fieldKey:"openID_claimName",required:!0,value:m}])),"AD"===a){e=[].concat(Object(X.a)(e),[{fieldKey:"AD_URL",required:!0,value:j}]);for(var n=0;n<v.length;n++)e.push({fieldKey:"ad-userdn-".concat(n.toString()),required:!0,value:v[n]})}var i=_(e);P("identityProvider",0===Object.keys(i).length),R(i)}),[a,r,s,o,l,j,h,f,x,O,v,P,c,m]);var V=null;return"Built-in"===a&&(V=r.map((function(e,a){return Object(F.jsx)(i.Fragment,{children:Object(F.jsxs)("div",{className:t.shortened,children:[Object(F.jsx)(I.a,{id:"accesskey-".concat(a.toString()),label:"",placeholder:"Access Key",name:"accesskey-".concat(a.toString()),value:r[a],onChange:function(e){M(a,e.target.value),L("accesskey-".concat(a.toString()))},index:a,error:E["accesskey-".concat(a.toString())]||""},"csv-accesskey-".concat(a.toString())),Object(F.jsx)(I.a,{id:"secretkey-".concat(a.toString()),label:"",placeholder:"Secret Key",name:"secretkey-".concat(a.toString()),value:s[a],onChange:function(e){G(a,e.target.value),L("secretkey-".concat(a.toString()))},index:a,error:E["secretkey-".concat(a.toString())]||""},"csv-secretkey-".concat(a.toString())),Object(F.jsxs)("div",{className:t.buttonTray,children:[Object(F.jsx)(ae.a,{title:"Add User","aria-label":"add",children:Object(F.jsx)(ne.a,{size:"small",onClick:function(){r.push(""),s.push(""),M(r.length-1,""),G(s.length-1,"")},children:Object(F.jsx)(de.a,{})})}),Object(F.jsx)(ae.a,{title:"Randomize Credentials","aria-label":"add",children:Object(F.jsx)(ne.a,{onClick:function(){M(a,Object(A.b)(16)),G(a,Object(A.b)(32))},size:"small",children:Object(F.jsx)(se.a,{})})}),Object(F.jsx)(ae.a,{title:"Remove","aria-label":"add",children:Object(F.jsx)(ne.a,{size:"small",style:{marginLeft:16},onClick:function(){r.length>1&&(r.splice(a,1),s.splice(a,1),M(r.length-1,r[r.length-1]))},children:Object(F.jsx)(oe.a,{})})})]})]})},"identityField-".concat(a.toString()))}))),"AD"===a&&(V=v.map((function(e,a){return Object(F.jsx)(i.Fragment,{children:Object(F.jsxs)("div",{className:t.shortened,children:[Object(F.jsx)(I.a,{id:"ad-userdn-".concat(a.toString()),label:"",placeholder:"",name:"ad-userdn-".concat(a.toString()),value:v[a],onChange:function(e){q(a,e.target.value),L("ad-userdn-".concat(a.toString()))},index:a,error:E["ad-userdn-".concat(a.toString())]||""},"csv-ad-userdn-".concat(a.toString())),Object(F.jsxs)("div",{className:t.buttonTray,children:[Object(F.jsx)(ae.a,{title:"Add User","aria-label":"add",children:Object(F.jsx)(ne.a,{size:"small",onClick:function(){v.push(""),q(v.length-1,"")},children:Object(F.jsx)(de.a,{})})}),Object(F.jsx)(ae.a,{title:"Remove","aria-label":"add",children:Object(F.jsx)(ne.a,{size:"small",style:{marginLeft:16},onClick:function(){v.length>1&&(v.splice(a,1),M(v.length-1,v[v.length-1]))},children:Object(F.jsx)(oe.a,{})})})]})]})},"identityField-".concat(a.toString()))}))),Object(F.jsxs)(Z.a,{className:t.paperWrapper,children:[Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Identity Provider"}),Object(F.jsx)("span",{className:t.descriptionText,children:"Access to the tenant can be controlled via an external Identity Manager."})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(le.a,{currentSelection:a,id:"idp-options",name:"idp-options",label:"Protocol",onChange:function(e){K("idpSelection",e.target.value)},selectorOptions:[{label:"Built-in",value:"Built-in"},{label:"OpenID",value:"OpenID"},{label:"Active Directory",value:"AD"}]})}),"Built-in"===a&&Object(F.jsxs)(i.Fragment,{children:["Add additional users",V]}),"OpenID"===a&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"openID_CONFIGURATION_URL",name:"openID_CONFIGURATION_URL",onChange:function(e){K("openIDConfigurationURL",e.target.value),L("openID_CONFIGURATION_URL")},label:"Configuration URL",value:c,placeholder:"https://your-identity-provider.com/.well-known/openid-configuration",error:E.openID_CONFIGURATION_URL||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"openID_clientID",name:"openID_clientID",onChange:function(e){K("openIDClientID",e.target.value),L("openID_clientID")},label:"Client ID",value:o,error:E.openID_clientID||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"openID_secretID",name:"openID_secretID",onChange:function(e){K("openIDSecretID",e.target.value),L("openID_secretID")},label:"Secret ID",value:l,error:E.openID_secretID||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"openID_callbackURL",name:"openID_callbackURL",onChange:function(e){K("openIDCallbackURL",e.target.value),L("openID_callbackURL")},label:"Callback URL",value:d,placeholder:"https://your-console-endpoint:9443/oauth_callback",error:E.openID_callbackURL||""})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"openID_claimName",name:"openID_claimName",onChange:function(e){K("openIDClaimName",e.target.value),L("openID_claimName")},label:"Claim Name",value:m,error:E.openID_claimName||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"openID_scopes",name:"openID_scopes",onChange:function(e){K("openIDScopes",e.target.value),L("openID_scopes")},label:"Scopes",value:b})})]}),"AD"===a&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"AD_URL",name:"AD_URL",onChange:function(e){K("ADURL",e.target.value),L("AD_URL")},label:"LDAP Server Address",value:j,placeholder:"ldap-server:636",error:E.AD_URL||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"ad_skipTLS",id:"ad_skipTLS",name:"ad_skipTLS",checked:p,onChange:function(e){var t=e.target.checked;K("ADSkipTLS",t)},label:"Skip TLS Verification"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"ad_serverInsecure",id:"ad_serverInsecure",name:"ad_serverInsecure",checked:g,onChange:function(e){var t=e.target.checked;K("ADServerInsecure",t)},label:"Server Insecure"})}),g?Object(F.jsxs)(u.a,{item:!0,xs:12,children:[Object(F.jsx)(re.a,{className:t.error,variant:"caption",display:"block",gutterBottom:!0,children:"Warning: All traffic with Active Directory will be unencrypted"}),Object(F.jsx)("br",{})]}):null,Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"ad_serverStartTLS",id:"ad_serverStartTLS",name:"ad_serverStartTLS",checked:T,onChange:function(e){var t=e.target.checked;K("ADServerStartTLS",t)},label:"Start TLS connection to AD/LDAP server"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_userNameFormat",name:"ad_userNameFormat",onChange:function(e){K("ADUserNameFormat",e.target.value)},label:"Username Format",value:y,placeholder:"uid=%s,cn=accounts,dc=myldapserver,dc=com"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_userNameFilter",name:"ad_userNameFilter",onChange:function(e){K("ADUserNameSearchFilter",e.target.value)},label:"Username Search Filter",value:h,placeholder:"(|(objectclass=posixAccount)(uid=%s))"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_groupSearchBaseDN",name:"ad_groupSearchBaseDN",onChange:function(e){K("ADGroupSearchBaseDN",e.target.value)},label:"Group Search Base DN",value:f,placeholder:"ou=hwengg,dc=min,dc=io;ou=swengg,dc=min,dc=io"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_groupSearchFilter",name:"ad_groupSearchFilter",onChange:function(e){K("ADGroupSearchFilter",e.target.value)},label:"Group Search Filter",value:x,placeholder:"(&(objectclass=groupOfNames)(member=%s))"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_groupNameAttribute",name:"ad_groupNameAttribute",onChange:function(e){K("ADGroupNameAttribute",e.target.value)},label:"Group Name Attribute",value:O,placeholder:"cn"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_lookupBindDN",name:"ad_lookupBindDN",onChange:function(e){K("ADLookupBindDN",e.target.value)},label:"Lookup Bind DN",value:C,placeholder:"cn=admin,dc=min,dc=io"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_lookupBindPassword",name:"ad_lookupBindPassword",onChange:function(e){K("ADLookupBindPassword",e.target.value)},label:"Lookup Bind Password",value:S,placeholder:"admin"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_userDNSearchBaseDN",name:"ad_userDNSearchBaseDN",onChange:function(e){K("ADUserDNSearchBaseDN",e.target.value)},label:"User DN Search Base DN",value:k,placeholder:"dc=min,dc=io"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"ad_userDNSearchFilter",name:"ad_userDNSearchFilter",onChange:function(e){K("ADUserDNSearchFilter",e.target.value)},label:"User DN Search Filter",value:N,placeholder:"(uid=%s)"})}),Object(F.jsxs)(u.a,{item:!0,xs:12,children:["List of user DNs (Distinguished Names) to be Tenant Administrators",V]})]})]})}))),je=a(528),pe=Object(l.b)((function(e){return{enableTLS:e.tenants.createTenant.fields.security.enableTLS,enableAutoCert:e.tenants.createTenant.fields.security.enableAutoCert,enableCustomCerts:e.tenants.createTenant.fields.security.enableCustomCerts,minioCertificates:e.tenants.createTenant.certificates.minioCertificates,caCertificates:e.tenants.createTenant.certificates.caCertificates}}),{updateAddField:C.t,isPageValid:C.l,addFileToCaCertificates:C.e,deleteCaCertificate:C.j,addCaCertificate:C.a,addKeyPair:C.i,addFileToKeyPair:C.f,deleteKeyPair:C.k}),ge=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"}},j.m),j.E))}))(pe((function(e){var t=e.classes,a=e.enableTLS,n=e.enableAutoCert,r=e.enableCustomCerts,s=e.minioCertificates,c=e.caCertificates,o=e.updateAddField,l=e.isPageValid,d=e.addFileToCaCertificates,m=e.deleteCaCertificate,b=e.addCaCertificate,j=e.addKeyPair,p=e.addFileToKeyPair,g=e.deleteKeyPair,h=Object(i.useCallback)((function(e,t){o("security",e,t)}),[o]);return Object(i.useEffect)((function(){l("security",!a||(!!n||!!r))}),[a,n,r,l]),Object(F.jsxs)(Z.a,{className:t.paperWrapper,children:[Object(F.jsx)("div",{className:t.headerElement,children:Object(F.jsx)("h3",{className:t.h3Section,children:"Security"})}),Object(F.jsxs)(u.a,{item:!0,xs:12,children:[Object(F.jsx)(Q.a,{value:"enableTLS",id:"enableTLS",name:"enableTLS",checked:a,onChange:function(e){var t=e.target.checked;h("enableTLS",t)},label:"Enable TLS"}),"Enable TLS for the tenant, this is required for Encryption Configuration",a&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(re.a,{variant:"caption",display:"block",gutterBottom:!0,children:"AutoCert: MinIO Operator will generate all TLS certificates automatically"}),Object(F.jsx)(re.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Custom certificates: Allow user to provide your own certificates"}),Object(F.jsx)("br",{})]})]}),a&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsxs)(u.a,{item:!0,xs:12,children:[Object(F.jsx)(Q.a,{value:"enableAutoCert",id:"enableAutoCert",name:"enableAutoCert",checked:n,onChange:function(e){var t=e.target.checked;h("enableAutoCert",t)},label:"Enable AutoCert"}),Object(F.jsx)(Q.a,{value:"enableCustomCerts",id:"enableCustomCerts",name:"enableCustomCerts",checked:r,onChange:function(e){var t=e.target.checked;h("enableCustomCerts",t)},label:"Custom Certificates"})]}),r&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsxs)(u.a,{container:!0,children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(re.a,{variant:"overline",display:"block",gutterBottom:!0,children:"MinIO Certificates"})}),s.map((function(e){return Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:5,children:Object(F.jsx)(je.a,{onChange:function(t,a){p(e.id,"cert",a,t)},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert})}),Object(F.jsx)(u.a,{item:!0,xs:5,children:Object(F.jsx)(je.a,{onChange:function(t,a){p(e.id,"key",a,t)},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})}),Object(F.jsx)(u.a,{item:!0,xs:1,children:Object(F.jsx)(E.a,{onClick:function(){g(e.id)},color:"secondary",children:"Remove"})})]},e.id)})),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(E.a,{onClick:j,color:"primary",children:"Add More"})})]}),Object(F.jsx)(u.a,{container:!0,children:Object(F.jsxs)(u.a,{item:!0,xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(U.a,{}),Object(F.jsx)("br",{})]})}),Object(F.jsxs)(u.a,{container:!0,children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(re.a,{variant:"overline",display:"block",gutterBottom:!0,children:"MinIO CA Certificates"})}),c.map((function(e){return Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:10,children:Object(F.jsx)(je.a,{onChange:function(t,a){d(e.id,"cert",a,t)},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert})}),Object(F.jsx)(u.a,{item:!0,xs:1,children:Object(F.jsx)(E.a,{onClick:function(){m(e.id)},color:"secondary",children:"Remove"})})]},e.id)})),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(E.a,{onClick:b,color:"primary",children:"Add More"})})]})]})]})]})}))),he=Object(l.b)((function(e){return{replicas:e.tenants.createTenant.fields.encryption.replicas,enableEncryption:e.tenants.createTenant.fields.encryption.enableEncryption,encryptionType:e.tenants.createTenant.fields.encryption.encryptionType,gemaltoEndpoint:e.tenants.createTenant.fields.encryption.gemaltoEndpoint,gemaltoToken:e.tenants.createTenant.fields.encryption.gemaltoToken,gemaltoDomain:e.tenants.createTenant.fields.encryption.gemaltoDomain,gemaltoRetry:e.tenants.createTenant.fields.encryption.gemaltoRetry,awsEndpoint:e.tenants.createTenant.fields.encryption.awsEndpoint,awsRegion:e.tenants.createTenant.fields.encryption.awsRegion,awsKMSKey:e.tenants.createTenant.fields.encryption.awsKMSKey,awsAccessKey:e.tenants.createTenant.fields.encryption.awsAccessKey,awsSecretKey:e.tenants.createTenant.fields.encryption.awsSecretKey,awsToken:e.tenants.createTenant.fields.encryption.awsToken,vaultEndpoint:e.tenants.createTenant.fields.encryption.vaultEndpoint,vaultEngine:e.tenants.createTenant.fields.encryption.vaultEngine,vaultNamespace:e.tenants.createTenant.fields.encryption.vaultNamespace,vaultPrefix:e.tenants.createTenant.fields.encryption.vaultPrefix,vaultAppRoleEngine:e.tenants.createTenant.fields.encryption.vaultAppRoleEngine,vaultId:e.tenants.createTenant.fields.encryption.vaultId,vaultSecret:e.tenants.createTenant.fields.encryption.vaultSecret,vaultRetry:e.tenants.createTenant.fields.encryption.vaultRetry,vaultPing:e.tenants.createTenant.fields.encryption.vaultPing,azureEndpoint:e.tenants.createTenant.fields.encryption.azureEndpoint,azureTenantID:e.tenants.createTenant.fields.encryption.azureTenantID,azureClientID:e.tenants.createTenant.fields.encryption.azureClientID,azureClientSecret:e.tenants.createTenant.fields.encryption.azureClientSecret,gcpProjectID:e.tenants.createTenant.fields.encryption.gcpProjectID,gcpEndpoint:e.tenants.createTenant.fields.encryption.gcpEndpoint,gcpClientEmail:e.tenants.createTenant.fields.encryption.gcpClientEmail,gcpClientID:e.tenants.createTenant.fields.encryption.gcpClientID,gcpPrivateKeyID:e.tenants.createTenant.fields.encryption.gcpPrivateKeyID,gcpPrivateKey:e.tenants.createTenant.fields.encryption.gcpPrivateKey,enableCustomCertsForKES:e.tenants.createTenant.fields.encryption.enableCustomCertsForKES,enableAutoCert:e.tenants.createTenant.fields.security.enableAutoCert,enableTLS:e.tenants.createTenant.fields.security.enableTLS,minioCertificates:e.tenants.createTenant.certificates.minioCertificates,serverCertificate:e.tenants.createTenant.certificates.serverCertificate,clientCertificate:e.tenants.createTenant.certificates.clientCertificate,vaultCertificate:e.tenants.createTenant.certificates.vaultCertificate,vaultCA:e.tenants.createTenant.certificates.vaultCA,gemaltoCA:e.tenants.createTenant.certificates.gemaltoCA,enableCustomCerts:e.tenants.createTenant.fields.security.enableCustomCerts,kesSecurityContext:e.tenants.createTenant.fields.encryption.kesSecurityContext}}),{updateAddField:C.t,isPageValid:C.l,addFileServerCert:C.d,addFileClientCert:C.b,addFileVaultCert:C.h,addFileVaultCa:C.g,addFileGemaltoCa:C.c}),fe=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"}},j.m),j.E))}))(he((function(e){var t=e.classes,a=e.updateAddField,s=e.isPageValid,c=e.addFileServerCert,o=e.addFileClientCert,l=e.addFileVaultCert,d=e.addFileVaultCa,m=e.addFileGemaltoCa,b=e.enableEncryption,j=e.enableCustomCerts,p=e.encryptionType,g=e.gemaltoEndpoint,h=e.gemaltoToken,f=e.gemaltoDomain,x=e.gemaltoRetry,O=e.awsEndpoint,v=e.awsRegion,y=e.awsKMSKey,C=e.awsAccessKey,S=e.awsSecretKey,k=e.awsToken,N=e.vaultEndpoint,T=e.vaultEngine,D=e.vaultNamespace,P=e.vaultPrefix,z=e.vaultAppRoleEngine,w=e.vaultId,E=e.vaultSecret,R=e.vaultRetry,K=e.vaultPing,M=e.azureEndpoint,G=e.azureTenantID,q=e.azureClientID,L=e.azureClientSecret,V=e.gcpProjectID,U=e.gcpEndpoint,B=e.gcpClientEmail,W=e.gcpClientID,$=e.gcpPrivateKeyID,H=e.gcpPrivateKey,Y=e.enableCustomCertsForKES,J=e.enableAutoCert,ee=e.enableTLS,te=e.minioCertificates,ae=e.serverCertificate,ne=e.clientCertificate,ie=e.vaultCertificate,se=e.vaultCA,ce=e.gemaltoCA,oe=e.kesSecurityContext,ue=e.replicas,de=Object(i.useState)({}),me=Object(n.a)(de,2),be=me[0],pe=me[1],ge=!1;ee&&(J||te&&te.filter((function(e){return e.encoded_key&&e.encoded_cert})).length>0)&&(ge=!0);var he=Object(i.useCallback)((function(e,t){a("encryption",e,t)}),[a]),fe=function(e){pe(Object(A.a)(be,e))};return Object(i.useEffect)((function(){var e=[];b&&(e=[].concat(Object(X.a)(e),[{fieldKey:"replicas",required:!0,value:ue,customValidation:parseInt(ue)<1,customValidationMessage:"Replicas needs to be 1 or greater"},{fieldKey:"kes_securityContext_runAsUser",required:!0,value:oe.runAsUser,customValidation:""===oe.runAsUser||parseInt(oe.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"kes_securityContext_runAsGroup",required:!0,value:oe.runAsGroup,customValidation:""===oe.runAsGroup||parseInt(oe.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"kes_securityContext_fsGroup",required:!0,value:oe.fsGroup,customValidation:""===oe.fsGroup||parseInt(oe.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]),j&&(e=[].concat(Object(X.a)(e),[{fieldKey:"serverKey",required:!J,value:ae.encoded_key},{fieldKey:"serverCert",required:!J,value:ae.encoded_cert},{fieldKey:"clientKey",required:!J,value:ne.encoded_key},{fieldKey:"clientCert",required:!J,value:ne.encoded_cert}])),"vault"===p&&(e=[].concat(Object(X.a)(e),[{fieldKey:"vault_endpoint",required:!0,value:N},{fieldKey:"vault_id",required:!0,value:w},{fieldKey:"vault_secret",required:!0,value:E},{fieldKey:"vault_ping",required:!1,value:K,customValidation:parseInt(K)<0,customValidationMessage:"Value needs to be 0 or greater"},{fieldKey:"vault_retry",required:!1,value:R,customValidation:parseInt(R)<0,customValidationMessage:"Value needs to be 0 or greater"}])),"aws"===p&&(e=[].concat(Object(X.a)(e),[{fieldKey:"aws_endpoint",required:!0,value:O},{fieldKey:"aws_region",required:!0,value:v},{fieldKey:"aws_accessKey",required:!0,value:C},{fieldKey:"aws_secretKey",required:!0,value:S}])),"gemalto"===p&&(e=[].concat(Object(X.a)(e),[{fieldKey:"gemalto_endpoint",required:!0,value:g},{fieldKey:"gemalto_token",required:!0,value:h},{fieldKey:"gemalto_domain",required:!0,value:f},{fieldKey:"gemalto_retry",required:!1,value:x,customValidation:parseInt(x)<0,customValidationMessage:"Value needs to be 0 or greater"}])),"azure"===p&&(e=[].concat(Object(X.a)(e),[{fieldKey:"azure_endpoint",required:!0,value:M},{fieldKey:"azure_tenant_id",required:!0,value:G},{fieldKey:"azure_client_id",required:!0,value:q},{fieldKey:"azure_client_secret",required:!0,value:L}])));var t=_(e);s("encryption",0===Object.keys(t).length),pe(t)}),[b,p,N,T,w,E,K,R,O,v,S,C,g,h,f,x,V,U,B,W,$,H,M,G,q,L,s,J,j,ae.encoded_key,ae.encoded_cert,ne.encoded_key,ne.encoded_cert,oe,ue]),Object(F.jsxs)(Z.a,{className:t.paperWrapper,children:[Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Encryption"}),Object(F.jsx)("span",{className:t.descriptionText,children:"How would you like to encrypt the information at rest."})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"enableEncryption",id:"enableEncryption",name:"enableEncryption",checked:b,onChange:function(e){var t=e.target.checked;he("enableEncryption",t)},label:"Enable Server Side Encryption",disabled:!ge})}),b&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(le.a,{currentSelection:p,id:"encryptionType",name:"encryptionType",label:"Encryption Options",onChange:function(e){he("encryptionType",e.target.value)},selectorOptions:[{label:"Vault",value:"vault"},{label:"AWS",value:"aws"},{label:"Gemalto",value:"gemalto"},{label:"GCP",value:"gcp"},{label:"Azure",value:"azure"}]})}),"vault"===p&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"enableCustomCertsForKES",id:"enableCustomCertsForKES",name:"enableCustomCertsForKES",checked:Y||!J,onChange:function(e){var t=e.target.checked;he("enableCustomCertsForKES",t)},label:"Custom Certificates",disabled:!J})}),(Y||!J)&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(re.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Encryption Service Certificates"})}),Object(F.jsxs)(u.a,{container:!0,children:[Object(F.jsx)(u.a,{item:!0,xs:6,children:Object(F.jsx)(je.a,{onChange:function(e,t){c("key",t,e),fe("serverKey")},accept:".key,.pem",id:"serverKey",name:"serverKey",label:"Key",error:be.serverKey||"",value:ae.key,required:!J})}),Object(F.jsx)(u.a,{item:!0,xs:6,children:Object(F.jsx)(je.a,{onChange:function(e,t){c("cert",t,e),fe("serverCert")},accept:".cer,.crt,.cert,.pem",id:"serverCert",name:"serverCert",label:"Cert",error:be.serverCert||"",value:ae.cert,required:!J})})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(re.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Mutual TLS authentication"})}),Object(F.jsxs)(u.a,{container:!0,children:[Object(F.jsx)(u.a,{item:!0,xs:6,children:Object(F.jsx)(je.a,{onChange:function(e,t){o("key",t,e),fe("clientKey")},accept:".key,.pem",id:"clientKey",name:"clientKey",label:"Key",error:be.clientKey||"",value:ne.key,required:!J})}),Object(F.jsx)(u.a,{item:!0,xs:6,children:Object(F.jsx)(je.a,{onChange:function(e,t){o("cert",t,e),fe("clientCert")},accept:".cer,.crt,.cert,.pem",id:"clientCert",name:"clientCert",label:"Cert",error:be.clientCert||"",value:ne.cert,required:!J})})]})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"vault_endpoint",name:"vault_endpoint",onChange:function(e){he("vaultEndpoint",e.target.value),fe("vault_endpoint")},label:"Endpoint",value:N,error:be.vault_endpoint||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"vault_engine",name:"vault_engine",onChange:function(e){he("vaultEngine",e.target.value),fe("vault_engine")},label:"Engine",value:T})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"vault_namespace",name:"vault_namespace",onChange:function(e){he("vaultNamespace",e.target.value)},label:"Namespace",value:D})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"vault_prefix",name:"vault_prefix",onChange:function(e){he("vaultPrefix",e.target.value)},label:"Prefix",value:P})}),Object(F.jsx)("h5",{children:"App Role"}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"vault_approle_engine",name:"vault_approle_engine",onChange:function(e){he("vaultAppRoleEngine",e.target.value)},label:"Engine",value:z})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"vault_id",name:"vault_id",onChange:function(e){he("vaultId",e.target.value),fe("vault_id")},label:"AppRole ID",value:w,error:be.vault_id||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"vault_secret",name:"vault_secret",onChange:function(e){he("vaultSecret",e.target.value),fe("vault_secret")},label:"AppRole Secret",value:E,error:be.vault_secret||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{type:"number",min:"0",id:"vault_retry",name:"vault_retry",onChange:function(e){he("vaultRetry",e.target.value),fe("vault_retry")},label:"Retry (Seconds)",value:R,error:be.vault_retry||""})}),Object(F.jsx)("h5",{children:"Mutual TLS authentication (optional)"}),Object(F.jsxs)(u.a,{container:!0,children:[Object(F.jsx)(u.a,{item:!0,xs:6,children:Object(F.jsx)(je.a,{onChange:function(e,t){l("key",t,e),fe("vault_key")},accept:".key,.pem",id:"vault_key",name:"vault_key",label:"Key",value:ie.key})}),Object(F.jsx)(u.a,{item:!0,xs:6,children:Object(F.jsx)(je.a,{onChange:function(e,t){l("cert",t,e),fe("vault_cert")},accept:".cer,.crt,.cert,.pem",id:"vault_cert",name:"vault_cert",label:"Cert",value:ie.cert})})]}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(je.a,{onChange:function(e,t){d(t,e),fe("vault_ca")},accept:".cer,.crt,.cert,.pem",id:"vault_ca",name:"vault_ca",label:"CA",value:se.cert})}),Object(F.jsx)("h5",{children:"Status"}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{type:"number",min:"0",id:"vault_ping",name:"vault_ping",onChange:function(e){he("vaultPing",e.target.value),fe("vault_ping")},label:"Ping (Seconds)",value:K,error:be.vault_ping||""})})]}),"azure"===p&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"azure_endpoint",name:"azure_endpoint",onChange:function(e){he("azureEndpoint",e.target.value),fe("azure_endpoint")},label:"Endpoint",value:M,error:be.azure_endpoint||""})}),Object(F.jsx)("h5",{children:"Credentials"}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"azure_tenant_id",name:"azure_tenant_id",onChange:function(e){he("azureTenantID",e.target.value),fe("azure_tenant_id")},label:"Tenant ID",value:G,error:be.azure_tenant_id||""})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"azure_client_id",name:"azure_client_id",onChange:function(e){he("azureClientID",e.target.value),fe("azure_client_id")},label:"Client ID",value:q,error:be.azure_client_id||""})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"azure_client_secret",name:"azure_client_secret",onChange:function(e){he("azureClientSecret",e.target.value),fe("azure_client_secret")},label:"Client Secret",value:L,error:be.azure_client_secret||""})})]}),"gcp"===p&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gcp_project_id",name:"gcp_project_id",onChange:function(e){he("gcpProjectID",e.target.value)},label:"Project ID",value:V})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gcp_endpoint",name:"gcp_endpoint",onChange:function(e){he("gcpEndpoint",e.target.value)},label:"Endpoint",value:U})}),Object(F.jsx)("h5",{children:"Credentials"}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gcp_client_email",name:"gcp_client_email",onChange:function(e){he("gcpClientEmail",e.target.value)},label:"Client Email",value:B})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gcp_client_id",name:"gcp_client_id",onChange:function(e){he("gcpClientID",e.target.value)},label:"Client ID",value:W})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gcp_private_key_id",name:"gcp_private_key_id",onChange:function(e){he("gcpPrivateKeyID",e.target.value)},label:"Private Key ID",value:$})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gcp_private_key",name:"gcp_private_key",onChange:function(e){he("gcpPrivateKey",e.target.value)},label:"Private Key",value:H})})]}),"aws"===p&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"aws_endpoint",name:"aws_endpoint",onChange:function(e){he("awsEndpoint",e.target.value),fe("aws_endpoint")},label:"Endpoint",value:O,error:be.aws_endpoint||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"aws_region",name:"aws_region",onChange:function(e){he("awsRegion",e.target.value),fe("aws_region")},label:"Region",value:v,error:be.aws_region||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"aws_kmsKey",name:"aws_kmsKey",onChange:function(e){he("awsKMSKey",e.target.value)},label:"KMS Key",value:y})}),Object(F.jsx)("h5",{children:"Credentials"}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"aws_accessKey",name:"aws_accessKey",onChange:function(e){he("awsAccessKey",e.target.value),fe("aws_accessKey")},label:"Access Key",value:C,error:be.aws_accessKey||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"aws_secretKey",name:"aws_secretKey",onChange:function(e){he("awsSecretKey",e.target.value),fe("aws_secretKey")},label:"Secret Key",value:S,error:be.aws_secretKey||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"aws_token",name:"aws_token",onChange:function(e){he("awsToken",e.target.value)},label:"Token",value:k})})]}),"gemalto"===p&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gemalto_endpoint",name:"gemalto_endpoint",onChange:function(e){he("gemaltoEndpoint",e.target.value),fe("gemalto_endpoint")},label:"Endpoint",value:g,error:be.gemalto_endpoint||"",required:!0})}),Object(F.jsx)("h5",{children:"Credentials"}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gemalto_token",name:"gemalto_token",onChange:function(e){he("gemaltoToken",e.target.value),fe("gemalto_token")},label:"Token",value:h,error:be.gemalto_token||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"gemalto_domain",name:"gemalto_domain",onChange:function(e){he("gemaltoDomain",e.target.value),fe("gemalto_domain")},label:"Domain",value:f,error:be.gemalto_domain||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{type:"number",min:"0",id:"gemalto_retry",name:"gemalto_retry",onChange:function(e){he("gemaltoRetry",e.target.value),fe("gemalto_retry")},label:"Retry (seconds)",value:x,error:be.gemalto_retry||""})}),Object(F.jsx)("h5",{children:"Custom CA Root certificate verification"}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(je.a,{onChange:function(e,t){m(t,e),fe("gemalto_ca")},accept:".cer,.crt,.cert,.pem",id:"gemalto_ca",name:"gemalto_ca",label:"CA",value:ce.cert})})]}),Object(F.jsx)("div",{className:t.headerElement,children:Object(F.jsx)("h3",{className:t.h3Section,children:"Additional Configurations"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{type:"number",min:"1",id:"replicas",name:"replicas",onChange:function(e){he("replicas",e.target.value),fe("replicas")},label:"Replicas",value:ue,required:!0,error:be.replicas||""})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("span",{className:t.descriptionText,children:"SecurityContext for KES pods"})}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsxs)("div",{className:t.multiContainer,children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"kes_securityContext_runAsUser",name:"kes_securityContext_runAsUser",onChange:function(e){he("kesSecurityContext",Object(r.a)(Object(r.a)({},oe),{},{runAsUser:e.target.value})),fe("kes_securityContext_runAsUser")},label:"Run As User",value:oe.runAsUser,required:!0,error:be.kes_securityContext_runAsUser||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"kes_securityContext_runAsGroup",name:"kes_securityContext_runAsGroup",onChange:function(e){he("kesSecurityContext",Object(r.a)(Object(r.a)({},oe),{},{runAsGroup:e.target.value})),fe("kes_securityContext_runAsGroup")},label:"Run As Group",value:oe.runAsGroup,required:!0,error:be.kes_securityContext_runAsGroup||"",min:"0"})}),Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{type:"number",id:"kes_securityContext_fsGroup",name:"kes_securityContext_fsGroup",onChange:function(e){he("kesSecurityContext",Object(r.a)(Object(r.a)({},oe),{},{fsGroup:e.target.value})),fe("kes_securityContext_fsGroup")},label:"FsGroup",value:oe.fsGroup,required:!0,error:be.kes_securityContext_fsGroup||"",min:"0"})})]})}),Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)("div",{className:t.multiContainer,children:Object(F.jsx)(Q.a,{value:"kesSecurityContextRunAsNonRoot",id:"kes_securityContext_runAsNonRoot",name:"kes_securityContext_runAsNonRoot",checked:oe.runAsNonRoot,onChange:function(e){var t=e.target.checked;he("kesSecurityContext",Object(r.a)(Object(r.a)({},oe),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]})})]})]})}))),xe=a(157),Oe=Object(l.b)((function(e){return{podAffinity:e.tenants.createTenant.fields.affinity.podAffinity,nodeSelectorLabels:e.tenants.createTenant.fields.affinity.nodeSelectorLabels,withPodAntiAffinity:e.tenants.createTenant.fields.affinity.withPodAntiAffinity}}),{setModalErrorSnackMessage:f.h,updateAddField:C.t,isPageValid:C.l}),ve=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"},overlayAction:{lineHeight:"50px",float:"left","& svg":{maxWidth:15,maxHeight:15}}},j.m),j.E))}))(Oe((function(e){var t=e.classes,a=e.podAffinity,r=e.nodeSelectorLabels,c=e.withPodAntiAffinity,o=e.setModalErrorSnackMessage,l=e.updateAddField,d=e.isPageValid,m=Object(i.useState)({}),b=Object(n.a)(m,2),j=b[0],g=b[1],h=Object(i.useState)(!0),f=Object(n.a)(h,2),x=f[0],O=f[1],v=Object(i.useState)({}),y=Object(n.a)(v,2),C=y[0],S=y[1],A=Object(i.useState)([{key:"",value:""}]),T=Object(n.a)(A,2),D=T[0],P=T[1],z=Object(i.useState)([]),w=Object(n.a)(z,2),E=w[0],R=w[1],K=Object(i.useCallback)((function(e,t){l("affinity",e,t)}),[l]);return Object(i.useEffect)((function(){x&&p.a.invoke("GET","/api/v1/nodes/labels").then((function(e){O(!1),S(e);var t=[];for(var a in e)t.push({label:a,value:a});R(t),P([{key:t[0].value,value:t[0].value}])})).catch((function(e){O(!1),o(e),S({})}))}),[o,x]),Object(i.useEffect)((function(){if(D){var e=D.filter((function(e){return""!==e.key})).map((function(e){return"".concat(e.key,"=").concat(e.value)})).filter((function(e,t,a){return a.indexOf(e)===t})).join("&");K("nodeSelectorLabels",e)}}),[D,K]),Object(i.useEffect)((function(){var e=[];if("nodeSelector"===a){var t=!0,n=r.split("&");1===n.length&&""===n[0]&&(t=!1),n.forEach((function(e,a){var r=e.split("=");2!==r.length&&(t=!1),a+1!==n.length&&(""!==r[0]&&""!==r[1]||(t=!1))})),e=[].concat(Object(X.a)(e),[{fieldKey:"labels",required:!0,value:r,customValidation:!t,customValidationMessage:"You need to add at least one label key-pair"}])}var i=_(e);d("affinity",0===Object.keys(i).length),g(i)}),[d,a,r]),Object(F.jsxs)(Z.a,{className:t.paperWrapper,children:[Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Pod Placement"}),Object(F.jsx)("span",{className:t.descriptionText,children:"Configure how pods will be assigned to nodes"})]}),Object(F.jsxs)(u.a,{item:!0,xs:12,children:[Object(F.jsx)(le.a,{currentSelection:a,id:"affinity-options",name:"affinity-options",label:"Type",onChange:function(e){K("podAffinity",e.target.value)},selectorOptions:[{label:"None",value:"none"},{label:"Default (Pod Anti-Affinnity)",value:"default"},{label:"Node Selector",value:"nodeSelector"}]}),"MinIO supports multiple configurations for Pod Affinity"]}),"nodeSelector"===a&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)("br",{}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"with_pod_anti_affinity",id:"with_pod_anti_affinity",name:"with_pod_anti_affinity",checked:c,onChange:function(e){var t=e.target.checked;K("withPodAntiAffinity",t)},label:"With Pod Anti-Affinity"})}),Object(F.jsxs)(u.a,{item:!0,xs:12,children:[Object(F.jsx)("h3",{children:"Labels"}),Object(F.jsx)("span",{className:t.error,children:j.labels}),Object(F.jsx)(u.a,{container:!0,children:D&&D.map((function(e,a){return Object(F.jsxs)(s.a.Fragment,{children:[Object(F.jsxs)(u.a,{item:!0,xs:5,children:[E.length>0&&Object(F.jsx)(k.a,{onChange:function(e){var t=e.target.value,n=Object.assign([],D);n[a].key=e.target.value,n[a].value=C[t][0],P(n)},id:"select-access-policy",name:"select-access-policy",label:"",value:e.key,options:E}),0===E.length&&Object(F.jsx)(I.a,{id:"nodeselector-key-".concat(a.toString()),label:"",name:"nodeselector-".concat(a.toString()),value:e.key,onChange:function(e){var t=Object.assign([],D);t[a].key=e.target.value,P(t)},index:a,placeholder:"Key"})]}),Object(F.jsxs)(u.a,{item:!0,xs:5,children:[E.length>0&&Object(F.jsx)(k.a,{onChange:function(e){var t=Object.assign([],D);t[a].value=e.target.value,P(t)},id:"select-access-policy",name:"select-access-policy",label:"",value:e.value,options:C[e.key]?C[e.key].map((function(e){return{label:e,value:e}})):[]}),0===E.length&&Object(F.jsx)(I.a,{id:"nodeselector-value-".concat(a.toString()),label:"",name:"nodeselector-".concat(a.toString()),value:e.value,onChange:function(e){var t=Object.assign([],D);t[a].value=e.target.value,P(t)},index:a,placeholder:"value"})]}),Object(F.jsxs)(u.a,{item:!0,xs:2,children:[Object(F.jsx)("div",{className:t.overlayAction,children:Object(F.jsx)(ne.a,{size:"small",onClick:function(){var e=Object.assign([],D);E.length>0?e.push({key:E[0].value,value:C[E[0].value][0]}):e.push({key:"",value:""}),P(e)},children:Object(F.jsx)(N.a,{})})}),D.length>1&&Object(F.jsx)("div",{className:t.overlayAction,children:Object(F.jsx)(ne.a,{size:"small",onClick:function(){var e=D.filter((function(e,t){return t!==a}));P(e)},children:Object(F.jsx)(xe.a,{})})})]})]})}))})]})]})]})}))),ye=a(376),Ce=a(45),Se=Object(l.b)((function(e){return{storageClasses:e.tenants.createTenant.storageClasses,customImage:e.tenants.createTenant.fields.configure.customImage,imageName:e.tenants.createTenant.fields.configure.imageName,customDockerhub:e.tenants.createTenant.fields.configure.customDockerhub,imageRegistry:e.tenants.createTenant.fields.configure.imageRegistry,imageRegistryUsername:e.tenants.createTenant.fields.configure.imageRegistryUsername,imageRegistryPassword:e.tenants.createTenant.fields.configure.imageRegistryPassword,exposeMinIO:e.tenants.createTenant.fields.configure.exposeMinIO,exposeConsole:e.tenants.createTenant.fields.configure.exposeConsole,prometheusCustom:e.tenants.createTenant.fields.configure.prometheusCustom,tenantCustom:e.tenants.createTenant.fields.configure.tenantCustom,logSearchCustom:e.tenants.createTenant.fields.configure.logSearchCustom,logSearchVolumeSize:e.tenants.createTenant.fields.configure.logSearchVolumeSize,logSearchSizeFactor:e.tenants.createTenant.fields.configure.logSearchSizeFactor,prometheusVolumeSize:e.tenants.createTenant.fields.configure.prometheusVolumeSize,prometheusSizeFactor:e.tenants.createTenant.fields.configure.prometheusSizeFactor,logSearchSelectedStorageClass:e.tenants.createTenant.fields.configure.logSearchSelectedStorageClass,logSearchImage:e.tenants.createTenant.fields.configure.logSearchImage,kesImage:e.tenants.createTenant.fields.configure.kesImage,logSearchPostgresImage:e.tenants.createTenant.fields.configure.logSearchPostgresImage,logSearchPostgresInitImage:e.tenants.createTenant.fields.configure.logSearchPostgresInitImage,prometheusSelectedStorageClass:e.tenants.createTenant.fields.configure.prometheusSelectedStorageClass,prometheusImage:e.tenants.createTenant.fields.configure.prometheusImage,prometheusSidecarImage:e.tenants.createTenant.fields.configure.prometheusSidecarImage,prometheusInitImage:e.tenants.createTenant.fields.configure.prometheusInitImage,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass}}),{updateAddField:C.t,isPageValid:C.l}),_e=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"}},j.m),j.E))}))(Se((function(e){var t=e.classes,a=e.storageClasses,r=e.customImage,s=e.imageName,c=e.customDockerhub,o=e.imageRegistry,l=e.imageRegistryUsername,d=e.imageRegistryPassword,m=(e.exposeMinIO,e.exposeConsole,e.prometheusCustom),b=e.tenantCustom,j=e.logSearchCustom,p=e.logSearchVolumeSize,g=(e.logSearchSizeFactor,e.logSearchImage),h=e.kesImage,f=e.logSearchPostgresImage,x=e.logSearchPostgresInitImage,O=e.prometheusVolumeSize,v=(e.prometheusSizeFactor,e.logSearchSelectedStorageClass),y=e.prometheusSelectedStorageClass,C=e.prometheusImage,S=e.prometheusSidecarImage,k=e.prometheusInitImage,N=e.updateAddField,T=e.isPageValid,D=e.selectedStorageClass,P=Object(i.useState)({}),z=Object(n.a)(P,2),w=z[0],E=z[1],R=Object(i.useCallback)((function(e,t){N("configure",e,t)}),[N]);Object(i.useEffect)((function(){var e=[];m&&(e=[].concat(Object(X.a)(e),[{fieldKey:"prometheus_storage_class",required:!0,value:y,customValidation:""===y,customValidationMessage:"Field cannot be empty"},{fieldKey:"prometheus_volume_size",required:!0,value:O,customValidation:""===O||parseInt(O)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"}])),j&&(e=[].concat(Object(X.a)(e),[{fieldKey:"log_search_storage_class",required:!0,value:v,customValidation:""===v,customValidationMessage:"Field cannot be empty"},{fieldKey:"log_search_volume_size",required:!0,value:p,customValidation:""===p||parseInt(p)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"}])),r&&(e=[].concat(Object(X.a)(e),[{fieldKey:"image",required:!1,value:s,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/minio:VERSION'"},{fieldKey:"logSearchImage",required:!1,value:g,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/logsearchapi:VERSION'"},{fieldKey:"kesImage",required:!1,value:h,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/kes:VERSION'"},{fieldKey:"logSearchPostgresImage",required:!1,value:f,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/postgres:VERSION'"},{fieldKey:"logSearchPostgresInitImage",required:!1,value:x,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/busybox:VERSION'"},{fieldKey:"prometheusImage",required:!1,value:C,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/prometheus:VERSION'"},{fieldKey:"prometheusSidecarImage",required:!1,value:S,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'project/container:VERSION'"},{fieldKey:"prometheusInitImage",required:!1,value:k,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/busybox:VERSION'"}]),c&&(e=[].concat(Object(X.a)(e),[{fieldKey:"registry",required:!0,value:o},{fieldKey:"registryUsername",required:!0,value:l},{fieldKey:"registryPassword",required:!0,value:d}])));var t=_(e);T("configure",0===Object.keys(t).length),E(t)}),[r,s,g,h,f,x,C,S,k,c,o,l,d,T,m,b,j,y,O,v,p]),Object(i.useEffect)((function(){a.length>0&&(0===a.filter((function(e){return e.value===y})).length&&R("prometheusSelectedStorageClass",D),0===a.filter((function(e){return e.value===v})).length&&R("logSearchSelectedStorageClass",D))}),[v,y,D,a,R]);var K=function(e){E(Object(A.a)(w,e))};return Object(F.jsxs)(Z.a,{className:t.paperWrapper,children:[Object(F.jsxs)("div",{className:t.headerElement,children:[Object(F.jsx)("h3",{className:t.h3Section,children:"Container Images"}),Object(F.jsx)("span",{className:t.descriptionText,children:"Images used by the Tenant Deployment"})]}),Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"image",name:"image",onChange:function(e){R("imageName",e.target.value),K("image")},label:"MinIO's Image",value:s,error:w.image||"",placeholder:"E.g. minio/minio:RELEASE.2021-08-20T18-32-01Z"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"logSearchImage",name:"logSearchImage",onChange:function(e){R("logSearchImage",e.target.value),K("logSearchImage")},label:"Log Search API's Image",value:g,error:w.logSearchImage||"",placeholder:"E.g. minio/logsearchapi:v4.1.1"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"kesImage",name:"kesImage",onChange:function(e){R("kesImage",e.target.value),K("kesImage")},label:"KES Image",value:h,error:w.kesImage||"",placeholder:"E.g. minio/kes:v0.14.0"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"logSearchPostgresImage",name:"logSearchPostgresImage",onChange:function(e){R("logSearchPostgresImage",e.target.value),K("logSearchPostgresImage")},label:"Log Search Postgres's Image",value:f,error:w.logSearchPostgresImage||"",placeholder:"E.g. library/postgres:13"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"logSearchPostgresInitImage",name:"logSearchPostgresInitImage",onChange:function(e){R("logSearchPostgresInitImage",e.target.value),K("logSearchPostgresInitImage")},label:"Log Search Postgres's Init Image",value:x,error:w.logSearchPostgresInitImage||"",placeholder:"E.g. library/busybox:1.33.1"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"prometheusImage",name:"prometheusImage",onChange:function(e){R("prometheusImage",e.target.value),K("prometheusImage")},label:"Prometheus Image",value:C,error:w.prometheusImage||"",placeholder:"E.g. quay.io/prometheus/prometheus:latest"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"prometheusSidecarImage",name:"prometheusSidecarImage",onChange:function(e){R("prometheusSidecarImage",e.target.value),K("prometheusSidecarImage")},label:"Prometheus Sidecar Image",value:S,error:w.prometheusSidecarImage||"",placeholder:"E.g. quay.io/prometheus/prometheus:latest"})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"prometheusInitImage",name:"prometheusInitImage",onChange:function(e){R("prometheusInitImage",e.target.value),K("prometheusInitImage")},label:"Prometheus Init Image",value:k,error:w.prometheusInitImage||"",placeholder:"E.g. quay.io/prometheus/prometheus:latest"})})]}),r&&Object(F.jsx)(i.Fragment,{children:Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(Q.a,{value:"custom_docker_hub",id:"custom_docker_hub",name:"custom_docker_hub",checked:c,onChange:function(e){var t=e.target.checked;R("customDockerhub",t)},label:"Set/Update Image Registry"})})}),c&&Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"registry",name:"registry",onChange:function(e){R("imageRegistry",e.target.value)},label:"Endpoint",value:o,error:w.registry||"",placeholder:"E.g. https://index.docker.io/v1/",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"registryUsername",name:"registryUsername",onChange:function(e){R("imageRegistryUsername",e.target.value)},label:"Username",value:l,error:w.registryUsername||"",required:!0})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(I.a,{id:"registryPassword",name:"registryPassword",onChange:function(e){R("imageRegistryPassword",e.target.value)},label:"Password",value:d,error:w.registryPassword||"",required:!0})})]})]})}))),Ae=Object(l.b)((function(e){return{namespace:e.tenants.createTenant.fields.nameTenant.namespace,validPages:e.tenants.createTenant.validPages,fields:e.tenants.createTenant.fields,certificates:e.tenants.createTenant.certificates,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass}}),{setErrorSnackMessage:f.e,updateAddField:C.t,resetAddTenantForm:C.m});t.default=Object(b.a)((function(e){return Object(m.a)(Object(r.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"}},j.m),j.E),j.u))}))(Ae((function(e){e.classes;var t=e.fields,a=e.certificates,s=e.selectedStorageClass,c=e.namespace,l=e.validPages,m=e.setErrorSnackMessage,b=e.resetAddTenantForm,j=Object(i.useState)(!1),f=Object(n.a)(j,2),v=f[0],y=f[1],C=Object(i.useState)(null),S=Object(n.a)(C,2),_=S[0],A=S[1],I=Object(i.useState)(!1),k=Object(n.a)(I,2),N=k[0],T=k[1];Object(i.useEffect)((function(){var e=t.nameTenant.tenantName,n=t.nameTenant.selectedStorageClass,i=t.configure.imageName,s=t.configure.customDockerhub,l=t.configure.imageRegistry,u=t.configure.imageRegistryUsername,d=t.configure.imageRegistryPassword,b=t.configure.exposeMinIO,j=t.configure.exposeConsole,h=t.identityProvider.idpSelection,f=t.identityProvider.openIDConfigurationURL,O=t.identityProvider.openIDClientID,v=t.identityProvider.openIDClaimName,C=t.identityProvider.openIDCallbackURL,S=t.identityProvider.openIDScopes,_=t.identityProvider.openIDSecretID,I=t.identityProvider.ADURL,k=t.identityProvider.ADSkipTLS,D=t.identityProvider.ADServerInsecure,P=t.identityProvider.ADUserNameSearchFilter,z=t.identityProvider.ADGroupSearchBaseDN,w=t.identityProvider.ADGroupSearchFilter,E=t.identityProvider.ADGroupNameAttribute,F=t.identityProvider.ADUserDNs,R=t.identityProvider.ADUserNameFormat,K=t.identityProvider.ADLookupBindDN,M=t.identityProvider.ADLookupBindPassword,G=t.identityProvider.ADUserDNSearchBaseDN,q=t.identityProvider.ADUserDNSearchFilter,L=t.identityProvider.ADServerStartTLS,V=t.identityProvider.accessKeys,U=t.identityProvider.secretKeys,B=a.minioCertificates,W=a.caCertificates,$=a.consoleCaCertificates,H=a.consoleCertificate,Z=a.serverCertificate,Y=a.clientCertificate,J=a.vaultCertificate,X=a.vaultCA,Q=a.gemaltoCA,ee=t.encryption.enableEncryption,te=t.encryption.encryptionType,ae=t.encryption.gemaltoEndpoint,ne=t.encryption.gemaltoToken,re=t.encryption.gemaltoDomain,ie=t.encryption.gemaltoRetry,se=t.encryption.awsEndpoint,ce=t.encryption.awsRegion,oe=t.encryption.awsKMSKey,le=t.encryption.awsAccessKey,ue=t.encryption.awsSecretKey,de=t.encryption.awsToken,me=t.encryption.vaultEndpoint,be=t.encryption.vaultEngine,je=t.encryption.vaultNamespace,pe=t.encryption.vaultPrefix,ge=t.encryption.vaultAppRoleEngine,he=t.encryption.vaultId,fe=t.encryption.vaultSecret,xe=t.encryption.vaultRetry,Oe=t.encryption.vaultPing,ve=t.encryption.azureEndpoint,ye=t.encryption.azureTenantID,Ce=t.encryption.azureClientID,Se=t.encryption.azureClientSecret,_e=t.encryption.gcpProjectID,Ae=t.encryption.gcpEndpoint,Ie=t.encryption.gcpClientEmail,ke=t.encryption.gcpClientID,Ne=t.encryption.gcpPrivateKeyID,Te=t.encryption.gcpPrivateKey,De=t.security.enableAutoCert,Pe=t.security.enableTLS,ze=t.tenantSize.ecParity,we=t.tenantSize.distribution,Ee=t.tenantSize.memorySize,Fe=t.configure.tenantCustom,Re=t.configure.logSearchCustom,Ke=t.configure.prometheusCustom,Me=t.configure.logSearchVolumeSize,Ge=t.configure.logSearchSelectedStorageClass,qe=t.configure.logSearchImage,Le=t.configure.kesImage,Ve=t.configure.logSearchPostgresImage,Ue=t.configure.logSearchPostgresInitImage,Be=t.configure.prometheusImage,We=t.configure.prometheusSidecarImage,$e=t.configure.prometheusInitImage,He=t.configure.prometheusSelectedStorageClass,Ze=t.configure.prometheusVolumeSize,Ye=t.affinity.podAffinity,Je=t.affinity.nodeSelectorLabels,Xe=t.affinity.withPodAntiAffinity,Qe=t.configure.tenantSecurityContext,et=t.configure.logSearchSecurityContext,tt=t.configure.logSearchPostgresSecurityContext,at=t.configure.prometheusSecurityContext,nt=t.encryption.kesSecurityContext,rt=t.encryption.replicas;if(N){var it=Object(g.h)([]),st={};switch(Ye){case"default":st={affinity:Object(x.a)(e,it)};break;case"nodeSelector":st={affinity:Object(x.b)(Je,Xe,e,it)}}var ct=ze.split(":")[1],ot={name:e,namespace:c,access_key:"",secret_key:"",access_keys:[],secret_keys:[],enable_tls:Pe&&De,enable_console:!0,enable_prometheus:!0,service_name:"",image:i,expose_minio:b,expose_console:j,pools:[Object(r.a)({name:it,servers:we.nodes,volumes_per_server:we.disks,volume_configuration:{size:we.pvSize,storage_class_name:n},resources:{requests:{memory:Ee.request},limits:{memory:Ee.limit}},securityContext:Fe?Qe:null},st)],erasureCodingParity:parseInt(ct,10)};s&&(ot=Object(r.a)(Object(r.a)({},ot),{},{image_registry:{registry:l,username:u,password:d}})),ot=Re?Object(r.a)(Object(r.a)({},ot),{},{logSearchConfiguration:{storageClass:Ge,storageSize:parseInt(Me),image:qe,postgres_image:Ve,postgres_init_image:Ue,securityContext:et,postgres_securityContext:tt}}):Object(r.a)(Object(r.a)({},ot),{},{logSearchConfiguration:{image:qe,postgres_image:Ve,postgres_init_image:Ue}}),ot=Ke?Object(r.a)(Object(r.a)({},ot),{},{prometheusConfiguration:{storageClass:He,storageSize:parseInt(Ze),image:Be,sidecar_image:We,init_image:$e,securityContext:at}}):Object(r.a)(Object(r.a)({},ot),{},{prometheusConfiguration:{image:Be,sidecar_image:We,init_image:$e}});var lt=null,ut=null,dt=null,mt=null;if(W.length>0&&(dt={ca_certificates:W.map((function(e){return e.encoded_cert})).filter((function(e){return e}))}),$.length>0&&(mt={console_ca_certificates:$.map((function(e){return e.encoded_cert})).filter((function(e){return e}))}),Pe&&B.length>0&&(lt={minio:B.map((function(e){return{crt:e.encoded_cert,key:e.encoded_key}})).filter((function(e){return e.crt&&e.key}))}),Pe&&""!==H.encoded_cert&&""!==H.encoded_key&&(ut={console:{crt:H.encoded_cert,key:H.encoded_key}}),(lt||ut||dt||mt)&&(ot=Object(r.a)(Object(r.a)({},ot),{},{tls:Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},lt),ut),dt),mt)})),ee){var bt={};switch(te){case"gemalto":var jt={};""!==Q.encoded_cert&&(jt={ca:Q.encoded_cert}),bt={gemalto:{keysecure:{endpoint:ae,credentials:{token:ne,domain:re,retry:parseInt(ie)},tls:Object(r.a)({},jt)}}};break;case"aws":bt={aws:{secretsmanager:{endpoint:se,region:ce,kmskey:oe,credentials:{accesskey:le,secretkey:ue,token:de}}}};break;case"azure":bt={azure:{keyvault:{endpoint:ve,credentials:{tenant_id:ye,client_id:Ce,client_secret:Se}}}};break;case"gcp":bt={gcp:{secretmanager:{project_id:_e,endpoint:Ae,credentials:{client_email:Ie,client_id:ke,private_key_id:Ne,private_key:Te}}}};break;case"vault":var pt=null,gt=null;""!==J.encoded_key&&""!==J.encoded_cert&&(pt={key:J.encoded_key,crt:J.encoded_cert}),""!==X.encoded_cert&&(gt={ca:X.encoded_cert});var ht=null;(pt||X)&&(ht={tls:Object(r.a)(Object(r.a)({},pt),gt)}),bt={vault:Object(r.a)(Object(r.a)({endpoint:me,engine:be,namespace:je,prefix:pe,approle:{engine:ge,id:he,secret:fe,retry:parseInt(xe)}},ht),{},{status:{ping:parseInt(Oe)}})}}var ft={},xt={};""!==Y.encoded_key&&""!==Y.encoded_cert&&(xt={client:{key:Y.encoded_key,crt:Y.encoded_cert}}),""!==Z.encoded_key&&""!==Z.encoded_cert&&(ft={server:{key:Z.encoded_key,crt:Z.encoded_cert}}),ot=Object(r.a)(Object(r.a)({},ot),{},{encryption:Object(r.a)(Object(r.a)(Object(r.a)({replicas:rt,securityContext:nt,image:Le},xt),ft),bt)})}var Ot={};switch(h){case"Built-in":for(var vt=[],yt=0;yt<V.length;yt++)vt.push({access_key:V[yt],secret_key:U[yt]});Ot={keys:vt};break;case"OpenID":Ot={oidc:{configuration_url:f,client_id:O,secret_id:_,claim_name:v,callback_url:C,scopes:S}};break;case"AD":Ot={active_directory:{url:I,skip_tls_verification:k,server_insecure:D,username_format:R,username_search_filter:P,group_search_base_dn:z,group_search_filter:w,group_name_attribute:E,user_dns:F,lookup_bind_dn:K,lookup_bind_password:M,user_dn_search_base_dn:G,user_dn_search_filter:q,server_start_tls:L}}}ot=Object(r.a)(Object(r.a)({},ot),{},{idp:Object(r.a)({},Ot)}),p.a.invoke("POST","/api/v1/tenants",ot).then((function(e){var t=o()(e,"console",[]),a={idp:o()(e,"externalIDP",!1),console:[]};if(t)if(Array.isArray(t)){var n=t.map((function(e){return{accessKey:e.access_key,secretKey:e.secret_key}}));a.console=n}else a={console:{accessKey:e.console.access_key,secretKey:e.console.secret_key}};T(!1),y(!0),A(a)})).catch((function(e){T(!1),m(e)}))}}),[N]);var D={label:"Cancel",type:"other",enabled:!0,action:function(){Ce.b.push("/tenants")}},P={label:"Create",type:"submit",enabled:!N&&""!==s&&["nameTenant","tenantSize","configure","affinity","identityProvider","security","encryption"].every((function(e){return l.includes(e)})),action:function(){T(!0)}},z=[{label:"Setup",componentRender:Object(F.jsx)(J,{}),buttons:[D,P]},{label:"Configure",advancedOnly:!0,componentRender:Object(F.jsx)(te,{}),buttons:[D,P]},{label:"Images",advancedOnly:!0,componentRender:Object(F.jsx)(_e,{}),buttons:[D,P]},{label:"Pod Placement",advancedOnly:!0,componentRender:Object(F.jsx)(ve,{}),buttons:[D,P]},{label:"Identity Provider",advancedOnly:!0,componentRender:Object(F.jsx)(be,{}),buttons:[D,P]},{label:"Security",advancedOnly:!0,componentRender:Object(F.jsx)(ge,{}),buttons:[D,P]},{label:"Encryption",advancedOnly:!0,componentRender:Object(F.jsx)(fe,{}),buttons:[D,P]}];return Object(F.jsxs)(i.Fragment,{children:[v&&Object(F.jsx)(O.a,{newServiceAccount:_,open:v,closeModal:function(){b(),Ce.b.push("/tenants")},entity:"Tenant"}),Object(F.jsx)(ye.a,{label:"Create New Tenant"}),Object(F.jsxs)(u.a,{container:!0,children:[N&&Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(d.a,{})}),Object(F.jsx)(u.a,{item:!0,xs:12,children:Object(F.jsx)(h.a,{wizardSteps:z})})]})]})})))}}]);
//# sourceMappingURL=28.5b703b03.chunk.js.map