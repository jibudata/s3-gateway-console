(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2818],{29316:function(e,t,a){"use strict";a(50390);var n=a(6369),s=a(86509),l=a(4285),r=a(63548),o=a(62559);t.Z=(0,l.Z)((function(e){return(0,s.Z)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"250px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center"}})}))((function(e){var t=e.to,a=e.label,s=e.classes,l=e.className;return(0,o.jsxs)(n.rU,{to:t,className:"".concat(s.link," ").concat(l||""),children:[(0,o.jsx)("div",{className:s.icon,children:(0,o.jsx)(r.xN,{})}),(0,o.jsx)("div",{className:s.label,children:a})]})}))},25534:function(e,t,a){"use strict";var n=a(18489),s=(a(50390),a(25594)),l=a(86509),r=a(4285),o=a(72462),i=a(62559);t.Z=(0,r.Z)((function(e){return(0,l.Z)((0,n.Z)({},o.Bw))}))((function(e){var t=e.classes,a=e.className,n=void 0===a?"":a,l=e.children;return(0,i.jsx)("div",{className:t.contentSpacer,children:(0,i.jsx)(s.ZP,{container:!0,children:(0,i.jsx)(s.ZP,{item:!0,xs:12,className:n,children:l})})})}))},35721:function(e,t,a){"use strict";a(50390);var n=a(34424),s=a(56805),l=a(25594),r=a(86509),o=a(4285),i=a(35477),c=a(95467),d=a(26805),u=a(44078),m=a(5265),h=a(63548),g=a(62559),f={toggleList:m.kQ},b=(0,n.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),f);t.Z=b((0,o.Z)((function(e){return(0,r.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var t=e.classes,a=e.label,n=e.actions,r=e.sidebarOpen,o=e.operatorMode,m=e.managerObjects,f=e.toggleList;return(0,g.jsxs)(l.ZP,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,g.jsx)(s.Z,{display:{xs:"block",sm:"block",md:"none"},children:(0,g.jsx)(l.ZP,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),(0,g.jsxs)(l.ZP,{item:!0,xs:12,sm:12,md:6,className:t.label,children:[!r&&(0,g.jsx)("div",{className:t.logo,children:o?(0,g.jsx)(d.Z,{}):(0,g.jsx)(u.Z,{})}),(0,g.jsx)(i.Z,{variant:"h4",className:t.labelStyle,children:a})]}),(0,g.jsxs)(l.ZP,{item:!0,xs:12,sm:12,md:6,className:t.rightMenu,children:[n&&n,m&&m.length>0&&(0,g.jsx)(c.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){f()},size:"large",children:(0,g.jsx)(h.gx,{})})]})]})})))},12818:function(e,t,a){"use strict";a.r(t);var n=a(23430),s=a(18489),l=a(50390),r=a(25594),o=a(12066),i=a(66946),c=a(69686),d=a(34424),u=a(97687),m=a(86509),h=a(4285),g=a(28948),f=a(51774),b=a(72462),p=a(8174),x=a(35721),Z=a(54950),j=a(60606),v=a.n(j),y=a(29316),S=a(25534),C=a(62559),k=null,w=(0,d.$j)((function(e){return{messages:e.trace.messages,traceStarted:e.trace.traceStarted}}),{traceMessageReceived:u.ho,traceResetMessages:u.At,setTraceStarted:u.qv});t.default=w((0,h.Z)((function(e){return(0,m.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({sizeItem:{width:150},timeItem:{width:100},startButton:{textAlign:"right"}},b.OR),b.qg),b.bp),b.VX),{},{searchField:(0,s.Z)((0,s.Z)({},b.qg.searchField),{},{margin:"0 5px","&:first-of-type":{marginLeft:0},"&:last-of-type":{marginRight:0}}),tableWrapper:{height:"calc(100vh - 292px)"},inlineCheckboxes:(0,s.Z)((0,s.Z)({},b.IX.inlineCheckboxes),{},{alignItems:"center","@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start"}}),checkBoxLabel:{marginTop:10,fontSize:16,fontWeight:500},formBox:{border:"1px solid #EAEAEA",padding:15,marginBottom:15},midColumnCheckboxes:{display:"flex"},separatorBar:{fontSize:16,fontWeight:700,paddingTop:19,"@media (max-width: 900px)":{display:"none"}}},(0,b.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,a=e.traceMessageReceived,s=e.traceResetMessages,d=e.setTraceStarted,u=e.traceStarted,m=e.messages,h=(0,l.useState)(""),b=(0,n.Z)(h,2),j=b[0],w=b[1],N=(0,l.useState)(""),_=(0,n.Z)(N,2),I=_[0],T=_[1],P=(0,l.useState)(""),F=(0,n.Z)(P,2),M=F[0],O=F[1],B=(0,l.useState)(""),L=(0,n.Z)(B,2),E=L[0],z=L[1],R=(0,l.useState)(0),U=(0,n.Z)(R,2),D=U[0],W=U[1],A=(0,l.useState)(!1),K=(0,n.Z)(A,2),H=K[0],Y=K[1],q=(0,l.useState)(!0),G=(0,n.Z)(q,2),V=G[0],X=G[1],$=(0,l.useState)(!1),J=(0,n.Z)($,2),Q=J[0],ee=J[1],te=(0,l.useState)(!1),ae=(0,n.Z)(te,2),ne=ae[0],se=ae[1],le=(0,l.useState)(!1),re=(0,n.Z)(le,2),oe=re[0],ie=re[1],ce=(0,l.useState)(!1),de=(0,n.Z)(ce,2),ue=de[0],me=de[1];return(0,C.jsxs)(l.Fragment,{children:[(0,C.jsx)(x.Z,{label:"Trace"}),(0,C.jsx)(y.Z,{to:"/tools",label:"Return to Tools"}),(0,C.jsxs)(S.Z,{children:[(0,C.jsxs)(r.ZP,{xs:12,className:t.formBox,children:[(0,C.jsxs)(r.ZP,{item:!0,xs:12,className:t.actionsTray,children:[(0,C.jsx)(o.Z,{className:t.searchField,id:"status-code",label:"Status Code",InputProps:{disableUnderline:!0},value:j,onChange:function(e){w(e.target.value)},disabled:u,variant:"standard"}),(0,C.jsx)(o.Z,{className:t.searchField,id:"method",label:"Method",InputProps:{disableUnderline:!0},value:I,onChange:function(e){T(e.target.value)},disabled:u,variant:"standard"}),(0,C.jsx)(o.Z,{label:"Function Name",className:t.searchField,id:"func-name",disabled:u,InputProps:{disableUnderline:!0},value:M,onChange:function(e){O(e.target.value)},variant:"standard"}),(0,C.jsx)(o.Z,{className:t.searchField,id:"path",label:"Path",disabled:u,InputProps:{disableUnderline:!0},value:E,onChange:function(e){z(e.target.value)},variant:"standard"}),(0,C.jsx)(o.Z,{type:"number",className:t.searchField,id:"fthreshold",label:"Response Threshold",disabled:u,InputProps:{disableUnderline:!0},inputProps:{min:0},value:D,onChange:function(e){W(parseInt(e.target.value))},variant:"standard"})]}),(0,C.jsxs)(r.ZP,{item:!0,xs:12,className:t.inlineCheckboxes,children:[(0,C.jsx)("div",{className:t.checkBoxLabel,children:"Calls to trace:"}),(0,C.jsxs)("div",{className:t.midColumnCheckboxes,children:[(0,C.jsx)(Z.Z,{checked:H,id:"all_calls",name:"all_calls",label:"All",onChange:function(e){Y(e.target.checked)},value:"all",disabled:u}),(0,C.jsx)(Z.Z,{checked:V||H,id:"s3_calls",name:"s3_calls",label:"S3",onChange:function(e){X(e.target.checked)},value:"s3",disabled:H||u}),(0,C.jsx)(Z.Z,{checked:Q||H,id:"internal_calls",name:"internal_calls",label:"Internal",onChange:function(e){ee(e.target.checked)},value:"internal",disabled:H||u}),(0,C.jsx)(Z.Z,{checked:ne||H,id:"storage_calls",name:"storage_calls",label:"Storage",onChange:function(e){se(e.target.checked)},value:"storage",disabled:H||u}),(0,C.jsx)(Z.Z,{checked:oe||H,id:"os_calls",name:"os_calls",label:"OS",onChange:function(e){ie(e.target.checked)},value:"os",disabled:H||u}),(0,C.jsx)("span",{className:t.separatorBar,children:"\xa0 \xa0 \xa0 | \xa0 \xa0 \xa0"})]}),(0,C.jsx)(Z.Z,{checked:ue,id:"only_errors",name:"only_errors",label:"Display only Errors",onChange:function(e){me(e.target.checked)},value:"only_errors",disabled:u})]}),(0,C.jsxs)(r.ZP,{item:!0,xs:12,className:t.startButton,children:[!u&&(0,C.jsx)(i.Z,{type:"submit",variant:"contained",color:"primary",disabled:u,onClick:function(){s();var e=new URL(window.location.toString()),t=e.port,n="".concat(V?"s3,":"").concat(Q?"internal,":"").concat(ne?"storage,":"").concat(oe?"os,":"");H&&(n="all");var l=(0,f.x2)(e.protocol);k=new c.w3cwebsocket("".concat(l,"://").concat(e.hostname,":").concat(t,"/ws/trace?calls=").concat(n,"&threshold=").concat(D,"&onlyErrors=").concat(ue?"yes":"no","&statusCode=").concat(j,"&method=").concat(I,"&funcname=").concat(M,"&path=").concat(E));var r=null;if(null!==k)return k.onopen=function(){console.log("WebSocket Client Connected"),d(!0),k.send("ok"),r=setInterval((function(){k.send("ok")}),1e4)},k.onmessage=function(e){var t=JSON.parse(e.data.toString());t.ptime=v()(t.time,"YYYY-MM-DD HH:mm:s.SSSS +0000 UTC").toDate(),t.key=Math.random(),a(t)},k.onclose=function(){clearInterval(r),console.log("connection closed by server"),d(!1)},function(){k.close(1e3),clearInterval(r),console.log("closing websockets"),d(!1)}},children:"Start"}),u&&(0,C.jsx)(i.Z,{type:"button",variant:"contained",color:"primary",onClick:function(){k.close(1e3),d(!1)},children:"Stop"})]})]}),(0,C.jsx)(r.ZP,{item:!0,xs:12,className:t.tableBlock,children:(0,C.jsx)(p.Z,{itemActions:[],columns:[{label:"Time",elementKey:"ptime",renderFunction:function(e){var t=new Date(e);return(0,g.zk)(t)},globalClass:t.timeItem},{label:"Name",elementKey:"api"},{label:"Status",elementKey:"",renderFunction:function(e){return"".concat(e.statusCode," ").concat(e.statusMsg)},renderFullObject:!0},{label:"Location",elementKey:"configuration_id",renderFunction:function(e){return"".concat(e.host," ").concat(e.client)},renderFullObject:!0},{label:"Load Time",elementKey:"callStats.duration",globalClass:t.timeItem},{label:"Upload",elementKey:"callStats.rx",renderFunction:g.ae,globalClass:t.sizeItem},{label:"Download",elementKey:"callStats.tx",renderFunction:g.ae,globalClass:t.sizeItem}],isLoading:!1,records:m,entityName:"Traces",idField:"api",customEmptyMessage:u?"No Traced elements received yet":"Trace is not started yet",customPaperHeight:t.tableWrapper,autoScrollToBottom:!0})})]})]})})))},51774:function(e,t,a){"use strict";a.d(t,{V9:function(){return n},ci:function(){return s},HE:function(){return l},x2:function(){return r}});var n=1006,s=1008,l=1011,r=function(e){var t="ws";return"https:"===e&&(t="wss"),t}},3930:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},69686:function(e,t,a){var n;if("object"===typeof globalThis)n=globalThis;else try{n=a(3930)}catch(o){}finally{if(n||"undefined"===typeof window||(n=window),!n)throw new Error("Could not determine global this")}var s=n.WebSocket||n.MozWebSocket,l=a(84994);function r(e,t){return t?new s(e,t):new s(e)}s&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(r,e,{get:function(){return s[e]}})})),e.exports={w3cwebsocket:s?r:null,version:l}},84994:function(e,t,a){e.exports=a(19794).version},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=2818.d1afde1a.chunk.js.map