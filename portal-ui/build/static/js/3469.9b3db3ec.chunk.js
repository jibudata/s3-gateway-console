"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3469,91],{57314:function(e,n,t){var i=t(1413),o=t(72791),a=t(61889),r=t(30829),l=t(20068),s=t(27391),c=t(11135),u=t(25787),d=t(23814),f=t(75952),p=t(80184);n.Z=(0,u.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},d.YI),d.Hr),{},{inputLabel:(0,i.Z)((0,i.Z)({},d.YI.inputLabel),{},{fontSize:14,margin:0,alignItems:"flex-start",paddingTop:"20px",flexWrap:"wrap",display:"flex"}),textBoxContainer:{flexGrow:1,position:"relative"},cssOutlinedInput:{borderColor:"#EAEAEA",padding:16},rootContainer:{"& .MuiOutlinedInput-inputMultiline":(0,i.Z)((0,i.Z)({},d.YI.inputLabel),{},{fontSize:13,minHeight:150}),"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#07193E",borderWidth:1},"& textarea":{color:"#07193E",fontSize:13,fontWeight:600,"&:placeholder":{color:"#858585",opacity:1,fontWeight:400}}}}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,c=e.id,u=e.name,d=e.disabled,h=void 0!==d&&d,m=e.tooltip,x=void 0===m?"":m,v=e.index,g=void 0===v?0:v,b=e.error,Z=void 0===b?"":b,j=e.required,y=void 0!==j&&j,C=e.placeholder,k=void 0===C?"":C,w=e.classes,E={"data-index":g};return(0,p.jsx)(o.Fragment,{children:(0,p.jsxs)(a.ZP,{item:!0,xs:12,className:"".concat(w.fieldContainer," ").concat(""!==Z?w.errorInField:""),children:[""!==n&&(0,p.jsxs)(r.Z,{htmlFor:c,className:w.inputLabel,children:[(0,p.jsxs)("span",{children:[n,y?"*":""]}),""!==x&&(0,p.jsx)("div",{className:w.tooltipContainer,children:(0,p.jsx)(l.Z,{title:x,placement:"top-start",children:(0,p.jsx)("div",{className:w.tooltip,children:(0,p.jsx)(f.byK,{})})})})]}),(0,p.jsx)("div",{className:w.textBoxContainer,children:(0,p.jsx)(s.Z,{id:c,name:u,fullWidth:!0,value:i,disabled:h,onChange:t,multiline:!0,rows:5,inputProps:E,error:""!==Z,helperText:Z,placeholder:k,InputLabelProps:{shrink:!0},InputProps:{classes:{notchedOutline:w.cssOutlinedInput,root:w.rootContainer}},variant:"outlined"})})]})})}))},14662:function(e,n,t){t.d(n,{Z:function(){return P}});var i=t(1413),o=t(29439),a=t(72791),r=t(64554),l=t(43896),s=t(80184),c=a.createContext(null);function u(e){var n=e.children,t=e.value,i=function(){var e=a.useState(null),n=(0,o.Z)(e,2),t=n[0],i=n[1];return a.useEffect((function(){i("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),r=a.useMemo((function(){return{idPrefix:i,value:t}}),[i,t]);return(0,s.jsx)(c.Provider,{value:r,children:n})}function d(){return a.useContext(c)}function f(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function p(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}var h=t(87462),m=t(63366),x=t(18073),v=["children"],g=a.forwardRef((function(e,n){var t=e.children,i=(0,m.Z)(e,v),o=d();if(null===o)throw new TypeError("No TabContext provided");var r=a.Children.map(t,(function(e){return a.isValidElement(e)?a.cloneElement(e,{"aria-controls":f(o,e.props.value),id:p(o,e.props.value)}):null}));return(0,s.jsx)(x.Z,(0,h.Z)({},i,{ref:n,value:o.value,children:r}))})),b=t(28182),Z=t(66934),j=t(31402),y=t(94419),C=t(21217);function k(e){return(0,C.Z)("MuiTabPanel",e)}(0,t(75878).Z)("MuiTabPanel",["root"]);var w=["children","className","value"],E=(0,Z.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),_=a.forwardRef((function(e,n){var t=(0,j.Z)({props:e,name:"MuiTabPanel"}),i=t.children,o=t.className,a=t.value,r=(0,m.Z)(t,w),l=(0,h.Z)({},t),c=function(e){var n=e.classes;return(0,y.Z)({root:["root"]},k,n)}(l),u=d();if(null===u)throw new TypeError("No TabContext provided");var x=f(u,a),v=p(u,a);return(0,s.jsx)(E,(0,h.Z)({"aria-labelledby":v,className:(0,b.Z)(c.root,o),hidden:a!==u.value,id:x,ref:n,role:"tabpanel",ownerState:l},r,{children:a===u.value&&i}))})),S=t(25787),T=t(13967),M=t(11135),I=t(95193),N=t(57689),A={minHeight:60},P=(0,S.Z)((function(e){return(0,M.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,c=e.selectedTab,d=void 0===c?"0":c,f=e.routes,p=e.isRouteTabs,h=(0,T.Z)(),m=(0,N.TH)().pathname,x=void 0===m?"":m,v=(0,I.Z)(h.breakpoints.down("md")),b=(0,a.useState)(d),Z=(0,o.Z)(b,2),j=Z[0],y=Z[1],C=[],k=[];if((0,a.useEffect)((function(){if(p){var e=n.find((function(e){return e.tabConfig.to===x}));e&&y(e.tabConfig.value)}}),[p,n,x]),!n)return null;n.forEach((function(e){C.push(e.tabConfig),k.push(e.content)}));return(0,s.jsx)(u,{value:"".concat(j),children:(0,s.jsxs)(r.Z,{className:t.tabsContainer,children:[(0,s.jsx)(r.Z,{className:t.tabsHeaderContainer,children:(0,s.jsx)(g,{onChange:function(e,n){y(n)},orientation:v?"horizontal":"vertical",variant:v?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:C.map((function(e,n){return e?(0,s.jsx)(l.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:A},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,s.jsxs)(r.Z,{className:t.tabContentContainer,children:[p?null:k.map((function(e,n){return(0,s.jsx)(_,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),p?(0,s.jsx)("div",{className:t.tabPanel,children:f}):null]})]})})}))},23469:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i=t(1413),o=t(72791),a=t(11135),r=t(25787),l=t(61889),s=t(58493),c=t(23814),u=t(75952),d=t(57689),f=t(11087),p=t(14662),h=t(74794),m=t(14917),x=t(29439),v=t(26181),g=t.n(v),b=t(64554),Z=t(81207),j=t(10091),y=t(40986),C=t(51691),k=t(23508),w=t(87995),E=t(25469),_=t(80184),S=(0,r.Z)((function(e){return(0,a.Z)((0,i.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},c.Qw))}))((function(e){var n=e.classes,t=e.configurationName,i=e.closeResetModalAndRefresh,a=e.resetOpen,r=(0,E.TL)(),l=(0,o.useState)(!1),s=(0,x.Z)(l,2),c=s[0],d=s[1];(0,o.useEffect)((function(){c&&Z.Z.invoke("POST","/api/v1/configs/".concat(t,"/reset")).then((function(e){d(!1),i(!0)})).catch((function(e){d(!1),r((0,w.Ih)(e))}))}),[i,t,c,r]);return(0,_.jsx)(k.Z,{title:"Restore Defaults",confirmText:"Yes, Reset Configuration",isOpen:a,titleIcon:(0,_.jsx)(u.NvT,{}),isLoading:c,onConfirm:function(){d(!0)},onClose:function(){i(!1)},confirmationContent:(0,_.jsxs)(o.Fragment,{children:[c&&(0,_.jsx)(y.Z,{}),(0,_.jsxs)(C.Z,{children:["Are you sure you want to restore these configurations to default values?",(0,_.jsx)("br",{}),(0,_.jsx)("b",{className:n.wrapText,children:"Please note that this may cause your system to not be accessible"})]})]})})})),T=t(93433),M=t(21435),I=t(56028),N=(0,t(76189).Z)((0,_.jsx)("path",{d:"M10 15h5.88c.27-.31.67-.5 1.12-.5.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.44 0-.84-.19-1.12-.5H11.9c-.46 2.28-2.48 4-4.9 4-2.76 0-5-2.24-5-5 0-2.42 1.72-4.44 4-4.9v2.07c-1.16.41-2 1.53-2 2.83 0 1.65 1.35 3 3 3s3-1.35 3-3v-1zm2.5-11c1.65 0 3 1.35 3 3h2c0-2.76-2.24-5-5-5s-5 2.24-5 5c0 1.43.6 2.71 1.55 3.62l-2.35 3.9c-.68.14-1.2.75-1.2 1.48 0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5c0-.16-.02-.31-.07-.45l3.38-5.63C10.49 9.61 9.5 8.42 9.5 7c0-1.65 1.35-3 3-3zm4.5 9c-.64 0-1.23.2-1.72.54l-3.05-5.07C11.53 8.35 11 7.74 11 7c0-.83.67-1.5 1.5-1.5S14 6.17 14 7c0 .15-.02.29-.06.43l2.19 3.65c.28-.05.57-.08.87-.08 2.76 0 5 2.24 5 5s-2.24 5-5 5c-1.85 0-3.47-1.01-4.33-2.5h2.67c.48.32 1.05.5 1.66.5 1.65 0 3-1.35 3-3s-1.35-3-3-3z"}),"Webhook"),A=t(13901),P=t(36909),R=function(e){var n=e.open,t=e.type,a=e.onCloseEndpoint,r=(0,o.useState)(""),l=(0,x.Z)(r,2),s=l[0],d=l[1],f=(0,o.useState)(""),p=(0,x.Z)(f,2),h=p[0],m=p[1],v=(0,o.useState)(""),g=(0,x.Z)(v,2),b=g[0],j=g[1],C=(0,o.useState)(!1),k=(0,x.Z)(C,2),S=k[0],R=k[1],F=(0,o.useState)(["name","endpoint"]),z=(0,x.Z)(F,2),L=z[0],q=z[1],W=(0,o.useState)(["name","endpoint","auth-token"]),D=(0,x.Z)(W,2),H=D[0],O=D[1],B=(0,E.TL)(),V=function(e){O(H.filter((function(n){return n!==e})))},Y=function(e,n){L.includes(e)&&n?q(L.filter((function(n){return n!==e}))):n||L.includes(e)||q([].concat((0,T.Z)(L),[e]))},K="Add new Webhook",U=(0,_.jsx)(N,{});switch(t){case"logger_webhook":K="New Logger Webhook",U=(0,_.jsx)(A.Z,{});break;case"audit_webhook":K="New Audit Webhook",U=(0,_.jsx)(P.Z,{})}return(0,_.jsx)(o.Fragment,{children:(0,_.jsxs)(I.Z,{modalOpen:n,title:K,onClose:a,titleIcon:U,children:[(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:(0,i.Z)({},c.DF.formFieldRow),children:(0,_.jsx)(M.Z,{id:"name",name:"name",onChange:function(e){V("name"),d(e.target.value),Y("name",e.target.validity.valid)},error:L.includes("name")&&!H.includes("name")?"Invalid Name":"",label:"Name",value:s,pattern:"^(?=.*[a-zA-Z0-9]).{1,}$",required:!0})}),(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:(0,i.Z)({},c.DF.formFieldRow),children:(0,_.jsx)(M.Z,{id:"endpoint",name:"endpoint",onChange:function(e){V("endpoint"),m(e.target.value),Y("endpoint",e.target.validity.valid)},error:L.includes("endpoint")&&!H.includes("endpoint")?"Invalid Endpoint set":"",label:"Endpoint",value:h,pattern:"^(https?):\\/\\/([a-zA-Z0-9\\-.]+)(:[0-9]+)?(\\/[a-zA-Z0-9\\-.\\/]*)?$",required:!0})}),(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:(0,i.Z)({},c.DF.formFieldRow),children:(0,_.jsx)(M.Z,{id:"auth-token",name:"auth-token",onChange:function(e){V("auth-token"),j(e.target.value)},label:"Auth Token",value:b})}),S&&(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:{marginBottom:10},children:(0,_.jsx)(y.Z,{})}),(0,_.jsxs)(u.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,_.jsx)(u.zxk,{id:"reset",type:"button",variant:"regular",disabled:S,onClick:a,label:"Cancel",sx:{marginRight:10}}),(0,_.jsx)(u.zxk,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:S||0!==L.length,label:"Save",onClick:function(){if(!S&&0===L.length)if(""!==s.trim())if(""!==h.trim()){R(!0);var e={key_values:[{key:"endpoint",value:h},{key:"auth_token",value:b}],arn_resource_id:s};Z.Z.invoke("PUT","/api/v1/configs/".concat(t),e).then((function(e){R(!1),B((0,w.cN)(e.restart)),e.restart||B((0,w.y1)("Configuration saved successfully")),a(),B((0,w.Ie)(!0))})).catch((function(e){R(!1),B((0,w.Ih)(e))}))}else q([].concat((0,T.Z)(L),["endpoint"]));else q([].concat((0,T.Z)(L),["name"]))}})]})]})})},F=function(e){var n=e.modalOpen,t=e.onClose,i=e.selectedARN,a=(e.type,(0,o.useState)(!1)),r=(0,x.Z)(a,2),l=r[0],s=r[1],c=(0,E.TL)();(0,o.useEffect)((function(){l&&Z.Z.invoke("POST","/api/v1/configs/".concat(i,"/reset")).then((function(){s(!1),c((0,w.cN)(!0)),c((0,w.Ie)(!0)),t()})).catch((function(e){s(!1),c((0,w.Ih)(e))}))}),[l,c,t,i]);var d=!i.includes(":"),f="Are you sure you want to delete the Configured Endpoint";return d&&(f="Are you sure you want to reset the Default"),(0,_.jsx)(k.Z,{title:d?"Reset Default Webhook":"Delete Webhook",confirmText:d?"Reset":"Delete",isOpen:n,isLoading:l,onConfirm:function(){s(!0)},titleIcon:(0,_.jsx)(u.NvT,{}),onClose:t,confirmationContent:(0,_.jsxs)(C.Z,{children:["".concat(f," "),(0,_.jsx)("strong",{children:i}),"?"]})})},z=t(37516),L=function(e){var n=e.open,t=e.type,a=e.endpointInfo,r=e.onCloseEndpoint,l=(0,o.useState)(""),s=(0,x.Z)(l,2),d=s[0],f=s[1],p=(0,o.useState)(""),h=(0,x.Z)(p,2),m=h[0],v=h[1],g=(0,o.useState)(""),b=(0,x.Z)(g,2),j=b[0],C=b[1],k=(0,o.useState)("on"),S=(0,x.Z)(k,2),R=S[0],F=S[1],L=(0,o.useState)(!1),q=(0,x.Z)(L,2),W=q[0],D=q[1],H=(0,o.useState)([]),O=(0,x.Z)(H,2),B=O[0],V=O[1],Y=(0,E.TL)();(0,o.useEffect)((function(){if(a){var e=a.key_values.find((function(e){return"endpoint"===e.key})),n=a.key_values.find((function(e){return"auth_token"===e.key})),t=a.key_values.find((function(e){return"enable"===e.key})),i=[];if(e){var o=e.value;""===o?i.push("endpoint"):v(o)}if(n){var r=n.value;""===r?i.push("auth-token"):C(r)}t&&"off"===t.value&&F(t.value),f(a.name||""),V(i)}}),[a]);var K=!d.includes(":"),U="Edit Webhook",G=(0,_.jsx)(N,{});switch(t){case"logger_webhook":U="Edit ".concat(K?" the Default ":"","Logger Webhook"),G=(0,_.jsx)(A.Z,{});break;case"audit_webhook":U="Edit ".concat(K?" the Default ":"","Audit Webhook"),G=(0,_.jsx)(P.Z,{})}return(0,_.jsx)(o.Fragment,{children:(0,_.jsxs)(I.Z,{modalOpen:n,title:"".concat(U).concat(K?"":" - ".concat(d)),onClose:r,titleIcon:G,children:[(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:(0,i.Z)({},c.DF.formFieldRow),children:(0,_.jsx)(z.Z,{onChange:function(e){var n=e.target.checked?"on":"off";F(n)},id:"endpoint_enabled",name:"endpoint_enabled",label:"Enabled",value:"switch_on",checked:"on"===R})}),(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:(0,i.Z)({},c.DF.formFieldRow),children:(0,_.jsx)(M.Z,{id:"endpoint",name:"endpoint",onChange:function(e){v(e.target.value),function(e,n){B.includes(e)&&n?V(B.filter((function(n){return n!==e}))):n||B.includes(e)||V([].concat((0,T.Z)(B),[e]))}("endpoint",e.target.validity.valid)},error:B.includes("endpoint")?"Invalid Endpoint set":"",label:"Endpoint",value:m,pattern:"^(https?):\\/\\/([a-zA-Z0-9\\-.]+)(:[0-9]+)?(\\/[a-zA-Z0-9\\-.\\/]*)?$",required:!0})}),(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:(0,i.Z)({},c.DF.formFieldRow),children:(0,_.jsx)(M.Z,{id:"auth-token",name:"auth-token",onChange:function(e){C(e.target.value)},label:"Auth Token",value:j})}),W&&(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:{marginBottom:10},children:(0,_.jsx)(y.Z,{})}),(0,_.jsxs)(u.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,_.jsx)(u.zxk,{id:"reset",type:"button",variant:"regular",disabled:W,onClick:r,label:"Cancel",sx:{marginRight:10}}),(0,_.jsx)(u.zxk,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:W||0!==B.length,label:"Update",onClick:function(){if(!W&&0===B.length)if(m&&""!==m.trim()){D(!0);var e={key_values:[{key:"endpoint",value:m},{key:"auth_token",value:j},{key:"enable",value:R}]};Z.Z.invoke("PUT","/api/v1/configs/".concat(d),e).then((function(e){D(!1),Y((0,w.cN)(e.restart)),e.restart||Y((0,w.y1)("Configuration saved successfully")),r(),Y((0,w.Ie)(!0))})).catch((function(e){D(!1),Y((0,w.Ih)(e))}))}else V([].concat((0,T.Z)(B),["endpoint"]))}})]})]})})},q=function(e){e.setResetConfigurationOpen;var n=e.WebhookSettingslist,t=e.type,i=(0,o.useState)(!1),a=(0,x.Z)(i,2),r=a[0],l=a[1],s=(0,o.useState)(!1),c=(0,x.Z)(s,2),d=c[0],f=c[1],p=(0,o.useState)(!1),h=(0,x.Z)(p,2),m=h[0],v=h[1],g=(0,o.useState)(""),b=(0,x.Z)(g,2),Z=b[0],j=b[1],y=(0,o.useState)(null),C=(0,x.Z)(y,2),k=C[0],w=C[1],E=[{type:"view",onClick:function(e){e.name&&(v(!0),w(e))}},{type:"delete",onClick:function(e){e.name&&(f(!0),j(e.name))}}];return(0,_.jsxs)(u.rjZ,{container:!0,children:[r&&(0,_.jsx)(R,{open:r,type:t,onCloseEndpoint:function(){l(!1)}}),d&&(0,_.jsx)(F,{modalOpen:d,onClose:function(){f(!1),j("")},selectedARN:Z,type:t}),m&&k&&(0,_.jsx)(L,{open:m,type:t,endpointInfo:k,onCloseEndpoint:function(){v(!1),w(null)}}),(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,_.jsx)(u.zxk,{id:"newWebhook",variant:"callAction",onClick:function(){l(!0)},children:"New Endpoint"})}),(0,_.jsx)(u.rjZ,{item:!0,xs:12,sx:{padding:"0 10px 10px"},children:(0,_.jsxs)(o.Fragment,{children:[(0,_.jsx)("h3",{children:"Currently Configured Endpoints"}),(0,_.jsx)(u.wQF,{columns:[{label:"Status",elementKey:"key_values",renderFunction:function(e){var n=e.find((function(e){return"enable"===e.key}));return n&&"on"!==n.value?(0,_.jsxs)(u.rjZ,{container:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"start",fontSize:"8px"},children:[(0,_.jsx)(u.qwj,{style:{fill:"#C83B51"}}),"Disabled"]}):(0,_.jsxs)(u.rjZ,{container:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"start",fontSize:"8px"},children:[(0,_.jsx)(u.Yp9,{style:{fill:"#4CCB92"}}),"Enabled"]})},width:50},{label:"Name",elementKey:"name"},{label:"Endpoint",elementKey:"key_values",renderFunction:function(e){var n=e.find((function(e){return"endpoint"===e.key}));return n?n.value:""}}],itemActions:E,idField:"name",isLoading:!1,records:n,entityName:"endpoints",customPaperHeight:"calc(100vh - 750px)"})]})})]})},W=t(78687),D=(0,r.Z)((function(e){return(0,a.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},c.YI),c.Je),{},{settingsFormContainer:{display:"grid",gridTemplateColumns:"1fr",gridGap:"10px"}}))}))((function(e){var n=e.selectedConfiguration,t=e.classes,i=e.className,a=void 0===i?"":i,r=(0,E.TL)(),c=(0,d.s0)(),f=(0,d.TH)().pathname,p=void 0===f?"":f,h=p.substring(p.lastIndexOf("/")+1);h="settings"===h?"region":h;var m=(0,o.useState)([]),v=(0,x.Z)(m,2),y=v[0],C=v[1],k=(0,o.useState)(!1),T=(0,x.Z)(k,2),M=T[0],I=T[1],N=(0,o.useState)([]),A=(0,x.Z)(N,2),P=A[0],R=A[1],F=(0,o.useState)([]),z=(0,x.Z)(F,2),L=z[0],D=z[1],H=(0,o.useState)(!1),O=(0,x.Z)(H,2),B=O[0],V=O[1],Y=(0,W.v9)((function(e){return e.system.loadingConfigurations}));(0,o.useEffect)((function(){r((0,w.Ie)(!0))}),[h,r]),(0,o.useEffect)((function(){if(Y){var e=g()(n,"configuration_id",!1);if(e)return void Z.Z.invoke("GET","/api/v1/configs/".concat(e)).then((function(e){D(e);var n=g()(e[0],"key_values",[]);R(n),r((0,w.Ie)(!1))})).catch((function(e){r((0,w.Ie)(!1)),r((0,w.Ih)(e))}));r((0,w.Ie)(!1))}}),[Y,n,r]),(0,o.useEffect)((function(){if(M){var e={key_values:(0,s.DD)(y)};Z.Z.invoke("PUT","/api/v1/configs/".concat(n.configuration_id),e).then((function(e){I(!1),r((0,w.cN)(e.restart)),r((0,w.Ie)(!0)),e.restart||r((0,w.y1)("Configuration saved successfully"))})).catch((function(e){I(!1),r((0,w.Ih)(e))}))}}),[M,r,n,y,c]);var K=(0,o.useCallback)((function(e){C(e)}),[C]),U=function(){V(!0)};return(0,_.jsxs)(o.Fragment,{children:[B&&(0,_.jsx)(S,{configurationName:n.configuration_id,closeResetModalAndRefresh:function(e){V(!1),r((0,w.cN)(e)),e&&r((0,w.Ie)(!0))},resetOpen:B}),Y?(0,_.jsx)(l.ZP,{item:!0,xs:12,sx:{textAlign:"center",paddingTop:"15px"},children:(0,_.jsx)(u.aNw,{})}):(0,_.jsx)(b.Z,{sx:{padding:"15px",height:"100%"},children:"logger_webhook"===n.configuration_id||"audit_webhook"===n.configuration_id?(0,_.jsx)(q,{WebhookSettingslist:L,setResetConfigurationOpen:U,type:n.configuration_id}):(0,_.jsx)(o.Fragment,{children:(0,_.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),I(!0)},className:a,style:{height:"100%",display:"flex",flexFlow:"column"},children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.settingsFormContainer,children:(0,_.jsx)(j.default,{fields:s.DP[n.configuration_id],onChange:K,defaultVals:P})}),(0,_.jsxs)(l.ZP,{item:!0,xs:12,sx:{paddingTop:"15px ",textAlign:"right",maxHeight:"60px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,_.jsx)(u.zxk,{id:"restore-defaults",variant:"secondary",onClick:U,label:"Restore Defaults"}),"\xa0 \xa0",(0,_.jsx)(u.zxk,{id:"save",type:"submit",variant:"callAction",disabled:M,label:"Save"})]})]})})})]})})),H=function(){var e=(0,d.TH)().pathname,n=void 0===e?"":e,t=n.substring(n.lastIndexOf("/")+1),i=s.bx.find((function(e){return e.configuration_id===t})),o="".concat(t);return(0,_.jsx)(l.ZP,{item:!0,xs:12,sx:{height:"100%","& .identity_ldap, .api":{"& label":{minWidth:220,marginRight:0}}},children:i&&(0,_.jsx)(D,{className:"".concat(o),selectedConfiguration:i})})},O=t(56087),B=(0,r.Z)((function(e){return(0,a.Z)((0,i.Z)((0,i.Z)((0,i.Z)({settingsOptionsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexWrap:"wrap",border:"#E5E5E5 1px solid",borderRadius:2,backgroundColor:"#fff"}},c.qg),c.OR),c.Bz))}))((function(e){var n=e.classes,t=(0,d.TH)().pathname,i=void 0===t?"":t,a=i.substring(i.lastIndexOf("/")+1);return a="settings"===a?"region":a,(0,_.jsxs)(o.Fragment,{children:[(0,_.jsx)(u.mr1,{label:"Settings"}),(0,_.jsxs)(h.Z,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsxs)("div",{id:"settings-container",className:n.settingsOptionsContainer,children:[(0,_.jsx)(m.Z,{icon:(0,_.jsx)(u.ewm,{}),title:"MinIO Configuration:"}),(0,_.jsx)(p.Z,{selectedTab:a,isRouteTabs:!0,routes:(0,_.jsxs)(d.Z5,{children:[s.bx.map((function(e){return(0,_.jsx)(d.AW,{path:"".concat(e.configuration_id),element:(0,_.jsx)(H,{})},"configItem-".concat(e.configuration_label))})),(0,_.jsx)(d.AW,{path:"/",element:(0,_.jsx)(d.Fg,{to:"".concat(O.gA.SETTINGS,"/region")})})]}),children:s.bx.map((function(e){var n,t=e.configuration_id;return{tabConfig:{label:e.configuration_label,value:t,icon:e.icon,component:f.rU,to:(n=t,"".concat(O.gA.SETTINGS,"/").concat(n))}}}))})]})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,sx:{paddingTop:"15px"},children:(0,_.jsx)(u.KfX,{title:"Learn more about Configurations",iconComponent:(0,_.jsx)(u.ewm,{}),help:(0,_.jsxs)(o.Fragment,{children:["MinIO supports a variety of configurations ranging from encryption, compression, region, notifications, etc.",(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),"You can learn more at our"," ",(0,_.jsx)("a",{href:"https://min.io/docs/minio/linux/reference/minio-mc-admin/mc-admin-config.html?ref=con#id4",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})})]})]})}))},58493:function(e,n,t){t.d(n,{DD:function(){return m},DP:function(){return h},_0:function(){return x},bx:function(){return p}});var i=t(93433),o=(t(72791),t(87569)),a=t(61809),r=t(31292),l=t(98095),s=t(67055),c=t(21141),u=t(36909),d=t(13901),f=t(80184),p=[{icon:(0,f.jsx)(o.Z,{}),configuration_id:"region",configuration_label:"Region"},{icon:(0,f.jsx)(a.Z,{}),configuration_id:"compression",configuration_label:"Compression"},{icon:(0,f.jsx)(r.Z,{}),configuration_id:"api",configuration_label:"API"},{icon:(0,f.jsx)(l.Z,{}),configuration_id:"heal",configuration_label:"Heal"},{icon:(0,f.jsx)(s.Z,{}),configuration_id:"scanner",configuration_label:"Scanner"},{icon:(0,f.jsx)(c.Z,{}),configuration_id:"etcd",configuration_label:"Etcd"},{icon:(0,f.jsx)(d.Z,{}),configuration_id:"logger_webhook",configuration_label:"Logger Webhook"},{icon:(0,f.jsx)(u.Z,{}),configuration_id:"audit_webhook",configuration_label:"Audit Webhook"}],h={region:[{name:"name",required:!0,label:"Server Location",tooltip:'Name of the location of the server e.g. "us-west-rack2"',type:"string",placeholder:"e.g. us-west-rack-2"},{name:"comment",required:!1,label:"Comment",tooltip:"You can add a comment to this setting",type:"comment",placeholder:"Enter custom notes if any"}],compression:[{name:"extensions",required:!1,label:"Extensions",tooltip:'Extensions to compress e.g. ".txt",".log" or ".csv", you can write one per field',type:"csv",placeholder:"Enter an Extension",withBorder:!0},{name:"mime_types",required:!1,label:"Mime Types",tooltip:'Mime types e.g. "text/*","application/json" or "application/xml", you can write one per field',type:"csv",placeholder:"Enter a Mime Type",withBorder:!0}],api:[{name:"requests_max",required:!1,label:"Requests Max",tooltip:"Maximum number of concurrent requests, e.g. '1600'",type:"number",placeholder:"Enter Requests Max"},{name:"cors_allow_origin",required:!1,label:"Cors Allow Origin",tooltip:"List of origins allowed for CORS requests",type:"csv",placeholder:"Enter allowed origin e.g. https://example.com"},{name:"replication_workers",required:!1,label:"Replication Workers",tooltip:"Number of replication workers, defaults to 100",type:"number",placeholder:"Enter Replication Workers"},{name:"replication_failed_workers",required:!1,label:"Replication Failed Workers",tooltip:"Number of replication workers for recently failed replicas, defaults to 4",type:"number",placeholder:"Enter Replication Failed Workers"}],heal:[{name:"bitrotscan",required:!1,label:"Bitrot Scan",tooltip:"Perform bitrot scan on disks when checking objects during scanner",type:"on|off"},{name:"max_sleep",required:!1,label:"Max Sleep",tooltip:"Maximum sleep duration between objects to slow down heal operation. eg. 2s",type:"duration",placeholder:"Enter Max Sleep duration"},{name:"max_io",required:!1,label:"Max IO",tooltip:"Maximum IO requests allowed between objects to slow down heal operation. eg. 3",type:"number",placeholder:"Enter Max IO"}],scanner:[{name:"delay",required:!1,label:"Delay multiplier",tooltip:"Scanner delay multiplier, defaults to '10.0'",type:"number",placeholder:"Enter Delay"},{name:"max_wait",required:!1,label:"Max Wait",tooltip:"Maximum wait time between operations, defaults to '15s'",type:"duration",placeholder:"Enter Max Wait"},{name:"cycle",required:!1,label:"Cycle",tooltip:"Time duration between scanner cycles, defaults to '1m'",type:"duration",placeholder:"Enter Cycle"}],etcd:[{name:"endpoints",required:!0,label:"Endpoints",tooltip:'List of etcd endpoints e.g. "http://localhost:2379", you can write one per field',type:"csv",placeholder:"Enter Endpoint"},{name:"path_prefix",required:!1,label:"Path Prefix",tooltip:'Namespace prefix to isolate tenants e.g. "customer1/"',type:"string",placeholder:"Enter Path Prefix"},{name:"coredns_path",required:!1,label:"Coredns Path",tooltip:'Shared bucket DNS records, default is "/skydns"',type:"string",placeholder:"Enter Coredns Path"},{name:"client_cert",required:!1,label:"Client Cert",tooltip:"Client cert for mTLS authentication",type:"string",placeholder:"Enter Client Cert"},{name:"client_cert_key",required:!1,label:"Client Cert Key",tooltip:"Client cert key for mTLS authentication",type:"string",placeholder:"Enter Client Cert Key"},{name:"comment",required:!1,label:"Comment",tooltip:"You can add a comment to this setting",type:"comment",multiline:!0,placeholder:"Enter custom notes if any"}],logger_webhook:[{name:"endpoint",required:!0,label:"Endpoint",type:"string",placeholder:"Enter Endpoint"},{name:"auth_token",required:!0,label:"Auth Token",type:"string",placeholder:"Enter Auth Token"}],audit_webhook:[{name:"endpoint",required:!0,label:"Endpoint",type:"string",placeholder:"Enter Endpoint"},{name:"auth_token",required:!0,label:"Auth Token",type:"string",placeholder:"Enter Auth Token"}]},m=function(e){return e.filter((function(e){return""!==e.value}))},x=function(e,n,t){var o=e.target,a=o.value,r=o.checked,l=(0,i.Z)(t);return r?l.push(a):l=l.filter((function(e){return e!==a})),n(l),l}},10091:function(e,n,t){t.r(n),t.d(n,{default:function(){return y},valueDef:function(){return j}});var i=t(93433),o=t(29439),a=t(1413),r=t(72791),l=t(11135),s=t(25787),c=t(61889),u=t(23814),d=t(21435),f=t(26181),p=t.n(f),h=t(30829),m=t(20068),x=t(75952),v=t(80184),g=(0,s.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},u.YI),u.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15,flex:1},inputBoxSpacer:{marginBottom:7},inputLabel:(0,a.Z)((0,a.Z)({},u.YI.inputLabel),{},{margin:0,alignItems:"flex-start",paddingTop:"20px",minWidth:162})}))}))((function(e){var n=e.elements,t=e.name,a=e.label,l=e.tooltip,s=void 0===l?"":l,u=e.commonPlaceholder,f=void 0===u?"":u,g=e.onChange,b=e.withBorder,Z=void 0!==b&&b,j=e.classes,y=(0,r.useState)([""]),C=(0,o.Z)(y,2),k=C[0],w=C[1],E=(0,r.createRef)();(0,r.useEffect)((function(){if(1===k.length&&""===k[0]&&n&&""!==n){var e=n.split(",");e.push(""),w(e)}}),[n,k]),(0,r.useEffect)((function(){if(k.length>1){var e=E.current;e&&e.scrollIntoView(!1)}}),[k,E]);var _=(0,r.useCallback)((function(e){g(e)}),[g]),S=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(S.current)S.current=!1;else{var e=k.filter((function(e){return""!==e.trim()})).join(",");_(e)}}),[k]);var T=function(e){e.persist();var n=(0,i.Z)(k),t=p()(e.target,"dataset.index","0");n[parseInt(t)]=e.target.value,w(n)},M=k.map((function(e,n){return(0,v.jsx)("div",{className:j.inputBoxSpacer,children:(0,v.jsx)(d.Z,{id:"".concat(t,"-").concat(n.toString()),label:"",name:"".concat(t,"-").concat(n.toString()),value:k[n],onChange:T,index:n,placeholder:f,overlayIcon:n===k.length-1?(0,v.jsx)(x.dtP,{}):null,overlayAction:function(){!function(e){if(""!==e[e.length-1].trim()){var n=(0,i.Z)(e);n.push(""),w(n)}}(k)}},"csv-".concat(t,"-").concat(n.toString()))},"csv-multi-".concat(t,"-").concat(n.toString()))}));return(0,v.jsx)(r.Fragment,{children:(0,v.jsxs)(c.ZP,{item:!0,xs:12,className:j.fieldContainer,children:[(0,v.jsxs)(h.Z,{className:j.inputLabel,children:[(0,v.jsx)("span",{children:a}),""!==s&&(0,v.jsx)("div",{className:j.tooltipContainer,children:(0,v.jsx)(m.Z,{title:s,placement:"top-start",children:(0,v.jsx)("div",{className:j.tooltip,children:(0,v.jsx)(x.byK,{})})})})]}),(0,v.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(Z?j.inputWithBorder:""),children:[M,(0,v.jsx)("div",{ref:E})]})]})})})),b=t(57314),Z=t(37516),j=function(e,n,t){var i="on|off"===n?"off":"";if(t.length>0){var o=t.find((function(n){return n.key===e}));o&&(i=o.value||"")}return i},y=(0,s.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)({},u.DF),{},{formFieldRow:(0,a.Z)({},u.DF.formFieldRow)},u.oO))}))((function(e){var n=e.onChange,t=e.fields,a=e.defaultVals,l=e.classes,s=(0,r.useState)([]),u=(0,o.Z)(s,2),f=u[0],p=u[1],h=t||[],m=a||[];(0,r.useEffect)((function(){var e=t.map((function(e){return{key:e.name,value:j(e.name,e.type,m)}}));p(e)}),[t,a]),(0,r.useEffect)((function(){n(f)}),[f]);var x=function(e,n,t){var o=(0,i.Z)(f);o[t]={key:e,value:n},p(o)},y=function(e,n){switch(e.type){case"on|off":var t=f[n]?f[n].value:"off";return(0,v.jsx)(Z.Z,{onChange:function(t){var i=t.target.checked?"on":"off";x(e.name,i,n)},id:e.name,name:e.name,label:e.label,value:"switch_on",tooltip:e.tooltip,checked:"on"===t});case"csv":return(0,v.jsx)(g,{elements:f[n]?f[n].value:"",label:e.label,name:e.name,onChange:function(t){x(e.name,t,n)},tooltip:e.tooltip,commonPlaceholder:e.placeholder,withBorder:!0});case"comment":return(0,v.jsx)(b.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:f[n]?f[n].value:"",onChange:function(t){return x(e.name,t.target.value,n)},placeholder:e.placeholder});default:return(0,v.jsx)(d.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:f[n]?f[n].value:"",onChange:function(t){return x(e.name,t.target.value,n)},multiline:!!e.multiline,placeholder:e.placeholder})}};return(0,v.jsx)(c.ZP,{container:!0,children:(0,v.jsx)(c.ZP,{xs:12,item:!0,className:l.fieldBox,children:h.map((function(e,n){return(0,v.jsx)(c.ZP,{item:!0,xs:12,className:l.formFieldRow,children:y(e,n)},e.name)}))})})}))},13901:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3v-3h18v3z"}),"CallToAction");n.Z=r},31292:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");n.Z=r},61809:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4zm0 3h16v2H4z"}),"Compress");n.Z=r},67055:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z"}),"FindReplace");n.Z=r},98095:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"}),"LocalHospital");n.Z=r},36909:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85-.7.71zM18 3h-3.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H6c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h6.11c-.59-.57-1.07-1.25-1.42-2H6V5h2v3h8V5h2v5.08c.71.1 1.38.31 2 .6V5c0-1.1-.9-2-2-2zm-6 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"PendingActions");n.Z=r},87569:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"}),"Public");n.Z=r},21141:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"VpnKey");n.Z=r},95193:function(e,n,t){var i;t.d(n,{Z:function(){return f}});var o=t(29439),a=t(72791),r=t(69120),l=t(33073),s=t(40162);function c(e,n,t,i,r){var l="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,c=a.useState((function(){return r&&l?t(e).matches:i?i(e).matches:n})),u=(0,o.Z)(c,2),d=u[0],f=u[1];return(0,s.Z)((function(){var n=!0;if(l){var i=t(e),o=function(){n&&f(i.matches)};return o(),i.addListener(o),function(){n=!1,i.removeListener(o)}}}),[e,t,l]),d}var u=(i||(i=t.t(a,2))).useSyncExternalStore;function d(e,n,t,i){var r=a.useCallback((function(){return n}),[n]),l=a.useMemo((function(){if(null!==i){var n=i(e).matches;return function(){return n}}return r}),[r,e,i]),s=a.useMemo((function(){if(null===t)return[r,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[r,t,e]),c=(0,o.Z)(s,2),d=c[0],f=c[1];return u(f,d,l)}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,r.Z)(),i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,o=(0,l.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),a=o.defaultMatches,s=void 0!==a&&a,f=o.matchMedia,p=void 0===f?i?window.matchMedia:null:f,h=o.ssrMatchMedia,m=void 0===h?null:h,x=o.noSsr;var v="function"===typeof e?e(t):e;v=v.replace(/^@media( ?)/m,"");var g=void 0!==u?d:c,b=g(v,s,p,m,x);return b}}}]);
//# sourceMappingURL=3469.9b3db3ec.chunk.js.map