(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[132],{451:function(e,t,a){"use strict";var c=a(1),n=a(2),s=a(441),i=a(316),l=a(320),r=a(122),o=a(0);t.a=Object(l.a)((function(e){return Object(i.a)(Object(c.a)({},r.t))}))((function(e){var t=e.classes,a=e.label,c=void 0===a?"":a,i=e.content,l=e.multiLine,r=void 0!==l&&l;return Object(o.jsx)(n.Fragment,{children:Object(o.jsxs)(s.a,{className:t.prefinedContainer,children:[""!==c&&Object(o.jsx)(s.a,{item:!0,xs:12,className:t.predefinedTitle,children:c}),Object(o.jsx)(s.a,{item:!0,xs:12,className:t.predefinedList,children:Object(o.jsx)(s.a,{item:!0,xs:12,className:r?t.innerContentMultiline:t.innerContent,children:i})})]})})}))},544:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var c=a(1),n=a(410),s=a(2),i=a(0),l=["children","value","index"],r=function(e){var t=e.children,a=e.value,r=e.index,o=Object(n.a)(e,l);return Object(i.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r),style:{marginTop:"5px"}},o),{},{children:a===r&&Object(i.jsx)(s.Fragment,{children:t})}))}},950:function(e,t,a){"use strict";a.r(t);var c=a(16),n=a(1),s=a(2),i=a.n(s),l=a(41),r=a(441),o=a(820),u=a(824),j=a(372),b=a(383),d=a(316),O=a(320),m=a(122),x=a(32),h=a(53),f=a(778),p=a(398),v=a(396),g=a(406),y=a(451),S=a(648),C=a(544),k=a(23),E=a(0),N={setModalErrorSnackMessage:x.g},w=Object(l.b)(null,N);t.default=Object(O.a)((function(e){return Object(d.a)(Object(n.a)(Object(n.a)(Object(n.a)({tabsHeader:{marginBottom:"1rem"}},m.q),m.k),m.A))}))(w((function(e){var t=e.classes,a=e.closeModalAndRefresh,n=e.selectedUser,l=e.open,d=e.setModalErrorSnackMessage,O=Object(s.useState)(!1),m=Object(c.a)(O,2),x=m[0],N=m[1],w=Object(s.useState)(""),K=Object(c.a)(w,2),M=K[0],F=K[1],P=Object(s.useState)(""),U=Object(c.a)(P,2),G=U[0],R=U[1],T=Object(s.useState)(!1),A=Object(c.a)(T,2),B=A[0],I=A[1],L=Object(s.useState)([]),D=Object(c.a)(L,2),H=D[0],J=D[1],q=Object(s.useState)([]),V=Object(c.a)(q,2),_=V[0],z=V[1],Q=Object(s.useState)([]),W=Object(c.a)(Q,2),X=W[0],Y=W[1],Z=Object(s.useState)(0),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ae=Object(s.useCallback)((function(){if(!n)return null;h.a.invoke("GET","/api/v1/user?name=".concat(encodeURI(n.accessKey))).then((function(e){N(!1),F(e.accessKey),J(e.memberOf||[]),Y(e.memberOf||[]),I("enabled"===e.status)})).catch((function(e){N(!1),d(e)}))}),[n,d]);Object(s.useEffect)((function(){null===n?(F(""),R(""),J([])):ae()}),[n,ae]);var ce=""!==M.trim()&&(""!==G.trim()&&null===n||null!==n);return Object(E.jsxs)(p.a,{onClose:function(){a()},modalOpen:l,title:null!==n?"Edit User":"Create User",titleIcon:Object(E.jsx)(k.E,{}),children:[null!==n&&Object(E.jsx)("div",{className:t.floatingEnabled,children:Object(E.jsx)(g.a,{indicatorLabels:["Enabled","Disabled"],checked:B,value:"user_enabled",id:"user-status",name:"user-status",onChange:function(e){I(e.target.checked)},switchOnly:!0})}),Object(E.jsx)(i.a.Fragment,{children:Object(E.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),G.length<8)return d({errorMessage:"Passwords must be at least 8 characters long",detailedError:""}),void N(!1);x||(N(!0),null!==n?h.a.invoke("PUT","/api/v1/user?name=".concat(encodeURI(n.accessKey)),{status:B?"enabled":"disabled",groups:H,policies:_}).then((function(e){N(!1),a()})).catch((function(e){N(!1),d(e)})):h.a.invoke("POST","/api/v1/users",{accessKey:M,secretKey:G,groups:H,policies:_}).then((function(e){N(!1),a()})).catch((function(e){N(!1),d(e)})))}(e)},children:Object(E.jsxs)(r.a,{container:!0,children:[Object(E.jsxs)(r.a,{item:!0,xs:12,children:[Object(E.jsx)("div",{className:t.formFieldRow,children:Object(E.jsx)(v.a,{id:"accesskey-input",name:"accesskey-input",label:"Access Key",value:M,autoFocus:!0,onChange:function(e){F(e.target.value)},disabled:null!==n})}),null!==n?Object(E.jsx)(y.a,{label:"Current Groups",content:X.join(", ")}):Object(E.jsx)("div",{className:t.formFieldRow,children:Object(E.jsx)(v.a,{id:"standard-multiline-static",name:"standard-multiline-static",label:"Secret Key",type:"password",value:G,onChange:function(e){R(e.target.value)},autoComplete:"current-password"})}),Object(E.jsx)(r.a,{item:!0,xs:12,className:t.tabsHeader,children:Object(E.jsxs)(o.a,{value:ee,onChange:function(e,t){te(t)},children:[Object(E.jsx)(u.a,{label:"Policies"}),Object(E.jsx)(u.a,{label:"Groups"})]})}),Object(E.jsx)(C.a,{value:ee,index:0,children:Object(E.jsx)(r.a,{item:!0,xs:12,children:Object(E.jsx)(S.a,{selectedPolicy:_,setSelectedPolicy:z})})}),Object(E.jsx)(C.a,{value:ee,index:1,children:Object(E.jsx)(r.a,{item:!0,xs:12,children:Object(E.jsx)(f.a,{selectedGroups:H,setSelectedGroups:function(e){J(e)}})})}),x&&Object(E.jsx)(r.a,{item:!0,xs:12,children:Object(E.jsx)(j.a,{})})]}),Object(E.jsxs)(r.a,{item:!0,xs:12,className:t.modalButtonBar,children:[Object(E.jsx)(b.a,{type:"button",variant:"outlined",color:"primary",onClick:function(){null===n?(F(""),R(""),J([])):J([])},children:"Clear"}),Object(E.jsx)(b.a,{type:"submit",variant:"contained",color:"primary",disabled:x||!ce,children:"Save"})]})]})})})]})})))}}]);
//# sourceMappingURL=132.2649cc11.chunk.js.map