{"version":3,"sources":["screens/Console/Common/PageHeader/PageHeader.tsx","screens/Console/Tenants/TenantDetails/hop/Hop.tsx"],"names":["mapDispatchToProps","toggleList","connector","connect","state","sidebarOpen","system","operatorMode","managerObjects","objectBrowser","objectManager","objectsToManage","withStyles","theme","createStyles","headerContainer","width","minHeight","display","backgroundColor","left","boxShadow","label","justifyContent","alignItems","labelStyle","color","fontSize","fontWeight","marginLeft","marginTop","rightMenu","textAlign","logo","fill","palette","primary","main","classes","actions","container","className","direction","xs","sm","md","item","style","height","variant","length","component","onClick","size","breadcrumLink","textDecoration","iframeStyle","border","position","divContainer","top","loader","margin","pageHeader","borderBottom","containerForHeader","spacing","match","useState","loading","setLoading","tenantName","params","tenantNamespace","consoleFrame","React","useRef","to","Fragment","current","contentDocument","loc","location","toString","add","indexOf","next","replace","reload","history","push","ref","title","src","onLoad","val"],"mappings":"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","file":"static/js/145.e740a24d.chunk.js","sourcesContent":["import React from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport { connect } from \"react-redux\";\nimport { Box } from \"@mui/material\";\nimport Grid from \"@mui/material/Grid\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport { AppState } from \"../../../../store\";\nimport OperatorLogo from \"../../../../icons/OperatorLogo\";\nimport ConsoleLogo from \"../../../../icons/ConsoleLogo\";\nimport { IFileItem } from \"../../ObjectBrowser/reducers\";\nimport { toggleList } from \"../../ObjectBrowser/actions\";\nimport { ObjectManagerIcon } from \"../../../../icons\";\n\ninterface IPageHeader {\n  classes: any;\n  sidebarOpen?: boolean;\n  operatorMode?: boolean;\n  label: any;\n  actions?: any;\n  managerObjects?: IFileItem[];\n  toggleList: typeof toggleList;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    headerContainer: {\n      // position: \"absolute\",\n      width: \"100%\",\n      minHeight: 79,\n      display: \"flex\",\n      backgroundColor: \"#fff\",\n      left: 0,\n      boxShadow: \"rgba(0,0,0,.08) 0 3px 10px\",\n    },\n    label: {\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n    },\n    labelStyle: {\n      color: \"#000\",\n      fontSize: 18,\n      fontWeight: 700,\n      marginLeft: 34,\n      marginTop: 8,\n    },\n    rightMenu: {\n      textAlign: \"right\",\n    },\n    logo: {\n      marginLeft: 34,\n      fill: theme.palette.primary.main,\n      \"& .min-icon\": {\n        width: 120,\n      },\n    },\n  });\n\nconst PageHeader = ({\n  classes,\n  label,\n  actions,\n  sidebarOpen,\n  operatorMode,\n  managerObjects,\n  toggleList,\n}: IPageHeader) => {\n  return (\n    <Grid\n      container\n      className={`${classes.headerContainer} page-header`}\n      direction=\"row\"\n      alignItems=\"center\"\n    >\n      <Box display={{ xs: \"block\", sm: \"block\", md: \"none\" }}>\n        <Grid item xs={12} style={{ height: 10 }}>\n          &nbsp;\n        </Grid>\n      </Box>\n      <Grid item xs={12} sm={12} md={6} className={classes.label}>\n        {!sidebarOpen && (\n          <div className={classes.logo}>\n            {operatorMode ? <OperatorLogo /> : <ConsoleLogo />}\n          </div>\n        )}\n        <Typography variant=\"h4\" className={classes.labelStyle}>\n          {label}\n        </Typography>\n      </Grid>\n      <Grid item xs={12} sm={12} md={6} className={classes.rightMenu}>\n        {actions && actions}\n        {managerObjects && managerObjects.length > 0 && (\n          <IconButton\n            color=\"primary\"\n            aria-label=\"Refresh List\"\n            component=\"span\"\n            onClick={() => {\n              toggleList();\n            }}\n            size=\"large\"\n          >\n            <ObjectManagerIcon />\n          </IconButton>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nconst mapState = (state: AppState) => ({\n  sidebarOpen: state.system.sidebarOpen,\n  operatorMode: state.system.operatorMode,\n  managerObjects: state.objectBrowser.objectManager.objectsToManage,\n});\n\nconst mapDispatchToProps = {\n  toggleList,\n};\n\nconst connector = connect(mapState, mapDispatchToProps);\n\nexport default connector(withStyles(styles)(PageHeader));\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Link } from \"react-router-dom\";\nimport { Box, CircularProgress, IconButton } from \"@mui/material\";\nimport PageHeader from \"../../../Common/PageHeader/PageHeader\";\nimport { containerForHeader } from \"../../../Common/FormComponents/common/styleLibrary\";\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\nimport history from \"./../../../../../history\";\nimport RefreshIcon from \"../../../../../icons/RefreshIcon\";\n\ninterface IHopSimple {\n  classes: any;\n  match: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    breadcrumLink: {\n      textDecoration: \"none\",\n      color: \"black\",\n    },\n    iframeStyle: {\n      border: 0,\n      position: \"absolute\",\n      height: \"calc(100vh - 77px)\",\n      width: \"100%\",\n    },\n    divContainer: {\n      position: \"absolute\",\n      left: 0,\n      top: 80,\n      height: \"calc(100vh - 81px)\",\n      width: \"100%\",\n    },\n    loader: {\n      width: 100,\n      margin: \"auto\",\n      marginTop: 80,\n    },\n\n    pageHeader: {\n      borderBottom: \"1px solid #dedede\",\n    },\n\n    ...containerForHeader(theme.spacing(4)),\n  });\n\nconst Hop = ({ classes, match }: IHopSimple) => {\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const tenantName = match.params[\"tenantName\"];\n  const tenantNamespace = match.params[\"tenantNamespace\"];\n  const consoleFrame = React.useRef<HTMLIFrameElement>(null);\n\n  return (\n    <Fragment>\n      <Box className={classes.pageHeader}>\n        <PageHeader\n          label={\n            <Fragment>\n              <Link to={\"/tenants\"} className={classes.breadcrumLink}>\n                Tenants\n              </Link>\n              {` > `}\n              <Link\n                to={`/namespaces/${tenantNamespace}/tenants/${tenantName}`}\n                className={classes.breadcrumLink}\n              >\n                {match.params[\"tenantName\"]}\n              </Link>\n              {` > Management`}\n            </Fragment>\n          }\n          actions={\n            <React.Fragment>\n              <IconButton\n                color=\"primary\"\n                aria-label=\"Refresh List\"\n                component=\"span\"\n                onClick={() => {\n                  if (\n                    consoleFrame !== null &&\n                    consoleFrame.current !== null &&\n                    consoleFrame.current.contentDocument !== null\n                  ) {\n                    const loc =\n                      consoleFrame.current.contentDocument.location.toString();\n\n                    let add = \"&\";\n\n                    if (loc.indexOf(\"?\") < 0) {\n                      add = `?`;\n                    }\n\n                    if (loc.indexOf(\"cp=y\") < 0) {\n                      const next = `${loc}${add}cp=y`;\n                      consoleFrame.current.contentDocument.location.replace(\n                        next\n                      );\n                    } else {\n                      consoleFrame.current.contentDocument.location.reload();\n                    }\n                  }\n                }}\n                size=\"large\"\n              >\n                <RefreshIcon />\n              </IconButton>\n              <IconButton\n                color=\"primary\"\n                aria-label=\"Refresh List\"\n                component=\"span\"\n                onClick={() => {\n                  history.push(\n                    `/namespaces/${tenantNamespace}/tenants/${tenantName}`\n                  );\n                }}\n                size=\"large\"\n              >\n                <ExitToAppIcon />\n              </IconButton>\n            </React.Fragment>\n          }\n        />\n      </Box>\n      <div className={classes.divContainer}>\n        {loading && (\n          <div className={classes.loader}>\n            <CircularProgress />\n          </div>\n        )}\n        <iframe\n          ref={consoleFrame}\n          className={classes.iframeStyle}\n          title={\"metrics\"}\n          src={`/api/proxy/${tenantNamespace}/${tenantName}/?cp=y`}\n          onLoad={(val) => {\n            setLoading(false);\n          }}\n        />\n      </div>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(Hop);\n"],"sourceRoot":""}