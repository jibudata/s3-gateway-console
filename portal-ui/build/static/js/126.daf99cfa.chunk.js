(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[126],{396:function(e,t,a){"use strict";var n=a(1),c=a(2),i=a.n(c),s=a(422),o=a(441),r=a(822),l=a(380),d=a(386),u=a(316),j=a(375),b=a(320),O=a(122),m=a(123),p=a(0),x=Object(j.a)((function(e){return Object(u.a)(Object(n.a)({},O.n))}));function f(e){var t=x();return Object(p.jsx)(s.a,Object(n.a)({InputProps:{classes:t}},e))}t.a=Object(b.a)((function(e){return Object(u.a)(Object(n.a)(Object(n.a)(Object(n.a)({},O.i),O.F),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,c=e.value,s=e.id,u=e.name,j=e.type,b=void 0===j?"text":j,O=e.autoComplete,x=void 0===O?"off":O,h=e.disabled,v=void 0!==h&&h,g=e.multiline,C=void 0!==g&&g,k=e.tooltip,N=void 0===k?"":k,S=e.index,y=void 0===S?0:S,E=e.error,M=void 0===E?"":E,w=e.required,B=void 0!==w&&w,F=e.placeholder,L=void 0===F?"":F,I=e.min,D=e.max,T=e.overlayIcon,R=void 0===T?null:T,P=e.overlayObject,z=void 0===P?null:P,W=e.extraInputProps,A=void 0===W?{}:W,H=e.overlayAction,q=e.noLabelMinWidth,G=void 0!==q&&q,J=e.pattern,U=void 0===J?"":J,V=e.autoFocus,X=void 0!==V&&V,Z=e.classes,K=Object(n.a)({"data-index":y},A);return"number"===b&&I&&(K.min=I),"number"===b&&D&&(K.max=D),""!==U&&(K.pattern=U),Object(p.jsx)(i.a.Fragment,{children:Object(p.jsxs)(o.a,{container:!0,className:" ".concat(""!==M?Z.errorInField:Z.inputBoxContainer),children:[""!==t&&Object(p.jsxs)(r.a,{htmlFor:s,className:G?Z.noMinWidthLabel:Z.inputLabel,children:[Object(p.jsxs)("span",{children:[t,B?"*":""]}),""!==N&&Object(p.jsx)("div",{className:Z.tooltipContainer,children:Object(p.jsx)(l.a,{title:N,placement:"top-start",children:Object(p.jsx)("div",{className:Z.tooltip,children:Object(p.jsx)(m.a,{})})})})]}),Object(p.jsxs)("div",{className:Z.textBoxContainer,children:[Object(p.jsx)(f,{id:s,name:u,fullWidth:!0,value:c,autoFocus:X,disabled:v,onChange:a,type:b,multiline:C,autoComplete:x,inputProps:K,error:""!==M,helperText:M,placeholder:L,className:Z.inputRebase}),R&&Object(p.jsx)("div",{className:"".concat(Z.overlayAction," ").concat(""!==t?"withLabel":""),children:Object(p.jsx)(d.a,{onClick:H?function(){H()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:R})}),z&&Object(p.jsx)("div",{className:"".concat(Z.overlayAction," ").concat(""!==t?"withLabel":""),children:z})]})]})})}))},398:function(e,t,a){"use strict";var n,c=a(16),i=a(1),s=a(2),o=a(41),r=a(386),l=a(378),d=a(413),u=a(414),j=a(415),b=a(316),O=a(320),m=a(122),p=a(32),x=a(48),f=a.n(x),h=a(128),v=a.n(h),g=a(127),C=a.n(g),k=a(124),N=a.n(k),S=a(0),y=function(){clearInterval(n)},E={displayErrorMessage:p.g},M=Object(o.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),E)(Object(O.a)((function(e){return Object(b.a)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var t=e.classes,a=e.modalSnackMessage,i=e.displayErrorMessage,o=e.customStyle,r=Object(s.useState)(!1),l=Object(c.a)(r,2),d=l[0],u=l[1],j=Object(s.useState)(!1),b=Object(c.a)(j,2),O=b[0],m=b[1],p=Object(s.useCallback)((function(){m(!1)}),[]);Object(s.useEffect)((function(){O||(i({detailedError:"",errorMessage:""}),u(!1))}),[i,O]),Object(s.useEffect)((function(){""!==a.message&&"error"===a.type&&m(!0)}),[p,a.message,a.type]);var x=f()(a,"message",""),h=f()(a,"detailedErrorMsg","");return"error"!==a.type||""===x?null:Object(S.jsx)(s.Fragment,{children:Object(S.jsxs)("div",{className:"".concat(t.modalErrorContainer," ").concat(O?t.modalErrorShow:""),style:o,onMouseOver:y,onMouseLeave:function(){n=setInterval(p,1e4)},children:[Object(S.jsx)("button",{className:t.closeButton,onClick:p,children:Object(S.jsx)(N.a,{})}),Object(S.jsxs)("div",{className:t.errorTitle,children:[Object(S.jsx)("span",{className:t.messageIcon,children:Object(S.jsx)(C.a,{})}),Object(S.jsx)("span",{className:t.errorLabel,children:x})]}),""!==h&&Object(S.jsxs)(s.Fragment,{children:[Object(S.jsx)("div",{className:t.detailsContainerLink,children:Object(S.jsxs)("button",{className:t.detailsButton,onClick:function(){u(!d)},children:["Details",Object(S.jsx)(v.a,{className:"".concat(t.arrowElement," ").concat(d?t.arrowOpen:"")})]})}),Object(S.jsx)("div",{className:"".concat(t.extraDetailsContainer," ").concat(d?t.extraDetailsOpen:""),children:h})]})]})})}))),w=Object(o.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:p.h});t.a=Object(O.a)((function(e){return Object(b.a)(Object(i.a)(Object(i.a)({},m.h),{},{root:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.z))}))(w((function(e){var t=e.onClose,a=e.modalOpen,n=e.title,o=e.children,b=e.classes,O=e.wideLimit,m=void 0===O||O,p=e.modalSnackMessage,x=e.noContentPadding,f=e.setModalSnackMessage,h=e.titleIcon,v=void 0===h?null:h,g=Object(s.useState)(!1),C=Object(c.a)(g,2),k=C[0],y=C[1];Object(s.useEffect)((function(){f("")}),[f]),Object(s.useEffect)((function(){if(p){if(""===p.message)return void y(!1);"error"!==p.type&&y(!0)}}),[p]);var E=m?{classes:{paper:b.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},w="";return p&&(w=p.detailedErrorMsg,(""===p.detailedErrorMsg||p.detailedErrorMsg.length<5)&&(w=p.message)),Object(S.jsxs)(d.a,Object(i.a)(Object(i.a)({open:a,classes:b},E),{},{scroll:"paper",onClose:function(e,a){"backdropClick"!==a&&t()},className:b.root,children:[Object(S.jsxs)(u.a,{className:b.title,children:[Object(S.jsxs)("div",{className:b.titleText,children:[v," ",n]}),Object(S.jsx)("div",{className:b.closeContainer,children:Object(S.jsx)(r.a,{"aria-label":"close",className:b.closeButton,onClick:t,disableRipple:!0,size:"small",children:Object(S.jsx)(N.a,{})})})]}),Object(S.jsx)(M,{}),Object(S.jsx)(l.a,{open:k,className:b.snackBarModal,onClose:function(){y(!1),f("")},message:w,ContentProps:{className:"".concat(b.snackBar," ").concat(p&&"error"===p.type?b.errorSnackBar:"")},autoHideDuration:p&&"error"===p.type?1e4:5e3}),Object(S.jsx)(j.a,{className:x?"":b.content,children:o})]}))})))},916:function(e,t,a){"use strict";a.r(t);var n=a(16),c=a(1),i=a(2),s=a.n(i),o=a(41),r=a(441),l=a(383),d=a(316),u=a(320),j=a(53),b=a(989),O=a(828),m=a(829),p=a(827),x=a(786),f=a(826),h=a(122),v=a(32),g=a(398),C=a(396),k=a(422),N=a(822),S=a(380),y=a(987),E=a(375),M=a(973),w=a(123),B=a(0),F=Object(E.a)((function(e){return Object(d.a)(Object(c.a)({},h.n))}));function L(e){var t=F();return Object(B.jsx)(k.a,Object(c.a)({InputProps:{classes:t}},e))}var I=Object(u.a)((function(e){return Object(d.a)(Object(c.a)(Object(c.a)({},h.i),h.F))}))((function(e){var t=e.classes,a=e.id,o=e.name,l=e.onChange,d=e.options,u=e.label,j=e.tooltip,b=void 0===j?"":j,O=e.value,m=e.disabled,p=void 0!==m&&m,x=Object(i.useState)(d[0]),f=Object(n.a)(x,2),h=f[0],v=f[1];return Object(B.jsx)(s.a.Fragment,{children:Object(B.jsxs)(r.a,{item:!0,xs:12,className:t.fieldContainer,children:[""!==u&&Object(B.jsxs)(N.a,{htmlFor:a,className:t.inputLabel,children:[Object(B.jsx)("span",{children:u}),""!==b&&Object(B.jsx)("div",{className:t.tooltipContainer,children:Object(B.jsx)(S.a,{title:b,placement:"top-start",children:Object(B.jsx)("div",{className:t.tooltip,children:Object(B.jsx)(w.a,{})})})})]}),Object(B.jsx)(y.a,{fullWidth:!0,children:Object(B.jsx)(M.a,{id:a,options:d,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e){return e.value===O},disabled:p,renderInput:function(e){return Object(B.jsx)(L,Object(c.a)(Object(c.a)({},e),{},{name:o}))},value:h,onChange:function(e,t){t&&(l(t.value),v(t))},autoHighlight:!0})})]})})})),D=a(23),T=Object(o.b)(null,{setModalErrorSnackMessage:v.g});t.default=Object(u.a)((function(e){return Object(d.a)(Object(c.a)(Object(c.a)({arnField:{"& div div .MuiOutlinedInput-root":{padding:0}}},h.k),h.q))}))(T((function(e){var t=e.classes,a=e.open,c=e.selectedBucket,s=e.closeModalAndRefresh,o=e.setModalErrorSnackMessage,d=Object(i.useState)(!1),u=Object(n.a)(d,2),h=u[0],v=u[1],k=Object(i.useState)(""),N=Object(n.a)(k,2),S=N[0],y=N[1],E=Object(i.useState)(""),M=Object(n.a)(E,2),w=M[0],F=M[1],L=Object(i.useState)(""),T=Object(n.a)(L,2),R=T[0],P=T[1],z=Object(i.useState)([]),W=Object(n.a)(z,2),A=W[0],H=W[1],q=Object(i.useState)([]),G=Object(n.a)(q,2),J=G[0],U=G[1],V=Object(i.useCallback)((function(){v(!0),j.a.invoke("GET","/api/v1/admin/arns").then((function(e){var t=[];null!==e.arns&&(t=e.arns),v(!1),U(t)})).catch((function(e){v(!1),o(e)}))}),[o]);Object(i.useEffect)((function(){V()}),[V]);var X=function(e,t){var a=A.indexOf(t),n=[];-1===a?n=n.concat(A,t):0===a?n=n.concat(A.slice(1)):a===A.length-1?n=n.concat(A.slice(0,-1)):a>0&&(n=n.concat(A.slice(0,a),A.slice(a+1))),H(n)},Z=J.map((function(e){return{label:e,value:e}}));return Object(B.jsx)(g.a,{modalOpen:a,onClose:function(){s()},title:"Subscribe To Bucket Events",titleIcon:Object(B.jsx)(D.S,{}),children:Object(B.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),h||(v(!0),j.a.invoke("POST","/api/v1/buckets/".concat(c,"/events"),{configuration:{arn:R,events:A,prefix:S,suffix:w},ignoreExisting:!0}).then((function(){v(!1),s()})).catch((function(e){v(!1),o(e)})))},children:Object(B.jsxs)(r.a,{container:!0,children:[Object(B.jsxs)(r.a,{item:!0,xs:12,className:t.formScrollable,children:[Object(B.jsx)(r.a,{item:!0,xs:12,className:"".concat(t.arnField," ").concat(t.formFieldRow),children:Object(B.jsx)(I,{onChange:function(e){P(e)},id:"select-access-policy",name:"select-access-policy",label:"ARN",value:R,options:Z})}),Object(B.jsx)(r.a,{item:!0,xs:12,className:t.formFieldRow,children:Object(B.jsx)(C.a,{id:"prefix-input",name:"prefix-input",label:"Prefix",value:S,onChange:function(e){y(e.target.value)}})}),Object(B.jsx)(r.a,{item:!0,xs:12,className:t.formFieldRow,children:Object(B.jsx)(C.a,{id:"suffix-input",name:"suffix-input",label:"Suffix",value:w,onChange:function(e){F(e.target.value)}})}),Object(B.jsx)(r.a,{item:!0,xs:12,className:t.formFieldRow,children:Object(B.jsxs)(f.a,{size:"medium",children:[Object(B.jsx)(b.a,{className:t.minTableHeader,children:Object(B.jsxs)(O.a,{children:[Object(B.jsx)(m.a,{children:"Select"}),Object(B.jsx)(m.a,{children:"Event"})]})}),Object(B.jsx)(p.a,{children:[{label:"PUT - Object Uploaded",value:"put"},{label:"GET - Object accessed",value:"get"},{label:"DELETE - Object Deleted",value:"delete"}].map((function(e){return Object(B.jsxs)(O.a,{onClick:function(t){return X(0,e.value)},children:[Object(B.jsx)(m.a,{padding:"checkbox",children:Object(B.jsx)(x.a,{value:e.value,color:"primary",inputProps:{"aria-label":"secondary checkbox"},onChange:function(t){return X(0,e.value)},checked:A.includes(e.value)})}),Object(B.jsx)(m.a,{className:t.wrapCell,children:e.label})]},"group-".concat(e.value))}))})]})})]}),Object(B.jsxs)(r.a,{item:!0,xs:12,className:t.modalButtonBar,children:[Object(B.jsx)(l.a,{type:"button",variant:"outlined",color:"primary",disabled:h,onClick:function(){s()},children:"Cancel"}),Object(B.jsx)(l.a,{type:"submit",variant:"contained",color:"primary",disabled:h,children:"Save"})]})]})})})})))}}]);
//# sourceMappingURL=126.daf99cfa.chunk.js.map