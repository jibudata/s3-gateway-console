{"version":3,"file":"static/js/6895.ab51144b.chunk.js","mappings":"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","sources":["screens/Console/Buckets/BucketDetails/BucketDetails.tsx","screens/Console/Common/Components/withSuspense.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport {\n  Navigate,\n  Route,\n  Routes,\n  useLocation,\n  useNavigate,\n  useParams,\n} from \"react-router-dom\";\nimport {\n  BackLink,\n  Box,\n  BucketsIcon,\n  Button,\n  FolderIcon,\n  PageLayout,\n  RefreshIcon,\n  ScreenTitle,\n  Tabs,\n  TrashIcon,\n} from \"mds\";\nimport { useSelector } from \"react-redux\";\nimport {\n  browseBucketPermissions,\n  deleteBucketPermissions,\n  IAM_PERMISSIONS,\n  IAM_ROLES,\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../common/SecureComponent/permissions\";\n\nimport {\n  hasPermission,\n  SecureComponent,\n} from \"../../../../common/SecureComponent\";\n\nimport withSuspense from \"../../Common/Components/withSuspense\";\nimport {\n  selDistSet,\n  selSiteRep,\n  setErrorSnackMessage,\n  setHelpName,\n} from \"../../../../systemSlice\";\nimport {\n  selBucketDetailsInfo,\n  selBucketDetailsLoading,\n  setBucketDetailsLoad,\n  setBucketInfo,\n} from \"./bucketDetailsSlice\";\nimport { useAppDispatch } from \"../../../../store\";\nimport TooltipWrapper from \"../../Common/TooltipWrapper/TooltipWrapper\";\nimport PageHeaderWrapper from \"../../Common/PageHeaderWrapper/PageHeaderWrapper\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport HelpMenu from \"../../HelpMenu\";\n\nconst DeleteBucket = withSuspense(\n  React.lazy(() => import(\"../ListBuckets/DeleteBucket\")),\n);\nconst AccessRulePanel = withSuspense(\n  React.lazy(() => import(\"./AccessRulePanel\")),\n);\nconst AccessDetailsPanel = withSuspense(\n  React.lazy(() => import(\"./AccessDetailsPanel\")),\n);\nconst BucketSummaryPanel = withSuspense(\n  React.lazy(() => import(\"./BucketSummaryPanel\")),\n);\nconst BucketEventsPanel = withSuspense(\n  React.lazy(() => import(\"./BucketEventsPanel\")),\n);\nconst BucketReplicationPanel = withSuspense(\n  React.lazy(() => import(\"./BucketReplicationPanel\")),\n);\nconst BucketLifecyclePanel = withSuspense(\n  React.lazy(() => import(\"./BucketLifecyclePanel\")),\n);\n\nconst BucketDetails = () => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const params = useParams();\n  const location = useLocation();\n\n  const distributedSetup = useSelector(selDistSet);\n  const loadingBucket = useSelector(selBucketDetailsLoading);\n  const bucketInfo = useSelector(selBucketDetailsInfo);\n  const siteReplicationInfo = useSelector(selSiteRep);\n\n  const [iniLoad, setIniLoad] = useState<boolean>(false);\n  const [deleteOpen, setDeleteOpen] = useState<boolean>(false);\n  const bucketName = params.bucketName || \"\";\n\n  const canDelete = hasPermission(bucketName, deleteBucketPermissions);\n  const canBrowse = hasPermission(bucketName, browseBucketPermissions);\n\n  useEffect(() => {\n    dispatch(setHelpName(\"bucket_details\"));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!iniLoad) {\n      dispatch(setBucketDetailsLoad(true));\n      setIniLoad(true);\n    }\n  }, [iniLoad, dispatch, setIniLoad]);\n\n  useEffect(() => {\n    if (loadingBucket) {\n      api.buckets\n        .bucketInfo(bucketName)\n        .then((res) => {\n          dispatch(setBucketDetailsLoad(false));\n          dispatch(setBucketInfo(res.data));\n        })\n        .catch((err) => {\n          dispatch(setBucketDetailsLoad(false));\n          dispatch(setErrorSnackMessage(errorToHandler(err)));\n        });\n    }\n  }, [bucketName, loadingBucket, dispatch]);\n\n  let topLevelRoute = `/buckets/${bucketName}`;\n  const defaultRoute = \"/admin/summary\";\n\n  const manageBucketRoutes: Record<string, any> = {\n    events: \"/admin/events\",\n    replication: \"/admin/replication\",\n    lifecycle: \"/admin/lifecycle\",\n    access: \"/admin/access\",\n    prefix: \"/admin/prefix\",\n  };\n\n  const getRoutePath = (routeKey: string) => {\n    let path = manageBucketRoutes[routeKey];\n    if (!path) {\n      path = `${topLevelRoute}${defaultRoute}`;\n    } else {\n      path = `${topLevelRoute}${path}`;\n    }\n    return path;\n  };\n\n  const closeDeleteModalAndRefresh = (refresh: boolean) => {\n    setDeleteOpen(false);\n    if (refresh) {\n      navigate(\"/buckets\");\n    }\n  };\n\n  return (\n    <Fragment>\n      {deleteOpen && (\n        <DeleteBucket\n          deleteOpen={deleteOpen}\n          selectedBucket={bucketName}\n          closeDeleteModalAndRefresh={(refresh: boolean) => {\n            closeDeleteModalAndRefresh(refresh);\n          }}\n        />\n      )}\n      <PageHeaderWrapper\n        label={\n          <BackLink label={\"Buckets\"} onClick={() => navigate(\"/buckets\")} />\n        }\n        actions={\n          <Fragment>\n            <TooltipWrapper\n              tooltip={\n                canBrowse\n                  ? \"Browse Bucket\"\n                  : permissionTooltipHelper(\n                      IAM_PERMISSIONS[IAM_ROLES.BUCKET_VIEWER],\n                      \"browsing this bucket\",\n                    )\n              }\n            >\n              <Button\n                id={\"switch-browse-view\"}\n                aria-label=\"Browse Bucket\"\n                onClick={() => {\n                  navigate(`/browser/${bucketName}`);\n                }}\n                icon={\n                  <FolderIcon\n                    style={{ width: 20, height: 20, marginTop: -3 }}\n                  />\n                }\n                style={{\n                  padding: \"0 10px\",\n                }}\n                disabled={!canBrowse}\n              />\n            </TooltipWrapper>\n            <HelpMenu />\n          </Fragment>\n        }\n      />\n      <PageLayout>\n        <ScreenTitle\n          icon={\n            <Fragment>\n              <BucketsIcon width={40} />\n            </Fragment>\n          }\n          title={bucketName}\n          subTitle={\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_BUCKET_POLICY,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <span style={{ fontSize: 15 }}>Access: </span>\n              <span\n                style={{\n                  fontWeight: 600,\n                  fontSize: 15,\n                  textTransform: \"capitalize\",\n                }}\n              >\n                {bucketInfo?.access?.toLowerCase()}\n              </span>\n            </SecureComponent>\n          }\n          actions={\n            <Fragment>\n              <SecureComponent\n                scopes={deleteBucketPermissions}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <TooltipWrapper\n                  tooltip={\n                    canDelete\n                      ? \"\"\n                      : permissionTooltipHelper(\n                          [\n                            IAM_SCOPES.S3_DELETE_BUCKET,\n                            IAM_SCOPES.S3_FORCE_DELETE_BUCKET,\n                          ],\n                          \"deleting this bucket\",\n                        )\n                  }\n                >\n                  <Button\n                    id={\"delete-bucket-button\"}\n                    onClick={() => {\n                      setDeleteOpen(true);\n                    }}\n                    label={\"Delete Bucket\"}\n                    icon={<TrashIcon />}\n                    variant={\"secondary\"}\n                    disabled={!canDelete}\n                  />\n                </TooltipWrapper>\n              </SecureComponent>\n              <Button\n                id={\"refresh-bucket-info\"}\n                onClick={() => {\n                  dispatch(setBucketDetailsLoad(true));\n                }}\n                label={\"Refresh\"}\n                icon={<RefreshIcon />}\n              />\n            </Fragment>\n          }\n          sx={{ marginBottom: 15 }}\n        />\n        <Box>\n          <Tabs\n            currentTabOrPath={location.pathname}\n            useRouteTabs\n            onTabClick={(tab) => {\n              navigate(tab);\n            }}\n            options={[\n              {\n                tabConfig: {\n                  label: \"Summary\",\n                  id: \"summary\",\n                  to: getRoutePath(\"summary\"),\n                },\n              },\n              {\n                tabConfig: {\n                  label: \"Events\",\n                  id: \"events\",\n                  disabled: !hasPermission(bucketName, [\n                    IAM_SCOPES.S3_GET_BUCKET_NOTIFICATIONS,\n                    IAM_SCOPES.S3_PUT_BUCKET_NOTIFICATIONS,\n                    IAM_SCOPES.S3_GET_ACTIONS,\n                    IAM_SCOPES.S3_PUT_ACTIONS,\n                  ]),\n                  to: getRoutePath(\"events\"),\n                },\n              },\n              {\n                tabConfig: {\n                  label: \"Replication\",\n                  id: \"replication\",\n                  disabled:\n                    !distributedSetup ||\n                    (siteReplicationInfo.enabled &&\n                      siteReplicationInfo.curSite) ||\n                    !hasPermission(bucketName, [\n                      IAM_SCOPES.S3_GET_REPLICATION_CONFIGURATION,\n                      IAM_SCOPES.S3_PUT_REPLICATION_CONFIGURATION,\n                      IAM_SCOPES.S3_GET_ACTIONS,\n                      IAM_SCOPES.S3_PUT_ACTIONS,\n                    ]),\n                  to: getRoutePath(\"replication\"),\n                },\n              },\n              {\n                tabConfig: {\n                  label: \"Lifecycle\",\n                  id: \"lifecycle\",\n                  disabled:\n                    !distributedSetup ||\n                    !hasPermission(bucketName, [\n                      IAM_SCOPES.S3_GET_LIFECYCLE_CONFIGURATION,\n                      IAM_SCOPES.S3_PUT_LIFECYCLE_CONFIGURATION,\n                      IAM_SCOPES.S3_GET_ACTIONS,\n                      IAM_SCOPES.S3_PUT_ACTIONS,\n                    ]),\n                  to: getRoutePath(\"lifecycle\"),\n                },\n              },\n              {\n                tabConfig: {\n                  label: \"Access\",\n                  id: \"access\",\n                  disabled: !hasPermission(bucketName, [\n                    IAM_SCOPES.ADMIN_GET_POLICY,\n                    IAM_SCOPES.ADMIN_LIST_USER_POLICIES,\n                    IAM_SCOPES.ADMIN_LIST_USERS,\n                  ]),\n                  to: getRoutePath(\"access\"),\n                },\n              },\n              {\n                tabConfig: {\n                  label: \"Anonymous\",\n                  id: \"anonymous\",\n                  disabled: !hasPermission(bucketName, [\n                    IAM_SCOPES.S3_GET_BUCKET_POLICY,\n                    IAM_SCOPES.S3_GET_ACTIONS,\n                  ]),\n                  to: getRoutePath(\"prefix\"),\n                },\n              },\n            ]}\n            routes={\n              <Routes>\n                <Route path=\"summary\" element={<BucketSummaryPanel />} />\n                <Route path=\"events\" element={<BucketEventsPanel />} />\n                {distributedSetup && (\n                  <Route\n                    path=\"replication\"\n                    element={<BucketReplicationPanel />}\n                  />\n                )}\n                {distributedSetup && (\n                  <Route path=\"lifecycle\" element={<BucketLifecyclePanel />} />\n                )}\n\n                <Route path=\"access\" element={<AccessDetailsPanel />} />\n                <Route path=\"prefix\" element={<AccessRulePanel />} />\n                <Route\n                  path=\"*\"\n                  element={\n                    <Navigate to={`/buckets/${bucketName}/admin/summary`} />\n                  }\n                />\n              </Routes>\n            }\n          />\n        </Box>\n      </PageLayout>\n    </Fragment>\n  );\n};\n\nexport default BucketDetails;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { ComponentType, Suspense, SuspenseProps } from \"react\";\n\nfunction withSuspense<P extends string | number | object>(\n  WrappedComponent: ComponentType<P>,\n  fallback: SuspenseProps[\"fallback\"] = null,\n) {\n  function ComponentWithSuspense(props: P) {\n    return (\n      <Suspense fallback={fallback}>\n        <WrappedComponent {...(props as any)} />\n      </Suspense>\n    );\n  }\n\n  return ComponentWithSuspense;\n}\n\nexport default withSuspense;\n"],"names":["DeleteBucket","withSuspense","React","AccessRulePanel","AccessDetailsPanel","BucketSummaryPanel","BucketEventsPanel","BucketReplicationPanel","BucketLifecyclePanel","_bucketInfo$access","dispatch","useAppDispatch","navigate","useNavigate","params","useParams","location","useLocation","distributedSetup","useSelector","selDistSet","loadingBucket","selBucketDetailsLoading","bucketInfo","selBucketDetailsInfo","siteReplicationInfo","selSiteRep","_useState","useState","_useState2","_slicedToArray","iniLoad","setIniLoad","_useState3","_useState4","deleteOpen","setDeleteOpen","bucketName","canDelete","hasPermission","deleteBucketPermissions","canBrowse","browseBucketPermissions","useEffect","setHelpName","setBucketDetailsLoad","api","buckets","then","res","setBucketInfo","data","catch","err","setErrorSnackMessage","errorToHandler","topLevelRoute","concat","manageBucketRoutes","events","replication","lifecycle","access","prefix","getRoutePath","routeKey","path","_jsxs","Fragment","children","_jsx","selectedBucket","closeDeleteModalAndRefresh","refresh","PageHeaderWrapper","label","BackLink","onClick","actions","TooltipWrapper","tooltip","permissionTooltipHelper","IAM_PERMISSIONS","IAM_ROLES","BUCKET_VIEWER","Button","id","icon","FolderIcon","style","width","height","marginTop","padding","disabled","HelpMenu","PageLayout","ScreenTitle","BucketsIcon","title","subTitle","SecureComponent","scopes","IAM_SCOPES","S3_GET_BUCKET_POLICY","S3_GET_ACTIONS","resource","fontSize","fontWeight","textTransform","toLowerCase","errorProps","S3_DELETE_BUCKET","S3_FORCE_DELETE_BUCKET","TrashIcon","variant","RefreshIcon","sx","marginBottom","Box","Tabs","currentTabOrPath","pathname","useRouteTabs","onTabClick","tab","options","tabConfig","to","S3_GET_BUCKET_NOTIFICATIONS","S3_PUT_BUCKET_NOTIFICATIONS","S3_PUT_ACTIONS","enabled","curSite","S3_GET_REPLICATION_CONFIGURATION","S3_PUT_REPLICATION_CONFIGURATION","S3_GET_LIFECYCLE_CONFIGURATION","S3_PUT_LIFECYCLE_CONFIGURATION","ADMIN_GET_POLICY","ADMIN_LIST_USER_POLICIES","ADMIN_LIST_USERS","routes","Routes","Route","element","Navigate","WrappedComponent","fallback","arguments","length","undefined","props","Suspense","_objectSpread"],"sourceRoot":""}