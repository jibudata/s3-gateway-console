(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[483],{70483:function(e,t,o){"use strict";o.r(t);var n=o(93433),l=o(29439),i=o(72791),c=o(95087),r=o(29945),a=o(26824),s=o(57689),u=o(9478),f=o(44690),p=o(87995),b=o(31460),d=o(47974),h=o(99670),g=o(80184),x=null;t.default=function(){var e=(0,s.s0)(),t=(0,i.useState)(!1),o=(0,l.Z)(t,2),w=o[0],v=o[1],m=(0,i.useState)(["cpu","mem","block","mutex","goroutines"]),y=(0,l.Z)(m,2),j=y[0],k=y[1],_=(0,u.Yc)(),C=function(e){var t=[];t=j.indexOf(e.target.value)>-1?j.filter((function(t){return t!==e.target.value})):[].concat((0,n.Z)(j),[e.target.value]),k(t)},O=(0,f.TL)();return(0,i.useEffect)((function(){O((0,p.Sc)("profile"))}),[]),(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(d.Z,{label:"Profile",actions:(0,g.jsx)(h.Z,{})}),(0,g.jsxs)(r.Xgh,{children:[!_&&(0,g.jsx)(b.Z,{compactMode:!0}),(0,g.jsxs)(r.ltY,{children:[(0,g.jsxs)(r.xuv,{sx:{display:"flex",gap:10,"& div":{width:"initial"},"& .inputItem:not(:last-of-type)":{marginBottom:0}},children:[(0,g.jsx)(r.AZs,{noMinWidth:!0,children:"Types to profile:"}),[{label:"cpu",value:"cpu"},{label:"mem",value:"mem"},{label:"block",value:"block"},{label:"mutex",value:"mutex"},{label:"goroutines",value:"goroutines"}].map((function(e){return(0,g.jsx)(r.XZJ,{checked:j.indexOf(e.value)>-1,disabled:w||!_,id:"checkbox-".concat(e.label),label:e.label,name:"checkbox-".concat(e.label),onChange:C,value:e.value},"checkbox-".concat(e.label))}))]}),(0,g.jsxs)(r.xuv,{sx:{display:"flex",justifyContent:"flex-end",marginTop:24,gap:10},children:[(0,g.jsx)(r.zxk,{id:"start-profiling",type:"submit",variant:_?"callAction":"regular",disabled:w||j.length<1||!_,onClick:function(){_?function(){var e=j.join(","),t=new URL(window.location.toString()),o=t.port,n=new URL(document.baseURI).pathname,l=(0,a.x2)(t.protocol);if(null!==(x=new c.w3cwebsocket("".concat(l,"://").concat(t.hostname,":").concat(o).concat(n,"ws/profile?types=").concat(e))))x.onopen=function(){v(!0),x.send("ok")},x.onmessage=function(e){var t=new Blob([e.data],{type:"application/zip"});v(!1);var o=document.createElement("a");o.href=window.URL.createObjectURL(t),o.download="profile.zip",document.body.appendChild(o),o.click(),document.body.removeChild(o)},x.onclose=function(){console.log("connection closed by server"),v(!1)}}():e("/support/register")},label:"Start Profiling"}),(0,g.jsx)(r.zxk,{id:"stop-profiling",type:"submit",variant:"callAction",color:"primary",disabled:!w||!_,onClick:function(){x.close(1e3),v(!1)},label:"Stop Profiling"})]})]})]})]})}},94210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},95087:function(e,t,o){var n;if("object"===typeof globalThis)n=globalThis;else try{n=o(94210)}catch(r){}finally{if(n||"undefined"===typeof window||(n=window),!n)throw new Error("Could not determine global this")}var l=n.WebSocket||n.MozWebSocket,i=o(51496);function c(e,t){return t?new l(e,t):new l(e)}l&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(c,e,{get:function(){return l[e]}})})),e.exports={w3cwebsocket:l?c:null,version:i}},51496:function(e,t,o){e.exports=o(19794).version},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=483.8c83b198.chunk.js.map