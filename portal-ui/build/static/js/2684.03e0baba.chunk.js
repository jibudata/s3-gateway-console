"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2684],{46707:function(e,t,n){var i=n(1413),r=(n(72791),n(80184));t.Z=function(e){return(0,r.jsxs)("svg",(0,i.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 256 256"},e),{},{children:[(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"certificate_svg__a",children:(0,r.jsx)("path",{"data-name":"Rect\\xE1ngulo 2156",fill:"#07193e",d:"M0 0h256v222.048H0z"})})}),(0,r.jsxs)("g",{"data-name":"Grupo 4763",transform:"translate(0 17)",clipPath:"url(#certificate_svg__a)",fill:"#07193e",children:[(0,r.jsx)("path",{"data-name":"Trazado 8152",d:"M240-.002H16a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h120l4.64-5.6 7.44-9.12A66.72 66.72 0 0 1 256 98.958v-82.96a16 16 0 0 0-16-16m-130.96 149.7H47.3a7.3 7.3 0 1 1 0-14.592h61.74a7.3 7.3 0 1 1 0 14.592m0-56H47.3a7.3 7.3 0 1 1 0-14.592h61.74a7.3 7.3 0 0 1 0 14.592m66.96-39.3a6.419 6.419 0 0 1-6.4 6.4H46.4a6.419 6.419 0 0 1-6.4-6.4v-1.792a6.419 6.419 0 0 1 6.4-6.4h123.2a6.419 6.419 0 0 1 6.4 6.4Z"}),(0,r.jsx)("path",{"data-name":"Trazado 8153",d:"M256 137.486a50.96 50.96 0 1 0-86.16 36.72l-15.52 18.96 7.2 28.88 29.28-35.68a50.018 50.018 0 0 0 28.4 0l29.28 35.68 7.2-28.88-15.52-18.96a50.75 50.75 0 0 0 15.84-36.72m-50.928 29.688a29.688 29.688 0 0 1-.072-59.376h.072a29.688 29.688 0 0 1 0 59.376"})]}),(0,r.jsx)("path",{"data-name":"Rect\\xE1ngulo 2157",fill:"none",d:"M0 0h256v256H0z"})]}))}},54639:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(29439),r=n(1413),a=n(72791),s=n(26181),o=n.n(s),c=n(61889),l=n(30829),d=n(20068),u=n(13400),m=n(99663),x=n(86711),f=n(11135),h=n(25787),p=n(23814),j=n(84570),Z=n(22512),v=n(80184),C=(0,h.Z)((function(e){return(0,f.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},p.YI),p.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},p.bV),{},{inputLabel:(0,r.Z)((0,r.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,r.Z)((0,r.Z)({},p.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var t=e.label,n=e.classes,r=e.onChange,s=e.id,f=e.name,h=e.disabled,p=void 0!==h&&h,C=e.tooltip,g=void 0===C?"":C,y=e.required,b=e.error,A=void 0===b?"":b,N=e.accept,S=void 0===N?"":N,k=e.value,w=void 0===k?"":k,R=(0,a.useState)(!1),P=(0,i.Z)(R,2),T=P[0],I=P[1];return(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(n.fileInputField," ").concat(n.fieldBottom," ").concat(n.fieldContainer," ").concat(""!==A?n.errorInField:""),children:[""!==t&&(0,v.jsxs)(l.Z,{htmlFor:s,className:"".concat(""!==A?n.fieldLabelError:""," ").concat(n.inputLabel),children:[(0,v.jsxs)("span",{children:[t,y?"*":""]}),""!==g&&(0,v.jsx)("div",{className:n.tooltipContainer,children:(0,v.jsx)(d.Z,{title:g,placement:"top-start",children:(0,v.jsx)("div",{className:n.tooltip,children:(0,v.jsx)(j.Z,{})})})})]}),T||""===w?(0,v.jsxs)("div",{className:n.textBoxContainer,children:[(0,v.jsx)("input",{type:"file",name:f,onChange:function(e){var t=o()(e,"target.files[0].name","");!function(e,t){var n=e.target.files[0],i=new FileReader;i.readAsDataURL(n),i.onload=function(){var e=i.result;if(e){var n=e.toString().split("base64,");2===n.length&&t(n[1])}}}(e,(function(e){r(e,t)}))},accept:S,required:y,disabled:p,className:n.fileInputField}),""!==w&&(0,v.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){I(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,v.jsx)(x.Z,{})}),""!==A&&(0,v.jsx)(Z.Z,{errorMessage:A})]}):(0,v.jsxs)("div",{className:n.fileReselect,children:[(0,v.jsx)("div",{className:n.valueString,children:w}),(0,v.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){I(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,v.jsx)(m.Z,{})})]})]})})}))},80666:function(e,t,n){n(72791);var i=n(99779),r=n(11135),a=n(25787),s=n(90983),o=n(81918),c=n(91614),l=n(61889),d=n(20890),u=n(64554),m=n(94721),x=n(90493),f=n(15021),h=n(20653),p=n(49900),j=n(52502),Z=n(46707),v=n(80184);t.Z=(0,a.Z)((function(e){return(0,r.Z)({certificateIcon:{float:"left",paddingTop:"5px !important",paddingRight:"10px !important"},certificateInfo:{float:"right"},certificateWrapper:{height:"auto",margin:5,border:"1px solid #E2E2E2",userSelect:"text",borderRadius:4,"& h6":{fontWeight:"bold"},"& div":{padding:0}},certificateExpiry:{color:"#616161",display:"flex",alignItems:"center",flexWrap:"wrap",marginBottom:5,"& .label":{fontWeight:"bold"}},certificateDomains:{color:"#616161","& .label":{fontWeight:"bold"}},certificatesList:{border:"1px solid #E2E2E2",borderRadius:4,color:"#616161",textTransform:"lowercase",overflowY:"scroll",maxHeight:145,marginBottom:10},certificatesListItem:{padding:"0px 16px",borderBottom:"1px solid #E2E2E2","& div":{minWidth:0},"& svg":{fontSize:12,marginRight:10,opacity:.5},"& span":{fontSize:12}}})}))((function(e){var t=e.classes,n=e.certificateInfo,r=e.onDelete,a=void 0===r?function(){}:r,C=n.domains||[],g=i.ou.fromISO(n.expiry);return(0,v.jsx)(o.Z,{variant:"outlined",color:"primary",className:t.certificateWrapper,label:(0,v.jsxs)(c.Z,{children:[(0,v.jsx)(l.ZP,{item:!0,xs:1,className:t.certificateIcon,children:(0,v.jsx)(Z.Z,{})}),(0,v.jsxs)(l.ZP,{item:!0,xs:11,className:t.certificateInfo,children:[(0,v.jsx)(d.Z,{variant:"subtitle1",display:"block",gutterBottom:!0,children:n.name}),(0,v.jsxs)(u.Z,{className:t.certificateExpiry,children:[(0,v.jsx)(j.Z,{color:"inherit",fontSize:"small"}),"\xa0",(0,v.jsx)("span",{className:"label",children:"Expiry:\xa0"}),(0,v.jsx)("span",{children:g.toFormat("yyyy/MM/dd")})]}),(0,v.jsx)(m.Z,{}),(0,v.jsx)("br",{}),(0,v.jsx)(u.Z,{className:t.certificateDomains,children:(0,v.jsx)("span",{className:"label",children:"".concat(C.length," Domain (s):")})}),(0,v.jsx)(x.Z,{className:t.certificatesList,children:C.map((function(e,n){return(0,v.jsxs)(f.ZP,{className:t.certificatesListItem,children:[(0,v.jsx)(h.Z,{children:(0,v.jsx)(s.Z,{})}),(0,v.jsx)(p.Z,{primary:e})]},"".concat(e,"-").concat(n))}))})]})]}),onDelete:a},n.name)}))},88070:function(e,t,n){n(72791);var i=n(78687),r=n(64554),a=n(46707),s=n(57689),o=n(80184),c=function(e){var t=e.icon,n=e.description;return(0,o.jsxs)(r.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[t," ",(0,o.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:n})]})};t.Z=function(){var e=(0,s.UO)(),t=e.tenantName||"",n=e.tenantNamespace||"",l=(0,i.v9)((function(e){return""!==n?n:""!==e.createTenant.fields.nameTenant.namespace?e.createTenant.fields.nameTenant.namespace:"<namespace>"})),d=(0,i.v9)((function(e){return""!==t?t:""!==e.createTenant.fields.nameTenant.tenantName?e.createTenant.fields.nameTenant.tenantName:"<tenant-name>"}));return(0,o.jsx)(r.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:(0,o.jsxs)(r.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,o.jsx)(c,{icon:(0,o.jsx)(a.Z,{}),description:"TLS Certificates Warning"}),(0,o.jsxs)(r.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:["Automatic certificate generation is not enabled.",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"If you wish to continue only with ",(0,o.jsx)("b",{children:"custom certificates"})," make sure they are valid for the following internode hostnames, i.e.:",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:["minio.",l,(0,o.jsx)("br",{}),"minio.",l,".svc",(0,o.jsx)("br",{}),"minio.",l,".svc.<cluster domain>",(0,o.jsx)("br",{}),"*.",d,"-hl.",l,".svc.<cluster domain>",(0,o.jsx)("br",{}),"*.",l,".svc.<cluster domain>"]}),(0,o.jsx)("br",{}),"Replace ",(0,o.jsx)("em",{children:"<tenant-name>"}),","," ",(0,o.jsx)("em",{children:"<namespace>"})," and",(0,o.jsx)("em",{children:"<cluster domain>"})," with the actual values for your MinIO tenant.",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"You can learn more at our"," ",(0,o.jsx)("a",{href:"https://min.io/docs/minio/kubernetes/upstream/operations/network-encryption.html?ref=op#id5",target:"_blank",rel:"noreferrer",children:"documentation"}),"."]})]})})}},12684:function(e,t,n){n.r(t);var i=n(4942),r=n(93433),a=n(29439),s=n(1413),o=n(72791),c=n(78687),l=n(51691),d=n(13400),u=n(75952),m=n(11135),x=n(25787),f=n(61889),h=n(23814),p=n(25469),j=n(56096),Z=n(87995),v=n(37516),C=n(54639),g=n(81207),y=n(23508),b=n(72401),A=n(80666),N=n(18158),S=n(1078),k=n(88070),w=n(51979),R=n(80184),P=(0,c.$j)((function(e){return{loadingTenant:e.tenants.loadingTenant,selectedTenant:e.tenants.currentTenant,tenant:e.tenants.tenantInfo}}),null);t.default=(0,x.Z)((function(e){return(0,m.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},h.oZ),h.bK),{},{minioCertificateRows:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1}},minioCertsContainer:{marginBottom:15},minioCACertsRow:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},loaderAlign:{textAlign:"center"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}}},(0,h.Bz)(e.spacing(4))),h.QV),h.DF),h.oO),h.AK))}))(P((function(e){var t=e.classes,n=(0,p.TL)(),m=(0,c.v9)((function(e){return e.tenants.tenantInfo})),x=(0,c.v9)((function(e){return e.tenants.loadingTenant})),h=(0,o.useState)(!1),P=(0,a.Z)(h,2),T=P[0],I=P[1],_=(0,o.useState)(!1),F=(0,a.Z)(_,2),E=F[0],G=F[1],B=(0,o.useState)(!1),z=(0,a.Z)(B,2),D=z[0],L=z[1],M=(0,o.useState)(!1),O=(0,a.Z)(M,2),W=O[0],U=O[1],H=(0,o.useState)(!1),K=(0,a.Z)(H,2),q=K[0],Y=K[1],V=(0,o.useState)([]),Q=(0,a.Z)(V,2),$=Q[0],J=Q[1],X=(0,o.useState)([{id:Date.now().toString(),key:"",cert:"",encoded_key:"",encoded_cert:""}]),ee=(0,a.Z)(X,2),te=ee[0],ne=ee[1],ie=(0,o.useState)([{id:Date.now().toString(),key:"",cert:"",encoded_key:"",encoded_cert:""}]),re=(0,a.Z)(ie,2),ae=re[0],se=re[1],oe=(0,o.useState)([{id:Date.now().toString(),key:"",cert:"",encoded_key:"",encoded_cert:""}]),ce=(0,a.Z)(oe,2),le=ce[0],de=ce[1],ue=(0,o.useState)([]),me=(0,a.Z)(ue,2),xe=me[0],fe=me[1],he=(0,o.useState)([]),pe=(0,a.Z)(he,2),je=pe[0],Ze=pe[1],ve=(0,o.useState)([]),Ce=(0,a.Z)(ve,2),ge=Ce[0],ye=Ce[1],be=(0,c.v9)((function(e){return e.editTenantSecurityContext.runAsGroup})),Ae=(0,c.v9)((function(e){return e.editTenantSecurityContext.runAsUser})),Ne=(0,c.v9)((function(e){return e.editTenantSecurityContext.fsGroup})),Se=(0,c.v9)((function(e){return e.editTenantSecurityContext.runAsNonRoot})),ke=(0,c.v9)((function(e){return e.editTenantSecurityContext.fsGroupChangePolicy})),we=(0,o.useCallback)((function(){g.Z.invoke("GET","/api/v1/namespaces/".concat(null===m||void 0===m?void 0:m.namespace,"/tenants/").concat(null===m||void 0===m?void 0:m.name,"/security")).then((function(e){U(e.autoCert),L(e.autoCert),(e.customCertificates.minio||e.customCertificates.client||e.customCertificates.minioCAs)&&(Y(!0),L(!0)),fe(e.customCertificates.minio||[]),Ze(e.customCertificates.client||[]),ye(e.customCertificates.minioCAs||[]),n((0,S.Be)(e.securityContext.runAsGroup)),n((0,S.wT)(e.securityContext.runAsUser)),n((0,S.FP)(e.securityContext.fsGroup)),n((0,S.vM)(e.securityContext.runAsNonRoot)),n((0,S.rR)(e.securityContext.fsGroupChangePolicy))})).catch((function(e){n((0,Z.Ih)(e))}))}),[m,n]);(0,o.useEffect)((function(){m&&we()}),[m,we]);var Re=function(e){J([].concat((0,r.Z)($),[e.name]));var t=xe.filter((function(t){return t.name!==e.name})),n=je.filter((function(t){return t.name!==e.name})),i=ge.filter((function(t){return t.name!==e.name}));fe(t),Ze(n),ye(i)},Pe=function(e,t,n,r,a){var o=te,c=function(){};switch(e){case"minio":o=te,c=ne;break;case"client":o=ae,c=se;break;case"minioCAs":o=le,c=de}c(o.map((function(e){var o;return e.id===t?(0,s.Z)((0,s.Z)({},e),{},(o={},(0,i.Z)(o,n,r),(0,i.Z)(o,"encoded_".concat(n),a),o)):e})))},Te=function(e,t){var n=te,i=function(){};switch(e){case"minio":n=te,i=ne;break;case"client":n=ae,i=se;break;case"minioCAs":n=le,i=de}n.length>1&&i(n.filter((function(e){return e.id!==t})))},Ie=function(e){var t=te,n=function(){};switch(e){case"minio":t=te,n=ne;break;case"client":t=ae,n=se;break;case"minioCAs":t=le,n=de}n([].concat((0,r.Z)(t),[{id:Date.now().toString(),key:"",cert:"",encoded_key:"",encoded_cert:""}]))};return(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)(y.Z,{title:"Save and Restart",confirmText:"Restart",cancelText:"Cancel",titleIcon:(0,R.jsx)(j.EjK,{}),isLoading:T,onClose:function(){return G(!1)},isOpen:E,onConfirm:function(){I(!0);var e={autoCert:W,customCertificates:{},securityContext:{runAsGroup:be,runAsUser:Ae,runAsNonRoot:Se,fsGroup:Ne,fsGroupChangePolicy:ke}};e.customCertificates=q?{secretsToBeDeleted:$,minioServerCertificates:te.map((function(e){return{crt:e.encoded_cert,key:e.encoded_key}})).filter((function(e){return e.crt&&e.key})),minioClientCertificates:ae.map((function(e){return{crt:e.encoded_cert,key:e.encoded_key}})).filter((function(e){return e.crt&&e.key})),minioCAsCertificates:le.map((function(e){return e.encoded_cert})).filter((function(e){return e}))}:{secretsToBeDeleted:[].concat((0,r.Z)(xe.map((function(e){return e.name}))),(0,r.Z)(je.map((function(e){return e.name}))),(0,r.Z)(ge.map((function(e){return e.name})))),minioServerCertificates:[],minioClientCertificates:[],minioCAsCertificates:[]},g.Z.invoke("POST","/api/v1/namespaces/".concat(null===m||void 0===m?void 0:m.namespace,"/tenants/").concat(null===m||void 0===m?void 0:m.name,"/security"),e).then((function(){I(!1),G(!1),ne([{cert:"",encoded_cert:"",encoded_key:"",id:Date.now().toString(),key:""}]),se([{cert:"",encoded_cert:"",encoded_key:"",id:Date.now().toString(),key:""}]),de([{cert:"",encoded_cert:"",encoded_key:"",id:Date.now().toString(),key:""}]),we()})).catch((function(e){n((0,Z.Ih)(e)),I(!1)}))},confirmationContent:(0,R.jsx)(l.Z,{children:"Are you sure you want to save the changes and restart the service?"})}),x?(0,R.jsx)("div",{className:t.loaderAlign,children:(0,R.jsx)(b.Z,{})}):(0,R.jsxs)(f.ZP,{container:!0,spacing:1,children:[(0,R.jsxs)(f.ZP,{item:!0,xs:12,children:[(0,R.jsx)("h1",{className:t.sectionTitle,children:"Security"}),(0,R.jsx)("hr",{className:t.hrClass})]}),(0,R.jsxs)(f.ZP,{container:!0,spacing:1,children:[(0,R.jsx)(f.ZP,{item:!0,xs:12,children:(0,R.jsx)(v.Z,{value:"enableTLS",id:"enableTLS",name:"enableTLS",checked:D,onChange:function(e){var t=e.target.checked;L(t)},label:"TLS",description:"Securing all the traffic using TLS. This is required for Encryption Configuration"})}),D&&(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)(f.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,R.jsx)(v.Z,{value:"enableAutoCert",id:"enableAutoCert",name:"enableAutoCert",checked:W,onChange:function(e){var t=e.target.checked;U(t)},label:"AutoCert",description:"The internode certificates will be generated and managed by MinIO Operator"})}),(0,R.jsx)(f.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,R.jsx)(v.Z,{value:"enableCustomCerts",id:"enableCustomCerts",name:"enableCustomCerts",checked:q,onChange:function(e){var t=e.target.checked;Y(t)},label:"Custom Certificates",description:"Certificates used to terminated TLS at MinIO"})}),q&&(0,R.jsxs)(o.Fragment,{children:[!W&&(0,R.jsx)(f.ZP,{item:!0,xs:12,children:(0,R.jsx)(k.Z,{})}),(0,R.jsx)(f.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,R.jsx)("h5",{children:"MinIO Server Certificates"})}),(0,R.jsx)(f.ZP,{item:!0,xs:12,children:xe.map((function(e){return(0,R.jsx)(A.Z,{certificateInfo:e,onDelete:function(){return Re(e)}})}))}),(0,R.jsx)(f.ZP,{item:!0,xs:12,className:t.formFieldRow,children:te.map((function(e,n){return(0,R.jsxs)(f.ZP,{item:!0,xs:12,className:t.minioCertificateRows,children:[(0,R.jsxs)(f.ZP,{item:!0,xs:10,className:t.fileItem,children:[(0,R.jsx)(C.Z,{onChange:function(t,n){return Pe("minio",e.id,"cert",n,t)},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,R.jsx)(C.Z,{onChange:function(t,n){return Pe("minio",e.id,"key",n,t)},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,R.jsxs)(f.ZP,{item:!0,xs:2,className:t.rowActions,children:[(0,R.jsx)("div",{className:t.overlayAction,children:(0,R.jsx)(d.Z,{size:"small",onClick:function(){return Ie("minio")},disabled:n!==te.length-1,children:(0,R.jsx)(j.dtP,{})})}),(0,R.jsx)("div",{className:t.overlayAction,children:(0,R.jsx)(d.Z,{size:"small",onClick:function(){return Te("minio",e.id)},disabled:te.length<=1,children:(0,R.jsx)(w.Z,{})})})]})]},e.id)}))}),(0,R.jsx)(f.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,R.jsx)("h5",{children:"MinIO Client Certificates"})}),(0,R.jsx)(f.ZP,{item:!0,xs:12,children:je.map((function(e){return(0,R.jsx)(A.Z,{certificateInfo:e,onDelete:function(){return Re(e)}})}))}),(0,R.jsx)(f.ZP,{item:!0,xs:12,className:t.formFieldRow,children:ae.map((function(e,n){return(0,R.jsxs)(f.ZP,{item:!0,xs:12,className:t.minioCertificateRows,children:[(0,R.jsxs)(f.ZP,{item:!0,xs:10,className:t.fileItem,children:[(0,R.jsx)(C.Z,{onChange:function(t,n){return Pe("client",e.id,"cert",n,t)},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,R.jsx)(C.Z,{onChange:function(t,n){return Pe("client",e.id,"key",n,t)},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,R.jsxs)(f.ZP,{item:!0,xs:2,className:t.rowActions,children:[(0,R.jsx)("div",{className:t.overlayAction,children:(0,R.jsx)(d.Z,{size:"small",onClick:function(){return Ie("client")},disabled:n!==ae.length-1,children:(0,R.jsx)(j.dtP,{})})}),(0,R.jsx)("div",{className:t.overlayAction,children:(0,R.jsx)(d.Z,{size:"small",onClick:function(){return Te("client",e.id)},disabled:ae.length<=1,children:(0,R.jsx)(w.Z,{})})})]})]},e.id)}))}),(0,R.jsx)(f.ZP,{item:!0,xs:12,children:(0,R.jsx)("h5",{children:"MinIO CA Certificates"})}),(0,R.jsx)(f.ZP,{item:!0,xs:12,children:ge.map((function(e){return(0,R.jsx)(A.Z,{certificateInfo:e,onDelete:function(){return Re(e)}})}))}),(0,R.jsx)(f.ZP,{item:!0,xs:12,children:le.map((function(e,n){return(0,R.jsxs)(f.ZP,{item:!0,xs:12,className:t.minioCACertsRow,children:[(0,R.jsx)(f.ZP,{item:!0,xs:10,children:(0,R.jsx)(C.Z,{onChange:function(t,n){return Pe("minioCAs",e.id,"cert",n,t)},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert})}),(0,R.jsx)(f.ZP,{item:!0,xs:2,children:(0,R.jsxs)("div",{className:t.rowActions,children:[(0,R.jsx)("div",{className:t.overlayAction,children:(0,R.jsx)(d.Z,{size:"small",onClick:function(){return Ie("minioCAs")},disabled:n!==le.length-1,children:(0,R.jsx)(j.dtP,{})})}),(0,R.jsx)("div",{className:t.overlayAction,children:(0,R.jsx)(d.Z,{size:"small",onClick:function(){return Te("minioCAs",e.id)},disabled:le.length<=1,children:(0,R.jsx)(w.Z,{})})})]})})]},e.id)}))})]})]}),(0,R.jsxs)(f.ZP,{item:!0,xs:12,className:t.formFieldRow,children:[(0,R.jsx)("h1",{className:t.sectionTitle,children:"Security Context"}),(0,R.jsx)("hr",{className:t.hrClass})]}),(0,R.jsx)(f.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,R.jsx)(N.Z,{classes:t,runAsGroup:be,runAsUser:Ae,fsGroup:Ne,runAsNonRoot:Se,fsGroupChangePolicy:ke,setFSGroup:function(e){return n((0,S.FP)(e))},setRunAsUser:function(e){return n((0,S.wT)(e))},setRunAsGroup:function(e){return n((0,S.Be)(e))},setRunAsNonRoot:function(e){return n((0,S.vM)(e))},setFSGroupChangePolicy:function(e){return n((0,S.rR)(e))}})}),(0,R.jsx)(f.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,R.jsx)(u.zx,{id:"save-security",type:"submit",variant:"callAction",disabled:E||T,onClick:function(){return G(!0)},label:"Save"})})]})]})]})})))},18158:function(e,t,n){var i=n(72791),r=n(21435),a=n(37516),s=n(90673),o=n(61889),c=n(78687),l=n(11135),d=n(25787),u=n(80184);t.Z=(0,d.Z)((function(e){return(0,l.Z)({configSectionItem:{marginRight:15,marginBottom:15,"& .multiContainer":{border:"1px solid red"}}})}))((function(e){var t=e.classes,n=e.runAsGroup,l=e.runAsUser,d=e.fsGroup,m=e.fsGroupChangePolicy,x=e.runAsNonRoot,f=e.setRunAsUser,h=e.setRunAsGroup,p=e.setFSGroup,j=e.setRunAsNonRoot,Z=e.setFSGroupChangePolicy,v=(0,c.I0)();return(0,u.jsx)(i.Fragment,{children:(0,u.jsxs)("fieldset",{className:"".concat(t.fieldGroup," ").concat(t.fieldSpaceTop," "),children:[(0,u.jsx)("legend",{className:t.descriptionText,children:"Security Context"}),(0,u.jsx)(o.ZP,{item:!0,xs:12,children:(0,u.jsxs)("div",{className:"".concat(t.multiContainerStackNarrow," "),children:[(0,u.jsx)("div",{className:t.configSectionItem,children:(0,u.jsx)(r.Z,{type:"number",id:"securityContext_runAsUser",name:"securityContext_runAsUser",onChange:function(e){v(f(e.target.value))},label:"Run As User",value:l,required:!0,min:"0"})}),(0,u.jsx)("div",{className:t.configSectionItem,children:(0,u.jsx)(r.Z,{type:"number",id:"securityContext_runAsGroup",name:"securityContext_runAsGroup",onChange:function(e){v(h(e.target.value))},label:"Run As Group",value:n,required:!0,min:"0"})})]})}),(0,u.jsx)(o.ZP,{item:!0,xs:12,children:(0,u.jsxs)("div",{className:"".concat(t.multiContainerStackNarrow," "),children:[(0,u.jsx)("div",{className:t.configSectionItem,children:(0,u.jsx)(r.Z,{type:"number",id:"securityContext_fsGroup",name:"securityContext_fsGroup",onChange:function(e){v(p(e.target.value))},label:"FsGroup",value:d,required:!0,min:"0"})}),(0,u.jsx)("div",{className:t.configSectionItem,children:(0,u.jsx)(s.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",onChange:function(e){v(Z(e.target.value))},value:m,options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})]})}),(0,u.jsx)(o.ZP,{item:!0,xs:12,children:(0,u.jsx)("div",{className:t.multiContainer,children:(0,u.jsx)(a.Z,{value:"SecurityContextRunAsNonRoot",id:"securityContext_runAsNonRoot",name:"securityContext_runAsNonRoot",checked:x,onChange:function(){v(j(!x))},label:"Do not run as Root"})})})]})})}))},22512:function(e,t,n){var i=n(72791),r=n(20890),a=n(11135),s=n(25787),o=n(80184);t.Z=(0,s.Z)((function(e){var t;return(0,a.Z)({errorBlock:{color:(null===(t=e.palette)||void 0===t?void 0:t.error.main)||"#C83B51"}})}))((function(e){var t=e.classes,n=e.errorMessage,a=e.withBreak,s=void 0===a||a;return(0,o.jsxs)(i.Fragment,{children:[s&&(0,o.jsx)("br",{}),(0,o.jsx)(r.Z,{component:"p",variant:"body1",className:t.errorBlock,children:n})]})}))}}]);
//# sourceMappingURL=2684.03e0baba.chunk.js.map