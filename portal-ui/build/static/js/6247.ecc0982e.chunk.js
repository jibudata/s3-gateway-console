"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6247],{56247:function(e,a,t){t.r(a);var n=t(37762),l=t(29439),o=t(72791),r=t(29945),u=t(80184);a.default=function(e){var a=e.onChange,t=(0,o.useState)(!1),s=(0,l.Z)(t,2),i=s[0],c=s[1],d=(0,o.useState)(""),g=(0,l.Z)(d,2),m=g[0],f=g[1],v=(0,o.useState)(""),h=(0,l.Z)(v,2),p=h[0],b=h[1],x=(0,o.useState)(""),j=(0,l.Z)(x,2),S=j[0],C=j[1],y=(0,o.useState)(""),k=(0,l.Z)(y,2),w=k[0],Z=k[1],E=(0,o.useState)(""),q=(0,l.Z)(E,2),z=q[0],W=q[1],_=(0,o.useState)(""),B=(0,l.Z)(_,2),D=B[0],F=B[1],L=(0,o.useState)(" "),M=(0,l.Z)(L,2),O=M[0],P=M[1],Q=(0,o.useState)(""),A=(0,l.Z)(Q,2),N=A[0],V=A[1],T=(0,o.useState)("namespace"),Y=(0,l.Z)(T,2),H=Y[0],R=Y[1],U=(0,o.useState)(""),G=(0,l.Z)(U,2),I=G[0],J=G[1],K=(0,o.useState)(""),X=(0,l.Z)(K,2),$=X[0],ee=X[1],ae=(0,o.useState)(""),te=(0,l.Z)(ae,2),ne=te[0],le=te[1],oe=(0,o.useCallback)((function(){var e="";return""!==p&&(e="".concat(e," host=").concat(p)),""!==S&&(e="".concat(e," dbname=").concat(S)),""!==z&&(e="".concat(e," user=").concat(z)),""!==D&&(e="".concat(e," password=").concat(D)),""!==w&&(e="".concat(e," port=").concat(w))," "!==O&&(e="".concat(e," sslmode=").concat(O)),(e="".concat(e," ")).trim()}),[p,S,z,D,w,O]);return(0,o.useEffect)((function(){""!==m&&a([{key:"connection_string",value:m},{key:"table",value:N},{key:"format",value:H},{key:"queue_dir",value:I},{key:"queue_limit",value:$},{key:"comment",value:ne}])}),[m,N,H,I,$,ne,a]),(0,o.useEffect)((function(){var e=oe();f(e)}),[z,S,D,w,O,p,f,oe]),(0,o.useEffect)((function(){if(i){var e=oe();f(e)}else{var a=function(e,a){var t,l=[],o=(0,n.Z)(a);try{for(o.s();!(t=o.n()).done;){var r=t.value,u=e.indexOf(r+"=");-1!==u&&l.push(u)}}catch(p){o.e(p)}finally{o.f()}l.sort((function(e,a){return e-a}));for(var s=new Map,i=new Array(l.length),c=0;c<l.length;c++){var d=c+1;d<l.length?i[c]=e.slice(l[c],l[d]):i[c]=e.slice(l[c])}for(var g=0,m=i;g<m.length;g++){var f=m[g];if(void 0!==f){var v=f.slice(0,f.indexOf("=")),h=f.slice(f.indexOf("=")+1).trim();s.set(v,h)}}return s}(m,["host","port","dbname","user","password","sslmode"]);b(a.get("host")?a.get("host")+"":""),Z(a.get("port")?a.get("port")+"":""),C(a.get("dbname")?a.get("dbname")+"":""),W(a.get("user")?a.get("user")+"":""),F(a.get("password")?a.get("password")+"":""),P(a.get("sslmode")?a.get("sslmode")+"":" ")}}),[i]),(0,u.jsxs)(r.ltY,{containerPadding:!1,withBorders:!1,children:[(0,u.jsx)(r.rsf,{label:"Manually Configure String",checked:i,id:"manualString",name:"manualString",onChange:function(e){c(e.target.checked)},value:"manualString"}),i?(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(r.Wzg,{id:"connection-string",name:"connection_string",label:"Connection String",value:m,onChange:function(e){f(e.target.value)}})}):(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(r.rjZ,{item:!0,xs:12,children:(0,u.jsxs)(r.xuv,{withBorders:!0,useBackground:!0,sx:{overflowY:"auto",height:170,marginBottom:12},children:[(0,u.jsx)(r.Wzg,{id:"host",name:"host",label:"",placeholder:"Enter Host",value:p,onChange:function(e){b(e.target.value)}}),(0,u.jsx)(r.Wzg,{id:"db-name",name:"db-name",label:"",placeholder:"Enter DB Name",value:S,onChange:function(e){C(e.target.value)}}),(0,u.jsx)(r.Wzg,{id:"port",name:"port",label:"",placeholder:"Enter Port",value:w,onChange:function(e){Z(e.target.value)}}),(0,u.jsx)(r.PhF,{value:O,label:"",id:"sslmode",name:"sslmode",onChange:function(e){e&&P(e+"")},options:[{label:"Enter SSL Mode",value:" "},{label:"Require",value:"require"},{label:"Disable",value:"disable"},{label:"Verify CA",value:"verify-ca"},{label:"Verify Full",value:"verify-full"}]}),(0,u.jsx)(r.Wzg,{id:"user",name:"user",label:"",placeholder:"Enter User",value:z,onChange:function(e){W(e.target.value)}}),(0,u.jsx)(r.Wzg,{id:"password",name:"password",label:"",type:"password",placeholder:"Enter Password",value:D,onChange:function(e){F(e.target.value)}})]})}),(0,u.jsx)(r.bSr,{label:"Connection String",multiLine:!0,children:m})]}),(0,u.jsx)(r.Wzg,{id:"table",name:"table",label:"Table",placeholder:"Enter Table Name",value:N,tooltip:"DB table name to store/update events, table is auto-created",onChange:function(e){V(e.target.value)}}),(0,u.jsx)(r.Eep,{currentValue:H,id:"format",name:"format",label:"Format",onChange:function(e){R(e.target.value)},tooltip:"'namespace' reflects current bucket/object list and 'access' reflects a journal of object operations, defaults to 'namespace'",selectorOptions:[{label:"Namespace",value:"namespace"},{label:"Access",value:"access"}]}),(0,u.jsx)(r.Wzg,{id:"queue-dir",name:"queue_dir",label:"Queue Dir",placeholder:"Enter Queue Directory",value:I,tooltip:"Staging directory for undelivered messages e.g. '/home/events'",onChange:function(e){J(e.target.value)}}),(0,u.jsx)(r.Wzg,{id:"queue-limit",name:"queue_limit",label:"Queue Limit",placeholder:"Enter Queue Limit",type:"number",value:$,tooltip:"Maximum limit for undelivered messages, defaults to '10000'",onChange:function(e){ee(e.target.value)}}),(0,u.jsx)(r.q5m,{id:"comment",name:"comment",label:"Comment",placeholder:"Enter custom notes if any",value:ne,onChange:function(e){le(e.target.value)}})]})}}}]);
//# sourceMappingURL=6247.ecc0982e.chunk.js.map