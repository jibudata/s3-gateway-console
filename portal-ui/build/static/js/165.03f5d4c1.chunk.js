"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[165],{70014:function(e,n,o){var t=o(35531),r=o(23430),a=o(18489),i=o(50390),l=o(25594),s=(o(2574),o(20704)),c=o(54880),d=o(21563),u=o(36297),m=o(14602),f=o(94187),p=o(56805),x=o(86509),h=o(4285),g=o(97538),v=o(72462),b=o(63548),Z=o(53224),j=o(33034),C=o.n(j),y=o(53357),k=o(62559),S={json:d.AV,yaml:function(){return c.i.define(u.r)}},N=y.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),B=y.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});n.Z=(0,h.Z)((function(e){return(0,x.Z)((0,a.Z)({},v.YI))}))((function(e){var n=e.value,o=e.label,a=void 0===o?"":o,c=e.tooltip,d=void 0===c?"":c,u=e.mode,x=void 0===u?"json":u,h=e.classes,v=e.onBeforeChange,j=e.readOnly,y=void 0!==j&&j,M=e.editorHeight,E=void 0===M?"250px":M,w=(0,i.useState)(!1),P=(0,r.Z)(w,2),L=P[0],I=P[1],F=[];return S[x]&&(F=[].concat((0,t.Z)(F),[S[x]()])),(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)(m.Z,{className:h.inputLabel,children:[(0,k.jsx)("span",{children:a}),""!==d&&(0,k.jsx)("div",{className:h.tooltipContainer,children:(0,k.jsx)(f.Z,{title:d,placement:"top-start",children:(0,k.jsx)("div",{className:h.tooltip,children:(0,k.jsx)(g.Z,{})})})})]}),(0,k.jsx)(l.ZP,{item:!0,xs:12,children:(0,k.jsx)("br",{})}),(0,k.jsxs)(l.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,k.jsx)(l.ZP,{item:!0,xs:12,children:(0,k.jsx)(s.ZP,{value:n,theme:L?B:N,extensions:F,editable:!y,basicSetup:!0,height:E,onChange:function(e,n){v(null,null,e)}})}),(0,k.jsx)(l.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:L?"#282c34":"#f7f7f7"},children:(0,k.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:[(0,k.jsx)(Z.Z,{tooltip:"Change theme",onClick:function(){I(!L)},text:"",icon:(0,k.jsx)(b.EO,{}),color:"primary",variant:"outlined"}),(0,k.jsx)(C(),{text:n,children:(0,k.jsx)(Z.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,k.jsx)(b.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},66964:function(e,n,o){var t=o(18489),r=o(50390),a=o(12066),i=o(25594),l=o(14602),s=o(94187),c=o(95467),d=o(86509),u=o(62449),m=o(4285),f=o(72462),p=o(97538),x=o(62559),h=(0,u.Z)((function(e){return(0,d.Z)((0,t.Z)({},f.gM))}));function g(e){var n=h();return(0,x.jsx)(a.Z,(0,t.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,d.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},f.YI),f.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var n=e.label,o=e.onChange,a=e.value,d=e.id,u=e.name,m=e.type,f=void 0===m?"text":m,h=e.autoComplete,v=void 0===h?"off":h,b=e.disabled,Z=void 0!==b&&b,j=e.multiline,C=void 0!==j&&j,y=e.tooltip,k=void 0===y?"":y,S=e.index,N=void 0===S?0:S,B=e.error,M=void 0===B?"":B,E=e.required,w=void 0!==E&&E,P=e.placeholder,L=void 0===P?"":P,I=e.min,F=e.max,z=e.overlayIcon,A=void 0===z?null:z,D=e.overlayObject,O=void 0===D?null:D,R=e.extraInputProps,T=void 0===R?{}:R,W=e.overlayAction,H=e.noLabelMinWidth,G=void 0!==H&&H,Y=e.pattern,$=void 0===Y?"":Y,J=e.autoFocus,K=void 0!==J&&J,V=e.classes,_=(0,t.Z)({"data-index":N},T);return"number"===f&&I&&(_.min=I),"number"===f&&F&&(_.max=F),""!==$&&(_.pattern=$),(0,x.jsx)(r.Fragment,{children:(0,x.jsxs)(i.ZP,{container:!0,className:" ".concat(""!==M?V.errorInField:V.inputBoxContainer),children:[""!==n&&(0,x.jsxs)(l.Z,{htmlFor:d,className:G?V.noMinWidthLabel:V.inputLabel,children:[(0,x.jsxs)("span",{children:[n,w?"*":""]}),""!==k&&(0,x.jsx)("div",{className:V.tooltipContainer,children:(0,x.jsx)(s.Z,{title:k,placement:"top-start",children:(0,x.jsx)("div",{className:V.tooltip,children:(0,x.jsx)(p.Z,{})})})})]}),(0,x.jsxs)("div",{className:V.textBoxContainer,children:[(0,x.jsx)(g,{id:d,name:u,fullWidth:!0,value:a,autoFocus:K,disabled:Z,onChange:o,type:f,multiline:C,autoComplete:v,inputProps:_,error:""!==M,helperText:M,placeholder:L,className:V.inputRebase}),A&&(0,x.jsx)("div",{className:"".concat(V.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,x.jsx)(c.Z,{onClick:W?function(){W()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:A})}),O&&(0,x.jsx)("div",{className:"".concat(V.overlayAction," ").concat(""!==n?"withLabel":""),children:O})]})]})})}))},76352:function(e,n,o){o.d(n,{Z:function(){return B}});var t,r=o(23430),a=o(18489),i=o(50390),l=o(34424),s=o(95467),c=o(97771),d=o(84402),u=o(78426),m=o(93085),f=o(86509),p=o(4285),x=o(72462),h=o(44149),g=o(38342),v=o.n(g),b=o(92125),Z=o(19538),j=o(21278),C=o(62559),y=function(){clearInterval(t)},k={displayErrorMessage:h.zb},S=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),k)((0,p.Z)((function(e){return(0,f.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var n=e.classes,o=e.modalSnackMessage,a=e.displayErrorMessage,l=e.customStyle,s=(0,i.useState)(!1),c=(0,r.Z)(s,2),d=c[0],u=c[1],m=(0,i.useState)(!1),f=(0,r.Z)(m,2),p=f[0],x=f[1],h=(0,i.useCallback)((function(){x(!1)}),[]);(0,i.useEffect)((function(){p||(a({detailedError:"",errorMessage:""}),u(!1))}),[a,p]),(0,i.useEffect)((function(){""!==o.message&&"error"===o.type&&x(!0)}),[h,o.message,o.type]);var g=v()(o,"message",""),k=v()(o,"detailedErrorMsg","");return"error"!==o.type||""===g?null:(0,C.jsx)(i.Fragment,{children:(0,C.jsxs)("div",{className:"".concat(n.modalErrorContainer," ").concat(p?n.modalErrorShow:""),style:l,onMouseOver:y,onMouseLeave:function(){t=setInterval(h,1e4)},children:[(0,C.jsx)("button",{className:n.closeButton,onClick:h,children:(0,C.jsx)(j.Z,{})}),(0,C.jsxs)("div",{className:n.errorTitle,children:[(0,C.jsx)("span",{className:n.messageIcon,children:(0,C.jsx)(Z.Z,{})}),(0,C.jsx)("span",{className:n.errorLabel,children:g})]}),""!==k&&(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)("div",{className:n.detailsContainerLink,children:(0,C.jsxs)("button",{className:n.detailsButton,onClick:function(){u(!d)},children:["Details",(0,C.jsx)(b.Z,{className:"".concat(n.arrowElement," ").concat(d?n.arrowOpen:"")})]})}),(0,C.jsx)("div",{className:"".concat(n.extraDetailsContainer," ").concat(d?n.extraDetailsOpen:""),children:k})]})]})})}))),N=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:h.MK}),B=(0,p.Z)((function(e){return(0,f.Z)((0,a.Z)((0,a.Z)({},x.Qw),{},{root:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(N((function(e){var n=e.onClose,o=e.modalOpen,t=e.title,l=e.children,f=e.classes,p=e.wideLimit,x=void 0===p||p,h=e.modalSnackMessage,g=e.noContentPadding,v=e.setModalSnackMessage,b=e.titleIcon,Z=void 0===b?null:b,y=(0,i.useState)(!1),k=(0,r.Z)(y,2),N=k[0],B=k[1];(0,i.useEffect)((function(){v("")}),[v]),(0,i.useEffect)((function(){if(h){if(""===h.message)return void B(!1);"error"!==h.type&&B(!0)}}),[h]);var M=x?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},E="";return h&&(E=h.detailedErrorMsg,(""===h.detailedErrorMsg||h.detailedErrorMsg.length<5)&&(E=h.message)),(0,C.jsxs)(d.Z,(0,a.Z)((0,a.Z)({open:o,classes:f},M),{},{scroll:"paper",onClose:function(e,o){"backdropClick"!==o&&n()},className:f.root,children:[(0,C.jsxs)(u.Z,{className:f.title,children:[(0,C.jsxs)("div",{className:f.titleText,children:[Z," ",t]}),(0,C.jsx)("div",{className:f.closeContainer,children:(0,C.jsx)(s.Z,{"aria-label":"close",className:f.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,C.jsx)(j.Z,{})})})]}),(0,C.jsx)(S,{}),(0,C.jsx)(c.Z,{open:N,className:f.snackBarModal,onClose:function(){B(!1),v("")},message:E,ContentProps:{className:"".concat(f.snackBar," ").concat(h&&"error"===h.type?f.errorSnackBar:"")},autoHideDuration:h&&"error"===h.type?1e4:5e3}),(0,C.jsx)(m.Z,{className:g?"":f.content,children:l})]}))})))},88881:function(e,n,o){o.r(n);var t=o(23430),r=o(18489),a=o(50390),i=o(34424),l=o(25594),s=o(66946),c=o(81378),d=o(86509),u=o(4285),m=o(30324),f=o(44149),p=o(72462),x=o(76352),h=o(66964),g=o(70014),v=o(62559),b={setModalErrorSnackMessage:f.zb},Z=(0,i.$j)(null,b);n.default=(0,u.Z)((function(e){return(0,d.Z)((0,r.Z)((0,r.Z)((0,r.Z)({buttonContainer:{textAlign:"right"},codeMirrorContainer:{marginBottom:20,marginTop:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},p.bK),p.ID),p.YI))}))(Z((function(e){var n=e.classes,o=e.open,r=e.closeModalAndRefresh,i=e.policyEdit,d=e.setModalErrorSnackMessage,u=(0,a.useState)(!1),f=(0,t.Z)(u,2),p=f[0],b=f[1],Z=(0,a.useState)(""),j=(0,t.Z)(Z,2),C=j[0],y=j[1],k=(0,a.useState)(""),S=(0,t.Z)(k,2),N=S[0],B=S[1];(0,a.useEffect)((function(){i&&(y(i.name),B(i?JSON.stringify(JSON.parse(i.policy),null,4):""))}),[i]);var M=""!==C.trim();return(0,v.jsx)(x.Z,{modalOpen:o,onClose:function(){r(!1)},title:"".concat(i?"Info":"Create"," Policy"),children:(0,v.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),p||(b(!0),m.Z.invoke("POST","/api/v1/policies",{name:C,policy:N}).then((function(e){b(!1),r(!0)})).catch((function(e){b(!1),d(e)})))},children:(0,v.jsxs)(l.ZP,{container:!0,children:[(0,v.jsxs)(l.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,v.jsx)(l.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,v.jsx)(h.Z,{id:"policy-name",name:"policy-name",label:"Policy Name",placeholder:"Enter Policy Name",autoFocus:!0,onChange:function(e){y(e.target.value)},value:C,disabled:!!i})}),(0,v.jsx)(l.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:(0,v.jsx)(g.Z,{label:"".concat(i?"Edit":"Write"," Policy"),value:N,onBeforeChange:function(e,n,o){B(o)},editorHeight:"350px"})})]}),(0,v.jsxs)(l.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[!i&&(0,v.jsx)(s.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){y(""),B("")},children:"Clear"}),(0,v.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",disabled:p||!M,children:"Save"})]}),p&&(0,v.jsx)(l.ZP,{item:!0,xs:12,children:(0,v.jsx)(c.Z,{})})]})})})})))},89472:function(e,n,o){o.d(n,{Z:function(){return r}});var t=o(72327);function r(e,n){var o="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=(0,t.Z)(e))||n&&e&&"number"===typeof e.length){o&&(e=o);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==o.return||o.return()}finally{if(s)throw i}}}}}}]);
//# sourceMappingURL=165.03f5d4c1.chunk.js.map