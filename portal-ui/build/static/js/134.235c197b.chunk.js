(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[134],{448:function(e,t,a){"use strict";var n=a(1),c=a(2),s=a(436),i=a(300),l=a(310),r=a(120),o=a(0);t.a=Object(l.a)((function(e){return Object(i.a)(Object(n.a)({},r.s))}))((function(e){var t=e.classes,a=e.label,n=void 0===a?"":a,i=e.content,l=e.multiLine,r=void 0!==l&&l;return Object(o.jsx)(c.Fragment,{children:Object(o.jsxs)(s.a,{className:t.prefinedContainer,children:[""!==n&&Object(o.jsx)(s.a,{item:!0,xs:12,className:t.predefinedTitle,children:n}),Object(o.jsx)(s.a,{item:!0,xs:12,className:t.predefinedList,children:Object(o.jsx)(s.a,{item:!0,xs:12,className:r?t.innerContentMultiline:t.innerContent,children:i})})]})})}))},539:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1),c=a(403),s=a(2),i=a(0),l=["children","value","index"],r=function(e){var t=e.children,a=e.value,r=e.index,o=Object(c.a)(e,l);return Object(i.jsx)("div",Object(n.a)(Object(n.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r),style:{marginTop:"5px"}},o),{},{children:a===r&&Object(i.jsx)(s.Fragment,{children:t})}))}},945:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(1),s=a(2),i=a.n(s),l=a(39),r=a(436),o=a(807),u=a(811),b=a(366),j=a(380),d=a(300),O=a(310),m=a(120),h=a(31),x=a(52),f=a(769),p=a(389),v=a(390),g=a(400),y=a(448),C=a(642),S=a(539),k=a(0),N={setModalErrorSnackMessage:h.h},w=Object(l.b)(null,N);t.default=Object(O.a)((function(e){return Object(d.a)(Object(c.a)(Object(c.a)(Object(c.a)({buttonContainer:{textAlign:"right",marginTop:".9rem"},tabsHeader:{marginBottom:"1rem"}},m.k),m.z),m.p))}))(w((function(e){var t=e.classes,a=e.closeModalAndRefresh,c=e.selectedUser,l=e.open,d=e.setModalErrorSnackMessage,O=Object(s.useState)(!1),m=Object(n.a)(O,2),h=m[0],N=m[1],w=Object(s.useState)(""),E=Object(n.a)(w,2),K=E[0],M=E[1],P=Object(s.useState)(""),R=Object(n.a)(P,2),T=R[0],U=R[1],F=Object(s.useState)(!1),G=Object(n.a)(F,2),A=G[0],L=G[1],D=Object(s.useState)([]),H=Object(n.a)(D,2),I=H[0],J=H[1],z=Object(s.useState)([]),B=Object(n.a)(z,2),V=B[0],_=B[1],q=Object(s.useState)([]),Q=Object(n.a)(q,2),W=Q[0],X=Q[1],Y=Object(s.useState)(0),Z=Object(n.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useCallback)((function(){if(!c)return null;x.a.invoke("GET","/api/v1/user?name=".concat(encodeURI(c.accessKey))).then((function(e){N(!1),M(e.accessKey),J(e.memberOf||[]),X(e.memberOf||[]),L("enabled"===e.status)})).catch((function(e){N(!1),d(e)}))}),[c,d]);Object(s.useEffect)((function(){null===c?(M(""),U(""),J([])):te()}),[c,te]);var ae=""!==K.trim()&&(""!==T.trim()&&null===c||null!==c);return Object(k.jsxs)(p.a,{onClose:function(){a()},modalOpen:l,title:null!==c?"Edit User":"Create User",children:[null!==c&&Object(k.jsx)("div",{className:t.floatingEnabled,children:Object(k.jsx)(g.a,{indicatorLabels:["Enabled","Disabled"],checked:A,value:"user_enabled",id:"user-status",name:"user-status",onChange:function(e){L(e.target.checked)},switchOnly:!0})}),Object(k.jsx)(i.a.Fragment,{children:Object(k.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),T.length<8)return d({errorMessage:"Passwords must be at least 8 characters long",detailedError:""}),void N(!1);h||(N(!0),null!==c?x.a.invoke("PUT","/api/v1/user?name=".concat(encodeURI(c.accessKey)),{status:A?"enabled":"disabled",groups:I,policies:V}).then((function(e){N(!1),a()})).catch((function(e){N(!1),d(e)})):x.a.invoke("POST","/api/v1/users",{accessKey:K,secretKey:T,groups:I,policies:V}).then((function(e){N(!1),a()})).catch((function(e){N(!1),d(e)})))}(e)},children:Object(k.jsxs)(r.a,{container:!0,children:[Object(k.jsxs)(r.a,{item:!0,xs:12,children:[Object(k.jsx)("div",{className:t.formFieldRow,children:Object(k.jsx)(v.a,{id:"accesskey-input",name:"accesskey-input",label:"Access Key",value:K,onChange:function(e){M(e.target.value)},disabled:null!==c})}),null!==c?Object(k.jsx)(y.a,{label:"Current Groups",content:W.join(", ")}):Object(k.jsx)("div",{className:t.formFieldRow,children:Object(k.jsx)(v.a,{id:"standard-multiline-static",name:"standard-multiline-static",label:"Secret Key",type:"password",value:T,onChange:function(e){U(e.target.value)},autoComplete:"current-password"})}),Object(k.jsx)(r.a,{item:!0,xs:12,className:t.tabsHeader,children:Object(k.jsxs)(o.a,{value:$,onChange:function(e,t){ee(t)},children:[Object(k.jsx)(u.a,{label:"Policies"}),Object(k.jsx)(u.a,{label:"Groups"})]})}),Object(k.jsx)(S.a,{value:$,index:0,children:Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(C.a,{selectedPolicy:V,setSelectedPolicy:_})})}),Object(k.jsx)(S.a,{value:$,index:1,children:Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(f.a,{selectedGroups:I,setSelectedGroups:function(e){J(e)}})})}),h&&Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(b.a,{})})]}),Object(k.jsxs)(r.a,{item:!0,xs:12,className:t.buttonContainer,children:[Object(k.jsx)(j.a,{type:"button",variant:"outlined",color:"primary",className:t.spacerRight,onClick:function(){null===c?(M(""),U(""),J([])):J([])},children:"Clear"}),Object(k.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",disabled:h||!ae,children:"Save"})]})]})})})]})})))}}]);
//# sourceMappingURL=134.235c197b.chunk.js.map