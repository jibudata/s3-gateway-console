(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[137],{472:function(e,t,c){"use strict";c(2);var n=c(308),a=c(320),s=c(0);t.a=Object(a.a)((function(e){return Object(n.a)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var t=e.classes,c=e.children;return Object(s.jsx)("h1",{className:t.root,children:c})}))},893:function(e,t,c){"use strict";c.r(t);var n=c(16),a=c(1),s=c(2),i=c.n(s),l=c(41),r=c(308),o=c(320),j=c(386),b=c(483),d=c(39),O=c.n(d),u=c(387),h=c(444),x=c(96),f=c(32),m=c(58),p=c(122),T=c(52),N=c(894),E=c.n(N),C=c(26),_=c(166),S=c(6),g=c(472),k=c(788),v=c(742),y=c.n(v),I=c(125),U=c.n(I),G=c(43),B=c(433),P=c(0),A=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(85),c.e(123)]).then(c.bind(null,901))}))),z=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(55),c.e(126)]).then(c.bind(null,902))}))),R=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(83),c.e(130)]).then(c.bind(null,903))}))),K=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(5),c.e(86),c.e(115)]).then(c.bind(null,904))}))),D=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(72),c.e(114)]).then(c.bind(null,905))}))),F=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(56),c.e(138)]).then(c.bind(null,906))}))),M=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(5),c.e(61),c.e(90)]).then(c.bind(null,907))}))),w=Object(l.b)((function(e){return{session:e.console.session,distributedSetup:e.system.distributedSetup,loadingBucket:e.buckets.bucketDetails.loadingBucket,bucketInfo:e.buckets.bucketDetails.bucketInfo}}),{setErrorSnackMessage:f.e,setBucketDetailsLoad:C.B});t.default=Object(o.a)((function(e){return Object(r.a)(Object(a.a)(Object(a.a)({paperContainer:{padding:15,paddingLeft:50,display:"flex"},elementTitle:{fontWeight:500,color:"#777777",fontSize:14,marginTop:-9},consumptionValue:{color:"#000000",fontSize:"48px",fontWeight:"bold"},reportedUsage:{padding:"15px"},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleCol:{width:"25%"},tag:{textTransform:"none",marginRight:"5px"}},p.l),p.c))}))(w((function(e){var t=e.classes,c=e.match,a=e.distributedSetup,i=e.setErrorSnackMessage,l=e.loadingBucket,r=e.bucketInfo,o=e.setBucketDetailsLoad,d=Object(s.useState)(null),f=Object(n.a)(d,2),p=f[0],N=f[1],C=Object(s.useState)("0"),v=Object(n.a)(C,2),I=v[0],B=v[1],w=Object(s.useState)(!1),L=Object(n.a)(w,2),V=L[0],J=L[1],Q=Object(s.useState)(!1),Y=Object(n.a)(Q,2),q=Y[0],W=Y[1],H=Object(s.useState)(!1),X=Object(n.a)(H,2),Z=X[0],$=X[1],ee=Object(s.useState)(!0),te=Object(n.a)(ee,2),ce=te[0],ne=te[1],ae=Object(s.useState)(!0),se=Object(n.a)(ae,2),ie=se[0],le=se[1],re=Object(s.useState)(!0),oe=Object(n.a)(re,2),je=oe[0],be=oe[1],de=Object(s.useState)(!0),Oe=Object(n.a)(de,2),ue=Oe[0],he=Oe[1],xe=Object(s.useState)(!0),fe=Object(n.a)(xe,2),me=fe[0],pe=fe[1],Te=Object(s.useState)(!0),Ne=Object(n.a)(Te,2),Ee=Ne[0],Ce=Ne[1],_e=Object(s.useState)(!0),Se=Object(n.a)(_e,2),ge=Se[0],ke=Se[1],ve=Object(s.useState)(!0),ye=Object(n.a)(ve,2),Ie=ye[0],Ue=ye[1],Ge=Object(s.useState)(!0),Be=Object(n.a)(Ge,2),Pe=Be[0],Ae=Be[1],ze=Object(s.useState)(!1),Re=Object(n.a)(ze,2),Ke=Re[0],De=Re[1],Fe=Object(s.useState)(!1),Me=Object(n.a)(Fe,2),we=Me[0],Le=Me[1],Ve=Object(s.useState)(null),Je=Object(n.a)(Ve,2),Qe=Je[0],Ye=Je[1],qe=Object(s.useState)(!1),We=Object(n.a)(qe,2),He=We[0],Xe=We[1],Ze=Object(s.useState)(!1),$e=Object(n.a)(Ze,2),et=$e[0],tt=$e[1],ct=Object(s.useState)(null),nt=Object(n.a)(ct,2),at=nt[0],st=nt[1],it=Object(s.useState)(!1),lt=Object(n.a)(it,2),rt=lt[0],ot=lt[1],jt=Object(s.useState)(!1),bt=Object(n.a)(jt,2),dt=bt[0],Ot=bt[1],ut=Object(s.useState)(!1),ht=Object(n.a)(ut,2),xt=ht[0],ft=ht[1],mt=Object(s.useState)(!1),pt=Object(n.a)(mt,2),Tt=pt[0],Nt=pt[1],Et=Object(s.useState)(null),Ct=Object(n.a)(Et,2),_t=Ct[0],St=Ct[1],gt=Object(s.useState)(!1),kt=Object(n.a)(gt,2),vt=kt[0],yt=kt[1],It=Object(s.useState)([]),Ut=Object(n.a)(It,2),Gt=Ut[0],Bt=Ut[1],Pt=Object(s.useState)(["",""]),At=Object(n.a)(Pt,2),zt=At[0],Rt=At[1],Kt=Object(s.useState)(!1),Dt=Object(n.a)(Kt,2),Ft=Dt[0],Mt=Dt[1],wt=c.params.bucketName,Lt="n/a";null!==r&&(Lt=r.access);var Vt=Object(G.b)(wt,[S.f.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION]),Jt=Object(G.b)(wt,[S.f.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION]),Qt=Object(G.b)(wt,[S.f.ADMIN_GET_BUCKET_QUOTA]);Object(s.useEffect)((function(){he(!!l)}),[l,he]),Object(s.useEffect)((function(){me&&(Jt?T.a.invoke("GET","/api/v1/buckets/".concat(wt,"/encryption/info")).then((function(e){e.algorithm&&(Xe(!0),N(e)),pe(!1)})).catch((function(e){"The server side encryption configuration was not found"===e.errorMessage&&(Xe(!1),N(null)),pe(!1)})):(Xe(!1),N(null),pe(!1)))}),[me,wt,Jt]),Object(s.useEffect)((function(){Ee&&a&&T.a.invoke("GET","/api/v1/buckets/".concat(wt,"/versioning")).then((function(e){De(e.is_versioned),Ce(!1)})).catch((function(e){i(e),Ce(!1)}))}),[Ee,i,wt,a]),Object(s.useEffect)((function(){ge&&a&&(Qt?T.a.invoke("GET","/api/v1/buckets/".concat(wt,"/quota")).then((function(e){Ye(e),e.quota?Le(!0):Le(!1),ke(!1)})).catch((function(e){i(e),Le(!1),ke(!1)})):(Le(!1),ke(!1)))}),[ge,Ce,i,wt,a,Qt]),Object(s.useEffect)((function(){Ee&&a&&(Vt?T.a.invoke("GET","/api/v1/buckets/".concat(wt,"/object-locking")).then((function(e){J(e.object_locking_enabled),ne(!1)})).catch((function(e){i(e),ne(!1)})):ne(!1))}),[ce,i,wt,Ee,a,Vt]),Object(s.useEffect)((function(){ie&&T.a.invoke("GET","/api/v1/buckets").then((function(e){var t=O()(e,"buckets",[]).find((function(e){return e.name===wt})),c=O()(t,"size","0");le(!1),B(c)})).catch((function(e){le(!1),i(e)}))}),[ie,i,wt]),Object(s.useEffect)((function(){je&&T.a.invoke("GET","/api/v1/buckets/".concat(wt)).then((function(e){var t,c;null!=e&&null!=(null===e||void 0===e?void 0:e.details)&&(St(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.tags),Bt(Object.keys(null===e||void 0===e||null===(c=e.details)||void 0===c?void 0:c.tags)));be(!1)})).catch((function(e){be(!1),i(e)}))}),[je,i,wt,St,_t,Bt,Gt]),Object(s.useEffect)((function(){Ie&&a&&T.a.invoke("GET","/api/v1/buckets/".concat(wt,"/replication")).then((function(e){var t=e.rules?e.rules:[];$(t.length>0),Ue(!1)})).catch((function(e){i(e),Ue(!1)}))}),[Ie,i,wt,a]),Object(s.useEffect)((function(){Pe&&V&&T.a.invoke("GET","/api/v1/buckets/".concat(wt,"/retention")).then((function(e){Ae(!1),tt(!0),st(e)})).catch((function(e){tt(!1),Ae(!1),st(null)}))}),[Pe,V,wt]);var Yt,qt=function(){o(!0),he(!0),le(!0),be(!0),Ce(!0),pe(!0),Ae(!0)};return Object(P.jsxs)(s.Fragment,{children:[dt&&Object(P.jsx)(D,{open:dt,selectedBucket:wt,encryptionEnabled:He,encryptionCfg:p,closeModalAndRefresh:function(){Ot(!1),pe(!0)}}),xt&&Object(P.jsx)(M,{open:xt,selectedBucket:wt,enabled:we,cfg:Qe,closeModalAndRefresh:function(){ft(!1),ke(!0)}}),q&&Object(P.jsx)(R,{bucketName:wt,open:q,actualPolicy:Lt,closeModalAndRefresh:function(){W(!1),qt()}}),rt&&Object(P.jsx)(K,{bucketName:wt,open:rt,closeModalAndRefresh:function(){ot(!1),qt()}}),Tt&&Object(P.jsx)(F,{closeVersioningModalAndRefresh:function(e){Nt(!1),e&&qt()},modalOpen:Tt,selectedBucket:wt,versioningCurrentState:Ke}),vt&&Object(P.jsx)(A,{modalOpen:vt,currentTags:_t,bucketName:wt,onCloseAndUpdate:function(e){yt(!1),e&&qt()}}),Ft&&Object(P.jsx)(z,{deleteOpen:Ft,currentTags:_t,bucketName:wt,onCloseAndUpdate:function(e){Mt(!1),e&&qt()},selectedTag:zt}),Object(P.jsx)(h.a,{container:!0,children:Object(P.jsx)(h.a,{item:!0,xs:12,className:t.actionsTray,children:Object(P.jsx)(g.a,{children:"Summary"})})}),Object(P.jsx)(u.a,{className:t.paperContainer,children:Object(P.jsxs)(h.a,{container:!0,children:[Object(P.jsx)(h.a,{item:!0,xs:8,children:Object(P.jsx)("table",{width:"100%",children:Object(P.jsxs)("tbody",{children:[Object(P.jsx)(G.a,{scopes:[S.f.S3_GET_BUCKET_POLICY],resource:wt,children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:t.titleCol,children:"Access Policy:"}),Object(P.jsx)("td",{className:t.capitalizeFirst,children:Object(P.jsx)(G.a,{scopes:[S.f.S3_PUT_BUCKET_POLICY],resource:wt,errorProps:{disabled:!0},children:Object(P.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){W(!0)},children:ue?Object(P.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Lt.toLowerCase()})})})]})}),a&&Object(P.jsxs)(s.Fragment,{children:[Object(P.jsx)(G.a,{scopes:[S.f.S3_GET_REPLICATION_CONFIGURATION],resource:wt,children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:t.titleCol,children:"Replication:"}),Object(P.jsx)("td",{className:t.doubleElement,children:Object(P.jsx)("span",{children:Z?"Enabled":"Disabled"})})]})}),Object(P.jsx)(G.a,{scopes:[S.f.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION],resource:wt,children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:t.titleCol,children:"Object Locking:"}),Object(P.jsx)("td",{children:V?"Enabled":"Disabled"})]})})]}),Object(P.jsx)(G.a,{scopes:[S.f.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION],resource:wt,children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:t.titleCol,children:"Encryption:"}),Object(P.jsx)("td",{children:me?Object(P.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Object(P.jsx)(G.a,{scopes:[S.f.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION],resource:wt,errorProps:{disabled:!0},children:Object(P.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){Ot(!0)},children:He?"Enabled":"Disabled"})})})]})}),Object(P.jsx)(G.a,{scopes:[S.f.S3_GET_BUCKET_TAGGING],resource:wt,children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:t.titleCol,children:"Tags:"}),Object(P.jsxs)("td",{children:[Gt&&Gt.map((function(e,c){var n=O()(_t,"".concat(e),"");return""!==n?Object(P.jsx)(G.a,{scopes:[S.f.S3_PUT_BUCKET_TAGGING],resource:wt,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:Object(P.jsx)(k.a,{className:t.tag,size:"small",label:"".concat(e," : ").concat(n),color:"primary",deleteIcon:Object(P.jsx)(U.a,{}),onDelete:function(){!function(e,t){Rt([e,t]),Mt(!0)}(e,n)}})},"chip-".concat(c)):null})),Object(P.jsx)(G.a,{scopes:[S.f.S3_PUT_BUCKET_TAGGING],resource:wt,errorProps:{disabled:!0,onClick:null},children:Object(P.jsx)(k.a,{className:t.tag,icon:Object(P.jsx)(y.a,{}),clickable:!0,size:"small",label:"Add tag",color:"primary",variant:"outlined",onClick:function(){yt(!0)}})})]})]})})]})})}),Object(P.jsxs)(h.a,{item:!0,xs:4,className:t.reportedUsage,children:[Object(P.jsxs)(h.a,{container:!0,direction:"row",alignItems:"center",children:[Object(P.jsx)(h.a,{item:!0,className:t.icon,xs:2,children:Object(P.jsx)(_.a,{})}),Object(P.jsx)(h.a,{item:!0,xs:10,children:Object(P.jsx)(x.a,{className:t.elementTitle,children:"Reported Usage"})})]}),Object(P.jsx)(x.a,{className:t.consumptionValue,children:Object(m.l)(I)})]})]})}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),a&&Object(P.jsx)(G.a,{scopes:[S.f.S3_GET_BUCKET_VERSIONING],resource:wt,children:Object(P.jsxs)(s.Fragment,{children:[Object(P.jsx)(u.a,{className:t.paperContainer,elevation:1,children:Object(P.jsxs)(h.a,{container:!0,children:[Object(P.jsxs)(h.a,{item:!0,xs:we?9:12,children:[Object(P.jsx)("h2",{children:"Versioning"}),Object(P.jsx)("hr",{className:t.hrClass}),Object(P.jsx)("table",{width:"100%",children:Object(P.jsx)("tbody",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:t.titleCol,children:"Versioning:"}),Object(P.jsx)("td",{children:Ee?Object(P.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Object(P.jsx)(G.a,{scopes:[S.f.S3_PUT_BUCKET_VERSIONING],resource:wt,errorProps:{disabled:!0},children:Object(P.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){Nt(!0)},children:Ke?"Enabled":"Disabled"})})}),Object(P.jsxs)(G.a,{scopes:[S.f.ADMIN_GET_BUCKET_QUOTA],resource:wt,children:[Object(P.jsx)("td",{className:t.titleCol,children:"Quota:"}),Object(P.jsx)("td",{children:ge?Object(P.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Object(P.jsx)(G.a,{scopes:[S.f.ADMIN_SET_BUCKET_QUOTA],resource:wt,errorProps:{disabled:!0},children:Object(P.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){ft(!0)},children:we?"Enabled":"Disabled"})})})]})]})})})]}),we&&Qe&&Object(P.jsxs)(h.a,{item:!0,xs:3,className:t.reportedUsage,children:[Object(P.jsxs)(h.a,{container:!0,direction:"row",alignItems:"center",children:[Object(P.jsx)(h.a,{item:!0,className:t.icon,xs:2,children:Object(P.jsx)(E.a,{})}),Object(P.jsx)(h.a,{item:!0,xs:10,children:Object(P.jsxs)(x.a,{className:t.elementTitle,children:[(Yt=null===Qe||void 0===Qe?void 0:Qe.type,Yt?Yt[0].toUpperCase()+Yt.slice(1):null)," Quota"]})})]}),Object(P.jsx)(x.a,{className:t.consumptionValue,children:Object(m.l)("".concat(null===Qe||void 0===Qe?void 0:Qe.quota))})]})]})}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{})]})}),V&&Object(P.jsx)(G.a,{scopes:[S.f.S3_GET_OBJECT_RETENTION],resource:wt,children:Object(P.jsx)(u.a,{className:t.paperContainer,children:Object(P.jsx)(h.a,{container:!0,children:Object(P.jsxs)(h.a,{item:!0,xs:12,children:[Object(P.jsx)("h2",{children:"Retention"}),Object(P.jsx)("hr",{className:t.hrClass}),Object(P.jsx)("table",{width:"100%",children:Object(P.jsxs)("tbody",{children:[Object(P.jsxs)("tr",{className:t.gridContainer,children:[Object(P.jsx)("td",{className:t.titleCol,children:"Status:"}),Object(P.jsx)("td",{children:Pe?Object(P.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Object(P.jsx)(G.a,{scopes:[S.f.S3_PUT_OBJECT_RETENTION],resource:wt,errorProps:{disabled:!0},children:Object(P.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){ot(!0)},children:et?"Enabled":"Disabled"})})}),null===at?Object(P.jsx)("td",{colSpan:2,children:"\xa0"}):Object(P.jsxs)(s.Fragment,{children:[Object(P.jsx)("td",{className:t.titleCol,children:"Mode:"}),Object(P.jsx)("td",{className:t.capitalizeFirst,children:at&&at.mode})]})]}),Object(P.jsx)("tr",{className:t.gridContainer,children:null===at?Object(P.jsx)("td",{colSpan:2}):Object(P.jsxs)(s.Fragment,{children:[Object(P.jsx)("td",{className:t.titleCol,children:"Valitidy:"}),Object(P.jsxs)("td",{className:t.capitalizeFirst,children:[at&&at.validity," ",at&&(1===at.validity?at.unit.slice(0,-1):at.unit)]})]})})]})})]})})})})]})})))}}]);
//# sourceMappingURL=137.2a3d470d.chunk.js.map