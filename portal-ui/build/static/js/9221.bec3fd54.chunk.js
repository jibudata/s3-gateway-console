"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9221],{49221:function(e,s,t){t.r(s);var r=t(29439),n=t(72791),o=t(29945),l=t(23814),i=t(81207),a=t(83658),d=t(56028),u=t(87995),c=t(81551),h=t(80184);s.default=function(e){var s=e.open,t=e.checkedUsers,x=e.closeModalAndRefresh,p=(0,c.TL)(),j=(0,n.useState)(!1),f=(0,r.Z)(j,2),b=f[0],g=f[1],k=(0,n.useState)(!1),m=(0,r.Z)(k,2),S=m[0],v=m[1],w=(0,n.useState)([]),Z=(0,r.Z)(w,2),C=Z[0],U=Z[1];(0,n.useEffect)((function(){b&&(C.length>0?i.Z.invoke("PUT","/api/v1/users-groups-bulk",{groups:C,users:t}).then((function(){g(!1),v(!0)})).catch((function(e){g(!1),p((0,u.zb)(e))})):(g(!1),p((0,u.zb)({errorMessage:"You need to select at least one group to assign",detailedError:""}))))}),[b,g,x,C,t,p]);return(0,h.jsx)(d.Z,{modalOpen:s,onClose:function(){x(S)},title:S?"The selected users were added to the following groups.":"Add Users to Group",titleIcon:(0,h.jsx)(o.ZmA,{}),children:S?(0,h.jsx)(n.Fragment,{children:(0,h.jsxs)(o.ltY,{withBorders:!1,containerPadding:!1,sx:{margin:"30px 0"},children:[(0,h.jsx)(o.bSr,{label:"Groups",sx:{width:"100%"},children:C.join(", ")}),(0,h.jsxs)(o.bSr,{label:"Users",sx:{width:"100%"},children:[" ",t.join(", ")," "]})]})}):(0,h.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g(!0)},children:[(0,h.jsxs)(o.ltY,{withBorders:!1,containerPadding:!1,children:[(0,h.jsx)(o.bSr,{label:"Selected Users",sx:{width:"100%"},children:t.join(", ")}),(0,h.jsx)(a.Z,{selectedGroups:C,setSelectedGroups:U})]}),(0,h.jsxs)(o.rjZ,{item:!0,xs:12,sx:l.ID.modalButtonBar,children:[(0,h.jsx)(o.zxk,{id:"clear-bulk-add-group",type:"button",variant:"regular",color:"primary",onClick:function(){U([])},label:"Clear"}),(0,h.jsx)(o.zxk,{id:"save-add-group",type:"submit",variant:"callAction",disabled:b||C.length<1,label:"Save"})]}),b&&(0,h.jsx)(o.rjZ,{item:!0,xs:12,children:(0,h.jsx)(o.kod,{})})]})})}}}]);
//# sourceMappingURL=9221.bec3fd54.chunk.js.map