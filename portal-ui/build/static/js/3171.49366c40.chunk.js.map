{"version":3,"file":"static/js/3171.49366c40.chunk.js","mappings":"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","sources":["screens/Console/Common/FormLayout.tsx","screens/Console/Groups/AddGroupHelpBox.tsx","screens/Console/Groups/AddGroupScreen.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Box } from \"@mui/material\";\nimport SectionTitle from \"./SectionTitle\";\n\ntype Props = {\n  title: string;\n  icon: React.ReactNode;\n  helpbox?: React.ReactNode;\n  children: React.ReactNode;\n};\n\nconst FormLayout: React.FC<Props> = ({ children, title, helpbox, icon }) => {\n  return (\n    <Box\n      sx={{\n        display: \"grid\",\n        padding: \"25px\",\n        gap: \"25px\",\n        gridTemplateColumns: {\n          md: \"2fr 1.2fr\",\n          xs: \"1fr\",\n        },\n        border: \"1px solid #eaeaea\",\n      }}\n    >\n      <Box>\n        <SectionTitle icon={icon}>{title}</SectionTitle>\n        <Box sx={{ height: 16 }} />\n        {children}\n      </Box>\n\n      {helpbox}\n    </Box>\n  );\n};\n\nexport default FormLayout;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React from \"react\";\nimport { Box } from \"@mui/material\";\nimport { GroupsIcon, HelpIconFilled, IAMPoliciesIcon } from \"../../../icons\";\n\nconst FeatureItem = ({\n  icon,\n  description,\n}: {\n  icon: any;\n  description: string;\n}) => {\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        \"& .min-icon\": {\n          marginRight: \"10px\",\n          height: \"23px\",\n          width: \"23px\",\n          marginBottom: \"10px\",\n        },\n      }}\n    >\n      {icon}{\" \"}\n      <div style={{ fontSize: \"14px\", fontStyle: \"italic\", color: \"#5E5E5E\" }}>\n        {description}\n      </div>\n    </Box>\n  );\n};\nconst AddGroupHelpBox = () => {\n  return (\n    <Box\n      sx={{\n        flex: 1,\n        border: \"1px solid #eaeaea\",\n        borderRadius: \"2px\",\n        display: \"flex\",\n        flexFlow: \"column\",\n        padding: \"20px\",\n        marginTop: {\n          xs: \"0px\",\n        },\n      }}\n    >\n      <Box\n        sx={{\n          fontSize: \"16px\",\n          fontWeight: 600,\n          display: \"flex\",\n          alignItems: \"center\",\n          marginBottom: \"16px\",\n\n          \"& .min-icon\": {\n            height: \"21px\",\n            width: \"21px\",\n            marginRight: \"15px\",\n          },\n        }}\n      >\n        <HelpIconFilled />\n        <div>Learn more about Groups</div>\n      </Box>\n      <Box sx={{ fontSize: \"14px\", marginBottom: \"15px\" }}>\n        Adding groups lets you assign IAM policies to multiple users at once.\n        <Box sx={{ paddingTop: \"20px\", paddingBottom: \"10px\" }}>\n          Users inherit access permissions to data and resources through the\n          groups they belong to.\n        </Box>\n        <Box sx={{ paddingTop: \"10px\", paddingBottom: \"10px\" }}>\n          A user can be a member of multiple groups.\n        </Box>\n        <Box sx={{ paddingTop: \"10px\", paddingBottom: \"10px\" }}>\n          Groups provide a simplified method for managing shared permissions\n          among users with common access patterns and workloads. Clientâ€™s cannot\n          authenticate to a MinIO deployment using a group as an identity.\n        </Box>\n      </Box>\n\n      <Box\n        sx={{\n          display: \"flex\",\n          flexFlow: \"column\",\n        }}\n      >\n        <FeatureItem icon={<GroupsIcon />} description={`Add Users to Group`} />\n        <Box sx={{ paddingTop: \"10px\", paddingBottom: \"10px\" }}>\n          Select from the list of displayed users to assign users to the new\n          group at creation. These users inherit the policies assigned to the\n          group.\n        </Box>\n        <FeatureItem\n          icon={<IAMPoliciesIcon />}\n          description={`Assign Custom IAM Policies for Group`}\n        />\n        <Box sx={{ paddingTop: \"10px\", paddingBottom: \"10px\" }}>\n          You can add policies to the group by selecting it from the Groups view\n          after creation. The Policy view lets you manage the assigned policies\n          for the group.\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default AddGroupHelpBox;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport { useNavigate } from \"react-router-dom\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n} from \"../Common/FormComponents/common/styleLibrary\";\nimport Grid from \"@mui/material/Grid\";\nimport { Button, LinearProgress } from \"@mui/material\";\nimport PageHeader from \"../Common/PageHeader/PageHeader\";\nimport PageLayout from \"../Common/Layout/PageLayout\";\nimport InputBoxWrapper from \"../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport AddGroupHelpBox from \"./AddGroupHelpBox\";\nimport UsersSelectors from \"./UsersSelectors\";\nimport BackLink from \"../../../common/BackLink\";\n\nimport { CreateGroupIcon } from \"../../../icons\";\nimport { IAM_PAGES } from \"../../../common/SecureComponent/permissions\";\nimport { ErrorResponseHandler } from \"../../../../src/common/types\";\nimport api from \"../../../../src/common/api\";\n\nimport FormLayout from \"../Common/FormLayout\";\nimport { setErrorSnackMessage } from \"../../../systemSlice\";\nimport { useAppDispatch } from \"../../../store\";\n\ninterface IAddGroupProps {\n  classes: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    bottomContainer: {\n      display: \"flex\",\n      flexGrow: 1,\n      alignItems: \"center\",\n      margin: \"auto\",\n      justifyContent: \"center\",\n      \"& div\": {\n        width: 150,\n        \"@media (max-width: 900px)\": {\n          flexFlow: \"column\",\n        },\n      },\n    },\n    ...formFieldStyles,\n    ...modalStyleUtils,\n  });\n\nconst AddGroupScreen = ({ classes }: IAddGroupProps) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const [groupName, setGroupName] = useState<string>(\"\");\n  const [saving, isSaving] = useState<boolean>(false);\n  const [selectedUsers, setSelectedUsers] = useState<string[]>([]);\n  const [validGroup, setValidGroup] = useState<boolean>(false);\n\n  useEffect(() => {\n    setValidGroup(groupName.trim() !== \"\");\n  }, [groupName, selectedUsers]);\n\n  useEffect(() => {\n    if (saving) {\n      const saveRecord = () => {\n        api\n          .invoke(\"POST\", \"/api/v1/groups\", {\n            group: groupName,\n            members: selectedUsers,\n          })\n          .then((res) => {\n            isSaving(false);\n            navigate(`${IAM_PAGES.GROUPS}`);\n          })\n          .catch((err: ErrorResponseHandler) => {\n            isSaving(false);\n            dispatch(setErrorSnackMessage(err));\n          });\n      };\n\n      saveRecord();\n    }\n  }, [saving, groupName, selectedUsers, dispatch, navigate]);\n\n  //Fetch Actions\n  const setSaving = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    isSaving(true);\n  };\n\n  const resetForm = () => {\n    setGroupName(\"\");\n    setSelectedUsers([]);\n  };\n\n  return (\n    <Fragment>\n      <Grid item xs={12}>\n        <PageHeader\n          label={<BackLink to={IAM_PAGES.GROUPS} label={\"Groups\"} />}\n        />\n        <PageLayout>\n          <FormLayout\n            title={\"Create Group\"}\n            icon={<CreateGroupIcon />}\n            helpbox={<AddGroupHelpBox />}\n          >\n            <form noValidate autoComplete=\"off\" onSubmit={setSaving}>\n              <Grid container>\n                <Grid item xs={12} className={classes.formFieldRow}>\n                  <InputBoxWrapper\n                    id=\"group-name\"\n                    name=\"group-name\"\n                    label=\"Group Name\"\n                    autoFocus={true}\n                    value={groupName}\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                      setGroupName(e.target.value);\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12} className={classes.userSelector}>\n                  <UsersSelectors\n                    selectedUsers={selectedUsers}\n                    setSelectedUsers={setSelectedUsers}\n                    editMode={true}\n                  />\n                </Grid>\n              </Grid>\n              <Grid item xs={12} className={classes.modalButtonBar}>\n                <Button\n                  type=\"button\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  className={classes.spacerRight}\n                  onClick={resetForm}\n                >\n                  Clear\n                </Button>\n\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={saving || !validGroup}\n                >\n                  Save\n                </Button>\n              </Grid>\n              {saving && (\n                <Grid item xs={12}>\n                  <LinearProgress />\n                </Grid>\n              )}\n            </form>\n          </FormLayout>\n        </PageLayout>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(AddGroupScreen);\n"],"names":["children","title","helpbox","icon","sx","display","padding","gap","gridTemplateColumns","md","xs","border","height","FeatureItem","description","Box","marginRight","width","marginBottom","style","fontSize","fontStyle","color","flex","borderRadius","flexFlow","marginTop","fontWeight","alignItems","paddingTop","paddingBottom","withStyles","theme","createStyles","bottomContainer","flexGrow","margin","justifyContent","formFieldStyles","modalStyleUtils","classes","dispatch","useAppDispatch","navigate","useNavigate","useState","groupName","setGroupName","saving","isSaving","selectedUsers","setSelectedUsers","validGroup","setValidGroup","useEffect","trim","api","group","members","then","res","IAM_PAGES","catch","err","setErrorSnackMessage","Fragment","Grid","item","PageHeader","label","BackLink","to","PageLayout","FormLayout","noValidate","autoComplete","onSubmit","event","preventDefault","container","className","formFieldRow","InputBoxWrapper","id","name","autoFocus","value","onChange","e","target","userSelector","UsersSelectors","editMode","modalButtonBar","Button","type","variant","spacerRight","onClick","disabled","LinearProgress"],"sourceRoot":""}