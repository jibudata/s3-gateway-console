"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4873],{45902:function(e,n,t){var a=t(1413),s=(t(72791),t(53767)),r=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,i=e.value,o=void 0===i?"-":i,l=e.orientation,c=void 0===l?"column":l,u=e.stkProps,d=void 0===u?{}:u,x=e.lblProps,m=void 0===x?{}:x,Z=e.valProps,j=void 0===Z?{}:Z;return(0,r.jsxs)(s.Z,(0,a.Z)((0,a.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,r.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:600}},m),{},{children:t})),(0,r.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:500}},j),{},{children:o}))]}))}},5450:function(e,n,t){var a=t(29439),s=t(72791),r=t(11135),i=t(25787),o=t(40986),l=t(79836),c=t(53382),u=t(53994),d=t(56890),x=t(35855),m=t(64554),Z=t(56125),j=t(20890),h=t(85172),p=t(95678),f=t(39281),g=t(10703),v=t(80184),b=function(e){var n=e.event,t=s.useState(!1),r=(0,a.Z)(t,2),i=r[0],o=r[1];return(0,v.jsxs)(s.Fragment,{children:[(0,v.jsxs)(x.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,v.jsx)(u.Z,{component:"th",scope:"row",onClick:function(){return o(!i)},children:n.event_type}),(0,v.jsx)(u.Z,{onClick:function(){return o(!i)},children:n.reason}),(0,v.jsx)(u.Z,{onClick:function(){return o(!i)},children:n.seen}),(0,v.jsx)(u.Z,{onClick:function(){return o(!i)},children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,v.jsx)(u.Z,{onClick:function(){return o(!i)},children:i?(0,v.jsx)(p.Z,{}):(0,v.jsx)(h.Z,{})})]}),(0,v.jsx)(x.Z,{children:(0,v.jsx)(u.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,v.jsx)(Z.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,v.jsx)(m.Z,{sx:{margin:1},children:(0,v.jsx)(j.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})};n.Z=(0,i.Z)((function(e){return(0,r.Z)({events:{"& .MuiTypography-root":{fontSize:14},"& .Mui-expanded":{"& .eventMessage":{display:"none"}}}})}))((function(e){e.classes;var n=e.events;return e.loading?(0,v.jsx)(o.Z,{}):(0,v.jsx)(f.Z,{component:g.Z,children:(0,v.jsxs)(l.Z,{"aria-label":"collapsible table",children:[(0,v.jsx)(d.Z,{children:(0,v.jsxs)(x.Z,{children:[(0,v.jsx)(u.Z,{children:"Type"}),(0,v.jsx)(u.Z,{children:"Reason"}),(0,v.jsx)(u.Z,{children:"Age"}),(0,v.jsx)(u.Z,{children:"Message"}),(0,v.jsx)(u.Z,{})]})}),(0,v.jsx)(c.Z,{children:n.map((function(e){return(0,v.jsx)(b,{event:e},"".concat(e.event_type,"-").concat(e.seen))}))})]})})}))},14873:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var a=t(29439),s=t(1413),r=t(72791),i=t(11135),o=t(25787),l=t(23814),c=t(61889),u=t(18073),d=t(43896),x=t(91523),m=t(60364),Z=t(5171),j=t(27391),h=t(10703),p=t(63466),f=t(81207),g=t(74900),v=t(87995),b=t(80184),y=(0,o.Z)((function(e){return(0,i.Z)((0,s.Z)((0,s.Z)((0,s.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 304px)",overflow:"auto",fontSize:13,padding:"25px 45px 0",border:"1px solid #EAEDEE",borderRadius:4}},l.Si),l.qg),{},{actionsTray:(0,s.Z)((0,s.Z)({},l.OR.actionsTray),{},{padding:"15px 0 0"}),logerror_tab:{color:"#A52A2A",paddingLeft:25},ansidefault:{color:"#000",lineHeight:"16px"},highlight:{"& span":{backgroundColor:"#082F5238"}}},(0,l.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.tenant,i=e.namespace,o=e.podName,l=e.propLoading,u=(0,m.I0)(),d=(0,m.v9)((function(e){return e.tenants.tenantDetails.loadingTenant})),x=(0,r.useState)(""),y=(0,a.Z)(x,2),C=y[0],S=y[1],k=(0,r.useState)([]),N=(0,a.Z)(k,2),T=N[0],L=N[1],P=(0,r.useState)(!0),w=(0,a.Z)(P,2),E=w[0],I=w[1],F=new Z.t1({minWidth:5,fixedHeight:!1});(0,r.useEffect)((function(){l&&I(!0)}),[l]),(0,r.useEffect)((function(){d&&I(!0)}),[d]);var R=function(e,t){if(!e)return null;var a=(e=e.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),s=""!==C&&e.toLowerCase().includes(C.toLowerCase());return a.startsWith("   ")?(0,b.jsx)("div",{className:"".concat(s?n.highlight:""),children:(0,b.jsx)("span",{className:n.tab,children:a})},t):(0,b.jsx)("div",{className:"".concat(s?n.highlight:""),children:(0,b.jsx)("span",{className:n.ansidefault,children:a})},t)};function D(e){var n=e.columnIndex,t=e.key,a=e.parent,r=e.index,i=e.style;return(0,b.jsx)(Z.Z8,{cache:F,columnIndex:n,parent:a,rowIndex:r,children:(0,b.jsx)("div",{style:(0,s.Z)({},i),children:R(T[r],r)})},t)}return(0,r.useEffect)((function(){E&&f.Z.invoke("GET","/api/v1/namespaces/".concat(i,"/tenants/").concat(t,"/pods/").concat(o)).then((function(e){L(e.split("\n")),I(!1)})).catch((function(e){u((0,v.Ih)(e)),I(!1)}))}),[E,o,i,t,u]),(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(c.ZP,{item:!0,xs:12,className:n.actionsTray,children:(0,b.jsx)(j.Z,{placeholder:"Highlight Line",className:n.searchField,id:"search-resource",label:"",onChange:function(e){S(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,b.jsx)(p.Z,{position:"start",children:(0,b.jsx)(g.Z,{})})},variant:"standard"})}),(0,b.jsx)(c.ZP,{item:!0,xs:12,children:(0,b.jsx)("br",{})}),(0,b.jsx)(c.ZP,{item:!0,xs:12,children:(0,b.jsx)(h.Z,{children:(0,b.jsx)("div",{className:n.logList,children:T.length>=1&&(0,b.jsx)(Z.qj,{children:function(e){var n=e.width,t=e.height;return(0,b.jsx)(Z.aV,{rowHeight:function(e){return F.rowHeight(e)},overscanRowCount:15,rowCount:T.length,rowRenderer:D,width:n,height:t})}})})})})]})})),C=t(45248),S=t(5450),k=(0,o.Z)((function(e){return(0,i.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},l.OR),l.Si),l.qg),l.bp),{},{actionsTray:(0,s.Z)((0,s.Z)({},l.OR.actionsTray),{},{padding:"15px 0 0"})}))}))((function(e){e.classes;var n=e.tenant,t=e.namespace,s=e.podName,i=e.propLoading,o=(0,m.I0)(),l=(0,m.v9)((function(e){return e.tenants.tenantDetails.loadingTenant})),u=(0,r.useState)([]),d=(0,a.Z)(u,2),x=d[0],Z=d[1],j=(0,r.useState)(!0),h=(0,a.Z)(j,2),p=h[0],g=h[1];return(0,r.useEffect)((function(){i&&g(!0)}),[i]),(0,r.useEffect)((function(){l&&g(!0)}),[l]),(0,r.useEffect)((function(){p&&f.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(s,"/events")).then((function(e){for(var n=0;n<e.length;n++){var t=Date.now()/1e3|0;e[n].seen=(0,C.v1)((t-e[n].last_seen).toString())}Z(e),g(!1)})).catch((function(e){o((0,v.Ih)(e)),g(!1)}))}),[p,s,t,n,o]),(0,b.jsx)(r.Fragment,{children:(0,b.jsx)(c.ZP,{item:!0,xs:12,children:(0,b.jsx)(S.Z,{events:x,loading:p})})})})),N=t(64554),T=t(81918),L=t(79836),P=t(53382),w=t(53994),E=t(56890),I=t(35855),F=t(39281),R=t(45902),D={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},A=function(e){var n=e.title;return(0,b.jsx)(N.Z,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,b.jsx)("h3",{children:n})})},B=function(e){var n=e.describeInfo;return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(A,{title:"Summary"}),(0,b.jsxs)(N.Z,{sx:(0,s.Z)({},D),children:[(0,b.jsx)(R.Z,{label:"Name",value:n.name}),(0,b.jsx)(R.Z,{label:"Namespace",value:n.namespace}),(0,b.jsx)(R.Z,{label:"Node",value:n.nodeName}),(0,b.jsx)(R.Z,{label:"Start time",value:n.startTime}),(0,b.jsx)(R.Z,{label:"Status",value:n.phase}),(0,b.jsx)(R.Z,{label:"QoS Class",value:n.qosClass}),(0,b.jsx)(R.Z,{label:"IP",value:n.podIP})]})]})},H=function(e){var n=e.annotations;return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(A,{title:"Annotations"}),(0,b.jsx)(N.Z,{children:n.map((function(e,n){return(0,b.jsx)(T.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})},O=function(e){var n=e.labels;return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(A,{title:"Labels"}),(0,b.jsx)(N.Z,{children:n.map((function(e,n){return(0,b.jsx)(T.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})},V=function(e){var n=e.conditions;return(0,b.jsx)(q,{title:"Conditions",columns:["type","status"],columnsLabels:["Type","Status"],items:n})},M=function(e){var n=e.tolerations;return(0,b.jsx)(q,{title:"Tolerations",columns:["effect","key","operator","tolerationSeconds"],columnsLabels:["Effect","Key","Operator","Seconds of toleration"],items:n})},_=function(e){var n=e.volumes;return(0,b.jsx)(r.Fragment,{children:n.map((function(e,n){return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(A,{title:"Volume ".concat(e.name)}),(0,b.jsxs)(N.Z,{sx:(0,s.Z)({},D),children:[e.pvc&&(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(R.Z,{label:"Type",value:"Persistant Volume Claim"}),(0,b.jsx)(R.Z,{label:"Claim Name",value:e.pvc.claimName})]}),e.projected&&(0,b.jsx)(R.Z,{label:"Type",value:"Projected"})]})]},n)}))})},q=function(e){var n=e.title,t=e.items,a=e.columns,s=e.columnsLabels;return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(A,{title:n}),(0,b.jsx)(N.Z,{children:(0,b.jsx)(F.Z,{component:h.Z,children:(0,b.jsxs)(L.Z,{"aria-label":"collapsible table",children:[(0,b.jsx)(E.Z,{children:(0,b.jsx)(I.Z,{children:s.map((function(e,n){return(0,b.jsx)(w.Z,{children:e},n)}))})}),(0,b.jsx)(P.Z,{children:t.map((function(e,n){return(0,b.jsx)(I.Z,{children:a.map((function(n,t){return(0,b.jsx)(w.Z,{children:e[n]},t)}))},n)}))})]})})})]})},z=function(e){var n=e.containers;return(0,b.jsx)(r.Fragment,{children:n.map((function(e,n){return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(A,{title:"Container ".concat(e.name)}),(0,b.jsxs)(N.Z,{style:{wordBreak:"break-all"},sx:(0,s.Z)({},D),children:[(0,b.jsx)(R.Z,{label:"Image",value:e.image}),(0,b.jsx)(R.Z,{label:"Ready",value:"".concat(e.ready)}),(0,b.jsx)(R.Z,{label:"Ports",value:e.ports.join(", ")}),(0,b.jsx)(R.Z,{label:"Host Ports",value:e.hostPorts.join(", ")}),(0,b.jsx)(R.Z,{label:"Arguments",value:e.args.join(", ")}),(0,b.jsx)(R.Z,{label:"Started",value:e.state.started}),(0,b.jsx)(R.Z,{label:"State",value:e.state.state})]}),(0,b.jsxs)(N.Z,{style:{wordBreak:"break-all"},sx:(0,s.Z)({},D),children:[(0,b.jsx)(R.Z,{label:"Image ID",value:e.imageID}),(0,b.jsx)(R.Z,{label:"Container ID",value:e.containerID})]}),(0,b.jsx)(q,{title:"Mounts",columns:["name","mountPath"],columnsLabels:["Name","Mount Path"],items:e.mounts}),(0,b.jsx)(q,{title:"Environment Variables",columns:["key","value"],columnsLabels:["Key","Value"],items:e.environmentVariables})]},n)}))})},W=(0,o.Z)((function(e){return(0,i.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},l.OR),l.Si),l.qg),l.bp),{},{actionsTray:(0,s.Z)((0,s.Z)({},l.OR.actionsTray),{},{padding:"15px 0 0"})}))}))((function(e){e.classes;var n=e.tenant,t=e.namespace,s=e.podName,i=e.propLoading,o=(0,m.I0)(),l=(0,m.v9)((function(e){return e.tenants.tenantDetails.loadingTenant})),x=(0,r.useState)(),Z=(0,a.Z)(x,2),j=Z[0],h=Z[1],p=(0,r.useState)(!0),g=(0,a.Z)(p,2),y=g[0],C=g[1],S=(0,r.useState)(0),k=(0,a.Z)(S,2),N=k[0],T=k[1];(0,r.useEffect)((function(){i&&C(!0)}),[i]),(0,r.useEffect)((function(){l&&C(!0)}),[l]),(0,r.useEffect)((function(){y&&f.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(s,"/describe")).then((function(e){h(e),C(!1)})).catch((function(e){o((0,v.Ih)(e)),C(!1)}))}),[y,s,t,n,o]);return(0,b.jsx)(r.Fragment,{children:j&&(0,b.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,b.jsxs)(u.Z,{value:N,onChange:function(e,n){T(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,b.jsx)(d.Z,{id:"pod-describe-summary",label:"Summary"}),(0,b.jsx)(d.Z,{id:"pod-describe-annotations",label:"Annotations"}),(0,b.jsx)(d.Z,{id:"pod-describe-labels",label:" Labels"}),(0,b.jsx)(d.Z,{id:"pod-describe-conditions",label:"Conditions"}),(0,b.jsx)(d.Z,{id:"pod-describe-tolerations",label:"Tolerations"}),(0,b.jsx)(d.Z,{id:"pod-describe-volumes",label:"Volumes"}),(0,b.jsx)(d.Z,{id:"pod-describe-containers",label:"Containers"})]}),function(e,n){switch(e){case 0:return(0,b.jsx)(B,{describeInfo:n});case 1:return(0,b.jsx)(H,{annotations:n.annotations});case 2:return(0,b.jsx)(O,{labels:n.labels});case 3:return(0,b.jsx)(V,{conditions:n.conditions});case 4:return(0,b.jsx)(M,{tolerations:n.tolerations});case 5:return(0,b.jsx)(_,{volumes:n.volumes});case 6:return(0,b.jsx)(z,{containers:n.containers})}}(N,j)]})})})),G=(0,o.Z)((function(e){return(0,i.Z)((0,s.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,l.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.match,i=(0,r.useState)(0),o=(0,a.Z)(i,2),l=o[0],m=o[1],Z=(0,r.useState)(!0),j=(0,a.Z)(Z,2),h=j[0],p=j[1],f=t.params.tenantNamespace,g=t.params.tenantName,v=t.params.podName;function C(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return(0,r.useEffect)((function(){h&&p(!1)}),[h]),(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(c.ZP,{item:!0,xs:12,children:(0,b.jsxs)("h1",{className:n.sectionTitle,children:[(0,b.jsx)(x.rU,{to:"/namespaces/".concat(f,"/tenants/").concat(g,"/pods"),className:n.breadcrumLink,children:"Pods"})," ","> ",v]})}),(0,b.jsxs)(c.ZP,{container:!0,children:[(0,b.jsx)(c.ZP,{item:!0,xs:9,children:(0,b.jsxs)(u.Z,{value:l,onChange:function(e,n){m(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,b.jsx)(d.Z,(0,s.Z)({label:"Events"},C(0))),(0,b.jsx)(d.Z,(0,s.Z)({label:"Describe"},C(1))),(0,b.jsx)(d.Z,(0,s.Z)({label:"Logs"},C(2)))]})}),0===l&&(0,b.jsx)(k,{tenant:g,namespace:f,podName:v,propLoading:h}),1===l&&(0,b.jsx)(W,{tenant:g,namespace:f,podName:v,propLoading:h}),2===l&&(0,b.jsx)(y,{tenant:g,namespace:f,podName:v,propLoading:h})]})]})}))}}]);
//# sourceMappingURL=4873.badd008d.chunk.js.map