"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5588],{84669:function(e,t,n){n(72791);var i=n(91523),a=n(11135),r=n(25787),o=n(74833),c=n(64554),l=n(80184);t.Z=(0,r.Z)((function(e){return(0,a.Z)({link:{display:"block",textDecoration:"none","&:active":{color:e.palette.primary.light}},iconBox:{display:"flex",flexDirection:"row","&:hover":{background:"rgba(234,237,238)"},height:"30px",paddingBottom:4,paddingTop:8,paddingRight:16,paddingLeft:0,borderRadius:4},icon:{lineHeight:1,marginRight:"14px",alignItems:"center",width:"22px","& .min-icon":{color:e.palette.primary.light,width:"16px",height:"16px"}},label:{lineHeight:1,alignItems:"center",paddingTop:1,fontSize:"14px",fontWeight:600,color:e.palette.primary.light}})}))((function(e){var t=e.to,n=e.label,a=e.classes,r=e.className,s=e.executeOnClick;return(0,l.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,l.jsx)(i.rU,{to:t,className:"".concat(a.link," ").concat(r||""),onClick:function(){s&&s()},children:(0,l.jsxs)("div",{className:a.iconBox,children:[(0,l.jsx)("div",{className:a.icon,children:(0,l.jsx)(o.xN,{})}),(0,l.jsx)("div",{className:a.label,children:n})]})})})}))},45588:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var i=n(70885),a=n(1413),r=n(72791),o=n(61889),c=n(36151),l=n(40986),s=n(11135),u=n(25787),d=n(23814),m=n(81207),b=n(21435),f=n(83679),h=n(45248),x=n(62666),p=n(60364),g=n(42209);function k(e,t){return e===t}function j(e){return"function"===typeof e?function(){return e}:e}function v(e,t,n){var i=n&&n.equalityFn||k,a=function(e){var t=(0,r.useState)(j(e)),n=t[0],i=t[1];return[n,(0,r.useCallback)((function(e){return i(j(e))}),[])]}(e),o=a[0],c=a[1],l=function(e,t,n){var i=this,a=(0,r.useRef)(null),o=(0,r.useRef)(0),c=(0,r.useRef)(null),l=(0,r.useRef)([]),s=(0,r.useRef)(),u=(0,r.useRef)(),d=(0,r.useRef)(e),m=(0,r.useRef)(!0);d.current=e;var b=!t&&0!==t&&"undefined"!==typeof window;if("function"!==typeof e)throw new TypeError("Expected a function");t=+t||0;var f=!!(n=n||{}).leading,h=!("trailing"in n)||!!n.trailing,x="maxWait"in n,p=x?Math.max(+n.maxWait||0,t):null;(0,r.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var g=(0,r.useMemo)((function(){var e=function(e){var t=l.current,n=s.current;return l.current=s.current=null,o.current=e,u.current=d.current.apply(n,t)},n=function(e,t){b&&cancelAnimationFrame(c.current),c.current=b?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!m.current)return!1;var n=e-a.current,i=e-o.current;return!a.current||n>=t||n<0||x&&i>=p},g=function(t){return c.current=null,h&&l.current?e(t):(l.current=s.current=null,u.current)},k=function e(){var i=Date.now();if(r(i))return g(i);if(m.current){var c=i-a.current,l=i-o.current,s=t-c,u=x?Math.min(s,p-l):s;n(e,u)}},j=function(){for(var d=[],b=0;b<arguments.length;b++)d[b]=arguments[b];var h=Date.now(),p=r(h);if(l.current=d,s.current=i,a.current=h,p){if(!c.current&&m.current)return o.current=a.current,n(k,t),f?e(a.current):u.current;if(x)return n(k,t),e(a.current)}return c.current||n(k,t),u.current};return j.cancel=function(){c.current&&(b?cancelAnimationFrame(c.current):clearTimeout(c.current)),o.current=0,l.current=a.current=s.current=c.current=null},j.isPending=function(){return!!c.current},j.flush=function(){return c.current?g(Date.now()):u.current},j}),[f,x,t,p,h,b]);return g}((0,r.useCallback)((function(e){return c(e)}),[c]),t,n),s=(0,r.useRef)(e);return i(s.current,e)||(l(e),s.current=e),[o,l]}var Z=n(37516),y=n(32291),B=n(84669),C=n(74833),N=n(42649),R=n(74794),S=n(56578),P=n(80184),M=(0,p.$j)((function(e){return{addBucketModalOpen:e.buckets.open,bucketName:e.buckets.addBucketName,versioningEnabled:e.buckets.addBucketVersioningEnabled,lockingEnabled:e.buckets.addBucketLockingEnabled,quotaEnabled:e.buckets.addBucketQuotaEnabled,quotaType:e.buckets.addBucketQuotaType,quotaSize:e.buckets.addBucketQuotaSize,quotaUnit:e.buckets.addBucketQuotaUnit,retentionEnabled:e.buckets.addBucketRetentionEnabled,retentionMode:e.buckets.addBucketRetentionMode,retentionUnit:e.buckets.addBucketRetentionUnit,retentionValidity:e.buckets.addBucketRetentionValidity,distributedSetup:e.system.distributedSetup}}),{addBucketName:g.pK,addBucketVersioned:g.Og,enableObjectLocking:g.YP,addBucketQuota:g.hN,addBucketQuotaType:g.i9,addBucketQuotaSize:g._X,addBucketQuotaUnit:g.FB,addBucketRetention:g._n,addBucketRetentionMode:g.Tv,addBucketRetentionUnit:g.Mf,addBucketRetentionValidity:g.bC,setErrorSnackMessage:N.Ih})((0,u.Z)((function(e){return(0,s.Z)((0,a.Z)({buttonContainer:{marginTop:24,textAlign:"right","& .MuiButton-root":{marginLeft:8}},error:{color:"#b53b4b",border:"1px solid #b53b4b",padding:8,borderRadius:3},title:{marginBottom:8},headTitle:{fontWeight:"bold",fontSize:16,paddingLeft:8},h6title:{fontWeight:"bold",color:"#000000",fontSize:20,paddingBottom:8}},(0,d.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,n=e.addBucketName,a=e.addBucketVersioned,s=e.enableObjectLocking,u=e.addBucketQuota,d=e.addBucketQuotaType,p=e.addBucketQuotaSize,g=e.addBucketQuotaUnit,k=e.addBucketRetention,j=e.addBucketRetentionMode,N=e.addBucketRetentionUnit,M=e.addBucketRetentionValidity,w=e.setErrorSnackMessage,q=e.bucketName,E=e.versioningEnabled,L=e.lockingEnabled,T=e.quotaEnabled,_=e.quotaType,O=e.quotaSize,F=e.quotaUnit,z=e.retentionEnabled,I=e.retentionMode,Q=e.retentionUnit,U=e.retentionValidity,V=e.distributedSetup,A=(0,r.useState)(!1),D=(0,i.Z)(A,2),W=D[0],H=D[1],Y=(0,r.useState)(!1),K=(0,i.Z)(Y,2),$=K[0],G=K[1],X=(0,r.useState)(!1),J=(0,i.Z)(X,2),ee=J[0],te=J[1],ne=v(q,1e3),ie=(0,i.Z)(ne,1)[0];(0,r.useEffect)((function(){n(ie)}),[ie,n]);var ae=function(){n(""),a(!1),s(!1),u(!1),d("hard"),p("1"),g("TiB"),k(!1),j("compliance"),N("days"),M(1)};return(0,r.useEffect)((function(){var e=!1;""!==q.trim()&&(e=!0),T&&e&&(""!==O.trim()&&0!==parseInt(O)||(e=!1)),E&&z||(k(!1),j("compliance"),N("days"),M(1)),z?(s(!0),te(!0)):te(!1),z&&(Number.isNaN(U)||U<1)&&(e=!1),G(e)}),[q,z,L,_,O,F,T,k,j,N,M,U,E,s]),(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(y.Z,{label:(0,P.jsx)(B.Z,{to:"/buckets",label:"Buckets"})}),(0,P.jsx)(R.Z,{children:(0,P.jsx)(o.ZP,{item:!0,xs:12,className:t.boxy,children:(0,P.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!W){H(!0);var t={name:q,versioning:!!V&&E,locking:!!V&&L};if(V){if(T){var n=(0,h.Pw)(O,F,!0);t.quota={enabled:!0,quota_type:_,amount:parseInt(n)}}z&&(t.retention={mode:I,unit:Q,validity:U})}m.Z.invoke("POST","/api/v1/buckets",t).then((function(e){H(!1);var t="".concat(q);ae(),x.Z.push("/buckets/".concat(t,"/browse"))})).catch((function(e){H(!1),w(e)}))}}(e)},children:(0,P.jsxs)(o.ZP,{container:!0,children:[(0,P.jsxs)(o.ZP,{item:!0,xs:12,container:!0,className:t.title,children:[(0,P.jsx)(o.ZP,{item:!0,xs:"auto",children:(0,P.jsx)(C.wN,{})}),(0,P.jsx)(o.ZP,{item:!0,xs:!0,className:t.headTitle,children:"Create Bucket"})]}),(0,P.jsxs)(o.ZP,{item:!0,xs:12,container:!0,children:[(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(b.Z,{id:"bucket-name",name:"bucket-name",autoFocus:!0,onChange:function(e){n(e.target.value)},label:"Bucket Name",value:q})}),(0,P.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,P.jsx)("div",{className:t.h6title,children:"Features"}),(0,P.jsx)("br",{}),!V&&(0,P.jsxs)(r.Fragment,{children:[(0,P.jsxs)("div",{className:t.error,children:["These features are unavailable in a single-disk setup.",(0,P.jsx)("br",{}),"Please deploy a server in"," ",(0,P.jsx)("a",{href:"https://docs.min.io/minio/baremetal/installation/deploy-minio-distributed.html?ref=con",target:"_blank",rel:"noreferrer",children:"Distributed Mode"})," ","to use these features."]}),(0,P.jsx)("br",{}),(0,P.jsx)("br",{})]})]}),(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(Z.Z,{value:"versioned",id:"versioned",name:"versioned",checked:E,onChange:function(e){a(e.target.checked)},description:"Allows to keep multiple versions of the same object under the same key.",label:"Versioning",disabled:!V||L})}),(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(Z.Z,{value:"locking",id:"locking",name:"locking",disabled:ee||!V,checked:L,onChange:function(e){s(e.target.checked),e.target.checked&&a(!0)},label:"Object Locking",description:"Required to support retention and legal hold. Can only be enabled at bucket creation."})}),(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(Z.Z,{value:"bucket_quota",id:"bucket_quota",name:"bucket_quota",checked:T,onChange:function(e){u(e.target.checked)},label:"Quota",description:"Limit the amount of data in the bucket.",disabled:!V})}),T&&V&&(0,P.jsx)(r.Fragment,{children:(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(b.Z,{type:"number",id:"quota_size",name:"quota_size",onChange:function(e){e.target.validity.valid&&p(e.target.value)},label:"Quota",value:O,required:!0,min:"1",pattern:"[0-9]*",overlayObject:(0,P.jsx)(S.Z,{id:"quota_unit",onUnitChange:function(e){g(e)},unitSelected:F,unitsList:(0,h.zQ)(["Ki"]),disabled:!1})})})}),E&&V&&(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(Z.Z,{value:"bucket_retention",id:"bucket_retention",name:"bucket_retention",checked:z,onChange:function(e){k(e.target.checked)},label:"Retention",description:"Impose rules to prevent object deletion for a period of time."})}),z&&V&&(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(f.Z,{currentSelection:I,id:"retention_mode",name:"retention_mode",label:"Retention Mode",onChange:function(e){j(e.target.value)},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}]})}),(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(f.Z,{currentSelection:Q,id:"retention_unit",name:"retention_unit",label:"Retention Unit",onChange:function(e){N(e.target.value)},selectorOptions:[{value:"days",label:"Days"},{value:"years",label:"Years"}]})}),(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(b.Z,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){M(e.target.valueAsNumber)},label:"Retention Validity",value:String(U),required:!0,min:"1"})})]})]}),(0,P.jsxs)(o.ZP,{item:!0,xs:12,className:t.buttonContainer,children:[(0,P.jsx)(c.Z,{type:"button",variant:"outlined",className:t.clearButton,onClick:ae,children:"Clear"}),(0,P.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",disabled:W||!$,children:"Create Bucket"})]}),W&&(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(l.Z,{})})]})})})})]})})))},83679:function(e,t,n){var i=n(4942),a=n(1413),r=(n(72791),n(28182)),o=n(61889),c=n(10765),l=n(85523),s=n(61419),u=n(30829),d=n(20068),m=n(11135),b=n(25787),f=n(72455),h=n(23814),x=n(84570),p=n(80184),g=(0,f.Z)((0,a.Z)({root:{"&:hover":{backgroundColor:"transparent"}}},h.FU)),k=function(e){var t=g();return(0,p.jsx)(s.Z,(0,a.Z)({className:t.root,disableRipple:!0,color:"default",checkedIcon:(0,p.jsx)("span",{className:t.radioSelectedIcon}),icon:(0,p.jsx)("span",{className:t.radioUnselectedIcon})},e))};t.Z=(0,b.Z)((function(e){return(0,m.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},h.YI),h.Hr),{},{optionLabel:{"&.Mui-disabled":{"& .MuiFormControlLabel-label":{color:"#9c9c9c"}},"&:last-child":{marginRight:0},"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E"}},checkedOption:{"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E",fontWeight:700}}}))}))((function(e){var t=e.selectorOptions,n=void 0===t?[]:t,a=e.currentSelection,s=e.label,m=e.id,b=e.name,f=e.onChange,h=e.tooltip,g=void 0===h?"":h,j=e.disableOptions,v=void 0!==j&&j,Z=e.classes,y=e.displayInColumn,B=void 0!==y&&y;return(0,p.jsxs)(o.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(o.ZP,{item:!0,xs:!0,children:(0,p.jsxs)(u.Z,{htmlFor:m,className:Z.inputLabel,children:[(0,p.jsx)("span",{children:s}),""!==g&&(0,p.jsx)("div",{className:Z.tooltipContainer,children:(0,p.jsx)(d.Z,{title:g,placement:"top-start",children:(0,p.jsx)("div",{children:(0,p.jsx)(x.Z,{})})})})]})}),(0,p.jsx)(o.ZP,{item:!0,xs:!0,className:Z.radioOptionsLayout,children:(0,p.jsx)(c.Z,{"aria-label":m,id:m,name:b,value:a,onChange:f,row:!B,style:{display:"block",textAlign:"right"},children:n.map((function(e){return(0,p.jsx)(l.Z,{value:e.value,control:(0,p.jsx)(k,{}),label:e.label,disabled:v,className:(0,r.Z)(Z.optionLabel,(0,i.Z)({},Z.checkedOption,e.value===a))},"rd-".concat(b,"-").concat(e.value))}))})})]})}))},32291:function(e,t,n){var i=n(72791),a=n(60364),r=n(61889),o=n(11135),c=n(25787),l=n(20890),s=n(13400),u=n(95466),d=n(84683),m=n(3925),b=n(74833),f=n(80184),h={toggleList:m.kQ},x=(0,a.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage,features:e.console.session.features}}),h);t.Z=x((0,c.Z)((function(e){return(0,o.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:21,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}},middleComponent:{display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var t=e.classes,n=e.label,a=e.actions,o=e.sidebarOpen,c=e.operatorMode,m=e.managerObjects,h=e.toggleList,x=e.middleComponent;return e.features.includes("hide-menu")?(0,f.jsx)(i.Fragment,{}):(0,f.jsxs)(r.ZP,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,f.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:x?3:6,className:t.label,sx:{paddingTop:["15px","15px","0","0"]},children:[!o&&(0,f.jsx)("div",{className:t.logo,children:c?(0,f.jsx)(u.Z,{}):(0,f.jsx)(d.Z,{})}),(0,f.jsx)(l.Z,{variant:"h4",className:t.labelStyle,children:n})]}),x&&(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,className:t.middleComponent,sx:{marginTop:["10px","10px","0","0"]},children:x}),(0,f.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:x?3:6,className:t.rightMenu,children:[a&&a,m&&m.length>0&&(0,f.jsx)(s.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){h()},id:"object-manager-toggle",size:"large",children:(0,f.jsx)(b.gx,{})})]})]})})))}}]);
//# sourceMappingURL=5588.0717939d.chunk.js.map