"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4120,2112],{54120:function(e,n,t){t.r(n);var a=t(29439),s=t(1413),l=t(72791),c=t(26181),r=t.n(c),i=t(61889),o=t(11135),u=t(25787),m=t(23814),d=t(25469),p=t(87995),f=t(81207),h=t(92983),Z=t(32112),C=t(74794),v=t(59114),x=t(75952),b=t(80184);n.default=(0,u.Z)((function(e){return(0,o.Z)((0,s.Z)((0,s.Z)((0,s.Z)({tableWrapper:{height:"calc(100vh - 150px)"}},m.OR),m.qg),m.Bz))}))((function(e){var n=e.classes,t=(0,d.TL)(),c=(0,l.useState)([]),o=(0,a.Z)(c,2),u=o[0],m=o[1],j=(0,l.useState)(""),P=(0,a.Z)(j,2),g=P[0],y=P[1],V=(0,l.useState)(!0),S=(0,a.Z)(V,2),T=S[0],w=S[1],L=(0,l.useState)(null),k=(0,a.Z)(L,2),E=k[0],D=k[1],K=(0,l.useState)(!1),O=(0,a.Z)(K,2),F=O[0],I=O[1];(0,l.useEffect)((function(){T&&f.Z.invoke("GET","/api/v1/list-pvcs").then((function(e){var n=r()(e,"pvcs",[]);m(n||[]),w(!1)})).catch((function(e){w(!1),t((0,p.Ih)(e))}))}),[T,t]);var N=u.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())})),A=[{type:"delete",onClick:function(e){var n=(0,s.Z)((0,s.Z)({},e),{},{tenant:e.tenant,namespace:e.namespace});D(n),I(!0)}}];return(0,b.jsxs)(l.Fragment,{children:[F&&(0,b.jsx)(Z.default,{deleteOpen:F,selectedPVC:E,closeDeleteModalAndRefresh:function(e){I(!1),w(!0)}}),(0,b.jsx)(x.mr1,{label:"Persistent Volumes Claims",middleComponent:(0,b.jsx)(v.Z,{placeholder:"Search Volumes (PVCs)",onChange:function(e){y(e)},value:g})}),(0,b.jsx)(C.Z,{children:(0,b.jsx)(i.ZP,{item:!0,xs:12,children:(0,b.jsx)(h.Z,{itemActions:A,columns:[{label:"Name",elementKey:"name"},{label:"Namespace",elementKey:"namespace",width:90},{label:"Status",elementKey:"status",width:120},{label:"Tenant",renderFullObject:!0,renderFunction:function(e){return"".concat(e.namespace,"/").concat(e.tenant)}},{label:"Capacity",elementKey:"capacity",width:90},{label:"Storage Class",elementKey:"storageClass"}],isLoading:T,records:N,entityName:"PVCs",idField:"name",customPaperHeight:n.tableWrapper})})})]})}))},32112:function(e,n,t){t.r(n);var a=t(29439),s=t(72791),l=t(51691),c=t(21435),r=t(61889),i=t(9505),o=t(23508),u=t(75952),m=t(87995),d=t(25469),p=t(80184);n.default=function(e){var n=e.deleteOpen,t=e.selectedPVC,f=e.closeDeleteModalAndRefresh,h=(0,d.TL)(),Z=(0,s.useState)(""),C=(0,a.Z)(Z,2),v=C[0],x=C[1],b=(0,i.Z)((function(){return f(!0)}),(function(e){return h((0,m.Ih)(e))})),j=(0,a.Z)(b,2),P=j[0],g=j[1];return(0,p.jsx)(o.Z,{title:"Delete PVC",confirmText:"Delete",isOpen:n,titleIcon:(0,p.jsx)(u.NvT,{}),isLoading:P,onConfirm:function(){v===t.name?g("DELETE","/api/v1/namespaces/".concat(t.namespace,"/tenants/").concat(t.tenant,"/pvc/").concat(t.name)):h((0,m.Ih)({errorMessage:"PVC name is incorrect",detailedError:""}))},onClose:function(){return f(!1)},confirmButtonProps:{disabled:v!==t.name||P},confirmationContent:(0,p.jsxs)(l.Z,{children:["To continue please type ",(0,p.jsx)("b",{children:t.name})," in the box.",(0,p.jsx)(r.ZP,{item:!0,xs:12,children:(0,p.jsx)(c.Z,{id:"retype-PVC",name:"retype-PVC",onChange:function(e){x(e.target.value)},label:"",value:v})})]})})}}}]);
//# sourceMappingURL=4120.73f6c7e5.chunk.js.map