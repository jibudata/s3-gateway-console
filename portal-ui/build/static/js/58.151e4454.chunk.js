(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[58],{348:function(e,t,a){"use strict";var c=a(3),n=a(0),i=a.n(n),r=a(428),s=a(444),o=a(818),l=a(326),d=a(328),b=a(250),j=a(319),u=a(260),m=a(116),O=a(334),h=a(2),g=Object(j.a)((function(e){return Object(b.a)(Object(c.a)({},m.n))}));function p(e){var t=g();return Object(h.jsx)(r.a,Object(c.a)({InputProps:{classes:t}},e))}t.a=Object(u.a)((function(e){return Object(b.a)(Object(c.a)(Object(c.a)(Object(c.a)({},m.i),m.D),{},{textBoxContainer:{flexGrow:1,position:"relative"},textBoxWithIcon:{position:"relative",paddingRight:25},errorState:{color:"#b53b4b",fontSize:14,position:"absolute",top:7,right:7},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,n=e.value,r=e.id,b=e.name,j=e.type,u=void 0===j?"text":j,m=e.autoComplete,g=void 0===m?"off":m,x=e.disabled,f=void 0!==x&&x,v=e.multiline,N=void 0!==v&&v,y=e.tooltip,C=void 0===y?"":y,S=e.index,w=void 0===S?0:S,k=e.error,F=void 0===k?"":k,E=e.required,R=void 0!==E&&E,T=e.placeholder,A=void 0===T?"":T,B=e.min,I=e.max,z=e.overlayIcon,L=void 0===z?null:z,M=e.overlayObject,W=void 0===M?null:M,K=e.extraInputProps,P=void 0===K?{}:K,D=e.overlayAction,q=e.noLabelMinWidth,G=void 0!==q&&q,H=e.classes,J=Object(c.a)({"data-index":w},P);return"number"===u&&B&&(J.min=B),"number"===u&&I&&(J.max=I),Object(h.jsx)(i.a.Fragment,{children:Object(h.jsxs)(s.a,{container:!0,className:" ".concat(""!==F?H.errorInField:H.inputBoxContainer),children:[""!==t&&Object(h.jsxs)(o.a,{htmlFor:r,className:G?H.noMinWidthLabel:H.inputLabel,children:[Object(h.jsxs)("span",{children:[t,R?"*":""]}),""!==C&&Object(h.jsx)("div",{className:H.tooltipContainer,children:Object(h.jsx)(l.a,{title:C,placement:"top-start",children:Object(h.jsx)("div",{className:H.tooltip,children:Object(h.jsx)(O.a,{})})})})]}),Object(h.jsxs)("div",{className:H.textBoxContainer,children:[Object(h.jsx)(p,{id:r,name:b,fullWidth:!0,value:n,disabled:f,onChange:a,type:u,multiline:N,autoComplete:g,inputProps:J,error:""!==F,helperText:F,placeholder:A,className:H.inputRebase}),L&&Object(h.jsx)("div",{className:"".concat(H.overlayAction," ").concat(""!==t?"withLabel":""),children:Object(h.jsx)(d.a,{onClick:D?function(){D()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:L})}),W&&Object(h.jsx)("div",{className:"".concat(H.overlayAction," ").concat(""!==t?"withLabel":""),children:W})]})]})})}))},405:function(e,t,a){"use strict";a(0);var c=a(38),n=a(441),i=a(444),r=a(250),s=a(260),o=a(91),l=a(328),d=a(117),b=a(118),j=a(39),u=a(335),m=a(2),O={toggleList:j.q},h=Object(c.b)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),O);t.a=h(Object(s.a)((function(e){return Object(r.a)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var t=e.classes,a=e.label,c=e.actions,r=e.sidebarOpen,s=e.operatorMode,j=e.managerObjects,O=e.toggleList;return Object(m.jsxs)(i.a,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[Object(m.jsx)(n.a,{display:{xs:"block",sm:"block",md:"none"},children:Object(m.jsx)(i.a,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),Object(m.jsxs)(i.a,{item:!0,xs:12,sm:12,md:6,className:t.label,children:[!r&&Object(m.jsx)("div",{className:t.logo,children:s?Object(m.jsx)(d.a,{}):Object(m.jsx)(b.a,{})}),Object(m.jsx)(o.a,{variant:"h4",className:t.labelStyle,children:a})]}),Object(m.jsxs)(i.a,{item:!0,xs:12,sm:12,md:6,className:t.rightMenu,children:[c&&c,j&&j.length>0&&Object(m.jsx)(l.a,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){O()},size:"large",children:Object(m.jsx)(u.pb,{})})]})]})})))},407:function(e,t,a){"use strict";var c=a(3),n=(a(0),a(444)),i=a(250),r=a(260),s=a(116),o=a(2);t.a=Object(r.a)((function(e){return Object(i.a)(Object(c.a)({pageContainer:{width:"100%"}},s.r))}))((function(e){var t=e.classes,a=e.className,c=void 0===a?"":a,i=e.children;return Object(o.jsx)("div",{className:t.contentSpacer,children:Object(o.jsx)(n.a,{container:!0,children:Object(o.jsx)(n.a,{item:!0,xs:12,className:c,children:i})})})}))},429:function(e,t,a){"use strict";a(0);var c=a(19),n=a(250),i=a(260),r=a(335),s=a(2);t.a=Object(i.a)((function(e){return Object(n.a)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"250px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center"}})}))((function(e){var t=e.to,a=e.label,n=e.classes;return Object(s.jsxs)(c.a,{to:t,className:n.link,children:[Object(s.jsx)("div",{className:n.icon,children:Object(s.jsx)(r.g,{})}),Object(s.jsx)("div",{className:n.label,children:a})]})}))},528:function(e,t,a){"use strict";var c=a(0),n=a.n(c),i=a(91),r=a(250),s=a(260),o=a(2);t.a=Object(s.a)((function(e){var t;return Object(r.a)({errorBlock:{color:(null===(t=e.palette)||void 0===t?void 0:t.error.main)||"#C83B51"}})}))((function(e){var t=e.classes,a=e.errorMessage,c=e.withBreak,r=void 0===c||c;return Object(o.jsxs)(n.a.Fragment,{children:[r&&Object(o.jsx)("br",{}),Object(o.jsx)(i.a,{component:"p",variant:"body1",className:t.errorBlock,children:a})]})}))},590:function(e,t,a){"use strict";var c=a(15),n=a(3),i=a(0),r=a.n(i),s=a(45),o=a.n(s),l=a(444),d=a(818),b=a(326),j=a(328),u=a(650),m=a.n(u),O=a(649),h=a.n(O),g=a(250),p=a(260),x=a(116),f=a(334),v=a(528),N=a(2);t.a=Object(p.a)((function(e){return Object(g.a)(Object(n.a)(Object(n.a)(Object(n.a)({},x.i),x.D),{},{textBoxContainer:{flexGrow:1,position:"relative",display:"flex",flexWrap:"nowrap",height:48},errorState:{color:"#b53b4b",fontSize:14,position:"absolute",top:7,right:7},errorText:{margin:"0",fontSize:"0.75rem",marginTop:3,textAlign:"left",fontFamily:"Lato,sans-serif",fontWeight:400,lineHeight:"1.66",color:"#dc1f2e"},valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileReselect:{display:"flex",alignItems:"center",height:48},fieldBottom:{borderBottom:"#9c9c9c 1px solid"},fileInputField:{margin:"13px 0"}}))}))((function(e){var t=e.label,a=e.classes,n=e.onChange,s=e.id,u=e.name,O=e.disabled,g=void 0!==O&&O,p=e.tooltip,x=void 0===p?"":p,y=e.required,C=e.error,S=void 0===C?"":C,w=e.accept,k=void 0===w?"":w,F=e.value,E=void 0===F?"":F,R=Object(i.useState)(!1),T=Object(c.a)(R,2),A=T[0],B=T[1];return Object(N.jsx)(r.a.Fragment,{children:Object(N.jsxs)(l.a,{item:!0,xs:12,className:"".concat(a.fileInputField," ").concat(a.fieldBottom," ").concat(a.fieldContainer," ").concat(""!==S?a.errorInField:""),children:[""!==t&&Object(N.jsxs)(d.a,{htmlFor:s,className:"".concat(""!==S?a.fieldLabelError:""," ").concat(a.inputLabel),children:[Object(N.jsxs)("span",{children:[t,y?"*":""]}),""!==x&&Object(N.jsx)("div",{className:a.tooltipContainer,children:Object(N.jsx)(b.a,{title:x,placement:"top-start",children:Object(N.jsx)("div",{className:a.tooltip,children:Object(N.jsx)(f.a,{})})})})]}),A||""===E?Object(N.jsxs)("div",{className:a.textBoxContainer,children:[Object(N.jsx)("input",{type:"file",name:u,onChange:function(e){var t=o()(e,"target.files[0].name","");!function(e,t){var a=e.target.files[0],c=new FileReader;c.readAsDataURL(a),c.onload=function(){var e=c.result;if(e){var a=e.toString().split("base64,");2===a.length&&t(a[1])}}}(e,(function(e){n(e,t)}))},accept:k,required:y,disabled:g,className:a.fileInputField}),""!==E&&Object(N.jsx)(j.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){B(!1)},disableRipple:!1,disableFocusRipple:!1,size:"large",children:Object(N.jsx)(h.a,{})}),""!==S&&Object(N.jsx)(v.a,{errorMessage:S})]}):Object(N.jsxs)("div",{className:a.fileReselect,children:[Object(N.jsx)("div",{className:a.valueString,children:E}),Object(N.jsx)(j.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){B(!0)},disableRipple:!1,disableFocusRipple:!1,size:"large",children:Object(N.jsx)(m.a,{})})]})]})})}))},772:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return s}));var c="minio",n="gcs",i="s3",r="azure",s=[{serviceName:c,targetTitle:"MinIO",logo:"/minio-logo.svg"},{serviceName:n,targetTitle:"Google Cloud Storage",logo:"/gcs-logo.svg"},{serviceName:i,targetTitle:"AWS S3",logo:"/aws-logo.svg"},{serviceName:r,targetTitle:"Azure",logo:"/azure-logo.svg"}]},944:function(e,t,a){"use strict";a.r(t);var c=a(15),n=a(3),i=a(0),r=a(38),s=a(45),o=a.n(s),l=a(444),d=a(250),b=a(260),j=a(330),u=a(30),m=a(116),O=a(50),h=a(348),g=a(590),p=a(405),x=a(772),f=a(429),v=a(407),N=a(2),y={setErrorSnackMessage:u.e},C=Object(r.b)(null,y);t.default=Object(b.a)((function(e){return Object(d.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},m.p),m.x),m.k),{},{strongText:{fontWeight:700},keyName:{marginLeft:5},buttonContainer:{textAlign:"right"},customTitle:Object(n.a)(Object(n.a)({},m.x.customTitle),{},{marginTop:0}),settingsFormContainer:Object(n.a)(Object(n.a)({},m.x.settingsFormContainer),{},{height:"calc(100vh - 422px)"}),lambdaNotif:{background:"linear-gradient(90deg, rgba(249,249,250,1) 0%, rgba(250,250,251,1) 68%, rgba(254,254,254,1) 100%)",border:"#E5E5E5 1px solid",borderRadius:5,height:80,display:"flex",alignItems:"center",justifyContent:"start",marginBottom:16,cursor:"pointer",padding:0,overflow:"hidden"},lambdaNotifIcon:{backgroundColor:"#FEFEFE",display:"flex",alignItems:"center",justifyContent:"center",width:80,height:80,"& img":{maxWidth:46,maxHeight:46}},lambdaNotifTitle:{color:"#07193E",fontSize:16,fontFamily:"Lato,sans-serif",paddingLeft:18},mainCont:{maxWidth:1180,paddingLeft:38,paddingRight:38},backTo:{margin:"20px 0px 0"},formBox:{border:"1px solid #EAEAEA",padding:15}},m.j))}))(C((function(e){var t=e.classes,a=e.setErrorSnackMessage,r=e.match,s=e.history,d=Object(i.useState)(!1),b=Object(c.a)(d,2),u=b[0],m=b[1],y=Object(i.useState)(""),C=Object(c.a)(y,2),S=C[0],w=C[1],k=Object(i.useState)(""),F=Object(c.a)(k,2),E=F[0],R=F[1],T=Object(i.useState)(""),A=Object(c.a)(T,2),B=A[0],I=A[1],z=Object(i.useState)(""),L=Object(c.a)(z,2),M=L[0],W=L[1],K=Object(i.useState)(""),P=Object(c.a)(K,2),D=P[0],q=P[1],G=Object(i.useState)(""),H=Object(c.a)(G,2),J=H[0],U=H[1],V=Object(i.useState)(""),Z=Object(c.a)(V,2),$=Z[0],_=Z[1],Q=Object(i.useState)(""),X=Object(c.a)(Q,2),Y=X[0],ee=X[1],te=Object(i.useState)(""),ae=Object(c.a)(te,2),ce=ae[0],ne=ae[1],ie=Object(i.useState)(""),re=Object(c.a)(ie,2),se=re[0],oe=re[1],le=Object(i.useState)(""),de=Object(c.a)(le,2),be=de[0],je=de[1],ue=Object(i.useState)(""),me=Object(c.a)(ue,2),Oe=me[0],he=me[1],ge=Object(i.useState)(""),pe=Object(c.a)(ge,2),xe=pe[0],fe=pe[1],ve=o()(r,"params.service","s3"),Ne=Object(i.useState)(!0),ye=Object(c.a)(Ne,2),Ce=ye[0],Se=ye[1],we=Object(i.useState)(""),ke=Object(c.a)(we,2),Fe=ke[0],Ee=ke[1],Re=Object(i.useCallback)((function(){return/^[A-Z0-9-_]+$/.test(S)?(Ee(""),!0):(Ee("Please verify that string is uppercase only and contains valid characters (numbers, dashes & underscores)."),!1)}),[S]);Object(i.useEffect)((function(){if(u){var e={},t={name:S,endpoint:E,bucket:B,prefix:M,region:D},c=ve;switch("minio"===ve&&(c="s3"),ve){case"minio":case"s3":e={s3:Object(n.a)(Object(n.a)({},t),{},{accesskey:$,secretkey:Y,storageclass:J})};break;case"gcs":e={gcs:Object(n.a)(Object(n.a)({},t),{},{creds:se})};break;case"azure":e={azure:Object(n.a)(Object(n.a)({},t),{},{accountname:be,accountkey:Oe})}}var i=Object(n.a)({type:c},e);O.a.invoke("POST","/api/v1/admin/tiers",i).then((function(){m(!1),s.push("/tiers")})).catch((function(e){m(!1),a(e)}))}}),[$,Oe,be,B,se,E,s,S,M,D,u,Y,a,J,ve]),Object(i.useEffect)((function(){var e=!0;""===ve&&(e=!1),""!==S&&Re()||(e=!1),""===E&&(e=!1),""===B&&(e=!1),""===M&&(e=!1),""===D&&(e=!1),"s3"!==ve&&"minio"!==ve||(""===$&&(e=!1),""===Y&&(e=!1)),"gcs"===ve&&""===se&&(e=!1),"azure"===ve&&(""===be&&(e=!1),""===Oe&&(e=!1)),Se(e)}),[$,Oe,be,B,se,E,Ce,S,M,D,Y,J,ve,Re]),Object(i.useEffect)((function(){switch(ve){case"gcs":R("https://storage.googleapis.com/"),fe("Google Cloud");break;case"s3":R("https://s3.amazonaws.com"),fe("Amazon S3");break;case"azure":R("http://blob.core.windows.net"),fe("Azure");break;case"minio":R(""),fe("MinIO")}}),[ve]);var Te=x.e.find((function(e){return e.serviceName===ve}));return Object(N.jsxs)(i.Fragment,{children:[Object(N.jsx)(p.a,{label:"Tiers"}),Object(N.jsx)(f.a,{to:"/tiers/add",label:"Back To Tier Type Selection"}),Object(N.jsxs)(v.a,{children:[""!==ve&&Object(N.jsx)(i.Fragment,{children:Object(N.jsx)(l.a,{item:!0,xs:12,children:Te&&Object(N.jsxs)("div",{className:t.lambdaNotif,children:[Object(N.jsx)("div",{className:t.lambdaNotifIcon,children:Object(N.jsx)("img",{src:Te.logo,className:t.logoButton,alt:Te.targetTitle})}),Object(N.jsx)("div",{className:t.lambdaNotifTitle,children:Object(N.jsxs)("b",{children:[xe||""," Tier Configuration"]})})]},"icon-".concat(Te.targetTitle))})}),Object(N.jsx)(l.a,{item:!0,xs:12,children:Object(N.jsx)("div",{className:t.formBox,children:Object(N.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),m(!0)},children:[Object(N.jsx)(l.a,{item:!0,xs:12,children:""!==ve&&Object(N.jsxs)(i.Fragment,{children:[Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"name",name:"name",label:"Name",placeholder:"Enter Name (Eg. REMOTE-TIER)",value:S,onChange:function(e){w(e.target.value.toUpperCase())},error:Fe})}),Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"endpoint",name:"endpoint",label:"Endpoint",placeholder:"Enter Endpoint",value:E,onChange:function(e){R(e.target.value)}})}),(ve===x.d||ve===x.c)&&Object(N.jsxs)(i.Fragment,{children:[Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:$,onChange:function(e){_(e.target.value)}})}),Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:Y,onChange:function(e){ee(e.target.value)}})})]}),ve===x.b&&Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(g.a,{accept:".json",classes:t,id:"creds",label:"Credentials",name:"creds",onChange:function(e,t){oe(e),ne(t)},value:ce})}),ve===x.a&&Object(N.jsxs)(i.Fragment,{children:[Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:be,onChange:function(e){je(e.target.value)}})}),Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:Oe,onChange:function(e){he(e.target.value)}})})]}),Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"bucket",name:"bucket",label:"Bucket",placeholder:"Enter Bucket",value:B,onChange:function(e){I(e.target.value)}})}),Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"prefix",name:"prefix",label:"Prefix",placeholder:"Enter Prefix",value:M,onChange:function(e){W(e.target.value)}})}),Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"region",name:"region",label:"Region",placeholder:"Enter Region",value:D,onChange:function(e){q(e.target.value)}})}),ve===x.d||ve===x.c&&Object(N.jsx)("div",{className:t.formFieldRow,children:Object(N.jsx)(h.a,{id:"storageClass",name:"storageClass",label:"Storage Class",placeholder:"Enter Storage Class",value:J,onChange:function(e){U(e.target.value)}})})]})}),Object(N.jsx)(l.a,{item:!0,xs:12,className:t.settingsButtonContainer,children:Object(N.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",disabled:u||!Ce,children:"Save"})})]})})})]})]})})))}}]);
//# sourceMappingURL=58.151e4454.chunk.js.map