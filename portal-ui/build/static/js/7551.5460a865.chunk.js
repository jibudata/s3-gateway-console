"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7551],{53224:function(e,n,t){var i=t(18489),a=t(83738),s=(t(50390),t(70758)),r=t(62449),o=t(62559),c=["onClick","text","disabled","tooltip","icon"],l=(0,r.Z)((function(e){return{root:{padding:"7px",color:function(n){return function(n){var t=n.variant,i=n.color,a=e.palette.primary.main;return"primary"===i&&"contained"===t?a=e.palette.primary.contrastText:"primary"===i&&"outlined"===t?a=e.palette.primary.main:"secondary"===i&&(a=e.palette.secondary.main),a}(n)},borderColor:function(n){return"secondary"===n.color?e.palette.secondary.main:e.palette.primary.main},"& svg.min-icon":{width:12,marginLeft:function(e){return e.text?"5px":"0px"},"@media (max-width: 900px)":{width:16,marginLeft:"0px !important"}}}}}));n.Z=function(e){var n=l(e),t=e.onClick,r=e.text,d=void 0===r?"":r,u=e.disabled,m=void 0!==u&&u,x=e.tooltip,h=e.icon,f=void 0===h?null:h,p=(0,a.Z)(e,c);return(0,o.jsxs)(s.Z,(0,i.Z)((0,i.Z)({classes:n,tooltip:x||d,variant:"outlined",onClick:t,disabled:m,color:"secondary",size:"medium",sx:{border:"1px solid #f44336","& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}}}},p),{},{children:[(0,o.jsx)("span",{children:d})," ",f]}))}},47346:function(e,n,t){t.r(n);var i=t(23430),a=(t(50390),t(34424)),s=t(23473),r=t(44149),o=t(21639),c=t(60656),l=t(98280),d=t(62559),u={setErrorSnackMessage:r.Ih},m=(0,a.$j)(null,u);n.default=m((function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,a=e.selectedBucket,r=e.setErrorSnackMessage,u=(0,o.Z)((function(){return n(!0)}),(function(e){return r(e)})),m=(0,i.Z)(u,2),x=m[0],h=m[1];if(!a)return null;return(0,d.jsx)(c.Z,{title:"Delete Bucket",confirmText:"Delete",isOpen:t,titleIcon:(0,d.jsx)(l.Nv,{}),isLoading:x,onConfirm:function(){h("DELETE","/api/v1/buckets/".concat(a),{name:a})},onClose:function(){return n(!1)},confirmationContent:(0,d.jsxs)(s.Z,{children:["Are you sure you want to delete bucket ",(0,d.jsx)("b",{children:a}),"? ",(0,d.jsx)("br",{}),"A bucket can only be deleted if it's empty."]})})}))},57551:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var i=t(35531),a=t(23430),s=t(18489),r=t(50390),o=t(34424),c=t(86509),l=t(4285),d=t(81378),u=t(25594),m=t(98280),x=t(44149),h=t(72462),f=t(30324),p=t(47346),Z=t(35721),j=t(35477),g=t(56805),v=t(28948),b=t(54950),k=t(6369),y=t(49495),C=t(92045),S=t(53224),N=t(44977),P=t(62559),w=(0,l.Z)((function(e){return(0,c.Z)({root:{marginBottom:30,padding:20,color:e.palette.primary.main,border:"#E5E5E5 1px solid",borderRadius:2,"& .min-icon":{height:14,width:14,marginRight:4},"& .MuiTypography-body2":{fontSize:14},"& .MuiCardHeader-content":{wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-all",font:"normal normal bold 24px/27px Lato",color:e.palette.primary.main,"& .MuiTypography-root":{fontSize:19,fontWeight:"bold","& .min-icon":{position:"relative",top:4,marginRight:4,height:"24px !important"}}},"& .MuiCardHeader-root":{background:"transparent linear-gradient(0deg, #EEF1F44E 0%, #FFFFFF 100%) 0% 0% no-repeat padding-box"}},checkBoxElement:{width:32,height:32,float:"left",overflow:"hidden","& div":{position:"absolute"}},viewButton:{width:111,color:"white",marginLeft:8,fontSize:12,fontWeight:"normal",boxShadow:"unset",borderRadius:4},manageButton:{borderRadius:4,width:111,color:e.palette.grey[700],textTransform:"unset",fontSize:12,fontWeight:"normal","& .MuiButton-endIcon":{"& .min-icon":{fontSize:18}}},metric:{"& .min-icon":{color:"#000000",width:13,marginRight:5}},metricLabel:{fontSize:14,fontWeight:"bold",color:"#000000"},metricText:{fontSize:24,fontWeight:"bold"},unit:{fontSize:12,fontWeight:"normal"},bucketName:{padding:0,margin:0,fontSize:22},bucketIcon:{"& .min-icon":{height:48,width:48}},bucketInfo:{display:"flex","@media (max-width: 900px)":{flexFlow:"column-reverse"}},bucketStats:{marginTop:15,borderTop:"1px solid rgb(234,234,234, .7)",paddingTop:14},bucketActionButtons:{display:"flex",alignItems:"center",justifyContent:"flex-end","@media (max-width: 900px)":{marginTop:"-33px"}}})}))((function(e){var n=e.classes,t=e.bucket,i=(e.onDelete,e.onSelect),a=e.selected,s=e.bulkSelect,r=(0,v.ae)("".concat(t.size)||"0"),o=r.split(" ")[0],c=r.split(" ")[1];return(0,P.jsxs)(u.ZP,{container:!0,className:(0,N.Z)(n.root,"bucket-item"),children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsxs)(u.ZP,{container:!0,justifyContent:"space-between",children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,sm:7,children:(0,P.jsxs)(u.ZP,{container:!0,children:[(0,P.jsxs)(u.ZP,{item:!0,xs:12,children:[s&&(0,P.jsx)("div",{className:n.checkBoxElement,onClick:function(e){e.stopPropagation()},children:(0,P.jsx)(b.Z,{checked:a,id:"select-".concat(t.name),label:"",name:"select-".concat(t.name),onChange:function(e){i(e)},value:t.name})}),(0,P.jsx)("h1",{className:n.bucketName,children:t.name})]}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsxs)(u.ZP,{container:!0,className:n.bucketInfo,children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,sm:!0,children:(0,P.jsxs)(j.Z,{variant:"body2",children:["Created: ",t.creation_date]})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,sm:!0,children:(0,P.jsxs)(j.Z,{variant:"body2",children:["Access: ",function(e){var n,t,i,a,s,r;return null===(n=e.rw_access)||void 0===n||!n.read||null!==(t=e.rw_access)&&void 0!==t&&t.write?null!==(i=e.rw_access)&&void 0!==i&&i.read||null===(a=e.rw_access)||void 0===a||!a.write?null!==(s=e.rw_access)&&void 0!==s&&s.read&&null!==(r=e.rw_access)&&void 0!==r&&r.write?"R/W":"":"W":"R"}(t)]})})]})})]})}),(0,P.jsxs)(u.ZP,{item:!0,xs:12,sm:5,className:n.bucketActionButtons,children:[(0,P.jsx)(C.s,{scopes:y.D[y.EI.BUCKET_ADMIN],resource:t.name,children:(0,P.jsx)(k.rU,{to:"/buckets/".concat(t.name,"/admin"),style:{textDecoration:"none"},children:(0,P.jsx)(S.Z,{tooltip:"Manage",onClick:function(){},text:"Manage",icon:(0,P.jsx)(m.ew,{}),color:"primary",variant:"outlined"})})}),(0,P.jsx)(k.rU,{to:"/buckets/".concat(t.name,"/browse"),style:{textDecoration:"none"},children:(0,P.jsx)(S.Z,{tooltip:"Browse",onClick:function(){},text:"Browse",icon:(0,P.jsx)(m.LZ,{}),color:"primary",variant:"contained"})}),(0,P.jsx)(g.Z,{display:{xs:"none",sm:"block"},children:(0,P.jsx)("div",{style:{marginBottom:10}})})]})]})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:n.bucketStats,children:(0,P.jsxs)(u.ZP,{container:!0,justifyContent:"flex-start",spacing:4,children:[(0,P.jsx)(u.ZP,{item:!0,className:n.bucketIcon,children:(0,P.jsx)(m.wN,{})}),(0,P.jsxs)(u.ZP,{item:!0,textAlign:"left",className:n.metric,children:[(0,P.jsx)(m.rH,{}),(0,P.jsx)("span",{className:n.metricLabel,children:"Usage"}),(0,P.jsxs)("div",{className:n.metricText,children:[o,(0,P.jsx)("span",{className:n.unit,children:c})]})]}),(0,P.jsxs)(u.ZP,{item:!0,textAlign:"left",className:n.metric,children:[(0,P.jsx)(m.xp,{}),(0,P.jsx)("span",{className:n.metricLabel,children:"Objects"}),(0,P.jsx)("div",{className:n.metricText,children:t.objects?(0,v.CE)(t.objects):0})]})]})})]})})),_=t(94187),R=t(38342),T=t.n(R),B=t(19538),F=t(99528),I=t(66964),E=t(76352),M=t(50280),L=t(76295),A=t(92440),D=t(67754),z=(0,o.$j)(null,{setModalErrorSnackMessage:x.zb}),O=(0,l.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)({remoteBucketList:{display:"grid",gridTemplateColumns:"auto auto 45px",alignItems:"center",justifyContent:"stretch"},errorIcon:{color:"#C72C48"},successIcon:{color:"#42C91A"},hide:{opacity:0,transitionDuration:"0.3s"}},h.oO),h.AK))}))(z((function(e){var n=e.open,t=e.closeModalAndRefresh,s=e.classes,o=e.buckets,c=e.setModalErrorSnackMessage,l=(0,r.useState)([]),d=(0,a.Z)(l,2),m=d[0],x=d[1],h=(0,r.useState)(!1),p=(0,a.Z)(h,2),Z=p[0],j=p[1],g=(0,r.useState)(!1),b=(0,a.Z)(g,2),k=b[0],y=b[1],C=(0,r.useState)(""),S=(0,a.Z)(C,2),N=S[0],w=S[1],R=(0,r.useState)(""),z=(0,a.Z)(R,2),O=z[0],K=z[1],U=(0,r.useState)(""),W=(0,a.Z)(U,2),G=W[0],H=W[1],q=(0,r.useState)(""),Q=(0,a.Z)(q,2),V=Q[0],$=Q[1],Y=(0,r.useState)(!0),J=(0,a.Z)(Y,2),X=J[0],ee=J[1],ne=(0,r.useState)("async"),te=(0,a.Z)(ne,2),ie=te[0],ae=te[1],se=(0,r.useState)("100"),re=(0,a.Z)(se,2),oe=re[0],ce=re[1],le=(0,r.useState)("Gi"),de=(0,a.Z)(le,2),ue=de[0],me=de[1],xe=(0,r.useState)("60"),he=(0,a.Z)(xe,2),fe=he[0],pe=he[1],Ze=(0,r.useState)([]),je=(0,a.Z)(Ze,2),ge=je[0],ve=je[1],be=(0,r.useState)([]),ke=(0,a.Z)(be,2),ye=ke[0],Ce=ke[1],Se=(0,r.useState)([]),Ne=(0,a.Z)(Se,2),Pe=Ne[0],we=Ne[1],_e=ye.map((function(e){return{label:e,value:e}}));(0,r.useEffect)((function(){if(0===ge.length){var e=[],n=[];o.forEach((function(t){e.push(t),n.push("")})),ve(n),x(e)}}),[o,ge.length]);var Re=function(e){var n=e.errString;switch(n){case"":return(0,P.jsx)("div",{className:s.successIcon,children:(0,P.jsx)(F.Z,{})});case"n/a":return null;default:if(n)return(0,P.jsx)("div",{className:s.errorIcon,children:(0,P.jsx)(_.Z,{title:n,placement:"top-start",children:(0,P.jsx)(B.Z,{})})})}return null},Te=function(e,n){var t=(0,i.Z)(ge);t[e]=n,ve(t)},Be=function(e){var n=(0,i.Z)(m),t=(0,i.Z)(ge);e.forEach((function(e){var i=T()(e,"errorString","");if(!i||""===i){var a=n.indexOf(e.originBucket);n.splice(a,1),t.splice(a,1)}})),x(n),ve(t)};return(0,P.jsx)(E.Z,{modalOpen:n,onClose:function(){t(!1)},title:"Set Multiple Bucket Replication",children:(0,P.jsx)(L.Z,{loadingStep:Z||k,wizardSteps:[{label:"Remote Configuration",componentRender:(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(M.Z,{label:"Local Buckets to replicate",content:m.join(", ")})}),(0,P.jsx)("h4",{children:"Remote Endpoint Configuration"}),(0,P.jsx)("span",{className:s.descriptionText,children:"Please avoid the use of root credentials for this feature"}),(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(I.Z,{id:"accessKey",name:"accessKey",onChange:function(e){w(e.target.value)},label:"Access Key",value:N})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(I.Z,{id:"secretKey",name:"secretKey",onChange:function(e){K(e.target.value)},label:"Secret Key",value:O})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(I.Z,{id:"targetURL",name:"targetURL",onChange:function(e){H(e.target.value)},placeholder:"play.min.io:9000",label:"Target URL",value:G})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(A.Z,{checked:X,id:"useTLS",name:"useTLS",label:"Use TLS",onChange:function(e){ee(e.target.checked)},value:"yes"})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(I.Z,{id:"region",name:"region",onChange:function(e){$(e.target.value)},label:"Region",value:V})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(D.Z,{id:"replication_mode",name:"replication_mode",onChange:function(e){ae(e.target.value)},label:"Replication Mode",value:ie,options:[{label:"Asynchronous",value:"async"},{label:"Synchronous",value:"sync"}]})}),"async"===ie&&(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsxs)("div",{className:s.multiContainer,children:[(0,P.jsx)("div",{children:(0,P.jsx)(I.Z,{type:"number",id:"bandwidth_scalar",name:"bandwidth_scalar",onChange:function(e){ce(e.target.value)},label:"Bandwidth",value:oe,min:"0"})}),(0,P.jsx)("div",{className:s.sizeFactorContainer,children:(0,P.jsx)(D.Z,{label:"Unit",id:"bandwidth_unit",name:"bandwidth_unit",value:ue,onChange:function(e){me(e.target.value)},options:(0,v.QU)()})})]})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(I.Z,{id:"healthCheck",name:"healthCheck",onChange:function(e){pe(e.target.value)},label:"Health Check Duration",value:fe})})]}),buttons:[{type:"custom",label:"Next",enabled:!k,action:function(e){var n={accessKey:N,secretKey:O,targetURL:G,useTLS:X};y(!0),f.Z.invoke("POST","/api/v1/list-external-buckets",n).then((function(n){var t=T()(n,"buckets",[]);if(t&&t.length>0){var i=t.map((function(e){return e.name}));Ce(i)}e("++"),y(!1)})).catch((function(e){y(!1),c(e)}))}}]},{label:"Bucket Assignments",componentRender:(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)("h3",{children:"Remote Bucket Assignments"}),(0,P.jsx)("span",{className:s.descriptionText,children:"Please select / type the desired remote bucket were you want the local data to be replicated."}),(0,P.jsx)("div",{className:s.remoteBucketList,children:m.map((function(e,n){var t,i=function(e){if(Pe.length>0){var n=Pe.find((function(n){return n.originBucket===e}));if(n)return T()(n,"errorString","")||""}return"n/a"}(e);return(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)("div",{className:""===i?s.hide:"",children:e}),(0,P.jsx)("div",{className:""===i?s.hide:"",children:(t=n,ye.length>0?(0,P.jsx)(r.Fragment,{children:(0,P.jsx)(D.Z,{label:"",id:"assign-bucket-".concat(t),name:"assign-bucket-".concat(t),value:ge[t],onChange:function(e){Te(t,e.target.value)},options:_e,disabled:Z})}):(0,P.jsx)(r.Fragment,{children:(0,P.jsx)(I.Z,{id:"assign-bucket-".concat(t),name:"assign-bucket-".concat(t),label:"",onChange:function(e){Te(t,e.target.value)},value:ge[t],disabled:Z})}))}),(0,P.jsx)("div",{className:""===i?s.hide:"",children:Pe.length>0&&(0,P.jsx)(Re,{errString:i})})]},"buckets-assignation-".concat(n.toString(),"-").concat(e))}))})]}),buttons:[{type:"back",label:"Back",enabled:!0},{type:"next",label:"Create",enabled:!Z,action:function(){j(!0);var e=m.map((function(e,n){return{originBucket:e,destinationBucket:ge[n]}})),n="".concat(X?"https://":"http://").concat(G),i=parseInt(fe),a={accessKey:N,secretKey:O,targetURL:n,region:V,bucketsRelation:e,syncMode:ie,bandwidth:"async"===ie?parseInt((0,v.Pw)(oe,ue,!0)):0,healthCheckPeriod:i};f.Z.invoke("POST","/api/v1/buckets-replication",a).then((function(e){j(!1);var n=e.replicationState;we(n),0===n.filter((function(e){return e.errorString&&""!==e.errorString})).length?t(!0):setTimeout((function(){Be(n)}),500)})).catch((function(e){j(!1),c(e)}))}}]}],forModal:!0})})}))),K=t(8235),U=t(18221),W=t(11835),G=t(71208),H=t(74524),q=t(25534),Q=t(23165),V=t(18572),$=t(27207),Y=t(65703),J=(0,o.$j)(null,{setModalErrorSnackMessage:x.zb}),X=(0,l.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({resultGrid:{display:"grid",gridTemplateColumns:"45px auto",alignItems:"center",justifyContent:"stretch"},errorIcon:{paddingTop:5,color:"#C72C48"},successIcon:{paddingTop:5,color:"#42C91A"},hide:{opacity:0,transitionDuration:"0.3s"}},h.bK),h.ID),h.DF),h.QV))}))(J((function(e){var n=e.open,t=e.closeModalAndRefresh,i=e.classes,o=e.buckets,c=e.setModalErrorSnackMessage,l=(0,r.useState)(!1),d=(0,a.Z)(l,2),m=d[0],x=d[1],h=(0,r.useState)(!0),p=(0,a.Z)(h,2),Z=p[0],j=p[1],g=(0,r.useState)([]),v=(0,a.Z)(g,2),b=v[0],k=v[1],y=(0,r.useState)(""),C=(0,a.Z)(y,2),S=C[0],N=C[1],w=(0,r.useState)(""),R=(0,a.Z)(w,2),z=R[0],O=R[1],K=(0,r.useState)(""),U=(0,a.Z)(K,2),W=U[0],G=U[1],H=(0,r.useState)(""),q=(0,a.Z)(H,2),Q=q[0],V=q[1],J=(0,r.useState)(!1),X=(0,a.Z)(J,2),ee=X[0],ne=X[1],te=(0,r.useState)("0"),ie=(0,a.Z)(te,2),ae=ie[0],se=ie[1],re=(0,r.useState)("0"),oe=(0,a.Z)(re,2),ce=oe[0],le=oe[1],de=(0,r.useState)("expiry"),ue=(0,a.Z)(de,2),me=ue[0],xe=ue[1],he=(0,r.useState)("0"),fe=(0,a.Z)(he,2),pe=fe[0],Ze=fe[1],je=(0,r.useState)("0"),ge=(0,a.Z)(je,2),ve=ge[0],be=ge[1],ke=(0,r.useState)(!1),ye=(0,a.Z)(ke,2),Ce=ye[0],Se=ye[1],Ne=(0,r.useState)(null),Pe=(0,a.Z)(Ne,2),we=Pe[0],_e=Pe[1];(0,r.useEffect)((function(){Z&&f.Z.invoke("GET","/api/v1/admin/tiers").then((function(e){var n=T()(e,"items",[]);if(null!==n&&n.length>=1){var t=n.map((function(e){var n=e.type,t=T()(e,"".concat(n,".name"),"");return{label:t,value:t}}));k(t),t.length>0&&G(t[0].value)}j(!1)})).catch((function(e){j(!1),c(e)}))}),[Z,c]),(0,r.useEffect)((function(){var e=!0;"expiry"!==me&&""===W&&(e=!1),Se(e)}),[me,pe,ve,W]);var Re=function(e){var n=e.errString;switch(n){case"":return(0,P.jsx)("div",{className:i.successIcon,children:(0,P.jsx)(F.Z,{})});case"n/a":return null;default:if(n)return(0,P.jsx)("div",{className:i.errorIcon,children:(0,P.jsx)(_.Z,{title:n,placement:"top-start",children:(0,P.jsx)(B.Z,{})})})}return null};return(0,P.jsx)(E.Z,{modalOpen:n,onClose:function(){t(!1)},title:"Set Lifecycle to multiple buckets",children:(0,P.jsx)(L.Z,{loadingStep:m||Z,wizardSteps:[{label:"Lifecycle Configuration",componentRender:(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(M.Z,{label:"Local Buckets to replicate",content:o.join(", ")})}),(0,P.jsx)("h4",{children:"Remote Endpoint Configuration"}),(0,P.jsx)(u.ZP,{container:!0,children:(0,P.jsxs)(u.ZP,{item:!0,xs:12,className:i.formScrollable,children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsxs)("fieldset",{className:i.fieldGroup,children:[(0,P.jsx)("legend",{className:i.descriptionText,children:"Lifecycle Configuration"}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)($.Z,{currentSelection:me,id:"quota_type",name:"quota_type",label:"ILM Rule",onChange:function(e){xe(e.target.value)},selectorOptions:[{value:"expiry",label:"Expiry"},{value:"transition",label:"Transition"}]})}),"expiry"===me?(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(I.Z,{type:"number",id:"expiry_days",name:"expiry_days",onChange:function(e){Ze(e.target.value)},label:"Expiry Days",value:pe,min:"0"})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(I.Z,{type:"number",id:"noncurrentversion_expiration_days",name:"noncurrentversion_expiration_days",onChange:function(e){se(e.target.value)},label:"Non-current Expiration Days",value:ae,min:"0"})})]}):(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(I.Z,{type:"number",id:"transition_days",name:"transition_days",onChange:function(e){be(e.target.value)},label:"Transition Days",value:ve,min:"0"})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(I.Z,{type:"number",id:"noncurrentversion_transition_days",name:"noncurrentversion_transition_days",onChange:function(e){le(e.target.value)},label:"Non-current Transition Days",value:ce,min:"0"})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(I.Z,{id:"noncurrentversion_t_SC",name:"noncurrentversion_t_SC",onChange:function(e){V(e.target.value)},placeholder:"Set Non-current Version Transition Storage Class",label:"Non-current Version Transition Storage Class",value:Q})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(D.Z,{label:"Storage Class",id:"storage_class",name:"storage_class",value:W,onChange:function(e){G(e.target.value)},options:b})})]})]})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsxs)("fieldset",{className:i.fieldGroup,children:[(0,P.jsx)("legend",{className:i.descriptionText,children:"File Configuration"}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(I.Z,{id:"prefix",name:"prefix",onChange:function(e){N(e.target.value)},label:"Prefix",value:S})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(Y.Z,{name:"tags",label:"Tags",elements:z,onChange:function(e){O(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(A.Z,{value:"expired_delete_marker",id:"expired_delete_marker",name:"expired_delete_marker",checked:ee,onChange:function(e){ne(e.target.checked)},label:"Expired Object Delete Marker"})})]})})]})})]}),buttons:[{type:"custom",label:"Create Rules",enabled:!Z&&!m&&Ce,action:function(e){var n={};if("expiry"===me){var t={expiry_days:parseInt(pe)};n=(0,s.Z)((0,s.Z)({},t),{},{noncurrentversion_expiration_days:parseInt(ae)})}else{var i={transition_days:parseInt(ve)};n=(0,s.Z)((0,s.Z)({},i),{},{noncurrentversion_transition_days:parseInt(ce),noncurrentversion_transition_storage_class:Q,storage_class:W})}var a=(0,s.Z)({buckets:o,type:me,prefix:S,tags:z,expired_object_delete_marker:ee},n);f.Z.invoke("POST","/api/v1/buckets/multi-lifecycle",a).then((function(n){x(!1),_e(n),e("++")})).catch((function(e){x(!1),c(e)}))}}]},{label:"Results",componentRender:(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)("h3",{children:"Multi Bucket lifecycle Assignments Results"}),(0,P.jsx)(u.ZP,{container:!0,children:(0,P.jsxs)(u.ZP,{item:!0,xs:12,className:i.formScrollable,children:[(0,P.jsx)("h4",{children:"Buckets Results"}),null===we||void 0===we?void 0:we.results.map((function(e){return(0,P.jsxs)("div",{className:i.resultGrid,children:[Re({errString:e.error||""}),(0,P.jsx)("span",{children:e.bucketName})]})}))]})})]}),buttons:[{type:"custom",label:"Done",enabled:!m,action:function(){return t(!0)}}]}],forModal:!0})})}))),ee=(0,o.$j)((function(e){return{session:e.console.session}}),{setErrorSnackMessage:x.Ih})((0,l.Z)((function(e){return(0,c.Z)((0,s.Z)({bulkSelect:{marginLeft:8,"&:hover":{backgroundColor:e.palette.primary.main},"&.MuiButton-contained":{backgroundColor:e.palette.primary.main}},addBucket:{marginLeft:8},bucketList:{marginTop:25,height:"calc(100vh - 210px)"},searchField:(0,s.Z)((0,s.Z)({},h.qg.searchField),{},{minWidth:380,"@media (max-width: 900px)":{minWidth:220}})},(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.history,s=e.setErrorSnackMessage,o=e.session,c=(0,r.useState)([]),l=(0,a.Z)(c,2),x=l[0],h=l[1],j=(0,r.useState)(!0),g=(0,a.Z)(j,2),v=g[0],b=g[1],k=(0,r.useState)(!1),N=(0,a.Z)(k,2),_=N[0],R=N[1],T=(0,r.useState)(""),B=(0,a.Z)(T,2),F=B[0],I=B[1],E=(0,r.useState)(""),M=(0,a.Z)(E,2),L=M[0],A=M[1],D=(0,r.useState)([]),z=(0,a.Z)(D,2),$=z[0],Y=z[1],J=(0,r.useState)(!1),ee=(0,a.Z)(J,2),ne=ee[0],te=ee[1],ie=(0,r.useState)(!1),ae=(0,a.Z)(ie,2),se=ae[0],re=ae[1],oe=(0,r.useState)(!1),ce=(0,a.Z)(oe,2),le=ce[0],de=ce[1];(0,r.useEffect)((function(){if(v){b(!0),f.Z.invoke("GET","/api/v1/buckets").then((function(e){b(!1),h(e.buckets||[])})).catch((function(e){b(!1),s(e)}))}}),[v,s]);var ue=function(e){R(!0),I(e)},me=x.filter((function(e){return""===L||e.name.indexOf(L)>=0})),xe=function(e){var n=e.target,t=n.value,a=n.checked,s=(0,i.Z)($);return a?s.push(t):s=s.filter((function(e){return e!==t})),Y(s),s},he=o&&o.permissions&&Array.from(Object.keys(o.permissions))||[];return(0,P.jsxs)(r.Fragment,{children:[_&&(0,P.jsx)(p.default,{deleteOpen:_,selectedBucket:F,closeDeleteModalAndRefresh:function(e){!function(e){R(!1),e&&(b(!0),Y([]))}(e)}}),ne&&(0,P.jsx)(O,{open:ne,buckets:$,closeModalAndRefresh:function(e){te(!1),e&&Y([])}}),se&&(0,P.jsx)(X,{buckets:$,closeModalAndRefresh:function(e){re(!1),e&&Y([])},open:se}),(0,P.jsx)(Z.Z,{label:"Buckets"}),(0,P.jsxs)(q.Z,{children:[(0,P.jsxs)(u.ZP,{item:!0,xs:12,className:n.actionsTray,display:"flex",children:[(0,P.jsx)(Q.Z,{onChange:A,placeholder:"Search Buckets",overrideClass:n.searchField,value:L}),(0,P.jsxs)(u.ZP,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"flex-end",children:[(0,P.jsx)(S.Z,{tooltip:le?"Un Select All":"Select Multiple",onClick:function(){de(!le)},text:"",icon:(0,P.jsx)(H.Z,{}),color:"primary",variant:le?"contained":"outlined"}),(0,P.jsx)(S.Z,{tooltip:"Set Lifecycle",onClick:function(){re(!0)},text:"",icon:(0,P.jsx)(m.QI,{}),disabled:0===$.length,color:"primary",variant:"outlined"}),(0,P.jsx)(S.Z,{tooltip:"Set Replication",onClick:function(){te(!0)},text:"",icon:(0,P.jsx)(G.Z,{}),disabled:0===$.length,color:"primary",variant:"outlined"}),(0,P.jsx)(S.Z,{tooltip:"Refresh",onClick:function(){b(!0)},text:"",icon:(0,P.jsx)(U.default,{}),color:"primary",variant:"outlined"}),(0,P.jsx)(C.s,{scopes:[y.Ft.S3_CREATE_BUCKET],resource:he,errorProps:{disabled:!0},children:(0,P.jsx)(S.Z,{tooltip:"Create Bucket",onClick:function(){t.push("/add-bucket")},text:"Create Bucket",icon:(0,P.jsx)(m.dt,{}),color:"primary",variant:"contained"})})]})]}),v&&(0,P.jsx)(d.Z,{}),!v&&(0,P.jsxs)(u.ZP,{item:!0,xs:12,className:n.bucketList,children:[0!==me.length&&(0,P.jsx)(V.Z,{rowRenderFunction:function(e){var n=me[e]||null;return n?(0,P.jsx)(w,{bucket:n,onDelete:ue,onSelect:xe,selected:$.includes(n.name),bulkSelect:le}):null},totalItems:me.length}),0===me.length&&""!==L&&(0,P.jsx)(u.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,P.jsx)(u.ZP,{item:!0,xs:8,children:(0,P.jsx)(K.Z,{iconComponent:(0,P.jsx)(m.wN,{}),title:"No Results",help:(0,P.jsx)(r.Fragment,{children:"No buckets match the filtering condition"})})})}),0===me.length&&""===L&&(0,P.jsx)(u.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,P.jsx)(u.ZP,{item:!0,xs:8,children:(0,P.jsx)(K.Z,{iconComponent:(0,P.jsx)(m.wN,{}),title:"Buckets",help:(0,P.jsxs)(r.Fragment,{children:["MinIO uses buckets to organize objects. A bucket is similar to a folder or directory in a filesystem, where each bucket can hold an arbitrary number of objects.",(0,P.jsxs)(C.s,{scopes:[y.Ft.S3_CREATE_BUCKET],resource:y.C3,children:[(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),"To get started,\xa0",(0,P.jsx)(W.Z,{onClick:function(){t.push("/add-bucket")},children:"Create a Bucket."})]})]})})})})]})]})]})})))},11835:function(e,n,t){var i=t(18489),a=t(83738),s=(t(50390),t(86509)),r=t(4285),o=t(62559),c=["classes","children"];n.Z=(0,r.Z)((function(e){return(0,s.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var n=e.classes,t=e.children,s=(0,a.Z)(e,c);return(0,o.jsx)("button",(0,i.Z)((0,i.Z)({},s),{},{className:n.root,children:t}))}))},54950:function(e,n,t){var i=t(18489),a=t(50390),s=t(25594),r=t(74268),o=t(36554),c=t(94187),l=t(86509),d=t(4285),u=t(72462),m=t(97538),x=t(62559);n.Z=(0,d.Z)((function(e){return(0,l.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u.YI),u.Hr),u.lM),{},{fieldContainer:(0,i.Z)((0,i.Z)({},u.YI.fieldContainer),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",margin:"15px 0",marginBottom:0,flexBasis:"initial"})}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,l=e.id,d=e.name,u=e.checked,h=void 0!==u&&u,f=e.disabled,p=void 0!==f&&f,Z=e.tooltip,j=void 0===Z?"":Z,g=e.classes;return(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(s.ZP,{item:!0,xs:12,className:g.fieldContainer,children:[(0,x.jsx)("div",{children:(0,x.jsx)(r.Z,{name:d,id:l,value:i,color:"primary",inputProps:{"aria-label":"secondary checkbox"},checked:h,onChange:t,checkedIcon:(0,x.jsx)("span",{className:g.checkedIcon}),icon:(0,x.jsx)("span",{className:g.unCheckedIcon}),disabled:p})}),""!==n&&(0,x.jsxs)(o.Z,{htmlFor:l,className:g.noMinWidthLabel,children:[(0,x.jsx)("span",{children:n}),""!==j&&(0,x.jsx)("div",{className:g.tooltipContainer,children:(0,x.jsx)(c.Z,{title:j,placement:"top-start",children:(0,x.jsx)("div",{className:g.tooltip,children:(0,x.jsx)(m.Z,{})})})})]})]})})}))},50280:function(e,n,t){var i=t(18489),a=t(50390),s=t(25594),r=t(86509),o=t(4285),c=t(72462),l=t(62559);n.Z=(0,o.Z)((function(e){return(0,r.Z)((0,i.Z)({},c.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,r=e.content,o=e.multiLine,c=void 0!==o&&o;return(0,l.jsx)(a.Fragment,{children:(0,l.jsxs)(s.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,l.jsx)(s.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,l.jsx)(s.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,l.jsx)(s.ZP,{item:!0,xs:12,className:c?n.innerContentMultiline:n.innerContent,children:r})})]})})}))},21639:function(e,n,t){var i=t(23430),a=t(50390),s=t(30324);n.Z=function(e,n){var t=(0,a.useState)(!1),r=(0,i.Z)(t,2),o=r[0],c=r[1];return[o,function(t,i,a){c(!0),s.Z.invoke(t,i,a).then((function(n){c(!1),e(n)})).catch((function(e){c(!1),n(e)}))}]}},60656:function(e,n,t){var i=t(18489),a=t(50390),s=t(84402),r=t(78426),o=t(93085),c=t(7887),l=t(66946),d=t(14476),u=t(95467),m=t(21278),x=t(86509),h=t(4285),f=t(72462),p=t(62559);n.Z=(0,h.Z)((function(e){return(0,x.Z)((0,i.Z)({},f.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,x=e.onClose,h=e.onCancel,f=e.onConfirm,Z=e.classes,j=void 0===Z?{}:Z,g=e.title,v=void 0===g?"":g,b=e.isLoading,k=e.confirmationContent,y=e.cancelText,C=void 0===y?"Cancel":y,S=e.confirmText,N=void 0===S?"Confirm":S,P=e.confirmButtonProps,w=void 0===P?{}:P,_=e.cancelButtonProps,R=void 0===_?{}:_,T=e.titleIcon,B=void 0===T?null:T;return(0,p.jsxs)(s.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&x()},className:j.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,p.jsxs)(r.Z,{className:j.title,children:[(0,p.jsxs)("div",{className:j.titleText,children:[B," ",v]}),(0,p.jsx)("div",{className:j.closeContainer,children:(0,p.jsx)(u.Z,{"aria-label":"close",className:j.closeButton,onClick:x,disableRipple:!0,size:"small",children:(0,p.jsx)(m.Z,{})})})]}),(0,p.jsx)(o.Z,{className:j.content,children:k}),(0,p.jsxs)(c.Z,{className:j.actions,children:[(0,p.jsx)(l.Z,(0,i.Z)((0,i.Z)({className:j.cancelButton,onClick:h||x,disabled:b,type:"button"},R),{},{variant:"outlined",color:"primary",children:C})),(0,p.jsx)(d.Z,(0,i.Z)((0,i.Z)({className:j.confirmButton,type:"button",onClick:f,loading:b,disabled:b,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,p.jsx)(a.Fragment,{}),autoFocus:!0},w),{},{children:N}))]})]})}))},23165:function(e,n,t){var i=t(36222),a=t(18489),s=(t(50390),t(65771)),r=t(13336),o=t(12066),c=t(4285),l=t(86509),d=t(72462),u=t(62559);n.Z=(0,c.Z)((function(e){return(0,l.Z)({searchField:(0,a.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,a=e.classes,c=e.onChange,l=e.adornmentPosition,d=void 0===l?"end":l,m=e.overrideClass,x=e.value,h=(0,i.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(s.Z,{position:d,className:a.adornment,children:(0,u.jsx)(r.Z,{})}));return(0,u.jsx)(o.Z,{placeholder:t,className:m||a.searchField,id:"search-resource",label:"",InputProps:h,onChange:function(e){c(e.target.value)},variant:"standard",value:x})}))},18572:function(e,n,t){var i=t(50390),a=t(65742),s=t(10106),r=t(33690),o=t(62559),c={};n.Z=function(e){var n=e.rowRenderFunction,t=e.totalItems,l=e.defaultHeight,d=function(e){var t=e.index,i=e.style;return(0,o.jsx)("div",{style:i,children:n(t)})};return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(s.Z,{isItemLoaded:function(e){return!!c[e]},loadMoreItems:function(e,n){for(var t=e;t<=n;t++)c[t]=1;for(var i=e;i<=n;i++)c[i]=2},itemCount:t,children:function(e){var n=e.onItemsRendered,i=e.ref;return(0,o.jsx)(r.qj,{children:function(e){var s=e.width,r=e.height;return(0,o.jsx)(a.t7,{itemSize:l||220,height:r,itemCount:t,width:s,ref:i,onItemsRendered:n,children:d})}})}})})}}}]);
//# sourceMappingURL=7551.5460a865.chunk.js.map