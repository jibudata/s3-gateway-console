(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[483],{70483:function(e,t,n){"use strict";n.r(t);var o=n(93433),i=n(29439),l=n(1413),c=n(72791),r=n(95087),a=n(75952),s=n(11135),u=n(25787),f=n(61889),b=n(74794),d=n(34866),p=n(26824),h=n(23814),m=n(57689),x=n(31460),g=n(9478),w=n(47974),v=n(80184),k=null;t.default=(0,u.Z)((function(e){return(0,s.Z)((0,l.Z)((0,l.Z)({buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:24,"& button":{marginLeft:8}},dropdown:{marginBottom:24},checkboxLabel:{marginTop:12,marginRight:4,fontSize:16,fontWeight:500},checkboxDisabled:{opacity:.5},inlineCheckboxes:(0,l.Z)((0,l.Z)({},h.IX.inlineCheckboxes),{},{alignItems:"center","@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start"}})},h.OR),h.Bz))}))((function(e){var t=e.classes,n=(0,m.s0)(),l=(0,c.useState)(!1),s=(0,i.Z)(l,2),u=s[0],h=s[1],y=(0,c.useState)(["cpu","mem","block","mutex","goroutines"]),j=(0,i.Z)(y,2),C=j[0],Z=j[1],_=(0,g.Yc)(),O=function(e){var t=[];t=C.indexOf(e.target.value)>-1?C.filter((function(t){return t!==e.target.value})):[].concat((0,o.Z)(C),[e.target.value]),Z(t)};return(0,v.jsxs)(c.Fragment,{children:[(0,v.jsx)(w.Z,{label:"Profile"}),(0,v.jsxs)(b.Z,{children:[!_&&(0,v.jsx)(x.Z,{compactMode:!0}),(0,v.jsxs)(f.ZP,{item:!0,xs:12,className:t.boxy,children:[(0,v.jsx)(f.ZP,{item:!0,xs:12,className:t.dropdown,children:(0,v.jsxs)(f.ZP,{item:!0,xs:12,className:"".concat(t.inlineCheckboxes," ").concat(u&&t.checkboxDisabled),children:[(0,v.jsx)("div",{className:t.checkboxLabel,children:"Types to profile:"}),[{label:"cpu",value:"cpu"},{label:"mem",value:"mem"},{label:"block",value:"block"},{label:"mutex",value:"mutex"},{label:"goroutines",value:"goroutines"}].map((function(e){return(0,v.jsx)(d.Z,{checked:C.indexOf(e.value)>-1,disabled:u,id:"checkbox-".concat(e.label),label:e.label,name:"checkbox-".concat(e.label),onChange:O,value:e.value},"checkbox-".concat(e.label))}))]})}),(0,v.jsxs)(f.ZP,{item:!0,xs:12,className:t.buttonContainer,children:[(0,v.jsx)(a.zxk,{id:"start-profiling",type:"submit",variant:_?"callAction":"regular",disabled:u||C.length<1,onClick:function(){_?function(){var e=C.join(","),t=new URL(window.location.toString()),n=t.port,o=new URL(document.baseURI).pathname,i=(0,p.x2)(t.protocol);if(null!==(k=new r.w3cwebsocket("".concat(i,"://").concat(t.hostname,":").concat(n).concat(o,"ws/profile?types=").concat(e))))k.onopen=function(){h(!0),k.send("ok")},k.onmessage=function(e){var t=new Blob([e.data],{type:"application/zip"});h(!1);var n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.download="profile.zip",document.body.appendChild(n),n.click(),document.body.removeChild(n)},k.onclose=function(){console.log("connection closed by server"),h(!1)}}():n("/support/register")},label:"Start Profiling"}),(0,v.jsx)(a.zxk,{id:"stop-profiling",type:"submit",variant:"callAction",color:"primary",disabled:!u,onClick:function(){k.close(1e3),h(!1)},label:"Stop Profiling"})]})]})]})]})}))},26824:function(e,t,n){"use strict";n.d(t,{HE:function(){return l},V9:function(){return o},ci:function(){return i},x2:function(){return c}});var o=1006,i=1008,l=1011,c=function(e){var t="ws";return"https:"===e&&(t="wss"),t}},94210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},95087:function(e,t,n){var o;if("object"===typeof globalThis)o=globalThis;else try{o=n(94210)}catch(r){}finally{if(o||"undefined"===typeof window||(o=window),!o)throw new Error("Could not determine global this")}var i=o.WebSocket||o.MozWebSocket,l=n(51496);function c(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(c,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?c:null,version:l}},51496:function(e,t,n){e.exports=n(19794).version},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=483.b039dcc0.chunk.js.map