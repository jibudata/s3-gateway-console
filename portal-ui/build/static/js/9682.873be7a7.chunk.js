"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9682],{33690:function(e,n,t){t.r(n);var i=t(29439),o=t(1413),a=t(72791),l=t(75952),s=t(11135),r=t(25787),c=t(45953),d=t(23814),u=t(81207),p=t(56028),m=t(90673),x=t(56096),f=t(92217),h=t(87995),Z=t(25469),g=t(19859),b=t(80184);(0,s.Z)((0,o.Z)((0,o.Z)({},d.ID),d.bK));n.default=(0,r.Z)((function(e){return(0,s.Z)((0,o.Z)((0,o.Z)((0,o.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},d.DF),d.ID),d.bK))}))((function(e){var n=e.classes,t=e.open,o=e.bucketName,s=e.actualPolicy,r=e.actualDefinition,d=e.closeModalAndRefresh,j=(0,Z.TL)(),v=(0,a.useState)(!1),C=(0,i.Z)(v,2),y=C[0],S=C[1],P=(0,a.useState)(""),N=(0,i.Z)(P,2),k=N[0],M=N[1],B=(0,a.useState)(g.L),w=(0,i.Z)(B,2),L=w[0],T=w[1];return(0,a.useEffect)((function(){M(s),T(r?JSON.stringify(JSON.parse(r),null,4):g.L)}),[M,s,T,r]),(0,b.jsx)(p.Z,{title:"Change Access Policy",modalOpen:t,onClose:function(){d()},titleIcon:(0,b.jsx)(x.QXQ,{}),children:(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),y||(S(!0),u.Z.invoke("PUT","/api/v1/buckets/".concat(o,"/set-policy"),{access:k,definition:L}).then((function(e){S(!1),d()})).catch((function(e){S(!1),j((0,h.zb)(e))})))},children:(0,b.jsxs)(c.ZP,{container:!0,children:[(0,b.jsxs)(c.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,b.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,b.jsx)(m.Z,{value:k,label:"Access Policy",id:"select-access-policy",name:"select-access-policy",onChange:function(e){M(e.target.value)},options:[{value:"PRIVATE",label:"Private"},{value:"PUBLIC",label:"Public"},{value:"CUSTOM",label:"Custom"}]})}),"PUBLIC"===k&&(0,b.jsx)("div",{style:{marginTop:"25px",fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:"* Warning: With Public access anyone will be able to upload, download and delete files from this Bucket *"}),"CUSTOM"===k&&(0,b.jsx)(c.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:(0,b.jsx)(f.Z,{label:"Write Policy",value:L,onBeforeChange:function(e,n,t){T(t)},editorHeight:"350px"})})]}),(0,b.jsxs)(c.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,b.jsx)(l.zx,{id:"cancel",type:"button",variant:"regular",onClick:function(){d()},disabled:y,label:"Cancel"}),(0,b.jsx)(l.zx,{id:"set",type:"submit",variant:"callAction",disabled:y||"CUSTOM"===k&&!L,label:"Set"})]})]})})})}))},92217:function(e,n,t){var i=t(1413),o=t(72791),a=t(45953),l=t(40508),s=t(75814),r=t(96015),c=t(11135),d=t(25787),u=t(84570),p=t(23814),m=t(56096),x=t(75952),f=t(78029),h=t.n(f),Z=t(90932),g=t(27454),b=t(80184);n.Z=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)({},p.YI))}))((function(e){var n=e.value,t=e.label,i=void 0===t?"":t,c=e.tooltip,d=void 0===c?"":c,p=e.mode,f=void 0===p?"json":p,j=e.classes,v=e.onBeforeChange,C=(e.readOnly,e.editorHeight),y=void 0===C?"250px":C;return(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(a.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,b.jsxs)(l.Z,{className:j.inputLabel,children:[(0,b.jsx)("span",{children:i}),""!==d&&(0,b.jsx)("div",{className:j.tooltipContainer,children:(0,b.jsx)(s.Z,{title:d,placement:"top-start",children:(0,b.jsx)("div",{className:j.tooltip,children:(0,b.jsx)(u.Z,{})})})})]})}),(0,b.jsx)(a.ZP,{item:!0,xs:12,style:{maxHeight:y,overflow:"auto",border:"1px solid #eaeaea"},children:(0,b.jsx)(Z.Z,{value:n,language:f,onChange:function(e){v(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:y||"initial",color:"#000000"}})}),(0,b.jsx)(a.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,b.jsx)(r.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,b.jsx)(g.Z,{tooltip:"Copy to Clipboard",children:(0,b.jsx)(h(),{text:n,children:(0,b.jsx)(x.zx,{type:"button",id:"copy-code-mirror",icon:(0,b.jsx)(m.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},56028:function(e,n,t){var i=t(29439),o=t(1413),a=t(72791),l=t(92177),s=t(13811),r=t(11647),c=t(58195),d=t(40464),u=t(8440),p=t(11135),m=t(25787),x=t(23814),f=t(25469),h=t(29823),Z=t(28057),g=t(87995),b=t(80184);n.Z=(0,m.Z)((function(e){return(0,p.Z)((0,o.Z)((0,o.Z)({},x.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,p=e.title,m=e.children,x=e.classes,j=e.wideLimit,v=void 0===j||j,C=e.noContentPadding,y=e.titleIcon,S=void 0===y?null:y,P=(0,f.TL)(),N=(0,a.useState)(!1),k=(0,i.Z)(N,2),M=k[0],B=k[1],w=(0,l.v9)((function(e){return e.system.modalSnackBar}));(0,a.useEffect)((function(){P((0,g.MK)(""))}),[P]),(0,a.useEffect)((function(){if(w){if(""===w.message)return void B(!1);"error"!==w.type&&B(!0)}}),[w]);var L=v?{classes:{paper:x.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},T="";return w&&(T=w.detailedErrorMsg,(""===w.detailedErrorMsg||w.detailedErrorMsg.length<5)&&(T=w.message)),(0,b.jsxs)(c.Z,(0,o.Z)((0,o.Z)({open:t,classes:x},L),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:x.root,children:[(0,b.jsxs)(d.Z,{className:x.title,children:[(0,b.jsxs)("div",{className:x.titleText,children:[S," ",p]}),(0,b.jsx)("div",{className:x.closeContainer,children:(0,b.jsx)(s.Z,{"aria-label":"close",id:"close",className:x.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,b.jsx)(h.Z,{})})})]}),(0,b.jsx)(Z.Z,{isModal:!0}),(0,b.jsx)(r.Z,{open:M,className:x.snackBarModal,onClose:function(){B(!1),P((0,g.MK)(""))},message:T,ContentProps:{className:"".concat(x.snackBar," ").concat(w&&"error"===w.type?x.errorSnackBar:"")},autoHideDuration:w&&"error"===w.type?1e4:5e3}),(0,b.jsx)(u.Z,{className:C?"":x.content,children:m})]}))}))},19859:function(e,n,t){t.d(n,{L:function(){return i}});var i='{\n    "Version": "2012-10-17",\n    "Statement": [\n        \n    ]\n}'}}]);
//# sourceMappingURL=9682.873be7a7.chunk.js.map