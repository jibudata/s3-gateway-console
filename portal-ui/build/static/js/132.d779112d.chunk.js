(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[132],{473:function(e,t,c){"use strict";c(0);var n=c(250),a=c(260),s=c(2);t.a=Object(a.a)((function(e){return Object(n.a)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var t=e.classes,c=e.children;return Object(s.jsx)("h1",{className:t.root,children:c})}))},888:function(e,t,c){"use strict";c.r(t);var n=c(15),a=c(3),s=c(0),i=c.n(s),l=c(38),r=c(250),o=c(260),j=c(330),b=c(531),d=c(45),O=c.n(d),u=c(327),h=c(444),x=c(91),m=c(30),p=c(56),f=c(116),T=c(50),N=c(889),E=c.n(N),C=c(24),_=c(374),S=c(421),g=c(473),k=c(789),v=c(742),y=c.n(v),I=c(122),U=c.n(I),G=c(440),B=c(433),A=c(2),P=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(101),c.e(124)]).then(c.bind(null,896))}))),R=Object(B.a)(i.a.lazy((function(){return c.e(60).then(c.bind(null,897))}))),z=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(99),c.e(127)]).then(c.bind(null,898))}))),K=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(6),c.e(48)]).then(c.bind(null,899))}))),D=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(84),c.e(116)]).then(c.bind(null,900))}))),F=Object(B.a)(i.a.lazy((function(){return c.e(63).then(c.bind(null,901))}))),L=Object(B.a)(i.a.lazy((function(){return Promise.all([c.e(0),c.e(1),c.e(6),c.e(72),c.e(92)]).then(c.bind(null,902))}))),M=Object(l.b)((function(e){return{session:e.console.session,distributedSetup:e.system.distributedSetup,loadingBucket:e.buckets.bucketDetails.loadingBucket,bucketInfo:e.buckets.bucketDetails.bucketInfo}}),{setErrorSnackMessage:m.e,setBucketDetailsLoad:C.B});t.default=Object(o.a)((function(e){return Object(r.a)(Object(a.a)(Object(a.a)({paperContainer:{padding:15,paddingLeft:50,display:"flex"},elementTitle:{fontWeight:500,color:"#777777",fontSize:14,marginTop:-9},consumptionValue:{color:"#000000",fontSize:"48px",fontWeight:"bold"},reportedUsage:{padding:"15px"},dualCardLeft:{paddingRight:"5px"},dualCardRight:{paddingLeft:"5px"},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleCol:{width:"25%"},tag:{textTransform:"none",marginRight:"5px"}},f.l),f.c))}))(M((function(e){var t=e.classes,c=e.match,a=e.distributedSetup,i=e.setErrorSnackMessage,l=e.loadingBucket,r=e.bucketInfo,o=e.setBucketDetailsLoad,d=Object(s.useState)(null),m=Object(n.a)(d,2),f=m[0],N=m[1],C=Object(s.useState)("0"),v=Object(n.a)(C,2),I=v[0],B=v[1],M=Object(s.useState)(!1),w=Object(n.a)(M,2),V=w[0],J=w[1],Q=Object(s.useState)(!1),Y=Object(n.a)(Q,2),q=Y[0],W=Y[1],H=Object(s.useState)(!1),X=Object(n.a)(H,2),Z=X[0],$=X[1],ee=Object(s.useState)(!0),te=Object(n.a)(ee,2),ce=te[0],ne=te[1],ae=Object(s.useState)(!0),se=Object(n.a)(ae,2),ie=se[0],le=se[1],re=Object(s.useState)(!0),oe=Object(n.a)(re,2),je=oe[0],be=oe[1],de=Object(s.useState)(!0),Oe=Object(n.a)(de,2),ue=Oe[0],he=Oe[1],xe=Object(s.useState)(!0),me=Object(n.a)(xe,2),pe=me[0],fe=me[1],Te=Object(s.useState)(!0),Ne=Object(n.a)(Te,2),Ee=Ne[0],Ce=Ne[1],_e=Object(s.useState)(!0),Se=Object(n.a)(_e,2),ge=Se[0],ke=Se[1],ve=Object(s.useState)(!0),ye=Object(n.a)(ve,2),Ie=ye[0],Ue=ye[1],Ge=Object(s.useState)(!0),Be=Object(n.a)(Ge,2),Ae=Be[0],Pe=Be[1],Re=Object(s.useState)(!1),ze=Object(n.a)(Re,2),Ke=ze[0],De=ze[1],Fe=Object(s.useState)(!1),Le=Object(n.a)(Fe,2),Me=Le[0],we=Le[1],Ve=Object(s.useState)(null),Je=Object(n.a)(Ve,2),Qe=Je[0],Ye=Je[1],qe=Object(s.useState)(!1),We=Object(n.a)(qe,2),He=We[0],Xe=We[1],Ze=Object(s.useState)(!1),$e=Object(n.a)(Ze,2),et=$e[0],tt=$e[1],ct=Object(s.useState)(null),nt=Object(n.a)(ct,2),at=nt[0],st=nt[1],it=Object(s.useState)(!1),lt=Object(n.a)(it,2),rt=lt[0],ot=lt[1],jt=Object(s.useState)(!1),bt=Object(n.a)(jt,2),dt=bt[0],Ot=bt[1],ut=Object(s.useState)(!1),ht=Object(n.a)(ut,2),xt=ht[0],mt=ht[1],pt=Object(s.useState)(!1),ft=Object(n.a)(pt,2),Tt=ft[0],Nt=ft[1],Et=Object(s.useState)(null),Ct=Object(n.a)(Et,2),_t=Ct[0],St=Ct[1],gt=Object(s.useState)(!1),kt=Object(n.a)(gt,2),vt=kt[0],yt=kt[1],It=Object(s.useState)([]),Ut=Object(n.a)(It,2),Gt=Ut[0],Bt=Ut[1],At=Object(s.useState)(["",""]),Pt=Object(n.a)(At,2),Rt=Pt[0],zt=Pt[1],Kt=Object(s.useState)(!1),Dt=Object(n.a)(Kt,2),Ft=Dt[0],Lt=Dt[1],Mt=c.params.bucketName,wt="n/a";null!==r&&(wt=r.access);var Vt=Object(G.b)(Mt,[S.d.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION]),Jt=Object(G.b)(Mt,[S.d.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION]),Qt=Object(G.b)(Mt,[S.d.ADMIN_GET_BUCKET_QUOTA]);Object(s.useEffect)((function(){he(!!l)}),[l,he]),Object(s.useEffect)((function(){pe&&(Jt?T.a.invoke("GET","/api/v1/buckets/".concat(Mt,"/encryption/info")).then((function(e){e.algorithm&&(Xe(!0),N(e)),fe(!1)})).catch((function(e){"The server side encryption configuration was not found"===e.errorMessage&&(Xe(!1),N(null)),fe(!1)})):(Xe(!1),N(null),fe(!1)))}),[pe,Mt,Jt]),Object(s.useEffect)((function(){Ee&&a&&T.a.invoke("GET","/api/v1/buckets/".concat(Mt,"/versioning")).then((function(e){De(e.is_versioned),Ce(!1)})).catch((function(e){i(e),Ce(!1)}))}),[Ee,i,Mt,a]),Object(s.useEffect)((function(){ge&&a&&(Qt?T.a.invoke("GET","/api/v1/buckets/".concat(Mt,"/quota")).then((function(e){Ye(e),e.quota?we(!0):we(!1),ke(!1)})).catch((function(e){i(e),we(!1),ke(!1)})):(we(!1),ke(!1)))}),[ge,Ce,i,Mt,a,Qt]),Object(s.useEffect)((function(){Ee&&a&&(Vt?T.a.invoke("GET","/api/v1/buckets/".concat(Mt,"/object-locking")).then((function(e){J(e.object_locking_enabled),ne(!1)})).catch((function(e){i(e),ne(!1)})):ne(!1))}),[ce,i,Mt,Ee,a,Vt]),Object(s.useEffect)((function(){ie&&T.a.invoke("GET","/api/v1/buckets").then((function(e){var t=O()(e,"buckets",[]).find((function(e){return e.name===Mt})),c=O()(t,"size","0");le(!1),B(c)})).catch((function(e){le(!1),i(e)}))}),[ie,i,Mt]),Object(s.useEffect)((function(){je&&T.a.invoke("GET","/api/v1/buckets/".concat(Mt)).then((function(e){var t,c;null!=e&&null!=(null===e||void 0===e?void 0:e.details)&&(St(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.tags),Bt(Object.keys(null===e||void 0===e||null===(c=e.details)||void 0===c?void 0:c.tags)));be(!1)})).catch((function(e){be(!1),i(e)}))}),[je,i,Mt,St,_t,Bt,Gt]),Object(s.useEffect)((function(){Ie&&a&&T.a.invoke("GET","/api/v1/buckets/".concat(Mt,"/replication")).then((function(e){var t=e.rules?e.rules:[];$(t.length>0),Ue(!1)})).catch((function(e){i(e),Ue(!1)}))}),[Ie,i,Mt,a]),Object(s.useEffect)((function(){Ae&&V&&T.a.invoke("GET","/api/v1/buckets/".concat(Mt,"/retention")).then((function(e){Pe(!1),tt(!0),st(e)})).catch((function(e){tt(!1),Pe(!1),st(null)}))}),[Ae,V,Mt]);var Yt,qt=function(){o(!0),he(!0),le(!0),be(!0),Ce(!0),fe(!0),Pe(!0)};return Object(A.jsxs)(s.Fragment,{children:[dt&&Object(A.jsx)(D,{open:dt,selectedBucket:Mt,encryptionEnabled:He,encryptionCfg:f,closeModalAndRefresh:function(){Ot(!1),fe(!0)}}),xt&&Object(A.jsx)(L,{open:xt,selectedBucket:Mt,enabled:Me,cfg:Qe,closeModalAndRefresh:function(){mt(!1),ke(!0)}}),q&&Object(A.jsx)(z,{bucketName:Mt,open:q,actualPolicy:wt,closeModalAndRefresh:function(){W(!1),qt()}}),rt&&Object(A.jsx)(K,{bucketName:Mt,open:rt,closeModalAndRefresh:function(){ot(!1),qt()}}),Tt&&Object(A.jsx)(F,{closeVersioningModalAndRefresh:function(e){Nt(!1),e&&qt()},modalOpen:Tt,selectedBucket:Mt,versioningCurrentState:Ke}),vt&&Object(A.jsx)(P,{modalOpen:vt,currentTags:_t,bucketName:Mt,onCloseAndUpdate:function(e){yt(!1),e&&qt()}}),Ft&&Object(A.jsx)(R,{deleteOpen:Ft,currentTags:_t,bucketName:Mt,onCloseAndUpdate:function(e){Lt(!1),e&&qt()},selectedTag:Rt}),Object(A.jsx)(h.a,{container:!0,children:Object(A.jsx)(h.a,{item:!0,xs:12,className:t.actionsTray,children:Object(A.jsx)(g.a,{children:"Summary"})})}),Object(A.jsx)(u.a,{className:t.paperContainer,children:Object(A.jsxs)(h.a,{container:!0,children:[Object(A.jsx)(h.a,{item:!0,xs:8,children:Object(A.jsx)("table",{width:"100%",children:Object(A.jsxs)("tbody",{children:[Object(A.jsx)(G.a,{scopes:[S.d.S3_GET_BUCKET_POLICY],resource:Mt,children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:t.titleCol,children:"Access Policy:"}),Object(A.jsx)("td",{className:t.capitalizeFirst,children:Object(A.jsx)(G.a,{scopes:[S.d.S3_PUT_BUCKET_POLICY],resource:Mt,errorProps:{disabled:!0},children:Object(A.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){W(!0)},children:ue?Object(A.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):wt.toLowerCase()})})})]})}),a&&Object(A.jsxs)(s.Fragment,{children:[Object(A.jsx)(G.a,{scopes:[S.d.S3_GET_REPLICATION_CONFIGURATION],resource:Mt,children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:t.titleCol,children:"Replication:"}),Object(A.jsx)("td",{className:t.doubleElement,children:Object(A.jsx)("span",{children:Z?"Enabled":"Disabled"})})]})}),Object(A.jsx)(G.a,{scopes:[S.d.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION],resource:Mt,children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:t.titleCol,children:"Object Locking:"}),Object(A.jsx)("td",{children:V?"Enabled":"Disabled"})]})})]}),Object(A.jsx)(G.a,{scopes:[S.d.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION],resource:Mt,children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:t.titleCol,children:"Encryption:"}),Object(A.jsx)("td",{children:pe?Object(A.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Object(A.jsx)(G.a,{scopes:[S.d.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION],resource:Mt,errorProps:{disabled:!0},children:Object(A.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){Ot(!0)},children:He?"Enabled":"Disabled"})})})]})}),Object(A.jsx)(G.a,{scopes:[S.d.S3_GET_BUCKET_TAGGING],resource:Mt,children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:t.titleCol,children:"Tags:"}),Object(A.jsxs)("td",{children:[Gt&&Gt.map((function(e,c){var n=O()(_t,"".concat(e),"");return""!==n?Object(A.jsx)(G.a,{scopes:[S.d.S3_PUT_BUCKET_TAGGING],resource:Mt,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:Object(A.jsx)(k.a,{className:t.tag,size:"small",label:"".concat(e," : ").concat(n),color:"primary",deleteIcon:Object(A.jsx)(U.a,{}),onDelete:function(){!function(e,t){zt([e,t]),Lt(!0)}(e,n)}})},"chip-".concat(c)):null})),Object(A.jsx)(G.a,{scopes:[S.d.S3_PUT_BUCKET_TAGGING],resource:Mt,children:Object(A.jsx)(k.a,{className:t.tag,icon:Object(A.jsx)(y.a,{}),clickable:!0,size:"small",label:"Add tag",color:"primary",variant:"outlined",onClick:function(){yt(!0)}})})]})]})})]})})}),Object(A.jsxs)(h.a,{item:!0,xs:4,className:t.reportedUsage,children:[Object(A.jsxs)(h.a,{container:!0,direction:"row",alignItems:"center",children:[Object(A.jsx)(h.a,{item:!0,className:t.icon,xs:2,children:Object(A.jsx)(_.a,{})}),Object(A.jsx)(h.a,{item:!0,xs:10,children:Object(A.jsx)(x.a,{className:t.elementTitle,children:"Reported Usage"})})]}),Object(A.jsx)(x.a,{className:t.consumptionValue,children:Object(p.l)(I)})]})]})}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),a&&Object(A.jsx)(G.a,{scopes:[S.d.S3_GET_BUCKET_VERSIONING],resource:Mt,children:Object(A.jsxs)(s.Fragment,{children:[Object(A.jsx)(u.a,{className:t.paperContainer,elevation:1,children:Object(A.jsxs)(h.a,{container:!0,children:[Object(A.jsxs)(h.a,{item:!0,xs:Me?9:12,children:[Object(A.jsx)("h2",{children:"Versioning"}),Object(A.jsx)("hr",{className:t.hrClass}),Object(A.jsx)("table",{width:"100%",children:Object(A.jsx)("tbody",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:t.titleCol,children:"Versioning:"}),Object(A.jsx)("td",{children:Ee?Object(A.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Object(A.jsx)(G.a,{scopes:[S.d.S3_PUT_BUCKET_VERSIONING],resource:Mt,errorProps:{disabled:!0},children:Object(A.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){Nt(!0)},children:Ke?"Enabled":"Disabled"})})}),Object(A.jsxs)(G.a,{scopes:[S.d.ADMIN_GET_BUCKET_QUOTA],resource:Mt,children:[Object(A.jsx)("td",{className:t.titleCol,children:"Quota:"}),Object(A.jsx)("td",{children:ge?Object(A.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Object(A.jsx)(G.a,{scopes:[S.d.ADMIN_SET_BUCKET_QUOTA],resource:Mt,errorProps:{disabled:!0},children:Object(A.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){mt(!0)},children:Me?"Enabled":"Disabled"})})})]})]})})})]}),Me&&Qe&&Object(A.jsxs)(h.a,{item:!0,xs:3,className:t.reportedUsage,children:[Object(A.jsxs)(h.a,{container:!0,direction:"row",alignItems:"center",children:[Object(A.jsx)(h.a,{item:!0,className:t.icon,xs:2,children:Object(A.jsx)(E.a,{})}),Object(A.jsx)(h.a,{item:!0,xs:10,children:Object(A.jsxs)(x.a,{className:t.elementTitle,children:[(Yt=null===Qe||void 0===Qe?void 0:Qe.type,Yt?Yt[0].toUpperCase()+Yt.slice(1):null)," Quota"]})})]}),Object(A.jsx)(x.a,{className:t.consumptionValue,children:Object(p.l)("".concat(null===Qe||void 0===Qe?void 0:Qe.quota))})]})]})}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{})]})}),V&&Object(A.jsx)(G.a,{scopes:[S.d.S3_GET_OBJECT_RETENTION],resource:Mt,children:Object(A.jsx)(u.a,{className:t.paperContainer,children:Object(A.jsx)(h.a,{container:!0,children:Object(A.jsxs)(h.a,{item:!0,xs:12,children:[Object(A.jsx)("h2",{children:"Retention"}),Object(A.jsx)("hr",{className:t.hrClass}),Object(A.jsx)("table",{width:"100%",children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{className:t.gridContainer,children:[Object(A.jsx)("td",{className:t.titleCol,children:"Status:"}),Object(A.jsx)("td",{children:Ae?Object(A.jsx)(b.a,{color:"primary",size:16,variant:"indeterminate"}):Object(A.jsx)(G.a,{scopes:[S.d.S3_PUT_OBJECT_RETENTION],resource:Mt,errorProps:{disabled:!0},children:Object(A.jsx)(j.a,{color:"primary",className:t.anchorButton,onClick:function(){ot(!0)},children:et?"Enabled":"Disabled"})})}),null===at?Object(A.jsx)("td",{colSpan:2,children:"\xa0"}):Object(A.jsxs)(s.Fragment,{children:[Object(A.jsx)("td",{className:t.titleCol,children:"Mode:"}),Object(A.jsx)("td",{className:t.capitalizeFirst,children:at&&at.mode})]})]}),Object(A.jsx)("tr",{className:t.gridContainer,children:null===at?Object(A.jsx)("td",{colSpan:2}):Object(A.jsxs)(s.Fragment,{children:[Object(A.jsx)("td",{className:t.titleCol,children:"Valitidy:"}),Object(A.jsxs)("td",{className:t.capitalizeFirst,children:[at&&at.validity," ",at&&(1===at.validity?at.unit.slice(0,-1):at.unit)]})]})})]})})]})})})})]})})))}}]);
//# sourceMappingURL=132.d779112d.chunk.js.map