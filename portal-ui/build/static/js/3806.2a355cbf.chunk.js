"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3806],{24065:function(e,r,t){t.r(r),t.d(r,{default:function(){return M}});var n=t(1413),s=t(29439),a=t(72791),o=t(29945),i=t(78687),l=t(57689),c=t(81207),d=t(21639),u=t(23814),f=t(56028),m=t(40986),p=t(87995),h=t(81551),x=t(80184),Z=function(e){var r=e.open,t=e.closeModal,i=(0,h.TL)(),l=(0,a.useState)(""),d=(0,s.Z)(l,2),Z=d[0],v=d[1],b=(0,a.useState)(""),w=(0,s.Z)(b,2),g=w[0],j=w[1],k=(0,a.useState)(""),S=(0,s.Z)(k,2),C=S[0],y=S[1],A=(0,a.useState)(!1),z=(0,s.Z)(A,2),M=z[0],E=z[1],I=localStorage.getItem("userLoggedIn")||"";return r?(0,x.jsxs)(f.Z,{title:"Change Password for ".concat(I),modalOpen:r,onClose:function(){j(""),y(""),v(""),t()},titleIcon:(0,x.jsx)(o.IaT,{}),children:[(0,x.jsx)("div",{children:"This will change your Console password. Please note your new password down, as it will be required to log into Console after this session."}),(0,x.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),g===C){if(g.length<8)i((0,p.zb)({errorMessage:"Passwords must be at least 8 characters long",detailedError:""}));else if(!M){E(!0);var r={current_secret_key:Z,new_secret_key:g};c.Z.invoke("POST","/api/v1/account/change-password",r).then((function(){E(!1),j(""),y(""),v(""),t()})).catch((function(e){E(!1),j(""),y(""),v(""),i((0,p.zb)(e))}))}}else i((0,p.zb)({errorMessage:"New passwords don't match",detailedError:""}))}(e)},children:(0,x.jsxs)(o.rjZ,{container:!0,children:[(0,x.jsx)(o.rjZ,{item:!0,xs:12,sx:(0,n.Z)({},u.ID.modalFormScrollable),children:(0,x.jsxs)(o.ltY,{withBorders:!1,containerPadding:!1,children:[(0,x.jsx)(o.Wzg,{id:"current-password",name:"current-password",onChange:function(e){v(e.target.value)},label:"Current Password",type:"password",value:Z}),(0,x.jsx)(o.Wzg,{id:"new-password",name:"new-password",onChange:function(e){j(e.target.value)},label:"New Password",type:"password",value:g}),(0,x.jsx)(o.Wzg,{id:"re-new-password",name:"re-new-password",onChange:function(e){y(e.target.value)},label:"Type New Password Again",type:"password",value:C})]})}),(0,x.jsx)(o.rjZ,{item:!0,xs:12,sx:(0,n.Z)({},u.ID.modalButtonBar),children:(0,x.jsx)(o.zxk,{id:"save-password-modal",type:"submit",variant:"callAction",color:"primary",disabled:M||!(Z.length>0&&g.length>0&&C.length>0),label:"Save"})}),M&&(0,x.jsx)(o.rjZ,{item:!0,xs:12,children:(0,x.jsx)(m.Z,{})})]})})]}):null},v=t(59114),b=t(75578),w=t(56087),g=t(38442),j=t(58493),k=t(18303),S=t(14048),C=t(46078),y=t(27454),A=t(47974),z=(0,b.Z)(a.lazy((function(){return t.e(3956).then(t.bind(t,23956))}))),M=function(){var e=(0,h.TL)(),r=(0,l.s0)(),t=(0,i.v9)(C.$4),f=(0,a.useState)([]),m=(0,s.Z)(f,2),b=m[0],M=m[1],E=(0,a.useState)(!1),I=(0,s.Z)(E,2),P=I[0],F=I[1],L=(0,a.useState)(""),R=(0,s.Z)(L,2),N=R[0],q=R[1],O=(0,a.useState)(!1),T=(0,s.Z)(O,2),_=T[0],D=T[1],W=(0,a.useState)(null),K=(0,s.Z)(W,2),B=K[0],U=K[1],V=(0,a.useState)(!1),Y=(0,s.Z)(V,2),X=Y[0],G=Y[1],H=(0,a.useState)([]),J=(0,s.Z)(H,2),Q=J[0],$=J[1],ee=(0,a.useState)(!1),re=(0,s.Z)(ee,2),te=re[0],ne=re[1],se=(0,a.useState)(!1),ae=(0,s.Z)(se,2),oe=ae[0],ie=ae[1],le=t&&t.includes("external-idp")||!1;(0,a.useEffect)((function(){ce()}),[]),(0,a.useEffect)((function(){P&&c.Z.invoke("GET","/api/v1/service-accounts").then((function(e){var r=e.sort(d.V2);F(!1),M(r)})).catch((function(r){e((0,p.Ih)(r)),F(!1)}))}),[P,F,M,e]);var ce=function(){F(!0)},de=[{type:"view",onClick:function(e){U(e),ie(!0)}},{type:"delete",onClick:function(e){U(e),D(!0)}}],ue=b.filter((function(e){return e.toLowerCase().includes(N.toLowerCase())}));return(0,x.jsxs)(a.Fragment,{children:[_&&(0,x.jsx)(z,{deleteOpen:_,selectedServiceAccount:B,closeDeleteModalAndRefresh:function(e){!function(e){D(!1),e&&($([]),ce())}(e)}}),te&&(0,x.jsx)(k.Z,{deleteOpen:te,selectedSAs:Q,closeDeleteModalAndRefresh:function(r){ne(!1),r&&(e((0,p.y1)("Access keys deleted successfully.")),$([]),F(!0))}}),oe&&(0,x.jsx)(S.Z,{open:oe,selectedAccessKey:B,closeModalAndRefresh:function(){ie(!1),F(!0)}}),X&&(0,x.jsx)(Z,{open:X,closeModal:function(){return G(!1)}}),(0,x.jsx)(A.Z,{label:"Access Keys"}),(0,x.jsx)(o.Xgh,{children:(0,x.jsxs)(o.rjZ,{container:!0,children:[(0,x.jsxs)(o.rjZ,{item:!0,xs:12,sx:(0,n.Z)({},u.OR.actionsTray),children:[(0,x.jsx)(v.Z,{placeholder:"Search Access Keys",onChange:q,sx:{marginRight:"auto",maxWidth:380},value:N}),(0,x.jsxs)(o.xuv,{sx:{display:"flex",flexWrap:"nowrap",gap:5},children:[(0,x.jsx)(y.Z,{tooltip:"Delete Selected",children:(0,x.jsx)(o.zxk,{id:"delete-selected-accounts",onClick:function(){ne(!0)},label:"Delete Selected",icon:(0,x.jsx)(o.pJl,{}),disabled:0===Q.length,variant:"secondary"})}),(0,x.jsx)(g.s,{scopes:[w.Ft.ADMIN_CREATE_USER],resource:w.C3,matchAll:!0,errorProps:{disabled:!0},children:(0,x.jsx)(o.zxk,{id:"change-password",onClick:function(){return G(!0)},label:"Change Password",icon:(0,x.jsx)(o.tvm,{}),variant:"regular",disabled:le})}),(0,x.jsx)(g.s,{scopes:[w.Ft.ADMIN_CREATE_SERVICEACCOUNT],resource:w.C3,matchAll:!0,errorProps:{disabled:!0},children:(0,x.jsx)(o.zxk,{id:"create-service-account",onClick:function(){r("".concat(w.gA.ACCOUNT_ADD))},label:"Create access key",icon:(0,x.jsx)(o.dtP,{}),variant:"callAction"})})]})]}),(0,x.jsx)(o.rjZ,{item:!0,xs:12,children:(0,x.jsx)(o.wQF,{isLoading:P,records:ue,entityName:"Access Keys",columns:[{label:"Access Key"}],itemActions:de,selectedItems:Q,onSelect:function(e){return(0,j._0)(e,$,Q)},onSelectAll:function(){Q.length!==b.length?$(b):$([])}})}),(0,x.jsx)(o.rjZ,{item:!0,xs:12,sx:{marginTop:15},children:(0,x.jsx)(o.KfX,{title:"Learn more about ACCESS KEYS",iconComponent:(0,x.jsx)(o.frP,{}),help:(0,x.jsxs)(a.Fragment,{children:["MinIO access keys are child identities of an authenticated MinIO user, including externally managed identities. Each access key inherits its privileges based on the policies attached to it\u2019s parent user or those groups in which the parent user has membership. Access Keys also support an optional inline policy which further restricts access to a subset of actions and resources available to the parent user.",(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),"You can learn more at our"," ",(0,x.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/identity-access-management/minio-user-management.html?ref=con#id3",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})})]})})]})}},93840:function(e,r,t){var n=t(72791).createContext(void 0);r.Z=n},76147:function(e,r,t){function n(e){var r=e.props,t=e.states,n=e.muiFormControl;return t.reduce((function(e,t){return e[t]=r[t],n&&"undefined"===typeof r[t]&&(e[t]=n[t]),e}),{})}t.d(r,{Z:function(){return n}})},52930:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(72791),s=t(93840);function a(){return n.useContext(s.Z)}},17133:function(e,r,t){var n=t(4942),s=t(63366),a=t(87462),o=t(72791),i=t(28182),l=t(94419),c=t(76147),d=t(52930),u=t(14036),f=t(31402),m=t(66934),p=t(10843),h=t(80184),x=["children","className","color","component","disabled","error","filled","focused","required"],Z=(0,m.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return(0,a.Z)({},r.root,"secondary"===t.color&&r.colorSecondary,t.filled&&r.filled)}})((function(e){var r,t=e.theme,s=e.ownerState;return(0,a.Z)({color:(t.vars||t).palette.text.secondary},t.typography.body1,(r={lineHeight:"1.4375em",padding:0,position:"relative"},(0,n.Z)(r,"&.".concat(p.Z.focused),{color:(t.vars||t).palette[s.color].main}),(0,n.Z)(r,"&.".concat(p.Z.disabled),{color:(t.vars||t).palette.text.disabled}),(0,n.Z)(r,"&.".concat(p.Z.error),{color:(t.vars||t).palette.error.main}),r))})),v=(0,m.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,r){return r.asterisk}})((function(e){var r=e.theme;return(0,n.Z)({},"&.".concat(p.Z.error),{color:(r.vars||r).palette.error.main})})),b=o.forwardRef((function(e,r){var t=(0,f.Z)({props:e,name:"MuiFormLabel"}),n=t.children,o=t.className,m=t.component,b=void 0===m?"label":m,w=(0,s.Z)(t,x),g=(0,d.Z)(),j=(0,c.Z)({props:t,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),k=(0,a.Z)({},t,{color:j.color||"primary",component:b,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required}),S=function(e){var r=e.classes,t=e.color,n=e.focused,s=e.disabled,a=e.error,o=e.filled,i=e.required,c={root:["root","color".concat((0,u.Z)(t)),s&&"disabled",a&&"error",o&&"filled",n&&"focused",i&&"required"],asterisk:["asterisk",a&&"error"]};return(0,l.Z)(c,p.M,r)}(k);return(0,h.jsxs)(Z,(0,a.Z)({as:b,ownerState:k,className:(0,i.Z)(S.root,o),ref:r},w,{children:[n,j.required&&(0,h.jsxs)(v,{ownerState:k,"aria-hidden":!0,className:S.asterisk,children:["\u2009","*"]})]}))}));r.Z=b},10843:function(e,r,t){t.d(r,{M:function(){return a}});var n=t(75878),s=t(21217);function a(e){return(0,s.Z)("MuiFormLabel",e)}var o=(0,n.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);r.Z=o},30829:function(e,r,t){t.d(r,{Z:function(){return g}});var n=t(4942),s=t(63366),a=t(87462),o=t(72791),i=t(94419),l=t(28182),c=t(76147),d=t(52930),u=t(17133),f=t(10843),m=t(31402),p=t(66934),h=t(75878),x=t(21217);function Z(e){return(0,x.Z)("MuiInputLabel",e)}(0,h.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var v=t(80184),b=["disableAnimation","margin","shrink","variant","className"],w=(0,p.ZP)(u.Z,{shouldForwardProp:function(e){return(0,p.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[(0,n.Z)({},"& .".concat(f.Z.asterisk),r.asterisk),r.root,t.formControl&&r.formControl,"small"===t.size&&r.sizeSmall,t.shrink&&r.shrink,!t.disableAnimation&&r.animated,r[t.variant]]}})((function(e){var r=e.theme,t=e.ownerState;return(0,a.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:r.transitions.create(["color","transform","max-width"],{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut})},"filled"===t.variant&&(0,a.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,a.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,a.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),g=o.forwardRef((function(e,r){var t=(0,m.Z)({name:"MuiInputLabel",props:e}),n=t.disableAnimation,o=void 0!==n&&n,u=t.shrink,f=t.className,p=(0,s.Z)(t,b),h=(0,d.Z)(),x=u;"undefined"===typeof x&&h&&(x=h.filled||h.focused||h.adornedStart);var g=(0,c.Z)({props:t,muiFormControl:h,states:["size","variant","required"]}),j=(0,a.Z)({},t,{disableAnimation:o,formControl:h,shrink:x,size:g.size,variant:g.variant,required:g.required}),k=function(e){var r=e.classes,t=e.formControl,n=e.size,s=e.shrink,o={root:["root",t&&"formControl",!e.disableAnimation&&"animated",s&&"shrink","small"===n&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},l=(0,i.Z)(o,Z,r);return(0,a.Z)({},r,l)}(j);return(0,v.jsx)(w,(0,a.Z)({"data-shrink":x,ownerState:j,ref:r,className:(0,l.Z)(k.root,f)},p,{classes:k}))}))}}]);
//# sourceMappingURL=3806.2a355cbf.chunk.js.map