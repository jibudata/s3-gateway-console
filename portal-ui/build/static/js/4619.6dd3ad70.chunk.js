"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4619],{94619:function(e,a,s){s.r(a);var t=s(29439),n=s(1413),l=s(72791),o=s(56028),i=s(61889),r=s(36151),c=s(21435),d=s(11135),u=s(25787),p=s(23814),f=s(60364),m=s(81207),h=s(42649),x=s(90673),Z=s(85543),k=s(80184),g=(0,f.$j)((function(e){return{session:e.console.session}}),{setErrorSnackMessage:h.Ih});a.default=(0,u.Z)((function(e){return(0,d.Z)((0,n.Z)((0,n.Z)({},p.DF),p.ID))}))(g((function(e){var a=e.modalOpen,s=e.onClose,n=e.classes,d=e.bucket,u=(0,l.useState)(""),p=(0,t.Z)(u,2),f=p[0],g=p[1],v=(0,l.useState)("readonly"),j=(0,t.Z)(v,2),b=j[0],C=j[1];return(0,k.jsx)(o.Z,{modalOpen:a,title:"Add Access Rule",onClose:s,titleIcon:(0,k.jsx)(Z.sR,{}),children:(0,k.jsxs)(i.ZP,{container:!0,children:[(0,k.jsx)(i.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(c.Z,{value:f,label:"Prefix",id:"prefix",name:"prefix",placeholder:"Enter Prefix",onChange:function(e){g(e.target.value)},tooltip:"Leave this field blank to apply the rule to all prefixes and objects at the bucket root. Do not include the wildcard asterisk ``*`` as part of the prefix *unless* it is an explicit part of the prefix name. The Console automatically appends an asterisk to the appropriate sections of the resulting IAM policy."})}),(0,k.jsx)(i.ZP,{item:!0,xs:12,children:(0,k.jsx)(x.Z,{id:"access",name:"Access",onChange:function(e){C(e.target.value)},label:"Access",value:b,options:[{label:"readonly",value:"readonly"},{label:"writeonly",value:"writeonly"},{label:"readwrite",value:"readwrite"}],disabled:!1})}),(0,k.jsxs)(i.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,k.jsx)(r.Z,{type:"button",color:"primary",variant:"outlined",onClick:function(){g(""),C("readonly")},children:"Clear"}),(0,k.jsx)(r.Z,{type:"submit",variant:"contained",color:"primary",disabled:""===f.trim(),onClick:function(){m.Z.invoke("PUT","/api/v1/bucket/".concat(d,"/access-rules"),{prefix:f,access:b}).then((function(e){s()})).catch((function(e){(0,h.Ih)(e),s()}))},children:"Save"})]})]})})})))},56028:function(e,a,s){var t=s(29439),n=s(1413),l=s(72791),o=s(60364),i=s(13400),r=s(55646),c=s(5574),d=s(65661),u=s(39157),p=s(11135),f=s(25787),m=s(23814),h=s(42649),x=s(29823),Z=s(28057),k=s(80184),g=(0,o.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:h.MK});a.Z=(0,f.Z)((function(e){return(0,p.Z)((0,n.Z)((0,n.Z)({},m.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.sN))}))(g((function(e){var a=e.onClose,s=e.modalOpen,o=e.title,p=e.children,f=e.classes,m=e.wideLimit,h=void 0===m||m,g=e.modalSnackMessage,v=e.noContentPadding,j=e.setModalSnackMessage,b=e.titleIcon,C=void 0===b?null:b,y=(0,l.useState)(!1),M=(0,t.Z)(y,2),S=M[0],w=M[1];(0,l.useEffect)((function(){j("")}),[j]),(0,l.useEffect)((function(){if(g){if(""===g.message)return void w(!1);"error"!==g.type&&w(!0)}}),[g]);var N=h?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},P="";return g&&(P=g.detailedErrorMsg,(""===g.detailedErrorMsg||g.detailedErrorMsg.length<5)&&(P=g.message)),(0,k.jsxs)(c.Z,(0,n.Z)((0,n.Z)({open:s,classes:f},N),{},{scroll:"paper",onClose:function(e,s){"backdropClick"!==s&&a()},className:f.root,children:[(0,k.jsxs)(d.Z,{className:f.title,children:[(0,k.jsxs)("div",{className:f.titleText,children:[C," ",o]}),(0,k.jsx)("div",{className:f.closeContainer,children:(0,k.jsx)(i.Z,{"aria-label":"close",id:"close",className:f.closeButton,onClick:a,disableRipple:!0,size:"small",children:(0,k.jsx)(x.Z,{})})})]}),(0,k.jsx)(Z.Z,{isModal:!0}),(0,k.jsx)(r.Z,{open:S,className:f.snackBarModal,onClose:function(){w(!1),j("")},message:P,ContentProps:{className:"".concat(f.snackBar," ").concat(g&&"error"===g.type?f.errorSnackBar:"")},autoHideDuration:g&&"error"===g.type?1e4:5e3}),(0,k.jsx)(u.Z,{className:v?"":f.content,children:p})]}))})))}}]);
//# sourceMappingURL=4619.6dd3ad70.chunk.js.map