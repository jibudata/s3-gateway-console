"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5588],{23804:function(e,t,n){n(72791);var r=n(11135),i=n(25787),a=n(61889),u=n(80184);t.Z=(0,i.Z)((function(e){return(0,r.Z)({root:{border:"1px solid #E2E2E2",borderRadius:2,backgroundColor:"#FBFAFA",paddingLeft:25,paddingTop:31,paddingBottom:21,paddingRight:30},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:15,display:"flex",alignItems:"center","& .min-icon":{marginRight:15,height:28,width:38}},helpText:{fontSize:16,paddingLeft:5}})}))((function(e){var t=e.classes,n=e.iconComponent,r=e.title,i=e.help;return(0,u.jsx)("div",{className:t.root,children:(0,u.jsxs)(a.ZP,{container:!0,children:[(0,u.jsxs)(a.ZP,{item:!0,xs:12,className:t.leftItems,children:[n,r]}),(0,u.jsx)(a.ZP,{item:!0,xs:12,className:t.helpText,children:i})]})})}))},45588:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(29439),i=n(1413),a=n(72791),u=n(61889),c=n(36151),o=n(40986),d=n(11135),s=n(25787),l=n(23814),b=n(81207),f=n(21435),m=n(83679),k=n(45248),h=n(62666),x=n(60364),g=n(42209);function p(e,t){return e===t}function j(e){return"function"===typeof e?function(){return e}:e}function v(e,t,n){var r=n&&n.equalityFn||p,i=function(e){var t=(0,a.useState)(j(e)),n=t[0],r=t[1];return[n,(0,a.useCallback)((function(e){return r(j(e))}),[])]}(e),u=i[0],c=i[1],o=function(e,t,n){var r=this,i=(0,a.useRef)(null),u=(0,a.useRef)(0),c=(0,a.useRef)(null),o=(0,a.useRef)([]),d=(0,a.useRef)(),s=(0,a.useRef)(),l=(0,a.useRef)(e),b=(0,a.useRef)(!0);l.current=e;var f=!t&&0!==t&&"undefined"!==typeof window;if("function"!==typeof e)throw new TypeError("Expected a function");t=+t||0;var m=!!(n=n||{}).leading,k=!("trailing"in n)||!!n.trailing,h="maxWait"in n,x=h?Math.max(+n.maxWait||0,t):null;(0,a.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var g=(0,a.useMemo)((function(){var e=function(e){var t=o.current,n=d.current;return o.current=d.current=null,u.current=e,s.current=l.current.apply(n,t)},n=function(e,t){f&&cancelAnimationFrame(c.current),c.current=f?requestAnimationFrame(e):setTimeout(e,t)},a=function(e){if(!b.current)return!1;var n=e-i.current,r=e-u.current;return!i.current||n>=t||n<0||h&&r>=x},g=function(t){return c.current=null,k&&o.current?e(t):(o.current=d.current=null,s.current)},p=function e(){var r=Date.now();if(a(r))return g(r);if(b.current){var c=r-i.current,o=r-u.current,d=t-c,s=h?Math.min(d,x-o):d;n(e,s)}},j=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var k=Date.now(),x=a(k);if(o.current=l,d.current=r,i.current=k,x){if(!c.current&&b.current)return u.current=i.current,n(p,t),m?e(i.current):s.current;if(h)return n(p,t),e(i.current)}return c.current||n(p,t),s.current};return j.cancel=function(){c.current&&(f?cancelAnimationFrame(c.current):clearTimeout(c.current)),u.current=0,o.current=i.current=d.current=c.current=null},j.isPending=function(){return!!c.current},j.flush=function(){return c.current?g(Date.now()):s.current},j}),[m,h,t,x,k,f]);return g}((0,a.useCallback)((function(e){return c(e)}),[c]),t,n),d=(0,a.useRef)(e);return r(d.current,e)||(o(e),d.current=e),[u,o]}var Z=n(37516),B=n(32291),y=n(84669),C=n(56375),R=n(42649),S=n(74794),E=n(56578),q=n(25739),P=n(23804),_=n(50896),N=n(80184),T=(0,x.$j)((function(e){return{addBucketModalOpen:e.buckets.open,bucketName:e.buckets.addBucketName,versioningEnabled:e.buckets.addBucketVersioningEnabled,lockingEnabled:e.buckets.addBucketLockingEnabled,quotaEnabled:e.buckets.addBucketQuotaEnabled,quotaType:e.buckets.addBucketQuotaType,quotaSize:e.buckets.addBucketQuotaSize,quotaUnit:e.buckets.addBucketQuotaUnit,retentionEnabled:e.buckets.addBucketRetentionEnabled,retentionMode:e.buckets.addBucketRetentionMode,retentionUnit:e.buckets.addBucketRetentionUnit,retentionValidity:e.buckets.addBucketRetentionValidity,distributedSetup:e.system.distributedSetup}}),{addBucketName:g.pK,addBucketVersioned:g.Og,enableObjectLocking:g.YP,addBucketQuota:g.hN,addBucketQuotaType:g.i9,addBucketQuotaSize:g._X,addBucketQuotaUnit:g.FB,addBucketRetention:g._n,addBucketRetentionMode:g.Tv,addBucketRetentionUnit:g.Mf,addBucketRetentionValidity:g.bC,setErrorSnackMessage:R.Ih})((0,s.Z)((function(e){return(0,d.Z)((0,i.Z)({buttonContainer:{marginTop:24,textAlign:"right","& .MuiButton-root":{marginLeft:8}},error:{color:"#b53b4b",border:"1px solid #b53b4b",padding:8,borderRadius:3},title:{marginBottom:8},headTitle:{fontWeight:"bold",fontSize:16,paddingLeft:8},h6title:{fontWeight:"bold",color:"#000000",fontSize:20}},(0,l.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,n=e.addBucketName,i=e.addBucketVersioned,d=e.enableObjectLocking,s=e.addBucketQuota,l=e.addBucketQuotaType,x=e.addBucketQuotaSize,g=e.addBucketQuotaUnit,p=e.addBucketRetention,j=e.addBucketRetentionMode,R=e.addBucketRetentionUnit,T=e.addBucketRetentionValidity,w=e.setErrorSnackMessage,M=e.bucketName,F=e.versioningEnabled,Q=e.lockingEnabled,z=e.quotaEnabled,U=e.quotaType,V=e.quotaSize,L=e.quotaUnit,O=e.retentionEnabled,A=e.retentionMode,I=e.retentionUnit,D=e.retentionValidity,W=e.distributedSetup,K=(0,a.useState)(!1),Y=(0,r.Z)(K,2),G=Y[0],X=Y[1],$=(0,a.useState)(!1),H=(0,r.Z)($,2),J=H[0],ee=H[1],te=(0,a.useState)(!1),ne=(0,r.Z)(te,2),re=ne[0],ie=ne[1],ae=v(M,1e3),ue=(0,r.Z)(ae,1)[0];(0,a.useEffect)((function(){n(ue)}),[ue,n]);var ce=function(){n(""),i(!1),d(!1),s(!1),l("hard"),x("1"),g("TiB"),p(!1),j("compliance"),R("days"),T(180)};return(0,a.useEffect)((function(){var e=!1;""!==M.trim()&&(e=!0),z&&e&&(""!==V.trim()&&0!==parseInt(V)||(e=!1)),F&&O||(p(!1),j("compliance"),R("days"),T(180)),O?(d(!0),ie(!0)):ie(!1),O&&(Number.isNaN(D)||D<1)&&(e=!1),ee(e)}),[M,O,Q,U,V,L,z,p,j,R,T,D,F,d]),(0,N.jsxs)(a.Fragment,{children:[(0,N.jsx)(B.Z,{label:(0,N.jsx)(y.Z,{to:"/buckets",label:"Buckets"})}),(0,N.jsx)(S.Z,{children:(0,N.jsx)(q.Z,{title:"Create Bucket",icon:(0,N.jsx)(C.wNb,{}),helpbox:(0,N.jsx)(P.Z,{iconComponent:(0,N.jsx)(C.wNb,{}),title:"Buckets",help:(0,N.jsxs)(a.Fragment,{children:["MinIO uses buckets to organize objects. A bucket is similar to a folder or directory in a filesystem, where each bucket can hold an arbitrary number of objects.",(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),(0,N.jsx)("b",{children:"Versioning"})," allows to keep multiple versions of the same object under the same key.",(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),(0,N.jsx)("b",{children:"Object Locking"})," prevents objects from being deleted. Required to support retention and legal hold. Can only be enabled at bucket creation.",(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),(0,N.jsx)("b",{children:"Quota"})," limits the amount of data in the bucket.",(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),(0,N.jsx)("b",{children:"Retention"})," imposes rules to prevent object deletion for a period of time."]})}),children:(0,N.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!G){X(!0);var t={name:M,versioning:!!W&&F,locking:!!W&&Q};if(W){if(z){var n=(0,k.Pw)(V,L,!0);t.quota={enabled:!0,quota_type:U,amount:parseInt(n)}}O&&(t.retention={mode:A,unit:I,validity:D})}b.Z.invoke("POST","/api/v1/buckets",t).then((function(e){X(!1);var t="".concat(M);ce(),h.Z.push("/buckets/".concat(t,"/browse"))})).catch((function(e){X(!1),w(e)}))}}(e)},children:[(0,N.jsxs)(u.ZP,{container:!0,marginTop:1,spacing:2,children:[(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(f.Z,{id:"bucket-name",name:"bucket-name",autoFocus:!0,onChange:function(e){n(e.target.value)},label:"Bucket Name",value:M})}),(0,N.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,N.jsx)(_.Z,{children:"Features"}),!W&&(0,N.jsxs)(a.Fragment,{children:[(0,N.jsxs)("div",{className:t.error,children:["These features are unavailable in a single-disk setup.",(0,N.jsx)("br",{}),"Please deploy a server in"," ",(0,N.jsx)("a",{href:"https://docs.min.io/minio/baremetal/installation/deploy-minio-distributed.html?ref=con",target:"_blank",rel:"noreferrer",children:"Distributed Mode"})," ","to use these features."]}),(0,N.jsx)("br",{}),(0,N.jsx)("br",{})]})]}),(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(Z.Z,{value:"versioned",id:"versioned",name:"versioned",checked:F,onChange:function(e){i(e.target.checked)},label:"Versioning",disabled:!W||Q})}),(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(Z.Z,{value:"locking",id:"locking",name:"locking",disabled:re||!W,checked:Q,onChange:function(e){d(e.target.checked),e.target.checked&&i(!0)},label:"Object Locking"})}),(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(Z.Z,{value:"bucket_quota",id:"bucket_quota",name:"bucket_quota",checked:z,onChange:function(e){s(e.target.checked)},label:"Quota",disabled:!W})}),z&&W&&(0,N.jsx)(a.Fragment,{children:(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(f.Z,{type:"number",id:"quota_size",name:"quota_size",onChange:function(e){e.target.validity.valid&&x(e.target.value)},label:"Capacity",value:V,required:!0,min:"1",pattern:"[0-9]*",overlayObject:(0,N.jsx)(E.Z,{id:"quota_unit",onUnitChange:function(e){g(e)},unitSelected:L,unitsList:(0,k.zQ)(["Ki"]),disabled:!1})})})}),F&&W&&(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(Z.Z,{value:"bucket_retention",id:"bucket_retention",name:"bucket_retention",checked:O,onChange:function(e){p(e.target.checked)},label:"Retention"})}),O&&W&&(0,N.jsxs)(a.Fragment,{children:[(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(m.Z,{currentSelection:A,id:"retention_mode",name:"retention_mode",label:"Mode",onChange:function(e){j(e.target.value)},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}]})}),(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(f.Z,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){T(e.target.valueAsNumber)},label:"Validity",value:String(D),required:!0,overlayObject:(0,N.jsx)(E.Z,{id:"retention_unit",onUnitChange:function(e){R(e)},unitSelected:I,unitsList:[{value:"days",label:"Days"},{value:"years",label:"Years"}],disabled:!1})})})]})]}),(0,N.jsxs)(u.ZP,{item:!0,xs:12,className:t.buttonContainer,children:[(0,N.jsx)(c.Z,{type:"button",variant:"outlined",className:t.clearButton,onClick:ce,children:"Clear"}),(0,N.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",disabled:G||!J,children:"Create Bucket"})]}),G&&(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsx)(o.Z,{})})]})})})]})})))},25739:function(e,t,n){n(72791);var r=n(64554),i=n(50896),a=n(80184);t.Z=function(e){var t=e.children,n=e.title,u=e.helpbox,c=e.icon;return(0,a.jsxs)(r.Z,{sx:{display:"grid",padding:"25px",gap:"25px",gridTemplateColumns:{md:"2fr 1.2fr",xs:"1fr"},border:"1px solid #eaeaea"},children:[(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(i.Z,{icon:c,children:n}),t]}),u]})}}}]);
//# sourceMappingURL=5588.fc2aa87a.chunk.js.map