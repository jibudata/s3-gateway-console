"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4619],{94619:function(e,a,t){t.r(a);var s=t(29439),n=t(1413),l=t(72791),i=t(56028),o=t(61889),r=t(36151),c=t(21435),d=t(11135),u=t(25787),p=t(23814),f=t(60364),m=t(81207),h=t(90673),x=t(62410),Z=t(87995),v=t(80184);a.default=(0,u.Z)((function(e){return(0,d.Z)((0,n.Z)((0,n.Z)({},p.DF),p.ID))}))((function(e){var a=e.modalOpen,t=e.onClose,n=e.classes,d=e.bucket,u=(0,f.I0)(),p=(0,l.useState)(""),j=(0,s.Z)(p,2),k=j[0],b=j[1],g=(0,l.useState)("readonly"),C=(0,s.Z)(g,2),y=C[0],w=C[1];return(0,v.jsx)(i.Z,{modalOpen:a,title:"Add Access Rule",onClose:t,titleIcon:(0,v.jsx)(x.sR0,{}),children:(0,v.jsxs)(o.ZP,{container:!0,children:[(0,v.jsx)(o.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,v.jsx)(c.Z,{value:k,label:"Prefix",id:"prefix",name:"prefix",placeholder:"Enter Prefix",onChange:function(e){b(e.target.value)},tooltip:"Leave this field blank to apply the rule to all prefixes and objects at the bucket root. Do not include the wildcard asterisk ``*`` as part of the prefix *unless* it is an explicit part of the prefix name. The Console automatically appends an asterisk to the appropriate sections of the resulting IAM policy."})}),(0,v.jsx)(o.ZP,{item:!0,xs:12,children:(0,v.jsx)(h.Z,{id:"access",name:"Access",onChange:function(e){w(e.target.value)},label:"Access",value:y,options:[{label:"readonly",value:"readonly"},{label:"writeonly",value:"writeonly"},{label:"readwrite",value:"readwrite"}],disabled:!1})}),(0,v.jsxs)(o.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,v.jsx)(r.Z,{type:"button",color:"primary",variant:"outlined",onClick:function(){b(""),w("readonly")},children:"Clear"}),(0,v.jsx)(r.Z,{type:"submit",variant:"contained",color:"primary",disabled:""===k.trim(),onClick:function(){m.Z.invoke("PUT","/api/v1/bucket/".concat(d,"/access-rules"),{prefix:k,access:y}).then((function(e){t()})).catch((function(e){u((0,Z.Ih)(e)),t()}))},children:"Save"})]})]})})}))},56028:function(e,a,t){var s=t(29439),n=t(1413),l=t(72791),i=t(60364),o=t(13400),r=t(55646),c=t(5574),d=t(65661),u=t(39157),p=t(11135),f=t(25787),m=t(23814),h=t(29823),x=t(28057),Z=t(87995),v=t(80184);a.Z=(0,f.Z)((function(e){return(0,p.Z)((0,n.Z)((0,n.Z)({},m.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.sN))}))((function(e){var a=e.onClose,t=e.modalOpen,p=e.title,f=e.children,m=e.classes,j=e.wideLimit,k=void 0===j||j,b=e.noContentPadding,g=e.titleIcon,C=void 0===g?null:g,y=(0,i.I0)(),w=(0,l.useState)(!1),N=(0,s.Z)(w,2),P=N[0],B=N[1],M=(0,i.v9)((function(e){return e.system.modalSnackBar}));(0,l.useEffect)((function(){y((0,Z.MK)(""))}),[y]),(0,l.useEffect)((function(){if(M){if(""===M.message)return void B(!1);"error"!==M.type&&B(!0)}}),[M]);var S=k?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},I="";return M&&(I=M.detailedErrorMsg,(""===M.detailedErrorMsg||M.detailedErrorMsg.length<5)&&(I=M.message)),(0,v.jsxs)(c.Z,(0,n.Z)((0,n.Z)({open:t,classes:m},S),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&a()},className:m.root,children:[(0,v.jsxs)(d.Z,{className:m.title,children:[(0,v.jsxs)("div",{className:m.titleText,children:[C," ",p]}),(0,v.jsx)("div",{className:m.closeContainer,children:(0,v.jsx)(o.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:a,disableRipple:!0,size:"small",children:(0,v.jsx)(h.Z,{})})})]}),(0,v.jsx)(x.Z,{isModal:!0}),(0,v.jsx)(r.Z,{open:P,className:m.snackBarModal,onClose:function(){B(!1),y((0,Z.MK)(""))},message:I,ContentProps:{className:"".concat(m.snackBar," ").concat(M&&"error"===M.type?m.errorSnackBar:"")},autoHideDuration:M&&"error"===M.type?1e4:5e3}),(0,v.jsx)(u.Z,{className:b?"":m.content,children:f})]}))}))}}]);
//# sourceMappingURL=4619.aa018cb6.chunk.js.map