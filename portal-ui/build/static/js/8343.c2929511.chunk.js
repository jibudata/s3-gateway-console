"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8343],{13089:function(n,e,t){t.d(e,{Z:function(){return C}});var a=t(23430),r=t(50390),o=t(86509),i=t(4285),s=t(81378),c=t(4182),l=t(35044),d=t(73481),u=t(77555),p=t(29399),h=t(56805),Z=t(55600),f=t(35477),m=t(33967),v=t(49535),x=t(32793),g=t(1048),j=t(44977),b=t(50076),w=t(15573),E=t(8208),y=t(10594);function S(n){return(0,y.Z)("MuiTableContainer",n)}(0,t(43349).Z)("MuiTableContainer",["root"]);var T=t(62559),N=["className","component"],P=(0,E.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(n,e){return e.root}})({width:"100%",overflowX:"auto"}),k=r.forwardRef((function(n,e){var t=(0,w.Z)({props:n,name:"MuiTableContainer"}),a=t.className,r=t.component,o=void 0===r?"div":r,i=(0,g.Z)(t,N),s=(0,x.Z)({},t,{component:o}),c=function(n){var e=n.classes;return(0,b.Z)({root:["root"]},S,e)}(s);return(0,T.jsx)(P,(0,x.Z)({ref:e,as:o,className:(0,j.Z)(c.root,a),ownerState:s},i))})),L=t(46981),M=function(n){var e=n.event,t=r.useState(!1),o=(0,a.Z)(t,2),i=o[0],s=o[1];return(0,T.jsxs)(r.Fragment,{children:[(0,T.jsxs)(p.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,T.jsx)(d.Z,{component:"th",scope:"row",onClick:function(){return s(!i)},children:e.event_type}),(0,T.jsx)(d.Z,{onClick:function(){return s(!i)},children:e.reason}),(0,T.jsx)(d.Z,{onClick:function(){return s(!i)},children:e.seen}),(0,T.jsx)(d.Z,{onClick:function(){return s(!i)},children:e.message.length>=30?"".concat(e.message.substr(0,30),"..."):e.message}),(0,T.jsx)(d.Z,{onClick:function(){return s(!i)},children:i?(0,T.jsx)(v.Z,{}):(0,T.jsx)(m.Z,{})})]}),(0,T.jsx)(p.Z,{children:(0,T.jsx)(d.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,T.jsx)(Z.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,T.jsx)(h.Z,{sx:{margin:1},children:(0,T.jsx)(f.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:e.message})})})})})]})},C=(0,i.Z)((function(n){return(0,o.Z)({events:{"& .MuiTypography-root":{fontSize:14},"& .Mui-expanded":{"& .eventMessage":{display:"none"}}}})}))((function(n){n.classes;var e=n.events;return n.loading?(0,T.jsx)(s.Z,{}):(0,T.jsx)(k,{component:L.Z,children:(0,T.jsxs)(c.Z,{"aria-label":"collapsible table",children:[(0,T.jsx)(u.Z,{children:(0,T.jsxs)(p.Z,{children:[(0,T.jsx)(d.Z,{children:"Type"}),(0,T.jsx)(d.Z,{children:"Reason"}),(0,T.jsx)(d.Z,{children:"Age"}),(0,T.jsx)(d.Z,{children:"Message"}),(0,T.jsx)(d.Z,{})]})}),(0,T.jsx)(l.Z,{children:e.map((function(n){return(0,T.jsx)(M,{event:n},"".concat(n.event_type,"-").concat(n.seen))}))})]})})}))},58343:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var a=t(23430),r=t(18489),o=t(50390),i=t(86509),s=t(4285),c=t(72462),l=t(25594),d=t(98247),u=t(49044),p=t(6369),h=t(34424),Z=t(33690),f=t(12066),m=t(46981),v=t(65771),x=t(30324),g=t(13336),j=t(44149),b=t(62559),w=(0,h.$j)((function(n){return{loadingTenant:n.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:j.Ih}),E=(0,s.Z)((function(n){return(0,i.Z)((0,r.Z)((0,r.Z)((0,r.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 304px)",overflow:"auto",fontSize:13,padding:"25px 45px 0",border:"1px solid #EAEDEE",borderRadius:4}},c.Si),c.qg),{},{actionsTray:(0,r.Z)((0,r.Z)({},c.OR.actionsTray),{},{padding:"15px 0 0"}),logerror_tab:{color:"#A52A2A",paddingLeft:25},ansidefault:{color:"#000",lineHeight:"16px"},highlight:{"& span":{backgroundColor:"#082F5238"}}},(0,c.Bz)(n.spacing(4))))}))(w((function(n){var e=n.classes,t=n.tenant,i=n.namespace,s=n.podName,c=n.propLoading,d=n.setErrorSnackMessage,u=n.loadingTenant,p=(0,o.useState)(""),h=(0,a.Z)(p,2),j=h[0],w=h[1],E=(0,o.useState)([]),y=(0,a.Z)(E,2),S=y[0],T=y[1],N=(0,o.useState)(!0),P=(0,a.Z)(N,2),k=P[0],L=P[1],M=new Z.t1({minWidth:5,fixedHeight:!1});(0,o.useEffect)((function(){c&&L(!0)}),[c]),(0,o.useEffect)((function(){u&&L(!0)}),[u]);var C=function(n,t){if(!n)return null;var a=(n=n.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),r=""!==j&&n.toLowerCase().includes(j.toLowerCase());return a.startsWith("   ")?(0,b.jsx)("div",{className:"".concat(r?e.highlight:""),children:(0,b.jsx)("span",{className:e.tab,children:a})},t):(0,b.jsx)("div",{className:"".concat(r?e.highlight:""),children:(0,b.jsx)("span",{className:e.ansidefault,children:a})},t)};function R(n){var e=n.columnIndex,t=n.key,a=n.parent,o=n.index,i=n.style;return(0,b.jsx)(Z.Z8,{cache:M,columnIndex:e,parent:a,rowIndex:o,children:(0,b.jsx)("div",{style:(0,r.Z)({},i),children:C(S[o],o)})},t)}return(0,o.useEffect)((function(){k&&x.Z.invoke("GET","/api/v1/namespaces/".concat(i,"/tenants/").concat(t,"/pods/").concat(s)).then((function(n){T(n.split("\n")),L(!1)})).catch((function(n){d(n),L(!1)}))}),[k,s,i,t,d]),(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,className:e.actionsTray,children:(0,b.jsx)(f.Z,{placeholder:"Highlight Line",className:e.searchField,id:"search-resource",label:"",onChange:function(n){w(n.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,b.jsx)(v.Z,{position:"start",children:(0,b.jsx)(g.Z,{})})},variant:"standard"})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)("br",{})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(m.Z,{children:(0,b.jsx)("div",{className:e.logList,children:S.length>=1&&(0,b.jsx)(Z.qj,{children:function(n){var e=n.width,t=n.height;return(0,b.jsx)(Z.aV,{rowHeight:function(n){return M.rowHeight(n)},overscanRowCount:15,rowCount:S.length,rowRenderer:R,width:e,height:t})}})})})})]})}))),y=t(28948),S=t(13089),T=(0,h.$j)((function(n){return{loadingTenant:n.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:j.Ih}),N=(0,s.Z)((function(n){return(0,i.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},c.OR),c.Si),c.qg),c.bp),{},{actionsTray:(0,r.Z)((0,r.Z)({},c.OR.actionsTray),{},{padding:"15px 0 0"})}))}))(T((function(n){n.classes;var e=n.tenant,t=n.namespace,r=n.podName,i=n.propLoading,s=n.setErrorSnackMessage,c=n.loadingTenant,d=(0,o.useState)([]),u=(0,a.Z)(d,2),p=u[0],h=u[1],Z=(0,o.useState)(!0),f=(0,a.Z)(Z,2),m=f[0],v=f[1];return(0,o.useEffect)((function(){i&&v(!0)}),[i]),(0,o.useEffect)((function(){c&&v(!0)}),[c]),(0,o.useEffect)((function(){m&&x.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(e,"/pods/").concat(r,"/events")).then((function(n){for(var e=0;e<n.length;e++){var t=Date.now()/1e3|0;n[e].seen=(0,y.v1)((t-n[e].last_seen).toString())}h(n),v(!1)})).catch((function(n){s(n),v(!1)}))}),[m,r,t,e,s]),(0,b.jsx)(o.Fragment,{children:(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(S.Z,{events:p,loading:m})})})}))),P=(0,s.Z)((function(n){return(0,i.Z)((0,r.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,c.Bz)(n.spacing(4))))}))((function(n){var e=n.classes,t=n.match,i=(0,o.useState)(0),s=(0,a.Z)(i,2),c=s[0],h=s[1],Z=(0,o.useState)(!0),f=(0,a.Z)(Z,2),m=f[0],v=f[1],x=t.params.tenantNamespace,g=t.params.tenantName,j=t.params.podName;function w(n){return{id:"simple-tab-".concat(n),"aria-controls":"simple-tabpanel-".concat(n)}}return(0,o.useEffect)((function(){m&&v(!1)}),[m]),(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsxs)("h1",{className:e.sectionTitle,children:[(0,b.jsx)(p.rU,{to:"/namespaces/".concat(x,"/tenants/").concat(g,"/pods"),className:e.breadcrumLink,children:"Pods"})," ","> ",j]})}),(0,b.jsxs)(l.ZP,{container:!0,children:[(0,b.jsx)(l.ZP,{item:!0,xs:9,children:(0,b.jsxs)(d.Z,{value:c,onChange:function(n,e){h(e)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,b.jsx)(u.Z,(0,r.Z)({label:"Events"},w(0))),(0,b.jsx)(u.Z,(0,r.Z)({label:"Logs"},w(1)))]})}),0===c&&(0,b.jsx)(N,{tenant:g,namespace:x,podName:j,propLoading:m}),1===c&&(0,b.jsx)(E,{tenant:g,namespace:x,podName:j,propLoading:m})]})]})}))},33967:function(n,e,t){var a=t(64119);e.Z=void 0;var r=a(t(66830)),o=t(62559),i=(0,r.default)((0,o.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");e.Z=i},49535:function(n,e,t){var a=t(64119);e.Z=void 0;var r=a(t(66830)),o=t(62559),i=(0,r.default)((0,o.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");e.Z=i},65771:function(n,e,t){t.d(e,{Z:function(){return w}});var a=t(36222),r=t(1048),o=t(32793),i=t(50390),s=t(44977),c=t(50076),l=t(91442),d=t(35477),u=t(14478),p=t(23060),h=t(8208),Z=t(10594);function f(n){return(0,Z.Z)("MuiInputAdornment",n)}var m,v=(0,t(43349).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),x=t(15573),g=t(62559),j=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e["position".concat((0,l.Z)(t.position))],!0===t.disablePointerEvents&&e.disablePointerEvents,e[t.variant]]}})((function(n){var e=n.theme,t=n.ownerState;return(0,o.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:e.palette.action.active},"filled"===t.variant&&(0,a.Z)({},"&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),w=i.forwardRef((function(n,e){var t=(0,x.Z)({props:n,name:"MuiInputAdornment"}),a=t.children,h=t.className,Z=t.component,v=void 0===Z?"div":Z,w=t.disablePointerEvents,E=void 0!==w&&w,y=t.disableTypography,S=void 0!==y&&y,T=t.position,N=t.variant,P=(0,r.Z)(t,j),k=(0,p.Z)()||{},L=N;N&&k.variant,k&&!L&&(L=k.variant);var M=(0,o.Z)({},t,{hiddenLabel:k.hiddenLabel,size:k.size,disablePointerEvents:E,position:T,variant:L}),C=function(n){var e=n.classes,t=n.disablePointerEvents,a=n.hiddenLabel,r=n.position,o=n.size,i=n.variant,s={root:["root",t&&"disablePointerEvents",r&&"position".concat((0,l.Z)(r)),i,a&&"hiddenLabel",o&&"size".concat((0,l.Z)(o))]};return(0,c.Z)(s,f,e)}(M);return(0,g.jsx)(u.Z.Provider,{value:null,children:(0,g.jsx)(b,(0,o.Z)({as:v,ownerState:M,className:(0,s.Z)(C.root,h),ref:e},P,{children:"string"!==typeof a||S?(0,g.jsxs)(i.Fragment,{children:["start"===T?m||(m=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,a]}):(0,g.jsx)(d.Z,{color:"text.secondary",children:a})}))})}))},77555:function(n,e,t){t.d(e,{Z:function(){return x}});var a=t(32793),r=t(1048),o=t(50390),i=t(44977),s=t(50076),c=t(29413),l=t(15573),d=t(8208),u=t(10594);function p(n){return(0,u.Z)("MuiTableHead",n)}(0,t(43349).Z)("MuiTableHead",["root"]);var h=t(62559),Z=["className","component"],f=(0,d.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(n,e){return e.root}})({display:"table-header-group"}),m={variant:"head"},v="thead",x=o.forwardRef((function(n,e){var t=(0,l.Z)({props:n,name:"MuiTableHead"}),o=t.className,d=t.component,u=void 0===d?v:d,x=(0,r.Z)(t,Z),g=(0,a.Z)({},t,{component:u}),j=function(n){var e=n.classes;return(0,s.Z)({root:["root"]},p,e)}(g);return(0,h.jsx)(c.Z.Provider,{value:m,children:(0,h.jsx)(f,(0,a.Z)({as:u,className:(0,i.Z)(j.root,o),ref:e,role:u===v?null:"rowgroup",ownerState:g},x))})}))}}]);
//# sourceMappingURL=8343.c2929511.chunk.js.map