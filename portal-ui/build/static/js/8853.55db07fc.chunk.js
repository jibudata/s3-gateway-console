"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8853],{25534:function(e,n,t){var a=t(18489),o=(t(50390),t(25594)),i=t(86509),s=t(4285),r=t(72462),l=t(62559);n.Z=(0,s.Z)((function(e){return(0,i.Z)((0,a.Z)({},r.Bw))}))((function(e){var n=e.classes,t=e.className,a=void 0===t?"":t,i=e.children;return(0,l.jsx)("div",{className:n.contentSpacer,children:(0,l.jsx)(o.ZP,{container:!0,children:(0,l.jsx)(o.ZP,{item:!0,xs:12,className:a,children:i})})})}))},35721:function(e,n,t){t(50390);var a=t(34424),o=t(25594),i=t(86509),s=t(4285),r=t(35477),l=t(95467),c=t(26805),d=t(44078),u=t(5265),m=t(98280),p=t(62559),h={toggleList:u.kQ},f=(0,a.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),h);n.Z=f((0,s.Z)((function(e){return(0,i.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}},middleComponent:{display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.label,a=e.actions,i=e.sidebarOpen,s=e.operatorMode,u=e.managerObjects,h=e.toggleList,f=e.middleComponent;return(0,p.jsxs)(o.ZP,{container:!0,className:"".concat(n.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,p.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:f?3:6,className:n.label,sx:{paddingTop:["15px","15px","0","0"]},children:[!i&&(0,p.jsx)("div",{className:n.logo,children:s?(0,p.jsx)(c.Z,{}):(0,p.jsx)(d.Z,{})}),(0,p.jsx)(r.Z,{variant:"h4",className:n.labelStyle,children:t})]}),f&&(0,p.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:6,className:n.middleComponent,sx:{marginTop:["10px","10px","0","0"]},children:f}),(0,p.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:f?3:6,className:n.rightMenu,children:[a&&a,u&&u.length>0&&(0,p.jsx)(l.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){h()},size:"large",children:(0,p.jsx)(m.gx,{})})]})]})})))},66721:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var a=t(35531),o=t(23430),i=t(18489),s=t(50390),r=t(34424),l=t(38342),c=t.n(l),d=t(86509),u=t(4285),m=t(25594),p=t(66946),h=t(72462),f=t(28948),g=t(44149),x=t(30324),b=t(17777),j=t(12066),v=t(62559),Z=(0,u.Z)((function(e){return(0,d.Z)({searchField:(0,i.Z)((0,i.Z)({},h.qg.searchField),{},{height:30,padding:0,"& input":{padding:"0 12px",height:28,fontSize:12,fontWeight:600,color:"#393939"},"&.isDisabled":{"&:hover":{borderColor:"#EAEDEE"}},"& input.Mui-disabled":{backgroundColor:"#EAEAEA"}}),labelStyle:{color:"#393939",fontSize:12,marginBottom:4},buttonKit:{display:"flex",alignItems:"center"},fieldContainer:{flexGrow:1,margin:"0 15px"}})}))((function(e){var n=e.classes,t=e.label,a=e.onChange,o=e.value,i=e.placeholder,r=void 0===i?"":i,l=e.id,c=e.name;return(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)("div",{className:n.fieldContainer,children:[(0,v.jsx)("div",{className:n.labelStyle,children:t}),(0,v.jsx)("div",{className:n.buttonKit,children:(0,v.jsx)(j.Z,{placeholder:r,id:l,name:c,label:"",onChange:function(e){a(e.target.value)},InputProps:{disableUnderline:!0},className:n.searchField,value:o})})]})})})),S=t(76352),C={time:"Timestamp",api_name:"API Name",bucket:"Bucket",object:"Object",remote_host:"Remote Host",request_id:"Request ID",user_agent:"User Agent",response_status:"Response Status",response_status_code:"Response Status Code",request_content_length:"Request Content Length",response_content_length:"Response Content Length",time_to_response_ns:"Time to Response NS"},y=(0,u.Z)((function(e){return(0,d.Z)((0,i.Z)({buttonContainer:{textAlign:"right"},objectKeyCol:{fontWeight:700,paddingRight:"10px",textAlign:"left"}},h.oO))}))((function(e){var n=e.modalOpen,t=e.logSearchElement,a=e.onClose,o=e.classes,i=Object.keys(t);return(0,v.jsx)(s.Fragment,{children:(0,v.jsx)(S.Z,{modalOpen:n,title:"Full Log Information",onClose:function(){a()},children:(0,v.jsxs)(m.ZP,{container:!0,children:[(0,v.jsx)(m.ZP,{item:!0,xs:12,children:(0,v.jsx)("table",{children:(0,v.jsx)("tbody",{children:i.map((function(e,n){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:o.objectKeyCol,children:c()(C,e,"".concat(e))}),(0,v.jsx)("td",{children:c()(t,e,"")})]},"logSearch-".concat(n.toString()))}))})})}),(0,v.jsx)(m.ZP,{item:!0,xs:12,className:o.buttonContainer,children:(0,v.jsx)(p.Z,{type:"button",variant:"contained",color:"primary",onClick:a,children:"Close"})})]})})})})),_=t(17778),N=t(35721),P=t(25534),k=t(37354),E=t(49495),w=t(15607),A=t(98280),L=t(8235),O=function(e){var n=e.iconComponent,t=e.entity,a=e.documentationLink;return(0,v.jsx)(m.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,v.jsx)(m.ZP,{item:!0,xs:8,children:(0,v.jsx)(L.Z,{title:"".concat(t," not available"),iconComponent:n,help:(0,v.jsxs)(s.Fragment,{children:["This feature is not available.",(0,v.jsx)("br",{}),"Please configure"," ",(0,v.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:t})," ","first to use this feature."]})})})})},I={setErrorSnackMessage:g.Ih},F=(0,r.$j)((function(e){return{features:e.console.session.features}}),I),M=(0,u.Z)((function(e){return(0,d.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({blockCollapsed:{display:"none",overflowY:"hidden"},filterOpen:{display:"block",marginBottom:12},endLineAction:{marginBottom:15,padding:"0 15px 0 15px",display:"flex",alignItems:"center",justifyContent:"flex-end"},filtersContainer:{display:"flex",justifyContent:"space-between",marginBottom:12},innerContainer:{backgroundColor:"#fff"},noticeLabel:{marginLeft:15,marginBottom:15,fontSize:12,color:"#9C9C9C"},tableFOpen:{height:"calc(100vh - 520px)"},tableFClosed:{height:"calc(100vh - 320px)"}},h.VX),h.S),{},{searchOptions:{display:"flex",padding:15,"@media (max-width: 900px)":{flexFlow:"column"}},formBox:{border:"1px solid #EAEAEA",marginBottom:15},dateRangePicker:{"& div":{marginBottom:0}},advancedButton:{display:"flex",alignItems:"center",justifyContent:"flex-start"}},h.o$),(0,h.Bz)(e.spacing(4))))}))(F((function(e){var n=e.classes,t=e.features,i=e.setErrorSnackMessage,r=(0,s.useState)(!0),l=(0,o.Z)(r,2),d=l[0],u=l[1],h=(0,s.useState)(null),g=(0,o.Z)(h,2),j=g[0],S=g[1],L=(0,s.useState)(null),I=(0,o.Z)(L,2),F=I[0],M=I[1],R=(0,s.useState)(!1),q=(0,o.Z)(R,2),B=q[0],T=q[1],z=(0,s.useState)([]),D=(0,o.Z)(z,2),K=D[0],H=D[1],W=(0,s.useState)(""),G=(0,o.Z)(W,2),U=G[0],Y=G[1],$=(0,s.useState)(""),V=(0,o.Z)($,2),Q=V[0],X=V[1],J=(0,s.useState)(""),ee=(0,o.Z)(J,2),ne=ee[0],te=ee[1],ae=(0,s.useState)(""),oe=(0,o.Z)(ae,2),ie=oe[0],se=oe[1],re=(0,s.useState)(""),le=(0,o.Z)(re,2),ce=le[0],de=le[1],ue=(0,s.useState)(""),me=(0,o.Z)(ue,2),pe=me[0],he=me[1],fe=(0,s.useState)("DESC"),ge=(0,o.Z)(fe,2),xe=ge[0],be=ge[1],je=(0,s.useState)(["time","api_name","bucket","object","remote_host","request_id","user_agent","response_status"]),ve=(0,o.Z)(je,2),Ze=ve[0],Se=ve[1],Ce=(0,s.useState)(0),ye=(0,o.Z)(Ce,2),_e=ye[0],Ne=ye[1],Pe=(0,s.useState)(!1),ke=(0,o.Z)(Pe,2),Ee=ke[0],we=ke[1],Ae=(0,s.useState)(!1),Le=(0,o.Z)(Ae,2),Oe=Le[0],Ie=Le[1],Fe=(0,s.useState)(null),Me=(0,o.Z)(Fe,2),Re=Me[0],qe=Me[1],Be=null,Te=t&&t.includes("log-search"),ze=(0,s.useCallback)((function(){if(!Ee&&Te){we(!0);var e="".concat(""!==U?"&fp=bucket:".concat(U):"").concat(""!==ie?"&fp=object:".concat(ie):"").concat(""!==Q?"&fp=api_name:".concat(Q):"").concat(""!==ce?"&fp=request_id:".concat(ce):"").concat(""!==ne?"&fp=user_agent:".concat(ne):"").concat(""!==pe?"&fp=response_status:".concat(pe):"");(e=e.trim()).endsWith(",")&&(e=e.slice(0,-1)),x.Z.invoke("GET","/api/v1/logs/search?q=reqinfo".concat(""!==e?"".concat(e):"","&pageSize=100&pageNo=").concat(_e,"&order=").concat("DESC"===xe?"timeDesc":"timeAsc").concat(null!==j?"&timeStart=".concat(j.toISOString()):"").concat(null!==F?"&timeEnd=".concat(F.toISOString()):"")).then((function(e){var n=e.results||[];u(!1),we(!1),H(n),Ne(_e+1),null!==Be&&Be()})).catch((function(e){u(!1),we(!1),i(e)}))}else u(!1),we(!1)}),[Ee,Te,U,ie,Q,ce,ne,pe,_e,xe,j,F,Be,i]);(0,s.useEffect)((function(){d&&(H([]),ze())}),[d,xe,ze]);return(0,v.jsxs)(s.Fragment,{children:[Oe&&null!==Re&&(0,v.jsx)(y,{logSearchElement:Re,modalOpen:Oe,onClose:function(){qe(null),Ie(!1)}}),(0,v.jsx)(N.Z,{label:"Audit Logs"}),(0,v.jsx)(P.Z,{children:Te?(0,v.jsxs)(s.Fragment,{children:[" ",(0,v.jsxs)(m.ZP,{xs:12,className:n.formBox,children:[(0,v.jsxs)(m.ZP,{item:!0,xs:12,className:"".concat(n.searchOptions),children:[(0,v.jsx)("div",{className:n.dateRangePicker,children:(0,v.jsx)(_.Z,{setTimeEnd:M,setTimeStart:S,timeEnd:F,timeStart:j})}),(0,v.jsx)(m.ZP,{item:!0,className:n.advancedButton,children:(0,v.jsxs)("button",{onClick:function(){T(!B)},className:n.advancedConfiguration,children:[B?"Hide":"Show"," advanced Filters"," ",(0,v.jsx)("span",{className:B?n.advancedOpen:n.advancedClosed,children:(0,v.jsx)(k.Z,{})})]})})]}),(0,v.jsx)(m.ZP,{item:!0,xs:12,className:"".concat(n.blockCollapsed," ").concat(B?n.filterOpen:""),children:(0,v.jsxs)("div",{className:n.innerContainer,children:[(0,v.jsxs)("div",{className:n.noticeLabel,children:["Enable your preferred options to get filtered records.",(0,v.jsx)("br",{}),"You can use '*' to match any character, '.' to signify a single character or '\\' to scape an special character (E.g. mybucket-*)"]}),(0,v.jsxs)("div",{className:n.filtersContainer,children:[(0,v.jsx)(Z,{onChange:Y,value:U,label:"Bucket",id:"bucket",name:"bucket"}),(0,v.jsx)(Z,{onChange:X,value:Q,label:"API Name",id:"api_name",name:"api_name"}),(0,v.jsx)(Z,{onChange:te,value:ne,label:"User Agent",id:"user_agent",name:"user_agent"})]}),(0,v.jsxs)("div",{className:n.filtersContainer,children:[(0,v.jsx)(Z,{onChange:se,value:ie,label:"Object",id:"object",name:"object"}),(0,v.jsx)(Z,{onChange:de,value:ce,label:"Request ID",id:"request_id",name:"request_id"}),(0,v.jsx)(Z,{onChange:he,value:pe,label:"Response Status",id:"response_status",name:"response_status"})]})]})}),(0,v.jsx)(m.ZP,{item:!0,xs:12,className:n.endLineAction,children:(0,v.jsx)(p.Z,{type:"button",variant:"contained",color:"primary",onClick:function(){Ne(0),u(!0)},children:"Get Information"})})]}),(0,v.jsx)(m.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,v.jsx)(w.Z,{scopes:[E.Ft.ADMIN_HEALTH_INFO],resource:E.C3,errorProps:{disabled:!0},children:(0,v.jsx)(b.Z,{columns:[{label:C.time,elementKey:"time",enableSort:!0},{label:C.api_name,elementKey:"api_name"},{label:C.bucket,elementKey:"bucket"},{label:C.object,elementKey:"object"},{label:C.remote_host,elementKey:"remote_host"},{label:C.request_id,elementKey:"request_id"},{label:C.user_agent,elementKey:"user_agent"},{label:C.response_status,elementKey:"response_status",renderFunction:function(e){return(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)("span",{children:[e.response_status_code," (",e.response_status,")"]})})},renderFullObject:!0},{label:C.request_content_length,elementKey:"request_content_length",renderFunction:f.ae},{label:C.response_content_length,elementKey:"response_content_length",renderFunction:f.ae},{label:C.time_to_response_ns,elementKey:"time_to_response_ns",renderFunction:f.Yj,contentTextAlign:"right"}],isLoading:d,records:K,entityName:"Logs",customEmptyMessage:"There is no information with this criteria",idField:"request_id",columnsSelector:!0,columnsShown:Ze,onColumnChange:function(e,n){var t=(0,a.Z)(Ze);n?t.includes(e)||t.push(e):t=Ze.filter((function(n){return n!==e})),Se(t)},customPaperHeight:B?n.tableFOpen:n.tableFClosed,sortConfig:{currentSort:"time",currentDirection:xe,triggerSort:function(e){var n=c()(e,"sortDirection","DESC");be(n),Ne(0),u(!0)}},infiniteScrollConfig:{recordsCount:1e6,loadMoreRecords:function(e){return ze(),new Promise((function(e){Be=e}))}},itemActions:[{type:"view",onClick:function(e){qe(e),Ie(!0)}}],textSelectable:!0})})})]}):(0,v.jsx)(O,{entity:"Audit Logs",iconComponent:(0,v.jsx)(A.W1,{}),documentationLink:"https://github.com/minio/operator/tree/master/logsearchapi"})})]})})))},37354:function(e,n,t){var a=t(64119);n.Z=void 0;var o=a(t(66830)),i=t(62559),s=(0,o.default)((0,i.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");n.Z=s},59443:function(e,n,t){var a=t(64119);n.Z=void 0;var o=a(t(66830)),i=t(62559),s=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"}),"WatchLater");n.Z=s},7887:function(e,n,t){t.d(n,{Z:function(){return f}});var a=t(1048),o=t(32793),i=t(50390),s=t(44977),r=t(50076),l=t(8208),c=t(15573),d=t(10594);function u(e){return(0,d.Z)("MuiDialogActions",e)}(0,t(43349).Z)("MuiDialogActions",["root","spacing"]);var m=t(62559),p=["className","disableSpacing"],h=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,!t.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,o.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),f=i.forwardRef((function(e,n){var t=(0,c.Z)({props:e,name:"MuiDialogActions"}),i=t.className,l=t.disableSpacing,d=void 0!==l&&l,f=(0,a.Z)(t,p),g=(0,o.Z)({},t,{disableSpacing:d}),x=function(e){var n=e.classes,t={root:["root",!e.disableSpacing&&"spacing"]};return(0,r.Z)(t,u,n)}(g);return(0,m.jsx)(h,(0,o.Z)({className:(0,s.Z)(x.root,i),ownerState:g,ref:n},f))}))},65771:function(e,n,t){t.d(n,{Z:function(){return S}});var a=t(36222),o=t(1048),i=t(32793),s=t(50390),r=t(44977),l=t(50076),c=t(91442),d=t(35477),u=t(14478),m=t(23060),p=t(8208),h=t(10594);function f(e){return(0,h.Z)("MuiInputAdornment",e)}var g,x=(0,t(43349).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),b=t(15573),j=t(62559),v=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Z=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["position".concat((0,c.Z)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:n.palette.action.active},"filled"===t.variant&&(0,a.Z)({},"&.".concat(x.positionStart,"&:not(.").concat(x.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),S=s.forwardRef((function(e,n){var t=(0,b.Z)({props:e,name:"MuiInputAdornment"}),a=t.children,p=t.className,h=t.component,x=void 0===h?"div":h,S=t.disablePointerEvents,C=void 0!==S&&S,y=t.disableTypography,_=void 0!==y&&y,N=t.position,P=t.variant,k=(0,o.Z)(t,v),E=(0,m.Z)()||{},w=P;P&&E.variant,E&&!w&&(w=E.variant);var A=(0,i.Z)({},t,{hiddenLabel:E.hiddenLabel,size:E.size,disablePointerEvents:C,position:N,variant:w}),L=function(e){var n=e.classes,t=e.disablePointerEvents,a=e.hiddenLabel,o=e.position,i=e.size,s=e.variant,r={root:["root",t&&"disablePointerEvents",o&&"position".concat((0,c.Z)(o)),s,a&&"hiddenLabel",i&&"size".concat((0,c.Z)(i))]};return(0,l.Z)(r,f,n)}(A);return(0,j.jsx)(u.Z.Provider,{value:null,children:(0,j.jsx)(Z,(0,i.Z)({as:x,ownerState:A,className:(0,r.Z)(L.root,p),ref:n},k,{children:"string"!==typeof a||_?(0,j.jsxs)(s.Fragment,{children:["start"===N?g||(g=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,a]}):(0,j.jsx)(d.Z,{color:"text.secondary",children:a})}))})}))},83738:function(e,n,t){function a(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=8853.55db07fc.chunk.js.map