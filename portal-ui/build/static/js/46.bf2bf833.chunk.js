(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[46,141],{391:function(e,t,a){"use strict";var n=a(2),r=Object(n.createContext)({});t.a=r},392:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a(95),r=a(118);function o(e){return Object(n.a)("MuiDialogTitle",e)}var c=Object(r.a)("MuiDialogTitle",["root"]);t.a=c},394:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a(95),r=a(118);function o(e){return Object(n.a)("MuiDialog",e)}var c=Object(r.a)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);t.a=c},398:function(e,t,a){"use strict";var n,r=a(16),o=a(1),c=a(2),i=a(41),s=a(386),l=a(378),d=a(413),u=a(414),b=a(415),p=a(316),j=a(320),m=a(122),O=a(32),f=a(48),x=a.n(f),h=a(128),v=a.n(h),g=a(127),S=a.n(g),k=a(124),y=a.n(k),C=a(0),M=function(){clearInterval(n)},w={displayErrorMessage:O.g},N=Object(i.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),w)(Object(j.a)((function(e){return Object(p.a)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var t=e.classes,a=e.modalSnackMessage,o=e.displayErrorMessage,i=e.customStyle,s=Object(c.useState)(!1),l=Object(r.a)(s,2),d=l[0],u=l[1],b=Object(c.useState)(!1),p=Object(r.a)(b,2),j=p[0],m=p[1],O=Object(c.useCallback)((function(){m(!1)}),[]);Object(c.useEffect)((function(){j||(o({detailedError:"",errorMessage:""}),u(!1))}),[o,j]),Object(c.useEffect)((function(){""!==a.message&&"error"===a.type&&m(!0)}),[O,a.message,a.type]);var f=x()(a,"message",""),h=x()(a,"detailedErrorMsg","");return"error"!==a.type||""===f?null:Object(C.jsx)(c.Fragment,{children:Object(C.jsxs)("div",{className:"".concat(t.modalErrorContainer," ").concat(j?t.modalErrorShow:""),style:i,onMouseOver:M,onMouseLeave:function(){n=setInterval(O,1e4)},children:[Object(C.jsx)("button",{className:t.closeButton,onClick:O,children:Object(C.jsx)(y.a,{})}),Object(C.jsxs)("div",{className:t.errorTitle,children:[Object(C.jsx)("span",{className:t.messageIcon,children:Object(C.jsx)(S.a,{})}),Object(C.jsx)("span",{className:t.errorLabel,children:f})]}),""!==h&&Object(C.jsxs)(c.Fragment,{children:[Object(C.jsx)("div",{className:t.detailsContainerLink,children:Object(C.jsxs)("button",{className:t.detailsButton,onClick:function(){u(!d)},children:["Details",Object(C.jsx)(v.a,{className:"".concat(t.arrowElement," ").concat(d?t.arrowOpen:"")})]})}),Object(C.jsx)("div",{className:"".concat(t.extraDetailsContainer," ").concat(d?t.extraDetailsOpen:""),children:h})]})]})})}))),W=Object(i.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:O.h});t.a=Object(j.a)((function(e){return Object(p.a)(Object(o.a)(Object(o.a)({},m.h),{},{root:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.z))}))(W((function(e){var t=e.onClose,a=e.modalOpen,n=e.title,i=e.children,p=e.classes,j=e.wideLimit,m=void 0===j||j,O=e.modalSnackMessage,f=e.noContentPadding,x=e.setModalSnackMessage,h=e.titleIcon,v=void 0===h?null:h,g=Object(c.useState)(!1),S=Object(r.a)(g,2),k=S[0],M=S[1];Object(c.useEffect)((function(){x("")}),[x]),Object(c.useEffect)((function(){if(O){if(""===O.message)return void M(!1);"error"!==O.type&&M(!0)}}),[O]);var w=m?{classes:{paper:p.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},W="";return O&&(W=O.detailedErrorMsg,(""===O.detailedErrorMsg||O.detailedErrorMsg.length<5)&&(W=O.message)),Object(C.jsxs)(d.a,Object(o.a)(Object(o.a)({open:a,classes:p},w),{},{scroll:"paper",onClose:function(e,a){"backdropClick"!==a&&t()},className:p.root,children:[Object(C.jsxs)(u.a,{className:p.title,children:[Object(C.jsxs)("div",{className:p.titleText,children:[v," ",n]}),Object(C.jsx)("div",{className:p.closeContainer,children:Object(C.jsx)(s.a,{"aria-label":"close",className:p.closeButton,onClick:t,disableRipple:!0,size:"small",children:Object(C.jsx)(y.a,{})})})]}),Object(C.jsx)(N,{}),Object(C.jsx)(l.a,{open:k,className:p.snackBarModal,onClose:function(){M(!1),x("")},message:W,ContentProps:{className:"".concat(p.snackBar," ").concat(O&&"error"===O.type?p.errorSnackBar:"")},autoHideDuration:O&&"error"===O.type?1e4:5e3}),Object(C.jsx)(b.a,{className:f?"":p.content,children:i})]}))})))},413:function(e,t,a){"use strict";var n=a(5),r=a(4),o=a(3),c=a(2),i=(a(12),a(8)),s=a(117),l=a(312),d=a(11),u=a(379),b=a(368),p=a(28),j=a(387),m=a(14),O=a(9),f=a(394),x=a(391),h=a(382),v=a(0),g=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],S=Object(O.a)(h.a,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),k=Object(O.a)(u.a,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),y=Object(O.a)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var a=e.ownerState;return[t.container,t["scroll".concat(Object(d.a)(a.scroll))]]}})((function(e){var t=e.ownerState;return Object(o.a)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),C=Object(O.a)(j.a,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var a=e.ownerState;return[t.paper,t["scrollPaper".concat(Object(d.a)(a.scroll))],t["paperWidth".concat(Object(d.a)(String(a.maxWidth)))],a.fullWidth&&t.paperFullWidth,a.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,a=e.ownerState;return Object(o.a)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===a.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===a.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!a.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===a.maxWidth&&Object(n.a)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(f.a.paperScrollBody),Object(n.a)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),"xs"!==a.maxWidth&&Object(n.a)({maxWidth:"".concat(t.breakpoints.values[a.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(f.a.paperScrollBody),Object(n.a)({},t.breakpoints.down(t.breakpoints.values[a.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),a.fullWidth&&{width:"calc(100% - 64px)"},a.fullScreen&&Object(n.a)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(f.a.paperScrollBody),{margin:0,maxWidth:"100%"}))})),M={enter:p.b.enteringScreen,exit:p.b.leavingScreen},w=c.forwardRef((function(e,t){var a=Object(m.a)({props:e,name:"MuiDialog"}),n=a["aria-describedby"],u=a["aria-labelledby"],p=a.BackdropComponent,O=a.BackdropProps,h=a.children,w=a.className,N=a.disableEscapeKeyDown,W=void 0!==N&&N,B=a.fullScreen,D=void 0!==B&&B,P=a.fullWidth,E=void 0!==P&&P,T=a.maxWidth,R=void 0===T?"sm":T,F=a.onBackdropClick,I=a.onClose,L=a.open,A=a.PaperComponent,z=void 0===A?j.a:A,K=a.PaperProps,H=void 0===K?{}:K,G=a.scroll,U=void 0===G?"paper":G,X=a.TransitionComponent,Y=void 0===X?b.a:X,J=a.transitionDuration,Z=void 0===J?M:J,q=a.TransitionProps,Q=Object(r.a)(a,g),V=Object(o.a)({},a,{disableEscapeKeyDown:W,fullScreen:D,fullWidth:E,maxWidth:R,scroll:U}),$=function(e){var t=e.classes,a=e.scroll,n=e.maxWidth,r=e.fullWidth,o=e.fullScreen,c={root:["root"],container:["container","scroll".concat(Object(d.a)(a))],paper:["paper","paperScroll".concat(Object(d.a)(a)),"paperWidth".concat(Object(d.a)(String(n))),r&&"paperFullWidth",o&&"paperFullScreen"]};return Object(s.a)(c,f.b,t)}(V),_=c.useRef(),ee=Object(l.a)(u),te=c.useMemo((function(){return{titleId:ee}}),[ee]);return Object(v.jsx)(k,Object(o.a)({className:Object(i.a)($.root,w),BackdropProps:Object(o.a)({transitionDuration:Z,as:p},O),closeAfterTransition:!0,BackdropComponent:S,disableEscapeKeyDown:W,onClose:I,open:L,ref:t,onClick:function(e){_.current&&(_.current=null,F&&F(e),I&&I(e,"backdropClick"))},ownerState:V},Q,{children:Object(v.jsx)(Y,Object(o.a)({appear:!0,in:L,timeout:Z,role:"presentation"},q,{children:Object(v.jsx)(y,{className:Object(i.a)($.container),onMouseDown:function(e){_.current=e.target===e.currentTarget},ownerState:V,children:Object(v.jsx)(C,Object(o.a)({as:z,elevation:24,role:"dialog","aria-describedby":n,"aria-labelledby":ee},H,{className:Object(i.a)($.paper,H.className),ownerState:V,children:Object(v.jsx)(x.a.Provider,{value:te,children:h})}))})}))}))}));t.a=w},414:function(e,t,a){"use strict";var n=a(3),r=a(4),o=a(2),c=(a(12),a(8)),i=a(117),s=a(96),l=a(9),d=a(14),u=a(392),b=a(391),p=a(0),j=["className","id"],m=Object(l.a)(s.a,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),O=o.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiDialogTitle"}),s=a.className,l=a.id,O=Object(r.a)(a,j),f=a,x=function(e){var t=e.classes;return Object(i.a)({root:["root"]},u.b,t)}(f),h=o.useContext(b.a).titleId,v=void 0===h?l:h;return Object(p.jsx)(m,Object(n.a)({component:"h2",className:Object(c.a)(x.root,s),ownerState:f,ref:t,variant:"h6",id:v},O))}));t.a=O},415:function(e,t,a){"use strict";var n=a(5),r=a(4),o=a(3),c=a(2),i=(a(12),a(8)),s=a(117),l=a(9),d=a(14),u=a(95),b=a(118);function p(e){return Object(u.a)("MuiDialogContent",e)}Object(b.a)("MuiDialogContent",["root","dividers"]);var j=a(392),m=a(0),O=["className","dividers"],f=Object(l.a)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dividers&&t.dividers]}})((function(e){var t=e.theme,a=e.ownerState;return Object(o.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}:Object(n.a)({},".".concat(j.a.root," + &"),{paddingTop:0}))})),x=c.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiDialogContent"}),n=a.className,c=a.dividers,l=void 0!==c&&c,u=Object(r.a)(a,O),b=Object(o.a)({},a,{dividers:l}),j=function(e){var t=e.classes,a={root:["root",e.dividers&&"dividers"]};return Object(s.a)(a,p,t)}(b);return Object(m.jsx)(f,Object(o.a)({className:Object(i.a)(j.root,n),ownerState:b,ref:t},u))}));t.a=x},451:function(e,t,a){"use strict";var n=a(1),r=a(2),o=a(441),c=a(316),i=a(320),s=a(122),l=a(0);t.a=Object(i.a)((function(e){return Object(c.a)(Object(n.a)({},s.t))}))((function(e){var t=e.classes,a=e.label,n=void 0===a?"":a,c=e.content,i=e.multiLine,s=void 0!==i&&i;return Object(l.jsx)(r.Fragment,{children:Object(l.jsxs)(o.a,{className:t.prefinedContainer,children:[""!==n&&Object(l.jsx)(o.a,{item:!0,xs:12,className:t.predefinedTitle,children:n}),Object(l.jsx)(o.a,{item:!0,xs:12,className:t.predefinedList,children:Object(l.jsx)(o.a,{item:!0,xs:12,className:s?t.innerContentMultiline:t.innerContent,children:c})})]})})}))},648:function(e,t,a){"use strict";var n=a(13),r=a(16),o=a(1),c=a(2),i=a.n(c),s=a(41),l=a(316),d=a(320),u=a(372),b=a(441),p=a(501),j=a(122),m=a(32),O=a(53),f=a(404),x=a(440),h=a(0),v=Object(s.b)(null,{setModalErrorSnackMessage:m.g});t.a=Object(d.a)((function(e){return Object(l.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:Object(o.a)({},j.B.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},j.v),j.B),j.a),j.w))}))(v((function(e){var t=e.classes,a=e.selectedPolicy,o=void 0===a?[]:a,s=e.setSelectedPolicy,l=e.setModalErrorSnackMessage,d=Object(c.useState)([]),j=Object(r.a)(d,2),m=j[0],v=j[1],g=Object(c.useState)(!1),S=Object(r.a)(g,2),k=S[0],y=S[1],C=Object(c.useState)(""),M=Object(r.a)(C,2),w=M[0],N=M[1],W=Object(c.useCallback)((function(){y(!0),O.a.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var t=null===e.policies?[]:e.policies;y(!1),v(t.sort(p.a))})).catch((function(e){y(!1),l(e)}))}),[l]);Object(c.useEffect)((function(){y(!0)}),[]),Object(c.useEffect)((function(){k&&W()}),[k,W]);var B=m.filter((function(e){return e.name.includes(w)}));return Object(h.jsx)(i.a.Fragment,{children:Object(h.jsxs)(b.a,{item:!0,xs:12,children:[k&&Object(h.jsx)(u.a,{}),m.length>0?Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsxs)(b.a,{item:!0,xs:12,className:t.filterBox,children:[Object(h.jsx)("span",{className:t.fieldLabel,children:"Assign Policies"}),Object(h.jsx)("div",{className:t.searchBox,children:Object(h.jsx)(x.a,{placeholder:"Filter Policy",onChange:function(e){N(e)}})})]}),Object(h.jsx)(b.a,{item:!0,xs:12,className:t.tableBlock,children:Object(h.jsx)(f.a,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var t=e.target,a=t.value,r=t.checked,c=Object(n.a)(o);r?c.push(a):c=c.filter((function(e){return e!==a})),c=c.filter((function(e){return""!==e})),s(c)},selectedItems:o,isLoading:k,records:B,entityName:"Policies",idField:"name",customPaperHeight:t.multiSelectTable})})]}):Object(h.jsx)("div",{className:t.noFound,children:"No Policies Available"})]})})})))},748:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(1),o=a(2),c=a(41),i=a(48),s=a.n(i),l=a(316),d=a(320),u=a(383),b=a(372),p=a(441),j=a(122),m=a(32),O=a(398),f=a(53),x=a(648),h=a(451),v=a(0),g={setModalErrorSnackMessage:m.g},S=Object(c.b)(null,g);t.default=Object(d.a)((function(e){return Object(l.a)(Object(r.a)(Object(r.a)(Object(r.a)({},j.p),j.A),{},{tableBlock:Object(r.a)(Object(r.a)({},j.B.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(S((function(e){var t=e.classes,a=e.closeModalAndRefresh,r=e.selectedUser,c=e.selectedGroup,i=e.setModalErrorSnackMessage,l=e.open,d=Object(o.useState)(!1),j=Object(n.a)(d,2),m=j[0],g=j[1],S=Object(o.useState)([]),k=Object(n.a)(S,2),y=k[0],C=k[1],M=Object(o.useState)([]),w=Object(n.a)(M,2),N=w[0],W=w[1];Object(o.useEffect)((function(){if(l){if(null!==c)return void(c&&f.a.invoke("GET","/api/v1/group?name=".concat(encodeURI(c))).then((function(e){var t=s()(e,"policy","");C(t.split(",")),W(t.split(","))})).catch((function(e){i(e),g(!1)})));var e=s()(r,"policy",[]);C(e),W(e)}}),[l,c,r]);var B=s()(r,"accessKey","");return Object(v.jsxs)(O.a,{onClose:function(){a()},modalOpen:l,title:"Set Policies",children:[Object(v.jsx)(p.a,{item:!0,xs:12,children:Object(v.jsx)(h.a,{label:"Selected ".concat(null!==c?"Group":"User"),content:null!==c?c:B})}),Object(v.jsx)(p.a,{item:!0,xs:12,children:Object(v.jsx)(h.a,{label:"Current Policy",content:y.join(", ")})}),Object(v.jsx)("div",{className:t.tableBlock,children:Object(v.jsx)(x.a,{selectedPolicy:N,setSelectedPolicy:W})}),Object(v.jsxs)(p.a,{item:!0,xs:12,className:t.buttonContainer,children:[Object(v.jsx)(u.a,{type:"button",variant:"outlined",color:"primary",className:t.spacerRight,onClick:function(){W(y)},children:"Reset"}),Object(v.jsx)(u.a,{type:"button",variant:"contained",color:"primary",disabled:m,onClick:function(){var e="user",t=null;null!==c?(e="group",t=c):null!==r&&(t=r.accessKey),g(!0),f.a.invoke("PUT","/api/v1/set-policy",{name:N,entityName:t,entityType:e}).then((function(){g(!1),a()})).catch((function(e){g(!1),i(e)}))},children:"Save"})]}),m&&Object(v.jsx)(p.a,{item:!0,xs:12,children:Object(v.jsx)(b.a,{})})]})})))}}]);
//# sourceMappingURL=46.bf2bf833.chunk.js.map