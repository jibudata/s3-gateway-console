{"version":3,"file":"static/js/977.0d04bcd6.chunk.js","mappings":"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","sources":["screens/Console/Buckets/ListBuckets/AddBucket/AddBucketName.tsx","screens/Console/Buckets/ListBuckets/AddBucket/ValidRule.tsx","screens/Console/Buckets/ListBuckets/AddBucket/InvalidRule.tsx","screens/Console/Buckets/ListBuckets/AddBucket/NARule.tsx","screens/Console/Buckets/ListBuckets/AddBucket/BucketNamingRules.tsx","screens/Console/Buckets/ListBuckets/AddBucket/AddBucket.tsx","screens/Console/Common/FormComponents/CSVMultiSelector/CSVMultiSelector.tsx","screens/Console/Common/FormComponents/InputUnitMenu/InputUnitMenu.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { InputBox } from \"mds\";\nimport { useSelector } from \"react-redux\";\nimport { setIsDirty, setName } from \"./addBucketsSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../store\";\n\nconst AddBucketName = ({ hasErrors }: { hasErrors: boolean }) => {\n  const dispatch = useAppDispatch();\n\n  const bucketName = useSelector((state: AppState) => state.addBucket.name);\n  return (\n    <InputBox\n      id=\"bucket-name\"\n      name=\"bucket-name\"\n      error={hasErrors ? \"Invalid bucket name\" : \"\"}\n      onFocus={() => {\n        dispatch(setIsDirty(true));\n      }}\n      onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n        dispatch(setName(event.target.value));\n      }}\n      label=\"Bucket Name\"\n      value={bucketName}\n      required\n    />\n  );\n};\n\nexport default AddBucketName;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { ConfirmModalIcon } from \"mds\";\n\ninterface IValidRule {\n  ruleText: string;\n}\n\nconst ValidRule = ({ ruleText }: IValidRule) => {\n  return (\n    <Fragment>\n      <Grid container style={{ display: \"flex\", justifyContent: \"flex-start\" }}>\n        <Grid item xs={1} paddingRight={1}>\n          <ConfirmModalIcon\n            width={\"16px\"}\n            height={\"16px\"}\n            style={{ color: \"#18BF42\" }}\n          />\n        </Grid>\n        <Grid\n          item\n          xs={9}\n          paddingLeft={1}\n          style={{\n            color: \"#8f949c\",\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n          }}\n        >\n          {ruleText}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default ValidRule;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { ConfirmDeleteIcon } from \"mds\";\n\ninterface IInvalidRule {\n  ruleText: string;\n}\n\nconst InvalidRule = ({ ruleText }: IInvalidRule) => {\n  return (\n    <Fragment>\n      <Grid\n        container\n        style={{\n          color: \"#C83B51\",\n          display: \"flex\",\n          justifyContent: \"flex-start\",\n        }}\n      >\n        <Grid item xs={1} paddingRight={1}>\n          <ConfirmDeleteIcon width={\"16px\"} height={\"16px\"} />\n        </Grid>\n        <Grid\n          item\n          xs={9}\n          paddingLeft={1}\n          style={{\n            color: \"#C83B51\",\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n          }}\n        >\n          {ruleText}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default InvalidRule;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { CircleIcon } from \"mds\";\n\ninterface INARule {\n  ruleText: string;\n}\n\nconst NARule = ({ ruleText }: INARule) => {\n  return (\n    <Fragment>\n      <Grid container style={{ display: \"flex\", justifyContent: \"flex-start\" }}>\n        <Grid item xs={1} paddingRight={1}>\n          <CircleIcon\n            width={\"12px\"}\n            height={\"12px\"}\n            style={{ color: \"#8f949c\" }}\n          />\n        </Grid>\n        <Grid\n          item\n          xs={9}\n          paddingLeft={1}\n          style={{\n            color: \"#8f949c\",\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n          }}\n        >\n          {ruleText}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default NARule;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { Grid, ExpandOptionsButton, ProgressBar } from \"mds\";\n\nimport { AppState } from \"../../../../../store\";\nimport { useSelector } from \"react-redux\";\nimport ValidRule from \"./ValidRule\";\nimport InvalidRule from \"./InvalidRule\";\nimport NARule from \"./NARule\";\n\nconst BucketNamingRules = ({ errorList }: { errorList: boolean[] }) => {\n  const lengthRuleText =\n    \"Bucket names must be between 3 (min) and 63 (max) characters long.\";\n  const characterRuleText =\n    \"Bucket names can consist only of lowercase letters, numbers, dots (.), and hyphens (-).\";\n  const periodRuleText =\n    \"Bucket names must not contain two adjacent periods, or a period adjacent to a hyphen.\";\n  const ipRuleText =\n    \"Bucket names must not be formatted as an IP address (for example, 192.168.5.4).\";\n  const prefixRuleText = \"Bucket names must not start with the prefix xn--.\";\n  const suffixRuleText =\n    \"Bucket names must not end with the suffix -s3alias. This suffix is reserved for access point alias names.\";\n  const uniqueRuleText = \"Bucket names must be unique within a partition.\";\n\n  const bucketName = useSelector((state: AppState) => state.addBucket.name);\n\n  const [showNamingRules, setShowNamingRules] = useState<boolean>(false);\n\n  const addLoading = useSelector((state: AppState) => state.addBucket.loading);\n\n  const [\n    lengthRule,\n    validCharacters,\n    noAdjacentPeriods,\n    notIPFormat,\n    noPrefix,\n    noSuffix,\n    uniqueName,\n  ] = errorList;\n\n  const toggleNamingRules = () => {\n    setShowNamingRules(!showNamingRules);\n  };\n\n  return (\n    <Fragment>\n      <ExpandOptionsButton\n        id={\"toggle-naming-rules\"}\n        open={showNamingRules}\n        label={`${showNamingRules ? \"Hide\" : \"View\"} Bucket Naming Rules`}\n        onClick={() => {\n          toggleNamingRules();\n        }}\n      />\n      {showNamingRules && (\n        <Grid container sx={{ fontSize: 14, paddingTop: 12 }}>\n          <Grid item xs={6}>\n            {bucketName.length === 0 ? (\n              <NARule ruleText={lengthRuleText} />\n            ) : lengthRule ? (\n              <ValidRule ruleText={lengthRuleText} />\n            ) : (\n              <InvalidRule ruleText={lengthRuleText} />\n            )}\n            {bucketName.length === 0 ? (\n              <NARule ruleText={characterRuleText} />\n            ) : validCharacters ? (\n              <ValidRule ruleText={characterRuleText} />\n            ) : (\n              <InvalidRule ruleText={characterRuleText} />\n            )}\n            {bucketName.length === 0 ? (\n              <NARule ruleText={periodRuleText} />\n            ) : noAdjacentPeriods ? (\n              <ValidRule ruleText={periodRuleText} />\n            ) : (\n              <InvalidRule ruleText={periodRuleText} />\n            )}\n            {bucketName.length === 0 ? (\n              <NARule ruleText={ipRuleText} />\n            ) : notIPFormat ? (\n              <ValidRule ruleText={ipRuleText} />\n            ) : (\n              <InvalidRule ruleText={ipRuleText} />\n            )}\n          </Grid>\n          <Grid item xs={6}>\n            {bucketName.length === 0 ? (\n              <NARule ruleText={prefixRuleText} />\n            ) : noPrefix ? (\n              <ValidRule ruleText={prefixRuleText} />\n            ) : (\n              <InvalidRule ruleText={prefixRuleText} />\n            )}\n\n            {bucketName.length === 0 ? (\n              <NARule ruleText={suffixRuleText} />\n            ) : noSuffix ? (\n              <ValidRule ruleText={suffixRuleText} />\n            ) : (\n              <InvalidRule ruleText={suffixRuleText} />\n            )}\n\n            {bucketName.length === 0 ? (\n              <NARule ruleText={uniqueRuleText} />\n            ) : uniqueName ? (\n              <ValidRule ruleText={uniqueRuleText} />\n            ) : (\n              <InvalidRule ruleText={uniqueRuleText} />\n            )}\n          </Grid>\n        </Grid>\n      )}\n\n      {addLoading && (\n        <Grid item xs={12}>\n          <ProgressBar />\n        </Grid>\n      )}\n    </Fragment>\n  );\n};\n\nexport default BucketNamingRules;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport get from \"lodash/get\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  BackLink,\n  Box,\n  BucketsIcon,\n  Button,\n  FormLayout,\n  Grid,\n  HelpBox,\n  InfoIcon,\n  InputBox,\n  PageLayout,\n  RadioGroup,\n  Switch,\n  SectionTitle,\n  ProgressBar,\n} from \"mds\";\nimport { k8sScalarUnitsExcluding } from \"../../../../../common/utils\";\nimport { AppState, useAppDispatch } from \"../../../../../store\";\nimport { useSelector } from \"react-redux\";\nimport {\n  selDistSet,\n  selSiteRep,\n  setErrorSnackMessage,\n  setHelpName,\n} from \"../../../../../systemSlice\";\nimport InputUnitMenu from \"../../../Common/FormComponents/InputUnitMenu/InputUnitMenu\";\nimport TooltipWrapper from \"../../../Common/TooltipWrapper/TooltipWrapper\";\nimport {\n  resetForm,\n  setEnableObjectLocking,\n  setExcludedPrefixes,\n  setExcludeFolders,\n  setIsDirty,\n  setName,\n  setQuota,\n  setQuotaSize,\n  setQuotaUnit,\n  setRetention,\n  setRetentionMode,\n  setRetentionUnit,\n  setRetentionValidity,\n  setVersioning,\n} from \"./addBucketsSlice\";\nimport { addBucketAsync } from \"./addBucketThunks\";\nimport AddBucketName from \"./AddBucketName\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../common/SecureComponent/permissions\";\nimport { hasPermission } from \"../../../../../common/SecureComponent\";\nimport BucketNamingRules from \"./BucketNamingRules\";\nimport PageHeaderWrapper from \"../../../Common/PageHeaderWrapper/PageHeaderWrapper\";\nimport { api } from \"../../../../../api\";\nimport { ObjectRetentionMode } from \"../../../../../api/consoleApi\";\nimport { errorToHandler } from \"../../../../../api/errors\";\nimport HelpMenu from \"../../../HelpMenu\";\nimport CSVMultiSelector from \"../../../Common/FormComponents/CSVMultiSelector/CSVMultiSelector\";\n\nconst ErrorBox = styled.div(({ theme }) => ({\n  color: get(theme, \"signalColors.danger\", \"#C51B3F\"),\n  border: `1px solid ${get(theme, \"signalColors.danger\", \"#C51B3F\")}`,\n  padding: 8,\n  borderRadius: 3,\n}));\n\nconst AddBucket = () => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const validBucketCharacters = new RegExp(\n    `^[a-z0-9][a-z0-9\\\\.\\\\-]{1,61}[a-z0-9]$`,\n  );\n  const ipAddressFormat = new RegExp(`^(\\\\d+\\\\.){3}\\\\d+$`);\n  const bucketName = useSelector((state: AppState) => state.addBucket.name);\n  const isDirty = useSelector((state: AppState) => state.addBucket.isDirty);\n  const [validationResult, setValidationResult] = useState<boolean[]>([]);\n  const errorList = validationResult.filter((v) => !v);\n  const hasErrors = errorList.length > 0;\n  const [records, setRecords] = useState<string[]>([]);\n  const versioningEnabled = useSelector(\n    (state: AppState) => state.addBucket.versioningEnabled,\n  );\n  const excludeFolders = useSelector(\n    (state: AppState) => state.addBucket.excludeFolders,\n  );\n  const excludedPrefixes = useSelector(\n    (state: AppState) => state.addBucket.excludedPrefixes,\n  );\n  const lockingEnabled = useSelector(\n    (state: AppState) => state.addBucket.lockingEnabled,\n  );\n  const quotaEnabled = useSelector(\n    (state: AppState) => state.addBucket.quotaEnabled,\n  );\n  const quotaSize = useSelector((state: AppState) => state.addBucket.quotaSize);\n  const quotaUnit = useSelector((state: AppState) => state.addBucket.quotaUnit);\n  const retentionEnabled = useSelector(\n    (state: AppState) => state.addBucket.retentionEnabled,\n  );\n  const retentionMode = useSelector(\n    (state: AppState) => state.addBucket.retentionMode,\n  );\n  const retentionUnit = useSelector(\n    (state: AppState) => state.addBucket.retentionUnit,\n  );\n  const retentionValidity = useSelector(\n    (state: AppState) => state.addBucket.retentionValidity,\n  );\n  const addLoading = useSelector((state: AppState) => state.addBucket.loading);\n  const invalidFields = useSelector(\n    (state: AppState) => state.addBucket.invalidFields,\n  );\n  const lockingFieldDisabled = useSelector(\n    (state: AppState) => state.addBucket.lockingFieldDisabled,\n  );\n  const distributedSetup = useSelector(selDistSet);\n  const siteReplicationInfo = useSelector(selSiteRep);\n  const navigateTo = useSelector(\n    (state: AppState) => state.addBucket.navigateTo,\n  );\n\n  const lockingAllowed = hasPermission(\n    \"*\",\n    [\n      IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n      IAM_SCOPES.S3_PUT_BUCKET_OBJECT_LOCK_CONFIGURATION,\n      IAM_SCOPES.S3_PUT_ACTIONS,\n    ],\n    true,\n  );\n\n  const versioningAllowed = hasPermission(\"*\", [\n    IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  useEffect(() => {\n    const bucketNameErrors = [\n      !(isDirty && (bucketName.length < 3 || bucketName.length > 63)),\n      validBucketCharacters.test(bucketName),\n      !(\n        bucketName.includes(\".-\") ||\n        bucketName.includes(\"-.\") ||\n        bucketName.includes(\"..\")\n      ),\n      !ipAddressFormat.test(bucketName),\n      !bucketName.startsWith(\"xn--\"),\n      !bucketName.endsWith(\"-s3alias\"),\n      !records.includes(bucketName),\n    ];\n    setValidationResult(bucketNameErrors);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [bucketName, isDirty]);\n\n  useEffect(() => {\n    dispatch(setName(\"\"));\n    dispatch(setIsDirty(false));\n    const fetchRecords = () => {\n      api.buckets\n        .listBuckets()\n        .then((res) => {\n          if (res.data) {\n            var bucketList: string[] = [];\n            if (res.data.buckets != null && res.data.buckets.length > 0) {\n              res.data.buckets.forEach((bucket) => {\n                bucketList.push(bucket.name);\n              });\n            }\n            setRecords(bucketList);\n          } else if (res.error) {\n            dispatch(setErrorSnackMessage(errorToHandler(res.error)));\n          }\n        })\n        .catch((err) => {\n          dispatch(setErrorSnackMessage(errorToHandler(err)));\n        });\n    };\n    fetchRecords();\n  }, [dispatch]);\n\n  const resForm = () => {\n    dispatch(resetForm());\n  };\n\n  useEffect(() => {\n    if (navigateTo !== \"\") {\n      const goTo = `${navigateTo}`;\n      dispatch(resetForm());\n      navigate(goTo);\n    }\n  }, [navigateTo, navigate, dispatch]);\n\n  useEffect(() => {\n    dispatch(setHelpName(\"add_bucket\"));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Fragment>\n      <PageHeaderWrapper\n        label={\n          <BackLink label={\"Buckets\"} onClick={() => navigate(\"/buckets\")} />\n        }\n        actions={<HelpMenu />}\n      />\n      <PageLayout>\n        <FormLayout\n          title={\"Create Bucket\"}\n          icon={<BucketsIcon />}\n          helpBox={\n            <HelpBox\n              iconComponent={<BucketsIcon />}\n              title={\"Buckets\"}\n              help={\n                <Fragment>\n                  MinIO uses buckets to organize objects. A bucket is similar to\n                  a folder or directory in a filesystem, where each bucket can\n                  hold an arbitrary number of objects.\n                  <br />\n                  <br />\n                  <b>Versioning</b> allows to keep multiple versions of the same\n                  object under the same key.\n                  <br />\n                  <br />\n                  <b>Object Locking</b> prevents objects from being deleted.\n                  Required to support retention and legal hold. Can only be\n                  enabled at bucket creation.\n                  <br />\n                  <br />\n                  <b>Quota</b> limits the amount of data in the bucket.\n                  {lockingAllowed && (\n                    <Fragment>\n                      <br />\n                      <br />\n                      <b>Retention</b> imposes rules to prevent object deletion\n                      for a period of time. Versioning must be enabled in order\n                      to set bucket retention policies.\n                    </Fragment>\n                  )}\n                  <br />\n                  <br />\n                </Fragment>\n              }\n            />\n          }\n        >\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n              e.preventDefault();\n              dispatch(addBucketAsync());\n            }}\n          >\n            <Box>\n              <AddBucketName hasErrors={hasErrors} />\n              <Box sx={{ margin: \"10px 0\" }}>\n                <BucketNamingRules errorList={validationResult} />\n              </Box>\n              <SectionTitle separator>Features</SectionTitle>\n              <Box sx={{ marginTop: 10 }}>\n                {!distributedSetup && (\n                  <Fragment>\n                    <ErrorBox>\n                      These features are unavailable in a single-disk setup.\n                      <br />\n                      Please deploy a server in{\" \"}\n                      <a\n                        href=\"https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-multi-node-multi-drive.html?ref=con\"\n                        target=\"_blank\"\n                        rel=\"noopener\"\n                      >\n                        Distributed Mode\n                      </a>{\" \"}\n                      to use these features.\n                    </ErrorBox>\n                    <br />\n                    <br />\n                  </Fragment>\n                )}\n\n                {siteReplicationInfo.enabled && (\n                  <Fragment>\n                    <br />\n                    <Box\n                      withBorders\n                      sx={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        padding: \"10px\",\n                        \"& > .min-icon \": {\n                          width: 20,\n                          height: 20,\n                          marginRight: 10,\n                        },\n                      }}\n                    >\n                      <InfoIcon /> Versioning setting cannot be changed as\n                      cluster replication is enabled for this site.\n                    </Box>\n                    <br />\n                  </Fragment>\n                )}\n                <Switch\n                  value=\"versioned\"\n                  id=\"versioned\"\n                  name=\"versioned\"\n                  checked={versioningEnabled}\n                  onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                    dispatch(setVersioning(event.target.checked));\n                  }}\n                  label={\"Versioning\"}\n                  disabled={\n                    !distributedSetup ||\n                    lockingEnabled ||\n                    siteReplicationInfo.enabled ||\n                    !versioningAllowed\n                  }\n                  tooltip={\n                    versioningAllowed\n                      ? lockingEnabled && versioningEnabled\n                        ? \"You must disable Locking before Versioning can be disabled\"\n                        : \"\"\n                      : permissionTooltipHelper(\n                          [\n                            IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n                            IAM_SCOPES.S3_PUT_ACTIONS,\n                          ],\n                          \"Versioning\",\n                        )\n                  }\n                />\n                {versioningEnabled && distributedSetup && !lockingEnabled && (\n                  <Fragment>\n                    <Switch\n                      id={\"excludeFolders\"}\n                      label={\"Exclude Folders\"}\n                      checked={excludeFolders}\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                        dispatch(setExcludeFolders(e.target.checked));\n                      }}\n                      indicatorLabels={[\"Enabled\", \"Disabled\"]}\n                    />\n                    <CSVMultiSelector\n                      elements={excludedPrefixes}\n                      label={\"Excluded Prefixes\"}\n                      name={\"excludedPrefixes\"}\n                      onChange={(value: string | string[]) => {\n                        let valCh = \"\";\n\n                        if (Array.isArray(value)) {\n                          valCh = value.join(\",\");\n                        } else {\n                          valCh = value;\n                        }\n                        dispatch(setExcludedPrefixes(valCh));\n                      }}\n                      withBorder={true}\n                    />\n                  </Fragment>\n                )}\n                <Switch\n                  value=\"locking\"\n                  id=\"locking\"\n                  name=\"locking\"\n                  disabled={\n                    lockingFieldDisabled || !distributedSetup || !lockingAllowed\n                  }\n                  checked={lockingEnabled}\n                  onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                    dispatch(setEnableObjectLocking(event.target.checked));\n                    if (event.target.checked && !siteReplicationInfo.enabled) {\n                      dispatch(setVersioning(true));\n                    }\n                  }}\n                  label={\"Object Locking\"}\n                  tooltip={\n                    lockingAllowed\n                      ? `${\n                          versioningEnabled\n                            ? \"Exclude Folders & Exclude Prefixes options will not be available if this option is enabled.\"\n                            : \"\"\n                        }`\n                      : permissionTooltipHelper(\n                          [\n                            IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n                            IAM_SCOPES.S3_PUT_BUCKET_OBJECT_LOCK_CONFIGURATION,\n                            IAM_SCOPES.S3_PUT_ACTIONS,\n                          ],\n                          \"Locking\",\n                        )\n                  }\n                />\n                <Switch\n                  value=\"bucket_quota\"\n                  id=\"bucket_quota\"\n                  name=\"bucket_quota\"\n                  checked={quotaEnabled}\n                  onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                    dispatch(setQuota(event.target.checked));\n                  }}\n                  label={\"Quota\"}\n                  disabled={!distributedSetup}\n                />\n                {quotaEnabled && distributedSetup && (\n                  <Fragment>\n                    <InputBox\n                      type=\"string\"\n                      id=\"quota_size\"\n                      name=\"quota_size\"\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                        dispatch(setQuotaSize(e.target.value));\n                      }}\n                      label=\"Capacity\"\n                      value={quotaSize}\n                      required\n                      min=\"1\"\n                      overlayObject={\n                        <InputUnitMenu\n                          id={\"quota_unit\"}\n                          onUnitChange={(newValue) => {\n                            dispatch(setQuotaUnit(newValue));\n                          }}\n                          unitSelected={quotaUnit}\n                          unitsList={k8sScalarUnitsExcluding([\"Ki\"])}\n                          disabled={false}\n                        />\n                      }\n                      error={\n                        invalidFields.includes(\"quotaSize\")\n                          ? \"Please enter a valid quota\"\n                          : \"\"\n                      }\n                    />\n                  </Fragment>\n                )}\n                {versioningEnabled && distributedSetup && lockingAllowed && (\n                  <Switch\n                    value=\"bucket_retention\"\n                    id=\"bucket_retention\"\n                    name=\"bucket_retention\"\n                    checked={retentionEnabled}\n                    onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                      dispatch(setRetention(event.target.checked));\n                    }}\n                    label={\"Retention\"}\n                  />\n                )}\n                {retentionEnabled && distributedSetup && (\n                  <Fragment>\n                    <RadioGroup\n                      currentValue={retentionMode}\n                      id=\"retention_mode\"\n                      name=\"retention_mode\"\n                      label=\"Mode\"\n                      onChange={(e: React.ChangeEvent<{ value: unknown }>) => {\n                        dispatch(\n                          setRetentionMode(\n                            e.target.value as ObjectRetentionMode,\n                          ),\n                        );\n                      }}\n                      selectorOptions={[\n                        { value: \"compliance\", label: \"Compliance\" },\n                        { value: \"governance\", label: \"Governance\" },\n                      ]}\n                    />\n                    <InputBox\n                      type=\"number\"\n                      id=\"retention_validity\"\n                      name=\"retention_validity\"\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                        dispatch(setRetentionValidity(e.target.valueAsNumber));\n                      }}\n                      label=\"Validity\"\n                      value={String(retentionValidity)}\n                      required\n                      overlayObject={\n                        <InputUnitMenu\n                          id={\"retention_unit\"}\n                          onUnitChange={(newValue) => {\n                            dispatch(setRetentionUnit(newValue));\n                          }}\n                          unitSelected={retentionUnit}\n                          unitsList={[\n                            { value: \"days\", label: \"Days\" },\n                            { value: \"years\", label: \"Years\" },\n                          ]}\n                          disabled={false}\n                        />\n                      }\n                    />\n                  </Fragment>\n                )}\n              </Box>\n            </Box>\n            <Grid\n              item\n              xs={12}\n              sx={{\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                alignItems: \"center\",\n                gap: 10,\n                marginTop: 15,\n              }}\n            >\n              <Button\n                id={\"clear\"}\n                type=\"button\"\n                variant={\"regular\"}\n                className={\"clearButton\"}\n                onClick={resForm}\n                label={\"Clear\"}\n              />\n              <TooltipWrapper\n                tooltip={\n                  invalidFields.length > 0 || !isDirty || hasErrors\n                    ? \"You must apply a valid name to the bucket\"\n                    : \"\"\n                }\n              >\n                <Button\n                  id={\"create-bucket\"}\n                  type=\"submit\"\n                  variant=\"callAction\"\n                  color=\"primary\"\n                  disabled={\n                    addLoading ||\n                    invalidFields.length > 0 ||\n                    !isDirty ||\n                    hasErrors\n                  }\n                  label={\"Create Bucket\"}\n                />\n              </TooltipWrapper>\n            </Grid>\n            {addLoading && (\n              <Grid item xs={12}>\n                <ProgressBar />\n              </Grid>\n            )}\n          </form>\n        </FormLayout>\n      </PageLayout>\n    </Fragment>\n  );\n};\n\nexport default AddBucket;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React, {\n  ChangeEvent,\n  createRef,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  Fragment,\n} from \"react\";\nimport get from \"lodash/get\";\nimport { AddIcon, Box, HelpIcon, InputBox, InputLabel, Tooltip } from \"mds\";\n\ninterface ICSVMultiSelector {\n  elements: string;\n  name: string;\n  label: string;\n  tooltip?: string;\n  commonPlaceholder?: string;\n  withBorder?: boolean;\n  onChange: (elements: string) => void;\n}\n\nconst CSVMultiSelector = ({\n  elements,\n  name,\n  label,\n  tooltip = \"\",\n  commonPlaceholder = \"\",\n  onChange,\n  withBorder = false,\n}: ICSVMultiSelector) => {\n  const [currentElements, setCurrentElements] = useState<string[]>([\"\"]);\n  const bottomList = createRef<HTMLDivElement>();\n\n  // Use effect to get the initial values from props\n  useEffect(() => {\n    if (\n      currentElements.length === 1 &&\n      currentElements[0] === \"\" &&\n      elements &&\n      elements !== \"\"\n    ) {\n      const elementsSplit = elements.split(\",\");\n      elementsSplit.push(\"\");\n\n      setCurrentElements(elementsSplit);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [elements, currentElements]);\n\n  // Use effect to send new values to onChange\n  useEffect(() => {\n    if (currentElements.length > 1) {\n      const refScroll = bottomList.current;\n      if (refScroll) {\n        refScroll.scrollIntoView(false);\n      }\n    }\n  }, [currentElements, bottomList]);\n\n  const onChangeCallback = useCallback(\n    (newString: string) => {\n      onChange(newString);\n    },\n    [onChange],\n  );\n\n  // We avoid multiple re-renders / hang issue typing too fast\n  const firstUpdate = useRef(true);\n  useEffect(() => {\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n    const elementsString = currentElements\n      .filter((element) => element.trim() !== \"\")\n      .join(\",\");\n\n    onChangeCallback(elementsString);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentElements]);\n\n  // If the last input is not empty, we add a new one\n  const addEmptyLine = (elementsUp: string[]) => {\n    if (elementsUp[elementsUp.length - 1].trim() !== \"\") {\n      const cpList = [...elementsUp];\n      cpList.push(\"\");\n      setCurrentElements(cpList);\n    }\n  };\n\n  // Onchange function for input box, we get the dataset-index & only update that value in the array\n  const onChangeElement = (e: ChangeEvent<HTMLInputElement>) => {\n    e.persist();\n\n    let updatedElement = [...currentElements];\n    const index = get(e.target, \"dataset.index\", \"0\");\n    const indexNum = parseInt(index);\n    updatedElement[indexNum] = e.target.value;\n\n    setCurrentElements(updatedElement);\n  };\n\n  const inputs = currentElements.map((element, index) => {\n    return (\n      <InputBox\n        key={`csv-multi-${name}-${index.toString()}`}\n        id={`${name}-${index.toString()}`}\n        label={\"\"}\n        name={`${name}-${index.toString()}`}\n        value={currentElements[index]}\n        onChange={onChangeElement}\n        index={index}\n        placeholder={commonPlaceholder}\n        overlayIcon={index === currentElements.length - 1 ? <AddIcon /> : null}\n        overlayAction={() => {\n          addEmptyLine(currentElements);\n        }}\n      />\n    );\n  });\n\n  return (\n    <Fragment>\n      <Box sx={{ display: \"flex\" }} className={\"inputItem\"}>\n        <InputLabel\n          sx={{\n            alignItems: \"flex-start\",\n          }}\n        >\n          <span>{label}</span>\n          {tooltip !== \"\" && (\n            <Box\n              sx={{\n                marginLeft: 5,\n                display: \"flex\",\n                alignItems: \"center\",\n                \"& .min-icon\": {\n                  width: 13,\n                },\n              }}\n            >\n              <Tooltip tooltip={tooltip} placement=\"top\">\n                <Box className={tooltip}>\n                  <HelpIcon />\n                </Box>\n              </Tooltip>\n            </Box>\n          )}\n        </InputLabel>\n        <Box\n          withBorders={withBorder}\n          sx={{\n            width: \"100%\",\n            overflowY: \"auto\",\n            height: 150,\n            position: \"relative\",\n          }}\n        >\n          {inputs}\n          <div ref={bottomList} />\n        </Box>\n      </Box>\n    </Fragment>\n  );\n};\nexport default CSVMultiSelector;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { selectorTypes } from \"../SelectWrapper/SelectWrapper\";\nimport { Menu, MenuItem } from \"@mui/material\";\n\ninterface IInputUnitBox {\n  classes: any;\n  id: string;\n  unitSelected: string;\n  unitsList: selectorTypes[];\n  disabled?: boolean;\n  onUnitChange?: (newValue: string) => void;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    buttonTrigger: {\n      border: \"#F0F2F2 1px solid\",\n      borderRadius: 3,\n      color: \"#838383\",\n      backgroundColor: \"#fff\",\n      fontSize: 12,\n    },\n  });\n\nconst InputUnitMenu = ({\n  classes,\n  id,\n  unitSelected,\n  unitsList,\n  disabled = false,\n  onUnitChange,\n}: IInputUnitBox) => {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = (newUnit: string) => {\n    setAnchorEl(null);\n    if (newUnit !== \"\" && onUnitChange) {\n      onUnitChange(newUnit);\n    }\n  };\n\n  return (\n    <Fragment>\n      <button\n        id={`${id}-button`}\n        aria-controls={`${id}-menu`}\n        aria-haspopup=\"true\"\n        aria-expanded={open ? \"true\" : undefined}\n        onClick={handleClick}\n        className={classes.buttonTrigger}\n        disabled={disabled}\n        type={\"button\"}\n      >\n        {unitSelected}\n      </button>\n      <Menu\n        id={`${id}-menu`}\n        aria-labelledby={`${id}-button`}\n        anchorEl={anchorEl}\n        open={open}\n        onClose={() => {\n          handleClose(\"\");\n        }}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        {unitsList.map((unit) => (\n          <MenuItem\n            onClick={() => handleClose(unit.value)}\n            key={`itemUnit-${unit.value}-${unit.label}`}\n          >\n            {unit.label}\n          </MenuItem>\n        ))}\n      </Menu>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(InputUnitMenu);\n"],"names":["_ref","hasErrors","dispatch","useAppDispatch","bucketName","useSelector","state","addBucket","name","_jsx","InputBox","id","error","onFocus","setIsDirty","onChange","event","setName","target","value","label","required","ruleText","Fragment","children","_jsxs","Grid","container","style","display","justifyContent","item","xs","paddingRight","ConfirmModalIcon","width","height","color","paddingLeft","ConfirmDeleteIcon","CircleIcon","errorList","lengthRuleText","characterRuleText","periodRuleText","ipRuleText","prefixRuleText","suffixRuleText","uniqueRuleText","_useState","useState","_useState2","_slicedToArray","showNamingRules","setShowNamingRules","addLoading","loading","_errorList","lengthRule","validCharacters","noAdjacentPeriods","notIPFormat","noPrefix","noSuffix","uniqueName","ExpandOptionsButton","open","concat","onClick","sx","fontSize","paddingTop","length","NARule","ValidRule","InvalidRule","ProgressBar","ErrorBox","styled","div","theme","get","border","padding","borderRadius","navigate","useNavigate","validBucketCharacters","RegExp","ipAddressFormat","isDirty","validationResult","setValidationResult","filter","v","_useState3","_useState4","records","setRecords","versioningEnabled","excludeFolders","excludedPrefixes","lockingEnabled","quotaEnabled","quotaSize","quotaUnit","retentionEnabled","retentionMode","retentionUnit","retentionValidity","invalidFields","lockingFieldDisabled","distributedSetup","selDistSet","siteReplicationInfo","selSiteRep","navigateTo","lockingAllowed","hasPermission","IAM_SCOPES","S3_PUT_BUCKET_VERSIONING","S3_PUT_BUCKET_OBJECT_LOCK_CONFIGURATION","S3_PUT_ACTIONS","versioningAllowed","useEffect","bucketNameErrors","test","includes","startsWith","endsWith","api","buckets","listBuckets","then","res","data","bucketList","forEach","bucket","push","setErrorSnackMessage","errorToHandler","catch","err","goTo","resetForm","setHelpName","PageHeaderWrapper","BackLink","actions","HelpMenu","PageLayout","FormLayout","title","icon","BucketsIcon","helpBox","HelpBox","iconComponent","help","noValidate","autoComplete","onSubmit","e","preventDefault","addBucketAsync","Box","AddBucketName","margin","BucketNamingRules","SectionTitle","separator","marginTop","href","rel","enabled","withBorders","alignItems","marginRight","InfoIcon","Switch","checked","setVersioning","disabled","tooltip","permissionTooltipHelper","setExcludeFolders","indicatorLabels","CSVMultiSelector","elements","valCh","Array","isArray","join","setExcludedPrefixes","withBorder","setEnableObjectLocking","setQuota","type","setQuotaSize","min","overlayObject","InputUnitMenu","onUnitChange","newValue","setQuotaUnit","unitSelected","unitsList","k8sScalarUnitsExcluding","setRetention","RadioGroup","currentValue","setRetentionMode","selectorOptions","setRetentionValidity","valueAsNumber","String","setRetentionUnit","gap","Button","variant","className","TooltipWrapper","_ref$tooltip","_ref$commonPlaceholde","commonPlaceholder","_ref$withBorder","currentElements","setCurrentElements","bottomList","createRef","elementsSplit","split","refScroll","current","scrollIntoView","onChangeCallback","useCallback","newString","firstUpdate","useRef","elementsString","element","trim","onChangeElement","persist","updatedElement","_toConsumableArray","index","parseInt","inputs","map","toString","placeholder","overlayIcon","AddIcon","overlayAction","elementsUp","cpList","addEmptyLine","InputLabel","marginLeft","Tooltip","placement","HelpIcon","overflowY","position","ref","withStyles","createStyles","buttonTrigger","backgroundColor","classes","_ref$disabled","_React$useState","React","_React$useState2","anchorEl","setAnchorEl","Boolean","handleClose","newUnit","undefined","currentTarget","Menu","onClose","anchorOrigin","vertical","horizontal","transformOrigin","unit","MenuItem"],"sourceRoot":""}