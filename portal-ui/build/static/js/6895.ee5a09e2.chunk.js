"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6895],{66895:function(e,n,t){t.r(n);var a=t(29439),r=t(1413),i=t(72791),o=t(16871),l=t(43504),s=t(60364),c=t(11135),u=t(25787),d=t(61889),f=t(81207),b=t(23814),h=t(32291),p=t(14917),m=t(20068),x=t(13400),v=t(64554),T=t(28789),Z=t(56087),C=t(74794),j=t(14662),E=t(84669),g=t(38442),_=t(75578),F=t(40603),y=t(23742),P=t(87995),I=t(9859),N=t(81551),A=t(80184),S=i.lazy((function(){return Promise.resolve().then(t.bind(t,37746))})),k=i.lazy((function(){return Promise.resolve().then(t.bind(t,56673))})),w=(0,_.Z)(i.lazy((function(){return t.e(9968).then(t.bind(t,39968))}))),R=(0,_.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(2180)]).then(t.bind(t,47494))}))),B=(0,_.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(8253)]).then(t.bind(t,84738))}))),U=(0,_.Z)(i.lazy((function(){return t.e(3328).then(t.bind(t,63328))}))),M=(0,_.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(1440)]).then(t.bind(t,25702))}))),O=(0,_.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(9179)]).then(t.bind(t,32512))}))),L=(0,_.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(6484),t.e(2983),t.e(51)]).then(t.bind(t,51))})));n.default=(0,u.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({pageContainer:{height:"100%"},screenTitle:{border:0,paddingTop:0}},b.Bw),b.qg),{},{capitalize:{textTransform:"capitalize"}},b.bp),b.Si),(0,b.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,N.TL)(),r=(0,o.s0)(),c=(0,o.UO)(),u=(0,s.v9)(P.N5),b=(0,s.v9)(I.HQ),_=(0,s.v9)(I.G6),z=(0,s.v9)(P.gw),G=(0,i.useState)(!1),D=(0,a.Z)(G,2),W=D[0],H=D[1],K=(0,i.useState)(!1),Y=(0,a.Z)(K,2),q=Y[0],J=Y[1],Q=c.bucketName||"",V=c[0]||"";V=V||"summary";var X=(0,i.useState)(V),$=(0,a.Z)(X,2),ee=$[0],ne=$[1];(0,i.useEffect)((function(){ne(V)}),[V]),(0,i.useEffect)((function(){W||(t((0,I.d5)(!0)),H(!0))}),[W,t,H]),(0,i.useEffect)((function(){b&&f.Z.invoke("GET","/api/v1/buckets/".concat(Q)).then((function(e){t((0,I.d5)(!1)),t((0,I.f4)(e))})).catch((function(e){t((0,I.d5)(!1)),t((0,P.Ih)(e))}))}),[Q,b,t]);var te="/buckets/".concat(Q),ae={events:"/admin/events",replication:"/admin/replication",lifecycle:"/admin/lifecycle",access:"/admin/access",prefix:"/admin/prefix"},re=function(e){var n=ae[e];return n=n?"".concat(te).concat(n):"".concat(te).concat("/admin/summary")};return(0,A.jsxs)(i.Fragment,{children:[q&&(0,A.jsx)(w,{deleteOpen:q,selectedBucket:Q,closeDeleteModalAndRefresh:function(e){!function(e){J(!1),e&&r("/buckets")}(e)}}),(0,A.jsx)(h.Z,{label:(0,A.jsx)(E.Z,{to:"/buckets",label:"Buckets"}),actions:(0,A.jsx)(i.Fragment,{children:(0,A.jsx)(m.Z,{title:"Browse Bucket",children:(0,A.jsx)(x.Z,{color:"primary","aria-label":"Browse Bucket",component:"span",onClick:function(){r("/buckets/".concat(Q,"/browse"))},size:"large",children:(0,A.jsx)(k,{})})})})}),(0,A.jsxs)(C.Z,{className:n.pageContainer,children:[(0,A.jsx)(d.ZP,{item:!0,xs:12,children:(0,A.jsx)(p.Z,{classes:{screenTitle:n.screenTitle},icon:(0,A.jsx)(i.Fragment,{children:(0,A.jsx)(S,{width:40})}),title:Q,subTitle:(0,A.jsxs)(g.s,{scopes:[Z.Ft.S3_GET_BUCKET_POLICY],resource:Q,children:[(0,A.jsx)("span",{style:{fontSize:15},children:"Access: "}),(0,A.jsx)("span",{className:n.capitalize,style:{fontWeight:600,fontSize:15},children:null===_||void 0===_?void 0:_.access.toLowerCase()})]}),actions:(0,A.jsxs)(i.Fragment,{children:[(0,A.jsx)(g.s,{scopes:[Z.Ft.S3_DELETE_BUCKET,Z.Ft.S3_FORCE_DELETE_BUCKET],resource:Q,errorProps:{disabled:!0},children:(0,A.jsx)(F.Z,{tooltip:"Delete Bucket",onClick:function(){J(!0)},text:"Delete Bucket",icon:(0,A.jsx)(y.XHJ,{}),color:"secondary",variant:"outlined"})}),(0,A.jsx)(F.Z,{onClick:function(){t((0,I.d5)(!0))},text:"Refresh",icon:(0,A.jsx)(T.default,{}),color:"primary"})]})})}),(0,A.jsx)(v.Z,{sx:{border:"1px solid #eaeaea"},children:(0,A.jsxs)(j.Z,{selectedTab:ee,isRouteTabs:!0,routes:(0,A.jsx)("div",{className:n.contentSpacer,children:(0,A.jsxs)(o.Z5,{children:[(0,A.jsx)(o.AW,{path:"summary",element:(0,A.jsx)(U,{})}),(0,A.jsx)(o.AW,{path:"events",element:(0,A.jsx)(M,{})}),u&&(0,A.jsx)(o.AW,{path:"replication",element:(0,A.jsx)(O,{})}),u&&(0,A.jsx)(o.AW,{path:"lifecycle",element:(0,A.jsx)(L,{})}),(0,A.jsx)(o.AW,{path:"access",element:(0,A.jsx)(B,{})}),(0,A.jsx)(o.AW,{path:"prefix",element:(0,A.jsx)(R,{})}),(0,A.jsx)(o.AW,{path:"*",element:(0,A.jsx)(o.Fg,{to:"/buckets/".concat(Q,"/admin/summary")})})]})}),children:[{tabConfig:{label:"Summary",value:"summary",component:l.rU,to:re("summary")}},{tabConfig:{label:"Events",value:"events",component:l.rU,disabled:!(0,g.F)(Q,[Z.Ft.S3_GET_BUCKET_NOTIFICATIONS,Z.Ft.S3_PUT_BUCKET_NOTIFICATIONS]),to:re("events")}},{tabConfig:{label:"Replication",value:"replication",component:l.rU,disabled:!u||z.enabled&&z.curSite||!(0,g.F)(Q,[Z.Ft.S3_GET_REPLICATION_CONFIGURATION,Z.Ft.S3_PUT_REPLICATION_CONFIGURATION]),to:re("replication")}},{tabConfig:{label:"Lifecycle",value:"lifecycle",component:l.rU,disabled:!u||!(0,g.F)(Q,[Z.Ft.S3_GET_LIFECYCLE_CONFIGURATION,Z.Ft.S3_PUT_LIFECYCLE_CONFIGURATION]),to:re("lifecycle")}},{tabConfig:{label:"Access Audit",value:"access",component:l.rU,disabled:!(0,g.F)(Q,[Z.Ft.ADMIN_GET_POLICY,Z.Ft.ADMIN_LIST_USER_POLICIES,Z.Ft.ADMIN_LIST_USERS]),to:re("access")}},{tabConfig:{label:"Access Rules",value:"prefix",component:l.rU,disabled:!(0,g.F)(Q,[Z.Ft.S3_GET_BUCKET_POLICY]),to:re("prefix")}}]})})]})]})}))},75578:function(e,n,t){var a=t(1413),r=t(72791),i=t(80184);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function t(t){return(0,i.jsx)(r.Suspense,{fallback:n,children:(0,i.jsx)(e,(0,a.Z)({},t))})}return t}},14662:function(e,n,t){t.d(n,{Z:function(){return k}});var a=t(1413),r=t(29439),i=t(72791),o=t(64554),l=t(43896),s=t(80184),c=i.createContext(null);function u(e){var n=e.children,t=e.value,a=function(){var e=i.useState(null),n=(0,r.Z)(e,2),t=n[0],a=n[1];return i.useEffect((function(){a("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),o=i.useMemo((function(){return{idPrefix:a,value:t}}),[a,t]);return(0,s.jsx)(c.Provider,{value:o,children:n})}function d(){return i.useContext(c)}function f(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function b(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}var h=t(87462),p=t(63366),m=t(18073),x=["children"],v=i.forwardRef((function(e,n){var t=e.children,a=(0,p.Z)(e,x),r=d();if(null===r)throw new TypeError("No TabContext provided");var o=i.Children.map(t,(function(e){return i.isValidElement(e)?i.cloneElement(e,{"aria-controls":f(r,e.props.value),id:b(r,e.props.value)}):null}));return(0,s.jsx)(m.Z,(0,h.Z)({},a,{ref:n,value:r.value,children:o}))})),T=t(28182),Z=t(66934),C=t(31402),j=t(94419),E=t(21217);function g(e){return(0,E.Z)("MuiTabPanel",e)}(0,t(75878).Z)("MuiTabPanel",["root"]);var _=["children","className","value"],F=(0,Z.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),y=i.forwardRef((function(e,n){var t=(0,C.Z)({props:e,name:"MuiTabPanel"}),a=t.children,r=t.className,i=t.value,o=(0,p.Z)(t,_),l=(0,h.Z)({},t),c=function(e){var n=e.classes;return(0,j.Z)({root:["root"]},g,n)}(l),u=d();if(null===u)throw new TypeError("No TabContext provided");var m=f(u,i),x=b(u,i);return(0,s.jsx)(F,(0,h.Z)({"aria-labelledby":x,className:(0,T.Z)(c.root,r),hidden:i!==u.value,id:m,ref:n,role:"tabpanel",ownerState:l},o,{children:i===u.value&&a}))})),P=t(25787),I=t(13967),N=t(11135),A=t(95193),S={minHeight:60},k=(0,P.Z)((function(e){return(0,N.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,c=e.selectedTab,d=void 0===c?"0":c,f=e.routes,b=e.isRouteTabs,h=i.useState(d),p=(0,r.Z)(h,2),m=p[0],x=p[1],T=(0,I.Z)(),Z=(0,A.Z)(T.breakpoints.down("md")),C=[],j=[];return n?(n.forEach((function(e){C.push(e.tabConfig),j.push(e.content)})),(0,s.jsx)(u,{value:"".concat(m),children:(0,s.jsxs)(o.Z,{className:t.tabsContainer,children:[(0,s.jsx)(o.Z,{className:t.tabsHeaderContainer,children:(0,s.jsx)(v,{onChange:function(e,n){x(n)},orientation:Z?"horizontal":"vertical",variant:Z?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:C.map((function(e,n){return e?(0,s.jsx)(l.Z,(0,a.Z)((0,a.Z)({className:t.tabHeader,value:"".concat(n),style:S},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,s.jsxs)(o.Z,{className:t.tabContentContainer,children:[b?null:j.map((function(e,n){return(0,s.jsx)(y,{classes:(0,a.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),b?(0,s.jsx)("div",{className:t.tabPanel,children:f}):null]})]})})):null}))}}]);
//# sourceMappingURL=6895.ee5a09e2.chunk.js.map