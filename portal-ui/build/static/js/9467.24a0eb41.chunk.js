"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9467],{89467:function(e,n,t){t.r(n),t.d(n,{default:function(){return ne}});var a=t(42982),i=t(70885),s=t(1413),r=t(72791),o=t(60364),c=t(11135),l=t(25787),u=t(40986),d=t(61889),h=t(74833),m=t(42649),x=t(23814),f=t(81207),p=t(32291),g=t(26181),Z=t.n(g),j=t(20890),v=t(64554),b=t(45248),k=t(34866),y=t(91523),C=t(56087),S=t(38442),N=t(40603),P=t(28182),w=t(80184),_=(0,l.Z)((function(e){return(0,c.Z)({root:{marginBottom:30,padding:20,color:e.palette.primary.main,border:"#E5E5E5 1px solid",borderRadius:2,"& .min-icon":{height:14,width:14,marginRight:4},"& .MuiTypography-body2":{fontSize:14},"& .MuiCardHeader-content":{wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-all",font:"normal normal bold 24px/27px Lato",color:e.palette.primary.main,"& .MuiTypography-root":{fontSize:19,fontWeight:"bold","& .min-icon":{position:"relative",top:4,marginRight:4,height:"24px !important"}}},"& .MuiCardHeader-root":{background:"transparent linear-gradient(0deg, #EEF1F44E 0%, #FFFFFF 100%) 0% 0% no-repeat padding-box"}},checkBoxElement:{width:32,height:32,float:"left",overflow:"hidden","& div":{position:"absolute"}},viewButton:{width:111,color:"white",marginLeft:8,fontSize:12,fontWeight:"normal",boxShadow:"unset",borderRadius:4},manageButton:{borderRadius:4,width:111,color:e.palette.grey[700],textTransform:"unset",fontSize:12,fontWeight:"normal","& .MuiButton-endIcon":{"& .min-icon":{fontSize:18}}},metric:{"& .min-icon":{color:"#000000",width:13,marginRight:5}},metricLabel:{fontSize:14,fontWeight:"bold",color:"#000000"},metricText:{fontSize:24,fontWeight:"bold"},unit:{fontSize:12,fontWeight:"normal"},bucketName:{padding:0,margin:0,fontSize:22},bucketIcon:{"& .min-icon":{height:48,width:48}},bucketInfo:{display:"flex","@media (max-width: 900px)":{flexFlow:"column-reverse"}},bucketStats:{marginTop:15,borderTop:"1px solid rgb(234,234,234, .7)",paddingTop:14},bucketActionButtons:{display:"flex",alignItems:"center",justifyContent:"flex-end","@media (max-width: 900px)":{marginTop:"-33px"}}})}))((function(e){var n=e.classes,t=e.bucket,a=e.onSelect,i=e.selected,s=e.bulkSelect,o=(0,b.ae)("".concat(t.size)||"0"),c=o.split(" ")[0],l=o.split(" ")[1],u=Z()(t,"details.quota.quota","0"),m=(0,b.Am)(u);return(0,w.jsxs)(d.ZP,{container:!0,className:(0,P.Z)(n.root,"bucket-item"),children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsxs)(d.ZP,{container:!0,justifyContent:"space-between",children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,sm:7,children:(0,w.jsxs)(d.ZP,{container:!0,children:[(0,w.jsxs)(d.ZP,{item:!0,xs:12,children:[s&&(0,w.jsx)("div",{className:n.checkBoxElement,onClick:function(e){e.stopPropagation()},children:(0,w.jsx)(k.Z,{checked:i,id:"select-".concat(t.name),label:"",name:"select-".concat(t.name),onChange:function(e){a(e)},value:t.name})}),(0,w.jsx)("h1",{className:n.bucketName,children:t.name})]}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsxs)(d.ZP,{container:!0,className:n.bucketInfo,children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,sm:!0,children:(0,w.jsxs)(j.Z,{variant:"body2",children:["Created: ",t.creation_date]})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,sm:!0,children:(0,w.jsxs)(j.Z,{variant:"body2",children:["Access: ",function(e){var n,t,a,i,s,r;return null===(n=e.rw_access)||void 0===n||!n.read||null!==(t=e.rw_access)&&void 0!==t&&t.write?null!==(a=e.rw_access)&&void 0!==a&&a.read||null===(i=e.rw_access)||void 0===i||!i.write?null!==(s=e.rw_access)&&void 0!==s&&s.read&&null!==(r=e.rw_access)&&void 0!==r&&r.write?"R/W":"":"W":"R"}(t)]})})]})})]})}),(0,w.jsxs)(d.ZP,{item:!0,xs:12,sm:5,className:n.bucketActionButtons,children:[(0,w.jsx)(S.s,{scopes:C.D[C.EI.BUCKET_ADMIN],resource:t.name,children:(0,w.jsx)(y.rU,{to:"/buckets/".concat(t.name,"/admin"),style:{textDecoration:"none"},children:(0,w.jsx)(N.Z,{tooltip:"Manage",onClick:function(){},text:"Manage",icon:(0,w.jsx)(h.ew,{}),color:"primary",variant:"outlined"})})}),(0,w.jsx)(y.rU,{to:"/buckets/".concat(t.name,"/browse"),style:{textDecoration:"none"},children:(0,w.jsx)(N.Z,{tooltip:"Browse",onClick:function(){},text:"Browse",icon:(0,w.jsx)(h.LZ,{}),color:"primary",variant:"contained"})}),(0,w.jsx)(v.Z,{display:{xs:"none",sm:"block"},children:(0,w.jsx)("div",{style:{marginBottom:10}})})]})]})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,className:n.bucketStats,children:(0,w.jsxs)(d.ZP,{container:!0,justifyContent:"flex-start",spacing:4,children:[(0,w.jsx)(d.ZP,{item:!0,className:n.bucketIcon,children:(0,w.jsx)(h.wN,{})}),(0,w.jsxs)(d.ZP,{item:!0,textAlign:"left",className:n.metric,children:[(0,w.jsx)(h.rH,{}),(0,w.jsx)("span",{className:n.metricLabel,children:"Usage"}),(0,w.jsxs)("div",{className:n.metricText,children:[c,(0,w.jsx)("span",{className:n.unit,children:l}),"0"!==u&&(0,w.jsxs)(r.Fragment,{children:[" ","/ ",m.total,(0,w.jsx)("span",{className:n.unit,children:m.unit})]})]})]}),(0,w.jsxs)(d.ZP,{item:!0,textAlign:"left",className:n.metric,children:[(0,w.jsx)(h.xp,{}),(0,w.jsx)("span",{className:n.metricLabel,children:"Objects"}),(0,w.jsx)("div",{className:n.metricText,children:t.objects?(0,b.CE)(t.objects):0})]})]})})]})})),R=t(20068),B=t(15146),T=t(98946),I=t(21435),F=t(56028),E=t(64163),M=t(28371),L=t(37516),A=t(90673),z=t(56578),D=(0,o.$j)(null,{setModalErrorSnackMessage:m.zb}),K=(0,l.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)({remoteBucketList:{display:"grid",gridTemplateColumns:"auto auto 45px",alignItems:"center",justifyContent:"stretch"},errorIcon:{color:"#C72C48"},successIcon:{color:"#42C91A"},hide:{opacity:0,transitionDuration:"0.3s"}},x.oO),x.AK))}))(D((function(e){var n=e.open,t=e.closeModalAndRefresh,s=e.classes,o=e.buckets,c=e.setModalErrorSnackMessage,l=(0,r.useState)([]),u=(0,i.Z)(l,2),h=u[0],m=u[1],x=(0,r.useState)(!1),p=(0,i.Z)(x,2),g=p[0],j=p[1],v=(0,r.useState)(!1),k=(0,i.Z)(v,2),y=k[0],C=k[1],S=(0,r.useState)(""),N=(0,i.Z)(S,2),P=N[0],_=N[1],D=(0,r.useState)(""),K=(0,i.Z)(D,2),U=K[0],W=K[1],O=(0,r.useState)(""),q=(0,i.Z)(O,2),G=q[0],H=q[1],Q=(0,r.useState)(""),V=(0,i.Z)(Q,2),Y=V[0],$=V[1],J=(0,r.useState)(!0),X=(0,i.Z)(J,2),ee=X[0],ne=X[1],te=(0,r.useState)("async"),ae=(0,i.Z)(te,2),ie=ae[0],se=ae[1],re=(0,r.useState)("100"),oe=(0,i.Z)(re,2),ce=oe[0],le=oe[1],ue=(0,r.useState)("Gi"),de=(0,i.Z)(ue,2),he=de[0],me=de[1],xe=(0,r.useState)("60"),fe=(0,i.Z)(xe,2),pe=fe[0],ge=fe[1],Ze=(0,r.useState)([]),je=(0,i.Z)(Ze,2),ve=je[0],be=je[1],ke=(0,r.useState)([]),ye=(0,i.Z)(ke,2),Ce=ye[0],Se=ye[1],Ne=(0,r.useState)([]),Pe=(0,i.Z)(Ne,2),we=Pe[0],_e=Pe[1],Re=Ce.map((function(e){return{label:e,value:e}}));(0,r.useEffect)((function(){if(0===ve.length){var e=[],n=[];o.forEach((function(t){e.push(t),n.push("")})),be(n),m(e)}}),[o,ve.length]);var Be=function(e){var n=e.errString;switch(n){case"":return(0,w.jsx)("div",{className:s.successIcon,children:(0,w.jsx)(T.Z,{})});case"n/a":return null;default:if(n)return(0,w.jsx)("div",{className:s.errorIcon,children:(0,w.jsx)(R.Z,{title:n,placement:"top-start",children:(0,w.jsx)(B.Z,{})})})}return null},Te=function(e,n){var t=(0,a.Z)(ve);t[e]=n,be(t)},Ie=function(e){var n=(0,a.Z)(h),t=(0,a.Z)(ve);e.forEach((function(e){var a=Z()(e,"errorString","");if(!a||""===a){var i=n.indexOf(e.originBucket);n.splice(i,1),t.splice(i,1)}})),m(n),be(t)};return(0,w.jsx)(F.Z,{modalOpen:n,onClose:function(){t(!1)},title:"Set Multiple Bucket Replication",children:(0,w.jsx)(M.Z,{loadingStep:g||y,wizardSteps:[{label:"Remote Configuration",componentRender:(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(E.Z,{label:"Local Buckets to replicate",content:h.join(", ")})}),(0,w.jsx)("h4",{children:"Remote Endpoint Configuration"}),(0,w.jsx)("span",{className:s.descriptionText,children:"Please avoid the use of root credentials for this feature"}),(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(I.Z,{id:"accessKey",name:"accessKey",onChange:function(e){_(e.target.value)},label:"Access Key",value:P})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(I.Z,{id:"secretKey",name:"secretKey",onChange:function(e){W(e.target.value)},label:"Secret Key",value:U})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(I.Z,{id:"targetURL",name:"targetURL",onChange:function(e){H(e.target.value)},placeholder:"play.min.io:9000",label:"Target URL",value:G})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(L.Z,{checked:ee,id:"useTLS",name:"useTLS",label:"Use TLS",onChange:function(e){ne(e.target.checked)},value:"yes"})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(I.Z,{id:"region",name:"region",onChange:function(e){$(e.target.value)},label:"Region",value:Y})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(A.Z,{id:"replication_mode",name:"replication_mode",onChange:function(e){se(e.target.value)},label:"Replication Mode",value:ie,options:[{label:"Asynchronous",value:"async"},{label:"Synchronous",value:"sync"}]})}),"async"===ie&&(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(I.Z,{type:"number",id:"bandwidth_scalar",name:"bandwidth_scalar",onChange:function(e){e.target.validity.valid&&le(e.target.value)},label:"Bandwidth",value:ce,min:"0",pattern:"[0-9]*",overlayObject:(0,w.jsx)(z.Z,{id:"quota_unit",onUnitChange:function(e){me(e)},unitSelected:he,unitsList:(0,b.zQ)(["Ki"]),disabled:!1})})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(I.Z,{id:"healthCheck",name:"healthCheck",onChange:function(e){ge(e.target.value)},label:"Health Check Duration",value:pe})})]}),buttons:[{type:"custom",label:"Next",enabled:!y,action:function(e){var n={accessKey:P,secretKey:U,targetURL:G,useTLS:ee};C(!0),f.Z.invoke("POST","/api/v1/list-external-buckets",n).then((function(n){var t=Z()(n,"buckets",[]);if(t&&t.length>0){var a=t.map((function(e){return e.name}));Se(a)}e("++"),C(!1)})).catch((function(e){C(!1),c(e)}))}}]},{label:"Bucket Assignments",componentRender:(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)("h3",{children:"Remote Bucket Assignments"}),(0,w.jsx)("span",{className:s.descriptionText,children:"Please select / type the desired remote bucket were you want the local data to be replicated."}),(0,w.jsx)("div",{className:s.remoteBucketList,children:h.map((function(e,n){var t,a=function(e){if(we.length>0){var n=we.find((function(n){return n.originBucket===e}));if(n)return Z()(n,"errorString","")||""}return"n/a"}(e);return(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)("div",{className:""===a?s.hide:"",children:e}),(0,w.jsx)("div",{className:""===a?s.hide:"",children:(t=n,Ce.length>0?(0,w.jsx)(r.Fragment,{children:(0,w.jsx)(A.Z,{label:"",id:"assign-bucket-".concat(t),name:"assign-bucket-".concat(t),value:ve[t],onChange:function(e){Te(t,e.target.value)},options:Re,disabled:g})}):(0,w.jsx)(r.Fragment,{children:(0,w.jsx)(I.Z,{id:"assign-bucket-".concat(t),name:"assign-bucket-".concat(t),label:"",onChange:function(e){Te(t,e.target.value)},value:ve[t],disabled:g})}))}),(0,w.jsx)("div",{className:""===a?s.hide:"",children:we.length>0&&(0,w.jsx)(Be,{errString:a})})]},"buckets-assignation-".concat(n.toString(),"-").concat(e))}))})]}),buttons:[{type:"back",label:"Back",enabled:!0},{type:"next",label:"Create",enabled:!g,action:function(){j(!0);var e=h.map((function(e,n){return{originBucket:e,destinationBucket:ve[n]}})),n="".concat(ee?"https://":"http://").concat(G),a=parseInt(pe),i={accessKey:P,secretKey:U,targetURL:n,region:Y,bucketsRelation:e,syncMode:ie,bandwidth:"async"===ie?parseInt((0,b.Pw)(ce,he,!0)):0,healthCheckPeriod:a};f.Z.invoke("POST","/api/v1/buckets-replication",i).then((function(e){j(!1);var n=e.replicationState;_e(n),0===n.filter((function(e){return e.errorString&&""!==e.errorString})).length?t(!0):setTimeout((function(){Ie(n)}),500)})).catch((function(e){j(!1),c(e)}))}}]}],forModal:!0})})}))),U=t(23804),W=t(28789),O=t(81806),q=t(49818),G=t(2289),H=t(74794),Q=t(59114),V=t(98994),Y=t(83679),$=t(17420),J=(0,o.$j)(null,{setModalErrorSnackMessage:m.zb}),X=(0,l.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({resultGrid:{display:"grid",gridTemplateColumns:"45px auto",alignItems:"center",justifyContent:"stretch"},errorIcon:{paddingTop:5,color:"#C72C48"},successIcon:{paddingTop:5,color:"#42C91A"},hide:{opacity:0,transitionDuration:"0.3s"}},x.bK),x.ID),x.DF),x.QV))}))(J((function(e){var n=e.open,t=e.closeModalAndRefresh,a=e.classes,o=e.buckets,c=e.setModalErrorSnackMessage,l=(0,r.useState)(!1),u=(0,i.Z)(l,2),h=u[0],m=u[1],x=(0,r.useState)(!0),p=(0,i.Z)(x,2),g=p[0],j=p[1],v=(0,r.useState)([]),b=(0,i.Z)(v,2),k=b[0],y=b[1],C=(0,r.useState)(""),S=(0,i.Z)(C,2),N=S[0],P=S[1],_=(0,r.useState)(""),z=(0,i.Z)(_,2),D=z[0],K=z[1],U=(0,r.useState)(""),W=(0,i.Z)(U,2),O=W[0],q=W[1],G=(0,r.useState)(""),H=(0,i.Z)(G,2),Q=H[0],V=H[1],J=(0,r.useState)(!1),X=(0,i.Z)(J,2),ee=X[0],ne=X[1],te=(0,r.useState)("0"),ae=(0,i.Z)(te,2),ie=ae[0],se=ae[1],re=(0,r.useState)("0"),oe=(0,i.Z)(re,2),ce=oe[0],le=oe[1],ue=(0,r.useState)("expiry"),de=(0,i.Z)(ue,2),he=de[0],me=de[1],xe=(0,r.useState)("0"),fe=(0,i.Z)(xe,2),pe=fe[0],ge=fe[1],Ze=(0,r.useState)("0"),je=(0,i.Z)(Ze,2),ve=je[0],be=je[1],ke=(0,r.useState)(!1),ye=(0,i.Z)(ke,2),Ce=ye[0],Se=ye[1],Ne=(0,r.useState)(null),Pe=(0,i.Z)(Ne,2),we=Pe[0],_e=Pe[1];(0,r.useEffect)((function(){g&&f.Z.invoke("GET","/api/v1/admin/tiers").then((function(e){var n=Z()(e,"items",[]);if(null!==n&&n.length>=1){var t=n.map((function(e){var n=e.type,t=Z()(e,"".concat(n,".name"),"");return{label:t,value:t}}));y(t),t.length>0&&q(t[0].value)}j(!1)})).catch((function(e){j(!1),c(e)}))}),[g,c]),(0,r.useEffect)((function(){var e=!0;"expiry"!==he&&""===O&&(e=!1),Se(e)}),[he,pe,ve,O]);var Re=function(e){var n=e.errString;switch(n){case"":return(0,w.jsx)("div",{className:a.successIcon,children:(0,w.jsx)(T.Z,{})});case"n/a":return null;default:if(n)return(0,w.jsx)("div",{className:a.errorIcon,children:(0,w.jsx)(R.Z,{title:n,placement:"top-start",children:(0,w.jsx)(B.Z,{})})})}return null};return(0,w.jsx)(F.Z,{modalOpen:n,onClose:function(){t(!1)},title:"Set Lifecycle to multiple buckets",children:(0,w.jsx)(M.Z,{loadingStep:h||g,wizardSteps:[{label:"Lifecycle Configuration",componentRender:(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(E.Z,{label:"Local Buckets to replicate",content:o.join(", ")})}),(0,w.jsx)("h4",{children:"Remote Endpoint Configuration"}),(0,w.jsx)(d.ZP,{container:!0,children:(0,w.jsxs)(d.ZP,{item:!0,xs:12,className:a.formScrollable,children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,className:a.formFieldRow,children:(0,w.jsxs)("fieldset",{className:a.fieldGroup,children:[(0,w.jsx)("legend",{className:a.descriptionText,children:"Lifecycle Configuration"}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(Y.Z,{currentSelection:he,id:"quota_type",name:"quota_type",label:"ILM Rule",onChange:function(e){me(e.target.value)},selectorOptions:[{value:"expiry",label:"Expiry"},{value:"transition",label:"Transition"}]})}),"expiry"===he?(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,className:a.formFieldRow,children:(0,w.jsx)(I.Z,{type:"number",id:"expiry_days",name:"expiry_days",onChange:function(e){ge(e.target.value)},label:"Expiry Days",value:pe,min:"0"})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,className:a.formFieldRow,children:(0,w.jsx)(I.Z,{type:"number",id:"noncurrentversion_expiration_days",name:"noncurrentversion_expiration_days",onChange:function(e){se(e.target.value)},label:"Non-current Expiration Days",value:ie,min:"0"})})]}):(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,className:a.formFieldRow,children:(0,w.jsx)(I.Z,{type:"number",id:"transition_days",name:"transition_days",onChange:function(e){be(e.target.value)},label:"Transition Days",value:ve,min:"0"})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,className:a.formFieldRow,children:(0,w.jsx)(I.Z,{type:"number",id:"noncurrentversion_transition_days",name:"noncurrentversion_transition_days",onChange:function(e){le(e.target.value)},label:"Non-current Transition Days",value:ce,min:"0"})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,className:a.formFieldRow,children:(0,w.jsx)(I.Z,{id:"noncurrentversion_t_SC",name:"noncurrentversion_t_SC",onChange:function(e){V(e.target.value)},placeholder:"Set Non-current Version Transition Storage Class",label:"Non-current Version Transition Storage Class",value:Q})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,className:a.formFieldRow,children:(0,w.jsx)(A.Z,{label:"Storage Class",id:"storage_class",name:"storage_class",value:O,onChange:function(e){q(e.target.value)},options:k})})]})]})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,className:a.formFieldRow,children:(0,w.jsxs)("fieldset",{className:a.fieldGroup,children:[(0,w.jsx)("legend",{className:a.descriptionText,children:"File Configuration"}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(I.Z,{id:"prefix",name:"prefix",onChange:function(e){P(e.target.value)},label:"Prefix",value:N})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)($.Z,{name:"tags",label:"Tags",elements:D,onChange:function(e){K(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(L.Z,{value:"expired_delete_marker",id:"expired_delete_marker",name:"expired_delete_marker",checked:ee,onChange:function(e){ne(e.target.checked)},label:"Expired Object Delete Marker"})})]})})]})})]}),buttons:[{type:"custom",label:"Create Rules",enabled:!g&&!h&&Ce,action:function(e){var n={};if("expiry"===he){var t={expiry_days:parseInt(pe)};n=(0,s.Z)((0,s.Z)({},t),{},{noncurrentversion_expiration_days:parseInt(ie)})}else{var a={transition_days:parseInt(ve)};n=(0,s.Z)((0,s.Z)({},a),{},{noncurrentversion_transition_days:parseInt(ce),noncurrentversion_transition_storage_class:Q,storage_class:O})}var i=(0,s.Z)({buckets:o,type:he,prefix:N,tags:D,expired_object_delete_marker:ee},n);f.Z.invoke("POST","/api/v1/buckets/multi-lifecycle",i).then((function(n){m(!1),_e(n),e("++")})).catch((function(e){m(!1),c(e)}))}}]},{label:"Results",componentRender:(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)("h3",{children:"Multi Bucket lifecycle Assignments Results"}),(0,w.jsx)(d.ZP,{container:!0,children:(0,w.jsxs)(d.ZP,{item:!0,xs:12,className:a.formScrollable,children:[(0,w.jsx)("h4",{children:"Buckets Results"}),null===we||void 0===we?void 0:we.results.map((function(e){return(0,w.jsxs)("div",{className:a.resultGrid,children:[Re({errString:e.error||""}),(0,w.jsx)("span",{children:e.bucketName})]})}))]})})]}),buttons:[{type:"custom",label:"Done",enabled:!h,action:function(){return t(!0)}}]}],forModal:!0})})}))),ee=t(49535),ne=(0,o.$j)(null,{setErrorSnackMessage:m.Ih})((0,l.Z)((function(e){return(0,c.Z)((0,s.Z)({bulkSelect:{marginLeft:8,"&:hover":{backgroundColor:e.palette.primary.main},"&.MuiButton-contained":{backgroundColor:e.palette.primary.main}},addBucket:{marginLeft:8},bucketList:{marginTop:25,height:"calc(100vh - 210px)"},searchField:(0,s.Z)((0,s.Z)({},x.qg.searchField),{},{minWidth:380,"@media (max-width: 900px)":{minWidth:220}})},(0,x.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.history,s=e.setErrorSnackMessage,o=(0,r.useState)([]),c=(0,i.Z)(o,2),l=c[0],m=c[1],x=(0,r.useState)(!0),g=(0,i.Z)(x,2),Z=g[0],j=g[1],v=(0,r.useState)(""),b=(0,i.Z)(v,2),k=b[0],y=b[1],P=(0,r.useState)([]),R=(0,i.Z)(P,2),B=R[0],T=R[1],I=(0,r.useState)(!1),F=(0,i.Z)(I,2),E=F[0],M=F[1],L=(0,r.useState)(!1),A=(0,i.Z)(L,2),z=A[0],D=A[1],Y=(0,r.useState)(!1),$=(0,i.Z)(Y,2),J=$[0],ne=$[1];(0,r.useEffect)((function(){if(Z){j(!0),f.Z.invoke("GET","/api/v1/buckets").then((function(e){j(!1),m(e.buckets||[])})).catch((function(e){j(!1),s(e)}))}}),[Z,s]);var te=l.filter((function(e){return""===k||e.name.indexOf(k)>=0})),ae=function(e){var n=e.target,t=n.value,i=n.checked,s=(0,a.Z)(B);return i?s.push(t):s=s.filter((function(e){return e!==t})),T(s),s},ie=(0,ee.Z)("*",[C.Ft.S3_CREATE_BUCKET]);return(0,w.jsxs)(r.Fragment,{children:[E&&(0,w.jsx)(K,{open:E,buckets:B,closeModalAndRefresh:function(e){M(!1),e&&T([])}}),z&&(0,w.jsx)(X,{buckets:B,closeModalAndRefresh:function(e){D(!1),e&&T([])},open:z}),(0,w.jsx)(p.Z,{label:"Buckets"}),(0,w.jsxs)(H.Z,{children:[(0,w.jsxs)(d.ZP,{item:!0,xs:12,className:n.actionsTray,display:"flex",children:[(0,w.jsx)(Q.Z,{onChange:y,placeholder:"Search Buckets",overrideClass:n.searchField,value:k}),(0,w.jsxs)(d.ZP,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"flex-end",children:[(0,w.jsx)(N.Z,{tooltip:J?"Unselect Buckets":"Select Multiple Buckets",onClick:function(){ne(!J),T([])},text:"",icon:(0,w.jsx)(G.Z,{}),color:"primary",variant:J?"contained":"outlined"}),J&&(0,w.jsx)(N.Z,{tooltip:B.length===te.length?"Unselect All Buckets":"Select All Buckets",onClick:function(){if(B.length!==te.length){var e=te.map((function(e){return e.name}));T(e)}else T([])},text:"",icon:(0,w.jsx)(h.QQ,{}),color:"primary",variant:"outlined"}),(0,w.jsx)(N.Z,{tooltip:"Set Lifecycle",onClick:function(){D(!0)},text:"",icon:(0,w.jsx)(h.QI,{}),disabled:0===B.length,color:"primary",variant:"outlined"}),(0,w.jsx)(N.Z,{tooltip:"Set Replication",onClick:function(){M(!0)},text:"",icon:(0,w.jsx)(q.Z,{}),disabled:0===B.length,color:"primary",variant:"outlined"}),(0,w.jsx)(N.Z,{tooltip:"Refresh",onClick:function(){j(!0)},text:"",icon:(0,w.jsx)(W.default,{}),color:"primary",variant:"outlined"}),(0,w.jsx)(N.Z,{tooltip:"Create Bucket",onClick:function(){t.push("/add-bucket")},text:"Create Bucket",icon:(0,w.jsx)(h.dt,{}),color:"primary",variant:"contained",disabled:!ie})]})]}),Z&&(0,w.jsx)(u.Z,{}),!Z&&(0,w.jsxs)(d.ZP,{item:!0,xs:12,className:n.bucketList,children:[0!==te.length&&(0,w.jsx)(V.Z,{rowRenderFunction:function(e){var n=te[e]||null;return n?(0,w.jsx)(_,{bucket:n,onSelect:ae,selected:B.includes(n.name),bulkSelect:J}):null},totalItems:te.length}),0===te.length&&""!==k&&(0,w.jsx)(d.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,w.jsx)(d.ZP,{item:!0,xs:8,children:(0,w.jsx)(U.Z,{iconComponent:(0,w.jsx)(h.wN,{}),title:"No Results",help:(0,w.jsx)(r.Fragment,{children:"No buckets match the filtering condition"})})})}),0===te.length&&""===k&&(0,w.jsx)(d.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,w.jsx)(d.ZP,{item:!0,xs:8,children:(0,w.jsx)(U.Z,{iconComponent:(0,w.jsx)(h.wN,{}),title:"Buckets",help:(0,w.jsxs)(r.Fragment,{children:["MinIO uses buckets to organize objects. A bucket is similar to a folder or directory in a filesystem, where each bucket can hold an arbitrary number of objects.",(0,w.jsxs)(S.s,{scopes:[C.Ft.S3_CREATE_BUCKET],resource:C.C3,children:[(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"To get started,\xa0",(0,w.jsx)(O.Z,{onClick:function(){t.push("/add-bucket")},children:"Create a Bucket."})]})]})})})})]})]})]})})))},81806:function(e,n,t){var a=t(1413),i=t(45987),s=(t(72791),t(11135)),r=t(25787),o=t(80184),c=["classes","children"];n.Z=(0,r.Z)((function(e){return(0,s.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var n=e.classes,t=e.children,s=(0,i.Z)(e,c);return(0,o.jsx)("button",(0,a.Z)((0,a.Z)({},s),{},{className:n.root,children:t}))}))},34866:function(e,n,t){var a=t(1413),i=t(72791),s=t(61889),r=t(94454),o=t(30829),c=t(20068),l=t(11135),u=t(25787),d=t(23814),h=t(84570),m=t(80184);n.Z=(0,u.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},d.YI),d.Hr),d.lM),{},{fieldContainer:(0,a.Z)((0,a.Z)({},d.YI.fieldContainer),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",margin:"15px 0",marginBottom:0,flexBasis:"initial"}),noTopMargin:{marginTop:0}}))}))((function(e){var n=e.label,t=e.onChange,a=e.value,l=e.id,u=e.name,d=e.checked,x=void 0!==d&&d,f=e.disabled,p=void 0!==f&&f,g=e.noTopMargin,Z=void 0!==g&&g,j=e.tooltip,v=void 0===j?"":j,b=e.overrideLabelClasses,k=void 0===b?"":b,y=e.classes;return(0,m.jsx)(i.Fragment,{children:(0,m.jsxs)(s.ZP,{item:!0,xs:12,className:"".concat(y.fieldContainer," ").concat(Z?y.noTopMargin:""),children:[(0,m.jsx)("div",{children:(0,m.jsx)(r.Z,{name:u,id:l,value:a,color:"primary",inputProps:{"aria-label":"secondary checkbox"},checked:x,onChange:t,checkedIcon:(0,m.jsx)("span",{className:y.checkedIcon}),icon:(0,m.jsx)("span",{className:y.unCheckedIcon}),disabled:p})}),""!==n&&(0,m.jsxs)(o.Z,{htmlFor:l,className:"".concat(y.noMinWidthLabel," ").concat(k),children:[(0,m.jsx)("span",{children:n}),""!==v&&(0,m.jsx)("div",{className:y.tooltipContainer,children:(0,m.jsx)(c.Z,{title:v,placement:"top-start",children:(0,m.jsx)("div",{className:y.tooltip,children:(0,m.jsx)(h.Z,{})})})})]})]})})}))},64163:function(e,n,t){var a=t(1413),i=t(72791),s=t(61889),r=t(11135),o=t(25787),c=t(23814),l=t(80184);n.Z=(0,o.Z)((function(e){return(0,r.Z)((0,a.Z)({},c.xx))}))((function(e){var n=e.classes,t=e.label,a=void 0===t?"":t,r=e.content,o=e.multiLine,c=void 0!==o&&o;return(0,l.jsx)(i.Fragment,{children:(0,l.jsxs)(s.ZP,{className:n.prefinedContainer,children:[""!==a&&(0,l.jsx)(s.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:a}),(0,l.jsx)(s.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,l.jsx)(s.ZP,{item:!0,xs:12,className:c?n.innerContentMultiline:n.innerContent,children:r})})]})})}))},17420:function(e,n,t){var a=t(42982),i=t(70885),s=t(1413),r=t(72791),o=t(26181),c=t.n(o),l=t(48573),u=t.n(l),d=t(11135),h=t(25787),m=t(61889),x=t(77961),f=t(30829),p=t(20068),g=t(23814),Z=t(21435),j=t(47919),v=t(80184);n.Z=(0,h.Z)((function(e){return(0,d.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},g.YI),g.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15},lineInputBoxes:{display:"flex",marginBottom:10},queryDiv:{alignSelf:"center",margin:"0 4px",fontWeight:600}}))}))((function(e){var n=e.elements,t=e.name,s=e.label,o=e.tooltip,l=void 0===o?"":o,d=e.keyPlaceholder,h=void 0===d?"":d,g=e.valuePlaceholder,b=void 0===g?"":g,k=e.onChange,y=e.withBorder,C=void 0!==y&&y,S=e.classes,N=(0,r.useState)([""]),P=(0,i.Z)(N,2),w=P[0],_=P[1],R=(0,r.useState)([""]),B=(0,i.Z)(R,2),T=B[0],I=B[1],F=(0,r.createRef)();(0,r.useEffect)((function(){if(1===w.length&&""===w[0]&&1===T.length&&""===T[0]&&n&&""!==n){var e=n.split("&"),t=[],a=[];e.forEach((function(e){var n=e.split("=");2===n.length&&(t.push(n[0]),a.push(n[1]))})),t.push(""),a.push(""),_(t),I(a)}}),[w,T,n]),(0,r.useEffect)((function(){var e=F.current;e&&w.length>1&&e.scrollIntoView(!1)}),[w]);var E=(0,r.useRef)(!0);(0,r.useLayoutEffect)((function(){E.current?E.current=!1:A()}),[w,T]);var M=function(e){e.persist();var n=(0,a.Z)(w);n[c()(e.target,"dataset.index",0)]=e.target.value,_(n)},L=function(e){e.persist();var n=(0,a.Z)(T);n[c()(e.target,"dataset.index",0)]=e.target.value,I(n)},A=u()((function(){var e="";w.forEach((function(n,t){if(w[t]&&T[t]){var a="".concat(n,"=").concat(T[t]);0!==t&&(a="&".concat(a)),e="".concat(e).concat(a)}})),k(e)}),500),z=T.map((function(e,n){return(0,v.jsxs)(m.ZP,{item:!0,xs:12,className:S.lineInputBoxes,children:[(0,v.jsx)(Z.Z,{id:"".concat(t,"-key-").concat(n.toString()),label:"",name:"".concat(t,"-").concat(n.toString()),value:w[n],onChange:M,index:n,placeholder:h}),(0,v.jsx)("span",{className:S.queryDiv,children:":"}),(0,v.jsx)(Z.Z,{id:"".concat(t,"-value-").concat(n.toString()),label:"",name:"".concat(t,"-").concat(n.toString()),value:T[n],onChange:L,index:n,placeholder:b,overlayIcon:n===T.length-1?(0,v.jsx)(j.Z,{}):null,overlayAction:function(){!function(){if(""!==w[w.length-1].trim()&&""!==T[T.length-1].trim()){var e=(0,a.Z)(w),n=(0,a.Z)(T);e.push(""),n.push(""),_(e),I(n)}}()}})]},"query-pair-".concat(t,"-").concat(n.toString()))}));return(0,v.jsx)(r.Fragment,{children:(0,v.jsxs)(m.ZP,{item:!0,xs:12,className:S.fieldContainer,children:[(0,v.jsxs)(f.Z,{className:S.inputLabel,children:[(0,v.jsx)("span",{children:s}),""!==l&&(0,v.jsx)("div",{className:S.tooltipContainer,children:(0,v.jsx)(p.Z,{title:l,placement:"top-start",children:(0,v.jsx)(x.Z,{className:S.tooltip})})})]}),(0,v.jsxs)(m.ZP,{item:!0,xs:12,className:"".concat(C?S.inputWithBorder:""),children:[z,(0,v.jsx)("div",{ref:F})]})]})})}))},59114:function(e,n,t){var a=t(4942),i=t(1413),s=(t(72791),t(63466)),r=t(74900),o=t(27391),c=t(25787),l=t(11135),u=t(23814),d=t(80184);n.Z=(0,c.Z)((function(e){return(0,l.Z)({searchField:(0,i.Z)({},u.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,i=e.classes,c=e.onChange,l=e.adornmentPosition,u=void 0===l?"end":l,h=e.overrideClass,m=e.value,x=(0,a.Z)({disableUnderline:!0},"".concat(u,"Adornment"),(0,d.jsx)(s.Z,{position:u,className:i.adornment,children:(0,d.jsx)(r.Z,{})}));return(0,d.jsx)(o.Z,{placeholder:t,className:h||i.searchField,id:"search-resource",label:"",InputProps:x,onChange:function(e){c(e.target.value)},variant:"standard",value:m})}))},98994:function(e,n,t){var a=t(72791),i=t(22338),s=t(79762),r=t(5171),o=t(80184),c={};n.Z=function(e){var n=e.rowRenderFunction,t=e.totalItems,l=e.defaultHeight,u=function(e){var t=e.index,a=e.style;return(0,o.jsx)("div",{style:a,children:n(t)})};return(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(s.Z,{isItemLoaded:function(e){return!!c[e]},loadMoreItems:function(e,n){for(var t=e;t<=n;t++)c[t]=1;for(var a=e;a<=n;a++)c[a]=2},itemCount:t,children:function(e){var n=e.onItemsRendered,a=e.ref;return(0,o.jsx)(r.qj,{children:function(e){var s=e.width,r=e.height;return(0,o.jsx)(i.t7,{itemSize:l||220,height:r,itemCount:t,width:s,ref:a,onItemsRendered:n,children:u})}})}})})}},98946:function(e,n,t){var a=t(95318);n.Z=void 0;var i=a(t(45649)),s=t(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");n.Z=r},15146:function(e,n,t){var a=t(95318);n.Z=void 0;var i=a(t(45649)),s=t(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");n.Z=r}}]);
//# sourceMappingURL=9467.24a0eb41.chunk.js.map