(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[666],{8235:function(e,n,t){"use strict";t(50390);var a=t(86509),i=t(4285),s=t(25594),r=t(62559);n.Z=(0,i.Z)((function(e){return(0,a.Z)({root:{border:"1px solid #E2E2E2",borderRadius:2,backgroundColor:"#FBFAFA",paddingLeft:25,paddingTop:31,paddingBottom:21,paddingRight:30},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:15,display:"flex",alignItems:"center","& .min-icon":{marginRight:15,height:28,width:38}},helpText:{fontSize:16,paddingLeft:5}})}))((function(e){var n=e.classes,t=e.iconComponent,a=e.title,i=e.help;return(0,r.jsx)("div",{className:n.root,children:(0,r.jsxs)(s.ZP,{container:!0,children:[(0,r.jsxs)(s.ZP,{item:!0,xs:12,className:n.leftItems,children:[t,a]}),(0,r.jsx)(s.ZP,{item:!0,xs:12,className:n.helpText,children:i})]})})}))},40953:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return K}});var a=t(23430),i=t(18489),s=t(50390),r=t(34424),o=t(86509),l=t(4285),c=t(38342),d=t.n(c),u=t(87248),m=t.n(u),x=t(25594),f=t(14549),p=t(72462),h=t(44149),Z=t(30324),v=t(66946),g=t(81378),j=t(51002),y=t(66964),b=t(26001),S=t(65703),C=t(67754),_=t(27207),k=t(62559),N={setModalErrorSnackMessage:h.zb},P=(0,r.$j)(null,N),E=(0,l.Z)((function(e){return(0,o.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({dateSelector:{"& div":{borderBottom:0,marginBottom:0,"& div:nth-child(2)":{border:"1px solid #EAEAEA",paddingLeft:5,"& div":{border:0}}}}},p.bK),p.ID),p.DF),p.QV))}))(P((function(e){var n=e.classes,t=e.closeModalAndRefresh,r=e.selectedBucket,o=e.lifecycle,l=e.open,c=e.setModalErrorSnackMessage,u=(0,s.useState)(!0),m=(0,a.Z)(u,2),p=m[0],h=m[1],N=(0,s.useState)(!1),P=(0,a.Z)(N,2),E=P[0],I=P[1],F=(0,s.useState)(""),T=(0,a.Z)(F,2),L=T[0],R=T[1],M=(0,s.useState)(!1),w=(0,a.Z)(M,2),B=w[0],O=w[1],A=(0,s.useState)([]),D=(0,a.Z)(A,2),V=D[0],z=D[1],G=(0,s.useState)(""),K=(0,a.Z)(G,2),H=K[0],q=K[1],U=(0,s.useState)(""),W=(0,a.Z)(U,2),Y=W[0],Q=W[1],$=(0,s.useState)(""),J=(0,a.Z)($,2),X=J[0],ee=J[1],ne=(0,s.useState)(!1),te=(0,a.Z)(ne,2),ae=te[0],ie=te[1],se=(0,s.useState)("0"),re=(0,a.Z)(se,2),oe=re[0],le=re[1],ce=(0,s.useState)("0"),de=(0,a.Z)(ce,2),ue=de[0],me=de[1],xe=(0,s.useState)("expiry"),fe=(0,a.Z)(xe,2),pe=fe[0],he=fe[1],Ze=(0,s.useState)("0"),ve=(0,a.Z)(Ze,2),ge=ve[0],je=ve[1],ye=(0,s.useState)("0"),be=(0,a.Z)(ye,2),Se=be[0],Ce=be[1],_e=(0,s.useState)(!1),ke=(0,a.Z)(_e,2),Ne=ke[0],Pe=ke[1];(0,s.useEffect)((function(){p&&Z.Z.invoke("GET","/api/v1/admin/tiers").then((function(e){var n=d()(e,"items",[]);if(null!==n&&n.length>=1){var t=n.map((function(e){var n=e.type,t=d()(e,"".concat(n,".name"),"");return{label:t,value:t}}));z(t),t.length>0&&Q(t[0].value)}h(!1)})).catch((function(e){h(!1)}))}),[p]),(0,s.useEffect)((function(){var e=!0;"expiry"!==pe&&""===Y&&(e=!1),Pe(e)}),[pe,ge,Se,Y]),(0,s.useEffect)((function(){var e;"Enabled"===o.status&&O(!0);var n,t,a,i,s,r,l=!1;(o.transition&&(o.transition.days&&0!==o.transition.days&&(Ce(o.transition.days.toString()),he("transition"),l=!0),o.transition.date&&"0001-01-01T00:00:00Z"!==o.transition.date&&(he("transition"),l=!0)),o.expiration&&(o.expiration.days&&0!==o.expiration.days&&(je(o.expiration.days.toString()),he("expiry"),l=!1),o.expiration.date&&"0001-01-01T00:00:00Z"!==o.expiration.date&&(he("expiry"),l=!1)),l)?(Q((null===(n=o.transition)||void 0===n?void 0:n.storage_class)||""),me((null===(t=o.transition)||void 0===t||null===(a=t.noncurrent_transition_days)||void 0===a?void 0:a.toString())||"0"),ee((null===(i=o.transition)||void 0===i?void 0:i.noncurrent_storage_class)||"")):le((null===(s=o.expiration)||void 0===s||null===(r=s.noncurrent_expiration_days)||void 0===r?void 0:r.toString())||"0");if(ie(!(null===(e=o.expiration)||void 0===e||!e.delete_marker)),q(o.prefix||""),o.tags){var c=o.tags.reduce((function(e,n,t){return"".concat(e).concat(0!==t?"&":"").concat(n.key,"=").concat(n.value)}),"");R(c)}}),[o]);return(0,k.jsx)(j.Z,{onClose:function(){t(!1)},modalOpen:l,title:"Edit Lifecycle Configuration",titleIcon:(0,k.jsx)(f.QI,{}),children:(0,k.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!E&&(I(!0),null!==r&&null!==o)){var n={};if("expiry"===pe){var a={expiry_days:parseInt(ge)};n=(0,i.Z)((0,i.Z)({},a),{},{noncurrentversion_expiration_days:parseInt(oe)})}else{var s={transition_days:parseInt(Se)};n=(0,i.Z)((0,i.Z)({},s),{},{noncurrentversion_transition_days:parseInt(ue),noncurrentversion_transition_storage_class:X,storage_class:Y})}var l=(0,i.Z)({type:pe,disable:!B,prefix:H,tags:L,expired_object_delete_marker:ae},n);Z.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/lifecycle/").concat(o.id),l).then((function(e){I(!1),t(!0)})).catch((function(e){I(!1),c(e)}))}}(e)},children:(0,k.jsxs)(x.ZP,{container:!0,children:[(0,k.jsxs)(x.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(y.Z,{id:"id",name:"id",label:"Id",value:o.id,onChange:function(){},disabled:!0})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(b.Z,{label:"Rule State",indicatorLabels:["Enabled","Disabled"],checked:B,value:"user_enabled",id:"user-status",name:"user-status",onChange:function(e){O(e.target.checked)}})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,k.jsx)("legend",{className:n.descriptionText,children:"Lifecycle Configuration"}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(_.Z,{currentSelection:pe,id:"quota_type",name:"quota_type",label:"ILM Rule",selectorOptions:[{value:"expiry",label:"Expiry"},{value:"transition",label:"Transition"}],onChange:function(){},disableOptions:!0})}),"expiry"===pe?(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(y.Z,{type:"number",id:"expiry_days",name:"expiry_days",onChange:function(e){je(e.target.value)},label:"Expiry Days",value:ge,min:"0"})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(y.Z,{type:"number",id:"noncurrentversion_expiration_days",name:"noncurrentversion_expiration_days",onChange:function(e){le(e.target.value)},label:"Non-current Expiration Days",value:oe,min:"0"})})]}):(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(y.Z,{type:"number",id:"transition_days",name:"transition_days",onChange:function(e){Ce(e.target.value)},label:"Transition Days",value:Se,min:"0"})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(y.Z,{type:"number",id:"noncurrentversion_transition_days",name:"noncurrentversion_transition_days",onChange:function(e){me(e.target.value)},label:"Non-current Transition Days",value:ue,min:"0"})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(y.Z,{id:"noncurrentversion_t_SC",name:"noncurrentversion_t_SC",onChange:function(e){ee(e.target.value)},placeholder:"Set Non-current Version Transition Storage Class",label:"Non-current Version Transition Storage Class",value:X})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsx)(C.Z,{label:"Storage Class",id:"storage_class",name:"storage_class",value:Y,onChange:function(e){Q(e.target.value)},options:V})})]})]})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,k.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,k.jsx)("legend",{className:n.descriptionText,children:"File Configuration"}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(y.Z,{id:"prefix",name:"prefix",onChange:function(e){q(e.target.value)},label:"Prefix",value:H})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(S.Z,{name:"tags",label:"Tags",elements:L,onChange:function(e){R(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(b.Z,{value:"expired_delete_marker",id:"expired_delete_marker",name:"expired_delete_marker",checked:ae,onChange:function(e){ie(e.target.checked)},label:"Expired Object Delete Marker"})})]})})]}),(0,k.jsxs)(x.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,k.jsx)(v.Z,{type:"button",variant:"outlined",color:"primary",disabled:E,onClick:function(){t(!1)},children:"Cancel"}),(0,k.jsx)(v.Z,{type:"submit",variant:"contained",color:"primary",disabled:E||!Ne,children:"Save"})]}),E&&(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(g.Z,{})})]})})})}))),I=t(1365),F=(0,r.$j)(null,{setModalErrorSnackMessage:h.zb}),T=(0,l.Z)((function(e){return(0,o.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({dateSelector:{"& div":{borderBottom:0,marginBottom:0,"& div:nth-child(2)":{border:"1px solid #EAEAEA",paddingLeft:5,"& div":{border:0}}}}},p.bK),p.ID),p.DF),p.QV))}))(F((function(e){var n=e.open,t=e.closeModalAndRefresh,r=e.classes,o=e.bucketName,l=e.setModalErrorSnackMessage,c=(0,s.useState)(!0),u=(0,a.Z)(c,2),m=u[0],p=u[1],h=(0,s.useState)([]),b=(0,a.Z)(h,2),N=b[0],P=b[1],E=(0,s.useState)(!1),F=(0,a.Z)(E,2),T=F[0],L=F[1],R=(0,s.useState)(""),M=(0,a.Z)(R,2),w=M[0],B=M[1],O=(0,s.useState)(""),A=(0,a.Z)(O,2),D=A[0],V=A[1],z=(0,s.useState)(""),G=(0,a.Z)(z,2),K=G[0],H=G[1],q=(0,s.useState)(""),U=(0,a.Z)(q,2),W=U[0],Y=U[1],Q=(0,s.useState)(""),$=(0,a.Z)(Q,2),J=$[0],X=$[1],ee=(0,s.useState)("expiry"),ne=(0,a.Z)(ee,2),te=ne[0],ae=ne[1],ie=(0,s.useState)(""),se=(0,a.Z)(ie,2),re=se[0],oe=se[1],le=(0,s.useState)(""),ce=(0,a.Z)(le,2),de=ce[0],ue=ce[1],me=(0,s.useState)(!1),xe=(0,a.Z)(me,2),fe=xe[0],pe=xe[1];(0,s.useEffect)((function(){m&&Z.Z.invoke("GET","/api/v1/admin/tiers").then((function(e){var n=d()(e,"items",[]);if(null!==n&&n.length>=1){var t=n.map((function(e){var n=e.type,t=d()(e,"".concat(n,".name"),"");return{label:t,value:t}}));P(t),t.length>0&&H(t[0].value)}p(!1)})).catch((function(e){p(!1)}))}),[m]),(0,s.useEffect)((function(){var e=!0;"expiry"!==te&&""===K&&(e=!1),pe(e)}),[te,re,de,K]);return(0,k.jsxs)(j.Z,{modalOpen:n,onClose:function(){t(!1)},title:"Add Lifecycle Rule",titleIcon:(0,k.jsx)(f.QI,{}),children:[m&&(0,k.jsx)(x.ZP,{container:!0,className:r.loadingBox,children:(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(g.Z,{})})}),!m&&(0,k.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),L(!0),function(){var e={},n=!1;if("expiry"===te){var a={expiry_days:parseInt(re)};parseInt(re)>0&&parseInt(W)>0&&(n=!0),e=(0,i.Z)((0,i.Z)({},a),{},{noncurrentversion_expiration_days:parseInt(W)})}else{var s={transition_days:parseInt(de)};parseInt(de)>0&&parseInt(J)>0&&(n=!0),e=(0,i.Z)((0,i.Z)({},s),{},{noncurrentversion_transition_days:parseInt(J),storage_class:K})}var r=(0,i.Z)({type:te,prefix:w,tags:D,expired_object_delete_marker:n},e);Z.Z.invoke("POST","/api/v1/buckets/".concat(o,"/lifecycle"),r).then((function(){L(!1),t(!0)})).catch((function(e){L(!1),l(e)}))}()},children:(0,k.jsxs)(x.ZP,{container:!0,children:[(0,k.jsxs)(x.ZP,{item:!0,xs:12,className:r.formScrollable,children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsxs)(x.ZP,{container:!0,children:[(0,k.jsx)(x.ZP,{item:!0,xs:3,textAlign:"left",children:(0,k.jsx)(_.Z,{currentSelection:te,id:"quota_type",name:"quota_type",label:"",onChange:function(e){ae(e.target.value)},selectorOptions:[{value:"expiry",label:"Expiry"},{value:"transition",label:"Transition"}]})}),(0,k.jsx)(x.ZP,{item:!0,xs:9}),"expiry"===te?(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,k.jsx)(y.Z,{id:"expiry_days",name:"expiry_days",onChange:function(e){e.target.validity.valid&&oe(e.target.value)},pattern:"[0-9]*",label:"Delete Latest Version After",value:re,overlayObject:(0,k.jsx)(I.Z,{id:"expire-current-unit",unitSelected:"days",unitsList:[{label:"Days",value:"days"}],disabled:!0})})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,k.jsx)(y.Z,{id:"noncurrentversion_expiration_days",name:"noncurrentversion_expiration_days",onChange:function(e){e.target.validity.valid&&Y(e.target.value)},pattern:"[0-9]*",label:"Delete Older Versions After",value:W,min:"0",overlayObject:(0,k.jsx)(I.Z,{id:"expire-noncurrent-unit",unitSelected:"days",unitsList:[{label:"Days",value:"days"}],disabled:!0})})})]}):(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,k.jsx)(C.Z,{label:"Tier",id:"storage_class",name:"storage_class",value:K,onChange:function(e){H(e.target.value)},options:N})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,k.jsx)(y.Z,{id:"transition_days",name:"transition_days",onChange:function(e){e.target.validity.valid&&ue(e.target.value)},pattern:"[0-9]*",label:"Transition Latest Version",value:de,min:"0",overlayObject:(0,k.jsx)(I.Z,{id:"transition-current-unit",unitSelected:"days",unitsList:[{label:"Days",value:"days"}],disabled:!0})})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,k.jsx)(y.Z,{type:"number",id:"noncurrentversion_transition_days",name:"noncurrentversion_transition_days",onChange:function(e){e.target.validity.valid&&X(e.target.value)},label:"Transition Older Versions",value:J,pattern:"[0-9]*",overlayObject:(0,k.jsx)(I.Z,{id:"transition-noncurrent-unit",unitSelected:"days",unitsList:[{label:"Days",value:"days"}],disabled:!0})})})]})]})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,k.jsxs)("fieldset",{className:r.fieldGroup,children:[(0,k.jsx)("legend",{className:r.descriptionText,children:"Filters"}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(y.Z,{id:"prefix",name:"prefix",onChange:function(e){B(e.target.value)},label:"Prefix",value:w})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(S.Z,{name:"tags",label:"Tags",elements:"",onChange:function(e){V(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0})})]})})]}),(0,k.jsxs)(x.ZP,{item:!0,xs:12,className:r.modalButtonBar,children:[(0,k.jsx)(v.Z,{type:"button",variant:"outlined",color:"primary",disabled:T,onClick:function(){t(!1)},children:"Cancel"}),(0,k.jsx)(v.Z,{type:"submit",variant:"contained",color:"primary",disabled:T||!fe,children:"Save"})]}),T&&(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(g.Z,{})})]})})]})}))),L=t(8174),R=t(8235),M=t(48122),w=t(30140),B=t(49495),O=t(53224),A=t(23473),D=t(60656),V=(0,r.$j)(null,{setErrorSnackMessage:h.Ih}),z=(0,l.Z)((function(e){return(0,o.Z)((0,i.Z)({},p.oO))}))(V((function(e){var n=e.onCloseAndRefresh,t=e.deleteOpen,i=e.bucket,r=e.id,o=e.setErrorSnackMessage,l=(0,s.useState)(!1),c=(0,a.Z)(l,2),d=c[0],u=c[1];(0,s.useEffect)((function(){d&&Z.Z.invoke("DELETE","/api/v1/buckets/".concat(i,"/lifecycle/").concat(r)).then((function(e){u(!1),n(!0)})).catch((function(e){u(!1),o(e)}))}),[d,i,r,n,o]);return(0,k.jsx)(D.Z,{title:"Delete Lifecycle Rule",confirmText:"Delete",isOpen:t,isLoading:d,onConfirm:function(){u(!0)},titleIcon:(0,k.jsx)(f.Nv,{}),onClose:function(){return n(!1)},confirmationContent:(0,k.jsxs)(A.Z,{children:["Are you sure you want to delete the ",(0,k.jsx)("strong",{children:r})," rule?"]})})}))),G=(0,r.$j)((function(e){return{session:e.console.session,loadingBucket:e.buckets.bucketDetails.loadingBucket,bucketInfo:e.buckets.bucketDetails.bucketInfo}}),{setErrorSnackMessage:h.Ih}),K=(0,l.Z)((function(e){return(0,o.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},p.qg),p.OR),{},{twHeight:{minHeight:400}}))}))(G((function(e){var n=e.classes,t=e.match,i=(e.setErrorSnackMessage,e.loadingBucket),r=(e.bucketInfo,(0,s.useState)(!0)),o=(0,a.Z)(r,2),l=o[0],c=o[1],u=(0,s.useState)([]),p=(0,a.Z)(u,2),h=p[0],v=p[1],g=(0,s.useState)(!1),j=(0,a.Z)(g,2),y=j[0],b=j[1],S=(0,s.useState)(!1),C=(0,a.Z)(S,2),_=C[0],N=C[1],P=(0,s.useState)(null),I=(0,a.Z)(P,2),F=I[0],A=I[1],D=(0,s.useState)(!1),V=(0,a.Z)(D,2),G=V[0],K=V[1],H=(0,s.useState)(null),q=(0,a.Z)(H,2),U=q[0],W=q[1],Y=t.params.bucketName,Q=(0,w.F)(Y,[B.Ft.S3_GET_LIFECYCLE_CONFIGURATION]);(0,s.useEffect)((function(){i&&c(!0)}),[i,c]),(0,s.useEffect)((function(){l&&(Q?Z.Z.invoke("GET","/api/v1/buckets/".concat(Y,"/lifecycle")).then((function(e){var n=d()(e,"lifecycle",[]);v(n||[]),c(!1)})).catch((function(e){console.error(e),v([]),c(!1)})):c(!1))}),[l,c,Y,Q]);var $=[{label:"ID",elementKey:"id"},{label:"Prefix",elementKey:"prefix"},{label:"Status",elementKey:"status"},{label:"Expiration",elementKey:"expiration",renderFunction:function(e){return e.days?"".concat(e.days," day").concat(e.days>1?"s":""):"0001-01-01T00:00:00Z"===e.date?"":(0,k.jsx)(m(),{children:e.date})}},{label:"Transition",elementKey:"transition",renderFunction:function(e){return e.days?"".concat(e.days," day").concat(e.days>1?"s":""):"0001-01-01T00:00:00Z"===e.date?"":(0,k.jsx)(m(),{children:e.date})}},{label:"Storage Class",elementKey:"storage_class",renderFunction:function(e){return d()(e,"transition.storage_class","")},renderFullObject:!0}],J=[{type:"view",onClick:function(e){A(e),N(!0)}},{type:"delete",onClick:function(e){W(e),K(!0)},sendOnlyId:!0}];return(0,k.jsxs)(s.Fragment,{children:[_&&F&&(0,k.jsx)(E,{open:_,closeModalAndRefresh:function(e){N(!1),A(null),e&&c(!0)},selectedBucket:Y,lifecycle:F}),y&&(0,k.jsx)(T,{open:y,bucketName:Y,closeModalAndRefresh:function(e){b(!1),e&&c(!0)}}),G&&U&&(0,k.jsx)(z,{id:U,bucket:Y,deleteOpen:G,onCloseAndRefresh:function(e){K(!1),W(null),e&&c(!0)}}),(0,k.jsxs)(x.ZP,{container:!0,children:[(0,k.jsxs)(x.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,k.jsx)(M.Z,{children:"Lifecycle Rules"}),(0,k.jsx)(w.s,{scopes:[B.Ft.S3_PUT_LIFECYCLE_CONFIGURATION,B.Ft.ADMIN_LIST_TIERS],resource:Y,matchAll:!0,errorProps:{disabled:!0},children:(0,k.jsx)(O.Z,{tooltip:"Add Lifecycle Rule",onClick:function(){b(!0)},text:"Add Lifecycle Rule",icon:(0,k.jsx)(f.dt,{}),color:"primary",variant:"contained"})})]}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(w.s,{scopes:[B.Ft.S3_GET_LIFECYCLE_CONFIGURATION],resource:Y,errorProps:{disabled:!0},children:(0,k.jsx)(L.Z,{itemActions:J,columns:$,isLoading:l,records:h,entityName:"Lifecycle",customEmptyMessage:"There are no Lifecycle rules yet",idField:"id",customPaperHeight:n.twHeight})})}),!l&&(0,k.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,k.jsx)("br",{}),(0,k.jsx)(R.Z,{title:"Lifecycle Rules",iconComponent:(0,k.jsx)(f.y2,{}),help:(0,k.jsxs)(s.Fragment,{children:["MinIO Object Lifecycle Management allows creating rules for time or date based automatic transition or expiry of objects. For object transition, MinIO automatically moves the object to a configured remote storage tier.",(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),"You can learn more at our"," ",(0,k.jsx)("a",{href:"https://docs.min.io/minio/baremetal/lifecycle-management/lifecycle-management-overview.html?ref=con",target:"_blank",rel:"noreferrer",children:"documentation"}),"."]})})]})]})]})})))},65703:function(e,n,t){"use strict";var a=t(35531),i=t(23430),s=t(18489),r=t(50390),o=t(38342),l=t.n(o),c=t(3143),d=t.n(c),u=t(86509),m=t(4285),x=t(25594),f=t(12843),p=t(36554),h=t(94187),Z=t(72462),v=t(66964),g=t(14792),j=t(62559);n.Z=(0,m.Z)((function(e){return(0,u.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},Z.YI),Z.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15},lineInputBoxes:{display:"flex",marginBottom:10},queryDiv:{alignSelf:"center",margin:"0 4px",fontWeight:600}}))}))((function(e){var n=e.elements,t=e.name,s=e.label,o=e.tooltip,c=void 0===o?"":o,u=e.keyPlaceholder,m=void 0===u?"":u,Z=e.valuePlaceholder,y=void 0===Z?"":Z,b=e.onChange,S=e.withBorder,C=void 0!==S&&S,_=e.classes,k=(0,r.useState)([""]),N=(0,i.Z)(k,2),P=N[0],E=N[1],I=(0,r.useState)([""]),F=(0,i.Z)(I,2),T=F[0],L=F[1],R=(0,r.createRef)();(0,r.useEffect)((function(){if(1===P.length&&""===P[0]&&1===T.length&&""===T[0]&&n&&""!==n){var e=n.split("&"),t=[],a=[];e.forEach((function(e){var n=e.split("=");2===n.length&&(t.push(n[0]),a.push(n[1]))})),t.push(""),a.push(""),E(t),L(a)}}),[P,T,n]),(0,r.useEffect)((function(){var e=R.current;e&&P.length>1&&e.scrollIntoView(!1)}),[P]);var M=(0,r.useRef)(!0);(0,r.useLayoutEffect)((function(){M.current?M.current=!1:O()}),[P,T]);var w=function(e){e.persist();var n=(0,a.Z)(P);n[l()(e.target,"dataset.index",0)]=e.target.value,E(n)},B=function(e){e.persist();var n=(0,a.Z)(T);n[l()(e.target,"dataset.index",0)]=e.target.value,L(n)},O=d()((function(){var e="";P.forEach((function(n,t){if(P[t]&&T[t]){var a="".concat(n,"=").concat(T[t]);0!==t&&(a="&".concat(a)),e="".concat(e).concat(a)}})),b(e)}),500),A=T.map((function(e,n){return(0,j.jsxs)(x.ZP,{item:!0,xs:12,className:_.lineInputBoxes,children:[(0,j.jsx)(v.Z,{id:"".concat(t,"-key-").concat(n.toString()),label:"",name:"".concat(t,"-").concat(n.toString()),value:P[n],onChange:w,index:n,placeholder:m}),(0,j.jsx)("span",{className:_.queryDiv,children:":"}),(0,j.jsx)(v.Z,{id:"".concat(t,"-value-").concat(n.toString()),label:"",name:"".concat(t,"-").concat(n.toString()),value:T[n],onChange:B,index:n,placeholder:y,overlayIcon:n===T.length-1?(0,j.jsx)(g.Z,{}):null,overlayAction:function(){!function(){if(""!==P[P.length-1].trim()&&""!==T[T.length-1].trim()){var e=(0,a.Z)(P),n=(0,a.Z)(T);e.push(""),n.push(""),E(e),L(n)}}()}})]},"query-pair-".concat(t,"-").concat(n.toString()))}));return(0,j.jsx)(r.Fragment,{children:(0,j.jsxs)(x.ZP,{item:!0,xs:12,className:_.fieldContainer,children:[(0,j.jsxs)(p.Z,{className:_.inputLabel,children:[(0,j.jsx)("span",{children:s}),""!==c&&(0,j.jsx)("div",{className:_.tooltipContainer,children:(0,j.jsx)(h.Z,{title:c,placement:"top-start",children:(0,j.jsx)(f.Z,{className:_.tooltip})})})]}),(0,j.jsxs)(x.ZP,{item:!0,xs:12,className:"".concat(C?_.inputWithBorder:""),children:[A,(0,j.jsx)("div",{ref:R})]})]})})}))},27207:function(e,n,t){"use strict";var a=t(36222),i=t(18489),s=(t(50390),t(44977)),r=t(25594),o=t(82420),l=t(66695),c=t(98893),d=t(36554),u=t(94187),m=t(86509),x=t(4285),f=t(62449),p=t(72462),h=t(97538),Z=t(62559),v=(0,f.Z)((0,i.Z)({root:{"&:hover":{backgroundColor:"transparent"}}},p.FU)),g=function(e){var n=v();return(0,Z.jsx)(c.Z,(0,i.Z)({className:n.root,disableRipple:!0,color:"default",checkedIcon:(0,Z.jsx)("span",{className:n.radioSelectedIcon}),icon:(0,Z.jsx)("span",{className:n.radioUnselectedIcon})},e))};n.Z=(0,x.Z)((function(e){return(0,m.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},p.YI),p.Hr),{},{optionLabel:{"&.Mui-disabled":{"& .MuiFormControlLabel-label":{color:"#9c9c9c"}},"&:last-child":{marginRight:0},"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E"}},checkedOption:{"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E",fontWeight:700}}}))}))((function(e){var n=e.selectorOptions,t=void 0===n?[]:n,i=e.currentSelection,c=e.label,m=e.id,x=e.name,f=e.onChange,p=e.tooltip,v=void 0===p?"":p,j=e.disableOptions,y=void 0!==j&&j,b=e.classes,S=e.displayInColumn,C=void 0!==S&&S;return(0,Z.jsxs)(r.ZP,{container:!0,alignItems:"center",children:[(0,Z.jsx)(r.ZP,{item:!0,xs:!0,children:(0,Z.jsxs)(d.Z,{htmlFor:m,className:b.inputLabel,children:[(0,Z.jsx)("span",{children:c}),""!==v&&(0,Z.jsx)("div",{className:b.tooltipContainer,children:(0,Z.jsx)(u.Z,{title:v,placement:"top-start",children:(0,Z.jsx)("div",{children:(0,Z.jsx)(h.Z,{})})})})]})}),(0,Z.jsx)(r.ZP,{item:!0,xs:!0,className:b.radioOptionsLayout,children:(0,Z.jsx)(o.Z,{"aria-label":m,id:m,name:x,value:i,onChange:f,row:!C,style:{display:"block",textAlign:"right"},children:t.map((function(e){return(0,Z.jsx)(l.Z,{value:e.value,control:(0,Z.jsx)(g,{}),label:e.label,disabled:y,className:(0,s.Z)(b.optionLabel,(0,a.Z)({},b.checkedOption,e.value===i))},"rd-".concat(x,"-").concat(e.value))}))})})]})}))},60656:function(e,n,t){"use strict";var a=t(18489),i=t(50390),s=t(84402),r=t(78426),o=t(93085),l=t(7887),c=t(66946),d=t(7521),u=t(95467),m=t(21278),x=t(86509),f=t(4285),p=t(72462),h=t(62559);n.Z=(0,f.Z)((function(e){return(0,x.Z)((0,a.Z)({},p.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,x=e.onClose,f=e.onCancel,p=e.onConfirm,Z=e.classes,v=void 0===Z?{}:Z,g=e.title,j=void 0===g?"":g,y=e.isLoading,b=e.confirmationContent,S=e.cancelText,C=void 0===S?"Cancel":S,_=e.confirmText,k=void 0===_?"Confirm":_,N=e.confirmButtonProps,P=void 0===N?{}:N,E=e.cancelButtonProps,I=void 0===E?{}:E,F=e.titleIcon,T=void 0===F?null:F;return(0,h.jsxs)(s.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&x()},className:v.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,h.jsxs)(r.Z,{className:v.title,children:[(0,h.jsxs)("div",{className:v.titleText,children:[T," ",j]}),(0,h.jsx)("div",{className:v.closeContainer,children:(0,h.jsx)(u.Z,{"aria-label":"close",className:v.closeButton,onClick:x,disableRipple:!0,size:"small",children:(0,h.jsx)(m.Z,{})})})]}),(0,h.jsx)(o.Z,{className:v.content,children:b}),(0,h.jsxs)(l.Z,{className:v.actions,children:[(0,h.jsx)(c.Z,(0,a.Z)((0,a.Z)({className:v.cancelButton,onClick:f||x,disabled:y,type:"button"},I),{},{variant:"outlined",color:"primary",id:"confirm-cancel",children:C})),(0,h.jsx)(d.Z,(0,a.Z)((0,a.Z)({className:v.confirmButton,type:"button",onClick:p,loading:y,disabled:y,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,h.jsx)(i.Fragment,{}),autoFocus:!0,id:"confirm-ok"},P),{},{children:k}))]})]})}))},51002:function(e,n,t){"use strict";var a=t(23430),i=t(18489),s=t(50390),r=t(34424),o=t(95467),l=t(97771),c=t(84402),d=t(78426),u=t(93085),m=t(86509),x=t(4285),f=t(72462),p=t(44149),h=t(21278),Z=t(45980),v=t(62559),g=(0,r.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:p.MK});n.Z=(0,x.Z)((function(e){return(0,m.Z)((0,i.Z)((0,i.Z)({},f.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},f.sN))}))(g((function(e){var n=e.onClose,t=e.modalOpen,r=e.title,m=e.children,x=e.classes,f=e.wideLimit,p=void 0===f||f,g=e.modalSnackMessage,j=e.noContentPadding,y=e.setModalSnackMessage,b=e.titleIcon,S=void 0===b?null:b,C=(0,s.useState)(!1),_=(0,a.Z)(C,2),k=_[0],N=_[1];(0,s.useEffect)((function(){y("")}),[y]),(0,s.useEffect)((function(){if(g){if(""===g.message)return void N(!1);"error"!==g.type&&N(!0)}}),[g]);var P=p?{classes:{paper:x.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},E="";return g&&(E=g.detailedErrorMsg,(""===g.detailedErrorMsg||g.detailedErrorMsg.length<5)&&(E=g.message)),(0,v.jsxs)(c.Z,(0,i.Z)((0,i.Z)({open:t,classes:x},P),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:x.root,children:[(0,v.jsxs)(d.Z,{className:x.title,children:[(0,v.jsxs)("div",{className:x.titleText,children:[S," ",r]}),(0,v.jsx)("div",{className:x.closeContainer,children:(0,v.jsx)(o.Z,{"aria-label":"close",id:"close",className:x.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,v.jsx)(h.Z,{})})})]}),(0,v.jsx)(Z.Z,{isModal:!0}),(0,v.jsx)(l.Z,{open:k,className:x.snackBarModal,onClose:function(){N(!1),y("")},message:E,ContentProps:{className:"".concat(x.snackBar," ").concat(g&&"error"===g.type?x.errorSnackBar:"")},autoHideDuration:g&&"error"===g.type?1e4:5e3}),(0,v.jsx)(u.Z,{className:j?"":x.content,children:m})]}))})))},48122:function(e,n,t){"use strict";t(50390);var a=t(86509),i=t(4285),s=t(62559);n.Z=(0,i.Z)((function(e){return(0,a.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,s.jsx)("h1",{className:n.root,children:t})}))},63017:function(e,n,t){"use strict";var a=t(64119);n.Z=void 0;var i=a(t(66830)),s=t(62559),r=(0,i.default)((0,s.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");n.Z=r},50184:function(e,n,t){"use strict";var a=t(64119);n.Z=void 0;var i=a(t(66830)),s=t(62559),r=(0,i.default)((0,s.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");n.Z=r},74244:function(e,n,t){"use strict";var a=t(64119);n.Z=void 0;var i=a(t(66830)),s=t(62559),r=(0,i.default)((0,s.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");n.Z=r},64364:function(e,n,t){var a=t(28485),i=t(85809),s=t(30135);e.exports=function(e){return"string"==typeof e||!i(e)&&s(e)&&"[object String]"==a(e)}}}]);
//# sourceMappingURL=666.13e10b97.chunk.js.map