(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5614],{59121:function(e,t,a){"use strict";a.r(t);var n=a(29439),o=a(1413),c=a(72791),l=a(45953),r=a(96015),s=a(95087),i=a(75952),d=a(25469),u=a(92177),h=a(11135),p=a(25787),m=a(45248),f=a(26824),x=a(23814),b=a(92983),g=a(32291),v=a(34866),k=a(72426),Z=a.n(k),C=a(74794),y=a(56096),w=a(21435),j=a(5172),I=a(27454),S=a(80184),z=null;t.default=(0,p.Z)((function(e){return(0,h.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({sizeItem:{width:150},timeItem:{width:100}},x.OR),x.qg),x.bp),x.VX),{},{searchField:(0,o.Z)((0,o.Z)({},x.qg.searchField),{},{margin:"0 5px","&:first-of-type":{marginLeft:0},"&:last-of-type":{marginRight:0}}),tableWrapper:{height:"calc(100vh - 292px)"},inlineCheckboxes:(0,o.Z)((0,o.Z)({},x.IX.inlineCheckboxes),{},{alignItems:"center","@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start"}}),formBox:{border:"1px solid #EAEAEA",padding:25,marginBottom:15},traceCheckedIcon:{width:"14px",height:"14px",marginLeft:"0px"},unCheckedIcon:{width:"14px",height:"14px"},separatorBar:{fontSize:16,fontWeight:700,paddingTop:19,"@media (max-width: 900px)":{display:"none"}}},(0,x.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,a=(0,d.TL)(),o=(0,u.v9)((function(e){return e.trace.messages})),h=(0,u.v9)((function(e){return e.trace.traceStarted})),p=(0,c.useState)(""),x=(0,n.Z)(p,2),k=x[0],_=x[1],T=(0,c.useState)(""),F=(0,n.Z)(T,2),N=F[0],L=F[1],M=(0,c.useState)(""),O=(0,n.Z)(M,2),P=O[0],E=O[1],B=(0,c.useState)(""),A=(0,n.Z)(B,2),H=A[0],R=A[1],W=(0,c.useState)(0),D=(0,n.Z)(W,2),V=D[0],q=D[1],K=(0,c.useState)(!1),U=(0,n.Z)(K,2),Y=U[0],G=U[1],X=(0,c.useState)(!0),J=(0,n.Z)(X,2),Q=J[0],$=J[1],ee=(0,c.useState)(!1),te=(0,n.Z)(ee,2),ae=te[0],ne=te[1],oe=(0,c.useState)(!1),ce=(0,n.Z)(oe,2),le=ce[0],re=ce[1],se=(0,c.useState)(!1),ie=(0,n.Z)(se,2),de=ie[0],ue=ie[1],he=(0,c.useState)(!1),pe=(0,n.Z)(he,2),me=pe[0],fe=pe[1],xe=(0,c.useState)(!1),be=(0,n.Z)(xe,2),ge=be[0],ve=be[1];return(0,S.jsxs)(c.Fragment,{children:[(0,S.jsx)(g.Z,{label:"Trace"}),(0,S.jsx)(C.Z,{children:(0,S.jsxs)(l.ZP,{className:t.formBox,children:[(0,S.jsxs)(l.ZP,{item:!0,xs:12,sx:{display:"flex",flexFlow:"column","& .trace-checkbox-label":{fontSize:"14px",fontWeight:"normal"}},children:[(0,S.jsx)(r.Z,{sx:{fontSize:"16px",fontWeight:600,padding:"20px 0px 20px 0"},children:"Calls to Trace"}),(0,S.jsxs)(r.Z,{className:"".concat(h?"inactive-state":""),sx:{display:"flex",alignItems:"center",justifyContent:"space-between","&.inactive-state .trace-checkbox-label":{color:"#a6a5a5"}},children:[(0,S.jsxs)(r.Z,{sx:{display:"flex",flexFlow:"row",gap:{md:"30px"},"& .trace-checked-icon":{border:"1px solid red"}},children:[(0,S.jsx)(v.Z,{checked:Y,id:"all_calls",name:"all_calls",label:"All",onChange:function(e){G(e.target.checked)},value:"all",disabled:h,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}}),(0,S.jsx)(v.Z,{checked:Q||Y,id:"s3_calls",name:"s3_calls",label:"S3",onChange:function(e){$(e.target.checked)},value:"s3",disabled:h,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}}),(0,S.jsx)(v.Z,{checked:ae||Y,id:"internal_calls",name:"internal_calls",label:"Internal",onChange:function(e){ne(e.target.checked)},value:"internal",disabled:Y||h,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}}),(0,S.jsx)(v.Z,{checked:le||Y,id:"storage_calls",name:"storage_calls",label:"Storage",onChange:function(e){re(e.target.checked)},value:"storage",disabled:Y||h,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}}),(0,S.jsx)(v.Z,{checked:de||Y,id:"os_calls",name:"os_calls",label:"OS",onChange:function(e){ue(e.target.checked)},value:"os",disabled:Y||h,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}})]}),(0,S.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"15px"},children:[(0,S.jsx)(I.Z,{tooltip:"More filter options",children:(0,S.jsx)(i.zx,{id:"filter-toggle",onClick:function(){ve(!ge)},label:"Filters",icon:(0,S.jsx)(y.k1n,{}),variant:"regular",className:"filters-toggle-button",style:{width:"118px",background:ge?"rgba(8, 28, 66, 0.04)":""}})}),!h&&(0,S.jsx)(i.zx,{id:"start-trace",label:"Start","data-test-id":"trace-start-button",variant:"callAction",onClick:function(){a((0,j.At)());var e=new URL(window.location.toString()),t=e.port,n="".concat(Q?"s3,":"").concat(ae?"internal,":"").concat(le?"storage,":"").concat(de?"os,":"");Y&&(n="all");var o=new URL(document.baseURI).pathname,c=(0,f.x2)(e.protocol);z=new s.w3cwebsocket("".concat(c,"://").concat(e.hostname,":").concat(t).concat(o,"ws/trace?calls=").concat(n,"&threshold=").concat(V,"&onlyErrors=").concat(me?"yes":"no","&statusCode=").concat(k,"&method=").concat(N,"&funcname=").concat(P,"&path=").concat(H));var l=null;if(null!==z)return z.onopen=function(){console.log("WebSocket Client Connected"),a((0,j.qv)(!0)),z.send("ok"),l=setInterval((function(){z.send("ok")}),1e4)},z.onmessage=function(e){var t=JSON.parse(e.data.toString());t.ptime=Z()(t.time,"YYYY-MM-DD HH:mm:s.SSSS +0000 UTC").toDate(),t.key=Math.random(),a((0,j.ho)(t))},z.onclose=function(){clearInterval(l),console.log("connection closed by server"),a((0,j.qv)(!1))},function(){z.close(1e3),clearInterval(l),console.log("closing websockets"),(0,j.qv)(!1)}},style:{width:"118px"}}),h&&(0,S.jsx)(i.zx,{id:"stop-trace",label:"Stop Trace","data-test-id":"trace-stop-button",variant:"callAction",onClick:function(){z.close(1e3),a((0,j.qv)(!1))},style:{width:"118px"}})]})]})]}),ge?(0,S.jsxs)(l.ZP,{item:!0,className:"".concat(h?"inactive-state":""),xs:12,sx:{marginTop:"25px",display:"flex",flexFlow:"column",background:"#FBFAFA",padding:"30px","&.inactive-state label":{color:"#a6a5a5"},"& .orient-vertical":{flexFlow:"column","& label":{marginBottom:"10px",fontWeight:600}},"& .trace-checkbox-label":{fontSize:"14px",fontWeight:"normal"}},children:[(0,S.jsxs)(r.Z,{sx:{gap:"30px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",width:"100%"},children:[(0,S.jsx)(w.Z,{className:"orient-vertical",id:"trace-status-code",name:"trace-status-code",label:"Status Code",classes:{},placeholder:"e.g. 503",value:k,onChange:function(e){_(e.target.value)},disabled:h}),(0,S.jsx)(w.Z,{className:"orient-vertical",id:"trace-function-name",name:"trace-function-name",label:"Function Name",classes:{},placeholder:"e.g. FunctionName2055",value:P,onChange:function(e){E(e.target.value)},disabled:h}),(0,S.jsx)(w.Z,{className:"orient-vertical",id:"trace-method",name:"trace-method",label:"Method",classes:{},placeholder:"e.g. Method 2056",value:N,onChange:function(e){L(e.target.value)},disabled:h})]}),(0,S.jsxs)(r.Z,{sx:{gap:"30px",display:"grid",gridTemplateColumns:"2fr 1fr",width:"100%",marginTop:"33px"},children:[(0,S.jsx)(r.Z,{flex:"2",style:{width:"calc( 100% + 10px)"},children:(0,S.jsx)(w.Z,{className:"orient-vertical",id:"trace-path",name:"trace-path",label:"Path",classes:{},placeholder:"e.g. my-bucket/my-prefix/*",value:H,onChange:function(e){R(e.target.value)},disabled:h})}),(0,S.jsx)(r.Z,{sx:{marginLeft:"15px"},children:(0,S.jsx)(w.Z,{className:"orient-vertical",id:"trace-fthreshold",name:"trace-fthreshold",label:"Response Threshold",type:"number",classes:{},placeholder:"e.g. website.io.3249.114.12",value:"".concat(V),onChange:function(e){q(parseInt(e.target.value))},disabled:h})})]}),(0,S.jsx)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:"40px"},children:(0,S.jsx)(v.Z,{checked:me,id:"only_errors",name:"only_errors",label:"Display only Errors",onChange:function(e){fe(e.target.checked)},value:"only_errors",disabled:h,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}})})]}):null,(0,S.jsx)(l.ZP,{item:!0,xs:12,children:(0,S.jsx)(r.Z,{sx:{fontSize:"16px",fontWeight:600,marginBottom:"30px",marginTop:"30px"},children:"Trace Results"})}),(0,S.jsx)(l.ZP,{item:!0,xs:12,className:t.tableBlock,children:(0,S.jsx)(b.Z,{itemActions:[],columns:[{label:"Time",elementKey:"ptime",renderFunction:function(e){var t=new Date(e);return(0,m.zk)(t)},globalClass:t.timeItem},{label:"Name",elementKey:"api"},{label:"Status",elementKey:"",renderFunction:function(e){return"".concat(e.statusCode," ").concat(e.statusMsg)},renderFullObject:!0},{label:"Location",elementKey:"configuration_id",renderFunction:function(e){return"".concat(e.host," ").concat(e.client)},renderFullObject:!0},{label:"Load Time",elementKey:"callStats.duration",globalClass:t.timeItem},{label:"Upload",elementKey:"callStats.rx",renderFunction:m.ae,globalClass:t.sizeItem},{label:"Download",elementKey:"callStats.tx",renderFunction:m.ae,globalClass:t.sizeItem}],isLoading:!1,records:o,entityName:"Traces",idField:"api",customEmptyMessage:h?"No Traced elements received yet":"Trace is not started yet",customPaperHeight:t.tableWrapper,autoScrollToBottom:!0})})]})})]})}))},26824:function(e,t,a){"use strict";a.d(t,{HE:function(){return c},V9:function(){return n},ci:function(){return o},x2:function(){return l}});var n=1006,o=1008,c=1011,l=function(e){var t="ws";return"https:"===e&&(t="wss"),t}},26759:function(e,t,a){"use strict";var n=a(91941);t.Z=void 0;var o=n(a(45649)),c=a(80184),l=(0,o.default)((0,c.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=l},70366:function(e,t,a){"use strict";var n=a(91941);t.Z=void 0;var o=n(a(45649)),c=a(80184),l=(0,o.default)((0,c.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");t.Z=l},97911:function(e,t,a){"use strict";var n=a(91941);t.Z=void 0;var o=n(a(45649)),c=a(80184),l=(0,o.default)((0,c.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");t.Z=l},45473:function(e,t,a){"use strict";a.d(t,{Z:function(){return z}});var n=a(4942),o=a(1048),c=a(32793),l=a(72791),r=a(28182),s=a(94419),i=a(12065),d=a(7278),u=a(81245),h=a(80184),p=(0,u.Z)((0,h.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=(0,u.Z)((0,h.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),f=(0,u.Z)((0,h.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),x=a(49853),b=a(85513),g=a(60277),v=a(75878),k=a(21217);function Z(e){return(0,k.Z)("MuiCheckbox",e)}var C=(0,v.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],w=(0,g.ZP)(d.Z,{shouldForwardProp:function(e){return(0,g.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.indeterminate&&t.indeterminate,"default"!==a.color&&t["color".concat((0,x.Z)(a.color))]]}})((function(e){var t,a=e.theme,o=e.ownerState;return(0,c.Z)({color:(a.vars||a).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:a.vars?"rgba(".concat("default"===o.color?a.vars.palette.action.activeChannel:a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,i.Fq)("default"===o.color?a.palette.action.active:a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&(t={},(0,n.Z)(t,"&.".concat(C.checked,", &.").concat(C.indeterminate),{color:(a.vars||a).palette[o.color].main}),(0,n.Z)(t,"&.".concat(C.disabled),{color:(a.vars||a).palette.action.disabled}),t))})),j=(0,h.jsx)(m,{}),I=(0,h.jsx)(p,{}),S=(0,h.jsx)(f,{}),z=l.forwardRef((function(e,t){var a,n,i=(0,b.Z)({props:e,name:"MuiCheckbox"}),d=i.checkedIcon,u=void 0===d?j:d,p=i.color,m=void 0===p?"primary":p,f=i.icon,g=void 0===f?I:f,v=i.indeterminate,k=void 0!==v&&v,C=i.indeterminateIcon,z=void 0===C?S:C,_=i.inputProps,T=i.size,F=void 0===T?"medium":T,N=i.className,L=(0,o.Z)(i,y),M=k?z:g,O=k?z:u,P=(0,c.Z)({},i,{color:m,indeterminate:k,size:F}),E=function(e){var t=e.classes,a=e.indeterminate,n=e.color,o={root:["root",a&&"indeterminate","color".concat((0,x.Z)(n))]},l=(0,s.Z)(o,Z,t);return(0,c.Z)({},t,l)}(P);return(0,h.jsx)(w,(0,c.Z)({type:"checkbox",inputProps:(0,c.Z)({"data-indeterminate":k},_),icon:l.cloneElement(M,{fontSize:null!=(a=M.props.fontSize)?a:F}),checkedIcon:l.cloneElement(O,{fontSize:null!=(n=O.props.fontSize)?n:F}),ownerState:P,ref:t,className:(0,r.Z)(E.root,N)},L,{classes:E}))}))},94210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},26769:function(e,t,a){var n=a(39066),o=a(93629),c=a(43141);e.exports=function(e){return"string"==typeof e||!o(e)&&c(e)&&"[object String]"==n(e)}},95087:function(e,t,a){var n;if("object"===typeof globalThis)n=globalThis;else try{n=a(94210)}catch(r){}finally{if(n||"undefined"===typeof window||(n=window),!n)throw new Error("Could not determine global this")}var o=n.WebSocket||n.MozWebSocket,c=a(51496);function l(e,t){return t?new o(e,t):new o(e)}o&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(l,e,{get:function(){return o[e]}})})),e.exports={w3cwebsocket:o?l:null,version:c}},51496:function(e,t,a){e.exports=a(19794).version},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=5614.bf064f70.chunk.js.map