(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7374],{25643:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});n(72791);var r=n(99779),o=n(80184),i=[{label:"Access Key",elementKey:"accessKey"},{label:"Expiry",elementKey:"expiration",renderFunction:function(e){if(e){var t=r.ou.fromISO(e).toUTC().toFormat("y/M/d hh:mm:ss z");return(0,o.jsx)("span",{title:t,children:t})}return""}},{label:"Status",elementKey:"accountStatus",renderFunction:function(e){return"off"===e?"Disabled":"Enabled"}},{label:"Name",elementKey:"name"},{label:"Description",elementKey:"description"}]},14048:function(e,t,n){"use strict";var r=n(74165),o=n(15861),i=n(29439),a=n(72791),l=n(29945),c=n(31776),u=n(82342),s=n(92217),p=n(44690),f=n(45248),d=n(87995),y=n(56028),m=n(23814),b=n(80184);t.Z=function(e){var t=e.open,n=e.selectedAccessKey,h=e.closeModalAndRefresh,g=(0,p.TL)(),v=(0,a.useState)(!1),x=(0,i.Z)(v,2),C=x[0],w=x[1],S=(0,a.useState)(""),k=(0,i.Z)(S,2),_=k[0],E=k[1];(0,a.useEffect)((function(){if(!C&&""!==n){var e=(0,f.LL)(n);w(!0),c.h.serviceAccounts.getServiceAccountPolicy(e).then((function(e){w(!1),E(e.data)})).catch((function(e){w(!1),g((0,d.zb)((0,u.g)(e)))}))}}),[n]);return(0,b.jsx)(y.Z,{title:"Access Key Policy",modalOpen:t,onClose:function(){h()},titleIcon:(0,b.jsx)(l.QXQ,{}),children:(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){var t;t=_,e.preventDefault(),c.h.serviceAccounts.setServiceAccountPolicy((0,f.LL)(n),{policy:t}).then((function(){h()})).catch(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,g((0,d.Ih)((0,u.g)(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:(0,b.jsxs)(l.rjZ,{container:!0,children:[(0,b.jsx)(l.rjZ,{item:!0,xs:12,children:(0,b.jsx)(s.Z,{label:"Access Key Policy",value:_,onChange:function(e){E(e)},editorHeight:"350px",helptip:(0,b.jsx)(a.Fragment,{children:(0,b.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/identity-access-management/policy-based-access-control.html#policy-document-structure",children:"Guide to access policy structure"})})})}),(0,b.jsxs)(l.rjZ,{item:!0,xs:12,sx:m.ID.modalButtonBar,children:[(0,b.jsx)(l.zxk,{id:"cancel-sa-policy",type:"button",variant:"regular",onClick:function(){h()},disabled:C,label:"Cancel"}),(0,b.jsx)(l.zxk,{id:"save-sa-policy",type:"submit",variant:"callAction",color:"primary",disabled:C,label:"Set"})]})]})})})}},75578:function(e,t,n){"use strict";var r=n(1413),o=n(72791),i=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return(0,i.jsx)(o.Suspense,{fallback:t,children:(0,i.jsx)(e,(0,r.Z)({},n))})}}},92217:function(e,t,n){"use strict";var r=n(72791),o=n(29945),i=n(78029),a=n.n(i),l=n(27454),c=n(80184);t.Z=function(e){var t=e.value,n=e.label,i=void 0===n?"":n,u=e.tooltip,s=void 0===u?"":u,p=e.mode,f=void 0===p?"json":p,d=e.onChange,y=e.editorHeight,m=void 0===y?250:y,b=e.helptip;return(0,c.jsx)(o.pq4,{value:t,onChange:function(e){return d(e)},mode:f,tooltip:s,editorHeight:m,label:i,helpTools:(0,c.jsx)(r.Fragment,{children:(0,c.jsx)(l.Z,{tooltip:"Copy to Clipboard",children:(0,c.jsx)(a(),{text:t,children:(0,c.jsx)(o.zxk,{type:"button",id:"copy-code-mirror",icon:(0,c.jsx)(o.TIy,{}),color:"primary",variant:"regular"})})})}),helpTip:b,helpTipPlacement:"right"})}},58493:function(e,t,n){"use strict";n.d(t,{DD:function(){return s},DP:function(){return u},F_:function(){return f},_0:function(){return p},bx:function(){return c}});var r=n(4942),o=n(1413),i=n(93433),a=(n(72791),n(29945)),l=n(80184),c=[{icon:(0,l.jsx)(a.N1D,{}),configuration_id:"region",configuration_label:"Region"},{icon:(0,l.jsx)(a.jG4,{}),configuration_id:"compression",configuration_label:"Compression"},{icon:(0,l.jsx)(a.dNJ,{}),configuration_id:"api",configuration_label:"API"},{icon:(0,l.jsx)(a.JOn,{}),configuration_id:"heal",configuration_label:"Heal"},{icon:(0,l.jsx)(a.oTr,{}),configuration_id:"scanner",configuration_label:"Scanner"},{icon:(0,l.jsx)(a._m8,{}),configuration_id:"etcd",configuration_label:"Etcd"},{icon:(0,l.jsx)(a.zD0,{}),configuration_id:"logger_webhook",configuration_label:"Logger Webhook"},{icon:(0,l.jsx)(a.Pd4,{}),configuration_id:"audit_webhook",configuration_label:"Audit Webhook"},{icon:(0,l.jsx)(a.I$E,{}),configuration_id:"audit_kafka",configuration_label:"Audit Kafka"}],u={region:[{name:"name",required:!0,label:"Server Location",tooltip:'Name of the location of the server e.g. "us-west-rack2"',type:"string",placeholder:"e.g. us-west-rack-2"},{name:"comment",required:!1,label:"Comment",tooltip:"You can add a comment to this setting",type:"comment",placeholder:"Enter custom notes if any"}],compression:[{name:"extensions",required:!1,label:"Extensions",tooltip:'Extensions to compress e.g. ".txt", ".log" or ".csv" -  you can write one per field',type:"csv",placeholder:"Enter an Extension",withBorder:!0},{name:"mime_types",required:!1,label:"Mime Types",tooltip:'Mime types e.g. "text/*", "application/json" or "application/xml" - you can write one per field',type:"csv",placeholder:"Enter a Mime Type",withBorder:!0}],api:[{name:"requests_max",required:!1,label:"Requests Max",tooltip:"Maximum number of concurrent requests, e.g. '1600'",type:"number",placeholder:"Enter Requests Max"},{name:"cors_allow_origin",required:!1,label:"Cors Allow Origin",tooltip:"List of origins allowed for CORS requests",type:"csv",placeholder:"Enter allowed origin e.g. https://example.com"},{name:"replication_workers",required:!1,label:"Replication Workers",tooltip:"Number of replication workers, defaults to 100",type:"number",placeholder:"Enter Replication Workers"},{name:"replication_failed_workers",required:!1,label:"Replication Failed Workers",tooltip:"Number of replication workers for recently failed replicas, defaults to 4",type:"number",placeholder:"Enter Replication Failed Workers"}],heal:[{name:"bitrotscan",required:!1,label:"Bitrot Scan",tooltip:"Perform bitrot scan on disks when checking objects during scanner",type:"on|off"},{name:"max_sleep",required:!1,label:"Max Sleep",tooltip:"Maximum sleep duration between objects to slow down heal operation, e.g. 2s",type:"duration",placeholder:"Enter Max Sleep Duration"},{name:"max_io",required:!1,label:"Max IO",tooltip:"Maximum IO requests allowed between objects to slow down heal operation, e.g. 3",type:"number",placeholder:"Enter Max IO"}],scanner:[{name:"delay",required:!1,label:"Delay Multiplier",tooltip:"Scanner delay multiplier, defaults to '10.0'",type:"number",placeholder:"Enter Delay"},{name:"max_wait",required:!1,label:"Max Wait",tooltip:"Maximum wait time between operations, defaults to '15s'",type:"duration",placeholder:"Enter Max Wait"},{name:"cycle",required:!1,label:"Cycle",tooltip:"Time duration between scanner cycles, defaults to '1m'",type:"duration",placeholder:"Enter Cycle"}],etcd:[{name:"endpoints",required:!0,label:"Endpoints",tooltip:'List of etcd endpoints e.g. "http://localhost:2379" - you can write one per field',type:"csv",placeholder:"Enter Endpoint"},{name:"path_prefix",required:!1,label:"Path Prefix",tooltip:'Namespace prefix to isolate tenants e.g. "customer1/"',type:"string",placeholder:"Enter Path Prefix"},{name:"coredns_path",required:!1,label:"Coredns Path",tooltip:'Shared bucket DNS records, default is "/skydns"',type:"string",placeholder:"Enter Coredns Path"},{name:"client_cert",required:!1,label:"Client Cert",tooltip:"Client cert for mTLS authentication",type:"string",placeholder:"Enter Client Cert"},{name:"client_cert_key",required:!1,label:"Client Cert Key",tooltip:"Client cert key for mTLS authentication",type:"string",placeholder:"Enter Client Cert Key"},{name:"comment",required:!1,label:"Comment",tooltip:"You can add a comment to this setting",type:"comment",multiline:!0,placeholder:"Enter custom notes if any"}],logger_webhook:[{name:"endpoint",required:!0,label:"Endpoint",type:"string",placeholder:"Enter Endpoint"},{name:"auth_token",required:!0,label:"Auth Token",type:"string",placeholder:"Enter Auth Token"}],audit_webhook:[{name:"endpoint",required:!0,label:"Endpoint",type:"string",placeholder:"Enter Endpoint"},{name:"auth_token",required:!0,label:"Auth Token",type:"string",placeholder:"Enter Auth Token"}],audit_kafka:[{name:"enable",required:!1,label:"Enable",tooltip:"Enable audit_kafka target",type:"on|off",customValueProcess:function(e){return""===e||"on"===e?"on":"off"}},{name:"brokers",required:!0,label:"Brokers",type:"csv",placeholder:"Enter Kafka Broker"},{name:"topic",required:!1,label:"Topic",type:"string",placeholder:"Enter Kafka Topic",tooltip:"Kafka topic used for bucket notifications"},{name:"sasl",required:!1,label:"Use SASL",tooltip:"Enable SASL (Simple Authentication and Security Layer) authentication",type:"on|off"},{name:"sasl_username",required:!1,label:"SASL Username",type:"string",placeholder:"Enter SASL Username",tooltip:"Username for SASL/PLAIN or SASL/SCRAM authentication"},{name:"sasl_password",required:!1,label:"SASL Password",type:"password",placeholder:"Enter SASL Password",tooltip:"Password for SASL/PLAIN or SASL/SCRAM authentication"},{name:"sasl_mechanism",required:!1,label:"SASL Mechanism",type:"string",placeholder:"Enter SASL Mechanism",tooltip:"SASL authentication mechanism"},{name:"tls",required:!1,label:"Use TLS",tooltip:"Enable TLS (Transport Layer Security)",type:"on|off"},{name:"tls_skip_verify",required:!1,label:"Skip TLS Verification",tooltip:"Trust server TLS without verification",type:"on|off"},{name:"client_tls_cert",required:!1,label:"Client Cert",tooltip:"Client cert for mTLS authentication",type:"string",placeholder:"Enter Client Cert"},{name:"client_tls_key",required:!1,label:"Client Cert Key",tooltip:"Client cert key for mTLS authentication",type:"string",placeholder:"Enter Client Cert Key"},{name:"tls_client_auth",required:!1,label:"TLS Client Auth",tooltip:"ClientAuth determines the Kafka server's policy for TLS client authorization",type:"string"},{name:"version",required:!1,label:"Version",tooltip:"Specify the version of the Kafka cluster",type:"string"}]},s=function(e){return e.filter((function(e){return""!==e.value}))},p=function(e,t,n){var r=e.target,o=r.value,a=r.checked,l=(0,i.Z)(n);return a?l.push(o):l=l.filter((function(e){return e!==o})),t(l),l},f=function(e){var t={};return e.forEach((function(e){if(e.env_override){var n={value:e.env_override.value||"",overrideEnv:e.env_override.name||""};t=(0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},e.key,n))}})),t}},18303:function(e,t,n){"use strict";var r=n(29439),o=n(72791),i=n(29945),a=n(9505),l=n(23508),c=n(87995),u=n(44690),s=n(80184);t.Z=function(e){var t=e.closeDeleteModalAndRefresh,n=e.deleteOpen,p=e.selectedSAs,f=(0,u.TL)(),d=(0,a.Z)((function(){return t(!0)}),(function(e){return f((0,c.Ih)(e))})),y=(0,r.Z)(d,2),m=y[0],b=y[1];if(!p)return null;return(0,s.jsx)(l.Z,{title:"Delete Access Keys",confirmText:"Delete",isOpen:n,titleIcon:(0,s.jsx)(i.NvT,{}),isLoading:m,onConfirm:function(){b("DELETE","/api/v1/service-accounts/delete-multi",p)},onClose:function(){return t(!1)},confirmationContent:(0,s.jsxs)(o.Fragment,{children:["Are you sure you want to delete the selected ",p.length," ","Access Keys?"," "]})})}},21639:function(e,t,n){"use strict";n.d(t,{KE:function(){return a},LQ:function(){return r},V2:function(){return i},g4:function(){return o}});var r=function(e,t){if(e.accessKey&&t.accessKey){if(e.accessKey>t.accessKey)return 1;if(e.accessKey<t.accessKey)return-1}return 0},o=function(e,t){return e.name>t.name?1:e.name<t.name?-1:0},i=function(e,t){return e>t?1:e<t?-1:0},a=function(e,t){return e.policy>t.policy?1:e.policy<t.policy?-1:0}},76998:function(e,t,n){"use strict";var r=n(42458),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,a,l,c,u,s=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),l=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[t.format]||o.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),l.selectNodeContents(u),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(p){n&&console.error("unable to copy using execCommand: ",p),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(p){n&&console.error("unable to copy using clipboardData: ",p),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),u&&document.body.removeChild(u),a()}return s}},568:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var o=l(n(72791)),i=l(n(76998)),a=["text","onCopy","options","children"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(c,e);var t,n,r,l=d(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=l.call.apply(l,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.text,a=n.onCopy,l=n.children,c=n.options,u=o.default.Children.only(l),s=(0,i.default)(r,c);a&&a(r,s),u&&u.props&&"function"===typeof u.props.onClick&&u.props.onClick(t)})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=s(e,a),r=o.default.Children.only(t);return o.default.cloneElement(r,u(u({},n),{},{onClick:this.onClick}))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.default.PureComponent);t.CopyToClipboard=h,b(h,"defaultProps",{onCopy:void 0,options:void 0})},78029:function(e,t,n){"use strict";var r=n(568).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},42458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}}]);
//# sourceMappingURL=7374.9d2e12d2.chunk.js.map