"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2921],{2921:function(e,n,a){a.r(n),a.d(n,{default:function(){return U}});var t=a(29439),i=a(1413),l=a(72791),o=a(61889),s=a(29945),r=a(11135),c=a(25787),u=a(81207),d=a(87462),p=a(63366),v=a(28182),x=a(94419),h=a(829),m=a(31402),f=a(66934),Z=a(75878),b=a(21217);function j(e){return(0,b.Z)("MuiTableHead",e)}(0,Z.Z)("MuiTableHead",["root"]);var g=a(80184),C=["className","component"],N=(0,f.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),P={variant:"head"},y="thead",k=l.forwardRef((function(e,n){var a=(0,m.Z)({props:e,name:"MuiTableHead"}),t=a.className,i=a.component,l=void 0===i?y:i,o=(0,p.Z)(a,C),s=(0,d.Z)({},a,{component:l}),r=function(e){var n=e.classes;return(0,x.Z)({root:["root"]},j,n)}(s);return(0,g.jsx)(h.Z.Provider,{value:P,children:(0,g.jsx)(N,(0,d.Z)({as:l,className:(0,v.Z)(r.root,t),ref:n,role:l===y?null:"rowgroup",ownerState:s},o))})})),F=a(35855),w=a(53994),S=a(53382),T=a(94454),R=a(79836),I=a(23814),E=a(56028),L=a(21435),M=a(27391),O=a(30829),H=a(20068),A=a(68096),B=a(72455),z=a(35739),W=(0,B.Z)((function(e){return(0,r.Z)((0,i.Z)({},I.gM))}));function D(e){var n=W();return(0,g.jsx)(M.Z,(0,i.Z)({InputProps:{classes:n}},e))}var K=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({},I.YI),I.Hr))}))((function(e){var n=e.classes,a=e.id,r=e.name,c=e.onChange,u=e.options,d=e.label,p=e.tooltip,v=void 0===p?"":p,x=e.value,h=e.disabled,m=void 0!==h&&h,f=(0,l.useState)(u[0]),Z=(0,t.Z)(f,2),b=Z[0],j=Z[1];return(0,g.jsx)(l.Fragment,{children:(0,g.jsxs)(o.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==d&&(0,g.jsxs)(O.Z,{htmlFor:a,className:n.inputLabel,children:[(0,g.jsx)("span",{children:d}),""!==v&&(0,g.jsx)("div",{className:n.tooltipContainer,children:(0,g.jsx)(H.Z,{title:v,placement:"top-start",children:(0,g.jsx)("div",{className:n.tooltip,children:(0,g.jsx)(s.byK,{})})})})]}),(0,g.jsx)(A.Z,{fullWidth:!0,children:(0,g.jsx)(z.Z,{id:a,options:u,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e){return e.value===x},disabled:m,renderInput:function(e){return(0,g.jsx)(D,(0,i.Z)((0,i.Z)({},e),{},{name:r}))},value:b,onChange:function(e,n){n&&(c(n.value),j(n))},autoHighlight:!0})})]})})})),G=a(87995),q=a(81551),U=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({arnField:{"& div div .MuiOutlinedInput-root":{padding:0}}},I.DF),I.ID))}))((function(e){var n=e.classes,a=e.open,i=e.selectedBucket,r=e.closeModalAndRefresh,c=(0,q.TL)(),d=(0,l.useState)(!1),p=(0,t.Z)(d,2),v=p[0],x=p[1],h=(0,l.useState)(""),m=(0,t.Z)(h,2),f=m[0],Z=m[1],b=(0,l.useState)(""),j=(0,t.Z)(b,2),C=j[0],N=j[1],P=(0,l.useState)(""),y=(0,t.Z)(P,2),I=y[0],M=y[1],O=(0,l.useState)([]),H=(0,t.Z)(O,2),A=H[0],B=H[1],z=(0,l.useState)([]),W=(0,t.Z)(z,2),D=W[0],U=W[1],V=(0,l.useCallback)((function(){x(!0),u.Z.invoke("GET","/api/v1/admin/arns").then((function(e){var n=[];null!==e.arns&&(n=e.arns),x(!1),U(n)})).catch((function(e){x(!1),c((0,G.zb)(e))}))}),[c]);(0,l.useEffect)((function(){V()}),[V]);var Y=function(e,n){var a=A.indexOf(n),t=[];-1===a?t=t.concat(A,n):0===a?t=t.concat(A.slice(1)):a===A.length-1?t=t.concat(A.slice(0,-1)):a>0&&(t=t.concat(A.slice(0,a),A.slice(a+1))),B(t)},_=D.map((function(e){return{label:e,value:e}}));return(0,g.jsx)(E.Z,{modalOpen:a,onClose:function(){r()},title:"Subscribe To Bucket Events",titleIcon:(0,g.jsx)(s.c3W,{}),children:(0,g.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),v||(x(!0),u.Z.invoke("POST","/api/v1/buckets/".concat(i,"/events"),{configuration:{arn:I,events:A,prefix:f,suffix:C},ignoreExisting:!0}).then((function(){x(!1),r()})).catch((function(e){x(!1),c((0,G.zb)(e))})))},children:(0,g.jsxs)(o.ZP,{container:!0,children:[(0,g.jsxs)(o.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,g.jsx)(o.ZP,{item:!0,xs:12,className:"".concat(n.arnField," ").concat(n.formFieldRow),children:(0,g.jsx)(K,{onChange:function(e){M(e)},id:"select-access-policy",name:"select-access-policy",label:"ARN",value:I,options:_})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,g.jsx)(L.Z,{id:"prefix-input",name:"prefix-input",label:"Prefix",value:f,onChange:function(e){Z(e.target.value)}})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,g.jsx)(L.Z,{id:"suffix-input",name:"suffix-input",label:"Suffix",value:C,onChange:function(e){N(e.target.value)}})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,g.jsxs)(R.Z,{size:"medium",children:[(0,g.jsx)(k,{className:n.minTableHeader,children:(0,g.jsxs)(F.Z,{children:[(0,g.jsx)(w.Z,{children:"Select"}),(0,g.jsx)(w.Z,{children:"Event"})]})}),(0,g.jsx)(S.Z,{children:[{label:"PUT - Object Uploaded",value:"put"},{label:"GET - Object accessed",value:"get"},{label:"DELETE - Object Deleted",value:"delete"}].map((function(e){return(0,g.jsxs)(F.Z,{onClick:function(n){return Y(0,e.value)},children:[(0,g.jsx)(w.Z,{padding:"checkbox",children:(0,g.jsx)(T.Z,{value:e.value,color:"primary",inputProps:{"aria-label":"secondary checkbox"},onChange:function(n){return Y(0,e.value)},checked:A.includes(e.value)})}),(0,g.jsx)(w.Z,{className:n.wrapCell,children:e.label})]},"group-".concat(e.value))}))})]})})]}),(0,g.jsxs)(o.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,g.jsx)(s.zxk,{id:"cancel-add-event",type:"button",variant:"regular",disabled:v,onClick:function(){r()},label:"Cancel"}),(0,g.jsx)(s.zxk,{id:"save-event",type:"submit",variant:"callAction",disabled:v,label:"Save"})]})]})})})}))},21435:function(e,n,a){var t=a(29439),i=a(1413),l=a(72791),o=a(27391),s=a(61889),r=a(30829),c=a(20068),u=a(13400),d=a(20165),p=a(3579),v=a(11135),x=a(72455),h=a(25787),m=a(23814),f=a(29945),Z=a(28182),b=a(80184),j=(0,x.Z)((function(e){return(0,v.Z)((0,i.Z)({},m.gM))}));function g(e){var n=j();return(0,b.jsx)(o.Z,(0,i.Z)({InputProps:{classes:n}},e))}n.Z=(0,h.Z)((function(e){return(0,v.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},m.YI),m.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var n=e.label,a=e.onChange,o=e.value,v=e.id,x=e.name,h=e.type,m=void 0===h?"text":h,j=e.autoComplete,C=void 0===j?"off":j,N=e.disabled,P=void 0!==N&&N,y=e.multiline,k=void 0!==y&&y,F=e.tooltip,w=void 0===F?"":F,S=e.index,T=void 0===S?0:S,R=e.error,I=void 0===R?"":R,E=e.required,L=void 0!==E&&E,M=e.placeholder,O=void 0===M?"":M,H=e.min,A=e.max,B=e.overlayId,z=e.overlayIcon,W=void 0===z?null:z,D=e.overlayObject,K=void 0===D?null:D,G=e.extraInputProps,q=void 0===G?{}:G,U=e.overlayAction,V=e.noLabelMinWidth,Y=void 0!==V&&V,_=e.pattern,J=void 0===_?"":_,Q=e.autoFocus,X=void 0!==Q&&Q,$=e.classes,ee=e.className,ne=void 0===ee?"":ee,ae=e.onKeyPress,te=e.onFocus,ie=e.onPaste,le=(0,i.Z)({"data-index":T},q),oe=(0,l.useState)(!1),se=(0,t.Z)(oe,2),re=se[0],ce=se[1];"number"===m&&H&&(le.min=H),"number"===m&&A&&(le.max=A),""!==J&&(le.pattern=J);var ue=W,de=m;return"password"===m&&null===W&&(ue=re?(0,b.jsx)(d.Z,{}):(0,b.jsx)(p.Z,{}),de=re?"text":"password"),(0,b.jsx)(l.Fragment,{children:(0,b.jsxs)(s.ZP,{container:!0,className:(0,Z.Z)(""!==ne?ne:"",""!==I?$.errorInField:$.inputBoxContainer),children:[""!==n&&(0,b.jsxs)(r.Z,{htmlFor:v,className:Y?$.noMinWidthLabel:$.inputLabel,children:[(0,b.jsxs)("span",{children:[n,L?"*":""]}),""!==w&&(0,b.jsx)("div",{className:$.tooltipContainer,children:(0,b.jsx)(c.Z,{title:w,placement:"top-start",children:(0,b.jsx)("div",{className:$.tooltip,children:(0,b.jsx)(f.byK,{})})})})]}),(0,b.jsxs)("div",{className:$.textBoxContainer,children:[(0,b.jsx)(g,{id:v,name:x,fullWidth:!0,value:o,autoFocus:X,disabled:P,onChange:a,type:de,multiline:k,autoComplete:C,inputProps:le,error:""!==I,helperText:I,placeholder:O,className:$.inputRebase,onKeyPress:ae,onFocus:te,onPaste:ie}),ue&&(0,b.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,b.jsx)(u.Z,{onClick:U?function(){U()}:function(){return ce(!re)},id:B,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:ue})}),K&&(0,b.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:K})]})]})})}))}}]);
//# sourceMappingURL=2921.9f05320f.chunk.js.map