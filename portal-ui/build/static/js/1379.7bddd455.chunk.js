"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1379],{41379:function(e,n,t){t.r(n),t.d(n,{default:function(){return Qn}});var i=t(1413),a=t(72791),o=t(60364),s=t(16871),r=t(11135),c=t(25787),l=t(61889),d=t(25469),u=t(23814),h=t(93433),f=t(29439),m=t(57831),p=t(75952),x=t(26181),v=t.n(x),b=t(81207),g=t(92983),j=t(45248),Z=t(20890),w=t(84697),C=t(78029),S=t.n(C),y=t(43504),N=t(13400),_=t(20068),T=t(38734),E=t(38442),I=t(56087),k=t(75578),F=t(87995),P=t(54756),L=t(80184),O=(0,k.Z)(a.lazy((function(){return t.e(2185).then(t.bind(t,62185))}))),D=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({},u.cx),{},{slashSpacingStyle:{margin:"0 5px"}}))}))((function(e){var n=e.classes,t=e.bucketName,i=e.internalPaths,r=e.existingFiles,c=e.hidePathButton,u=e.additionalOptions,m=(0,d.TL)(),x=(0,s.s0)(),v=(0,o.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),b=(0,o.v9)((function(e){return e.objectBrowser.versionsMode})),g=(0,o.v9)((function(e){return e.objectBrowser.versionedFile})),Z=(0,a.useState)(!1),w=(0,f.Z)(Z,2),C=w[0],k=w[1],D=i;""!==i&&(D="/".concat(i));var B=D.split("/").filter((function(e){return""!==e})),R=B.length-1,z=B.map((function(e,i){var o="".concat(B.slice(0,i+1).join("/"),"/"),s="/buckets/".concat(t,"/browse/").concat(o?"".concat((0,j.LL)(o)):"");return i===R&&e===g?null:(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)("span",{className:n.slashSpacingStyle,children:"/"}),i===R?(0,L.jsx)("span",{style:{cursor:"default"},children:e}):(0,L.jsx)(y.rU,{to:s,onClick:function(){m((0,P.db)({status:!1,objectName:""}))},children:e})]},"breadcrumbs-".concat(i.toString()))})),A=[];b&&(A=[(0,L.jsx)(a.Fragment,{children:(0,L.jsxs)("span",{children:[(0,L.jsx)("span",{className:n.slashSpacingStyle,children:"/"}),g," - Versions"]})},"breadcrumbs-versionedItem")]);var M=[(0,L.jsx)(a.Fragment,{children:(0,L.jsx)(y.rU,{to:"/buckets/".concat(t,"/browse"),onClick:function(){m((0,P.db)({status:!1,objectName:""}))},children:t})},"breadcrumbs-root-path")].concat((0,h.Z)(z),(0,h.Z)(A));return(0,L.jsxs)(a.Fragment,{children:[(0,L.jsxs)("div",{className:n.breadcrumbsMain,children:[C&&(0,L.jsx)(O,{modalOpen:C,bucketName:t,folderName:i,onClose:function(){k(!1)},existingFiles:r}),(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(n.breadcrumbs),children:[(0,L.jsx)(N.Z,{onClick:function(){b?m((0,P.db)({status:!1,objectName:""})):x(-1)},sx:{border:"#EAEDEE 1px solid",backgroundColor:"#fff",borderLeft:0,borderRadius:0,width:38,height:38,marginRight:"10px"},children:(0,L.jsx)(T.ubh,{})}),(0,L.jsx)("div",{className:n.breadcrumbsList,dir:"rtl",children:M}),(0,L.jsx)(S(),{text:"".concat(t,"/").concat(B.join("/")),children:(0,L.jsx)(p.z,{id:"copy-path",icon:(0,L.jsx)(T.TIy,{style:{width:"12px",height:"12px",fill:"#969FA8",marginTop:-1}}),variant:"regular",onClick:function(){m((0,F.y1)("Path copied to clipboard"))},style:{width:"28px",height:"28px",color:"#969FA8",border:"#969FA8 1px solid",marginRight:5}})}),(0,L.jsx)("div",{className:n.additionalOptions,children:u})]}),!c&&(0,L.jsx)(_.Z,{title:"Choose or create a new path",children:(0,L.jsx)(p.z,{id:"new-path",onClick:function(){k(!0)},disabled:v||!(0,E.F)(t,[I.Ft.S3_PUT_OBJECT]),icon:(0,L.jsx)(T.N$q,{style:{fill:"#969FA8"}}),style:{whiteSpace:"nowrap",color:"#969FA8",border:"#969FA8 1px solid"},variant:"regular",label:"Create new path"})})]}),(0,L.jsx)("div",{className:n.breadcrumbsSecond,children:u})]})})),B=t(47922),R=t(14917),z=t(74794),A=t(71715),M=t(23786),U=t(49900),G=t(57064),W=t(27454),H=(0,c.Z)((function(e){return(0,r.Z)({listUploadIcons:{height:20,"& .min-icon":{width:18,fill:"rgba(0,0,0,0.87)"}}})}))((function(e){var n=e.uploadPath,t=e.bucketName,i=e.forceDisable,o=void 0!==i&&i,s=e.uploadFileFunction,r=e.uploadFolderFunction,c=e.classes,l=a.useState(null),d=(0,f.Z)(l,2),u=d[0],h=d[1],m=Boolean(u),x=function(){h(null)},v=(0,E.F)(n,[I.Ft.S3_PUT_OBJECT]),b=(0,E.F)(t,[I.Ft.S3_PUT_OBJECT],!1,!0),g=v||b;return(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)(W.Z,{tooltip:"Upload Files",children:(0,L.jsx)(p.z,{id:"upload-main","aria-controls":"upload-main-menu","aria-haspopup":"true","aria-expanded":m?"true":void 0,onClick:function(e){h(e.currentTarget)},label:"Upload",icon:(0,L.jsx)(T.rG2,{}),variant:"callAction",disabled:o||!g})}),(0,L.jsxs)(A.Z,{id:"upload-main-menu","aria-labelledby":"upload-main",anchorEl:u,open:m,onClose:function(){x()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,L.jsxs)(M.Z,{onClick:function(){s(x)},disabled:!v||o,children:[(0,L.jsx)(G.Z,{className:c.listUploadIcons,children:(0,L.jsx)(T.rG2,{})}),(0,L.jsx)(U.Z,{children:"Upload File"})]}),(0,L.jsxs)(M.Z,{onClick:function(){r(x)},disabled:!b||o,children:[(0,L.jsx)(G.Z,{className:c.listUploadIcons,children:(0,L.jsx)(T.oXh,{})}),(0,L.jsx)(U.Z,{children:"Upload Folder"})]})]})]})})),K=t(72455),V=(0,K.Z)((function(e){return(0,r.Z)({detailsList:{borderColor:"#EAEDEE",borderWidth:0,borderStyle:"solid",borderRadius:3,borderBottomLeftRadius:0,borderBottomRightRadius:0,width:0,transitionDuration:"0.3s",overflowX:"hidden",overflowY:"auto",position:"relative",opacity:0,marginLeft:-1,"&.open":{width:300,minWidth:300,borderLeftWidth:1,opacity:1},"@media (max-width: 799px)":{"&.open":{width:"100%",minWidth:"100%",borderLeftWidth:0}}},closePanel:{position:"absolute",right:0,top:8,"& .min-icon":{width:14}}})})),Y=function(e){var n=e.open,t=e.closePanel,i=e.className,a=void 0===i?"":i,o=e.children,s=V();return(0,L.jsxs)(l.ZP,{item:!0,className:"".concat(s.detailsList," ").concat(n?"open":""," ").concat(a," detailsListPanel"),children:[(0,L.jsx)(N.Z,{onClick:t,className:s.closePanel,children:(0,L.jsx)(T.oto,{})}),o]})},J=t(64554),q=t(25183),X=t(34433),$=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],Q=Array.from(Array(31),(function(e,n){return n+1})),ee=(new Date).getFullYear(),ne=Array.from(Array(25),(function(e,n){return n+ee})),te=t(56028),ie=t(37516),ae=t(83679),oe=t(4942),se=t(28182),re=t(30829),ce=t(68096),le=t(58406),de=t(4834),ue=t(84570),he=(0,c.Z)((function(e){return(0,r.Z)({root:{"& .MuiSelect-icon":{color:"#000","&.Mui-disabled":{color:"#9c9c9c"}}},input:{borderBottom:0,fontSize:12}})}))(de.ZP),fe=(0,a.forwardRef)((function(e,n){var t=e.classes,i=e.id,o=e.label,s=e.disableOptions,r=void 0!==s&&s,c=e.addSwitch,d=void 0!==c&&c,u=e.tooltip,h=void 0===u?"":u,m=e.borderBottom,p=void 0!==m&&m,x=e.onDateChange,v=e.value,b=void 0===v?"":v;(0,a.useImperativeHandle)(n,(function(){return{resetDate:B}}));var g=(0,a.useState)(!1),j=(0,f.Z)(g,2),Z=j[0],w=j[1],C=(0,a.useState)(""),S=(0,f.Z)(C,2),y=S[0],N=S[1],T=(0,a.useState)(""),E=(0,f.Z)(T,2),I=E[0],k=E[1],F=(0,a.useState)(""),P=(0,f.Z)(F,2),O=P[0],D=P[1];(0,a.useEffect)((function(){if(""!==b){var e=b.split("-");D(e[0]),N(e[1]),k("".concat(parseInt(e[2])))}}),[b]),(0,a.useEffect)((function(){var e=function(e,n,t){var i=Date.parse("".concat(e,"-").concat(n,"-").concat(t));if(isNaN(i))return[!1,""];var a=parseInt(n),o=parseInt(t),s=a<10?"0".concat(a):a,r=o<10?"0".concat(o):o,c=new Date(i).toISOString().split("T")[0],l="".concat(e,"-").concat(s,"-").concat(r);return[c===l,l]}(O,y,I),n=(0,f.Z)(e,2),t=n[0],i=n[1];x(i,t)}),[y,I,O,x]);var B=function(){N(""),k(""),D("")},R=function(){return r||!!d&&!Z};return(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:(0,se.Z)(t.fieldContainer,(0,oe.Z)({},t.fieldContainerBorder,p)),children:[(0,L.jsx)("div",{className:t.labelContainer,children:(0,L.jsxs)(l.ZP,{container:!0,children:[(0,L.jsxs)(re.Z,{htmlFor:i,className:t.inputLabel,children:[(0,L.jsx)("span",{children:o}),""!==h&&(0,L.jsx)("div",{className:t.tooltipContainer,children:(0,L.jsx)(_.Z,{title:h,placement:"top-start",children:(0,L.jsx)("div",{className:t.tooltip,children:(0,L.jsx)(ue.Z,{})})})})]}),d&&(0,L.jsx)(ie.Z,{indicatorLabels:["Specific Date","Default (7 Days)"],checked:Z,value:"date_enabled",id:"date-status",name:"date-status",onChange:function(e){w(e.target.checked),e.target.checked||x("",!0)},switchOnly:!0})]})}),(0,L.jsxs)("div",{children:[(0,L.jsx)(ce.Z,{disabled:R(),className:t.dateInput,children:(0,L.jsxs)(le.Z,{id:"".concat(i,"-month"),name:"".concat(i,"-month"),value:y,displayEmpty:!0,onChange:function(e){N(e.target.value)},input:(0,L.jsx)(he,{}),children:[(0,L.jsx)(M.Z,{value:"",disabled:!0,children:"<Month>"}),$.map((function(e){return(0,L.jsx)(M.Z,{value:e.value,children:e.label},"select-".concat(i,"-monthOP-").concat(e.label))}))]})}),(0,L.jsx)(ce.Z,{disabled:R(),className:t.dateInput,children:(0,L.jsxs)(le.Z,{id:"".concat(i,"-day"),name:"".concat(i,"-day"),value:I,displayEmpty:!0,onChange:function(e){k(e.target.value)},input:(0,L.jsx)(he,{}),children:[(0,L.jsx)(M.Z,{value:"",disabled:!0,children:"<Day>"}),Q.map((function(e){return(0,L.jsx)(M.Z,{value:e,children:e},"select-".concat(i,"-dayOP-").concat(e))}))]})}),(0,L.jsx)(ce.Z,{disabled:R(),className:t.dateInput,children:(0,L.jsxs)(le.Z,{id:"".concat(i,"-year"),name:"".concat(i,"-year"),value:O,displayEmpty:!0,onChange:function(e){D(e.target.value)},input:(0,L.jsx)(he,{}),children:[(0,L.jsx)(M.Z,{value:"",disabled:!0,children:"<Year>"}),ne.map((function(e){return(0,L.jsx)(M.Z,{value:e,children:e},"select-".concat(i,"-yearOP-").concat(e))}))]})})]})]})})),me=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({dateInput:{"&:not(:last-child)":{marginRight:22}}},u.YI),u.Hr),{},{labelContainer:{flex:1},fieldContainer:(0,i.Z)((0,i.Z)({},u.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),fieldContainerBorder:{borderBottom:"#9c9c9c 1px solid",marginBottom:20}}))}))(fe),pe=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u.DF),u.ID),u.bK),{},{dateSelector:{"& div":{borderBottom:0,marginBottom:0,"& div:nth-child(2)":{border:"1px solid #EAEAEA",paddingLeft:5,"& div":{border:0}}}}}))}))((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,s=e.objectInfo,r=e.bucketName,c=(0,d.TL)(),u=(0,a.useState)(!0),h=(0,f.Z)(u,2),m=h[0],x=h[1],v=(0,a.useState)(""),g=(0,f.Z)(v,2),Z=g[0],w=g[1],C=(0,a.useState)(""),S=(0,f.Z)(C,2),y=S[0],N=S[1],_=(0,a.useState)(!1),T=(0,f.Z)(_,2),E=T[0],I=T[1],k=(0,a.useState)(!1),P=(0,f.Z)(k,2),O=P[0],D=P[1],B=(0,a.useState)(!1),R=(0,f.Z)(B,2),z=R[0],A=R[1];(0,a.useEffect)((function(){if(s.retention_mode&&(w(s.retention_mode.toLowerCase()),A(!0)),s.retention_until_date){var e=new Date(s.retention_until_date);if("Invalid Date"!==e.toString()){var n=e.getFullYear(),t=(a=e.getMonth()+1)<10?"0".concat(a):"".concat(a),i=e.getDate();isNaN(i)||"NaN"===t||isNaN(n)||N("".concat(n,"-").concat(t,"-").concat(i))}A(!0)}var a}),[s]);var M=(0,a.useRef)(null),U=function(){x(!1),w(""),M.current&&M.current.resetDate()},G=z&&("governance"===Z||""===Z);return(0,L.jsxs)(te.Z,{title:"Set Retention Policy",modalOpen:t,onClose:function(){U(),i(!1)},children:[(0,L.jsxs)("div",{className:n.spacerBottom,children:[(0,L.jsx)("strong",{children:"Selected Object"}),": ",o]}),(0,L.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:[G&&(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,L.jsx)(ie.Z,{value:"status",id:"status",name:"status",checked:m,onChange:function(e){x(!m)},label:"Status",indicatorLabels:["Enabled","Disabled"]})}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,L.jsx)(ae.Z,{currentSelection:Z,id:"type",name:"type",label:"Type",disableOptions:!m||z&&""!==Z,onChange:function(e){w(e.target.value)},selectorOptions:[{label:"Governance",value:"governance"},{label:"Compliance",value:"compliance"}]})}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:"".concat(n.dateSelector," "),children:(0,L.jsx)(me,{id:"date",label:"Date",disableOptions:!(m&&("governance"===Z||"compliance"===Z)),ref:M,value:y,borderBottom:!0,onDateChange:function(e,n){I(n),n&&N(e)}})}),(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,L.jsx)(p.z,{id:"reset",type:"button",variant:"regular",onClick:U,label:"Reset"}),(0,L.jsx)(p.z,{id:"save",type:"submit",variant:"callAction",disabled:m&&""===Z||m&&!E||O,onClick:function(){D(!0);var e=s.name,n=s.version_id,t=m||"governance"!==Z?"".concat(y,"T23:59:59Z"):"";m||"governance"!==Z?function(e,n,t){b.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/retention?prefix=").concat((0,j.LL)(e),"&version_id=").concat(n),{expires:t,mode:Z}).then((function(e){D(!1),i(!0)})).catch((function(e){c((0,F.zb)(e)),D(!1)}))}(e,n,t):function(e,n){b.Z.invoke("DELETE","/api/v1/buckets/".concat(r,"/objects/retention?prefix=").concat((0,j.LL)(e),"&version_id=").concat(n)).then((function(){D(!1),i(!0)})).catch((function(e){c((0,F.zb)(e)),D(!1)}))}(e,n)},label:"Save"})]})]})]})})),xe=t(51691),ve=t(23508),be=t(9505),ge=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,o=e.selectedObject,s=e.versioning,r=e.selectedVersion,c=void 0===r?"":r,l=(0,d.TL)(),u=(0,be.Z)((function(){return n(!0)}),(function(e){return l((0,F.Ih)(e))})),h=(0,f.Z)(u,2),m=h[0],p=h[1],x=(0,a.useState)(!1),v=(0,f.Z)(x,2),b=v[0],g=v[1];if(!o)return null;return(0,L.jsx)(ve.Z,{title:"Delete Object",confirmText:"Delete",isOpen:t,titleIcon:(0,L.jsx)(T.NvT,{}),isLoading:m,onConfirm:function(){var e=(0,j.IO)(o).endsWith("/");p("DELETE","/api/v1/buckets/".concat(i,"/objects?path=").concat(o).concat(""!==c?"&version_id=".concat(c):"&recursive=".concat(e,"&all_versions=").concat(b)))},onClose:function(){return n(!1)},confirmationContent:(0,L.jsxs)(xe.Z,{children:["Are you sure you want to delete: ",(0,L.jsx)("br",{}),(0,L.jsx)("b",{children:(0,j.IO)(o)})," ",""!==c?(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),"Version ID:",(0,L.jsx)("br",{}),(0,L.jsx)("strong",{children:c})]}):"","? ",(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),s&&""===c&&(0,L.jsx)(ie.Z,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:b,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){g(!b)},description:""})]})})},je=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u.DF),u.ID),u.bK))}))((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,s=e.bucketName,r=e.actualInfo,c=(0,d.TL)(),u=(0,a.useState)(!1),h=(0,f.Z)(u,2),m=h[0],x=h[1],g=(0,a.useState)(!1),Z=(0,f.Z)(g,2),w=Z[0],C=Z[1],S=r.version_id;(0,a.useEffect)((function(){var e=v()(r,"legal_hold_status","OFF");x("ON"===e)}),[r]);var y=function(){x(!1)};return(0,L.jsxs)(te.Z,{title:"Set Legal Hold",modalOpen:t,onClose:function(){y(),i(!1)},children:[(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.spacerBottom,children:["Object: ",s]}),(0,L.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),C(!0),b.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/legalhold?prefix=").concat((0,j.LL)(o),"&version_id=").concat(S),{status:m?"enabled":"disabled"}).then((function(){C(!1),i(!0)})).catch((function(e){c((0,F.zb)(e)),C(!1)}))}(e)},children:[(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,L.jsx)(ie.Z,{value:"legalhold",id:"legalhold",name:"legalhold",checked:m,onChange:function(e){x(!m)},label:"Legal Hold Status",indicatorLabels:["Enabled","Disabled"],tooltip:"To enable this feature you need to enable versioning on the bucket before creation"})}),(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,L.jsx)(p.z,{id:"clear",type:"button",variant:"regular",onClick:y,label:"Clear"}),(0,L.jsx)(p.z,{id:"save",type:"submit",variant:"callAction",disabled:w,label:" Save"})]})]})]})})),Ze=t(78562),we=t(79836),Ce=t(53382),Se=t(35855),ye=t(53994),Ne=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({propertiesIcon:{marginLeft:5,"& .min-icon":{height:12}},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleItem:{width:"35%"}},u.bK),u.$b))}))((function(e){var n=e.bucketName,t=e.internalPaths,i=e.classes,o=e.actualInfo,s=e.linear,r=void 0!==s&&s,c=(0,a.useState)({}),d=(0,f.Z)(c,2),u=d[0],h=d[1],m=(0,be.Z)((function(e){var n=v()(e,"objectMetadata",{});h(n)}),(function(e){return!1})),p=(0,f.Z)(m,2)[1],x=Object.keys(u),b=(0,a.useCallback)((function(){p("GET","/api/v1/buckets/".concat(n,"/objects/metadata?prefix=").concat(t))}),[n,t,o]);return(0,a.useEffect)((function(){o&&b()}),[o,b]),r?(0,L.jsx)(a.Fragment,{children:x.map((function(e,n){var t=Array.isArray(u[e])?u[e].map(decodeURIComponent).join(", "):decodeURIComponent(u[e]);return(0,L.jsxs)(J.Z,{className:i.metadataLinear,children:[(0,L.jsx)("strong",{children:e}),(0,L.jsx)("br",{}),t]},"box-meta-".concat(e,"-").concat(n.toString()))}))}):(0,L.jsxs)(l.ZP,{container:!0,children:[(0,L.jsx)(l.ZP,{item:!0,xs:12,sx:{marginTop:"25px",marginBottom:"5px"},children:(0,L.jsx)("h3",{style:{marginTop:"0",marginBottom:"0"},children:"Object Metadata"})}),(0,L.jsx)(l.ZP,{item:!0,xs:12,children:(0,L.jsx)(we.Z,{className:i.table,"aria-label":"simple table",children:(0,L.jsx)(Ce.Z,{children:x.map((function(e,n){var t=Array.isArray(u[e])?u[e].map(decodeURIComponent).join(", "):decodeURIComponent(u[e]);return(0,L.jsxs)(Se.Z,{children:[(0,L.jsx)(ye.Z,{component:"th",scope:"row",className:i.titleItem,children:e}),(0,L.jsx)(ye.Z,{align:"right",children:t})]},"tRow-".concat(n.toString()))}))})})})]})})),_e=t(45987),Te=t(36151),Ee=["disabled","onClick","icon","label","classes"],Ie=(0,c.Z)((function(e){return(0,r.Z)({root:{padding:"0 15px",height:22,margin:0,color:"#5E5E5E",fontWeight:"normal",fontSize:14,whiteSpace:"nowrap",width:"100%",justifyContent:"flex-start","&:hover":{backgroundColor:"transparent",color:"#000"},"& .min-icon":{width:11},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}}})}))((function(e){var n=e.disabled,t=e.onClick,a=e.icon,o=e.label,s=e.classes,r=(0,_e.Z)(e,Ee);return(0,L.jsx)(Te.Z,(0,i.Z)((0,i.Z)({},r),{},{disabled:n,onClick:t,className:(0,se.Z)(s.root,"noDefaultHeight"),startIcon:a,sx:{height:"initial"},children:(0,L.jsx)("span",{className:"buttonItem",children:o})}))})),ke=(0,c.Z)((function(){return(0,r.Z)((0,i.Z)({},u.$b))}))((function(e){var n=e.items,t=e.classes,i=e.title;return(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)("div",{className:t.titleLabel,children:i}),(0,L.jsxs)("ul",{className:t.objectActions,children:[(0,L.jsx)("li",{children:"Actions:"}),n.map((function(e,n){return(0,L.jsx)("li",{children:(0,L.jsx)(Ie,{label:e.label,icon:e.icon,onClick:e.action,disabled:e.disabled})},"action-element-".concat(n.toString()))}))]})]})})),Fe=t(37762),Pe=t(71863),Le=t(82314),Oe=(0,c.Z)((function(e){return(0,r.Z)({fileName:{display:"flex",alignItems:"center","& .min-icon":{width:16,height:16,marginRight:4,minWidth:16,minHeight:16}},fileNameText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})}))((function(e){var n=e.classes,t=e.icon,i=e.strings;return(0,L.jsxs)("div",{className:n.fileName,children:[t,(0,L.jsx)("span",{className:n.fileNameText,children:i[i.length-1]})]})})),De=a.lazy((function(){return Promise.resolve().then(t.bind(t,76181))})),Be=a.lazy((function(){return Promise.resolve().then(t.bind(t,49563))})),Re=a.lazy((function(){return Promise.resolve().then(t.bind(t,21733))})),ze=a.lazy((function(){return Promise.resolve().then(t.bind(t,95232))})),Ae=a.lazy((function(){return Promise.resolve().then(t.bind(t,27529))})),Me=a.lazy((function(){return Promise.resolve().then(t.bind(t,60527))})),Ue=a.lazy((function(){return Promise.resolve().then(t.bind(t,69812))})),Ge=a.lazy((function(){return Promise.resolve().then(t.bind(t,46454))})),We=a.lazy((function(){return Promise.resolve().then(t.bind(t,84820))})),He=a.lazy((function(){return Promise.resolve().then(t.bind(t,40599))})),Ke=a.lazy((function(){return Promise.resolve().then(t.bind(t,72995))})),Ve=a.lazy((function(){return Promise.resolve().then(t.bind(t,34171))})),Ye=a.lazy((function(){return Promise.resolve().then(t.bind(t,30745))})),Je=a.lazy((function(){return Promise.resolve().then(t.bind(t,84033))})),qe=a.lazy((function(){return Promise.resolve().then(t.bind(t,52009))})),Xe=[{icon:(0,L.jsx)(Ye,{}),extensions:["mp4","mov","avi","mpeg","mpg"]},{icon:(0,L.jsx)(We,{}),extensions:["mp3","m4a","aac"]},{icon:(0,L.jsx)(He,{}),extensions:["pdf"]},{icon:(0,L.jsx)(Ke,{}),extensions:["ppt","pptx"]},{icon:(0,L.jsx)(Je,{}),extensions:["xls","xlsx"]},{icon:(0,L.jsx)(Ue,{}),extensions:["cer","crt","pem"]},{icon:(0,L.jsx)(Be,{}),extensions:["html","xml","css","py","go","php","cpp","h","java"]},{icon:(0,L.jsx)(Re,{}),extensions:["cfg","yaml"]},{icon:(0,L.jsx)(ze,{}),extensions:["sql"]},{icon:(0,L.jsx)(Ae,{}),extensions:["ttf","otf"]},{icon:(0,L.jsx)(Ve,{}),extensions:["txt"]},{icon:(0,L.jsx)(qe,{}),extensions:["zip","rar","tar","gz"]},{icon:(0,L.jsx)(De,{}),extensions:["epub","mobi","azw","azw3"]},{icon:(0,L.jsx)(Me,{}),extensions:["jpeg","jpg","gif","tiff","png","heic","dng"]}],$e=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e,i=(0,L.jsx)(Pe.Z,{});e.endsWith("/")&&(i=(0,L.jsx)(Le.Z,{}),t=e.slice(0,-1));var a,o=e.toLowerCase(),s=(0,Fe.Z)(Xe);try{for(s.s();!(a=s.n()).done;){var r,c=a.value,l=(0,Fe.Z)(c.extensions);try{for(l.s();!(r=l.n()).done;){var d=r.value;o.endsWith(".".concat(d))&&(i=c.icon)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}!e.endsWith("/")&&e.indexOf(".")<0&&(i=(0,L.jsx)(Ge,{}));var u=t.split("/");return n?i:(0,L.jsx)(Oe,{icon:i,strings:u})},Qe=t(21435),en=t(81918),nn=t(29823),tn=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({newTileHeader:{fontSize:18,fontWeight:"bold",color:"#000",margin:"35px 0",paddingBottom:15,display:"flex",alignItems:"center","& > svg":{marginRight:10}},tagsForLabel:{fontSize:16,margin:"20px 0 30px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},currentTagsContainer:{fontSize:14,fontWeight:"normal"},noTagsForObject:{color:"#858585"},deleteTag:{color:"#C83B51",marginLeft:5}},u.DF),u.ID),u.bK))}))((function(e){var n=e.modalOpen,t=e.onCloseAndUpdate,s=e.bucketName,r=e.actualInfo,c=e.classes,u=(0,d.TL)(),h=(0,o.v9)(F.N5),m=(0,a.useState)(""),x=(0,f.Z)(m,2),g=x[0],Z=x[1],w=(0,a.useState)(""),C=(0,f.Z)(w,2),S=C[0],y=C[1],N=(0,a.useState)(!1),_=(0,f.Z)(N,2),k=_[0],P=_[1],O=(0,a.useState)(!1),D=(0,f.Z)(O,2),B=D[0],R=D[1],z=(0,a.useState)(""),A=(0,f.Z)(z,2),M=A[0],U=A[1],G=(0,a.useState)(""),W=(0,f.Z)(G,2),H=W[0],K=W[1],V=(0,j.LL)(r.name),Y=r.tags,q=Object.keys(Y||{}),X=r.name.split("/").pop()||"",$=function(e){return(0,L.jsxs)("div",{className:c.tagsForLabel,children:["Tag",e?"s":""," for: ",(0,L.jsx)("strong",{children:X})]})};return(0,L.jsx)(a.Fragment,{children:(0,L.jsx)(te.Z,{modalOpen:n,title:B?(0,L.jsx)("span",{style:{color:"#C83B51"},children:"Delete Tag"}):"Edit Tags",onClose:function(){t(!0)},titleIcon:B?(0,L.jsx)(T.dRf,{style:{fill:"#C83B51"}}):(0,L.jsx)(T.T0F,{}),children:B?(0,L.jsx)(a.Fragment,{children:(0,L.jsxs)(l.ZP,{container:!0,children:[$(!1),"Are you sure you want to delete the tag"," ",(0,L.jsxs)("b",{className:c.deleteTag,children:[M," : ",H]})," ","?",(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:[(0,L.jsx)(p.z,{id:"cancel",type:"button",variant:"regular",onClick:function(){U(""),K(""),R(!1)},label:"Cancel"}),(0,L.jsx)(p.z,{type:"submit",variant:"secondary",onClick:function(){var e=(0,i.Z)({},Y);delete e[M];var n=h?r.version_id:"null";b.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/tags?prefix=").concat(V,"&version_id=").concat(n),{tags:e}).then((function(e){t(!0),P(!1)})).catch((function(e){u((0,F.zb)(e)),P(!1)}))},id:"deleteTag",label:"Delete Tag"})]})]})}):(0,L.jsxs)(l.ZP,{container:!0,children:[(0,L.jsx)(E.s,{scopes:[I.Ft.S3_GET_OBJECT_TAGGING],resource:s,children:(0,L.jsxs)(J.Z,{sx:{display:"flex",flexFlow:"column",width:"100%"},children:[$(!0),(0,L.jsxs)("div",{className:c.currentTagsContainer,children:["Current Tags:",(0,L.jsx)("br",{}),0===q.length?(0,L.jsx)("span",{className:c.noTagsForObject,children:"There are no tags for this object"}):(0,L.jsx)(a.Fragment,{}),(0,L.jsx)(J.Z,{sx:{marginTop:"5px",marginBottom:"15px"},children:q.map((function(e,n){var t=v()(Y,"".concat(e),"");return""!==t?(0,L.jsx)(E.s,{scopes:[I.Ft.S3_DELETE_OBJECT_TAGGING],resource:s,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:(0,L.jsx)(en.Z,{style:{textTransform:"none",marginRight:"5px",marginBottom:"5px"},size:"small",label:"".concat(e," : ").concat(t),color:"primary",deleteIcon:(0,L.jsx)(nn.Z,{}),onDelete:function(){!function(e,n){U(e),K(n),R(!0)}(e,t)}})},"chip-".concat(n)):null}))})]})]})}),(0,L.jsx)(E.s,{scopes:[I.Ft.S3_PUT_OBJECT_TAGGING],resource:s,errorProps:{disabled:!0,onClick:null},children:(0,L.jsxs)(l.ZP,{container:!0,children:[(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:c.newTileHeader,children:[(0,L.jsx)(T.OCT,{})," Add New Tag"]}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,L.jsx)(Qe.Z,{value:g,label:"Tag Key",id:"newTagKey",name:"newTagKey",placeholder:"Enter Tag Key",onChange:function(e){Z(e.target.value)}})}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,L.jsx)(Qe.Z,{value:S,label:"Tag Label",id:"newTagLabel",name:"newTagLabel",placeholder:"Enter Tag Label",onChange:function(e){y(e.target.value)}})}),(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:[(0,L.jsx)(p.z,{id:"clear",type:"button",variant:"regular",color:"primary",onClick:function(){y(""),Z("")},label:"Clear"}),(0,L.jsx)(p.z,{type:"submit",variant:"callAction",disabled:""===S.trim()||""===g.trim()||k,onClick:function(){P(!0);var e={};e[g]=S;var n=(0,i.Z)((0,i.Z)({},Y),e),a=h?r.version_id:"null";b.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/tags?prefix=").concat(V,"&version_id=").concat(a),{tags:n}).then((function(e){t(!0),P(!1)})).catch((function(e){u((0,F.zb)(e)),P(!1)}))},id:"saveTag",label:"Save"})]})]})})]})})})})),an=t(74165),on=t(15861),sn=t(73669),rn=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u.DF),u.ID),u.bK))}))((function(e){var n=e.classes,t=e.closeInspectModalAndRefresh,i=e.inspectOpen,o=e.inspectPath,s=e.volumeName,r=(0,d.TL)(),c=function(){return t(!1)},u=(0,a.useState)(!0),h=(0,f.Z)(u,2),m=h[0],x=h[1],v=(0,a.useState)(""),b=(0,f.Z)(v,2),g=b[0],Z=b[1],w=(0,a.useState)(""),C=(0,f.Z)(w,2),S=C[0],y=C[1];if(!o)return null;var N=function(){var e=(0,on.Z)((0,an.Z)().mark((function e(n){return(0,an.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=function(){var e=(0,on.Z)((0,an.Z)().mark((function e(){var n,t,i;return(0,an.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,j.LL)(o+"/xl.meta"),t=(0,j.LL)(s),i="/api/v1/admin/inspect?volume=".concat(t,"&file=").concat(n,"&encrypt=").concat(m),N(i).then(function(){var e=(0,on.Z)((0,an.Z)().mark((function e(n){var t,i,a,o;return(0,an.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ok){e.next=5;break}return e.next=3,n.json();case 3:t=e.sent,r((0,F.Ih)({errorMessage:t.message,detailedError:t.code}));case 5:return e.next=7,n.blob();case 7:if(i=e.sent,a=n.headers.get("content-disposition").split('"')[1],o=(0,j.Do)(a)||"",(0,j.zZ)(i,a),y(a),""!==o){e.next=15;break}return c(),e.abrupt("return");case 15:Z(o);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){r((0,F.Ih)(e))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(a.Fragment,{children:[!g&&(0,L.jsx)(te.Z,{modalOpen:i,titleIcon:(0,L.jsx)(q.Gp,{}),title:"Inspect Object",onClose:c,children:(0,L.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:["Would you like to encrypt ",(0,L.jsx)("b",{children:(0,j.IO)(o)}),"?"," ",(0,L.jsx)("br",{}),(0,L.jsx)(ie.Z,{label:"Encrypt",indicatorLabels:["Yes","No"],checked:m,value:"encrypt",id:"encrypt",name:"encrypt",onChange:function(e){x(!m)},description:""}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:(0,L.jsx)(p.z,{id:"inspect",type:"submit",variant:"callAction",color:"primary",onClick:_,label:"Inspect"})})]})}),g?(0,L.jsx)(te.Z,{modalOpen:i,title:"Inspect Decryption Key",onClose:function(){(0,j.kT)(S),c(),Z("")},titleIcon:(0,L.jsx)(T.tvm,{}),children:(0,L.jsxs)(xe.Z,{children:[(0,L.jsxs)(J.Z,{children:["This will be displayed only once. It cannot be recovered.",(0,L.jsx)("br",{}),"Use secure medium to share this key."]}),(0,L.jsx)(J.Z,{children:(0,L.jsx)(sn.Z,{value:g})})]})}):null]})})),cn=t(72401),ln=t(76610),dn=(0,K.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u.ID),u.DF),u.bK),(0,u.Bz)(e.spacing(4))))})),un=function(e){var n=e.open,t=e.closeModal,i=e.currentItem,o=e.internalPaths,s=e.actualInfo,r=e.bucketName,c=dn(),u=(0,d.TL)(),h=(0,a.useState)(i),m=(0,f.Z)(h,2),x=m[0],v=m[1],b=(0,a.useState)(!1),g=(0,f.Z)(b,2),Z=g[0],w=g[1];return(0,L.jsxs)(te.Z,{title:"Rename Download",modalOpen:n,onClose:t,titleIcon:(0,L.jsx)(T.dY8,{}),children:[(0,L.jsxs)("div",{children:["The file you are trying to download has a long name.",(0,L.jsx)("br",{}),"This can cause issues on Windows Systems by trimming the file name after download.",(0,L.jsx)("br",{}),(0,L.jsx)("br",{})," We recommend to rename the file download"]}),(0,L.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault();var n=(0,j.LL)("".concat(r,"-").concat(s.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),i=(0,B.LR)(r,o,s.version_id,parseInt(s.size||"0"),x,(function(e){u((0,P.RO)({instanceID:n,progress:e}))}),(function(){u((0,P.oK)(n))}),(function(e){u((0,P.qJ)({instanceID:n,msg:e}))}),(function(){u((0,P.Im)(n))})),a=(0,ln.YO)(8);(0,ln.EN)(a,i),u((0,P.Mc)({ID:a,bucketName:r,done:!1,instanceID:n,percentage:0,prefix:x,type:"download",waitingForFile:!0,failed:!1,cancelled:!1,errorMessage:""})),i.send(),t()}(e)},children:(0,L.jsxs)(l.ZP,{container:!0,children:[(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:c.modalFormScrollable,children:[(0,L.jsx)(l.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,L.jsx)(Qe.Z,{id:"download-filename",name:"download-filename",onChange:function(e){v(e.target.value)},label:"",type:"text",value:x,error:x.length>200&&!Z?"Filename should be less than 200 characters long.":""})}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,L.jsx)(ie.Z,{value:"acceptLongName",id:"acceptLongName",name:"acceptLongName",checked:Z,onChange:function(e){w(e.target.checked),e.target.checked&&v(i)},label:"Use Original Name"})})]}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:(0,L.jsx)(p.z,{id:"download-file",type:"submit",variant:"callAction",color:"primary",disabled:x.length>200&&!Z,label:"Download File"})})]})})]})},hn={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},fn=(0,c.Z)((function(){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({ObjectDetailsTitle:{display:"flex",alignItems:"center","& .min-icon":{width:26,height:26,minWidth:26,minHeight:26}},objectNameContainer:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",alignItems:"center",marginLeft:10},headerForSection:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:15,borderBottom:"#E2E2E2 2px solid",fontWeight:"bold",fontSize:18,color:"#000",margin:"20px 22px"},capitalizeFirst:{textTransform:"capitalize"}},u.Si),u.OR),u.bK),u.VI),u.$b))}))((function(e){var n=e.classes,t=e.internalPaths,i=e.bucketName,s=e.versioning,r=e.locking,c=e.onClosePanel,u=(0,d.TL)(),h=(0,o.v9)(F.N5),m=(0,o.v9)((function(e){return e.objectBrowser.versionsMode})),x=(0,o.v9)((function(e){return e.objectBrowser.selectedVersion})),g=(0,o.v9)((function(e){return e.objectBrowser.loadingObjectInfo})),Z=(0,a.useState)(!1),w=(0,f.Z)(Z,2),C=w[0],S=w[1],y=(0,a.useState)(!1),N=(0,f.Z)(y,2),_=N[0],k=N[1],O=(0,a.useState)(!1),D=(0,f.Z)(O,2),R=D[0],z=D[1],A=(0,a.useState)(!1),M=(0,f.Z)(A,2),U=M[0],G=M[1],W=(0,a.useState)(!1),H=(0,f.Z)(W,2),K=H[0],V=H[1],Y=(0,a.useState)(null),$=(0,f.Z)(Y,2),Q=$[0],ee=$[1],ne=(0,a.useState)([]),te=(0,f.Z)(ne,2),ie=te[0],ae=te[1],oe=(0,a.useState)(null),se=(0,f.Z)(oe,2),re=se[0],ce=se[1],le=(0,a.useState)([]),de=(0,f.Z)(le,2),ue=de[0],he=de[1],fe=(0,a.useState)(!1),me=(0,f.Z)(fe,2),xe=me[0],ve=me[1],be=(0,a.useState)(!1),we=(0,f.Z)(be,2),Ce=we[0],Se=we[1],ye=(0,a.useState)(0),_e=(0,f.Z)(ye,2),Te=_e[0],Ee=_e[1],Ie=(0,a.useState)(!1),Fe=(0,f.Z)(Ie,2),Pe=Fe[0],Le=Fe[1],Oe=((0,j.IO)(t)||"").split("/").pop()||"",De=[];Q&&(De=Q.name.split("/")),(0,a.useEffect)((function(){if(h&&ie&&ie.length>=1){var e=ie.find((function(e){return e.is_latest}))||hn;""!==x&&(e=ie.find((function(e){return e.version_id===x}))||hn),ee(e)}}),[x,h,ie]),(0,a.useEffect)((function(){g&&""!==t&&b.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects?prefix=").concat(t).concat(h?"&with_versions=true":"")).then((function(e){var n=v()(e,"objects",[]);if(h){ae(n),he(n);var t=n.reduce((function(e,n){return null!==n&&void 0!==n&&n.size?e+n.size:e}),0);Ee(t)}else ee(n[0]),he([]);u((0,P.vH)(!1))})).catch((function(e){console.error("Error loading object details",e),u((0,P.vH)(!1))}))}),[g,i,t,u,h,x]);var Be=[];Q&&Q.tags&&(Be=Object.keys(Q.tags));var Re=(0,L.jsx)("div",{style:{textAlign:"center",marginTop:35},children:(0,L.jsx)(cn.Z,{})});if(!Q)return g?Re:null;var ze=De.length>0?De[De.length-1]:Q.name,Ae=[i,Oe,[i,Q.name].join("/")],Me=[{action:function(){!function(e){var n=(0,j.LL)("".concat(i,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));if(e.name.length>200&&(0,j.mv)().toLowerCase().includes("win"))Le(!0);else{var a=(0,B.LR)(i,t,e.version_id,parseInt(e.size||"0"),null,(function(e){u((0,P.RO)({instanceID:n,progress:e}))}),(function(){u((0,P.oK)(n))}),(function(e){u((0,P.qJ)({instanceID:n,msg:e}))}),(function(){u((0,P.Im)(n))})),o=(0,ln.YO)(8);(0,ln.EN)(o,a),u((0,P.Mc)({ID:o,bucketName:i,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1,errorMessage:""})),a.send()}}(Q)},label:"Download",disabled:!!Q.is_delete_marker||!(0,E.F)(Ae,[I.Ft.S3_GET_OBJECT]),icon:(0,L.jsx)(T._8t,{}),tooltip:"Download this Object"},{action:function(){S(!0)},label:"Share",disabled:!!Q.is_delete_marker||!(0,E.F)(Ae,[I.Ft.S3_GET_OBJECT]),icon:(0,L.jsx)(T.aAc,{}),tooltip:"Share this File"},{action:function(){Se(!0)},label:"Preview",disabled:!!Q.is_delete_marker||"none"===(0,B.Bg)(Oe)||!(0,E.F)(Ae,[I.Ft.S3_GET_OBJECT]),icon:(0,L.jsx)(T.P99,{}),tooltip:"Preview this File"},{action:function(){G(!0)},label:"Legal Hold",disabled:!r||!h||!!Q.is_delete_marker||!(0,E.F)(i,[I.Ft.S3_PUT_OBJECT_LEGAL_HOLD])||""!==x,icon:(0,L.jsx)(T.fNL,{}),tooltip:"Change Legal Hold rules for this File"},{action:function(){k(!0)},label:"Retention",disabled:!h||!!Q.is_delete_marker||!(0,E.F)(Ae,[I.Ft.S3_GET_OBJECT_RETENTION])||""!==x,icon:(0,L.jsx)(T.E9d,{}),tooltip:"Change Retention rules for this File"},{action:function(){z(!0)},label:"Tags",disabled:!!Q.is_delete_marker||""!==x||!(0,E.F)(Ae,[I.Ft.S3_PUT_OBJECT_TAGGING]),icon:(0,L.jsx)(T.DgT,{}),tooltip:"Change Tags for this File"},{action:function(){V(!0)},label:"Inspect",disabled:!h||!!Q.is_delete_marker||""!==x||!(0,E.F)(Ae,[I.Ft.ADMIN_INSPECT_DATA]),icon:(0,L.jsx)(q.Gp,{}),tooltip:"Inspect this file"},{action:function(){u((0,P.db)({status:!m,objectName:ze}))},label:m?"Hide Object Versions":"Display Object Versions",icon:(0,L.jsx)(T.cRd,{}),disabled:!h||!(Q.version_id&&"null"!==Q.version_id)||!(0,E.F)(Ae,[I.Ft.S3_GET_BUCKET_VERSIONING,I.Ft.S3_PUT_BUCKET_VERSIONING,I.Ft.S3_GET_OBJECT_VERSION]),tooltip:"Display Versions for this file"}];return(0,L.jsxs)(a.Fragment,{children:[C&&Q&&(0,L.jsx)(X.default,{open:C,closeModalAndRefresh:function(){ce(null),S(!1)},bucketName:i,dataObject:re||Q}),_&&Q&&(0,L.jsx)(pe,{open:_,closeModalAndRefresh:function(e){k(!1),e&&u((0,P.vH)(!0))},objectName:Oe,objectInfo:Q,bucketName:i}),xe&&(0,L.jsx)(ge,{deleteOpen:xe,selectedBucket:i,selectedObject:t,closeDeleteModalAndRefresh:function(e){ve(!1),e&&""===x?c(!0):(u((0,P.Eq)(!0)),u((0,P.M3)("")),u((0,P.vH)(!0)))},versioning:h&&s,selectedVersion:x}),U&&Q&&(0,L.jsx)(je,{open:U,closeModalAndRefresh:function(e){G(!1),e&&u((0,P.vH)(!0))},objectName:Q.name,bucketName:i,actualInfo:Q}),Ce&&Q&&(0,L.jsx)(Ze.default,{open:Ce,bucketName:i,object:{name:Q.name,version_id:Q.version_id||"null",size:parseInt(Q.size||"0"),content_type:"",last_modified:new Date(Q.last_modified)},onClosePreview:function(){Se(!1)}}),R&&Q&&(0,L.jsx)(tn,{modalOpen:R,bucketName:i,actualInfo:Q,onCloseAndUpdate:function(e){z(!1),e&&u((0,P.vH)(!0))}}),K&&Q&&(0,L.jsx)(rn,{inspectOpen:K,volumeName:i,inspectPath:Q.name,closeInspectModalAndRefresh:function(e){V(!1),e&&u((0,P.vH)(!0))}}),Pe&&Q&&(0,L.jsx)(un,{open:Pe,closeModal:function(){Le(!1)},currentItem:Oe,bucketName:i,internalPaths:t,actualInfo:Q}),g?(0,L.jsx)(a.Fragment,{children:Re}):(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)(ke,{title:(0,L.jsxs)("div",{className:n.ObjectDetailsTitle,children:[$e(ze,!0),(0,L.jsx)("span",{className:n.objectNameContainer,children:ze})]}),items:Me}),(0,L.jsx)(l.ZP,{item:!0,xs:12,sx:{justifyContent:"center",display:"flex"},children:(0,L.jsx)(E.s,{resource:[i,Oe,[i,Q.name].join("/")],scopes:[I.Ft.S3_DELETE_OBJECT],errorProps:{disabled:!0},children:(0,L.jsx)(p.z,{id:"delete-element-click",icon:(0,L.jsx)(T.pJl,{}),iconLocation:"start",fullWidth:!0,variant:"secondary",onClick:function(){ve(!0)},disabled:""===x&&Q.is_delete_marker,style:{width:"calc(100% - 44px)",margin:"8px 0"},label:"Delete".concat(""!==x?" version":"")})})}),(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.headerForSection,children:[(0,L.jsx)("span",{children:"Object Info"}),(0,L.jsx)(T.Gvh,{})]}),(0,L.jsxs)(J.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Name:"}),(0,L.jsx)("br",{}),(0,L.jsx)("div",{style:{overflowWrap:"break-word"},children:ze})]}),""!==x&&(0,L.jsxs)(J.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Version ID:"}),(0,L.jsx)("br",{}),x]}),(0,L.jsxs)(J.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Size:"}),(0,L.jsx)("br",{}),(0,j.ae)(Q.size||"0")]}),Q.version_id&&"null"!==Q.version_id&&""===x&&(0,L.jsxs)(J.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Versions:"}),(0,L.jsx)("br",{}),ue.length," version",1!==ue.length?"s":"",","," ",(0,j.l5)(Te)]}),""===x&&(0,L.jsxs)(J.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Last Modified:"}),(0,L.jsx)("br",{}),function(e){var n=new Date,t=new Date(e),i=n.getTime()-t.getTime(),a=(0,j.nF)(i,"ms");return""!==a.trim()?"".concat(a," ago"):"Just now"}(Q.last_modified)]}),(0,L.jsxs)(J.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"ETAG:"}),(0,L.jsx)("br",{}),Q.etag||"N/A"]}),(0,L.jsxs)(J.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Tags:"}),(0,L.jsx)("br",{}),0===Be.length?"N/A":Be.map((function(e,n){return(0,L.jsxs)("span",{children:[e,":",v()(Q,"tags.".concat(e),""),n<Be.length-1?", ":""]},"key-vs-".concat(n.toString()))}))]}),(0,L.jsx)(J.Z,{className:n.detailContainer,children:(0,L.jsx)(E.s,{scopes:[I.Ft.S3_GET_OBJECT_LEGAL_HOLD],resource:i,children:(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)("strong",{children:"Legal Hold:"}),(0,L.jsx)("br",{}),Q.legal_hold_status?"On":"Off"]})})}),(0,L.jsx)(J.Z,{className:n.detailContainer,children:(0,L.jsx)(E.s,{scopes:[I.Ft.S3_GET_OBJECT_RETENTION],resource:i,children:(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)("strong",{children:"Retention Policy:"}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{className:n.capitalizeFirst,children:(Q.version_id&&Q.version_id,(0,L.jsx)(a.Fragment,{children:Q.retention_mode?Q.retention_mode.toLowerCase():"None"}))})]})})}),(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.headerForSection,children:[(0,L.jsx)("span",{children:"Metadata"}),(0,L.jsx)(T.fRO,{})]}),(0,L.jsx)(J.Z,{className:n.detailContainer,children:Q?(0,L.jsx)(Ne,{bucketName:i,internalPaths:t,actualInfo:Q,linear:!0}):null})]})]})})),mn=t(46431),pn=t.n(mn),xn=function(e){return e.name.endsWith("/")?"":(0,L.jsx)(pn(),{children:e.last_modified})},vn=function(e){return e.name.endsWith("/")||!e.size?"-":(0,j.ae)(String(e.size))},bn=[{label:"Name",elementKey:"name",renderFunction:$e,enableSort:!0},{label:"Last Modified",elementKey:"last_modified",renderFunction:xn,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:vn,renderFullObject:!0,width:100,contentTextAlign:"center",enableSort:!0}],gn=[{label:"Name",elementKey:"name",renderFunction:$e,enableSort:!0},{label:"Object Date",elementKey:"last_modified",renderFunction:xn,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:vn,renderFullObject:!0,width:100,contentTextAlign:"center",enableSort:!0},{label:"Deleted",elementKey:"delete_flag",renderFunction:function(e){return e?"Yes":"No"},width:60,contentTextAlign:"center"}],jn=t(40986),Zn=t(88878),wn=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)({},u.oO))}))((function(e){var n=e.classes,t=e.versionID,i=e.bucketName,o=e.objectPath,s=e.restoreOpen,r=e.onCloseAndUpdate,c=(0,d.TL)(),l=(0,a.useState)(!1),u=(0,f.Z)(l,2),h=u[0],m=u[1];return(0,L.jsx)(ve.Z,{title:"Restore File Version",confirmText:"Restore",isOpen:s,isLoading:h,titleIcon:(0,L.jsx)(Zn.Z,{}),onConfirm:function(){m(!0),b.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/objects/restore?prefix=").concat((0,j.LL)(o),"&version_id=").concat(t)).then((function(e){m(!1),r(!0)})).catch((function(e){c((0,F.Ih)(e)),m(!1)}))},confirmButtonProps:{variant:"secondary",disabled:h},onClose:function(){r(!1)},confirmationContent:(0,L.jsxs)(xe.Z,{id:"alert-dialog-description",children:["Are you sure you want to restore ",(0,L.jsx)("br",{}),(0,L.jsx)("b",{children:o})," ",(0,L.jsx)("br",{})," with Version ID:",(0,L.jsx)("br",{}),(0,L.jsx)("b",{className:n.wrapText,children:t}),"?"]})})})),Cn=function(e){var n="#000",t="";switch(e.type){case"null":n="#07193E",t="NULL VERSION";break;case"deleted":n="#868686",t="DELETED";break;default:n="#174551",t="CURRENT VERSION"}return(0,L.jsx)("span",{style:{backgroundColor:n,padding:"0 5px",display:"inline-block",color:"#FFF",fontWeight:"bold",fontSize:12,borderRadius:2,whiteSpace:"nowrap",margin:"0 10px"},children:t})},Sn=t(34866),yn=(0,c.Z)((function(e){return(0,r.Z)({mainFileVersionItem:{borderBottom:"#E2E2E2 1px solid",padding:"1rem 0",margin:"0 0.5rem 0 2.5rem",cursor:"pointer","&.deleted":{color:"#868686"},"@media (max-width: 799px)":{padding:"5px 0px",margin:0}},intermediateLayer:{margin:"0 1.5rem 0 1.5rem","&:hover, &.selected":{backgroundColor:"#F8F8F8","& > div":{borderBottomColor:"#F8F8F8"}},"@media (max-width: 799px)":{margin:0,"&:hover, &.selected":{backgroundColor:"transparent","& > div":{borderBottomColor:"#E2E2E2"}}}},versionContainer:{fontSize:16,fontWeight:"bold",display:"flex",alignItems:"center","& svg.min-icon":{width:18,height:18,minWidth:18,minHeight:18,marginRight:10},"@media (max-width: 799px)":{fontSize:14,"& svg.min-icon":{display:"none"}}},buttonContainer:{textAlign:"right","& button":{marginLeft:"1.5rem"},"@media (max-width: 600px)":{"& button":{marginLeft:"5px"}}},versionID:{fontSize:"12px",margin:"2px 0",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"95%",overflow:"hidden"},versionData:{marginRight:"10px",fontSize:12,color:"#868686","@media (max-width: 799px)":{textOverflow:"ellipsis",maxWidth:"95%",overflow:"hidden",whiteSpace:"nowrap"}},ctrItem:{position:"relative","&::before":{content:"' '",display:"block",position:"absolute",width:"2px",height:"calc(100% + 2px)",backgroundColor:"#F8F8F8",left:"24px"},"@media (max-width: 799px)":{"&::before":{display:"none"}}},collapsableInfo:{"@media (max-width: 799px)":{display:"flex",flexDirection:"column"}},versionItem:{"@media (max-width: 799px)":{display:"none"}}})}))((function(e){var n=e.classes,t=e.fileName,i=e.versionInfo,a=e.isSelected,o=e.checkable,s=e.isChecked,r=e.onCheck,c=e.onShare,d=e.onDownload,u=e.onRestore,h=e.onPreview,f=e.globalClick,m=e.index,p=e.key,x=e.style,v=i.is_delete_marker,b=[{icon:(0,L.jsx)(T.P99,{}),action:h,tooltip:"Preview"},{icon:(0,L.jsx)(T._8t,{}),action:d,tooltip:"Download this version"},{icon:(0,L.jsx)(T.aAc,{}),action:c,tooltip:"Share this version"},{icon:(0,L.jsx)(T.D7Y,{}),action:u,tooltip:"Restore this version"}],g=null;return i.is_delete_marker?g="deleted":i.is_latest?g="current":"null"===i.version_id&&(g="null"),(0,L.jsx)(l.ZP,{container:!0,flex:1,className:n.ctrItem,onClick:function(){f(i)},style:x,children:(0,L.jsx)(l.ZP,{item:!0,xs:12,className:"".concat(n.intermediateLayer," ").concat(a?"selected":""),children:(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(n.mainFileVersionItem," ").concat(i.is_delete_marker?"deleted":""),children:[(0,L.jsx)(l.ZP,{item:!0,xs:12,justifyContent:"space-between",children:(0,L.jsxs)(l.ZP,{container:!0,children:[(0,L.jsxs)(l.ZP,{item:!0,xs:!0,md:4,className:n.versionContainer,children:[o&&(0,L.jsx)(Sn.Z,{checked:s,id:"select-".concat(i.version_id),label:"",name:"select-".concat(i.version_id),onChange:function(e){e.stopPropagation(),e.preventDefault(),r(i.version_id||"")},value:i.version_id||"",disabled:i.is_delete_marker,overrideCheckboxStyles:{paddingLeft:0,height:34,width:25},noTopMargin:!0}),$e(t,!0)," v",m.toString(),(0,L.jsx)("span",{className:n.versionItem,children:g&&(0,L.jsx)(Cn,{type:g})})]}),(0,L.jsx)(l.ZP,{item:!0,xs:10,md:8,className:n.buttonContainer,children:b.map((function(e,t){return(0,L.jsx)(_.Z,{title:e.tooltip,children:(0,L.jsx)(N.Z,{size:"small",id:"version-action-".concat(e.tooltip,"-").concat(t.toString()),className:"".concat(n.spacing," ").concat(v?n.buttonDisabled:""),disabled:v,onClick:function(n){n.stopPropagation(),v?n.preventDefault():e.action(i)},sx:{backgroundColor:"#F8F8F8",borderRadius:"100%",width:"28px",height:"28px",padding:"5px","& .min-icon":{width:"14px",height:"14px"}},children:e.icon})},"version-action-".concat(e.tooltip,"-").concat(t.toString()))}))})]})}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.versionID,children:"null"!==i.version_id?i.version_id:"-"}),(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.collapsableInfo,children:[(0,L.jsxs)("span",{className:n.versionData,children:[(0,L.jsx)("strong",{children:"Last modified:"})," ",(0,L.jsx)(pn(),{children:i.last_modified})]}),(0,L.jsxs)("span",{className:n.versionData,children:[(0,L.jsx)("strong",{children:"Size:"})," ",(0,j.ae)(i.size||"0")]})]})]})})},p)})),Nn=t(90673),_n=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,o=e.selectedObject,s=(0,d.TL)(),r=(0,a.useState)(!1),c=(0,f.Z)(r,2),u=c[0],h=c[1],m=(0,a.useState)(""),p=(0,f.Z)(m,2),x=p[0],v=p[1];if((0,a.useEffect)((function(){u&&b.Z.invoke("DELETE","/api/v1/buckets/".concat(i,"/objects?path=").concat(o,"&non_current_versions=true")).then((function(){n(!0)})).catch((function(e){s((0,F.Ih)(e)),h(!1)}))}),[u,n,s,o,i]),!o)return null;return(0,L.jsx)(ve.Z,{title:"Delete Non-Current versions",confirmText:"Delete",isOpen:t,titleIcon:(0,L.jsx)(T.NvT,{}),isLoading:u,onConfirm:function(){h(!0)},onClose:function(){return n(!1)},confirmButtonProps:{disabled:"YES, PROCEED"!==x||u},confirmationContent:(0,L.jsxs)(xe.Z,{children:["Are you sure you want to delete all the non-current versions for:"," ",(0,L.jsx)("b",{children:(0,j.IO)(o)}),"? ",(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),"To continue please type ",(0,L.jsx)("b",{children:"YES, PROCEED"})," in the box.",(0,L.jsx)(l.ZP,{item:!0,xs:12,children:(0,L.jsx)(Qe.Z,{id:"type-confirm",name:"retype-tenant",onChange:function(e){v(e.target.value)},label:"",value:x})})]})})},Tn=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,o=e.selectedVersions,s=e.selectedObject,r=(0,d.TL)(),c=(0,a.useState)(!1),l=(0,f.Z)(c,2),u=l[0],h=l[1];return(0,a.useEffect)((function(){if(u){var e=o.map((function(e){return{path:s,versionID:e,recursive:!1}}));e.length>0&&b.Z.invoke("POST","/api/v1/buckets/".concat(i,"/delete-objects?all_versions=false"),e).then((function(){h(!1),n(!0)})).catch((function(e){r((0,F.Ih)(e)),h(!1)}))}}),[u,n,i,s,o,r]),o?(0,L.jsx)(ve.Z,{title:"Delete Selected Versions",confirmText:"Delete",isOpen:t,titleIcon:(0,L.jsx)(T.NvT,{}),isLoading:u,onConfirm:function(){h(!0)},onClose:function(){return n(!1)},confirmationContent:(0,L.jsxs)(xe.Z,{children:["Are you sure you want to delete the selected ",o.length," ","versions for ",(0,L.jsx)("strong",{children:s}),"?"]})}):null},En=t(5171),In={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},kn=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({versionsContainer:{padding:10,"@media (max-width: 799px)":{minHeight:800}},noBottomBorder:{borderBottom:0},versionsVirtualPanel:{flexGrow:1,height:"calc(100% - 120px)",overflow:"auto","@media (max-width: 799px)":{height:600}},screenTitleContainer:{position:"relative","&::before":{content:"' '",display:"block",position:"absolute",width:"2px",backgroundColor:"#F8F8F8",left:"24px",height:"40px",bottom:0},"@media (max-width: 799px)":{"&::before":{display:"none"}}},sortByLabel:{color:"#838383",fontWeight:"bold",whiteSpace:"nowrap",marginRight:12,fontSize:14,"@media (max-width: 600px)":{display:"none"}}},u.bp),u.Si),u.OR),u.VX),u.bK),u.VI),u.cx),u.C4),(0,u.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.internalPaths,i=e.bucketName,s=(0,d.TL)(),r=(0,o.v9)((function(e){return e.objectBrowser.searchVersions})),c=(0,o.v9)((function(e){return e.objectBrowser.loadingVersions})),u=(0,o.v9)((function(e){return e.objectBrowser.selectedVersion})),m=(0,o.v9)(F.N5),x=(0,a.useState)(!1),g=(0,f.Z)(x,2),Z=g[0],w=g[1],C=(0,a.useState)(null),S=(0,f.Z)(C,2),y=S[0],N=S[1],_=(0,a.useState)(null),E=(0,f.Z)(_,2),I=E[0],k=E[1],O=(0,a.useState)([]),z=(0,f.Z)(O,2),A=z[0],M=z[1],U=(0,a.useState)(!1),G=(0,f.Z)(U,2),H=G[0],K=G[1],V=(0,a.useState)(""),Y=(0,f.Z)(V,2),J=Y[0],q=Y[1],$=(0,a.useState)("date"),Q=(0,f.Z)($,2),ee=Q[0],ne=Q[1],te=(0,a.useState)(!1),ie=(0,f.Z)(te,2),ae=ie[0],oe=ie[1],se=(0,a.useState)(!1),re=(0,f.Z)(se,2),ce=re[0],le=re[1],de=(0,a.useState)(!1),ue=(0,f.Z)(de,2),he=ue[0],fe=ue[1],me=(0,a.useState)([]),pe=(0,f.Z)(me,2),xe=pe[0],ve=pe[1],be=(0,a.useState)(!1),ge=(0,f.Z)(be,2),je=ge[0],we=ge[1],Ce=[];y&&(Ce=y.name.split("/")),(0,a.useEffect)((function(){c||y||s((0,P.Eq)(!0))}),[c,y,s]),(0,a.useEffect)((function(){c&&""!==t&&b.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects?prefix=").concat(t).concat(m?"&with_versions=true":"")).then((function(e){var n=v()(e,"objects",[]),i=(0,j.IO)(t),a=n.filter((function(e){return e.name===i}));m?(N(a.find((function(e){return e.is_latest}))||In),M(a)):(N(a[0]),M([])),s((0,P.Eq)(!1))})).catch((function(e){s((0,F.Ih)(e)),s((0,P.Eq)(!1))}))}),[c,i,t,s,m]);var Se=function(e){k(e),w(!0)},ye=function(e){k(e),oe(!0)},Ne=function(e){q(e.version_id||""),K(!0)},_e=function(e){!function(e){var n=(0,j.LL)("".concat(i,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),a=(0,B.LR)(i,t,e.version_id,parseInt(e.size||"0"),null,(function(e){s((0,P.RO)({instanceID:n,progress:e}))}),(function(){s((0,P.oK)(n))}),(function(e){s((0,P.qJ)({instanceID:n,msg:e}))}),(function(){s((0,P.Im)(n))})),o=(0,ln.YO)(8);(0,ln.EN)(o,a),s((0,P.Mc)({ID:o,bucketName:i,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1,errorMessage:""})),a.send()}(e)},Te=function(e){s((0,P.M3)(e.version_id||""))},Ee=A.filter((function(e){return!!e.version_id&&e.version_id.includes(r)})),Ie=A.reduce((function(e,n){return n.size?e+parseInt(n.size):e}),0);Ee.sort((function(e,n){if("size"===ee)return e.size&&n.size?e.size<n.size?-1:e.size>n.size?1:0:0;var t=new Date(e.last_modified).getTime(),i=new Date(n.last_modified).getTime();return t<i?1:t>i?-1:0}));var ke=function(e){if(xe.includes(e)){var n=xe.filter((function(n){return n!==e}));ve(n)}else{var t=(0,h.Z)(xe);t.push(e),ve(t)}};return(0,L.jsxs)(a.Fragment,{children:[Z&&y&&(0,L.jsx)(X.default,{open:Z,closeModalAndRefresh:function(){k(null),w(!1),oe(!1)},bucketName:i,dataObject:I||y}),H&&y&&(0,L.jsx)(wn,{restoreOpen:H,bucketName:i,versionID:J,objectPath:y.name,onCloseAndUpdate:function(e){K(!1),q(""),e&&(s((0,P.Eq)(!0)),s((0,P.vH)(!0)))}}),ae&&y&&(0,L.jsx)(Ze.default,{open:ae,bucketName:i,object:{name:y.name,version_id:I&&I.version_id?I.version_id:"null",size:parseInt(I&&I.size?I.size:"0"),content_type:"",last_modified:new Date(y.last_modified)},onClosePreview:function(){oe(!1)}}),ce&&(0,L.jsx)(_n,{deleteOpen:ce,closeDeleteModalAndRefresh:function(e){le(!1),e&&(s((0,P.Eq)(!0)),s((0,P.M3)("")),s((0,P.vH)(!0)))},selectedBucket:i,selectedObject:t}),je&&(0,L.jsx)(Tn,{selectedBucket:i,selectedObject:(0,j.IO)(t),deleteOpen:je,selectedVersions:xe,closeDeleteModalAndRefresh:function(e){we(!1),e&&(s((0,P.Eq)(!0)),s((0,P.M3)("")),s((0,P.vH)(!0)),ve([]))}}),(0,L.jsxs)(l.ZP,{container:!0,className:n.versionsContainer,children:[!y&&(0,L.jsx)(l.ZP,{item:!0,xs:12,children:(0,L.jsx)(jn.Z,{})}),y&&(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)(l.ZP,{item:!0,xs:12,children:(0,L.jsx)(D,{bucketName:i,internalPaths:(0,j.IO)(t),existingFiles:[],hidePathButton:!0})}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.screenTitleContainer,children:(0,L.jsx)(R.Z,{icon:(0,L.jsx)("span",{className:n.listIcon,children:(0,L.jsx)(T.cRd,{})}),title:(0,L.jsxs)("span",{className:n.titleSpacer,children:[Ce.length>0?Ce[Ce.length-1]:y.name," ","Versions"]}),subTitle:(0,L.jsx)(a.Fragment,{children:(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.bucketDetails,children:[(0,L.jsx)("span",{className:n.detailsSpacer,children:(0,L.jsxs)("strong",{children:[A.length," Version",1===A.length?"":"s","\xa0\xa0\xa0"]})}),(0,L.jsx)("span",{className:n.detailsSpacer,children:(0,L.jsx)("strong",{children:(0,j.l5)(Ie)})})]})}),actions:(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)(W.Z,{tooltip:"Select Multiple Versions",children:(0,L.jsx)(p.z,{id:"select-multiple-versions",onClick:function(){fe(!he)},icon:(0,L.jsx)(T.amE,{}),variant:he?"callAction":"regular",style:{marginRight:8}})}),he&&(0,L.jsx)(W.Z,{tooltip:"Delete Selected Versions",children:(0,L.jsx)(p.z,{id:"delete-multiple-versions",onClick:function(){we(!0)},icon:(0,L.jsx)(T.pJl,{}),variant:"secondary",style:{marginRight:8},disabled:0===xe.length})}),(0,L.jsx)(W.Z,{tooltip:"Delete Non Current Versions",children:(0,L.jsx)(p.z,{id:"delete-non-current",onClick:function(){le(!0)},icon:(0,L.jsx)(T.utM,{}),variant:"secondary",style:{marginRight:15},disabled:A.length<=1})}),(0,L.jsx)("span",{className:n.sortByLabel,children:"Sort by"}),(0,L.jsx)(Nn.Z,{id:"sort-by",label:"",value:ee,onChange:function(e){ne(e.target.value)},name:"sort-by",options:[{label:"Date",value:"date"},{label:"Size",value:"size"}]})]}),className:n.noBottomBorder})}),(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.versionsVirtualPanel,children:y.version_id&&"null"!==y.version_id&&(0,L.jsx)(En.aV,{style:{width:"100%"},containerStyle:{width:"100%",maxWidth:"100%"},width:1,height:800,rowCount:Ee.length,rowHeight:108,rowRenderer:function(e){var n=e.key,t=e.index,i=(e.isScrolling,e.isVisible,e.style),a=A.length-t;return(0,L.jsx)(yn,{style:i,fileName:(null===y||void 0===y?void 0:y.name)||"",versionInfo:Ee[t],index:a,onDownload:_e,onRestore:Ne,onShare:Se,onPreview:ye,globalClick:Te,isSelected:u===Ee[t].version_id,checkable:he,onCheck:ke,isChecked:xe.includes(Ee[t].version_id||"")},n)}})})]})]})]})})),Fn=t(9859),Pn=t(46078),Ln=a.lazy((function(){return Promise.resolve().then(t.bind(t,13065))})),On=a.lazy((function(){return Promise.resolve().then(t.bind(t,28789))})),Dn=a.lazy((function(){return Promise.resolve().then(t.bind(t,74768))})),Bn=(0,k.Z)(a.lazy((function(){return t.e(711).then(t.bind(t,50711))}))),Rn=(0,k.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,34433))}))),zn=(0,k.Z)(a.lazy((function(){return Promise.all([t.e(3691),t.e(2515),t.e(6901)]).then(t.bind(t,26901))}))),An=(0,k.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,78562))}))),Mn=(0,K.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({browsePaper:{border:0,height:"calc(100vh - 210px)","&.isEmbedded":{height:"calc(100vh - 315px)"},"&.actionsPanelOpen":{minHeight:"100%"},"@media (max-width: 800px)":{width:800}},"@global":{".rowLine:hover  .iconFileElm":{backgroundImage:"url(/images/ob_file_filled.svg)"},".rowLine:hover  .iconFolderElm":{backgroundImage:"url(/images/ob_folder_filled.svg)"}},badgeOverlap:{"& .MuiBadge-badge":{top:10,right:1,width:5,height:5,minWidth:5}},screenTitle:{borderBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0}},u.VX),u.OR),u.qg),{},{searchField:(0,i.Z)((0,i.Z)({},u.qg.searchField),{},{maxWidth:380}),screenTitleContainer:{border:"#EAEDEE 1px solid",padding:"0.8rem 15px 0"},labelStyle:{color:"#969FA8",fontSize:"12px"},breadcrumbsContainer:{padding:"12px 14px 5px"},parentWrapper:{"@media (max-width: 800px)":{overflowX:"auto"}},fullContainer:{"@media (max-width: 799px)":{width:0}},hideListOnSmall:{"@media (max-width: 799px)":{display:"none"}}},u.C4),u.cx),(0,u.Bz)(e.spacing(4))))})),Un={borderWidth:2,borderRadius:2,borderColor:"#eeeeee",outline:"none"},Gn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#2196f3"},Wn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#00e676"};var Hn=(0,L.jsx)(Z.Z,{component:"h3",children:"Loading..."}),Kn=function(){var e,n=Mn(),t=(0,d.TL)(),r=(0,s.UO)(),c=(0,s.s0)(),u=(0,s.TH)(),x=(0,o.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),C=(0,o.v9)((function(e){return e.objectBrowser.rewind.dateToRewind})),S=(0,o.v9)((function(e){return e.objectBrowser.rewind.bucketToRewind})),y=(0,o.v9)((function(e){return e.objectBrowser.versionsMode})),N=(0,o.v9)((function(e){return e.objectBrowser.searchObjects})),_=(0,o.v9)((function(e){return e.objectBrowser.showDeleted})),k=(0,o.v9)((function(e){return e.objectBrowser.objectDetailsOpen})),O=(0,o.v9)((function(e){return e.objectBrowser.selectedInternalPaths})),A=(0,o.v9)((function(e){return e.objectBrowser.loadingObjects})),M=(0,o.v9)((function(e){return e.objectBrowser.simplePath})),U=(0,o.v9)(Fn.HQ),G=(0,o.v9)(Fn.G6),K=(0,o.v9)((function(e){return e.console.session.allowResources})),V=(0,o.v9)(Pn.$4),J=!(null===V||void 0===V||!V.includes("object-browser-only")),q=(0,a.useState)([]),X=(0,f.Z)(q,2),$=X[0],Q=X[1],ee=(0,a.useState)(!1),ne=(0,f.Z)(ee,2),te=ne[0],ie=ne[1],ae=(0,a.useState)(0),oe=(0,f.Z)(ae,2),se=oe[0],re=oe[1],ce=(0,a.useState)(Hn),le=(0,f.Z)(ce,2),de=le[0],ue=le[1],he=(0,a.useState)(!0),fe=(0,f.Z)(he,2),me=fe[0],pe=fe[1],xe=(0,a.useState)(!1),ve=(0,f.Z)(xe,2),be=ve[0],ge=ve[1],je=(0,a.useState)(!0),Ze=(0,f.Z)(je,2),we=Ze[0],Ce=Ze[1],Se=(0,a.useState)(!1),ye=(0,f.Z)(Se,2),Ne=ye[0],_e=ye[1],Te=(0,a.useState)(!1),Ee=(0,f.Z)(Te,2),Ie=Ee[0],Fe=Ee[1],Pe=(0,a.useState)([]),Le=(0,f.Z)(Pe,2),Oe=Le[0],De=Le[1],Be=(0,a.useState)(!1),Re=(0,f.Z)(Be,2),ze=Re[0],Ae=Re[1],Me=(0,a.useState)(null),Ue=(0,f.Z)(Me,2),Ge=Ue[0],We=Ue[1],He=(0,a.useState)(!1),Ke=(0,f.Z)(He,2),Ve=Ke[0],Ye=Ke[1],Je=(0,a.useState)("ASC"),qe=(0,f.Z)(Je,2),Xe=qe[0],$e=qe[1],Qe=(0,a.useState)("name"),en=(0,f.Z)(Qe,2),nn=en[0],tn=en[1],an=(0,a.useState)(!1),on=(0,f.Z)(an,2),sn=on[0],rn=on[1],cn=(0,a.useState)(!1),dn=(0,f.Z)(cn,2),hn=dn[0],mn=dn[1],pn=(0,a.useState)(!1),xn=(0,f.Z)(pn,2),vn=xn[0],jn=xn[1],Zn=(0,a.useState)(null),wn=(0,f.Z)(Zn,2),Cn=wn[0],yn=wn[1],Nn=(0,a.useState)(null),_n=(0,f.Z)(Nn,2),Tn=_n[0],En=_n[1],In=u.pathname.split("/browse/"),Kn=2===In.length?In[1]:"",Vn=r.bucketName||"",Yn=(0,a.useRef)(null),Jn=(0,a.useRef)(null);(0,a.useEffect)((function(){null!==Jn.current&&(Jn.current.setAttribute("directory",""),Jn.current.setAttribute("webkitdirectory",""))}),[Jn]),(0,a.useEffect)((function(){if(1===Oe.length){var e=Oe[0];"none"!==(0,B.Bg)(e)?jn(!0):jn(!1),e.endsWith("/")?mn(!1):mn(!0)}else mn(!1),jn(!1)}),[Oe]),(0,a.useEffect)((function(){Cn||b.Z.invoke("GET","/api/v1/buckets/".concat(Vn,"/quota")).then((function(e){var n=null;e.quota&&(n=e),yn(n)})).catch((function(e){console.error("Error Getting Quota Status: ",e.detailedError),yn(null)}))}),[Cn,Vn]),(0,a.useEffect)((function(){Oe.length>0?t((0,P.vb)(!0)):0===Oe.length&&null===O&&t((0,P.vb)(!1))}),[Oe,O,t]);var qn=(0,E.F)(Vn,[I.Ft.S3_DELETE_OBJECT]),Xn=(0,E.F)(Vn,[I.Ft.S3_LIST_BUCKET]);(0,a.useEffect)((function(){sn||(t((0,Fn.d5)(!0)),rn(!0))}),[sn,t,rn]),function(e,n){var t=(0,a.useRef)(null);(0,a.useEffect)((function(){t.current=e}),[e]),(0,a.useEffect)((function(){if(null!==n){var e=setInterval((function(){void 0!==t&&t.current&&t.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){A&&function(){var e=Date.now()-se;e/1e3>=6?ue((0,L.jsx)(a.Fragment,{children:(0,L.jsxs)(Z.Z,{component:"h3",children:["This operation is taking longer than expected... (",Math.ceil(e/1e3),"s)"]})})):e/1e3>=3&&ue((0,L.jsx)(Z.Z,{component:"h3",children:"This operation is taking longer than expected..."}))}()}),1e3),(0,a.useEffect)((function(){me&&(Xn?b.Z.invoke("GET","/api/v1/buckets/".concat(Vn,"/versioning")).then((function(e){ge(e.is_versioned),pe(!1)})).catch((function(e){console.error("Error Getting Object Versioning Status: ",e.detailedError),pe(!1)})):(pe(!1),Q([])))}),[Vn,me,t,Xn]),(0,a.useEffect)((function(){we&&(Xn?b.Z.invoke("GET","/api/v1/buckets/".concat(Vn,"/object-locking")).then((function(e){_e(e.object_locking_enabled),Ce(!1)})).catch((function(e){console.error("Error Getting Object Locking Status: ",e.detailedError),Ce(!1)})):(Q([]),Ce(!1)))}),[Vn,we,t,Xn]),(0,a.useEffect)((function(){var e=(0,j.IO)(Kn);e.endsWith("/")||""===e?(t((0,P.vb)(!1)),t((0,P.EE)(null)),t((0,P.Su)(""===e?"/":e))):(t((0,P.vH)(!0)),t((0,P.vb)(!0)),t((0,P.Eq)(!0)),t((0,P.EE)("".concat(e?"".concat((0,j.LL)(e)):""))),t((0,P.Su)("".concat(e.split("/").slice(0,-1).join("/"),"/"))))}),[Kn,C,x,t]),(0,a.useEffect)((function(){t((0,P.G4)("")),t((0,P.MU)(!0)),De([])}),[M,t,De]),(0,a.useEffect)((function(){if(A)if(Xn){var e="";if(Kn){var n=(0,j.IO)(Kn);e=n.endsWith("/")?n:n+"/"}var i=Date.now();re(i),ue(Hn);var a="/api/v1/buckets/".concat(Vn,"/objects");if(x){if(S!==Vn)return void t((0,P._w)());if(C){var o=C.toISOString();a="/api/v1/buckets/".concat(Vn,"/rewind/").concat(o)}}else if(_){var s=(new Date).toISOString();a="/api/v1/buckets/".concat(Vn,"/rewind/").concat(s)}b.Z.invoke("GET","".concat(a).concat(e?"?prefix=".concat((0,j.LL)(e)):"")).then((function(n){var i=n.objects||[],o=[],s=[];i.forEach((function(e){e.name!==(0,j.IO)(Kn)&&(e.name.endsWith("/")?o.push(e):s.push(e))}));var r=[].concat(o,s);if(0===r.length&&""!==e){var c="/api/v1/buckets/".concat(Vn,"/objects").concat(Kn?"?prefix=".concat(Kn):"");if(x){var l=C.toISOString(),d="";if(Kn){var u=(0,j.IO)(Kn);d=u.endsWith("/")?u:u+"/"}c="/api/v1/buckets/".concat(Vn,"/rewind/").concat(l).concat(d?"?prefix=".concat((0,j.LL)(d)):"")}b.Z.invoke("GET",c).then((function(n){if(n.objects){for(var i=!1,o=e.slice(0,e.length-1),s=0;s<n.objects.length;s++)n.objects[s].name===o&&(i=!0);if(1===n.objects.length&&n.objects[0].name.endsWith("/")||!i)Q(r);else{t((0,P.vb)(!0)),t((0,P.EE)(Kn));var c="".concat((0,j.IO)(Kn).split("/").slice(0,-1).join("/"),"/");b.Z.invoke("GET","".concat(a).concat(e?"?prefix=".concat((0,j.LL)(c)):"")).then((function(e){var n=e.objects||[];Q(n)})).catch((function(){}))}t((0,P.MU)(!1))}else t((0,P.MU)(!1)),Q(r)})).catch((function(e){t((0,P.MU)(!1)),t((0,F.Ih)(e))}))}else Q(r),t((0,P.MU)(!1))})).catch((function(n){var i=(0,B.kh)(Vn,e,K||[]);i&&0!==i.length?Q(i):t((0,F.Ih)(n)),t((0,P.MU)(!1))}))}else t((0,P.MU)(!1))}),[A,t,Vn,x,C,Kn,G,_,Xn,S,K]),(0,a.useEffect)((function(){U&&b.Z.invoke("GET","/api/v1/buckets/".concat(Vn)).then((function(e){t((0,Fn.d5)(!1)),t((0,Fn.f4)(e))})).catch((function(e){t((0,Fn.d5)(!1)),t((0,F.Ih)(e))}))}),[Vn,U,t]);var $n=function(e){if(null!==e&&void 0!==e&&null!==e.target.files&&void 0!==e.target.files){e.preventDefault();for(var n=[],t=0;t<e.target.files.length;t++)n.push(e.target.files[t]);Qn(n,""),e.target.value=""}},Qn=(0,a.useCallback)((function(e,n){var i="";M&&(i=M.endsWith("/")?M:M+"/");!function(e,n,i,a){var o=function(o){return new Promise((function(s,r){var c="api/v1/buckets/".concat(n,"/objects/upload"),l=o.name,d=new Blob([o],{type:o.type}),u="",h=v()(o,"path",""),f=v()(o,"webkitRelativePath",""),m=a;if(""!==h?m=h:""!==f&&(m=f),""!==i||""!==m){var p=m.split("/").slice(0,-1).join("/"),x=i.endsWith("/")?i.slice(0,-1):i;u=(0,j.LL)("".concat(x).concat(x.endsWith("/")||""===p||p.startsWith("/")?"":"/").concat(p).concat(!p.endsWith("/")||""===p.trim()&&!i.endsWith("/")?"/":""))}""!==u&&(c="".concat(c,"?prefix=").concat(u));var b=(0,j.LL)("".concat(n,"-").concat(u,"-").concat((new Date).getTime(),"-").concat(Math.random())),g=new XMLHttpRequest;g.open("POST",c,!0);var Z=e.length>1,w="An error occurred while uploading the file".concat(Z?"s":"","."),C={413:"Error - File size too large"};g.withCredentials=!1,g.onload=function(e){if(g.status>=200&&g.status<300)t((0,P.oK)(b)),s({status:g.status});else{if(C[g.status])w=C[g.status];else if(g.response)try{var n=JSON.parse(g.response);w=n.detailedMessage}catch(i){w="something went wrong"}t((0,P.qJ)({instanceID:b,msg:w})),r({status:g.status,message:w})}},g.upload.addEventListener("error",(function(e){r(w),t((0,P.qJ)({instanceID:b,msg:"A network error occurred."}))})),g.upload.addEventListener("progress",(function(e){var n=Math.floor(100*e.loaded/e.total);t((0,P.RO)({instanceID:b,progress:n}))})),g.onerror=function(){r(w),t((0,P.qJ)({instanceID:b,msg:"A network error occurred."}))},g.onloadend=function(){0===e.length&&t((0,P.MU)(!0))},g.onabort=function(){t((0,P.Im)(b))};var S=new FormData;if(void 0!==o.size){S.append(o.size.toString(),d,l);var y=(0,ln.YO)(8);(0,ln.EN)(y,g),t((0,P.Mc)({ID:y,bucketName:n,done:!1,instanceID:b,percentage:0,prefix:"".concat((0,j.IO)(u)).concat(l),type:"upload",waitingForFile:!1,failed:!1,cancelled:!1,errorMessage:""})),g.send(S)}}))},s=[];t((0,P.LD)());for(var r=0;r<e.length;r++){var c=e[r];s.push(o(c))}Promise.allSettled(s).then((function(e){var n=e.filter((function(e){return"rejected"===e.status}));if(n.length>0){var i=s.length,a=s.length-n.length,o={errorMessage:"There were some errors during file upload",detailedError:"Uploaded files ".concat(a,"/").concat(i)};t((0,F.Ih)(o))}t((0,P.MU)(!0)),De([])}))}(e,Vn,i,n)}),[Vn,t,M]),et=(0,a.useCallback)((function(e){if(e&&e.length>0){var n=e[0].path;Qn(e,n)}}),[Qn]),nt=(0,m.uI)({noClick:!0,onDrop:et}),tt=nt.getRootProps,it=nt.getInputProps,at=nt.isDragActive,ot=nt.isDragAccept,st=(0,a.useMemo)((function(){return(0,i.Z)((0,i.Z)((0,i.Z)({},Un),at?Gn:{}),ot?Wn:{})}),[at,ot]),rt=$.filter((function(e){return""===N||e.name.toLowerCase().indexOf(N.toLowerCase())>=0})),ct=(0,j.IO)(Kn),lt=ct.split("/").filter((function(e){return""!==e})),dt=rt.sort((0,B.P_)(nn)),ut=[];ut="ASC"===Xe?dt:dt.reverse();var ht=[Vn];lt.length>0&&(ht=ht.concat(lt));var ft=function(e){if(t((0,P.EE)(null)),t((0,P.db)({status:!1})),k&&null!==O){var n=(0,j.IO)(Kn).split("/");n.pop();var i="";n&&n.length>0&&(i="".concat(n.join("/"),"/")),c("/buckets/".concat(Vn,"/browse/").concat((0,j.LL)(i)))}t((0,P.vb)(!1)),De([]),e&&t((0,P.MU)(!0))},mt=[{type:"view",label:"View",onClick:function(e){De([]);var n="/buckets/".concat(Vn,"/browse").concat(e?"/".concat((0,j.LL)(e)):"");c(n),t((0,P.vb)(!0)),t((0,P.Eq)(!0)),t((0,P.EE)("".concat(e?"".concat((0,j.LL)(e)):"")))},sendOnlyId:!0}],pt=[{action:function(){if(0!==Oe.length){var e=[];if(1===(e=rt.filter((function(e){return Oe.includes(e.name)}))).length&&e[0].name.length>200&&(0,j.mv)().toLowerCase().includes("win"))return void En(e[0]);e.forEach((function(e){!function(e){var n=(0,j.LL)("".concat(Vn,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),i=(0,B.LR)(Vn,(0,j.LL)(e.name),e.version_id,e.size,null,(function(e){t((0,P.RO)({instanceID:n,progress:e}))}),(function(){t((0,P.oK)(n))}),(function(e){t((0,P.qJ)({instanceID:n,msg:e}))}),(function(){t((0,P.Im)(n))})),a=(0,ln.YO)(8);(0,ln.EN)(a,i),t((0,P.Mc)({ID:a,bucketName:Vn,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1,errorMessage:""})),i.send()}(e)}))}},label:"Download",disabled:0===Oe.length,icon:(0,L.jsx)(T._8t,{}),tooltip:"Download Selected"},{action:function(){if(1===Oe.length){var e;(e=rt.find((function(e){return Oe.includes(e.name)})))&&(We(e),Ye(!0))}},label:"Share",disabled:1!==Oe.length||!hn,icon:(0,L.jsx)(T.aAc,{}),tooltip:"Share Selected File"},{action:function(){if(1===Oe.length){var e;(e=rt.find((function(e){return Oe.includes(e.name)})))&&(We(e),Ae(!0))}},label:"Preview",disabled:1!==Oe.length||!vn,icon:(0,L.jsx)(T.P99,{}),tooltip:"Preview Selected File"},{action:function(){ie(!0)},label:"Delete",icon:(0,L.jsx)(Dn,{}),disabled:!(0,E.F)(Vn,[I.Ft.S3_DELETE_OBJECT])||0===Oe.length||!qn,tooltip:"Delete Selected Files"}];return(0,L.jsxs)(a.Fragment,{children:[Ve&&Ge&&(0,L.jsx)(Rn,{open:Ve,closeModalAndRefresh:function(){Ye(!1),We(null)},bucketName:Vn,dataObject:{name:Ge.name,last_modified:"",version_id:Ge.version_id}}),te&&(0,L.jsx)(Bn,{deleteOpen:te,selectedBucket:Vn,selectedObjects:Oe,closeDeleteModalAndRefresh:function(e){ie(!1),e&&(t((0,F.y1)("Objects deleted successfully.")),De([]),t((0,P.MU)(!0)))},versioning:be}),Ie&&(0,L.jsx)(zn,{open:Ie,closeModalAndRefresh:function(){Fe(!1)},bucketName:Vn}),ze&&(0,L.jsx)(An,{open:ze,bucketName:Vn,object:Ge,onClosePreview:function(){Ae(!1),We(null)}}),!!Tn&&(0,L.jsx)(un,{open:!!Tn,closeModal:function(){En(null)},currentItem:(null===(e=Tn.name.split("/"))||void 0===e?void 0:e.pop())||"",bucketName:Vn,internalPaths:Kn,actualInfo:{name:Tn.name,last_modified:"",version_id:Tn.version_id,size:Tn.size.toString()}}),(0,L.jsxs)(z.Z,{variant:"full",children:[(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.screenTitleContainer,children:(0,L.jsx)(R.Z,{className:n.screenTitle,icon:(0,L.jsx)("span",{className:n.listIcon,children:(0,L.jsx)(T.wNb,{})}),title:(0,L.jsx)("span",{className:n.titleSpacer,children:Vn}),subTitle:(0,L.jsx)(a.Fragment,{children:(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.bucketDetails,children:[(0,L.jsxs)("span",{className:n.detailsSpacer,children:["Created:\xa0\xa0\xa0",(0,L.jsx)("strong",{children:(null===G||void 0===G?void 0:G.creation_date)||""})]}),(0,L.jsxs)("span",{className:n.detailsSpacer,children:["Access:\xa0\xa0\xa0",(0,L.jsx)("strong",{children:(null===G||void 0===G?void 0:G.access)||""})]}),G&&(0,L.jsx)(a.Fragment,{children:(0,L.jsxs)("span",{className:n.detailsSpacer,children:[G.size&&(0,L.jsx)(a.Fragment,{children:(0,j.l5)(G.size)}),G.size&&Cn&&(0,L.jsxs)(a.Fragment,{children:[" / ",(0,j.l5)(Cn.quota)]}),G.size&&G.objects?" - ":"",G.objects&&(0,L.jsxs)(a.Fragment,{children:[G.objects,"\xa0Object",G.objects&&1!==G.objects?"s":""]})]})})]})}),actions:(0,L.jsx)(a.Fragment,{children:(0,L.jsxs)("div",{className:n.actionsSection,children:[(0,L.jsx)(W.Z,{tooltip:"Rewind Bucket",children:(0,L.jsx)(p.z,{id:"rewind-objects-list",label:"Rewind",icon:(0,L.jsx)(w.Z,{badgeContent:" ",color:"secondary",variant:"dot",invisible:!x,className:n.badgeOverlap,sx:{height:16},children:(0,L.jsx)(Ln,{style:{minWidth:16,minHeight:16,width:16,height:16,marginTop:-3}})}),variant:"regular",onClick:function(){Fe(!0)},disabled:!be||!(0,E.F)(Vn,[I.Ft.S3_GET_OBJECT])})}),(0,L.jsx)(W.Z,{tooltip:"Reload List",children:(0,L.jsx)(p.z,{id:"refresh-objects-list",label:"Refresh",icon:(0,L.jsx)(On,{}),variant:"regular",onClick:function(){t(y?(0,P.Eq)(!0):(0,P.MU)(!0))},disabled:!(0,E.F)(Vn,[I.Ft.S3_LIST_BUCKET])||x})}),(0,L.jsx)("input",{type:"file",multiple:!0,onChange:$n,style:{display:"none"},ref:Yn}),(0,L.jsx)("input",{type:"file",multiple:!0,onChange:$n,style:{display:"none"},ref:Jn}),(0,L.jsx)(H,{bucketName:Vn,uploadPath:ht.join("/"),uploadFileFunction:function(e){Yn&&Yn.current&&Yn.current.click(),e()},uploadFolderFunction:function(e){Jn&&Jn.current&&Jn.current.click(),e()}})]})})})}),(0,L.jsxs)("div",(0,i.Z)((0,i.Z)({id:"object-list-wrapper"},tt({style:(0,i.Z)({},st)})),{},{children:[(0,L.jsx)("input",(0,i.Z)({},it())),(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.tableBlock,sx:{border:"#EAEDEE 1px solid",borderTop:0},children:[y?(0,L.jsx)(a.Fragment,{children:null!==O&&(0,L.jsx)(kn,{internalPaths:O,bucketName:Vn})}):(0,L.jsx)(E.s,{scopes:[I.Ft.S3_LIST_BUCKET],resource:Vn,errorProps:{disabled:!0},children:(0,L.jsxs)(l.ZP,{item:!0,xs:12,className:n.fullContainer,children:[(0,L.jsx)(l.ZP,{item:!0,xs:12,className:n.breadcrumbsContainer,children:(0,L.jsx)(D,{bucketName:Vn,internalPaths:ct,existingFiles:$||[],additionalOptions:!be||x?null:(0,L.jsx)("div",{children:(0,L.jsx)(Sn.Z,{name:"deleted_objects",id:"showDeletedObjects",value:"deleted_on",label:"Show deleted objects",onChange:function(){t((0,P.mz)(!_)),ft(!0)},checked:_,overrideLabelClasses:n.labelStyle,className:n.overrideShowDeleted,noTopMargin:!0})}),hidePathButton:!1})}),(0,L.jsx)(g.Z,{itemActions:mt,columns:x?gn:bn,isLoading:A,loadingMessage:de,entityName:"Objects",idField:"name",records:ut,customPaperHeight:"".concat(n.browsePaper," ").concat(J?"isEmbedded":""," ").concat(k?"actionsPanelOpen":""),selectedItems:Oe,onSelect:function(e){var n=e.target,i=n.value,a=n.checked,o=(0,h.Z)(Oe);return a?o.push(i):o=o.filter((function(e){return e!==i})),De(o),t((0,P.EE)(null)),o},customEmptyMessage:"This location is empty".concat(x?"":", please try uploading a new file"),sortConfig:{currentSort:nn,currentDirection:Xe,triggerSort:function(e){var n=v()(e,"sortDirection","DESC");tn(e.sortBy),$e(n),t((0,P.MU)(!0))}},onSelectAll:function(){if(t((0,P.EE)(null)),Oe.length!==ut.length){var e=ut.map((function(e){return e.name}));De(e)}else De([])},rowStyle:function(e){var n,t=e.index;return null!==(n=ut[t])&&void 0!==n&&n.delete_flag?"deleted":""},parentClassName:n.parentWrapper})]})}),(0,L.jsx)(E.s,{scopes:[I.Ft.S3_LIST_BUCKET],resource:Vn,errorProps:{disabled:!0},children:(0,L.jsxs)(Y,{open:k,closePanel:function(){ft(!1)},className:"".concat(y?n.hideListOnSmall:""),children:[Oe.length>0&&(0,L.jsx)(ke,{items:pt,title:"Selected Objects:"}),null!==O&&(0,L.jsx)(fn,{internalPaths:O,bucketName:Vn,onClosePanel:ft,versioning:be,locking:Ne})]})})]})]}))]})]})},Vn=t(32291),Yn=t(95792),Jn=t(84669),qn=t(59114),Xn=t(73996),$n=t(49535),Qn=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)({},(0,u.Bz)(e.spacing(4))))}))((function(){var e=(0,d.TL)(),n=(0,s.s0)(),t=(0,s.UO)(),i=(0,s.TH)(),r=(0,o.v9)((function(e){return e.objectBrowser.versionsMode})),c=(0,o.v9)((function(e){return e.objectBrowser.searchObjects})),u=(0,o.v9)((function(e){return e.objectBrowser.versionedFile})),h=(0,o.v9)((function(e){return e.objectBrowser.searchVersions})),f=(0,o.v9)(Pn.$4),m=t.bucketName||"",x=i.pathname.split("/browse/"),v=2===x.length?x[1]:"",b=!(null===f||void 0===f||!f.includes("object-browser-only"));(0,a.useEffect)((function(){e((0,P.db)({status:!1}))}),[v,e]);var g=(0,$n.Z)(m,[I.Ft.S3_GET_BUCKET_POLICY,I.Ft.S3_PUT_BUCKET_POLICY,I.Ft.S3_GET_BUCKET_VERSIONING,I.Ft.S3_PUT_BUCKET_VERSIONING,I.Ft.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,I.Ft.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,I.Ft.S3_DELETE_BUCKET,I.Ft.S3_GET_BUCKET_NOTIFICATIONS,I.Ft.S3_PUT_BUCKET_NOTIFICATIONS,I.Ft.S3_GET_REPLICATION_CONFIGURATION,I.Ft.S3_PUT_REPLICATION_CONFIGURATION,I.Ft.S3_GET_LIFECYCLE_CONFIGURATION,I.Ft.S3_PUT_LIFECYCLE_CONFIGURATION,I.Ft.ADMIN_GET_BUCKET_QUOTA,I.Ft.ADMIN_SET_BUCKET_QUOTA,I.Ft.S3_PUT_BUCKET_TAGGING,I.Ft.S3_GET_BUCKET_TAGGING,I.Ft.S3_LIST_BUCKET_VERSIONS,I.Ft.S3_GET_BUCKET_POLICY_STATUS,I.Ft.S3_DELETE_BUCKET_POLICY]),j=(0,L.jsx)(a.Fragment,{children:r?(0,L.jsx)(a.Fragment,{children:(0,L.jsx)(qn.Z,{placeholder:"Start typing to filter versions of ".concat(u),onChange:function(n){e((0,P.Pr)(n))},value:h})}):(0,L.jsx)(E.s,{scopes:[I.Ft.S3_LIST_BUCKET],resource:m,errorProps:{disabled:!0},children:(0,L.jsx)(qn.Z,{placeholder:"Start typing to filter objects in the bucket",onChange:function(n){e((0,P.G4)(n))},value:c})})});return(0,L.jsxs)(a.Fragment,{children:[b?(0,L.jsxs)(l.ZP,{container:!0,sx:{padding:"20px 32px 0"},children:[(0,L.jsx)(l.ZP,{children:(0,L.jsx)(Xn.Z,{marginRight:30,marginTop:10})}),(0,L.jsx)(l.ZP,{item:!0,xs:!0,children:j})]}):(0,L.jsx)(Vn.Z,{label:(0,L.jsx)(Jn.Z,{label:"Buckets",to:I.gA.BUCKETS}),actions:(0,L.jsx)(E.s,{scopes:I.D[I.EI.BUCKET_ADMIN],resource:m,errorProps:{disabled:!0},children:(0,L.jsx)(W.Z,{tooltip:g?"Configure Bucket":"You do not have the required permissions to configure this bucket. Please contact your MinIO administrator to request "+I.EI.BUCKET_ADMIN+" permisions.",children:(0,L.jsx)(p.z,{id:"configure-bucket-main",color:"primary","aria-label":"Configure Bucket",onClick:function(){n("/buckets/".concat(m,"/admin"))},icon:(0,L.jsx)(Yn.Z,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"}})})}),middleComponent:j}),(0,L.jsx)(l.ZP,{children:(0,L.jsx)(Kn,{})})]})}))},34433:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var i=t(29439),a=t(1413),o=t(72791),s=t(26181),r=t.n(s),c=t(60364),l=t(75952),d=t(11135),u=t(25787),h=t(78029),f=t.n(h),m=t(61889),p=t(40986),x=t(23814),v=t(81207),b=t(56028),g=t(64163),j=t(30829),Z=t(72426),w=t.n(Z),C=t(21435),S=t(38734),y=t(80184),N=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},x.YI),x.Hr),{},{labelContainer:{display:"flex",alignItems:"center",marginBottom:15},fieldContainer:(0,a.Z)((0,a.Z)({},x.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),dateInputContainer:{margin:"0 10px"},durationInputs:{display:"flex",alignItems:"center",justifyContent:"flex-start"},validityIndicator:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:25,marginLeft:10},invalidDurationText:{marginTop:15,display:"flex",color:"red",fontSize:11},reverseInput:{flexFlow:"row-reverse","& > label":{fontWeight:400,marginLeft:15,marginRight:25}},validityText:{fontSize:14,marginTop:15,display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{flexFlow:"column"},"& > .min-icon":{color:"#5E5E5E",width:15,height:15,marginRight:10}},validTill:{fontWeight:"bold",marginLeft:15}}))}))((function(e){var n=e.classes,t=e.id,a=e.initialDate,s=e.label,r=e.maxDays,c=e.entity,l=e.onChange,d=(0,o.useState)(7),u=(0,i.Z)(d,2),h=u[0],f=u[1],p=(0,o.useState)(0),x=(0,i.Z)(p,2),v=x[0],b=x[1],g=(0,o.useState)(0),Z=(0,i.Z)(g,2),N=Z[0],_=Z[1],T=(0,o.useState)(!0),E=(0,i.Z)(T,2),I=E[0],k=E[1],F=(0,o.useState)(w()()),P=(0,i.Z)(F,2),L=P[0],O=P[1];(0,o.useEffect)((function(){O(function(e,n,t,i){return w()(e).add(n,"days").add(t,"hours").add(i,"minutes")}(a,h,v,N))}),[a,h,v,N]),(0,o.useEffect)((function(){I?l(L.format("YYYY-MM-DDTHH:mm:ss"),!0):l("0000-00-00",!1)}),[L,l,I]),(0,o.useEffect)((function(){var e=!0;(h<0||r&&h>r||isNaN(h))&&(e=!1),(v<0||v>23||isNaN(v))&&(e=!1),(N<0||N>59||isNaN(N))&&(e=!1),!r||h!==r||0===v&&0===N||(e=!1),k(e)}),[L,r,l,h,v,N]);var D={style:{textAlign:"center",paddingRight:10,paddingLeft:10,width:25},className:"removeArrows"};return(0,y.jsx)(o.Fragment,{children:(0,y.jsxs)(m.ZP,{container:!0,className:n.fieldContainer,children:[(0,y.jsx)(m.ZP,{item:!0,xs:12,className:n.labelContainer,children:(0,y.jsx)(j.Z,{htmlFor:t,className:n.inputLabel,sx:{marginLeft:"10px"},children:(0,y.jsx)("span",{children:s})})}),(0,y.jsxs)(m.ZP,{item:!0,xs:12,className:n.durationInputs,children:[(0,y.jsx)(m.ZP,{item:!0,className:n.dateInputContainer,children:(0,y.jsx)(C.Z,{id:t,className:n.reverseInput,type:"number",min:"0",max:r?r.toString():"999",label:"Days",name:t,onChange:function(e){f(parseInt(e.target.value))},value:h.toString(),extraInputProps:D,noLabelMinWidth:!0})}),(0,y.jsx)(m.ZP,{item:!0,className:n.dateInputContainer,children:(0,y.jsx)(C.Z,{id:t,className:n.reverseInput,type:"number",min:"0",max:"23",label:"Hours",name:t,onChange:function(e){b(parseInt(e.target.value))},value:v.toString(),extraInputProps:D,noLabelMinWidth:!0})}),(0,y.jsx)(m.ZP,{item:!0,className:n.dateInputContainer,children:(0,y.jsx)(C.Z,{id:t,className:n.reverseInput,type:"number",min:"0",max:"59",label:"Minutes",name:t,onChange:function(e){_(parseInt(e.target.value))},value:N.toString(),extraInputProps:D,noLabelMinWidth:!0})})]}),(0,y.jsx)(m.ZP,{item:!0,xs:12,className:"".concat(n.validityIndicator," ").concat(n.formFieldRow),children:I?(0,y.jsxs)("div",{className:n.validityText,children:[(0,y.jsx)(S.xPt,{}),(0,y.jsxs)("div",{className:n.validityLabel,children:[c," will be available until:"]})," ",(0,y.jsx)("div",{className:n.validTill,children:L.format("MM/DD/YYYY HH:mm:ss")})]}):(0,y.jsx)("div",{className:n.invalidDurationText,children:"Please select a valid duration."})})]})})})),_=t(45248),T=t(87995),E=t(25469),I=o.lazy((function(){return Promise.resolve().then(t.bind(t,79880))})),k=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)({shareLinkInfo:{fontSize:14,fontWeight:400},copyShareLink:{display:"flex","@media (max-width: 900px)":{flexFlow:"column",alignItems:"center",justifyContent:"center"}},copyShareLinkInput:{"& div:first-child":{marginTop:0},"@media (max-width: 900px)":{minWidth:250}},copyShareLinkBtn:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{marginTop:10}}},x.ID),x.DF))}))((function(e){var n=e.classes,t=e.open,a=e.closeModalAndRefresh,s=e.bucketName,d=e.dataObject,u=(0,E.TL)(),h=(0,c.v9)(T.N5),x=(0,o.useState)(""),j=(0,i.Z)(x,2),Z=j[0],w=j[1],C=(0,o.useState)(!0),k=(0,i.Z)(C,2),F=k[0],P=k[1],L=(0,o.useState)(!1),O=(0,i.Z)(L,2),D=O[0],B=O[1],R=(0,o.useState)(""),z=(0,i.Z)(R,2),A=z[0],M=z[1],U=(0,o.useState)(!0),G=(0,i.Z)(U,2),W=G[0],H=G[1],K=(0,o.useState)("null"),V=(0,i.Z)(K,2),Y=V[0],J=V[1],q=new Date;return(0,o.useEffect)((function(){if(void 0===d.version_id)return h?(v.Z.invoke("GET","/api/v1/buckets/".concat(s,"/objects?prefix=").concat((0,_.LL)(d.name)).concat(h?"&with_versions=true":"")).then((function(e){var n=r()(e,"objects",[]).find((function(e){return e.is_latest}));J(n?n.version_id:"null")})).catch((function(e){u((0,T.zb)(e))})),void P(!1)):(J("null"),void P(!1));J(d.version_id||"null"),P(!1)}),[s,d,h,u]),(0,o.useEffect)((function(){if(W&&!F){B(!0),w("");var e=new Date("".concat(A)),n=new Date,t=Math.ceil((e.getTime()-n.getTime())/1e3);t>0&&v.Z.invoke("GET","/api/v1/buckets/".concat(s,"/objects/share?prefix=").concat((0,_.LL)(d.name),"&version_id=").concat(Y).concat(""!==A?"&expires=".concat(t,"s"):"")).then((function(e){w(e),B(!1)})).catch((function(e){u((0,T.zb)(e)),w(""),B(!1)}))}}),[d,A,s,W,w,u,h,F,Y]),(0,y.jsx)(o.Fragment,{children:(0,y.jsxs)(b.Z,{title:"Share File",titleIcon:(0,y.jsx)(S.aAc,{style:{fill:"#4CCB92"}}),modalOpen:t,onClose:function(){a()},children:[F&&(0,y.jsx)(m.ZP,{item:!0,xs:12,children:(0,y.jsx)(p.Z,{})}),!F&&(0,y.jsxs)(o.Fragment,{children:[(0,y.jsxs)(m.ZP,{item:!0,xs:12,className:n.shareLinkInfo,children:["This is a temporary URL with integrated access credentials for sharing objects valid for up to 7 days.",(0,y.jsx)("br",{}),(0,y.jsx)("br",{}),"The temporary URL expires after the configured time limit."]}),(0,y.jsx)("br",{}),(0,y.jsx)(m.ZP,{item:!0,xs:12,className:n.dateContainer,children:(0,y.jsx)(N,{initialDate:q,id:"date",label:"Active for",maxDays:7,onChange:function(e,n){H(n),n?M(e):(M(""),w(""))},entity:"Link"})}),(0,y.jsx)(m.ZP,{item:!0,xs:12,className:"".concat(n.copyShareLink," ").concat(n.formFieldRow," "),children:(0,y.jsx)(m.ZP,{item:!0,xs:12,className:n.copyShareLinkInput,children:(0,y.jsx)(g.Z,{content:Z,actionButton:(0,y.jsx)(f(),{text:Z,children:(0,y.jsx)(l.z,{id:"copy-path",variant:"regular",onClick:function(){u((0,T.MK)("Share URL Copied to clipboard"))},disabled:""===Z||D,style:{marginRight:"5px",width:"28px",height:"28px",padding:"0px"},icon:(0,y.jsx)(I,{})})})})})})]})]})})}))},78562:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var i=t(72791),a=t(56028),o=t(4942),s=t(29439),r=t(11135),c=t(25787),l=t(61889),d=t(40986),u=t(47922),h=t(45248),f=t(28182),m=t(80184),p=(0,c.Z)((function(){return(0,r.Z)({iframeContainer:{border:"0px",flex:"1 1 auto",width:"100%",height:250,backgroundColor:"transparent",borderRadius:5,"&.image":{height:500},"&.text":{height:700},"&.audio":{height:150},"&.video":{height:350},"&.fullHeight":{height:"calc(100vh - 185px)"}},iframeBase:{backgroundColor:"#fff"},iframeHidden:{display:"none"}})}))((function(e){var n=e.bucketName,t=e.object,a=e.isFullscreen,r=void 0!==a&&a,c=e.classes,p=(0,i.useState)(!0),x=(0,s.Z)(p,2),v=x[0],b=x[1],g="";if(t){var j=(0,h.LL)(t.name),Z=document.baseURI.replace(window.location.origin,"");g="".concat(window.location.origin).concat(Z,"api/v1/buckets/").concat(n,"/objects/download?preview=true&prefix=").concat(j),t.version_id&&(g=g.concat("&version_id=".concat(t.version_id)))}var w=(0,u.Bg)((null===t||void 0===t?void 0:t.name)||""),C=function(){b(!1)};return(0,m.jsxs)(i.Fragment,{children:[v&&(0,m.jsx)(l.ZP,{item:!0,xs:12,children:(0,m.jsx)(d.Z,{})}),(0,m.jsxs)("div",{style:{textAlign:"center"},children:["video"===w&&(0,m.jsx)("video",{style:{width:"auto",height:"auto",maxWidth:"calc(100vw - 100px)",maxHeight:"calc(100vh - 200px)"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:C,children:(0,m.jsx)("source",{src:g,type:"video/mp4"})}),"audio"===w&&(0,m.jsx)("audio",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:C,children:(0,m.jsx)("source",{src:g,type:"audio/mpeg"})}),"image"===w&&(0,m.jsx)("img",{style:{width:"auto",height:"auto",maxWidth:"100vw",maxHeight:"100vh"},src:g,alt:"preview",onLoad:C}),"video"!==w&&"audio"!==w&&"image"!==w&&(0,m.jsx)("div",{className:(0,f.Z)(c.iframeBase,(0,o.Z)({},c.iframeHidden,v)),children:(0,m.jsx)("iframe",{src:g,title:"File Preview",allowTransparency:!0,className:"".concat(c.iframeContainer," ").concat(r?"fullHeight":w),onLoad:C,children:"File couldn't be loaded. Please try Download instead"})})]})]})})),x=t(38734),v=function(e){var n=e.open,t=e.bucketName,o=e.object,s=e.onClosePreview;return(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(a.Z,{modalOpen:n,title:"Preview - ".concat(null===o||void 0===o?void 0:o.name),onClose:s,wideLimit:!1,titleIcon:(0,m.jsx)(x.$30,{}),children:(0,m.jsx)(p,{bucketName:t,object:o})})})}},47922:function(e,n,t){t.d(n,{Bg:function(){return o},LR:function(){return a},P_:function(){return s},kh:function(){return r}});var i=t(45248),a=function(e,n,t,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,d=document.createElement("a");document.body.appendChild(d);var u=document.baseURI.replace(window.location.origin,""),h="".concat(window.location.origin).concat(u,"api/v1/buckets/").concat(e,"/objects/download?prefix=").concat(n).concat(null!==o&&""!==o.trim()?"&override_file_name=".concat((0,i.LL)(o||"")):"");t&&(h=h.concat("&version_id=".concat(t)));var f=new XMLHttpRequest;return f.open("GET",h,!0),f.addEventListener("progress",(function(e){var n=Math.round(e.loaded/a*100);s&&s(n)}),!1),f.responseType="blob",f.onreadystatechange=function(){if(4===f.readyState)if(200===f.status){var e=f.getResponseHeader("Content-Disposition"),n="download";if(e)n=decodeURIComponent(e).split('"')[1];r&&r();var t=document.createElement("a");t.href=window.URL.createObjectURL(f.response),t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}else{if("application/json"===f.getResponseHeader("Content-Type")){var i=JSON.parse(f.response);if(i.detailedMessage)return void c(i.detailedMessage)}c("Unexpected response status code (".concat(f.status,")."))}},f.onerror=function(){c&&c("A network error occurred.")},f.onabort=function(){l&&l()},f},o=function(e){var n=e.split(".").pop();return n?(n=n.toLowerCase(),["jif","jfif","apng","avif","svg","webp","bmp","ico","jpg","jpe","jpeg","gif","png","heic"].includes(n)?"image":["pdf","txt","json"].includes(n)?"text":["wav","mp3","alac","aiff","dsd","pcm"].includes(n)?"audio":["mp4","avi","mpg","webm","mov","flv","mkv","wmv","avchd","mpeg-4"].includes(n)?"video":"none"):"none"},s=function(e){switch(e){case"name":return function(e,n){return e.name.localeCompare(n.name)};case"last_modified":return function(e,n){return new Date(e.last_modified).getTime()-new Date(n.last_modified).getTime()};case"size":return function(e,n){return(e.size||-1)-(n.size||-1)}}},r=function(e,n,t){if(0===t.length)return null;var i=t.filter((function(n){return n.resource.endsWith(":".concat(e))||n.resource.includes(":".concat(e,"/"))}));if(0===i.length)return null;var a=[],o=n.split("/");return i.forEach((function(e){var n=(e.resource.split(":").pop()||"").split("/");n.length>1&&n.every((function(e,n){return"*"!==e&&((!o[n]||o[n]===e)&&(o[n]||a.push({name:"".concat(e,"/"),size:0,last_modified:new Date,version_id:""}),!0))})),"StringEquals"!==e.conditionOperator&&"StringLike"!==e.conditionOperator||e.prefixes.forEach((function(e){if(""!==e){var n=e.split("/"),t=[];n.every((function(e,n){return!e.includes("*")&&""!==e&&(e!==o[n]?(a.push({name:"".concat(t.join("/")).concat(t.length>0?"/":"").concat(e,"/"),size:0,last_modified:new Date,version_id:""}),!1):(""!==e&&t.push(e),!0))}))}}))})),a}},73996:function(e,n,t){t(72791);var i=t(38734),a=t(60364),o=t(80184);n.Z=function(e){var n=e.marginRight,s=e.marginTop,r=t(47045),c=(0,a.v9)((function(e){return e.system.overrideStyles})),l=r((null===c||void 0===c?void 0:c.backgroundColor)||"#fff").getBrightness()<=128;return(0,o.jsx)(i.BHR,{style:{width:105,marginRight:n,marginTop:s,fill:l?"#fff":"#081C42"}})}},75578:function(e,n,t){var i=t(1413),a=t(72791),o=t(80184);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function t(t){return(0,o.jsx)(a.Suspense,{fallback:n,children:(0,o.jsx)(e,(0,i.Z)({},t))})}return t}},64163:function(e,n,t){var i=t(1413),a=t(72791),o=t(61889),s=t(11135),r=t(25787),c=t(23814),l=t(80184);n.Z=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({},c.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,s=e.content,r=e.multiLine,c=void 0!==r&&r,d=e.actionButton;return(0,l.jsx)(a.Fragment,{children:(0,l.jsxs)(o.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,l.jsx)(o.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,l.jsxs)(o.ZP,{item:!0,xs:12,className:"".concat(n.predefinedList," ").concat(d?n.includesActionButton:""),children:[(0,l.jsx)(o.ZP,{item:!0,xs:12,className:c?n.innerContentMultiline:n.innerContent,children:s}),d&&(0,l.jsx)("div",{className:n.overlayShareOption,children:d})]})]})})}))},56028:function(e,n,t){var i=t(29439),a=t(1413),o=t(72791),s=t(60364),r=t(13400),c=t(55646),l=t(5574),d=t(65661),u=t(39157),h=t(11135),f=t(25787),m=t(23814),p=t(25469),x=t(29823),v=t(28057),b=t(87995),g=t(80184);n.Z=(0,f.Z)((function(e){return(0,h.Z)((0,a.Z)((0,a.Z)({},m.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,h=e.title,f=e.children,m=e.classes,j=e.wideLimit,Z=void 0===j||j,w=e.noContentPadding,C=e.titleIcon,S=void 0===C?null:C,y=(0,p.TL)(),N=(0,o.useState)(!1),_=(0,i.Z)(N,2),T=_[0],E=_[1],I=(0,s.v9)((function(e){return e.system.modalSnackBar}));(0,o.useEffect)((function(){y((0,b.MK)(""))}),[y]),(0,o.useEffect)((function(){if(I){if(""===I.message)return void E(!1);"error"!==I.type&&E(!0)}}),[I]);var k=Z?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},F="";return I&&(F=I.detailedErrorMsg,(""===I.detailedErrorMsg||I.detailedErrorMsg.length<5)&&(F=I.message)),(0,g.jsxs)(l.Z,(0,a.Z)((0,a.Z)({open:t,classes:m},k),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:m.root,children:[(0,g.jsxs)(d.Z,{className:m.title,children:[(0,g.jsxs)("div",{className:m.titleText,children:[S," ",h]}),(0,g.jsx)("div",{className:m.closeContainer,children:(0,g.jsx)(r.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,g.jsx)(x.Z,{})})})]}),(0,g.jsx)(v.Z,{isModal:!0}),(0,g.jsx)(c.Z,{open:T,className:m.snackBarModal,onClose:function(){E(!1),y((0,b.MK)(""))},message:F,ContentProps:{className:"".concat(m.snackBar," ").concat(I&&"error"===I.type?m.errorSnackBar:"")},autoHideDuration:I&&"error"===I.type?1e4:5e3}),(0,g.jsx)(u.Z,{className:w?"":m.content,children:f})]}))}))},59114:function(e,n,t){var i=t(4942),a=t(1413),o=(t(72791),t(63466)),s=t(74900),r=t(27391),c=t(25787),l=t(11135),d=t(23814),u=t(80184);n.Z=(0,c.Z)((function(e){return(0,l.Z)({searchField:(0,a.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,a=e.classes,c=e.onChange,l=e.adornmentPosition,d=void 0===l?"end":l,h=e.overrideClass,f=e.value,m=(0,i.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(o.Z,{position:d,className:a.adornment,children:(0,u.jsx)(s.Z,{})}));return(0,u.jsx)(r.Z,{placeholder:t,className:h||a.searchField,id:"search-resource",label:"",InputProps:m,onChange:function(e){c(e.target.value)},variant:"standard",value:f})}))},27454:function(e,n,t){var i=t(1413),a=t(72791),o=t(20068),s=t(80184);n.Z=function(e){var n=e.tooltip,t=e.children,r=e.errorProps,c=void 0===r?null:r;return(0,s.jsx)(o.Z,{title:n,children:(0,s.jsx)("span",{children:c?(0,a.cloneElement)(t,(0,i.Z)({},c)):t})})}},76610:function(e,n,t){t.d(n,{EN:function(){return a},Gy:function(){return o},YO:function(){return s}});var i={},a=function(e,n){i[e]=n},o=function(e){return i[e]},s=function(e){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=t.length,a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*i));return n}},73669:function(e,n,t){var i=t(29439),a=t(72791),o=t(64554),s=t(75952),r=t(21435),c=t(38734),l=t(80184);n.Z=function(e){var n=e.value,t=(0,a.useState)(!1),d=(0,i.Z)(t,2),u=d[0],h=d[1];return(0,l.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",flexFlow:{sm:"row",xs:"column"}},children:[(0,l.jsx)(r.Z,{id:"inspect-dec-key",name:"inspect-dec-key",placeholder:"",label:"",type:u?"text":"password",onChange:function(){},value:n,overlayIcon:(0,l.jsx)(c.TIy,{}),extraInputProps:{readOnly:!0},overlayAction:function(){return navigator.clipboard.writeText(n)}}),(0,l.jsx)(s.z,{id:"show-hide-key",style:{marginLeft:"10px"},variant:"callAction",onClick:function(){return h(!u)},label:"Show/Hide"})]})}}}]);
//# sourceMappingURL=1379.7bddd455.chunk.js.map