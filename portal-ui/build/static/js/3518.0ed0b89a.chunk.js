"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3518],{5450:function(e,n,t){var r=t(29439),o=t(72791),a=t(11135),s=t(25787),c=t(40986),i=t(79836),l=t(53382),u=t(53994),d=t(56890),Z=t(35855),f=t(64554),p=t(56125),h=t(20890),v=t(85172),m=t(95678),x=t(39281),j=t(10703),g=t(80184),b=function(e){var n=e.event,t=o.useState(!1),a=(0,r.Z)(t,2),s=a[0],c=a[1];return(0,g.jsxs)(o.Fragment,{children:[(0,g.jsxs)(Z.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,g.jsx)(u.Z,{component:"th",scope:"row",onClick:function(){return c(!s)},children:n.event_type}),(0,g.jsx)(u.Z,{onClick:function(){return c(!s)},children:n.reason}),(0,g.jsx)(u.Z,{onClick:function(){return c(!s)},children:n.seen}),(0,g.jsx)(u.Z,{onClick:function(){return c(!s)},children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,g.jsx)(u.Z,{onClick:function(){return c(!s)},children:s?(0,g.jsx)(m.Z,{}):(0,g.jsx)(v.Z,{})})]}),(0,g.jsx)(Z.Z,{children:(0,g.jsx)(u.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,g.jsx)(p.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,g.jsx)(f.Z,{sx:{margin:1},children:(0,g.jsx)(h.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})};n.Z=(0,s.Z)((function(e){return(0,a.Z)({events:{"& .MuiTypography-root":{fontSize:14},"& .Mui-expanded":{"& .eventMessage":{display:"none"}}}})}))((function(e){e.classes;var n=e.events;return e.loading?(0,g.jsx)(c.Z,{}):(0,g.jsx)(x.Z,{component:j.Z,children:(0,g.jsxs)(i.Z,{"aria-label":"collapsible table",children:[(0,g.jsx)(d.Z,{children:(0,g.jsxs)(Z.Z,{children:[(0,g.jsx)(u.Z,{children:"Type"}),(0,g.jsx)(u.Z,{children:"Reason"}),(0,g.jsx)(u.Z,{children:"Age"}),(0,g.jsx)(u.Z,{children:"Message"}),(0,g.jsx)(u.Z,{})]})}),(0,g.jsx)(l.Z,{children:n.map((function(e){return(0,g.jsx)(b,{event:e},"".concat(e.event_type,"-").concat(e.seen))}))})]})})}))},83518:function(e,n,t){t.r(n);var r=t(29439),o=t(1413),a=t(72791),s=t(11135),c=t(25787),i=t(23814),l=t(61889),u=t(91523),d=t(81207),Z=t(45248),f=t(5450),p=t(60364),h=t(87995),v=t(80184);n.default=(0,c.Z)((function(e){return(0,s.Z)((0,o.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,i.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.match,o=(0,p.I0)(),s=(0,a.useState)(!0),c=(0,r.Z)(s,2),i=c[0],m=c[1],x=t.params.tenantNamespace,j=t.params.tenantName,g=t.params.PVCName,b=(0,a.useState)([]),k=(0,r.Z)(b,2),w=k[0],M=k[1];return(0,a.useEffect)((function(){i&&d.Z.invoke("GET","/api/v1/namespaces/".concat(x,"/tenants/").concat(j,"/pvcs/").concat(g,"/events")).then((function(e){for(var n=0;n<e.length;n++){var t=Date.now()/1e3|0;e[n].seen=(0,Z.v1)((t-e[n].last_seen).toString())}M(e),m(!1)})).catch((function(e){o((0,h.Ih)(e)),m(!1)}))}),[i,g,x,j,o]),(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(l.ZP,{item:!0,xs:12,children:(0,v.jsxs)("h1",{className:n.sectionTitle,children:[(0,v.jsx)(u.rU,{to:"/namespaces/".concat(x,"/tenants/").concat(j,"/volumes"),className:n.breadcrumLink,children:"PVCs"})," ","> ",g]})}),(0,v.jsxs)(l.ZP,{container:!0,children:[(0,v.jsx)("h1",{className:n.sectionTitle,children:"Events"}),(0,v.jsx)(f.Z,{events:w,loading:i})]})]})}))},85172:function(e,n,t){var r=t(95318);n.Z=void 0;var o=r(t(45649)),a=t(80184),s=(0,o.default)((0,a.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");n.Z=s},95678:function(e,n,t){var r=t(95318);n.Z=void 0;var o=r(t(45649)),a=t(80184),s=(0,o.default)((0,a.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");n.Z=s},39281:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(87462),o=t(63366),a=t(72791),s=t(28182),c=t(90767),i=t(93736),l=t(47630),u=t(95159);function d(e){return(0,u.Z)("MuiTableContainer",e)}(0,t(30208).Z)("MuiTableContainer",["root"]);var Z=t(80184),f=["className","component"],p=(0,l.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,n){return n.root}})({width:"100%",overflowX:"auto"}),h=a.forwardRef((function(e,n){var t=(0,i.Z)({props:e,name:"MuiTableContainer"}),a=t.className,l=t.component,u=void 0===l?"div":l,h=(0,o.Z)(t,f),v=(0,r.Z)({},t,{component:u}),m=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},d,n)}(v);return(0,Z.jsx)(p,(0,r.Z)({ref:n,as:u,className:(0,s.Z)(m.root,a),ownerState:v},h))}))},56890:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(87462),o=t(63366),a=t(72791),s=t(28182),c=t(90767),i=t(829),l=t(93736),u=t(47630),d=t(95159);function Z(e){return(0,d.Z)("MuiTableHead",e)}(0,t(30208).Z)("MuiTableHead",["root"]);var f=t(80184),p=["className","component"],h=(0,u.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),v={variant:"head"},m="thead",x=a.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiTableHead"}),a=t.className,u=t.component,d=void 0===u?m:u,x=(0,o.Z)(t,p),j=(0,r.Z)({},t,{component:d}),g=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},Z,n)}(j);return(0,f.jsx)(i.Z.Provider,{value:v,children:(0,f.jsx)(h,(0,r.Z)({as:d,className:(0,s.Z)(g.root,a),ref:n,role:d===m?null:"rowgroup",ownerState:j},x))})}))}}]);
//# sourceMappingURL=3518.0ed0b89a.chunk.js.map