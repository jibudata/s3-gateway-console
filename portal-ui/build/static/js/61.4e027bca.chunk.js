(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[61],{526:function(e,t,a){"use strict";var r=a(35),n=a(4),i=a(3),c=a(1),o=(a(11),a(7)),s=a(92),l=a(32),d=a(9),b=a(12),u=a(8),m=a(67),j=a(93);function g(e){return Object(m.a)("MuiCircularProgress",e)}Object(j.a)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h,p,f,O,x,v,S,k,y=a(0),w=["className","color","disableShrink","size","style","thickness","value","variant"],C=44,N=Object(l.c)(x||(x=h||(h=Object(r.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),I=Object(l.c)(v||(v=p||(p=Object(r.a)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),L=Object(u.a)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],t["color".concat(Object(d.a)(a.color))]]}})((function(e){var t=e.ownerState,a=e.theme;return Object(i.a)({display:"inline-block"},"determinate"===t.variant&&{transition:a.transitions.create("transform")},"inherit"!==t.color&&{color:a.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Object(l.b)(S||(S=f||(f=Object(r.a)(["\n      animation: "," 1.4s linear infinite;\n    "]))),N)})),P=Object(u.a)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),R=Object(u.a)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var a=e.ownerState;return[t.circle,t["circle".concat(Object(d.a)(a.variant))],a.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,a=e.theme;return Object(i.a)({stroke:"currentColor"},"determinate"===t.variant&&{transition:a.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Object(l.b)(k||(k=O||(O=Object(r.a)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),I)})),T=c.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiCircularProgress"}),r=a.className,c=a.color,l=void 0===c?"primary":c,u=a.disableShrink,m=void 0!==u&&u,j=a.size,h=void 0===j?40:j,p=a.style,f=a.thickness,O=void 0===f?3.6:f,x=a.value,v=void 0===x?0:x,S=a.variant,k=void 0===S?"indeterminate":S,N=Object(n.a)(a,w),I=Object(i.a)({},a,{color:l,disableShrink:m,size:h,thickness:O,value:v,variant:k}),T=function(e){var t=e.classes,a=e.variant,r=e.color,n=e.disableShrink,i={root:["root",a,"color".concat(Object(d.a)(r))],svg:["svg"],circle:["circle","circle".concat(Object(d.a)(a)),n&&"circleDisableShrink"]};return Object(s.a)(i,g,t)}(I),M={},D={},A={};if("determinate"===k){var B=2*Math.PI*((C-O)/2);M.strokeDasharray=B.toFixed(3),A["aria-valuenow"]=Math.round(v),M.strokeDashoffset="".concat(((100-v)/100*B).toFixed(3),"px"),D.transform="rotate(-90deg)"}return Object(y.jsx)(L,Object(i.a)({className:Object(o.a)(T.root,r),style:Object(i.a)({width:h,height:h},D,p),ownerState:I,ref:t,role:"progressbar"},A,N,{children:Object(y.jsx)(P,{className:T.svg,ownerState:I,viewBox:"".concat(22," ").concat(22," ").concat(C," ").concat(C),children:Object(y.jsx)(R,{className:T.circle,style:M,ownerState:I,cx:C,cy:C,r:(C-O)/2,fill:"none",strokeWidth:O})})}))}));t.a=T},889:function(e,t,a){"use strict";a.r(t);var r,n=a(14),i=a(2),c=a(1),o=a.n(c),s=a(38),l=a(355),d=a(526),b=a(366),u=a(290),m=a(358),j=a(299),g=a(369),h=a(883),p=a(550),f=a(94);!function(e){e.unknown="unknown",e.form="form",e.redirect="redirect",e.serviceAccount="service-account"}(r||(r={}));var O=a(30),x=a(50),v=a(45),S=a(134),k=a(181),y=a(55),w=a(0),C=Object(m.a)((function(e){return Object(u.a)({disabled:{"&.MuiInput-underline::before":{borderColor:"#eaeaea",borderBottomStyle:"solid"}}})}));function N(e){var t=C();return Object(w.jsx)(h.a,Object(i.a)({InputProps:{classes:t},variant:"standard"},e))}var I=Object(s.b)((function(e){return{loggedIn:e.loggedIn}}),{userLoggedIn:O.l,setErrorSnackMessage:O.e});t.default=I(Object(j.a)((function(e){return Object(u.a)({"@global":{body:{backgroundColor:"#FAFAFA"}},paper:{borderRadius:8,display:"flex",flexDirection:"column",alignItems:"center",width:800,height:424,margin:"auto",position:"absolute",top:"50%",left:"50%",marginLeft:-400,marginTop:-212,"&.MuiPaper-root":{borderRadius:8}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%"},submit:{margin:"30px 0px 16px",height:40,boxShadow:"none",padding:"16px 30px"},errorBlock:{backgroundColor:"#C72C48",width:800,height:64,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:"50%",top:"50%",marginLeft:-400,marginTop:-290,color:"#fff",fontWeight:700,fontSize:14,borderRadius:8,padding:10,boxSizing:"border-box"},mainContainer:{position:"relative",height:424},theOcean:{borderTopLeftRadius:8,borderBottomLeftRadius:8,background:"transparent linear-gradient(to bottom, #073052 0%,#05122b 100%); 0% 0% no-repeat padding-box;"},oceanBg:{backgroundImage:"url(/images/BG_Illustration.svg)",backgroundRepeat:"no-repeat",backgroundPosition:"bottom left",height:"100%",width:324},theLogin:{padding:"40px 45px 20px 45px"},loadingLoginStrategy:{textAlign:"center"},headerTitle:{marginBottom:10},submitContainer:{textAlign:"right"},disclaimer:{fontSize:12,marginTop:30},jwtInput:{marginTop:45},linearPredef:{height:10},errorIconStyle:{marginRight:3},loaderAlignment:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"},retryButton:{alignSelf:"flex-end"}})}))((function(e){var t=e.classes,a=e.userLoggedIn,i=e.setErrorSnackMessage,s=Object(c.useState)(""),u=Object(n.a)(s,2),m=u[0],j=u[1],h=Object(c.useState)(""),O=Object(n.a)(h,2),C=O[0],I=O[1],L=Object(c.useState)(""),P=Object(n.a)(L,2),R=P[0],T=P[1],M=Object(c.useState)({loginStrategy:r.unknown,redirect:""}),D=Object(n.a)(M,2),A=D[0],B=D[1],F=Object(c.useState)(!1),W=Object(n.a)(F,2),z=W[0],E=W[1],K=Object(c.useState)(!0),J=Object(n.a)(K,2),G=J[0],V=J[1],q={form:"/api/v1/login","service-account":"/api/v1/login/operator"},U={form:{accessKey:m,secretKey:R},"service-account":{jwt:C}},_=function(e){e.preventDefault(),E(!0),x.a.invoke("POST",q[A.loginStrategy]||"/api/v1/login",U[A.loginStrategy]).then((function(){a(!0),A.loginStrategy===r.form&&localStorage.setItem("userLoggedIn",Object(y.e)(m));var e="/";localStorage.getItem("redirect-path")&&""!==localStorage.getItem("redirect-path")&&(e="".concat(localStorage.getItem("redirect-path")),localStorage.setItem("redirect-path","")),v.b.push(e)})).catch((function(e){E(!1),i(e)}))};Object(c.useEffect)((function(){G&&x.a.invoke("GET","/api/v1/login").then((function(e){B(e),V(!1)})).catch((function(e){i(e),V(!1)}))}),[G,i]);var H=null;switch(A.loginStrategy){case r.form:H=Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)(f.a,{component:"h1",variant:"h6",className:t.headerTitle,children:"Console Login"}),Object(w.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:_,children:[Object(w.jsxs)(p.a,{container:!0,spacing:2,children:[Object(w.jsx)(p.a,{item:!0,xs:12,children:Object(w.jsx)(N,{fullWidth:!0,id:"accessKey",value:m,onChange:function(e){return j(e.target.value)},label:"Enter Username",name:"accessKey",autoComplete:"username",disabled:z})}),Object(w.jsx)(p.a,{item:!0,xs:12,children:Object(w.jsx)(N,{fullWidth:!0,value:R,onChange:function(e){return T(e.target.value)},name:"secretKey",label:"Enter Password",type:"password",id:"secretKey",autoComplete:"current-password",disabled:z})})]}),Object(w.jsx)(p.a,{item:!0,xs:12,className:t.submitContainer,children:Object(w.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,disabled:""===R||""===m||z,children:"Login"})}),Object(w.jsx)(p.a,{item:!0,xs:12,className:t.linearPredef,children:z&&Object(w.jsx)(l.a,{})})]})]});break;case r.redirect:H=Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)(f.a,{component:"h1",variant:"h6",className:t.headerTitle,children:"Welcome"}),Object(w.jsx)(g.a,{component:"a",href:A.redirect,type:"submit",variant:"contained",color:"primary",className:t.submit,children:"Login with SSO"})]});break;case r.serviceAccount:H=Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)(f.a,{component:"h1",variant:"h6",className:t.headerTitle,children:"Operator Login"}),Object(w.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:_,children:[Object(w.jsx)(p.a,{container:!0,spacing:2,children:Object(w.jsx)(p.a,{item:!0,xs:12,className:t.jwtInput,children:Object(w.jsx)(N,{required:!0,fullWidth:!0,id:"jwt",value:C,onChange:function(e){return I(e.target.value)},label:"JWT",name:"jwt",autoComplete:"off",disabled:z})})}),Object(w.jsx)(p.a,{item:!0,xs:12,className:t.submitContainer,children:Object(w.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,disabled:""===C||z,children:"Login"})}),Object(w.jsx)(p.a,{item:!0,xs:12,className:t.linearPredef,children:z&&Object(w.jsx)(l.a,{})})]})]});break;default:H=Object(w.jsx)("div",{className:t.loaderAlignment,children:G?Object(w.jsx)(d.a,{className:t.loadingLoginStrategy}):Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)("div",{children:Object(w.jsx)("p",{children:"An error has occurred, the backend cannot be reached."})}),Object(w.jsx)("div",{children:Object(w.jsx)(g.a,{onClick:function(){V(!0)},endIcon:Object(w.jsx)(S.a,{}),color:"primary",className:t.retryButton,children:"Retry"})})]})})}return Object(w.jsx)(o.a.Fragment,{children:Object(w.jsxs)(b.a,{className:t.paper,children:[Object(w.jsx)(k.a,{customStyle:{marginTop:-140}}),Object(w.jsxs)(p.a,{container:!0,className:t.mainContainer,children:[Object(w.jsx)(p.a,{item:!0,xs:7,className:t.theOcean,children:Object(w.jsx)("div",{className:t.oceanBg})}),Object(w.jsx)(p.a,{item:!0,xs:5,className:t.theLogin,children:H})]})]})})})))}}]);
//# sourceMappingURL=61.4e027bca.chunk.js.map