{"version":3,"file":"static/js/2603.53aac848.chunk.js","mappings":"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","sources":["screens/Console/Buckets/BucketDetails/AddAccessRule.tsx","screens/Console/Buckets/BucketDetails/BrowserHandler.tsx","screens/Console/Buckets/ListBuckets/UploadPermissionUtils.ts","screens/Console/ObjectBrowser/BrowserBreadcrumbs.tsx","screens/Console/Buckets/ListBuckets/UploadFilesButton.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DetailsListPanel.tsx","screens/Console/Common/FormComponents/DateSelector/utils.ts","screens/Console/Common/FormComponents/DateSelector/DateSelector.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SetRetention.tsx","utils/validationFunctions.ts","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DeleteObject.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SetLegalHoldModal.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/ObjectMetaData.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/IconWithLabel.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/utils.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/TagsModal.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/InspectObject.tsx","screens/Console/ObjectBrowser/utils.ts","screens/Console/ObjectBrowser/RenameLongFilename.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ObjectDetailPanel.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/RestoreFileVersion.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SpecificVersionPill.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/FileVersionItem.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DeleteNonCurrent.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/DeleteSelectedVersions.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/VersionsNavigator.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjectsHelpers.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjectsTable.tsx","screens/Console/ObjectBrowser/objectBrowserThunks.ts","screens/Console/ObjectBrowser/FilterObjectsSB.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjects.tsx","screens/Console/ObjectBrowser/OBHeader.tsx","screens/Console/Common/FormComponents/DaysSelector/DaysSelector.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/ShareFile.tsx","screens/Console/Buckets/ListBuckets/Objects/Preview/PreviewFileContent.tsx","screens/Console/Buckets/ListBuckets/Objects/Preview/PreviewFileModal.tsx","screens/Console/Buckets/ListBuckets/Objects/utils.ts","screens/Console/Common/Components/withSuspense.tsx","screens/Console/Common/FormComponents/CheckboxWrapper/CheckboxWrapper.tsx","screens/Console/Common/FormComponents/FormSwitchWrapper/FormSwitchWrapper.tsx","screens/Console/Common/FormComponents/InputBoxWrapper/InputBoxWrapper.tsx","screens/Console/Common/WarningMessage/WarningMessage.tsx","screens/Console/Tools/KeyRevealer.tsx","utils/wsUtils.ts"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../Common/ModalWrapper/ModalWrapper\";\nimport {\n  AddAccessRuleIcon,\n  Button,\n  FormLayout,\n  Grid,\n  InputBox,\n  Select,\n} from \"mds\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport { modalStyleUtils } from \"../../Common/FormComponents/common/styleLibrary\";\nimport {\n  setErrorSnackMessage,\n  setSnackBarMessage,\n} from \"../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../store\";\n\ninterface IAddAccessRule {\n  modalOpen: boolean;\n  onClose: () => any;\n  bucket: string;\n  prefilledRoute?: string;\n}\n\nconst AddAccessRule = ({\n  modalOpen,\n  onClose,\n  bucket,\n  prefilledRoute,\n}: IAddAccessRule) => {\n  const dispatch = useAppDispatch();\n\n  const [prefix, setPrefix] = useState(\"\");\n  const [selectedAccess, setSelectedAccess] = useState<any>(\"readonly\");\n\n  useEffect(() => {\n    if (prefilledRoute) {\n      setPrefix(prefilledRoute);\n    }\n  }, [prefilledRoute]);\n\n  const accessOptions = [\n    { label: \"readonly\", value: \"readonly\" },\n    { label: \"writeonly\", value: \"writeonly\" },\n    { label: \"readwrite\", value: \"readwrite\" },\n  ];\n\n  const resetForm = () => {\n    setPrefix(\"\");\n    setSelectedAccess(\"readonly\");\n  };\n\n  const createProcess = () => {\n    api.bucket\n      .setAccessRuleWithBucket(bucket, {\n        prefix: prefix,\n        access: selectedAccess,\n      })\n      .then((res: any) => {\n        dispatch(setSnackBarMessage(\"Access Rule added successfully\"));\n        onClose();\n      })\n      .catch((res) => {\n        dispatch(setErrorSnackMessage(errorToHandler(res.error)));\n        onClose();\n      });\n  };\n\n  return (\n    <ModalWrapper\n      modalOpen={modalOpen}\n      title=\"Add Anonymous Access Rule\"\n      onClose={onClose}\n      titleIcon={<AddAccessRuleIcon />}\n    >\n      <FormLayout withBorders={false} containerPadding={false}>\n        <InputBox\n          value={prefix}\n          label={\"Prefix\"}\n          id={\"prefix\"}\n          name={\"prefix\"}\n          placeholder={\"Enter Prefix\"}\n          onChange={(e) => {\n            setPrefix(e.target.value);\n          }}\n          tooltip={\n            \"Enter '/' to apply the rule to all prefixes and objects at the bucket root. Do not include the wildcard asterisk '*' as part of the prefix *unless* it is an explicit part of the prefix name. The Console automatically appends an asterisk to the appropriate sections of the resulting IAM policy.\"\n          }\n        />\n        <Select\n          id=\"access\"\n          name=\"Access\"\n          onChange={(value) => {\n            setSelectedAccess(value);\n          }}\n          label=\"Access\"\n          value={selectedAccess}\n          options={accessOptions}\n          disabled={false}\n        />\n        <Grid item xs={12} sx={modalStyleUtils.modalButtonBar}>\n          <Button\n            id={\"clear\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Clear\"}\n          />\n\n          <Button\n            id={\"add-access-save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={prefix.trim() === \"\"}\n            onClick={createProcess}\n            label={\"Save\"}\n          />\n        </Grid>\n      </FormLayout>\n    </ModalWrapper>\n  );\n};\n\nexport default AddAccessRule;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useCallback, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { AppState, useAppDispatch } from \"../../../../store\";\nimport { containerForHeader } from \"../../Common/FormComponents/common/styleLibrary\";\n\nimport ListObjects from \"../ListBuckets/Objects/ListObjects/ListObjects\";\nimport { IAM_SCOPES } from \"../../../../common/SecureComponent/permissions\";\nimport {\n  errorInConnection,\n  newMessage,\n  resetMessages,\n  setIsOpeningOD,\n  setIsVersioned,\n  setLoadingLocking,\n  setLoadingObjectInfo,\n  setLoadingObjects,\n  setLoadingRecords,\n  setLoadingVersioning,\n  setLoadingVersions,\n  setLockingEnabled,\n  setObjectDetailsView,\n  setRecords,\n  setSelectedObjectView,\n  setSimplePathHandler,\n  setVersionsModeEnabled,\n} from \"../../ObjectBrowser/objectBrowserSlice\";\nimport hasPermission from \"../../../../common/SecureComponent/accessControl\";\nimport { IMessageEvent } from \"websocket\";\nimport { wsProtocol } from \"../../../../utils/wsUtils\";\nimport {\n  WebsocketRequest,\n  WebsocketResponse,\n} from \"../ListBuckets/Objects/ListObjects/types\";\nimport { decodeURLString, encodeURLString } from \"../../../../common/utils\";\nimport { permissionItems } from \"../ListBuckets/Objects/utils\";\nimport { setErrorSnackMessage } from \"../../../../systemSlice\";\nimport OBHeader from \"../../ObjectBrowser/OBHeader\";\nimport { api } from \"api\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...containerForHeader,\n  });\n\nlet objectsWS: WebSocket;\nlet currentRequestID: number = 0;\nlet errorCounter: number = 0;\nlet wsInFlight: boolean = false;\n\nconst initWSConnection = (\n  openCallback?: () => void,\n  onMessageCallback?: (message: IMessageEvent) => void,\n  connErrorCallback?: (message: string) => void,\n) => {\n  if (wsInFlight) {\n    return;\n  }\n  wsInFlight = true;\n  const url = new URL(window.location.toString());\n  const isDev = process.env.NODE_ENV === \"development\";\n  const port = isDev ? \"9090\" : url.port;\n\n  // check if we are using base path, if not this always is `/`\n  const baseLocation = new URL(document.baseURI);\n  const baseUrl = baseLocation.pathname;\n\n  const wsProt = wsProtocol(url.protocol);\n\n  objectsWS = new WebSocket(\n    `${wsProt}://${url.hostname}:${port}${baseUrl}ws/objectManager`,\n  );\n\n  objectsWS.onopen = () => {\n    wsInFlight = false;\n    if (openCallback) {\n      openCallback();\n    }\n    errorCounter = 0;\n  };\n\n  if (onMessageCallback) {\n    objectsWS.onmessage = onMessageCallback;\n  }\n\n  const reconnectFn = () => {\n    if (errorCounter <= 5) {\n      initWSConnection(() => {}, onMessageCallback, connErrorCallback);\n      errorCounter += 1;\n    } else {\n      console.error(\n        \"Websocket not available. Please review that your environment settings are enabled to allow websocket connections and that requests are made from the same origin.\",\n      );\n      if (connErrorCallback) {\n        connErrorCallback(\n          \"Couldn't establish WebSocket connection. Please review your configuration and try again.\",\n        );\n      }\n    }\n  };\n\n  objectsWS.onclose = () => {\n    wsInFlight = false;\n    console.warn(\"Websocket Disconnected. Attempting Reconnection...\");\n\n    // We reconnect after 3 seconds\n    setTimeout(reconnectFn, 3000);\n  };\n\n  objectsWS.onerror = () => {\n    wsInFlight = false;\n    console.error(\"Error in websocket connection. Attempting reconnection...\");\n    // Onclose will be triggered by specification, reconnect function will be executed there to avoid duplicated requests\n  };\n};\n\nconst BrowserHandler = () => {\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const location = useLocation();\n\n  const loadingVersioning = useSelector(\n    (state: AppState) => state.objectBrowser.loadingVersioning,\n  );\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled,\n  );\n  const rewindDate = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.dateToRewind,\n  );\n  const showDeleted = useSelector(\n    (state: AppState) => state.objectBrowser.showDeleted,\n  );\n  const allowResources = useSelector(\n    (state: AppState) => state.console.session.allowResources,\n  );\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects,\n  );\n  const loadingLocking = useSelector(\n    (state: AppState) => state.objectBrowser.loadingLocking,\n  );\n  const loadRecords = useSelector(\n    (state: AppState) => state.objectBrowser.loadRecords,\n  );\n  const selectedInternalPaths = useSelector(\n    (state: AppState) => state.objectBrowser.selectedInternalPaths,\n  );\n  const simplePath = useSelector(\n    (state: AppState) => state.objectBrowser.simplePath,\n  );\n  const isOpeningOD = useSelector(\n    (state: AppState) => state.objectBrowser.isOpeningObjectDetail,\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode,\n  );\n\n  const bucketName = params.bucketName || \"\";\n  const pathSegment = location.pathname.split(`/browser/${bucketName}/`);\n  const internalPaths = pathSegment.length === 2 ? pathSegment[1] : \"\";\n\n  /*WS Request Handlers*/\n  const onMessageCallBack = useCallback(\n    (message: IMessageEvent) => {\n      // reset start status\n      dispatch(setLoadingObjects(false));\n\n      const response: WebsocketResponse = JSON.parse(message.data.toString());\n      if (currentRequestID === response.request_id) {\n        // If response is not from current request, we can omit\n        if (response.request_id !== currentRequestID) {\n          return;\n        }\n\n        if (\n          response.error ===\n          \"The Access Key Id you provided does not exist in our records.\"\n        ) {\n          // Session expired.\n          window.location.reload();\n        } else if (response.error === \"Access Denied.\") {\n          const internalPathsPrefix = response.prefix;\n          let pathPrefix = \"\";\n\n          if (internalPathsPrefix) {\n            const decodedPath = decodeURLString(internalPathsPrefix);\n\n            pathPrefix = decodedPath.endsWith(\"/\")\n              ? decodedPath\n              : decodedPath + \"/\";\n          }\n\n          const permitItems = permissionItems(\n            response.bucketName || bucketName,\n            pathPrefix,\n            allowResources || [],\n          );\n\n          if (!permitItems || permitItems.length === 0) {\n            dispatch(\n              setErrorSnackMessage({\n                errorMessage: response.error,\n                detailedError: response.error,\n              }),\n            );\n          } else {\n            dispatch(setRecords(permitItems));\n          }\n\n          return;\n        }\n\n        // This indicates final messages is received.\n        if (response.request_end) {\n          dispatch(setLoadingObjects(false));\n          dispatch(setLoadingRecords(false));\n          return;\n        }\n\n        if (response.data) {\n          dispatch(newMessage(response.data));\n        }\n      }\n    },\n    [dispatch, allowResources, bucketName],\n  );\n\n  const initWSRequest = useCallback(\n    (path: string, date: Date) => {\n      if (objectsWS && objectsWS.readyState === 1) {\n        try {\n          const newRequestID = currentRequestID + 1;\n          dispatch(resetMessages());\n          dispatch(errorInConnection(false));\n\n          const request: WebsocketRequest = {\n            bucket_name: bucketName,\n            prefix: encodeURLString(path),\n            mode: rewindEnabled || showDeleted ? \"rewind\" : \"objects\",\n            date: date.toISOString(),\n            request_id: newRequestID,\n          };\n\n          objectsWS.send(JSON.stringify(request));\n\n          // We store the new ID for the requestID\n          currentRequestID = newRequestID;\n        } catch (e) {\n          console.error(e);\n        }\n      } else {\n        // Socket is disconnected, we request reconnection but will need to recreate call\n        const dupRequest = () => {\n          initWSRequest(path, date);\n        };\n\n        const fatalWSError = (message: string) => {\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: message,\n              detailedError: message,\n            }),\n          );\n          dispatch(errorInConnection(true));\n        };\n\n        initWSConnection(dupRequest, onMessageCallBack, fatalWSError);\n      }\n    },\n    [bucketName, rewindEnabled, showDeleted, dispatch, onMessageCallBack],\n  );\n\n  useEffect(() => {\n    return () => {\n      const request: WebsocketRequest = {\n        mode: \"cancel\",\n        request_id: currentRequestID,\n      };\n\n      if (objectsWS && objectsWS.readyState === 1) {\n        objectsWS.send(JSON.stringify(request));\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const decodedIPaths = decodeURLString(internalPaths);\n\n    dispatch(setLoadingVersioning(true));\n\n    if (decodedIPaths.endsWith(\"/\") || decodedIPaths === \"\") {\n      dispatch(setObjectDetailsView(false));\n      dispatch(setSelectedObjectView(null));\n      dispatch(\n        setSimplePathHandler(decodedIPaths === \"\" ? \"/\" : decodedIPaths),\n      );\n      dispatch(setLoadingLocking(true));\n    } else {\n      dispatch(setLoadingObjectInfo(true));\n      dispatch(setObjectDetailsView(true));\n      dispatch(setLoadingVersions(true));\n      dispatch(\n        setSelectedObjectView(\n          `${decodedIPaths ? `${encodeURLString(decodedIPaths)}` : ``}`,\n        ),\n      );\n      dispatch(\n        setSimplePathHandler(\n          `${decodedIPaths.split(\"/\").slice(0, -1).join(\"/\")}/`,\n        ),\n      );\n    }\n  }, [bucketName, internalPaths, rewindDate, rewindEnabled, dispatch]);\n\n  // Direct file access effect / prefix\n  useEffect(() => {\n    if (!loadingObjects && !loadRecords && !rewindEnabled && !isOpeningOD) {\n      // No requests are in progress, We review current path, if it doesn't end in '/' and current list is empty then we trigger a new request.\n      const decodedInternalPaths = decodeURLString(internalPaths);\n\n      if (\n        !decodedInternalPaths.endsWith(\"/\") &&\n        simplePath !== decodedInternalPaths &&\n        decodedInternalPaths !== \"\"\n      ) {\n        setLoadingRecords(true);\n        const parentPath = `${decodedInternalPaths\n          .split(\"/\")\n          .slice(0, -1)\n          .join(\"/\")}/`;\n\n        initWSRequest(parentPath, new Date());\n      }\n    }\n    dispatch(setIsOpeningOD(false));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    loadingObjects,\n    loadRecords,\n    dispatch,\n    internalPaths,\n    initWSRequest,\n    rewindEnabled,\n    simplePath,\n  ]);\n\n  const displayListObjects =\n    hasPermission(bucketName, [\n      IAM_SCOPES.S3_LIST_BUCKET,\n      IAM_SCOPES.S3_ALL_LIST_BUCKET,\n    ]) || anonymousMode;\n\n  // Common objects list\n  useEffect(() => {\n    // begin watch if bucketName in bucketList and start pressed\n    if (loadingObjects && displayListObjects) {\n      let pathPrefix = \"\";\n      if (internalPaths) {\n        const decodedPath = decodeURLString(internalPaths);\n\n        // internalPaths are selected (file details), we split and get parent folder\n        if (selectedInternalPaths === internalPaths) {\n          pathPrefix = `${decodeURLString(internalPaths)\n            .split(\"/\")\n            .slice(0, -1)\n            .join(\"/\")}/`;\n        } else {\n          pathPrefix = decodedPath.endsWith(\"/\")\n            ? decodedPath\n            : decodedPath + \"/\";\n        }\n      }\n\n      let requestDate = new Date();\n\n      if (rewindEnabled && rewindDate) {\n        requestDate = new Date(rewindDate);\n      }\n      initWSRequest(pathPrefix, requestDate);\n    } else {\n      dispatch(setLoadingObjects(false));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    loadingObjects,\n    internalPaths,\n    dispatch,\n    rewindDate,\n    rewindEnabled,\n    displayListObjects,\n    initWSRequest,\n  ]);\n\n  useEffect(() => {\n    dispatch(setVersionsModeEnabled({ status: false }));\n  }, [internalPaths, dispatch]);\n\n  useEffect(() => {\n    if (loadingVersioning && !anonymousMode) {\n      if (displayListObjects) {\n        api.buckets\n          .getBucketVersioning(bucketName)\n          .then((res) => {\n            dispatch(setIsVersioned(res.data));\n            dispatch(setLoadingVersioning(false));\n          })\n          .catch((err) => {\n            console.error(\n              \"Error Getting Object Versioning Status: \",\n              err.error.detailedMessage,\n            );\n            dispatch(setLoadingVersioning(false));\n          });\n      } else {\n        dispatch(setLoadingVersioning(false));\n        dispatch(resetMessages());\n      }\n    }\n  }, [\n    bucketName,\n    loadingVersioning,\n    dispatch,\n    displayListObjects,\n    anonymousMode,\n  ]);\n\n  useEffect(() => {\n    if (loadingLocking) {\n      if (displayListObjects) {\n        api.buckets\n          .getBucketObjectLockingStatus(bucketName)\n          .then((res) => {\n            dispatch(setLockingEnabled(res.data.object_locking_enabled));\n            dispatch(setLoadingLocking(false));\n          })\n          .catch((err) => {\n            console.error(\n              \"Error Getting Object Locking Status: \",\n              err.error.detailedMessage,\n            );\n            dispatch(setLoadingLocking(false));\n          });\n      } else {\n        dispatch(resetMessages());\n        dispatch(setLoadingLocking(false));\n      }\n    }\n  }, [bucketName, loadingLocking, dispatch, displayListObjects]);\n\n  useEffect(() => {\n    // when a bucket param changes, (i.e /browser/:bucketName),  re-init e.g with KBar, this should not apply for resources prefixes.\n    const permitItems = permissionItems(bucketName, \"\", allowResources || []);\n\n    if (bucketName && (!permitItems || permitItems.length === 0)) {\n      dispatch(resetMessages());\n      dispatch(setLoadingRecords(true));\n      dispatch(setLoadingObjects(true));\n\n      let pathPrefix = \"\";\n      if (internalPaths) {\n        const decodedPath = decodeURLString(internalPaths);\n\n        // internalPaths are selected (file details), we split and get parent folder\n        if (selectedInternalPaths === internalPaths) {\n          pathPrefix = `${decodeURLString(internalPaths)\n            .split(\"/\")\n            .slice(0, -1)\n            .join(\"/\")}/`;\n        } else {\n          pathPrefix = decodedPath.endsWith(\"/\")\n            ? decodedPath\n            : decodedPath + \"/\";\n        }\n      }\n\n      initWSRequest(pathPrefix, new Date());\n    }\n  }, [\n    bucketName,\n    dispatch,\n    initWSRequest,\n    allowResources,\n    internalPaths,\n    selectedInternalPaths,\n  ]);\n\n  return (\n    <Fragment>\n      {!anonymousMode && <OBHeader bucketName={bucketName} />}\n      <ListObjects />\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(BrowserHandler);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const extractFileExtn = (resourceStr: string) => {\n  //file extensions may contain query string. so exclude query strings !\n  return (resourceStr.match(/\\.([^.]*?)(?=\\?|#|$)/) || [])[1];\n};\nexport const getPolicyAllowedFileExtensions = (\n  sessionGrants: Record<string, string[]>,\n  uploadPath: string,\n  scopes: string[] = [],\n) => {\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    uploadPath,\n    scopes,\n  );\n\n  //get acceptable files if any in the policy.\n  const allowedFileExtensions = sessionGrantWildCards.reduce(\n    (acc: string[], cv: string) => {\n      const extension: string = extractFileExtn(cv);\n      if (extension) {\n        acc.push(`.${extension}`); //strict extension matching.\n      }\n      return acc;\n    },\n    [],\n  );\n\n  const uniqueExtensions = [...new Set(allowedFileExtensions)];\n  return uniqueExtensions.join(\",\");\n};\n\n// The resource should not have the extensions (*.ext) for the hasPermission to work.\n// so sanitize this and also use to extract the allowed extensions outside of permission check.\nexport const getSessionGrantsWildCard = (\n  sessionGrants: Record<string, string[]>,\n  uploadPath: string,\n  scopes: string[] = [],\n) => {\n  //get only the path matching grants to reduce processing.\n  const grantsWithExtension = Object.keys(sessionGrants).reduce(\n    (acc: Record<string, string[]>, grantKey: string) => {\n      if (extractFileExtn(grantKey) && grantKey.includes(uploadPath)) {\n        acc[grantKey] = sessionGrants[grantKey];\n      }\n      return acc;\n    },\n    {},\n  );\n\n  const checkPathsForPermission = (sessionGrantKey: string) => {\n    const grantActions = grantsWithExtension[sessionGrantKey];\n    const hasScope = grantActions.some((actionKey) =>\n      scopes.find((scopeKey) => {\n        let wildCardMatch = false;\n        const hasWildCard = scopeKey.indexOf(\"*\") !== -1;\n        if (hasWildCard) {\n          const scopeActionKey = scopeKey.substring(0, scopeKey.length - 1);\n\n          wildCardMatch = actionKey.includes(scopeActionKey);\n        }\n\n        return wildCardMatch || actionKey === scopeKey;\n      }),\n    );\n\n    const sessionGrantKeyPath = sessionGrantKey.substring(\n      0,\n      sessionGrantKey.indexOf(\"/*.\"), //start of extension part.\n    );\n    const isUploadPathMatching =\n      sessionGrantKeyPath === `arn:aws:s3:::${uploadPath}`;\n\n    const hasGrant =\n      isUploadPathMatching && sessionGrantKey !== \"arn:aws:s3:::*\";\n\n    return hasScope && hasGrant;\n  };\n\n  return Object.keys(grantsWithExtension).filter(checkPathsForPermission);\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { objectBrowserCommon } from \"../Common/FormComponents/common/styleLibrary\";\nimport { encodeURLString, safeDecodeURIComponent } from \"../../../common/utils\";\nimport { Button, CopyIcon, NewPathIcon, Tooltip, Breadcrumbs } from \"mds\";\nimport { hasPermission } from \"../../../common/SecureComponent\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../common/SecureComponent/permissions\";\nimport withSuspense from \"../Common/Components/withSuspense\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport { setVersionsModeEnabled } from \"./objectBrowserSlice\";\nimport { getSessionGrantsWildCard } from \"../Buckets/ListBuckets/UploadPermissionUtils\";\n\nconst CreatePathModal = withSuspense(\n  React.lazy(\n    () => import(\"../Buckets/ListBuckets/Objects/ListObjects/CreatePathModal\"),\n  ),\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...objectBrowserCommon,\n    slashSpacingStyle: {\n      margin: \"0 5px\",\n    },\n  }),\n);\n\ninterface IObjectBrowser {\n  bucketName: string;\n  internalPaths: string;\n  hidePathButton?: boolean;\n  additionalOptions?: React.ReactNode;\n}\n\nconst BrowserBreadcrumbs = ({\n  bucketName,\n  internalPaths,\n  hidePathButton,\n  additionalOptions,\n}: IObjectBrowser) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const classes = useStyles();\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled,\n  );\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode,\n  );\n  const versionedFile = useSelector(\n    (state: AppState) => state.objectBrowser.versionedFile,\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode,\n  );\n\n  const [createFolderOpen, setCreateFolderOpen] = useState<boolean>(false);\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {},\n  );\n\n  let paths = internalPaths;\n\n  if (internalPaths !== \"\") {\n    paths = `/${internalPaths}`;\n  }\n\n  const splitPaths = paths.split(\"/\").filter((path) => path !== \"\");\n  const lastBreadcrumbsIndex = splitPaths.length - 1;\n\n  const pathToCheckPerms = bucketName + paths || bucketName;\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    pathToCheckPerms,\n    putObjectPermScopes,\n  );\n\n  const canCreatePath =\n    hasPermission(\n      [pathToCheckPerms, ...sessionGrantWildCards],\n      putObjectPermScopes,\n    ) || anonymousMode;\n\n  let breadcrumbsMap = splitPaths.map((objectItem: string, index: number) => {\n    const subSplit = `${splitPaths.slice(0, index + 1).join(\"/\")}/`;\n    const route = `/browser/${bucketName}/${\n      subSplit ? `${encodeURLString(subSplit)}` : ``\n    }`;\n\n    if (index === lastBreadcrumbsIndex && objectItem === versionedFile) {\n      return null;\n    }\n\n    return (\n      <Fragment key={`breadcrumbs-${index.toString()}`}>\n        <span className={classes.slashSpacingStyle}>/</span>\n        {index === lastBreadcrumbsIndex ? (\n          <span style={{ cursor: \"default\", whiteSpace: \"pre\" }}>\n            {safeDecodeURIComponent(objectItem) /*Only for display*/}\n          </span>\n        ) : (\n          <Link\n            style={{\n              whiteSpace: \"pre\",\n            }}\n            to={route}\n            onClick={() => {\n              dispatch(\n                setVersionsModeEnabled({ status: false, objectName: \"\" }),\n              );\n            }}\n          >\n            {\n              safeDecodeURIComponent(\n                objectItem,\n              ) /*Only for display to preserve */\n            }\n          </Link>\n        )}\n      </Fragment>\n    );\n  });\n\n  let versionsItem: any[] = [];\n\n  if (versionsMode) {\n    versionsItem = [\n      <Fragment key={`breadcrumbs-versionedItem`}>\n        <span>\n          <span className={classes.slashSpacingStyle}>/</span>\n          {versionedFile} - Versions\n        </span>\n      </Fragment>,\n    ];\n  }\n\n  const listBreadcrumbs: any[] = [\n    <Fragment key={`breadcrumbs-root-path`}>\n      <Link\n        to={`/browser/${bucketName}`}\n        onClick={() => {\n          dispatch(setVersionsModeEnabled({ status: false, objectName: \"\" }));\n        }}\n      >\n        {bucketName}\n      </Link>\n    </Fragment>,\n    ...breadcrumbsMap,\n    ...versionsItem,\n  ];\n\n  const closeAddFolderModal = () => {\n    setCreateFolderOpen(false);\n  };\n\n  const goBackFunction = () => {\n    if (versionsMode) {\n      dispatch(setVersionsModeEnabled({ status: false, objectName: \"\" }));\n    } else {\n      if (splitPaths.length === 0) {\n        navigate(\"/browser\");\n\n        return;\n      }\n\n      const prevPath = splitPaths.slice(0, -1);\n\n      navigate(\n        `/browser/${bucketName}${\n          prevPath.length > 0\n            ? `/${encodeURLString(`${prevPath.join(\"/\")}/`)}`\n            : \"\"\n        }`,\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      <div className={classes.breadcrumbsMain}>\n        {createFolderOpen && (\n          <CreatePathModal\n            modalOpen={createFolderOpen}\n            bucketName={bucketName}\n            folderName={internalPaths}\n            onClose={closeAddFolderModal}\n          />\n        )}\n        <Breadcrumbs\n          sx={{\n            whiteSpace: \"pre\",\n          }}\n          goBackFunction={goBackFunction}\n          additionalOptions={\n            <Fragment>\n              <CopyToClipboard text={`${bucketName}/${splitPaths.join(\"/\")}`}>\n                <Button\n                  id={\"copy-path\"}\n                  icon={\n                    <CopyIcon\n                      style={{\n                        width: \"12px\",\n                        height: \"12px\",\n                        fill: \"#969FA8\",\n                        marginTop: -1,\n                      }}\n                    />\n                  }\n                  variant={\"regular\"}\n                  onClick={() => {\n                    dispatch(setSnackBarMessage(\"Path copied to clipboard\"));\n                  }}\n                  style={{\n                    width: \"28px\",\n                    height: \"28px\",\n                    color: \"#969FA8\",\n                    border: \"#969FA8 1px solid\",\n                    marginRight: 5,\n                  }}\n                />\n              </CopyToClipboard>\n              <div className={classes.additionalOptions}>\n                {additionalOptions}\n              </div>\n            </Fragment>\n          }\n        >\n          {listBreadcrumbs}\n        </Breadcrumbs>\n        {!hidePathButton && (\n          <Tooltip\n            tooltip={\n              canCreatePath\n                ? \"Choose or create a new path\"\n                : permissionTooltipHelper(\n                    [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                    \"create a new path\",\n                  )\n            }\n          >\n            <Button\n              id={\"new-path\"}\n              onClick={() => {\n                setCreateFolderOpen(true);\n              }}\n              disabled={anonymousMode ? false : rewindEnabled || !canCreatePath}\n              icon={<NewPathIcon style={{ fill: \"#969FA8\" }} />}\n              style={{\n                whiteSpace: \"nowrap\",\n              }}\n              variant={\"regular\"}\n              label={\"Create new path\"}\n            />\n          </Tooltip>\n        )}\n      </div>\n      <div className={classes.breadcrumbsSecond}>{additionalOptions}</div>\n    </Fragment>\n  );\n};\n\nexport default BrowserBreadcrumbs;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport { CSSObject } from \"styled-components\";\nimport { Menu, MenuItem } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport { Button, UploadFolderIcon, UploadIcon } from \"mds\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../common/SecureComponent/permissions\";\nimport { hasPermission } from \"../../../../common/SecureComponent\";\nimport TooltipWrapper from \"../../Common/TooltipWrapper/TooltipWrapper\";\nimport { useSelector } from \"react-redux\";\nimport { AppState } from \"../../../../store\";\nimport { getSessionGrantsWildCard } from \"./UploadPermissionUtils\";\n\ninterface IUploadFilesButton {\n  uploadPath: string;\n  bucketName: string;\n  forceDisable?: boolean;\n  uploadFileFunction: (closeFunction: () => void) => void;\n  uploadFolderFunction: (closeFunction: () => void) => void;\n  classes: any;\n  overrideStyles?: CSSObject;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    listUploadIcons: {\n      height: 20,\n      \"& .min-icon\": {\n        width: 18,\n        fill: \"rgba(0,0,0,0.87)\",\n      },\n    },\n  });\n\nconst UploadFilesButton = ({\n  uploadPath,\n  bucketName,\n  forceDisable = false,\n  uploadFileFunction,\n  uploadFolderFunction,\n  classes,\n  overrideStyles = {},\n}: IUploadFilesButton) => {\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode,\n  );\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {},\n  );\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    uploadPath,\n    putObjectPermScopes,\n  );\n\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const openUploadMenu = Boolean(anchorEl);\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleCloseUpload = () => {\n    setAnchorEl(null);\n  };\n\n  const uploadObjectAllowed =\n    hasPermission(\n      [uploadPath, ...sessionGrantWildCards],\n      putObjectPermScopes,\n    ) || anonymousMode;\n\n  const uploadFolderAllowed = hasPermission(\n    [bucketName, ...sessionGrantWildCards],\n    putObjectPermScopes,\n    false,\n    true,\n  );\n\n  const uploadEnabled: boolean = uploadObjectAllowed || uploadFolderAllowed;\n\n  return (\n    <Fragment>\n      <TooltipWrapper\n        tooltip={\n          uploadEnabled\n            ? \"Upload Files\"\n            : permissionTooltipHelper(\n                [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                \"upload files to this bucket\",\n              )\n        }\n      >\n        <Button\n          id={\"upload-main\"}\n          aria-controls={`upload-main-menu`}\n          aria-haspopup=\"true\"\n          aria-expanded={openUploadMenu ? \"true\" : undefined}\n          onClick={handleClick}\n          label={\"Upload\"}\n          icon={<UploadIcon />}\n          variant={\"callAction\"}\n          disabled={forceDisable || !uploadEnabled}\n          sx={overrideStyles}\n        />\n      </TooltipWrapper>\n      <Menu\n        id={`upload-main-menu`}\n        aria-labelledby={`upload-main`}\n        anchorEl={anchorEl}\n        open={openUploadMenu}\n        onClose={() => {\n          handleCloseUpload();\n        }}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <MenuItem\n          onClick={() => {\n            uploadFileFunction(handleCloseUpload);\n          }}\n          disabled={!uploadObjectAllowed || forceDisable}\n        >\n          <ListItemIcon className={classes.listUploadIcons}>\n            <UploadIcon />\n          </ListItemIcon>\n          <ListItemText>Upload File</ListItemText>\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            uploadFolderFunction(handleCloseUpload);\n          }}\n          disabled={!uploadFolderAllowed || forceDisable}\n        >\n          <ListItemIcon className={classes.listUploadIcons}>\n            <UploadFolderIcon />\n          </ListItemIcon>\n          <ListItemText>Upload Folder</ListItemText>\n        </MenuItem>\n      </Menu>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(UploadFilesButton);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { Button, ClosePanelIcon, Grid } from \"mds\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\ninterface IDetailsListPanel {\n  open: boolean;\n  className?: string;\n  closePanel: () => void;\n  children: React.ReactNode;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    detailsList: {\n      borderColor: \"#EAEDEE\",\n      borderWidth: 0,\n      borderStyle: \"solid\",\n      borderRadius: 3,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0,\n      width: 0,\n      transitionDuration: \"0.3s\",\n      overflowX: \"hidden\",\n      overflowY: \"auto\",\n      position: \"relative\",\n      opacity: 0,\n      marginLeft: -1,\n      \"&.open\": {\n        width: 300,\n        minWidth: 300,\n        borderLeftWidth: 1,\n        opacity: 1,\n      },\n      \"@media (max-width: 799px)\": {\n        \"&.open\": {\n          width: \"100%\",\n          minWidth: \"100%\",\n          borderLeftWidth: 0,\n        },\n      },\n    },\n  }),\n);\n\nconst DetailsListPanel = ({\n  open,\n  closePanel,\n  className = \"\",\n  children,\n}: IDetailsListPanel) => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      item\n      className={`${classes.detailsList} ${open ? \"open\" : \"\"} ${className}`}\n    >\n      <Button\n        variant={\"text\"}\n        id={\"close-details-list\"}\n        onClick={closePanel}\n        icon={<ClosePanelIcon />}\n        sx={{\n          position: \"absolute\",\n          right: 5,\n          top: 18,\n          padding: 0,\n          height: 14,\n          \"&:hover:not(:disabled)\": {\n            backgroundColor: \"transparent\",\n          },\n        }}\n      />\n      {children}\n    </Grid>\n  );\n};\n\nexport default DetailsListPanel;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const months = [\n  { value: \"01\", label: \"January\" },\n  { value: \"02\", label: \"February\" },\n  { value: \"03\", label: \"March\" },\n  { value: \"04\", label: \"April\" },\n  { value: \"05\", label: \"May\" },\n  { value: \"06\", label: \"June\" },\n  { value: \"07\", label: \"July\" },\n  { value: \"08\", label: \"August\" },\n  { value: \"09\", label: \"September\" },\n  { value: \"10\", label: \"October\" },\n  { value: \"11\", label: \"November\" },\n  { value: \"12\", label: \"December\" },\n];\n\nexport const days = Array.from(Array(31), (_, num) => ({\n  value: (num + 1).toString(),\n  label: (num + 1).toString(),\n}));\n\nconst currentYear = new Date().getFullYear();\n\nexport const years = Array.from(Array(50), (_, numYear) => ({\n  value: (numYear + currentYear).toString(),\n  label: (numYear + currentYear).toString(),\n}));\n\nexport const validDate = (year: string, month: string, day: string): any[] => {\n  const currentDate = Date.parse(`${year}-${month}-${day}`);\n\n  if (isNaN(currentDate)) {\n    return [false, \"\"];\n  }\n\n  const parsedMonth = parseInt(month);\n  const parsedDay = parseInt(day);\n\n  const monthForString = parsedMonth < 10 ? `0${parsedMonth}` : parsedMonth;\n  const dayForString = parsedDay < 10 ? `0${parsedDay}` : parsedDay;\n\n  const parsedDate = new Date(currentDate).toISOString().split(\"T\")[0];\n  const dateString = `${year}-${monthForString}-${dayForString}`;\n\n  return [parsedDate === dateString, dateString];\n};\n\n// twoDigitDate gets a two digit string number used for months or days\n// returns \"NaN\" if number is NaN\nexport const twoDigitDate = (num: number): string => {\n  return num < 10 ? `0${num}` : `${num}`;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, {\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from \"react\";\nimport clsx from \"clsx\";\nimport { Box, Grid, HelpIcon, InputLabel, Select, Switch, Tooltip } from \"mds\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { fieldBasic, tooltipHelper } from \"../common/styleLibrary\";\nimport { days, months, validDate, years } from \"./utils\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      paddingBottom: 10,\n      marginTop: 11,\n      marginBottom: 6,\n    },\n  });\n\ninterface IDateSelectorProps {\n  classes: any;\n  id: string;\n  label: string;\n  disableOptions?: boolean;\n  addSwitch?: boolean;\n  tooltip?: string;\n  borderBottom?: boolean;\n  value?: string;\n  onDateChange: (date: string, isValid: boolean) => any;\n}\n\nconst DateSelector = forwardRef(\n  (\n    {\n      classes,\n      id,\n      label,\n      disableOptions = false,\n      addSwitch = false,\n      tooltip = \"\",\n      borderBottom = false,\n      onDateChange,\n      value = \"\",\n    }: IDateSelectorProps,\n    ref: any,\n  ) => {\n    useImperativeHandle(ref, () => ({ resetDate }));\n\n    const [dateEnabled, setDateEnabled] = useState<boolean>(false);\n    const [month, setMonth] = useState<string>(\"\");\n    const [day, setDay] = useState<string>(\"\");\n    const [year, setYear] = useState<string>(\"\");\n\n    useEffect(() => {\n      // verify if there is a current value\n      // assume is in the format \"2021-12-30\"\n      if (value !== \"\") {\n        const valueSplit = value.split(\"-\");\n\n        setYear(valueSplit[0]);\n        setMonth(valueSplit[1]);\n        // Turn to single digit to be displayed on dropdown buttons\n        setDay(`${parseInt(valueSplit[2])}`);\n      }\n    }, [value]);\n\n    useEffect(() => {\n      const [isValid, dateString] = validDate(year, month, day);\n      onDateChange(dateString, isValid);\n    }, [month, day, year, onDateChange]);\n\n    const resetDate = () => {\n      setMonth(\"\");\n      setDay(\"\");\n      setYear(\"\");\n    };\n\n    const isDateDisabled = () => {\n      if (disableOptions) {\n        return disableOptions;\n      } else if (addSwitch) {\n        return !dateEnabled;\n      } else {\n        return false;\n      }\n    };\n\n    const monthForDropDown = [{ value: \"\", label: \"<Month>\" }, ...months];\n    const daysForDrop = [{ value: \"\", label: \"<Day>\" }, ...days];\n    const yearsForDrop = [{ value: \"\", label: \"<Year>\" }, ...years];\n\n    return (\n      <Grid\n        item\n        xs={12}\n        className={clsx(classes.fieldContainer, {\n          [classes.fieldContainerBorder]: borderBottom,\n        })}\n      >\n        <div className={classes.labelContainer}>\n          <Grid container>\n            <InputLabel htmlFor={id}>\n              <span>{label}</span>\n              {tooltip !== \"\" && (\n                <div className={classes.tooltipContainer}>\n                  <Tooltip tooltip={tooltip} placement=\"top\">\n                    <div className={classes.tooltip}>\n                      <HelpIcon />\n                    </div>\n                  </Tooltip>\n                </div>\n              )}\n            </InputLabel>\n            {addSwitch && (\n              <Switch\n                indicatorLabels={[\"Specific Date\", \"Default (7 Days)\"]}\n                checked={dateEnabled}\n                value={\"date_enabled\"}\n                id=\"date-status\"\n                name=\"date-status\"\n                onChange={(e) => {\n                  setDateEnabled(e.target.checked);\n                  if (!e.target.checked) {\n                    onDateChange(\"\", true);\n                  }\n                }}\n                switchOnly\n              />\n            )}\n          </Grid>\n        </div>\n        <Box sx={{ display: \"flex\", gap: 12 }}>\n          <Select\n            id={`${id}-month`}\n            name={`${id}-month`}\n            value={month}\n            onChange={(newValue) => {\n              setMonth(newValue);\n            }}\n            options={monthForDropDown}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n\n          <Select\n            id={`${id}-day`}\n            name={`${id}-day`}\n            value={day}\n            onChange={(newValue) => {\n              setDay(newValue);\n            }}\n            options={daysForDrop}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n\n          <Select\n            id={`${id}-year`}\n            name={`${id}-year`}\n            value={year}\n            onChange={(newValue) => {\n              setYear(newValue);\n            }}\n            options={yearsForDrop}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n        </Box>\n      </Grid>\n    );\n  },\n);\n\nexport default withStyles(styles)(DateSelector);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Button, Grid, RadioGroup, Switch } from \"mds\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\nimport { twoDigitDate } from \"../../../../Common/FormComponents/DateSelector/utils\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport DateSelector from \"../../../../Common/FormComponents/DateSelector/DateSelector\";\nimport { setModalErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { useSelector } from \"react-redux\";\nimport { BucketObject, ObjectRetentionMode } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport { encodeURLString } from \"common/utils\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface ISetRetentionProps {\n  classes: any;\n  open: boolean;\n  closeModalAndRefresh: (updateInfo: boolean) => void;\n  objectName: string;\n  bucketName: string;\n  objectInfo: BucketObject;\n}\n\ninterface IRefObject {\n  resetDate: () => void;\n}\n\nconst SetRetention = ({\n  classes,\n  open,\n  closeModalAndRefresh,\n  objectName,\n  objectInfo,\n  bucketName,\n}: ISetRetentionProps) => {\n  const dispatch = useAppDispatch();\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig,\n  );\n\n  const [statusEnabled, setStatusEnabled] = useState<boolean>(true);\n  const [type, setType] = useState<ObjectRetentionMode | \"\">(\"\");\n  const [date, setDate] = useState<string>(\"\");\n  const [isDateValid, setIsDateValid] = useState<boolean>(false);\n  const [isSaving, setIsSaving] = useState<boolean>(false);\n  const [alreadyConfigured, setAlreadyConfigured] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (objectInfo.retention_mode) {\n      setType(retentionConfig?.mode || ObjectRetentionMode.Governance);\n      setAlreadyConfigured(true);\n    }\n    // get retention_until_date if defined\n    if (objectInfo.retention_until_date) {\n      const valueDate = new Date(objectInfo.retention_until_date);\n      if (valueDate.toString() !== \"Invalid Date\") {\n        const year = valueDate.getFullYear();\n        const month = twoDigitDate(valueDate.getMonth() + 1);\n        const day = valueDate.getDate();\n        if (!isNaN(day) && month !== \"NaN\" && !isNaN(year)) {\n          setDate(`${year}-${month}-${day}`);\n        }\n      }\n      setAlreadyConfigured(true);\n    }\n  }, [objectInfo, retentionConfig?.mode]);\n\n  const dateElement = useRef<IRefObject>(null);\n\n  const dateFieldDisabled = () => {\n    return !(statusEnabled && (type === \"governance\" || type === \"compliance\"));\n  };\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n  };\n\n  const resetForm = () => {\n    setStatusEnabled(false);\n    setType(ObjectRetentionMode.Governance);\n    if (dateElement.current) {\n      dateElement.current.resetDate();\n    }\n  };\n\n  const addRetention = (\n    selectedObject: string,\n    versionId: string | null,\n    expireDate: string,\n  ) => {\n    api.buckets\n      .putObjectRetention(\n        bucketName,\n        {\n          prefix: encodeURLString(selectedObject),\n          version_id: versionId || \"\",\n        },\n        {\n          expires: expireDate,\n          mode: type as ObjectRetentionMode,\n        },\n      )\n      .then(() => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSaving(false);\n      });\n  };\n\n  const disableRetention = (\n    selectedObject: string,\n    versionId: string | null,\n  ) => {\n    api.buckets\n      .deleteObjectRetention(bucketName, {\n        prefix: encodeURLString(selectedObject),\n        version_id: versionId || \"\",\n      })\n      .then(() => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSaving(false);\n      });\n  };\n\n  const saveNewRetentionPolicy = () => {\n    setIsSaving(true);\n    const selectedObject = objectInfo.name || \"\";\n    const versionId = objectInfo.version_id || null;\n\n    const expireDate =\n      !statusEnabled && type === \"governance\" ? \"\" : `${date}T23:59:59Z`;\n\n    if (!statusEnabled && type === \"governance\") {\n      disableRetention(selectedObject, versionId);\n\n      return;\n    }\n\n    addRetention(selectedObject, versionId, expireDate);\n  };\n\n  const showSwitcher =\n    alreadyConfigured && (type === \"governance\" || type === \"\");\n\n  return (\n    <ModalWrapper\n      title=\"Set Retention Policy\"\n      modalOpen={open}\n      onClose={() => {\n        resetForm();\n        closeModalAndRefresh(false);\n      }}\n    >\n      <div className={classes.spacerBottom}>\n        <strong>Selected Object</strong>: {objectName}\n      </div>\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          onSubmit(e);\n        }}\n      >\n        {showSwitcher && (\n          <Grid item xs={12} className={classes.formFieldRow}>\n            <Switch\n              value=\"status\"\n              id=\"status\"\n              name=\"status\"\n              checked={statusEnabled}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                setStatusEnabled(!statusEnabled);\n              }}\n              label={\"Status\"}\n              indicatorLabels={[\"Enabled\", \"Disabled\"]}\n            />\n          </Grid>\n        )}\n        <Grid item xs={12} className={classes.formFieldRow}>\n          <RadioGroup\n            currentValue={type}\n            id=\"type\"\n            name=\"type\"\n            label=\"Type\"\n            disableOptions={\n              !statusEnabled || (alreadyConfigured && type !== \"\")\n            }\n            onChange={(e) => {\n              setType(e.target.value as ObjectRetentionMode);\n            }}\n            selectorOptions={[\n              { label: \"Governance\", value: ObjectRetentionMode.Governance },\n              { label: \"Compliance\", value: ObjectRetentionMode.Compliance },\n            ]}\n          />\n        </Grid>\n        <Grid item xs={12} className={`${classes.dateSelector} `}>\n          <DateSelector\n            id=\"date\"\n            label=\"Date\"\n            disableOptions={dateFieldDisabled()}\n            ref={dateElement}\n            value={date}\n            borderBottom={true}\n            onDateChange={(date: string, isValid: boolean) => {\n              setIsDateValid(isValid);\n              if (isValid) {\n                setDate(date);\n              }\n            }}\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"reset\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Reset\"}\n          />\n          <Button\n            id={\"save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={\n              (statusEnabled && type === \"\") ||\n              (statusEnabled && !isDateValid) ||\n              isSaving\n            }\n            onClick={saveNewRetentionPolicy}\n            label={\"Save\"}\n          />\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(SetRetention);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const isVersionedMode = (status: string | undefined) => {\n  return status === \"Enabled\" || status === \"Suspended\";\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport { decodeURLString } from \"../../../../../../common/utils\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport useApi from \"../../../../Common/Hooks/useApi\";\nimport { ConfirmDeleteIcon, Switch } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\nimport { isVersionedMode } from \"../../../../../../utils/validationFunctions\";\nimport { BucketVersioningResponse } from \"api/consoleApi\";\n\ninterface IDeleteObjectProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedObject: string;\n  selectedBucket: string;\n\n  versioningInfo: BucketVersioningResponse | undefined;\n  selectedVersion?: string;\n}\n\nconst DeleteObject = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedObject,\n  versioningInfo,\n  selectedVersion = \"\",\n}: IDeleteObjectProps) => {\n  const dispatch = useAppDispatch();\n  const onDelSuccess = () => closeDeleteModalAndRefresh(true);\n  const onDelError = (err: ErrorResponseHandler) => {\n    dispatch(setErrorSnackMessage(err));\n\n    // We close the modal box on access denied.\n    if (err.detailedError === \"Access Denied.\") {\n      closeDeleteModalAndRefresh(true);\n    }\n  };\n  const onClose = () => closeDeleteModalAndRefresh(false);\n\n  const [deleteLoading, invokeDeleteApi] = useApi(onDelSuccess, onDelError);\n  const [deleteVersions, setDeleteVersions] = useState<boolean>(false);\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig,\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION],\n    ) && retentionConfig?.mode === \"governance\";\n\n  if (!selectedObject) {\n    return null;\n  }\n  const onConfirmDelete = () => {\n    const decodedSelectedObject = decodeURLString(selectedObject);\n    const recursive = decodedSelectedObject.endsWith(\"/\");\n    invokeDeleteApi(\n      \"DELETE\",\n      `/api/v1/buckets/${selectedBucket}/objects?path=${selectedObject}${\n        selectedVersion !== \"\"\n          ? `&version_id=${selectedVersion}`\n          : `&recursive=${recursive}&all_versions=${deleteVersions}`\n      }${bypassGovernance ? \"&bypass=true\" : \"\"}`,\n    );\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Delete Object`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={onClose}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete: <br />\n          <b>{decodeURLString(selectedObject)}</b>{\" \"}\n          {selectedVersion !== \"\" ? (\n            <Fragment>\n              <br />\n              <br />\n              Version ID:\n              <br />\n              <strong>{selectedVersion}</strong>\n            </Fragment>\n          ) : (\n            \"\"\n          )}\n          ? <br />\n          <br />\n          {isVersionedMode(versioningInfo?.status) &&\n            selectedVersion === \"\" && (\n              <Fragment>\n                <Switch\n                  label={\"Delete All Versions\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={deleteVersions}\n                  value={\"delete_versions\"}\n                  id=\"delete-versions\"\n                  name=\"delete-versions\"\n                  onChange={(e) => {\n                    setDeleteVersions(!deleteVersions);\n                  }}\n                  description=\"\"\n                />\n              </Fragment>\n            )}\n          {canBypass && (deleteVersions || selectedVersion !== \"\") && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n          {deleteVersions && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                  border: \"#c83b51 1px solid\",\n                  borderRadius: 3,\n                  padding: 5,\n                  backgroundColor: \"#c83b5120\",\n                  color: \"#c83b51\",\n                }}\n              >\n                This will remove the object as well as all of its versions,{\" \"}\n                <br />\n                This action is irreversible.\n              </div>\n              <br />\n              Are you sure you want to continue?\n            </Fragment>\n          )}\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteObject;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport get from \"lodash/get\";\nimport { Button, Grid, Switch } from \"mds\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\n\nimport { setModalErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { BucketObject, ObjectLegalHoldStatus } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface ISetRetentionProps {\n  classes: any;\n  open: boolean;\n  closeModalAndRefresh: (reload: boolean) => void;\n  objectName: string;\n  bucketName: string;\n  actualInfo: BucketObject;\n}\n\nconst SetLegalHoldModal = ({\n  classes,\n  open,\n  closeModalAndRefresh,\n  objectName,\n  bucketName,\n  actualInfo,\n}: ISetRetentionProps) => {\n  const dispatch = useAppDispatch();\n  const [legalHoldEnabled, setLegalHoldEnabled] = useState<boolean>(false);\n  const [isSaving, setIsSaving] = useState<boolean>(false);\n  const versionId = actualInfo.version_id;\n\n  useEffect(() => {\n    const status = get(actualInfo, \"legal_hold_status\", \"OFF\");\n    setLegalHoldEnabled(status === \"ON\");\n  }, [actualInfo]);\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSaving(true);\n\n    api.buckets\n      .putObjectLegalHold(\n        bucketName,\n        {\n          prefix: encodeURLString(objectName),\n          version_id: versionId || \"\",\n        },\n        {\n          status: legalHoldEnabled\n            ? ObjectLegalHoldStatus.Enabled\n            : ObjectLegalHoldStatus.Disabled,\n        },\n      )\n      .then(() => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSaving(false);\n      });\n  };\n\n  const resetForm = () => {\n    setLegalHoldEnabled(false);\n  };\n\n  return (\n    <ModalWrapper\n      title=\"Set Legal Hold\"\n      modalOpen={open}\n      onClose={() => {\n        resetForm();\n        closeModalAndRefresh(false);\n      }}\n    >\n      <Grid item xs={12} className={classes.spacerBottom}>\n        Object: {bucketName}\n      </Grid>\n\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          onSubmit(e);\n        }}\n      >\n        <Grid item xs={12} className={classes.formFieldRow}>\n          <Switch\n            value=\"legalhold\"\n            id=\"legalhold\"\n            name=\"legalhold\"\n            checked={legalHoldEnabled}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setLegalHoldEnabled(!legalHoldEnabled);\n            }}\n            label={\"Legal Hold Status\"}\n            indicatorLabels={[\"Enabled\", \"Disabled\"]}\n            tooltip={\n              \"To enable this feature you need to enable versioning on the bucket before creation\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"clear\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Clear\"}\n          />\n          <Button\n            id={\"save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={isSaving}\n            label={\" Save\"}\n          />\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(SetLegalHoldModal);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport { withStyles } from \"@mui/styles\";\nimport Grid from \"@mui/material/Grid\";\nimport { Box, Table, TableBody, TableCell, TableRow } from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport {\n  detailsPanel,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { safeDecodeURIComponent } from \"../../../../../../common/utils\";\n\ninterface IObjectMetadata {\n  metaData: any;\n  classes?: any;\n  linear?: boolean;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    titleItem: {\n      width: \"35%\",\n    },\n    ...spacingUtils,\n    ...detailsPanel,\n  });\n\nconst itemRendererFn = (element: any) => {\n  return Array.isArray(element)\n    ? element.map(safeDecodeURIComponent).join(\", \")\n    : safeDecodeURIComponent(element);\n};\n\nconst ObjectMetaData = ({\n  metaData,\n  classes,\n  linear = false,\n}: IObjectMetadata) => {\n  const metaKeys = Object.keys(metaData);\n\n  if (linear) {\n    return (\n      <Fragment>\n        {metaKeys.map((element: string, index: number) => {\n          const renderItem = itemRendererFn(metaData[element]);\n          return (\n            <Box\n              className={classes.metadataLinear}\n              key={`box-meta-${element}-${index.toString()}`}\n            >\n              <strong>{element}</strong>\n              <br />\n              {renderItem}\n            </Box>\n          );\n        })}\n      </Fragment>\n    );\n  }\n\n  return (\n    <Grid container>\n      <Grid\n        item\n        xs={12}\n        sx={{\n          marginTop: \"25px\",\n          marginBottom: \"5px\",\n        }}\n      >\n        <h3\n          style={{\n            marginTop: \"0\",\n            marginBottom: \"0\",\n          }}\n        >\n          Object Metadata\n        </h3>\n      </Grid>\n\n      <Grid item xs={12}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableBody>\n            {metaKeys.map((element: string, index: number) => {\n              const renderItem = itemRendererFn(metaData[element]);\n              return (\n                <TableRow key={`tRow-${index.toString()}`}>\n                  <TableCell\n                    component=\"th\"\n                    scope=\"row\"\n                    className={classes.titleItem}\n                  >\n                    {element}\n                  </TableCell>\n                  <TableCell align=\"right\">{renderItem}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles)(ObjectMetaData);\n","import React from \"react\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport { replaceUnicodeChar } from \"../../../../../../common/utils\";\n\ninterface IIconWithLabel {\n  classes: any;\n  icon: JSX.Element;\n  strings: string[];\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    fileName: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& .min-icon\": {\n        width: 16,\n        height: 16,\n        marginRight: 4,\n        minWidth: 16,\n        minHeight: 16,\n      },\n    },\n    fileNameText: {\n      whiteSpace: \"pre\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n  });\n\nconst IconWithLabel = ({ classes, icon, strings }: IIconWithLabel) => {\n  return (\n    <div className={classes.fileName}>\n      {icon}\n      <span className={classes.fileNameText}>\n        {replaceUnicodeChar(strings[strings.length - 1])}\n      </span>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(IconWithLabel);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\n\nimport {\n  FileBookIcon,\n  FileCodeIcon,\n  FileConfigIcon,\n  FileDbIcon,\n  FileFontIcon,\n  FileImageIcon,\n  FileLockIcon,\n  FileMissingIcon,\n  FileMusicIcon,\n  FileNonType,\n  FilePdfIcon,\n  FilePptIcon,\n  FileTxtIcon,\n  FileVideoIcon,\n  FileXlsIcon,\n  FileZipIcon,\n  FolderBrowserIcon,\n} from \"mds\";\nimport IconWithLabel from \"./IconWithLabel\";\n\ninterface IExtToIcon {\n  icon: any;\n  extensions: string[];\n}\n\nexport const extensionToIcon: IExtToIcon[] = [\n  {\n    icon: <FileVideoIcon />,\n    extensions: [\"mp4\", \"mov\", \"avi\", \"mpeg\", \"mpg\"],\n  },\n  {\n    icon: <FileMusicIcon />,\n    extensions: [\"mp3\", \"m4a\", \"aac\"],\n  },\n  {\n    icon: <FilePdfIcon />,\n    extensions: [\"pdf\"],\n  },\n  {\n    icon: <FilePptIcon />,\n    extensions: [\"ppt\", \"pptx\"],\n  },\n  {\n    icon: <FileXlsIcon />,\n    extensions: [\"xls\", \"xlsx\"],\n  },\n  {\n    icon: <FileLockIcon />,\n    extensions: [\"cer\", \"crt\", \"pem\"],\n  },\n  {\n    icon: <FileCodeIcon />,\n    extensions: [\"html\", \"xml\", \"css\", \"py\", \"go\", \"php\", \"cpp\", \"h\", \"java\"],\n  },\n  {\n    icon: <FileConfigIcon />,\n    extensions: [\"cfg\", \"yaml\"],\n  },\n  {\n    icon: <FileDbIcon />,\n    extensions: [\"sql\"],\n  },\n  {\n    icon: <FileFontIcon />,\n    extensions: [\"ttf\", \"otf\"],\n  },\n  {\n    icon: <FileTxtIcon />,\n    extensions: [\"doc\", \"docx\", \"txt\", \"rtf\"],\n  },\n  {\n    icon: <FileZipIcon />,\n    extensions: [\"zip\", \"rar\", \"tar\", \"gz\"],\n  },\n  {\n    icon: <FileBookIcon />,\n    extensions: [\"epub\", \"mobi\", \"azw\", \"azw3\"],\n  },\n  {\n    icon: <FileImageIcon />,\n    extensions: [\"jpeg\", \"jpg\", \"gif\", \"tiff\", \"png\", \"heic\", \"dng\"],\n  },\n];\n\nexport const displayFileIconName = (\n  element: string,\n  returnOnlyIcon: boolean = false,\n) => {\n  let elementString = element;\n  let icon = <FileNonType />;\n  // Element is a folder\n  if (element.endsWith(\"/\")) {\n    icon = <FolderBrowserIcon />;\n    elementString = element.slice(0, -1);\n  }\n\n  const lowercaseElement = element.toLowerCase();\n  for (const etc of extensionToIcon) {\n    for (const ext of etc.extensions) {\n      if (lowercaseElement.endsWith(`.${ext}`)) {\n        icon = etc.icon;\n      }\n    }\n  }\n\n  if (!element.endsWith(\"/\") && element.indexOf(\".\") < 0) {\n    icon = <FileMissingIcon />;\n  }\n\n  const splitItem = elementString.split(\"/\");\n\n  if (returnOnlyIcon) {\n    return icon;\n  }\n\n  return <IconWithLabel icon={icon} strings={splitItem} />;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport get from \"lodash/get\";\nimport { Box, Grid } from \"@mui/material\";\nimport {\n  AddNewTagIcon,\n  Button,\n  DisabledIcon,\n  EditTagIcon,\n  InputBox,\n  SectionTitle,\n} from \"mds\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { SecureComponent } from \"../../../../../../common/SecureComponent\";\nimport Chip from \"@mui/material/Chip\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport {\n  selDistSet,\n  setModalErrorSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { BucketObject } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport { encodeURLString } from \"common/utils\";\nimport { useSelector } from \"react-redux\";\n\ninterface ITagModal {\n  modalOpen: boolean;\n  bucketName: string;\n  actualInfo: BucketObject;\n  onCloseAndUpdate: (refresh: boolean) => void;\n  classes: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    newTileHeader: {\n      fontSize: 18,\n      fontWeight: \"bold\",\n      color: \"#000\",\n      margin: \"35px 0\",\n      paddingBottom: 15,\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& > svg\": {\n        marginRight: 10,\n      },\n    },\n    tagsForLabel: {\n      fontSize: 16,\n      margin: \"20px 0 30px\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      width: \"100%\",\n    },\n    currentTagsContainer: {\n      fontSize: 14,\n      fontWeight: \"normal\",\n    },\n    noTagsForObject: {\n      color: \"#858585\",\n    },\n    deleteTag: {\n      color: \"#C83B51\",\n      marginLeft: 5,\n    },\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\nconst AddTagModal = ({\n  modalOpen,\n  onCloseAndUpdate,\n  bucketName,\n  actualInfo,\n  classes,\n}: ITagModal) => {\n  const dispatch = useAppDispatch();\n  const distributedSetup = useSelector(selDistSet);\n  const [newKey, setNewKey] = useState<string>(\"\");\n  const [newLabel, setNewLabel] = useState<string>(\"\");\n  const [isSending, setIsSending] = useState<boolean>(false);\n  const [deleteEnabled, setDeleteEnabled] = useState<boolean>(false);\n  const [deleteKey, setDeleteKey] = useState<string>(\"\");\n  const [deleteLabel, setDeleteLabel] = useState<string>(\"\");\n\n  const selectedObject = encodeURLString(actualInfo.name || \"\");\n\n  const currentTags = actualInfo.tags;\n  const currTagKeys = Object.keys(currentTags || {});\n\n  const allPathData = actualInfo.name?.split(\"/\");\n  const currentItem = allPathData?.pop() || \"\";\n\n  const resetForm = () => {\n    setNewLabel(\"\");\n    setNewKey(\"\");\n  };\n\n  const addTagProcess = () => {\n    setIsSending(true);\n    const newTag: any = {};\n\n    newTag[newKey] = newLabel;\n    const newTagList = { ...currentTags, ...newTag };\n\n    const verID = distributedSetup ? actualInfo.version_id || \"\" : \"null\";\n\n    api.buckets\n      .putObjectTags(\n        bucketName,\n        { prefix: selectedObject, version_id: verID },\n        { tags: newTagList },\n      )\n      .then(() => {\n        onCloseAndUpdate(true);\n        setIsSending(false);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSending(false);\n      });\n  };\n\n  const deleteTagProcess = () => {\n    const cleanObject: any = { ...currentTags };\n    delete cleanObject[deleteKey];\n\n    const verID = distributedSetup ? actualInfo.version_id || \"\" : \"null\";\n\n    api.buckets\n      .putObjectTags(\n        bucketName,\n        { prefix: selectedObject, version_id: verID },\n        { tags: cleanObject },\n      )\n      .then(() => {\n        onCloseAndUpdate(true);\n        setIsSending(false);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSending(false);\n      });\n  };\n\n  const onDeleteTag = (tagKey: string, tag: string) => {\n    setDeleteKey(tagKey);\n    setDeleteLabel(tag);\n    setDeleteEnabled(true);\n  };\n\n  const cancelDelete = () => {\n    setDeleteKey(\"\");\n    setDeleteLabel(\"\");\n    setDeleteEnabled(false);\n  };\n\n  const tagsFor = (plural: boolean) => (\n    <div className={classes.tagsForLabel}>\n      Tag{plural ? \"s\" : \"\"} for: <strong>{currentItem}</strong>\n    </div>\n  );\n\n  return (\n    <Fragment>\n      <ModalWrapper\n        modalOpen={modalOpen}\n        title={deleteEnabled ? \"Delete Tag\" : `Edit Tags`}\n        onClose={() => {\n          onCloseAndUpdate(true);\n        }}\n        titleIcon={\n          deleteEnabled ? (\n            <DisabledIcon style={{ fill: \"#C83B51\" }} />\n          ) : (\n            <EditTagIcon />\n          )\n        }\n      >\n        {deleteEnabled ? (\n          <Fragment>\n            <Grid container>\n              {tagsFor(false)}\n              Are you sure you want to delete the tag{\" \"}\n              <b className={classes.deleteTag}>\n                {deleteKey} : {deleteLabel}\n              </b>{\" \"}\n              ?\n              <Grid item xs={12} className={classes.modalButtonBar}>\n                <Button\n                  id={\"cancel\"}\n                  type=\"button\"\n                  variant=\"regular\"\n                  onClick={cancelDelete}\n                  label={\"Cancel\"}\n                />\n                <Button\n                  type=\"submit\"\n                  variant=\"secondary\"\n                  onClick={deleteTagProcess}\n                  id={\"deleteTag\"}\n                  label={\"Delete Tag\"}\n                />\n              </Grid>\n            </Grid>\n          </Fragment>\n        ) : (\n          <Grid container>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_TAGGING,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Box\n                sx={{\n                  display: \"flex\",\n                  flexFlow: \"column\",\n                  width: \"100%\",\n                }}\n              >\n                {tagsFor(true)}\n                <div className={classes.currentTagsContainer}>\n                  Current Tags:\n                  <br />\n                  {currTagKeys.length === 0 ? (\n                    <span className={classes.noTagsForObject}>\n                      There are no tags for this object\n                    </span>\n                  ) : (\n                    <Fragment />\n                  )}\n                  <Box sx={{ marginTop: \"5px\", marginBottom: \"15px\" }}>\n                    {currTagKeys.map((tagKey: string, index: number) => {\n                      const tag = get(currentTags, `${tagKey}`, \"\");\n                      if (tag !== \"\") {\n                        return (\n                          <SecureComponent\n                            key={`chip-${index}`}\n                            scopes={[IAM_SCOPES.S3_DELETE_OBJECT_TAGGING]}\n                            resource={bucketName}\n                            errorProps={{\n                              deleteIcon: null,\n                              onDelete: null,\n                            }}\n                          >\n                            <Chip\n                              style={{\n                                textTransform: \"none\",\n                                marginRight: \"5px\",\n                                marginBottom: \"5px\",\n                              }}\n                              size=\"small\"\n                              label={`${tagKey} : ${tag}`}\n                              color=\"primary\"\n                              deleteIcon={<CloseIcon />}\n                              onDelete={() => {\n                                onDeleteTag(tagKey, tag);\n                              }}\n                            />\n                          </SecureComponent>\n                        );\n                      }\n                      return null;\n                    })}\n                  </Box>\n                </div>\n              </Box>\n            </SecureComponent>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n                IAM_SCOPES.S3_PUT_ACTIONS,\n              ]}\n              resource={bucketName}\n              errorProps={{ disabled: true, onClick: null }}\n            >\n              <Grid container>\n                <SectionTitle icon={<AddNewTagIcon />} separator={false}>\n                  Add New Tag\n                </SectionTitle>\n                <Grid item xs={12} className={classes.formFieldRow}>\n                  <InputBox\n                    value={newKey}\n                    label={\"Tag Key\"}\n                    id={\"newTagKey\"}\n                    name={\"newTagKey\"}\n                    placeholder={\"Enter Tag Key\"}\n                    onChange={(e) => {\n                      setNewKey(e.target.value);\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12} className={classes.formFieldRow}>\n                  <InputBox\n                    value={newLabel}\n                    label={\"Tag Label\"}\n                    id={\"newTagLabel\"}\n                    name={\"newTagLabel\"}\n                    placeholder={\"Enter Tag Label\"}\n                    onChange={(e) => {\n                      setNewLabel(e.target.value);\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12} className={classes.modalButtonBar}>\n                  <Button\n                    id={\"clear\"}\n                    type=\"button\"\n                    variant=\"regular\"\n                    color=\"primary\"\n                    onClick={resetForm}\n                    label={\"Clear\"}\n                  />\n                  <Button\n                    type=\"submit\"\n                    variant=\"callAction\"\n                    disabled={\n                      newLabel.trim() === \"\" ||\n                      newKey.trim() === \"\" ||\n                      isSending\n                    }\n                    onClick={addTagProcess}\n                    id=\"saveTag\"\n                    label={\"Save\"}\n                  />\n                </Grid>\n              </Grid>\n            </SecureComponent>\n          </Grid>\n        )}\n      </ModalWrapper>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(AddTagModal);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport {\n  Button,\n  InspectMenuIcon,\n  PasswordKeyIcon,\n  Switch,\n  Grid,\n  Box,\n} from \"mds\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  decodeURLString,\n  deleteCookie,\n  encodeURLString,\n  getCookieValue,\n  performDownload,\n} from \"../../../../../../common/utils\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { DialogContentText } from \"@mui/material\";\nimport KeyRevealer from \"../../../../Tools/KeyRevealer\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface IInspectObjectProps {\n  classes: any;\n  closeInspectModalAndRefresh: (refresh: boolean) => void;\n  inspectOpen: boolean;\n  inspectPath: string;\n  volumeName: string;\n}\n\nconst InspectObject = ({\n  classes,\n  closeInspectModalAndRefresh,\n  inspectOpen,\n  inspectPath,\n  volumeName,\n}: IInspectObjectProps) => {\n  const dispatch = useAppDispatch();\n  const onClose = () => closeInspectModalAndRefresh(false);\n  const [isEncrypt, setIsEncrypt] = useState<boolean>(true);\n  const [decryptionKey, setDecryptionKey] = useState<string>(\"\");\n  const [insFileName, setInsFileName] = useState<string>(\"\");\n\n  if (!inspectPath) {\n    return null;\n  }\n  const makeRequest = async (url: string) => {\n    return await fetch(url, { method: \"GET\" });\n  };\n\n  const performInspect = async () => {\n    const file = encodeURLString(inspectPath + \"/xl.meta\");\n    const volume = encodeURLString(volumeName);\n\n    const urlOfInspectApi = `/api/v1/admin/inspect?volume=${volume}&file=${file}&encrypt=${isEncrypt}`;\n\n    makeRequest(urlOfInspectApi)\n      .then(async (res) => {\n        if (!res.ok) {\n          const resErr: any = await res.json();\n\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: resErr.message,\n              detailedError: resErr.code,\n            }),\n          );\n        }\n        const blob: Blob = await res.blob();\n\n        //@ts-ignore\n        const filename = res.headers.get(\"content-disposition\").split('\"')[1];\n        const decryptKey = getCookieValue(filename) || \"\";\n\n        performDownload(blob, filename);\n        setInsFileName(filename);\n        if (decryptKey === \"\") {\n          onClose();\n          return;\n        }\n        setDecryptionKey(decryptKey);\n      })\n      .catch((err) => {\n        dispatch(setErrorSnackMessage(err));\n      });\n  };\n\n  const onCloseDecKeyModal = () => {\n    deleteCookie(insFileName);\n    onClose();\n    setDecryptionKey(\"\");\n  };\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n  };\n\n  return (\n    <React.Fragment>\n      {!decryptionKey && (\n        <ModalWrapper\n          modalOpen={inspectOpen}\n          titleIcon={<InspectMenuIcon />}\n          title={`Inspect Object`}\n          onClose={onClose}\n        >\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n              onSubmit(e);\n            }}\n          >\n            Would you like to encrypt <b>{decodeURLString(inspectPath)}</b>?{\" \"}\n            <br />\n            <Switch\n              label={\"Encrypt\"}\n              indicatorLabels={[\"Yes\", \"No\"]}\n              checked={isEncrypt}\n              value={\"encrypt\"}\n              id=\"encrypt\"\n              name=\"encrypt\"\n              onChange={(e) => {\n                setIsEncrypt(!isEncrypt);\n              }}\n              description=\"\"\n            />\n            <Grid item xs={12} className={classes.modalButtonBar}>\n              <Button\n                id={\"inspect\"}\n                type=\"submit\"\n                variant=\"callAction\"\n                color=\"primary\"\n                onClick={performInspect}\n                label={\"Inspect\"}\n              />\n            </Grid>\n          </form>\n        </ModalWrapper>\n      )}\n      {decryptionKey ? (\n        <ModalWrapper\n          modalOpen={inspectOpen}\n          title=\"Inspect Decryption Key\"\n          onClose={onCloseDecKeyModal}\n          titleIcon={<PasswordKeyIcon />}\n        >\n          <DialogContentText>\n            <Box>\n              This will be displayed only once. It cannot be recovered.\n              <br />\n              Use secure medium to share this key.\n            </Box>\n            <Box>\n              <KeyRevealer value={decryptionKey} />\n            </Box>\n          </DialogContentText>\n        </ModalWrapper>\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(InspectObject);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { encodeURLString, getClientOS } from \"../../../common/utils\";\nimport { makeid, storeCallForObjectWithID } from \"./transferManager\";\nimport { download } from \"../Buckets/ListBuckets/Objects/utils\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  setLongFileOpen,\n  setNewObject,\n  updateProgress,\n} from \"./objectBrowserSlice\";\nimport { AppDispatch } from \"../../../store\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\nimport { BucketObject } from \"api/consoleApi\";\n\nexport const downloadObject = (\n  dispatch: AppDispatch,\n  bucketName: string,\n  internalPaths: string,\n  object: BucketObject,\n) => {\n  const identityDownload = encodeURLString(\n    `${bucketName}-${object.name}-${new Date().getTime()}-${Math.random()}`,\n  );\n\n  const isWinOs = getClientOS().toLowerCase().includes(\"win\");\n\n  if ((object.name?.length || 0) > 200 && isWinOs) {\n    dispatch(setLongFileOpen(true));\n    return;\n  }\n\n  const ID = makeid(8);\n\n  const downloadCall = download(\n    bucketName,\n    internalPaths,\n    object.version_id,\n    object.size || 0,\n    null,\n    ID,\n    (progress) => {\n      dispatch(\n        updateProgress({\n          instanceID: identityDownload,\n          progress: progress,\n        }),\n      );\n    },\n    () => {\n      dispatch(completeObject(identityDownload));\n    },\n    (msg: string) => {\n      dispatch(failObject({ instanceID: identityDownload, msg }));\n    },\n    () => {\n      dispatch(cancelObjectInList(identityDownload));\n    },\n    () => {\n      dispatch(\n        setSnackBarMessage(\n          \"File download will be handled directly by the browser.\",\n        ),\n      );\n    },\n  );\n\n  storeCallForObjectWithID(ID, downloadCall);\n  dispatch(\n    setNewObject({\n      ID,\n      bucketName,\n      done: false,\n      instanceID: identityDownload,\n      percentage: 0,\n      prefix: object.name || \"\",\n      type: \"download\",\n      waitingForFile: true,\n      failed: false,\n      cancelled: false,\n      errorMessage: \"\",\n    }),\n  );\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { Button, EditIcon } from \"mds\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport {\n  containerForHeader,\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../Common/FormComponents/common/styleLibrary\";\nimport { useAppDispatch } from \"../../../store\";\nimport ModalWrapper from \"../Common/ModalWrapper/ModalWrapper\";\nimport InputBoxWrapper from \"../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport FormSwitchWrapper from \"../Common/FormComponents/FormSwitchWrapper/FormSwitchWrapper\";\nimport { downloadObject } from \"./utils\";\nimport { BucketObject } from \"api/consoleApi\";\n\ninterface IRenameLongFilename {\n  open: boolean;\n  bucketName: string;\n  internalPaths: string;\n  currentItem: string;\n  actualInfo: BucketObject;\n  closeModal: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...modalStyleUtils,\n    ...formFieldStyles,\n    ...spacingUtils,\n    ...containerForHeader,\n  }),\n);\n\nconst RenameLongFileName = ({\n  open,\n  closeModal,\n  currentItem,\n  internalPaths,\n  actualInfo,\n  bucketName,\n}: IRenameLongFilename) => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n\n  const [newFileName, setNewFileName] = useState<string>(currentItem);\n  const [acceptLongName, setAcceptLongName] = useState<boolean>(false);\n\n  const doDownload = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    downloadObject(dispatch, bucketName, internalPaths, actualInfo);\n    closeModal();\n  };\n\n  return (\n    <ModalWrapper\n      title={`Rename Download`}\n      modalOpen={open}\n      onClose={closeModal}\n      titleIcon={<EditIcon />}\n    >\n      <div>\n        The file you are trying to download has a long name.\n        <br />\n        This can cause issues on Windows Systems by trimming the file name after\n        download.\n        <br />\n        <br /> We recommend to rename the file download\n      </div>\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          doDownload(e);\n        }}\n      >\n        <Grid container>\n          <Grid item xs={12} className={classes.modalFormScrollable}>\n            <Grid item xs={12} className={classes.formFieldRow}>\n              <InputBoxWrapper\n                id=\"download-filename\"\n                name=\"download-filename\"\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                  setNewFileName(event.target.value);\n                }}\n                label=\"\"\n                type={\"text\"}\n                value={newFileName}\n                error={\n                  newFileName.length > 200 && !acceptLongName\n                    ? \"Filename should be less than 200 characters long.\"\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.formFieldRow}>\n              <FormSwitchWrapper\n                value=\"acceptLongName\"\n                id=\"acceptLongName\"\n                name=\"acceptLongName\"\n                checked={acceptLongName}\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                  setAcceptLongName(event.target.checked);\n                  if (event.target.checked) {\n                    setNewFileName(currentItem);\n                  }\n                }}\n                label={\"Use Original Name\"}\n              />\n            </Grid>\n          </Grid>\n          <Grid item xs={12} className={classes.modalButtonBar}>\n            <Button\n              id={\"download-file\"}\n              type=\"submit\"\n              variant=\"callAction\"\n              color=\"primary\"\n              disabled={newFileName.length > 200 && !acceptLongName}\n              label={\"Download File\"}\n            />\n          </Grid>\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default RenameLongFileName;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Box } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport {\n  ActionsList,\n  Button,\n  DeleteIcon,\n  DownloadIcon,\n  InspectMenuIcon,\n  LegalHoldIcon,\n  Loader,\n  MetadataIcon,\n  ObjectInfoIcon,\n  PreviewIcon,\n  RetentionIcon,\n  ShareIcon,\n  SimpleHeader,\n  TagsIcon,\n  VersionsIcon,\n} from \"mds\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport get from \"lodash/get\";\nimport Grid from \"@mui/material/Grid\";\nimport {\n  actionsTray,\n  detailsPanel,\n  spacingUtils,\n  textStyleUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { AllowedPreviews, previewObjectType } from \"../utils\";\n\nimport {\n  decodeURLString,\n  niceBytes,\n  niceBytesInt,\n  niceDaysInt,\n} from \"../../../../../../common/utils\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport ShareFile from \"../ObjectDetails/ShareFile\";\nimport SetRetention from \"../ObjectDetails/SetRetention\";\nimport DeleteObject from \"../ListObjects/DeleteObject\";\nimport SetLegalHoldModal from \"../ObjectDetails/SetLegalHoldModal\";\nimport {\n  hasPermission,\n  SecureComponent,\n} from \"../../../../../../common/SecureComponent\";\nimport PreviewFileModal from \"../Preview/PreviewFileModal\";\nimport ObjectMetaData from \"../ObjectDetails/ObjectMetaData\";\nimport { displayFileIconName } from \"./utils\";\nimport TagsModal from \"../ObjectDetails/TagsModal\";\nimport InspectObject from \"./InspectObject\";\nimport { selDistSet } from \"../../../../../../systemSlice\";\nimport {\n  setLoadingObjectInfo,\n  setLoadingVersions,\n  setSelectedVersion,\n  setVersionsModeEnabled,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport RenameLongFileName from \"../../../../ObjectBrowser/RenameLongFilename\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\nimport { BucketObject, BucketVersioningResponse } from \"api/consoleApi\";\nimport { api } from \"api\";\n\nconst styles = () =>\n  createStyles({\n    ObjectDetailsTitle: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& .min-icon\": {\n        width: 26,\n        height: 26,\n        minWidth: 26,\n        minHeight: 26,\n      },\n    },\n    objectNameContainer: {\n      whiteSpace: \"nowrap\",\n      textOverflow: \"ellipsis\",\n      overflow: \"hidden\",\n      alignItems: \"center\",\n      marginLeft: 10,\n    },\n    capitalizeFirst: {\n      textTransform: \"capitalize\",\n    },\n\n    ...actionsTray,\n    ...spacingUtils,\n    ...textStyleUtils,\n    ...detailsPanel,\n  });\n\nconst emptyFile: BucketObject = {\n  is_latest: true,\n  last_modified: \"\",\n  legal_hold_status: \"\",\n  name: \"\",\n  retention_mode: \"\",\n  retention_until_date: \"\",\n  size: 0,\n  tags: {},\n  version_id: undefined,\n};\n\ninterface IObjectDetailPanelProps {\n  classes: any;\n  internalPaths: string;\n  bucketName: string;\n  versioningInfo: BucketVersioningResponse;\n  locking: boolean | undefined;\n  onClosePanel: (hardRefresh: boolean) => void;\n}\n\nconst ObjectDetailPanel = ({\n  classes,\n  internalPaths,\n  bucketName,\n  versioningInfo,\n  locking,\n  onClosePanel,\n}: IObjectDetailPanelProps) => {\n  const dispatch = useAppDispatch();\n\n  const distributedSetup = useSelector(selDistSet);\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode,\n  );\n  const selectedVersion = useSelector(\n    (state: AppState) => state.objectBrowser.selectedVersion,\n  );\n  const loadingObjectInfo = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjectInfo,\n  );\n\n  const [shareFileModalOpen, setShareFileModalOpen] = useState<boolean>(false);\n  const [retentionModalOpen, setRetentionModalOpen] = useState<boolean>(false);\n  const [tagModalOpen, setTagModalOpen] = useState<boolean>(false);\n  const [legalholdOpen, setLegalholdOpen] = useState<boolean>(false);\n  const [inspectModalOpen, setInspectModalOpen] = useState<boolean>(false);\n  const [actualInfo, setActualInfo] = useState<BucketObject | null>(null);\n  const [allInfoElements, setAllInfoElements] = useState<BucketObject[]>([]);\n  const [objectToShare, setObjectToShare] = useState<BucketObject | null>(null);\n  const [versions, setVersions] = useState<BucketObject[]>([]);\n  const [deleteOpen, setDeleteOpen] = useState<boolean>(false);\n  const [previewOpen, setPreviewOpen] = useState<boolean>(false);\n  const [totalVersionsSize, setTotalVersionsSize] = useState<number>(0);\n  const [longFileOpen, setLongFileOpen] = useState<boolean>(false);\n  const [metaData, setMetaData] = useState<any | null>(null);\n  const [loadMetadata, setLoadingMetadata] = useState<boolean>(false);\n\n  const internalPathsDecoded = decodeURLString(internalPaths) || \"\";\n  const allPathData = internalPathsDecoded.split(\"/\");\n  const currentItem = allPathData.pop() || \"\";\n\n  // calculate object name to display\n  let objectNameArray: string[] = [];\n  if (actualInfo && actualInfo.name) {\n    objectNameArray = actualInfo.name.split(\"/\");\n  }\n\n  useEffect(() => {\n    if (distributedSetup && allInfoElements && allInfoElements.length >= 1) {\n      let infoElement =\n        allInfoElements.find((el: BucketObject) => el.is_latest) || emptyFile;\n\n      if (selectedVersion !== \"\") {\n        infoElement =\n          allInfoElements.find(\n            (el: BucketObject) => el.version_id === selectedVersion,\n          ) || emptyFile;\n      }\n\n      if (!infoElement.is_delete_marker) {\n        setLoadingMetadata(true);\n      }\n\n      setActualInfo(infoElement);\n    }\n  }, [selectedVersion, distributedSetup, allInfoElements]);\n\n  useEffect(() => {\n    if (loadingObjectInfo && internalPaths !== \"\") {\n      api.buckets\n        .listObjects(bucketName, {\n          prefix: internalPaths,\n          with_versions: distributedSetup,\n        })\n        .then((res) => {\n          const result: BucketObject[] = res.data.objects || [];\n          if (distributedSetup) {\n            setAllInfoElements(result);\n            setVersions(result);\n\n            const tVersionSize = result.reduce(\n              (acc: number, currValue: BucketObject): number => {\n                if (currValue?.size) {\n                  return acc + currValue.size;\n                }\n                return acc;\n              },\n              0,\n            );\n\n            setTotalVersionsSize(tVersionSize);\n          } else {\n            const resInfo = result[0];\n\n            setActualInfo(resInfo);\n            setVersions([]);\n\n            if (!resInfo.is_delete_marker) {\n              setLoadingMetadata(true);\n            }\n          }\n\n          dispatch(setLoadingObjectInfo(false));\n        })\n        .catch((err) => {\n          console.error(\"Error loading object details\", err.error);\n          dispatch(setLoadingObjectInfo(false));\n        });\n    }\n  }, [\n    loadingObjectInfo,\n    bucketName,\n    internalPaths,\n    dispatch,\n    distributedSetup,\n    selectedVersion,\n  ]);\n\n  useEffect(() => {\n    if (loadMetadata && internalPaths !== \"\") {\n      api.buckets\n        .getObjectMetadata(bucketName, {\n          prefix: internalPaths,\n        })\n        .then((res) => {\n          let metadata = get(res.data, \"objectMetadata\", {});\n\n          setMetaData(metadata);\n          setLoadingMetadata(false);\n        })\n        .catch((err) => {\n          console.error(\"Error Getting Metadata Status: \", err.detailedError);\n          setLoadingMetadata(false);\n        });\n    }\n  }, [bucketName, internalPaths, loadMetadata]);\n\n  let tagKeys: string[] = [];\n\n  if (actualInfo && actualInfo.tags) {\n    tagKeys = Object.keys(actualInfo.tags);\n  }\n\n  const openRetentionModal = () => {\n    setRetentionModalOpen(true);\n  };\n\n  const closeRetentionModal = (updateInfo: boolean) => {\n    setRetentionModalOpen(false);\n    if (updateInfo) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const shareObject = () => {\n    setShareFileModalOpen(true);\n  };\n\n  const closeShareModal = () => {\n    setObjectToShare(null);\n    setShareFileModalOpen(false);\n  };\n\n  const closeFileOpen = () => {\n    setLongFileOpen(false);\n  };\n\n  const closeDeleteModal = (closeAndReload: boolean) => {\n    setDeleteOpen(false);\n\n    if (closeAndReload && selectedVersion === \"\") {\n      onClosePanel(true);\n    } else {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeAddTagModal = (reloadObjectData: boolean) => {\n    setTagModalOpen(false);\n    if (reloadObjectData) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeInspectModal = (reloadObjectData: boolean) => {\n    setInspectModalOpen(false);\n    if (reloadObjectData) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeLegalholdModal = (reload: boolean) => {\n    setLegalholdOpen(false);\n    if (reload) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const loaderForContainer = (\n    <div style={{ textAlign: \"center\", marginTop: 35 }}>\n      <Loader />\n    </div>\n  );\n\n  if (!actualInfo) {\n    if (loadingObjectInfo) {\n      return loaderForContainer;\n    }\n\n    return null;\n  }\n\n  const objectName =\n    objectNameArray.length > 0\n      ? objectNameArray[objectNameArray.length - 1]\n      : actualInfo.name;\n\n  const objectResources = [\n    bucketName,\n    currentItem,\n    [bucketName, actualInfo.name].join(\"/\"),\n  ];\n  const canSetLegalHold = hasPermission(bucketName, [\n    IAM_SCOPES.S3_PUT_OBJECT_LEGAL_HOLD,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n  const canSetTags = hasPermission(objectResources, [\n    IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const canChangeRetention = hasPermission(\n    objectResources,\n    [\n      IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n      IAM_SCOPES.S3_PUT_OBJECT_RETENTION,\n      IAM_SCOPES.S3_GET_ACTIONS,\n      IAM_SCOPES.S3_PUT_ACTIONS,\n    ],\n    true,\n  );\n  const canInspect = hasPermission(objectResources, [\n    IAM_SCOPES.ADMIN_INSPECT_DATA,\n  ]);\n  const canChangeVersioning = hasPermission(objectResources, [\n    IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_GET_OBJECT_VERSION,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n  const canGetObject = hasPermission(objectResources, [\n    IAM_SCOPES.S3_GET_OBJECT,\n    IAM_SCOPES.S3_GET_ACTIONS,\n  ]);\n  const canDelete = hasPermission(\n    [bucketName, currentItem, [bucketName, actualInfo.name].join(\"/\")],\n    [IAM_SCOPES.S3_DELETE_OBJECT],\n  );\n\n  let objectType: AllowedPreviews = previewObjectType(metaData, currentItem);\n\n  const multiActionButtons = [\n    {\n      action: () => {\n        downloadObject(dispatch, bucketName, internalPaths, actualInfo);\n      },\n      label: \"Download\",\n      disabled: !!actualInfo.is_delete_marker || !canGetObject,\n      icon: <DownloadIcon />,\n      tooltip: canGetObject\n        ? \"Download this Object\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"download this object\",\n          ),\n    },\n    {\n      action: () => {\n        shareObject();\n      },\n      label: \"Share\",\n      disabled: !!actualInfo.is_delete_marker || !canGetObject,\n      icon: <ShareIcon />,\n      tooltip: canGetObject\n        ? \"Share this File\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"share this object\",\n          ),\n    },\n    {\n      action: () => {\n        setPreviewOpen(true);\n      },\n      label: \"Preview\",\n      disabled:\n        !!actualInfo.is_delete_marker ||\n        (objectType === \"none\" && !canGetObject),\n      icon: <PreviewIcon />,\n      tooltip: canGetObject\n        ? \"Preview this File\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"preview this object\",\n          ),\n    },\n    {\n      action: () => {\n        setLegalholdOpen(true);\n      },\n      label: \"Legal Hold\",\n      disabled:\n        !locking ||\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        !canSetLegalHold ||\n        selectedVersion !== \"\",\n      icon: <LegalHoldIcon />,\n      tooltip: canSetLegalHold\n        ? locking\n          ? \"Change Legal Hold rules for this File\"\n          : \"Object Locking must be enabled on this bucket in order to set Legal Hold\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_PUT_OBJECT_LEGAL_HOLD, IAM_SCOPES.S3_PUT_ACTIONS],\n            \"change legal hold settings for this object\",\n          ),\n    },\n    {\n      action: openRetentionModal,\n      label: \"Retention\",\n      disabled:\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        !canChangeRetention ||\n        selectedVersion !== \"\" ||\n        !locking,\n      icon: <RetentionIcon />,\n      tooltip: canChangeRetention\n        ? locking\n          ? \"Change Retention rules for this File\"\n          : \"Object Locking must be enabled on this bucket in order to set Retention Rules\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n              IAM_SCOPES.S3_PUT_OBJECT_RETENTION,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"change Retention Rules for this object\",\n          ),\n    },\n    {\n      action: () => {\n        setTagModalOpen(true);\n      },\n      label: \"Tags\",\n      disabled:\n        !!actualInfo.is_delete_marker || selectedVersion !== \"\" || !canSetTags,\n      icon: <TagsIcon />,\n      tooltip: canSetTags\n        ? \"Change Tags for this File\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n              IAM_SCOPES.S3_GET_OBJECT_TAGGING,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"set Tags on this object\",\n          ),\n    },\n    {\n      action: () => {\n        setInspectModalOpen(true);\n      },\n      label: \"Inspect\",\n      disabled:\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        selectedVersion !== \"\" ||\n        !canInspect,\n      icon: <InspectMenuIcon />,\n      tooltip: canInspect\n        ? \"Inspect this file\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.ADMIN_INSPECT_DATA],\n            \"inspect this file\",\n          ),\n    },\n    {\n      action: () => {\n        dispatch(\n          setVersionsModeEnabled({\n            status: !versionsMode,\n            objectName: objectName,\n          }),\n        );\n      },\n      label: versionsMode ? \"Hide Object Versions\" : \"Display Object Versions\",\n      icon: <VersionsIcon />,\n      disabled:\n        !distributedSetup ||\n        !(actualInfo.version_id && actualInfo.version_id !== \"null\") ||\n        !canChangeVersioning,\n      tooltip: canChangeVersioning\n        ? actualInfo.version_id && actualInfo.version_id !== \"null\"\n          ? \"Display Versions for this file\"\n          : \"\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n              IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n              IAM_SCOPES.S3_GET_OBJECT_VERSION,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"display all versions of this object\",\n          ),\n    },\n  ];\n\n  const calculateLastModifyTime = (lastModified: string) => {\n    const currentTime = new Date();\n    const modifiedTime = new Date(lastModified);\n\n    const difTime = currentTime.getTime() - modifiedTime.getTime();\n\n    const formatTime = niceDaysInt(difTime, \"ms\");\n\n    return formatTime.trim() !== \"\" ? `${formatTime} ago` : \"Just now\";\n  };\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && actualInfo && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={objectToShare || actualInfo}\n        />\n      )}\n      {retentionModalOpen && actualInfo && (\n        <SetRetention\n          open={retentionModalOpen}\n          closeModalAndRefresh={closeRetentionModal}\n          objectName={currentItem}\n          objectInfo={actualInfo}\n          bucketName={bucketName}\n        />\n      )}\n      {deleteOpen && (\n        <DeleteObject\n          deleteOpen={deleteOpen}\n          selectedBucket={bucketName}\n          selectedObject={internalPaths}\n          closeDeleteModalAndRefresh={closeDeleteModal}\n          versioningInfo={distributedSetup ? versioningInfo : undefined}\n          selectedVersion={selectedVersion}\n        />\n      )}\n      {legalholdOpen && actualInfo && (\n        <SetLegalHoldModal\n          open={legalholdOpen}\n          closeModalAndRefresh={closeLegalholdModal}\n          objectName={actualInfo.name || \"\"}\n          bucketName={bucketName}\n          actualInfo={actualInfo}\n        />\n      )}\n      {previewOpen && actualInfo && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={{\n            name: actualInfo.name || \"\",\n            version_id: actualInfo.version_id || \"null\",\n            size: actualInfo.size || 0,\n            content_type: \"\",\n            last_modified: actualInfo.last_modified || \"\",\n          }}\n          onClosePreview={() => {\n            setPreviewOpen(false);\n          }}\n        />\n      )}\n      {tagModalOpen && actualInfo && (\n        <TagsModal\n          modalOpen={tagModalOpen}\n          bucketName={bucketName}\n          actualInfo={actualInfo}\n          onCloseAndUpdate={closeAddTagModal}\n        />\n      )}\n      {inspectModalOpen && actualInfo && (\n        <InspectObject\n          inspectOpen={inspectModalOpen}\n          volumeName={bucketName}\n          inspectPath={actualInfo.name || \"\"}\n          closeInspectModalAndRefresh={closeInspectModal}\n        />\n      )}\n      {longFileOpen && actualInfo && (\n        <RenameLongFileName\n          open={longFileOpen}\n          closeModal={closeFileOpen}\n          currentItem={currentItem}\n          bucketName={bucketName}\n          internalPaths={internalPaths}\n          actualInfo={actualInfo}\n        />\n      )}\n\n      {loadingObjectInfo ? (\n        <Fragment>{loaderForContainer}</Fragment>\n      ) : (\n        <Fragment>\n          <ActionsList\n            title={\n              <div className={classes.ObjectDetailsTitle}>\n                {displayFileIconName(objectName || \"\", true)}\n                <span className={classes.objectNameContainer}>\n                  {objectName}\n                </span>\n              </div>\n            }\n            items={multiActionButtons}\n          />\n          <TooltipWrapper\n            tooltip={\n              canDelete\n                ? \"\"\n                : permissionTooltipHelper(\n                    [IAM_SCOPES.S3_DELETE_OBJECT],\n                    \"delete this object\",\n                  )\n            }\n          >\n            <Grid\n              item\n              xs={12}\n              sx={{ justifyContent: \"center\", display: \"flex\" }}\n            >\n              <SecureComponent\n                resource={[\n                  bucketName,\n                  currentItem,\n                  [bucketName, actualInfo.name].join(\"/\"),\n                ]}\n                scopes={[IAM_SCOPES.S3_DELETE_OBJECT]}\n                errorProps={{ disabled: true }}\n              >\n                <Button\n                  id={\"delete-element-click\"}\n                  icon={<DeleteIcon />}\n                  iconLocation={\"start\"}\n                  fullWidth\n                  variant={\"secondary\"}\n                  onClick={() => {\n                    setDeleteOpen(true);\n                  }}\n                  disabled={\n                    selectedVersion === \"\" && actualInfo.is_delete_marker\n                  }\n                  sx={{\n                    width: \"calc(100% - 44px)\",\n                    margin: \"8px 0\",\n                  }}\n                  label={`Delete${selectedVersion !== \"\" ? \" version\" : \"\"}`}\n                />\n              </SecureComponent>\n            </Grid>\n          </TooltipWrapper>\n          <SimpleHeader icon={<ObjectInfoIcon />} label={\"Object Info\"} />\n          <Box className={classes.detailContainer}>\n            <strong>Name:</strong>\n            <br />\n            <div style={{ overflowWrap: \"break-word\" }}>{objectName}</div>\n          </Box>\n          {selectedVersion !== \"\" && (\n            <Box className={classes.detailContainer}>\n              <strong>Version ID:</strong>\n              <br />\n              {selectedVersion}\n            </Box>\n          )}\n          <Box className={classes.detailContainer}>\n            <strong>Size:</strong>\n            <br />\n            {niceBytes(`${actualInfo.size || \"0\"}`)}\n          </Box>\n          {actualInfo.version_id &&\n            actualInfo.version_id !== \"null\" &&\n            selectedVersion === \"\" && (\n              <Box className={classes.detailContainer}>\n                <strong>Versions:</strong>\n                <br />\n                {versions.length} version{versions.length !== 1 ? \"s\" : \"\"},{\" \"}\n                {niceBytesInt(totalVersionsSize)}\n              </Box>\n            )}\n          {selectedVersion === \"\" && (\n            <Box className={classes.detailContainer}>\n              <strong>Last Modified:</strong>\n              <br />\n              {calculateLastModifyTime(actualInfo.last_modified || \"\")}\n            </Box>\n          )}\n          <Box className={classes.detailContainer}>\n            <strong>ETAG:</strong>\n            <br />\n            {actualInfo.etag || \"N/A\"}\n          </Box>\n          <Box className={classes.detailContainer}>\n            <strong>Tags:</strong>\n            <br />\n            {tagKeys.length === 0\n              ? \"N/A\"\n              : tagKeys.map((tagKey, index) => {\n                  return (\n                    <span key={`key-vs-${index.toString()}`}>\n                      {tagKey}:{get(actualInfo, `tags.${tagKey}`, \"\")}\n                      {index < tagKeys.length - 1 ? \", \" : \"\"}\n                    </span>\n                  );\n                })}\n          </Box>\n          <Box className={classes.detailContainer}>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_LEGAL_HOLD,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Fragment>\n                <strong>Legal Hold:</strong>\n                <br />\n                {actualInfo.legal_hold_status ? \"On\" : \"Off\"}\n              </Fragment>\n            </SecureComponent>\n          </Box>\n          <Box className={classes.detailContainer}>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Fragment>\n                <strong>Retention Policy:</strong>\n                <br />\n                <span className={classes.capitalizeFirst}>\n                  {actualInfo.version_id && actualInfo.version_id !== \"null\" ? (\n                    <Fragment>\n                      {actualInfo.retention_mode\n                        ? actualInfo.retention_mode.toLowerCase()\n                        : \"None\"}\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      {actualInfo.retention_mode\n                        ? actualInfo.retention_mode.toLowerCase()\n                        : \"None\"}\n                    </Fragment>\n                  )}\n                </span>\n              </Fragment>\n            </SecureComponent>\n          </Box>\n          {!actualInfo.is_delete_marker && (\n            <Fragment>\n              <SimpleHeader label={\"Metadata\"} icon={<MetadataIcon />} />\n              <Box className={classes.detailContainer}>\n                {actualInfo && metaData ? (\n                  <ObjectMetaData metaData={metaData} linear />\n                ) : null}\n              </Box>\n            </Fragment>\n          )}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(ObjectDetailPanel);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { modalBasic } from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport { Box, RecoverIcon } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { restoreLocalObjectList } from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport { BucketObject } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IRestoreFileVersion {\n  classes: any;\n  restoreOpen: boolean;\n  bucketName: string;\n  versionToRestore: BucketObject;\n  objectPath: string;\n  onCloseAndUpdate: (refresh: boolean) => void;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...modalBasic,\n  });\n\nconst RestoreFileVersion = ({\n  classes,\n  versionToRestore,\n  bucketName,\n  objectPath,\n  restoreOpen,\n  onCloseAndUpdate,\n}: IRestoreFileVersion) => {\n  const dispatch = useAppDispatch();\n  const [restoreLoading, setRestoreLoading] = useState<boolean>(false);\n\n  const restoreVersion = () => {\n    setRestoreLoading(true);\n\n    api.buckets\n      .putObjectRestore(bucketName, {\n        prefix: encodeURLString(objectPath),\n        version_id: versionToRestore.version_id || \"\",\n      })\n      .then(() => {\n        setRestoreLoading(false);\n        onCloseAndUpdate(true);\n        dispatch(\n          restoreLocalObjectList({\n            prefix: objectPath,\n            objectInfo: versionToRestore,\n          }),\n        );\n      })\n      .catch((err) => {\n        dispatch(setErrorSnackMessage(errorToHandler(err.error)));\n        setRestoreLoading(false);\n      });\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Restore File Version`}\n      confirmText={\"Restore\"}\n      isOpen={restoreOpen}\n      isLoading={restoreLoading}\n      titleIcon={<RecoverIcon />}\n      onConfirm={restoreVersion}\n      confirmButtonProps={{\n        variant: \"secondary\",\n        disabled: restoreLoading,\n      }}\n      onClose={() => {\n        onCloseAndUpdate(false);\n      }}\n      confirmationContent={\n        <Box id=\"alert-dialog-description\">\n          Are you sure you want to restore <br />\n          <b>{objectPath}</b> <br /> with Version ID:\n          <br />\n          <b className={classes.wrapText}>{versionToRestore.version_id}</b>?\n        </Box>\n      }\n    />\n  );\n};\n\nexport default withStyles(styles)(RestoreFileVersion);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\n\ninterface ISpecificVersionPillProps {\n  type: \"null\" | \"current\" | \"deleted\";\n}\n\nconst SpecificVersionPill = ({ type }: ISpecificVersionPillProps) => {\n  let bgColor = \"#000\";\n  let message = \"\";\n\n  switch (type) {\n    case \"null\":\n      bgColor = \"#07193E\";\n      message = \"NULL VERSION\";\n      break;\n    case \"deleted\":\n      bgColor = \"#868686\";\n      message = \"DELETED\";\n      break;\n    default:\n      bgColor = \"#174551\";\n      message = \"CURRENT VERSION\";\n  }\n\n  return (\n    <span\n      style={{\n        backgroundColor: bgColor,\n        padding: \"0 5px\",\n        display: \"inline-block\",\n        color: \"#FFF\",\n        fontWeight: \"bold\",\n        fontSize: 12,\n        borderRadius: 2,\n        whiteSpace: \"nowrap\",\n        margin: \"0 10px\",\n      }}\n    >\n      {message}\n    </span>\n  );\n};\n\nexport default SpecificVersionPill;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { DateTime } from \"luxon\";\nimport styled from \"styled-components\";\nimport get from \"lodash/get\";\nimport { displayFileIconName } from \"../ListObjects/utils\";\nimport {\n  DownloadIcon,\n  PreviewIcon,\n  RecoverIcon,\n  ShareIcon,\n  IconButton,\n  Tooltip,\n  Grid,\n} from \"mds\";\nimport { niceBytes } from \"../../../../../../common/utils\";\nimport SpecificVersionPill from \"./SpecificVersionPill\";\nimport CheckboxWrapper from \"../../../../Common/FormComponents/CheckboxWrapper/CheckboxWrapper\";\nimport { BucketObject } from \"api/consoleApi\";\n\ninterface IFileVersionItem {\n  fileName: string;\n  versionInfo: BucketObject;\n  index: number;\n  isSelected?: boolean;\n  checkable: boolean;\n  isChecked: boolean;\n  onCheck: (versionID: string) => void;\n  onShare: (versionInfo: BucketObject) => void;\n  onDownload: (versionInfo: BucketObject) => void;\n  onRestore: (versionInfo: BucketObject) => void;\n  onPreview: (versionInfo: BucketObject) => void;\n  globalClick: (versionInfo: BucketObject) => void;\n  key: any;\n  style: any;\n}\n\nconst FileVersionStyled = styled.div(({ theme }) => {\n  return {\n    \"&:before\": {\n      content: \"' '\",\n      display: \"block\",\n      position: \"absolute\",\n      width: \"2px\",\n      height: \"calc(100% + 2px)\",\n      backgroundColor: get(theme, \"borderColor\", \"#F8F8F8\"),\n      left: \"24px\",\n    },\n    \"& .mainFileVersionItem\": {\n      borderBottom: `${get(theme, \"borderColor\", \"#F8F8F8\")} 1px solid`,\n      padding: \"1rem 0\",\n      margin: \"0 0.5rem 0 2.5rem\",\n      cursor: \"pointer\",\n      \"&.deleted\": {\n        color: \"#868686\",\n      },\n    },\n    \"& .intermediateLayer\": {\n      margin: \"0 1.5rem 0 1.5rem\",\n      \"&:hover, &.selected\": {\n        backgroundColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n        \"& > div\": {\n          borderBottomColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n        },\n      },\n    },\n    \"& .versionContainer\": {\n      fontSize: 16,\n      fontWeight: \"bold\",\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& svg.min-icon\": {\n        width: 18,\n        height: 18,\n        minWidth: 18,\n        minHeight: 18,\n        marginRight: 10,\n      },\n    },\n    \"& .buttonContainer\": {\n      textAlign: \"right\",\n      \"& button\": {\n        marginLeft: \"1.5rem\",\n      },\n    },\n    \"& .versionID\": {\n      fontSize: \"12px\",\n      margin: \"2px 0\",\n      whiteSpace: \"nowrap\",\n      textOverflow: \"ellipsis\",\n      maxWidth: \"95%\",\n      overflow: \"hidden\",\n    },\n    \"& .versionData\": {\n      marginRight: \"10px\",\n      fontSize: 12,\n      color: \"#868686\",\n    },\n    \"@media (max-width: 600px)\": {\n      \"& .buttonContainer\": {\n        \"& button\": {\n          marginLeft: \"5px\",\n        },\n      },\n    },\n    \"@media (max-width: 799px)\": {\n      \"&:before\": {\n        display: \"none\",\n      },\n      \"& .mainFileVersionItem\": {\n        padding: \"5px 0px\",\n        margin: 0,\n      },\n      \"& .intermediateLayer\": {\n        margin: 0,\n        \"&:hover, &.selected\": {\n          backgroundColor: \"transparent\",\n          \"& > div\": {\n            borderBottomColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n          },\n        },\n      },\n      \"& .versionContainer\": {\n        fontSize: 14,\n        \"& svg.min-icon\": {\n          display: \"none\",\n        },\n      },\n      \"& .versionData\": {\n        textOverflow: \"ellipsis\",\n        maxWidth: \"95%\",\n        overflow: \"hidden\",\n        whiteSpace: \"nowrap\",\n      },\n      \"& .collapsableInfo\": {\n        display: \"flex\",\n        flexDirection: \"column\",\n      },\n      \"& .versionItem\": {\n        display: \"none\",\n      },\n    },\n  };\n});\n\nconst FileVersionItem = ({\n  fileName,\n  versionInfo,\n  isSelected,\n  checkable,\n  isChecked,\n  onCheck,\n  onShare,\n  onDownload,\n  onRestore,\n  onPreview,\n  globalClick,\n  index,\n  key,\n  style,\n}: IFileVersionItem) => {\n  const disableButtons = versionInfo.is_delete_marker;\n\n  const versionItemButtons = [\n    {\n      icon: <PreviewIcon />,\n      action: onPreview,\n      tooltip: \"Preview\",\n    },\n    {\n      icon: <DownloadIcon />,\n      action: onDownload,\n      tooltip: \"Download this version\",\n    },\n    {\n      icon: <ShareIcon />,\n      action: onShare,\n      tooltip: \"Share this version\",\n    },\n    {\n      icon: <RecoverIcon />,\n      action: onRestore,\n      tooltip: \"Restore this version\",\n    },\n  ];\n\n  let pill: \"deleted\" | \"current\" | \"null\" | null = null;\n\n  if (versionInfo.is_delete_marker) {\n    pill = \"deleted\";\n  } else if (versionInfo.is_latest) {\n    pill = \"current\";\n  } else if (versionInfo.version_id === \"null\") {\n    pill = \"null\";\n  }\n\n  let lastModified = DateTime.now();\n\n  if (versionInfo.last_modified) {\n    lastModified = DateTime.fromISO(versionInfo.last_modified);\n  }\n\n  return (\n    <FileVersionStyled>\n      <Grid\n        container\n        className={\"ctrItem\"}\n        onClick={() => {\n          globalClick(versionInfo);\n        }}\n        key={key}\n        style={style}\n      >\n        <Grid\n          item\n          xs={12}\n          className={`${\"intermediateLayer\"} ${isSelected ? \"selected\" : \"\"}`}\n        >\n          <Grid\n            item\n            xs\n            className={`mainFileVersionItem ${\n              versionInfo.is_delete_marker ? \"deleted\" : \"\"\n            }`}\n          >\n            <Grid item xs={12}>\n              <Grid container>\n                <Grid item xs md={4} className={\"versionContainer\"}>\n                  {checkable && (\n                    <CheckboxWrapper\n                      checked={isChecked}\n                      id={`select-${versionInfo.version_id}`}\n                      label={\"\"}\n                      name={`select-${versionInfo.version_id}`}\n                      onChange={(e) => {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        onCheck(versionInfo.version_id || \"\");\n                      }}\n                      value={versionInfo.version_id || \"\"}\n                      disabled={versionInfo.is_delete_marker}\n                      overrideCheckboxStyles={{\n                        paddingLeft: 0,\n                        height: 34,\n                        width: 25,\n                      }}\n                      noTopMargin\n                    />\n                  )}\n                  {displayFileIconName(fileName, true)} v{index.toString()}\n                  <span className={\"versionItem\"}>\n                    {pill && <SpecificVersionPill type={pill} />}\n                  </span>\n                </Grid>\n                <Grid item xs={10} md={8} className={\"buttonContainer\"}>\n                  {versionItemButtons.map((button, index) => {\n                    return (\n                      <Tooltip\n                        tooltip={button.tooltip}\n                        key={`version-action-${\n                          button.tooltip\n                        }-${index.toString()}`}\n                      >\n                        <IconButton\n                          size={\"small\"}\n                          id={`version-action-${\n                            button.tooltip\n                          }-${index.toString()}`}\n                          className={`${\"spacing\"} ${\n                            disableButtons ? \"buttonDisabled\" : \"\"\n                          }`}\n                          disabled={disableButtons}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            if (!disableButtons) {\n                              button.action(versionInfo);\n                            } else {\n                              e.preventDefault();\n                            }\n                          }}\n                          sx={{\n                            backgroundColor: \"#F8F8F8\",\n                            borderRadius: \"100%\",\n                            width: \"28px\",\n                            height: \"28px\",\n                            padding: \"5px\",\n                            \"& .min-icon\": {\n                              width: \"14px\",\n                              height: \"14px\",\n                            },\n                          }}\n                        >\n                          {button.icon}\n                        </IconButton>\n                      </Tooltip>\n                    );\n                  })}\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} className={\"versionID\"}>\n              {versionInfo.version_id !== \"null\" ? versionInfo.version_id : \"-\"}\n            </Grid>\n            <Grid item xs={12} className={\"collapsableInfo\"}>\n              <span className={\"versionData\"}>\n                <strong>Last modified:</strong>{\" \"}\n                {lastModified.toFormat(\"ccc, LLL dd yyyy HH:mm:ss (ZZZZ)\")}\n              </span>\n              <span className={\"versionData\"}>\n                <strong>Size:</strong> {niceBytes(`${versionInfo.size || \"0\"}`)}\n              </span>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </FileVersionStyled>\n  );\n};\n\nexport default FileVersionItem;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\n\nimport { decodeURLString } from \"../../../../../../common/utils\";\nimport { ConfirmDeleteIcon, Switch, Grid, InputBox } from \"mds\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IDeleteNonCurrentProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedObject: string;\n  selectedBucket: string;\n}\n\nconst DeleteNonCurrentVersions = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedObject,\n}: IDeleteNonCurrentProps) => {\n  const dispatch = useAppDispatch();\n  const [deleteLoading, setDeleteLoading] = useState<boolean>(false);\n  const [typeConfirm, setTypeConfirm] = useState<string>(\"\");\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig,\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION],\n    ) && retentionConfig?.mode === \"governance\";\n\n  useEffect(() => {\n    if (deleteLoading) {\n      api.buckets\n        .deleteObject(selectedBucket, {\n          path: selectedObject,\n          non_current_versions: true,\n          bypass: bypassGovernance,\n        })\n        .then(() => {\n          closeDeleteModalAndRefresh(true);\n        })\n        .catch((err) => {\n          dispatch(setErrorSnackMessage(errorToHandler(err.error)));\n          setDeleteLoading(false);\n        });\n    }\n  }, [\n    deleteLoading,\n    closeDeleteModalAndRefresh,\n    dispatch,\n    selectedObject,\n    selectedBucket,\n    bypassGovernance,\n  ]);\n\n  if (!selectedObject) {\n    return null;\n  }\n  const onConfirmDelete = () => {\n    setDeleteLoading(true);\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Delete Non-Current versions`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={() => closeDeleteModalAndRefresh(false)}\n      confirmButtonProps={{\n        disabled: typeConfirm !== \"YES, PROCEED\" || deleteLoading,\n      }}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete all the non-current versions for:{\" \"}\n          <b>{decodeURLString(selectedObject)}</b>? <br />\n          {canBypass && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n          <br />\n          To continue please type <b>YES, PROCEED</b> in the box.\n          <br />\n          <br />\n          <Grid item xs={12}>\n            <InputBox\n              id=\"type-confirm\"\n              name=\"retype-tenant\"\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                setTypeConfirm(event.target.value);\n              }}\n              label=\"\"\n              value={typeConfirm}\n            />\n          </Grid>\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteNonCurrentVersions;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport { ConfirmDeleteIcon, Switch } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IDeleteSelectedVersionsProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedVersions: string[];\n  selectedObject: string;\n  selectedBucket: string;\n}\n\nconst DeleteObject = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedVersions,\n  selectedObject,\n}: IDeleteSelectedVersionsProps) => {\n  const dispatch = useAppDispatch();\n  const [deleteLoading, setDeleteLoading] = useState<boolean>(false);\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig,\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION],\n    ) && retentionConfig?.mode === \"governance\";\n\n  const onClose = () => closeDeleteModalAndRefresh(false);\n  const onConfirmDelete = () => {\n    setDeleteLoading(true);\n  };\n\n  useEffect(() => {\n    if (deleteLoading) {\n      const selectedObjectsRequest = selectedVersions.map((versionID) => {\n        return {\n          path: selectedObject,\n          versionID: versionID,\n          recursive: false,\n        };\n      });\n\n      if (selectedObjectsRequest.length > 0) {\n        api.buckets\n          .deleteMultipleObjects(selectedBucket, selectedObjectsRequest, {\n            all_versions: false,\n            bypass: bypassGovernance,\n          })\n          .then(() => {\n            setDeleteLoading(false);\n            closeDeleteModalAndRefresh(true);\n          })\n          .catch((err) => {\n            dispatch(setErrorSnackMessage(errorToHandler(err.error)));\n            setDeleteLoading(false);\n          });\n      }\n    }\n  }, [\n    deleteLoading,\n    closeDeleteModalAndRefresh,\n    selectedBucket,\n    selectedObject,\n    selectedVersions,\n    bypassGovernance,\n    dispatch,\n  ]);\n\n  if (!selectedVersions) {\n    return null;\n  }\n\n  return (\n    <ConfirmDialog\n      title={`Delete Selected Versions`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={onClose}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete the selected {selectedVersions.length}{\" \"}\n          versions for <strong>{selectedObject}</strong>?\n          {canBypass && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteObject;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport get from \"lodash/get\";\nimport { useSelector } from \"react-redux\";\nimport { withStyles } from \"@mui/styles\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\n\nimport Grid from \"@mui/material/Grid\";\nimport ShareFile from \"./ShareFile\";\nimport {\n  actionsTray,\n  containerForHeader,\n  objectBrowserCommon,\n  objectBrowserExtras,\n  spacingUtils,\n  tableStyles,\n  textStyleUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\nimport { decodeURLString, niceBytesInt } from \"../../../../../../common/utils\";\nimport RestoreFileVersion from \"./RestoreFileVersion\";\n\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport {\n  Button,\n  DeleteIcon,\n  DeleteNonCurrentIcon,\n  Select,\n  SelectMultipleIcon,\n  VersionsIcon,\n  ScreenTitle,\n  ProgressBar,\n} from \"mds\";\nimport FileVersionItem from \"./FileVersionItem\";\nimport PreviewFileModal from \"../Preview/PreviewFileModal\";\nimport DeleteNonCurrent from \"../ListObjects/DeleteNonCurrent\";\nimport BrowserBreadcrumbs from \"../../../../ObjectBrowser/BrowserBreadcrumbs\";\nimport DeleteSelectedVersions from \"./DeleteSelectedVersions\";\nimport {\n  selDistSet,\n  setErrorSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport {\n  setLoadingObjectInfo,\n  setLoadingVersions,\n  setSelectedVersion,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport { List, ListRowProps } from \"react-virtualized\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\nimport { BucketObject } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    versionsContainer: {\n      padding: 10,\n      \"@media (max-width: 799px)\": {\n        minHeight: 800,\n      },\n    },\n    noBottomBorder: {\n      borderBottom: 0,\n    },\n    versionsVirtualPanel: {\n      flexGrow: 1,\n      height: \"calc(100% - 120px)\",\n      overflow: \"auto\",\n      \"@media (max-width: 799px)\": {\n        height: 600,\n      },\n    },\n    screenTitleContainer: {\n      position: \"relative\",\n      \"@media (max-width: 799px)\": {\n        \"&::before\": {\n          display: \"none\",\n        },\n      },\n    },\n    sortByLabel: {\n      color: \"#838383\",\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      marginRight: 12,\n      fontSize: 14,\n      \"@media (max-width: 600px)\": {\n        display: \"none\",\n      },\n    },\n    ...actionsTray,\n    ...tableStyles,\n    ...spacingUtils,\n    ...textStyleUtils,\n    ...objectBrowserCommon,\n    ...objectBrowserExtras,\n    ...containerForHeader,\n  });\n\ninterface IVersionsNavigatorProps {\n  classes: any;\n  internalPaths: string;\n  bucketName: string;\n}\n\nconst emptyFile: BucketObject = {\n  is_latest: true,\n  last_modified: \"\",\n  legal_hold_status: \"\",\n  name: \"\",\n  retention_mode: \"\",\n  retention_until_date: \"\",\n  size: 0,\n  tags: {},\n  version_id: undefined,\n};\n\nconst VersionsNavigator = ({\n  classes,\n  internalPaths,\n  bucketName,\n}: IVersionsNavigatorProps) => {\n  const dispatch = useAppDispatch();\n\n  const searchVersions = useSelector(\n    (state: AppState) => state.objectBrowser.searchVersions,\n  );\n  const loadingVersions = useSelector(\n    (state: AppState) => state.objectBrowser.loadingVersions,\n  );\n  const selectedVersion = useSelector(\n    (state: AppState) => state.objectBrowser.selectedVersion,\n  );\n\n  const distributedSetup = useSelector(selDistSet);\n  const [shareFileModalOpen, setShareFileModalOpen] = useState<boolean>(false);\n  const [actualInfo, setActualInfo] = useState<BucketObject | null>(null);\n  const [objectToShare, setObjectToShare] = useState<BucketObject | null>(null);\n  const [versions, setVersions] = useState<BucketObject[]>([]);\n  const [restoreVersionOpen, setRestoreVersionOpen] = useState<boolean>(false);\n  const [restoreVersion, setRestoreVersion] = useState<BucketObject | null>(\n    null,\n  );\n  const [sortValue, setSortValue] = useState<string>(\"date\");\n  const [previewOpen, setPreviewOpen] = useState<boolean>(false);\n  const [deleteNonCurrentOpen, setDeleteNonCurrentOpen] =\n    useState<boolean>(false);\n  const [selectEnabled, setSelectEnabled] = useState<boolean>(false);\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n  const [delSelectedVOpen, setDelSelectedVOpen] = useState<boolean>(false);\n\n  // calculate object name to display\n  let objectNameArray: string[] = [];\n  if (actualInfo && actualInfo.name) {\n    objectNameArray = actualInfo.name.split(\"/\");\n  }\n\n  useEffect(() => {\n    if (!loadingVersions && !actualInfo) {\n      dispatch(setLoadingVersions(true));\n    }\n  }, [loadingVersions, actualInfo, dispatch]);\n\n  useEffect(() => {\n    if (loadingVersions && internalPaths !== \"\") {\n      api.buckets\n        .listObjects(bucketName, {\n          prefix: internalPaths,\n          with_versions: distributedSetup,\n        })\n        .then((res) => {\n          const result = get(res.data, \"objects\", []);\n\n          const decodedInternalPaths = decodeURLString(internalPaths);\n\n          // Filter the results prefixes as API can return more files than expected.\n          const filteredPrefixes = result.filter(\n            (item: BucketObject) => item.name === decodedInternalPaths,\n          );\n\n          if (distributedSetup) {\n            setActualInfo(\n              filteredPrefixes.find((el: BucketObject) => el.is_latest) ||\n                emptyFile,\n            );\n            setVersions(filteredPrefixes);\n          } else {\n            setActualInfo(filteredPrefixes[0]);\n            setVersions([]);\n          }\n\n          dispatch(setLoadingVersions(false));\n        })\n        .catch((err) => {\n          dispatch(setErrorSnackMessage(errorToHandler(err.error)));\n          dispatch(setLoadingVersions(false));\n        });\n    }\n  }, [loadingVersions, bucketName, internalPaths, dispatch, distributedSetup]);\n\n  const shareObject = () => {\n    setShareFileModalOpen(true);\n  };\n\n  const closeShareModal = () => {\n    setObjectToShare(null);\n    setShareFileModalOpen(false);\n    setPreviewOpen(false);\n  };\n\n  const onShareItem = (item: BucketObject) => {\n    setObjectToShare(item);\n    shareObject();\n  };\n\n  const onPreviewItem = (item: BucketObject) => {\n    setObjectToShare(item);\n    setPreviewOpen(true);\n  };\n\n  const onRestoreItem = (item: BucketObject) => {\n    setRestoreVersion(item);\n    setRestoreVersionOpen(true);\n  };\n\n  const onDownloadItem = (item: BucketObject) => {\n    downloadObject(dispatch, bucketName, internalPaths, item);\n  };\n\n  const onGlobalClick = (item: BucketObject) => {\n    dispatch(setSelectedVersion(item.version_id || \"\"));\n  };\n\n  const filteredRecords = versions.filter((version) => {\n    if (version.version_id) {\n      return version.version_id.includes(searchVersions);\n    }\n    return false;\n  });\n\n  const closeRestoreModal = (reloadObjectData: boolean) => {\n    setRestoreVersionOpen(false);\n    setRestoreVersion(null);\n\n    if (reloadObjectData) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeDeleteNonCurrent = (reloadAfterDelete: boolean) => {\n    setDeleteNonCurrentOpen(false);\n\n    if (reloadAfterDelete) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeSelectedVersions = (reloadOnComplete: boolean) => {\n    setDelSelectedVOpen(false);\n\n    if (reloadOnComplete) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n      setSelectedItems([]);\n    }\n  };\n\n  const totalSpace = versions.reduce((acc: number, currValue: BucketObject) => {\n    if (currValue.size) {\n      return acc + currValue.size;\n    }\n    return acc;\n  }, 0);\n\n  filteredRecords.sort((a, b) => {\n    switch (sortValue) {\n      case \"size\":\n        if (a.size && b.size) {\n          if (a.size < b.size) {\n            return -1;\n          }\n          if (a.size > b.size) {\n            return 1;\n          }\n          return 0;\n        }\n        return 0;\n      default:\n        const dateA = new Date(a.last_modified || \"\").getTime();\n        const dateB = new Date(b.last_modified || \"\").getTime();\n\n        if (dateA < dateB) {\n          return 1;\n        }\n        if (dateA > dateB) {\n          return -1;\n        }\n        return 0;\n    }\n  });\n\n  const onCheckVersion = (selectedVersion: string) => {\n    if (selectedItems.includes(selectedVersion)) {\n      const filteredItems = selectedItems.filter(\n        (element) => element !== selectedVersion,\n      );\n\n      setSelectedItems(filteredItems);\n\n      return;\n    }\n\n    const cloneState = [...selectedItems];\n    cloneState.push(selectedVersion);\n\n    setSelectedItems(cloneState);\n  };\n\n  const rowRenderer = ({\n    key, // Unique key within array of rows\n    index, // Index of row within collection\n    isScrolling, // The List is currently being scrolled\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\n    style, // Style object to be applied to row (to position it)\n  }: ListRowProps) => {\n    const versOrd = versions.length - index;\n    return (\n      <FileVersionItem\n        style={style}\n        key={key}\n        fileName={actualInfo?.name || \"\"}\n        versionInfo={filteredRecords[index]}\n        index={versOrd}\n        onDownload={onDownloadItem}\n        onRestore={onRestoreItem}\n        onShare={onShareItem}\n        onPreview={onPreviewItem}\n        globalClick={onGlobalClick}\n        isSelected={selectedVersion === filteredRecords[index].version_id}\n        checkable={selectEnabled}\n        onCheck={onCheckVersion}\n        isChecked={selectedItems.includes(\n          filteredRecords[index].version_id || \"\",\n        )}\n      />\n    );\n  };\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && actualInfo && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={objectToShare || actualInfo}\n        />\n      )}\n      {restoreVersionOpen && actualInfo && restoreVersion && (\n        <RestoreFileVersion\n          restoreOpen={restoreVersionOpen}\n          bucketName={bucketName}\n          versionToRestore={restoreVersion}\n          objectPath={actualInfo.name || \"\"}\n          onCloseAndUpdate={closeRestoreModal}\n        />\n      )}\n      {previewOpen && actualInfo && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={{\n            name: actualInfo.name || \"\",\n            version_id:\n              objectToShare && objectToShare.version_id\n                ? objectToShare.version_id\n                : \"null\",\n            size: objectToShare && objectToShare.size ? objectToShare.size : 0,\n            content_type: \"\",\n            last_modified: actualInfo.last_modified || \"\",\n          }}\n          onClosePreview={() => {\n            setPreviewOpen(false);\n          }}\n        />\n      )}\n      {deleteNonCurrentOpen && (\n        <DeleteNonCurrent\n          deleteOpen={deleteNonCurrentOpen}\n          closeDeleteModalAndRefresh={closeDeleteNonCurrent}\n          selectedBucket={bucketName}\n          selectedObject={internalPaths}\n        />\n      )}\n      {delSelectedVOpen && (\n        <DeleteSelectedVersions\n          selectedBucket={bucketName}\n          selectedObject={decodeURLString(internalPaths)}\n          deleteOpen={delSelectedVOpen}\n          selectedVersions={selectedItems}\n          closeDeleteModalAndRefresh={closeSelectedVersions}\n        />\n      )}\n      <Grid container className={classes.versionsContainer}>\n        {!actualInfo && (\n          <Grid item xs={12}>\n            <ProgressBar />\n          </Grid>\n        )}\n\n        {actualInfo && (\n          <Fragment>\n            <Grid item xs={12}>\n              <BrowserBreadcrumbs\n                bucketName={bucketName}\n                internalPaths={decodeURLString(internalPaths)}\n                hidePathButton={true}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.screenTitleContainer}>\n              <ScreenTitle\n                icon={\n                  <span className={classes.listIcon}>\n                    <VersionsIcon />\n                  </span>\n                }\n                title={`${\n                  objectNameArray.length > 0\n                    ? objectNameArray[objectNameArray.length - 1]\n                    : actualInfo.name\n                } Versions`}\n                subTitle={\n                  <Fragment>\n                    <span className={classes.detailsSpacer}>\n                      <strong>\n                        {versions.length} Version\n                        {versions.length === 1 ? \"\" : \"s\"}&nbsp;&nbsp;&nbsp;\n                      </strong>\n                    </span>\n                    <span className={classes.detailsSpacer}>\n                      <strong>{niceBytesInt(totalSpace)}</strong>\n                    </span>\n                  </Fragment>\n                }\n                actions={\n                  <Fragment>\n                    <TooltipWrapper tooltip={\"Select Multiple Versions\"}>\n                      <Button\n                        id={\"select-multiple-versions\"}\n                        onClick={() => {\n                          setSelectEnabled(!selectEnabled);\n                        }}\n                        icon={<SelectMultipleIcon />}\n                        variant={selectEnabled ? \"callAction\" : \"regular\"}\n                        style={{ marginRight: 8 }}\n                      />\n                    </TooltipWrapper>\n                    {selectEnabled && (\n                      <TooltipWrapper tooltip={\"Delete Selected Versions\"}>\n                        <Button\n                          id={\"delete-multiple-versions\"}\n                          onClick={() => {\n                            setDelSelectedVOpen(true);\n                          }}\n                          icon={<DeleteIcon />}\n                          variant={\"secondary\"}\n                          style={{ marginRight: 8 }}\n                          disabled={selectedItems.length === 0}\n                        />\n                      </TooltipWrapper>\n                    )}\n                    <TooltipWrapper tooltip={\"Delete Non Current Versions\"}>\n                      <Button\n                        id={\"delete-non-current\"}\n                        onClick={() => {\n                          setDeleteNonCurrentOpen(true);\n                        }}\n                        icon={<DeleteNonCurrentIcon />}\n                        variant={\"secondary\"}\n                        style={{ marginRight: 15 }}\n                        disabled={versions.length <= 1}\n                      />\n                    </TooltipWrapper>\n                    <Select\n                      id={\"sort-by\"}\n                      options={[\n                        { label: \"Date\", value: \"date\" },\n                        {\n                          label: \"Size\",\n                          value: \"size\",\n                        },\n                      ]}\n                      value={sortValue}\n                      label={\"Sort by\"}\n                      onChange={(newValue) => {\n                        setSortValue(newValue);\n                      }}\n                      noLabelMinWidth\n                    />\n                  </Fragment>\n                }\n                bottomBorder={false}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.versionsVirtualPanel}>\n              {actualInfo.version_id && actualInfo.version_id !== \"null\" && (\n                // @ts-ignore\n                <List\n                  style={{\n                    width: \"100%\",\n                  }}\n                  containerStyle={{\n                    width: \"100%\",\n                    maxWidth: \"100%\",\n                  }}\n                  width={1}\n                  height={800}\n                  rowCount={filteredRecords.length}\n                  rowHeight={108}\n                  rowRenderer={rowRenderer}\n                />\n              )}\n            </Grid>\n          </Fragment>\n        )}\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(VersionsNavigator);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { DateTime } from \"luxon\";\nimport { BucketObjectItem } from \"./types\";\nimport { niceBytes } from \"../../../../../../common/utils\";\nimport { displayFileIconName } from \"./utils\";\n\n// Functions\n\nexport const displayParsedDate = (object: BucketObjectItem) => {\n  if (object.name.endsWith(\"/\")) {\n    return \"\";\n  }\n\n  const currTime = DateTime.now();\n  const objectTime = DateTime.fromISO(object.last_modified);\n\n  const isToday =\n    currTime.hasSame(objectTime, \"day\") &&\n    currTime.hasSame(objectTime, \"month\") &&\n    currTime.hasSame(objectTime, \"year\");\n\n  if (isToday) {\n    return `Today, ${objectTime.toFormat(\"HH:mm\")}`;\n  }\n\n  return objectTime.toFormat(\"ccc, LLL dd yyyy HH:mm (ZZZZ)\");\n};\n\nexport const displayNiceBytes = (object: BucketObjectItem) => {\n  if (object.name.endsWith(\"/\") || !object.size) {\n    return \"-\";\n  }\n  return niceBytes(String(object.size));\n};\n\nexport const displayDeleteFlag = (state: boolean) => {\n  return state ? \"Yes\" : \"No\";\n};\n\n// Table Props\n\nexport const listModeColumns = [\n  {\n    label: \"Name\",\n    elementKey: \"name\",\n    renderFunction: displayFileIconName,\n    enableSort: true,\n  },\n  {\n    label: \"Last Modified\",\n    elementKey: \"last_modified\",\n    renderFunction: displayParsedDate,\n    renderFullObject: true,\n    enableSort: true,\n  },\n  {\n    label: \"Size\",\n    elementKey: \"size\",\n    renderFunction: displayNiceBytes,\n    renderFullObject: true,\n    width: 100,\n    enableSort: true,\n  },\n];\n\nexport const rewindModeColumns = [\n  {\n    label: \"Name\",\n    elementKey: \"name\",\n    renderFunction: displayFileIconName,\n    enableSort: true,\n  },\n  {\n    label: \"Object Date\",\n    elementKey: \"last_modified\",\n    renderFunction: displayParsedDate,\n    renderFullObject: true,\n    enableSort: true,\n  },\n  {\n    label: \"Size\",\n    elementKey: \"size\",\n    renderFunction: displayNiceBytes,\n    renderFullObject: true,\n    width: 100,\n    enableSort: true,\n  },\n  {\n    label: \"Deleted\",\n    elementKey: \"delete_flag\",\n    renderFunction: displayDeleteFlag,\n    width: 60,\n  },\n];\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { listModeColumns, rewindModeColumns } from \"./ListObjectsHelpers\";\nimport { ItemActions } from \"../../../../Common/TableWrapper/TableWrapper\";\nimport React, { useState } from \"react\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { useSelector } from \"react-redux\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { selFeatures } from \"../../../../consoleSlice\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport {\n  setIsOpeningOD,\n  setLoadingObjects,\n  setLoadingVersions,\n  setObjectDetailsView,\n  setSelectedObjects,\n  setSelectedObjectView,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport get from \"lodash/get\";\nimport { sortListObjects } from \"../utils\";\nimport { BucketObjectItem } from \"./types\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\nimport { DataTable } from \"mds\";\nimport { BucketObject } from \"api/consoleApi\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    browsePaper: {\n      border: 0,\n      \"@media (max-width: 800px)\": {\n        width: 800,\n      },\n    },\n    parentWrapper: {\n      position: \"relative\",\n      height: \"calc(100% - 60px)\",\n      \"@media (max-width: 800px)\": {\n        overflowX: \"auto\",\n      },\n      \"@media (max-width: 1060px)\": {\n        height: \"calc(100% - 115px)\",\n      },\n    },\n    \"@global\": {\n      \".rowLine:hover  .iconFileElm\": {\n        backgroundImage: \"url(/images/ob_file_filled.svg)\",\n      },\n      \".rowLine:hover  .iconFolderElm\": {\n        backgroundImage: \"url(/images/ob_folder_filled.svg)\",\n      },\n    },\n  }),\n);\n\ninterface IListObjectTable {\n  internalPaths: string | null;\n}\n\nconst ListObjectsTable = ({ internalPaths }: IListObjectTable) => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const navigate = useNavigate();\n\n  const [sortDirection, setSortDirection] = useState<\n    \"ASC\" | \"DESC\" | undefined\n  >(\"ASC\");\n  const [currentSortField, setCurrentSortField] = useState<string>(\"name\");\n\n  const bucketName = params.bucketName || \"\";\n\n  const detailsOpen = useSelector(\n    (state: AppState) => state.objectBrowser.objectDetailsOpen,\n  );\n\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects,\n  );\n\n  const features = useSelector(selFeatures);\n  const obOnly = !!features?.includes(\"object-browser-only\");\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled,\n  );\n  const records = useSelector((state: AppState) => state.objectBrowser.records);\n  const searchObjects = useSelector(\n    (state: AppState) => state.objectBrowser.searchObjects,\n  );\n  const selectedObjects = useSelector(\n    (state: AppState) => state.objectBrowser.selectedObjects,\n  );\n  const connectionError = useSelector(\n    (state: AppState) => state.objectBrowser.connectionError,\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode,\n  );\n\n  const displayListObjects = hasPermission(bucketName, [\n    IAM_SCOPES.S3_LIST_BUCKET,\n    IAM_SCOPES.S3_ALL_LIST_BUCKET,\n  ]);\n\n  const filteredRecords = records.filter((b: BucketObjectItem) => {\n    if (searchObjects === \"\") {\n      return true;\n    } else {\n      const objectName = b.name.toLowerCase();\n      if (objectName.indexOf(searchObjects.toLowerCase()) >= 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  });\n\n  const plSelect = filteredRecords;\n  const sortASC = plSelect.sort(sortListObjects(currentSortField));\n\n  let payload: BucketObjectItem[] = [];\n\n  if (sortDirection === \"ASC\") {\n    payload = sortASC;\n  } else {\n    payload = sortASC.reverse();\n  }\n\n  const openPath = (object: BucketObject) => {\n    const idElement = object.name || \"\";\n    const newPath = `/browser/${bucketName}${\n      idElement ? `/${encodeURLString(idElement)}` : ``\n    }`;\n\n    // for anonymous start download\n    if (\n      anonymousMode &&\n      internalPaths !== null &&\n      !object.name?.endsWith(\"/\")\n    ) {\n      downloadObject(\n        dispatch,\n        bucketName,\n        `${encodeURLString(idElement)}`,\n        object,\n      );\n      return;\n    }\n    dispatch(setSelectedObjects([]));\n\n    navigate(newPath);\n\n    if (!anonymousMode) {\n      dispatch(setObjectDetailsView(true));\n      dispatch(setLoadingVersions(true));\n      dispatch(setIsOpeningOD(true));\n    }\n    dispatch(\n      setSelectedObjectView(\n        `${idElement ? `${encodeURLString(idElement)}` : ``}`,\n      ),\n    );\n  };\n  const tableActions: ItemActions[] = [\n    {\n      type: \"view\",\n      label: \"View\",\n      onClick: openPath,\n      sendOnlyId: false,\n    },\n  ];\n\n  const sortChange = (sortData: any) => {\n    const newSortDirection = get(sortData, \"sortDirection\", \"DESC\");\n    setCurrentSortField(sortData.sortBy);\n    setSortDirection(newSortDirection);\n    dispatch(setLoadingObjects(true));\n  };\n\n  const selectAllItems = () => {\n    dispatch(setSelectedObjectView(null));\n\n    if (selectedObjects.length === payload.length) {\n      dispatch(setSelectedObjects([]));\n      return;\n    }\n\n    const elements = payload.map((item) => item.name);\n    dispatch(setSelectedObjects(elements));\n  };\n\n  const selectListObjects = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const targetD = e.target;\n    const value = targetD.value;\n    const checked = targetD.checked;\n\n    let elements: string[] = [...selectedObjects]; // We clone the selectedBuckets array\n\n    if (checked) {\n      // If the user has checked this field we need to push this to selectedBucketsList\n      elements.push(value);\n    } else {\n      // User has unchecked this field, we need to remove it from the list\n      elements = elements.filter((element) => element !== value);\n    }\n    dispatch(setSelectedObjects(elements));\n    dispatch(setSelectedObjectView(null));\n\n    return elements;\n  };\n\n  let errorMessage =\n    !displayListObjects && !anonymousMode\n      ? permissionTooltipHelper(\n          [IAM_SCOPES.S3_LIST_BUCKET, IAM_SCOPES.S3_ALL_LIST_BUCKET],\n          \"view Objects in this bucket\",\n        )\n      : `This location is empty${\n          !rewindEnabled ? \", please try uploading a new file\" : \"\"\n        }`;\n\n  if (connectionError) {\n    errorMessage =\n      \"Objects List unavailable. Please review your WebSockets configuration and try again\";\n  }\n\n  let customPaperHeight = \"calc(100vh - 290px)\";\n\n  if (obOnly) {\n    customPaperHeight = \"calc(100vh - 315px)\";\n  }\n\n  return (\n    <DataTable\n      itemActions={tableActions}\n      columns={rewindEnabled ? rewindModeColumns : listModeColumns}\n      isLoading={loadingObjects}\n      entityName=\"Objects\"\n      idField=\"name\"\n      records={payload}\n      customPaperHeight={customPaperHeight}\n      selectedItems={selectedObjects}\n      onSelect={!anonymousMode ? selectListObjects : undefined}\n      customEmptyMessage={errorMessage}\n      sortConfig={{\n        currentSort: currentSortField,\n        currentDirection: sortDirection,\n        triggerSort: sortChange,\n      }}\n      onSelectAll={selectAllItems}\n      rowStyle={({ index }) => {\n        if (payload[index]?.delete_flag) {\n          return \"deleted\";\n        }\n\n        return \"\";\n      }}\n      parentClassName={classes.parentWrapper}\n      sx={{\n        minHeight: detailsOpen ? \"100%\" : \"initial\",\n      }}\n      noBackground\n    />\n  );\n};\nexport default ListObjectsTable;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { AppState } from \"../../../store\";\nimport { encodeURLString, getClientOS } from \"../../../common/utils\";\nimport { BucketObjectItem } from \"../Buckets/ListBuckets/Objects/ListObjects/types\";\nimport { makeid, storeCallForObjectWithID } from \"./transferManager\";\nimport {\n  download,\n  downloadSelectedAsZip,\n} from \"../Buckets/ListBuckets/Objects/utils\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  setAnonymousAccessOpen,\n  setDownloadRenameModal,\n  setNewObject,\n  setPreviewOpen,\n  setSelectedPreview,\n  setShareFileModalOpen,\n  updateProgress,\n} from \"./objectBrowserSlice\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\nimport { DateTime } from \"luxon\";\n\nexport const downloadSelected = createAsyncThunk(\n  \"objectBrowser/downloadSelected\",\n  async (bucketName: string, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    const downloadObject = (object: BucketObjectItem) => {\n      const identityDownload = encodeURLString(\n        `${bucketName}-${object.name}-${new Date().getTime()}-${Math.random()}`,\n      );\n\n      const ID = makeid(8);\n\n      const downloadCall = download(\n        bucketName,\n        encodeURLString(object.name),\n        object.version_id,\n        object.size,\n        null,\n        ID,\n        (progress) => {\n          dispatch(\n            updateProgress({\n              instanceID: identityDownload,\n              progress: progress,\n            }),\n          );\n        },\n        () => {\n          dispatch(completeObject(identityDownload));\n        },\n        (msg: string) => {\n          dispatch(failObject({ instanceID: identityDownload, msg }));\n        },\n        () => {\n          dispatch(cancelObjectInList(identityDownload));\n        },\n        () => {\n          dispatch(\n            setSnackBarMessage(\n              \"File download will be handled directly by the browser.\",\n            ),\n          );\n        },\n      );\n      storeCallForObjectWithID(ID, downloadCall);\n      dispatch(\n        setNewObject({\n          ID,\n          bucketName,\n          done: false,\n          instanceID: identityDownload,\n          percentage: 0,\n          prefix: object.name,\n          type: \"download\",\n          waitingForFile: true,\n          failed: false,\n          cancelled: false,\n          errorMessage: \"\",\n        }),\n      );\n    };\n\n    if (state.objectBrowser.selectedObjects.length !== 0) {\n      let itemsToDownload: BucketObjectItem[] = [];\n\n      const filterFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      itemsToDownload = state.objectBrowser.records.filter(filterFunction);\n\n      // In case just one element is selected, then we trigger download modal validation.\n      if (itemsToDownload.length === 1) {\n        if (\n          itemsToDownload[0].name.length > 200 &&\n          getClientOS().toLowerCase().includes(\"win\")\n        ) {\n          dispatch(setDownloadRenameModal(itemsToDownload[0]));\n          return;\n        } else {\n          downloadObject(itemsToDownload[0]);\n        }\n      } else {\n        if (itemsToDownload.length === 1) {\n          downloadObject(itemsToDownload[0]);\n        } else if (itemsToDownload.length > 1) {\n          const fileName = `${DateTime.now().toFormat(\n            \"LL-dd-yyyy-HH-mm-ss\",\n          )}_files_list.zip`;\n\n          // We are enforcing zip download when multiple files are selected for better user experience\n          const multiObjList = itemsToDownload.reduce((dwList: any[], bi) => {\n            // Download objects/prefixes(recursively) as zip\n            // Skip any deleted files selected via \"Show deleted objects\" in selection and log for debugging\n            const isDeleted = bi?.delete_flag;\n            if (bi && !isDeleted) {\n              dwList.push(bi.name);\n            } else {\n              console.log(`Skipping ${bi?.name} from download.`);\n            }\n            return dwList;\n          }, []);\n\n          await downloadSelectedAsZip(bucketName, multiObjList, fileName);\n          return;\n        }\n      }\n    }\n  },\n);\n\nexport const openPreview = createAsyncThunk(\n  \"objectBrowser/openPreview\",\n  async (_, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (state.objectBrowser.selectedObjects.length === 1) {\n      let fileObject: BucketObjectItem | undefined;\n\n      const findFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      fileObject = state.objectBrowser.records.find(findFunction);\n\n      if (fileObject) {\n        dispatch(setSelectedPreview(fileObject));\n        dispatch(setPreviewOpen(true));\n      }\n    }\n  },\n);\n\nexport const openShare = createAsyncThunk(\n  \"objectBrowser/openShare\",\n  async (_, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (state.objectBrowser.selectedObjects.length === 1) {\n      let fileObject: BucketObjectItem | undefined;\n\n      const findFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      fileObject = state.objectBrowser.records.find(findFunction);\n\n      if (fileObject) {\n        dispatch(setSelectedPreview(fileObject));\n        dispatch(setShareFileModalOpen(true));\n      }\n    }\n  },\n);\n\nexport const openAnonymousAccess = createAsyncThunk(\n  \"objectBrowser/openAnonymousAccess\",\n  async (_, { getState, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (\n      state.objectBrowser.selectedObjects.length === 1 &&\n      state.objectBrowser.selectedObjects[0].endsWith(\"/\")\n    ) {\n      dispatch(setAnonymousAccessOpen(true));\n    }\n  },\n);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { setSearchObjects } from \"./objectBrowserSlice\";\nimport SearchBox from \"../Common/SearchBox\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport { useSelector } from \"react-redux\";\n\nconst FilterObjectsSB = () => {\n  const dispatch = useAppDispatch();\n\n  const searchObjects = useSelector(\n    (state: AppState) => state.objectBrowser.searchObjects,\n  );\n  return (\n    <SearchBox\n      placeholder={\"Start typing to filter objects in the bucket\"}\n      onChange={(value) => {\n        dispatch(setSearchObjects(value));\n      }}\n      value={searchObjects}\n    />\n  );\n};\nexport default FilterObjectsSB;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, {\n  Fragment,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { useDropzone } from \"react-dropzone\";\nimport { Theme } from \"@mui/material/styles\";\nimport {\n  AccessRuleIcon,\n  ActionsList,\n  BucketsIcon,\n  Button,\n  DeleteIcon,\n  DownloadIcon,\n  HistoryIcon,\n  PageLayout,\n  PreviewIcon,\n  RefreshIcon,\n  ScreenTitle,\n  ShareIcon,\n} from \"mds\";\nimport { DateTime } from \"luxon\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport Grid from \"@mui/material/Grid\";\nimport get from \"lodash/get\";\nimport {\n  decodeURLString,\n  encodeURLString,\n  niceBytesInt,\n} from \"../../../../../../common/utils\";\n\nimport {\n  actionsTray,\n  containerForHeader,\n  objectBrowserCommon,\n  objectBrowserExtras,\n  searchField,\n  tableStyles,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { Badge } from \"@mui/material\";\nimport BrowserBreadcrumbs from \"../../../../ObjectBrowser/BrowserBreadcrumbs\";\nimport { AllowedPreviews, previewObjectType } from \"../utils\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\n\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport {\n  hasPermission,\n  SecureComponent,\n} from \"../../../../../../common/SecureComponent\";\nimport withSuspense from \"../../../../Common/Components/withSuspense\";\nimport UploadFilesButton from \"../../UploadFilesButton\";\nimport DetailsListPanel from \"./DetailsListPanel\";\nimport ObjectDetailPanel from \"./ObjectDetailPanel\";\nimport VersionsNavigator from \"../ObjectDetails/VersionsNavigator\";\nimport CheckboxWrapper from \"../../../../Common/FormComponents/CheckboxWrapper/CheckboxWrapper\";\n\nimport {\n  setErrorSnackMessage,\n  setSnackBarMessage,\n} from \"../../../../../../systemSlice\";\n\nimport {\n  makeid,\n  removeTrace,\n  storeCallForObjectWithID,\n  storeFormDataWithID,\n} from \"../../../../ObjectBrowser/transferManager\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  openList,\n  resetMessages,\n  resetRewind,\n  setAnonymousAccessOpen,\n  setDownloadRenameModal,\n  setLoadingObjects,\n  setLoadingRecords,\n  setLoadingVersions,\n  setNewObject,\n  setObjectDetailsView,\n  setPreviewOpen,\n  setRetentionConfig,\n  setSearchObjects,\n  setSelectedBucket,\n  setSelectedObjects,\n  setSelectedObjectView,\n  setSelectedPreview,\n  setShareFileModalOpen,\n  setShowDeletedObjects,\n  setVersionsModeEnabled,\n  updateProgress,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport {\n  selBucketDetailsInfo,\n  selBucketDetailsLoading,\n  setBucketDetailsLoad,\n  setBucketInfo,\n} from \"../../../BucketDetails/bucketDetailsSlice\";\nimport RenameLongFileName from \"../../../../ObjectBrowser/RenameLongFilename\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport ListObjectsTable from \"./ListObjectsTable\";\nimport {\n  downloadSelected,\n  openAnonymousAccess,\n  openPreview,\n  openShare,\n} from \"../../../../ObjectBrowser/objectBrowserThunks\";\n\nimport FilterObjectsSB from \"../../../../ObjectBrowser/FilterObjectsSB\";\nimport AddAccessRule from \"../../../BucketDetails/AddAccessRule\";\nimport { isVersionedMode } from \"../../../../../../utils/validationFunctions\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport { BucketQuota } from \"api/consoleApi\";\nimport {\n  extractFileExtn,\n  getPolicyAllowedFileExtensions,\n  getSessionGrantsWildCard,\n} from \"../../UploadPermissionUtils\";\n\nconst DeleteMultipleObjects = withSuspense(\n  React.lazy(() => import(\"./DeleteMultipleObjects\")),\n);\nconst ShareFile = withSuspense(\n  React.lazy(() => import(\"../ObjectDetails/ShareFile\")),\n);\nconst RewindEnable = withSuspense(React.lazy(() => import(\"./RewindEnable\")));\nconst PreviewFileModal = withSuspense(\n  React.lazy(() => import(\"../Preview/PreviewFileModal\")),\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    badgeOverlap: {\n      \"& .MuiBadge-badge\": {\n        top: 10,\n        right: 1,\n        width: 5,\n        height: 5,\n        minWidth: 5,\n      },\n    },\n    ...tableStyles,\n    ...actionsTray,\n    ...searchField,\n\n    searchField: {\n      ...searchField.searchField,\n      maxWidth: 380,\n    },\n    screenTitleContainer: {\n      border: \"#EAEDEE 1px solid\",\n      padding: \"0 5px\",\n    },\n    labelStyle: {\n      color: \"#969FA8\",\n      fontSize: \"12px\",\n    },\n    breadcrumbsContainer: {\n      padding: \"12px 14px 5px\",\n    },\n    fullContainer: {\n      width: \"100%\",\n      position: \"relative\",\n      \"&.detailsOpen\": {\n        \"@media (max-width: 799px)\": {\n          display: \"none\",\n        },\n      },\n    },\n    hideListOnSmall: {\n      \"@media (max-width: 799px)\": {\n        display: \"none\",\n      },\n    },\n    actionsSection: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n    },\n    ...objectBrowserExtras,\n    ...objectBrowserCommon,\n    ...containerForHeader,\n  }),\n);\n\nconst baseDnDStyle = {\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: \"#eeeeee\",\n  outline: \"none\",\n};\n\nconst activeDnDStyle = {\n  borderStyle: \"dashed\",\n  backgroundColor: \"#fafafa\",\n  borderColor: \"#2196f3\",\n};\n\nconst acceptDnDStyle = {\n  borderStyle: \"dashed\",\n  backgroundColor: \"#fafafa\",\n  borderColor: \"#00e676\",\n};\n\nconst ListObjects = () => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled,\n  );\n  const bucketToRewind = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.bucketToRewind,\n  );\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode,\n  );\n\n  const showDeleted = useSelector(\n    (state: AppState) => state.objectBrowser.showDeleted,\n  );\n  const detailsOpen = useSelector(\n    (state: AppState) => state.objectBrowser.objectDetailsOpen,\n  );\n  const selectedInternalPaths = useSelector(\n    (state: AppState) => state.objectBrowser.selectedInternalPaths,\n  );\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects,\n  );\n  const simplePath = useSelector(\n    (state: AppState) => state.objectBrowser.simplePath,\n  );\n\n  const versioningConfig = useSelector(\n    (state: AppState) => state.objectBrowser.versionInfo,\n  );\n  const lockingEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.lockingEnabled,\n  );\n  const downloadRenameModal = useSelector(\n    (state: AppState) => state.objectBrowser.downloadRenameModal,\n  );\n  const selectedPreview = useSelector(\n    (state: AppState) => state.objectBrowser.selectedPreview,\n  );\n  const shareFileModalOpen = useSelector(\n    (state: AppState) => state.objectBrowser.shareFileModalOpen,\n  );\n  const previewOpen = useSelector(\n    (state: AppState) => state.objectBrowser.previewOpen,\n  );\n  const selectedBucket = useSelector(\n    (state: AppState) => state.objectBrowser.selectedBucket,\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode,\n  );\n  const anonymousAccessOpen = useSelector(\n    (state: AppState) => state.objectBrowser.anonymousAccessOpen,\n  );\n\n  const loadingBucket = useSelector(selBucketDetailsLoading);\n  const bucketInfo = useSelector(selBucketDetailsInfo);\n\n  const [deleteMultipleOpen, setDeleteMultipleOpen] = useState<boolean>(false);\n  const [rewindSelect, setRewindSelect] = useState<boolean>(false);\n  const [iniLoad, setIniLoad] = useState<boolean>(false);\n  const [canShareFile, setCanShareFile] = useState<boolean>(false);\n  const [canPreviewFile, setCanPreviewFile] = useState<boolean>(false);\n  const [quota, setQuota] = useState<BucketQuota | null>(null);\n\n  const [metaData, setMetaData] = useState<any>(null);\n  const [isMetaDataLoaded, setIsMetaDataLoaded] = useState(false);\n\n  const isVersioningApplied = isVersionedMode(versioningConfig.status);\n  const bucketName = params.bucketName || \"\";\n\n  const pathSegment = location.pathname.split(`/browser/${bucketName}/`);\n  const internalPaths = pathSegment.length === 2 ? pathSegment[1] : \"\";\n\n  const pageTitle = decodeURLString(internalPaths);\n  const currentPath = pageTitle.split(\"/\").filter((i: string) => i !== \"\");\n\n  let uploadPath = [bucketName];\n  if (currentPath.length > 0) {\n    uploadPath = uploadPath.concat(currentPath);\n  }\n\n  const fileUpload = useRef<HTMLInputElement>(null);\n  const folderUpload = useRef<HTMLInputElement>(null);\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {},\n  );\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const pathAsResourceInPolicy = uploadPath.join(\"/\");\n  const allowedFileExtensions = getPolicyAllowedFileExtensions(\n    sessionGrants,\n    pathAsResourceInPolicy,\n    putObjectPermScopes,\n  );\n\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    pathAsResourceInPolicy,\n    putObjectPermScopes,\n  );\n\n  const canDownload = hasPermission(\n    [pathAsResourceInPolicy, ...sessionGrantWildCards],\n    [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n  );\n  const canDelete = hasPermission(\n    [pathAsResourceInPolicy, ...sessionGrantWildCards],\n    [IAM_SCOPES.S3_DELETE_OBJECT],\n  );\n  const canUpload =\n    hasPermission(\n      [pathAsResourceInPolicy, ...sessionGrantWildCards],\n      putObjectPermScopes,\n    ) || anonymousMode;\n\n  const canSetAnonymousAccess = hasPermission(bucketName, [\n    IAM_SCOPES.S3_GET_BUCKET_POLICY,\n    IAM_SCOPES.S3_PUT_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const selectedObjects = useSelector(\n    (state: AppState) => state.objectBrowser.selectedObjects,\n  );\n\n  const fetchMetadata = useCallback(() => {\n    const objectName = selectedObjects[0];\n\n    if (!isMetaDataLoaded) {\n      const encodedPath = encodeURLString(objectName);\n      api.buckets\n        .getObjectMetadata(bucketName, {\n          prefix: encodedPath,\n        })\n        .then((res) => {\n          let metadata = get(res.data, \"objectMetadata\", {});\n          setIsMetaDataLoaded(true);\n          setMetaData(metadata);\n        })\n        .catch((err) => {\n          console.error(\n            \"Error Getting Metadata Status: \",\n            err,\n            err?.detailedError,\n          );\n          setIsMetaDataLoaded(true);\n        });\n    }\n  }, [bucketName, selectedObjects, isMetaDataLoaded]);\n\n  useEffect(() => {\n    if (bucketName && selectedObjects.length === 1) {\n      fetchMetadata();\n    }\n  }, [bucketName, selectedObjects, fetchMetadata]);\n\n  useEffect(() => {\n    dispatch(setSearchObjects(\"\"));\n    dispatch(setLoadingObjects(true));\n    dispatch(setSelectedObjects([]));\n  }, [simplePath, dispatch]);\n\n  useEffect(() => {\n    if (rewindEnabled) {\n      if (bucketToRewind !== bucketName) {\n        dispatch(resetRewind());\n        return;\n      }\n    }\n  }, [rewindEnabled, bucketToRewind, bucketName, dispatch]);\n\n  // END OF WS HANDLERS\n\n  useEffect(() => {\n    if (folderUpload.current !== null) {\n      folderUpload.current.setAttribute(\"directory\", \"\");\n      folderUpload.current.setAttribute(\"webkitdirectory\", \"\");\n    }\n  }, [folderUpload]);\n\n  useEffect(() => {\n    if (selectedObjects.length === 1) {\n      const objectName = selectedObjects[0];\n      let objectType: AllowedPreviews = previewObjectType(metaData, objectName);\n\n      if (objectType !== \"none\" && canDownload) {\n        setCanPreviewFile(true);\n      } else {\n        setCanPreviewFile(false);\n      }\n\n      if (objectName.endsWith(\"/\") || canDownload) {\n        setCanShareFile(true);\n      } else {\n        setCanShareFile(false);\n      }\n    } else {\n      setCanShareFile(false);\n      setCanPreviewFile(false);\n    }\n  }, [selectedObjects, canDownload, metaData]);\n\n  useEffect(() => {\n    if (!quota && !anonymousMode) {\n      api.buckets\n        .getBucketQuota(bucketName)\n        .then((res) => {\n          let quotaVals = null;\n\n          if (res.data.quota) {\n            quotaVals = res.data;\n          }\n\n          setQuota(quotaVals);\n        })\n        .catch((err) => {\n          console.error(\n            \"Error Getting Quota Status: \",\n            err.error.detailedMessage,\n          );\n          setQuota(null);\n        });\n    }\n  }, [quota, bucketName, anonymousMode]);\n\n  useEffect(() => {\n    if (selectedObjects.length > 0) {\n      dispatch(setObjectDetailsView(true));\n      return;\n    }\n\n    if (\n      selectedObjects.length === 0 &&\n      selectedInternalPaths === null &&\n      !loadingObjects\n    ) {\n      dispatch(setObjectDetailsView(false));\n    }\n  }, [selectedObjects, selectedInternalPaths, dispatch, loadingObjects]);\n\n  useEffect(() => {\n    if (!iniLoad) {\n      dispatch(setBucketDetailsLoad(true));\n      setIniLoad(true);\n    }\n  }, [iniLoad, dispatch, setIniLoad]);\n\n  // bucket info\n  useEffect(() => {\n    if ((loadingObjects || loadingBucket) && !anonymousMode) {\n      api.buckets\n        .bucketInfo(bucketName)\n        .then((res) => {\n          dispatch(setBucketDetailsLoad(false));\n          dispatch(setBucketInfo(res.data));\n          dispatch(setSelectedBucket(bucketName));\n        })\n        .catch((err) => {\n          dispatch(setBucketDetailsLoad(false));\n          dispatch(setErrorSnackMessage(errorToHandler(err)));\n        });\n    }\n  }, [bucketName, loadingBucket, dispatch, anonymousMode, loadingObjects]);\n\n  // Load retention Config\n\n  useEffect(() => {\n    if (selectedBucket !== \"\") {\n      api.buckets\n        .getBucketRetentionConfig(selectedBucket)\n        .then((res) => {\n          dispatch(setRetentionConfig(res.data));\n        })\n        .catch(() => {\n          dispatch(setRetentionConfig(null));\n        });\n    }\n  }, [selectedBucket, dispatch]);\n\n  const closeDeleteMultipleModalAndRefresh = (refresh: boolean) => {\n    setDeleteMultipleOpen(false);\n\n    if (refresh) {\n      dispatch(setSnackBarMessage(`Objects deleted successfully.`));\n      dispatch(setSelectedObjects([]));\n      dispatch(setLoadingObjects(true));\n    }\n  };\n\n  const handleUploadButton = (e: any) => {\n    if (\n      e === null ||\n      e === undefined ||\n      e.target.files === null ||\n      e.target.files === undefined\n    ) {\n      return;\n    }\n    e.preventDefault();\n    var newFiles: File[] = [];\n\n    for (var i = 0; i < e.target.files.length; i++) {\n      newFiles.push(e.target.files[i]);\n    }\n    uploadObject(newFiles, \"\");\n\n    e.target.value = \"\";\n  };\n\n  const uploadObject = useCallback(\n    (files: File[], folderPath: string): void => {\n      let pathPrefix = \"\";\n      if (simplePath) {\n        pathPrefix = simplePath.endsWith(\"/\") ? simplePath : simplePath + \"/\";\n      }\n\n      const upload = (\n        files: File[],\n        bucketName: string,\n        path: string,\n        folderPath: string,\n      ) => {\n        let uploadPromise = (file: File) => {\n          return new Promise((resolve, reject) => {\n            let uploadUrl = `api/v1/buckets/${bucketName}/objects/upload`;\n            const fileName = file.name;\n\n            const blobFile = new Blob([file], { type: file.type });\n\n            let encodedPath = \"\";\n\n            const filePath = get(file, \"path\", \"\");\n            const fileWebkitRelativePath = get(file, \"webkitRelativePath\", \"\");\n\n            let relativeFolderPath = folderPath;\n            const ID = makeid(8);\n\n            // File was uploaded via drag & drop\n            if (filePath !== \"\") {\n              relativeFolderPath = filePath;\n            } else if (fileWebkitRelativePath !== \"\") {\n              // File was uploaded using upload button\n              relativeFolderPath = fileWebkitRelativePath;\n            }\n\n            if (path !== \"\" || relativeFolderPath !== \"\") {\n              const finalFolderPath = relativeFolderPath\n                .split(\"/\")\n                .slice(0, -1)\n                .join(\"/\");\n\n              const pathClean = path.endsWith(\"/\") ? path.slice(0, -1) : path;\n\n              encodedPath = encodeURLString(\n                `${pathClean}${\n                  !pathClean.endsWith(\"/\") &&\n                  finalFolderPath !== \"\" &&\n                  !finalFolderPath.startsWith(\"/\")\n                    ? \"/\"\n                    : \"\"\n                }${finalFolderPath}${\n                  !finalFolderPath.endsWith(\"/\") ||\n                  (finalFolderPath.trim() === \"\" && !path.endsWith(\"/\"))\n                    ? \"/\"\n                    : \"\"\n                }`,\n              );\n            }\n\n            if (encodedPath !== \"\") {\n              uploadUrl = `${uploadUrl}?prefix=${encodedPath}`;\n            }\n\n            const identity = encodeURLString(\n              `${bucketName}-${encodedPath}-${new Date().getTime()}-${Math.random()}`,\n            );\n\n            let xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", uploadUrl, true);\n            if (anonymousMode) {\n              xhr.setRequestHeader(\"X-Anonymous\", \"1\");\n            }\n            // xhr.setRequestHeader(\"X-Anonymous\", \"1\");\n\n            const areMultipleFiles = files.length > 1;\n            let errorMessage = `An error occurred while uploading the file${\n              areMultipleFiles ? \"s\" : \"\"\n            }.`;\n\n            const errorMessages: any = {\n              413: \"Error - File size too large\",\n            };\n\n            xhr.withCredentials = false;\n            xhr.onload = function (event) {\n              // resolve promise only when HTTP code is ok\n              if (xhr.status >= 200 && xhr.status < 300) {\n                dispatch(completeObject(identity));\n                resolve({ status: xhr.status });\n\n                removeTrace(ID);\n              } else {\n                // reject promise if there was a server error\n                if (errorMessages[xhr.status]) {\n                  errorMessage = errorMessages[xhr.status];\n                } else if (xhr.response) {\n                  try {\n                    const err = JSON.parse(xhr.response);\n                    errorMessage = err.detailedMessage;\n                  } catch (e) {\n                    errorMessage = \"something went wrong\";\n                  }\n                }\n\n                dispatch(\n                  failObject({\n                    instanceID: identity,\n                    msg: errorMessage,\n                  }),\n                );\n                reject({ status: xhr.status, message: errorMessage });\n\n                removeTrace(ID);\n              }\n            };\n\n            xhr.upload.addEventListener(\"error\", (event) => {\n              reject(errorMessage);\n              dispatch(\n                failObject({\n                  instanceID: identity,\n                  msg: \"A network error occurred.\",\n                }),\n              );\n              return;\n            });\n\n            xhr.upload.addEventListener(\"progress\", (event) => {\n              const progress = Math.floor((event.loaded * 100) / event.total);\n\n              dispatch(\n                updateProgress({\n                  instanceID: identity,\n                  progress: progress,\n                }),\n              );\n            });\n\n            xhr.onerror = () => {\n              reject(errorMessage);\n              dispatch(\n                failObject({\n                  instanceID: identity,\n                  msg: \"A network error occurred.\",\n                }),\n              );\n              return;\n            };\n            xhr.onloadend = () => {\n              if (files.length === 0) {\n                dispatch(setLoadingObjects(true));\n              }\n            };\n            xhr.onabort = () => {\n              dispatch(cancelObjectInList(identity));\n            };\n\n            const formData = new FormData();\n            if (file.size !== undefined) {\n              formData.append(file.size.toString(), blobFile, fileName);\n              storeCallForObjectWithID(ID, xhr);\n              dispatch(\n                setNewObject({\n                  ID,\n                  bucketName,\n                  done: false,\n                  instanceID: identity,\n                  percentage: 0,\n                  prefix: `${decodeURLString(encodedPath)}${fileName}`,\n                  type: \"upload\",\n                  waitingForFile: false,\n                  failed: false,\n                  cancelled: false,\n                  errorMessage: \"\",\n                }),\n              );\n              storeFormDataWithID(ID, formData);\n            }\n          });\n        };\n\n        const uploadFilePromises: any = [];\n        // open object manager\n        dispatch(openList());\n        for (let i = 0; i < files.length; i++) {\n          const file = files[i];\n          uploadFilePromises.push(uploadPromise(file));\n        }\n        Promise.allSettled(uploadFilePromises).then((results: Array<any>) => {\n          const errors = results.filter(\n            (result) => result.status === \"rejected\",\n          );\n          if (errors.length > 0) {\n            const totalFiles = uploadFilePromises.length;\n            const successUploadedFiles =\n              uploadFilePromises.length - errors.length;\n            const err: ErrorResponseHandler = {\n              errorMessage: \"There were some errors during file upload\",\n              detailedError: `Uploaded files ${successUploadedFiles}/${totalFiles}`,\n            };\n            dispatch(setErrorSnackMessage(err));\n          }\n          // We force objects list reload after all promises were handled\n          dispatch(setLoadingObjects(true));\n          dispatch(setSelectedObjects([]));\n        });\n      };\n\n      upload(files, bucketName, pathPrefix, folderPath);\n    },\n    [bucketName, dispatch, simplePath, anonymousMode],\n  );\n\n  const onDrop = useCallback(\n    (acceptedFiles: any[]) => {\n      if (acceptedFiles && acceptedFiles.length > 0 && canUpload) {\n        let newFolderPath: string = acceptedFiles[0].path;\n        //Should we filter by allowed file extensions if any?.\n        let allowedFiles = [];\n        if (allowedFileExtensions.length > 0) {\n          allowedFiles = acceptedFiles.filter((file) => {\n            const fileExtn = extractFileExtn(file.name);\n            return allowedFileExtensions.includes(fileExtn);\n          });\n        } else {\n          allowedFiles = acceptedFiles;\n        }\n\n        if (allowedFiles.length) {\n          uploadObject(allowedFiles, newFolderPath);\n          console.log(\n            `${allowedFiles.length} Allowed Files Processed out of ${acceptedFiles.length}.`,\n            pathAsResourceInPolicy,\n            ...sessionGrantWildCards,\n          );\n\n          if (allowedFiles.length !== acceptedFiles.length) {\n            dispatch(\n              setErrorSnackMessage({\n                errorMessage: \"Upload is restricted.\",\n                detailedError: permissionTooltipHelper(\n                  [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                  \"upload objects to this location\",\n                ),\n              }),\n            );\n          }\n        } else {\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: \"Could not process drag and drop.\",\n              detailedError: permissionTooltipHelper(\n                [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                \"upload objects to this location\",\n              ),\n            }),\n          );\n\n          console.error(\n            \"Could not process drag and drop . upload may be restricted.\",\n            pathAsResourceInPolicy,\n            ...sessionGrantWildCards,\n          );\n        }\n      }\n      if (!canUpload) {\n        dispatch(\n          setErrorSnackMessage({\n            errorMessage: \"Upload not allowed\",\n            detailedError: permissionTooltipHelper(\n              [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n              \"upload objects to this location\",\n            ),\n          }),\n        );\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [uploadObject],\n  );\n\n  const { getRootProps, getInputProps, isDragActive, isDragAccept } =\n    useDropzone({\n      noClick: true,\n      onDrop,\n    });\n\n  const dndStyles = useMemo(\n    () => ({\n      ...baseDnDStyle,\n      ...(isDragActive ? activeDnDStyle : {}),\n      ...(isDragAccept ? acceptDnDStyle : {}),\n    }),\n    [isDragActive, isDragAccept],\n  );\n\n  const closeShareModal = () => {\n    dispatch(setShareFileModalOpen(false));\n    dispatch(setSelectedPreview(null));\n  };\n\n  const rewindCloseModal = () => {\n    setRewindSelect(false);\n  };\n\n  const closePreviewWindow = () => {\n    dispatch(setPreviewOpen(false));\n    dispatch(setSelectedPreview(null));\n  };\n\n  const onClosePanel = (forceRefresh: boolean) => {\n    dispatch(setSelectedObjectView(null));\n    dispatch(setVersionsModeEnabled({ status: false }));\n    if (detailsOpen && selectedInternalPaths !== null) {\n      // We change URL to be the contained folder\n\n      const decodedPath = decodeURLString(internalPaths);\n      const splitURLS = decodedPath.split(\"/\");\n\n      // We remove the last section of the URL as it should be a file\n      splitURLS.pop();\n\n      let URLItem = \"\";\n\n      if (splitURLS && splitURLS.length > 0) {\n        URLItem = `${splitURLS.join(\"/\")}/`;\n      }\n\n      navigate(`/browser/${bucketName}/${encodeURLString(URLItem)}`);\n    }\n\n    dispatch(setObjectDetailsView(false));\n    dispatch(setSelectedObjects([]));\n\n    if (forceRefresh) {\n      dispatch(setLoadingObjects(true));\n    }\n  };\n\n  const setDeletedAction = () => {\n    dispatch(resetMessages());\n    dispatch(setShowDeletedObjects(!showDeleted));\n    onClosePanel(true);\n  };\n\n  const closeRenameModal = () => {\n    dispatch(setDownloadRenameModal(null));\n  };\n\n  const closeAddAccessRule = () => {\n    dispatch(setAnonymousAccessOpen(false));\n  };\n\n  let createdTime = DateTime.now();\n\n  if (bucketInfo?.creation_date) {\n    createdTime = DateTime.fromISO(bucketInfo.creation_date);\n  }\n\n  const downloadToolTip =\n    selectedObjects?.length <= 1\n      ? \"Download Selected\"\n      : ` Download selected objects as Zip. Any Deleted objects in the selection would be skipped from download.`;\n\n  const multiActionButtons = [\n    {\n      action: () => {\n        dispatch(downloadSelected(bucketName));\n      },\n      label: \"Download\",\n      disabled: !canDownload || selectedObjects?.length === 0,\n      icon: <DownloadIcon />,\n      tooltip: canDownload\n        ? downloadToolTip\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"download objects from this bucket\",\n          ),\n    },\n    {\n      action: () => {\n        dispatch(openShare());\n      },\n      label: \"Share\",\n      disabled: selectedObjects.length !== 1 || !canShareFile,\n      icon: <ShareIcon />,\n      tooltip: canShareFile ? \"Share Selected File\" : \"Sharing unavailable\",\n    },\n    {\n      action: () => {\n        dispatch(openPreview());\n      },\n      label: \"Preview\",\n      disabled: selectedObjects.length !== 1 || !canPreviewFile,\n      icon: <PreviewIcon />,\n      tooltip: canPreviewFile ? \"Preview Selected File\" : \"Preview unavailable\",\n    },\n    {\n      action: () => {\n        dispatch(openAnonymousAccess());\n      },\n      label: \"Anonymous Access\",\n      disabled:\n        selectedObjects.length !== 1 ||\n        !selectedObjects[0].endsWith(\"/\") ||\n        !canSetAnonymousAccess,\n      icon: <AccessRuleIcon />,\n      tooltip:\n        selectedObjects.length === 1 && selectedObjects[0].endsWith(\"/\")\n          ? \"Set Anonymous Access to this Folder\"\n          : \"Anonymous Access unavailable\",\n    },\n    {\n      action: () => {\n        setDeleteMultipleOpen(true);\n      },\n      label: \"Delete\",\n      icon: <DeleteIcon />,\n      disabled: !canDelete || selectedObjects.length === 0,\n      tooltip: canDelete\n        ? \"Delete Selected Files\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_DELETE_OBJECT],\n            \"delete objects in this bucket\",\n          ),\n    },\n  ];\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && selectedPreview && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={{\n            name: selectedPreview.name,\n            last_modified: \"\",\n            version_id: selectedPreview.version_id,\n          }}\n        />\n      )}\n      {deleteMultipleOpen && (\n        <DeleteMultipleObjects\n          deleteOpen={deleteMultipleOpen}\n          selectedBucket={bucketName}\n          selectedObjects={selectedObjects}\n          closeDeleteModalAndRefresh={closeDeleteMultipleModalAndRefresh}\n          versioning={versioningConfig}\n        />\n      )}\n      {rewindSelect && (\n        <RewindEnable\n          open={rewindSelect}\n          closeModalAndRefresh={rewindCloseModal}\n          bucketName={bucketName}\n        />\n      )}\n      {previewOpen && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={selectedPreview}\n          onClosePreview={closePreviewWindow}\n        />\n      )}\n      {!!downloadRenameModal && (\n        <RenameLongFileName\n          open={!!downloadRenameModal}\n          closeModal={closeRenameModal}\n          currentItem={downloadRenameModal.name.split(\"/\")?.pop() || \"\"}\n          bucketName={bucketName}\n          internalPaths={internalPaths}\n          actualInfo={{\n            name: downloadRenameModal.name,\n            last_modified: \"\",\n            version_id: downloadRenameModal.version_id,\n            size: downloadRenameModal.size,\n          }}\n        />\n      )}\n      {anonymousAccessOpen && (\n        <AddAccessRule\n          onClose={closeAddAccessRule}\n          bucket={bucketName}\n          modalOpen={anonymousAccessOpen}\n          prefilledRoute={`${selectedObjects[0]}*`}\n        />\n      )}\n\n      <PageLayout variant={\"full\"}>\n        {anonymousMode && (\n          <div style={{ paddingBottom: 16 }}>\n            <FilterObjectsSB />\n          </div>\n        )}\n        <Grid item xs={12} className={classes.screenTitleContainer}>\n          <ScreenTitle\n            icon={\n              <span>\n                <BucketsIcon style={{ width: 30 }} />\n              </span>\n            }\n            title={bucketName}\n            subTitle={\n              !anonymousMode ? (\n                <Fragment>\n                  <span className={classes.detailsSpacer}>\n                    Created on:&nbsp;&nbsp;\n                    <strong>\n                      {bucketInfo?.creation_date\n                        ? createdTime.toFormat(\n                            \"ccc, LLL dd yyyy HH:mm:ss (ZZZZ)\",\n                          )\n                        : \"\"}\n                    </strong>\n                  </span>\n                  <span className={classes.detailsSpacer}>\n                    Access:&nbsp;&nbsp;&nbsp;\n                    <strong>{bucketInfo?.access || \"\"}</strong>\n                  </span>\n                  {bucketInfo && (\n                    <Fragment>\n                      <span className={classes.detailsSpacer}>\n                        {bucketInfo.size && (\n                          <Fragment>{niceBytesInt(bucketInfo.size)}</Fragment>\n                        )}\n                        {bucketInfo.size && quota && (\n                          <Fragment>\n                            {\" \"}\n                            / {niceBytesInt(quota.quota || 0)}\n                          </Fragment>\n                        )}\n                        {bucketInfo.size && bucketInfo.objects ? \" - \" : \"\"}\n                        {bucketInfo.objects && (\n                          <Fragment>\n                            {bucketInfo.objects}&nbsp;Object\n                            {bucketInfo.objects && bucketInfo.objects !== 1\n                              ? \"s\"\n                              : \"\"}\n                          </Fragment>\n                        )}\n                      </span>\n                    </Fragment>\n                  )}\n                </Fragment>\n              ) : null\n            }\n            actions={\n              <Fragment>\n                {!anonymousMode && (\n                  <TooltipWrapper tooltip={\"Rewind Bucket\"}>\n                    <Button\n                      id={\"rewind-objects-list\"}\n                      label={\"Rewind\"}\n                      icon={\n                        <Badge\n                          badgeContent=\" \"\n                          color=\"secondary\"\n                          variant=\"dot\"\n                          invisible={!rewindEnabled}\n                          className={classes.badgeOverlap}\n                          sx={{ height: 16 }}\n                        >\n                          <HistoryIcon\n                            style={{\n                              minWidth: 16,\n                              minHeight: 16,\n                              width: 16,\n                              height: 16,\n                              marginTop: -3,\n                            }}\n                          />\n                        </Badge>\n                      }\n                      variant={\"regular\"}\n                      onClick={() => {\n                        setRewindSelect(true);\n                      }}\n                      disabled={\n                        !isVersioningApplied ||\n                        !hasPermission(bucketName, [\n                          IAM_SCOPES.S3_GET_OBJECT,\n                          IAM_SCOPES.S3_GET_ACTIONS,\n                        ])\n                      }\n                    />\n                  </TooltipWrapper>\n                )}\n                <TooltipWrapper tooltip={\"Reload List\"}>\n                  <Button\n                    id={\"refresh-objects-list\"}\n                    label={\"Refresh\"}\n                    icon={<RefreshIcon />}\n                    variant={\"regular\"}\n                    onClick={() => {\n                      if (versionsMode) {\n                        dispatch(setLoadingVersions(true));\n                      } else {\n                        dispatch(resetMessages());\n                        dispatch(setLoadingRecords(true));\n                        dispatch(setLoadingObjects(true));\n                      }\n                    }}\n                    disabled={\n                      anonymousMode\n                        ? false\n                        : !hasPermission(bucketName, [\n                            IAM_SCOPES.S3_LIST_BUCKET,\n                            IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                          ]) || rewindEnabled\n                    }\n                  />\n                </TooltipWrapper>\n                <input\n                  type=\"file\"\n                  multiple\n                  accept={\n                    allowedFileExtensions ? allowedFileExtensions : undefined\n                  }\n                  onChange={handleUploadButton}\n                  style={{ display: \"none\" }}\n                  ref={fileUpload}\n                />\n                <input\n                  type=\"file\"\n                  multiple\n                  onChange={handleUploadButton}\n                  style={{ display: \"none\" }}\n                  ref={folderUpload}\n                />\n                <UploadFilesButton\n                  bucketName={bucketName}\n                  uploadPath={pathAsResourceInPolicy}\n                  uploadFileFunction={(closeMenu) => {\n                    if (fileUpload && fileUpload.current) {\n                      fileUpload.current.click();\n                    }\n                    closeMenu();\n                  }}\n                  uploadFolderFunction={(closeMenu) => {\n                    if (folderUpload && folderUpload.current) {\n                      folderUpload.current.click();\n                    }\n                    closeMenu();\n                  }}\n                />\n              </Fragment>\n            }\n            bottomBorder={false}\n          />\n        </Grid>\n        <div\n          id=\"object-list-wrapper\"\n          {...getRootProps({ style: { ...dndStyles } })}\n        >\n          <input {...getInputProps()} />\n          <Grid\n            item\n            xs={12}\n            className={classes.tableBlock}\n            sx={{ border: \"#EAEDEE 1px solid\", borderTop: 0 }}\n          >\n            {versionsMode ? (\n              <Fragment>\n                {selectedInternalPaths !== null && (\n                  <VersionsNavigator\n                    internalPaths={selectedInternalPaths}\n                    bucketName={bucketName}\n                  />\n                )}\n              </Fragment>\n            ) : (\n              <SecureComponent\n                scopes={[\n                  IAM_SCOPES.S3_LIST_BUCKET,\n                  IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                ]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <Grid\n                  item\n                  xs={12}\n                  className={`${classes.fullContainer} ${\n                    detailsOpen ? \"detailsOpen\" : \"\"\n                  } `}\n                >\n                  {!anonymousMode && (\n                    <Grid item xs={12} className={classes.breadcrumbsContainer}>\n                      <BrowserBreadcrumbs\n                        bucketName={bucketName}\n                        internalPaths={pageTitle}\n                        additionalOptions={\n                          !isVersioningApplied || rewindEnabled ? null : (\n                            <div>\n                              <CheckboxWrapper\n                                name={\"deleted_objects\"}\n                                id={\"showDeletedObjects\"}\n                                value={\"deleted_on\"}\n                                label={\"Show deleted objects\"}\n                                onChange={setDeletedAction}\n                                checked={showDeleted}\n                                overrideLabelClasses={classes.labelStyle}\n                                className={classes.overrideShowDeleted}\n                                noTopMargin\n                              />\n                            </div>\n                          )\n                        }\n                        hidePathButton={false}\n                      />\n                    </Grid>\n                  )}\n                  <ListObjectsTable internalPaths={selectedInternalPaths} />\n                </Grid>\n              </SecureComponent>\n            )}\n            {!anonymousMode && (\n              <SecureComponent\n                scopes={[\n                  IAM_SCOPES.S3_LIST_BUCKET,\n                  IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                ]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <DetailsListPanel\n                  open={detailsOpen}\n                  closePanel={() => {\n                    onClosePanel(false);\n                  }}\n                  className={`${versionsMode ? classes.hideListOnSmall : \"\"}`}\n                >\n                  {selectedObjects.length > 0 && (\n                    <ActionsList\n                      items={multiActionButtons}\n                      title={\"Selected Objects:\"}\n                    />\n                  )}\n                  {selectedInternalPaths !== null && (\n                    <ObjectDetailPanel\n                      internalPaths={selectedInternalPaths}\n                      bucketName={bucketName}\n                      onClosePanel={onClosePanel}\n                      versioningInfo={versioningConfig}\n                      locking={lockingEnabled}\n                    />\n                  )}\n                </DetailsListPanel>\n              </SecureComponent>\n            )}\n          </Grid>\n        </div>\n      </PageLayout>\n    </Fragment>\n  );\n};\n\nexport default ListObjects;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect } from \"react\";\nimport {\n  IAM_PAGES,\n  IAM_PERMISSIONS,\n  IAM_ROLES,\n  IAM_SCOPES,\n} from \"../../../common/SecureComponent/permissions\";\nimport { SecureComponent } from \"../../../common/SecureComponent\";\nimport TooltipWrapper from \"../Common/TooltipWrapper/TooltipWrapper\";\nimport { BackLink, Button, SettingsIcon, Grid } from \"mds\";\nimport AutoColorIcon from \"../Common/Components/AutoColorIcon\";\nimport { useSelector } from \"react-redux\";\nimport { selFeatures } from \"../consoleSlice\";\nimport hasPermission from \"../../../common/SecureComponent/accessControl\";\nimport { useNavigate } from \"react-router-dom\";\nimport SearchBox from \"../Common/SearchBox\";\nimport { setSearchVersions } from \"./objectBrowserSlice\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport FilterObjectsSB from \"./FilterObjectsSB\";\nimport PageHeaderWrapper from \"../Common/PageHeaderWrapper/PageHeaderWrapper\";\nimport ObjectManagerButton from \"../Common/ObjectManager/ObjectManagerButton\";\nimport HelpMenu from \"../HelpMenu\";\nimport { setHelpName } from \"../../../systemSlice\";\n\ninterface IOBHeader {\n  bucketName: string;\n}\n\nconst OBHeader = ({ bucketName }: IOBHeader) => {\n  const dispatch = useAppDispatch();\n  const features = useSelector(selFeatures);\n\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode,\n  );\n  const versionedFile = useSelector(\n    (state: AppState) => state.objectBrowser.versionedFile,\n  );\n  const searchVersions = useSelector(\n    (state: AppState) => state.objectBrowser.searchVersions,\n  );\n\n  const obOnly = !!features?.includes(\"object-browser-only\");\n\n  const navigate = useNavigate();\n\n  const configureBucketAllowed = hasPermission(bucketName, [\n    IAM_SCOPES.S3_GET_BUCKET_POLICY,\n    IAM_SCOPES.S3_PUT_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,\n    IAM_SCOPES.S3_DELETE_BUCKET,\n    IAM_SCOPES.S3_GET_BUCKET_NOTIFICATIONS,\n    IAM_SCOPES.S3_PUT_BUCKET_NOTIFICATIONS,\n    IAM_SCOPES.S3_GET_REPLICATION_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_REPLICATION_CONFIGURATION,\n    IAM_SCOPES.S3_GET_LIFECYCLE_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_LIFECYCLE_CONFIGURATION,\n    IAM_SCOPES.ADMIN_GET_BUCKET_QUOTA,\n    IAM_SCOPES.ADMIN_SET_BUCKET_QUOTA,\n    IAM_SCOPES.S3_PUT_BUCKET_TAGGING,\n    IAM_SCOPES.S3_GET_BUCKET_TAGGING,\n    IAM_SCOPES.S3_LIST_BUCKET_VERSIONS,\n    IAM_SCOPES.S3_GET_BUCKET_POLICY_STATUS,\n    IAM_SCOPES.S3_DELETE_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const searchBar = (\n    <Fragment>\n      {!versionsMode ? (\n        <SecureComponent\n          scopes={[IAM_SCOPES.S3_LIST_BUCKET, IAM_SCOPES.S3_ALL_LIST_BUCKET]}\n          resource={bucketName}\n          errorProps={{ disabled: true }}\n        >\n          <FilterObjectsSB />\n        </SecureComponent>\n      ) : (\n        <Fragment>\n          <SearchBox\n            placeholder={`Start typing to filter versions of ${versionedFile}`}\n            onChange={(value) => {\n              dispatch(setSearchVersions(value));\n            }}\n            value={searchVersions}\n          />\n        </Fragment>\n      )}\n    </Fragment>\n  );\n\n  useEffect(() => {\n    dispatch(setHelpName(\"object_browser\"));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Fragment>\n      {!obOnly ? (\n        <PageHeaderWrapper\n          label={\n            <BackLink\n              label={\"Object Browser\"}\n              onClick={() => {\n                navigate(IAM_PAGES.OBJECT_BROWSER_VIEW);\n              }}\n            />\n          }\n          actions={\n            <Fragment>\n              <SecureComponent\n                scopes={IAM_PERMISSIONS[IAM_ROLES.BUCKET_ADMIN]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <TooltipWrapper\n                  tooltip={\n                    configureBucketAllowed\n                      ? \"Configure Bucket\"\n                      : \"You do not have the required permissions to configure this bucket. Please contact your MinIO administrator to request \" +\n                        IAM_ROLES.BUCKET_ADMIN +\n                        \" permisions.\"\n                  }\n                >\n                  <Button\n                    id={\"configure-bucket-main\"}\n                    color=\"primary\"\n                    aria-label=\"Configure Bucket\"\n                    onClick={() => navigate(`/buckets/${bucketName}/admin`)}\n                    icon={\n                      <SettingsIcon\n                        style={{ width: 20, height: 20, marginTop: -3 }}\n                      />\n                    }\n                    style={{\n                      padding: \"0 10px\",\n                    }}\n                  />\n                </TooltipWrapper>\n              </SecureComponent>\n              <HelpMenu />\n            </Fragment>\n          }\n          middleComponent={searchBar}\n        />\n      ) : (\n        <Grid\n          container\n          sx={{\n            padding: \"20px 32px 0\",\n          }}\n        >\n          <Grid>\n            <AutoColorIcon marginRight={30} marginTop={10} />\n          </Grid>\n          <Grid\n            item\n            xs\n            sx={{\n              display: \"flex\",\n              gap: 10,\n            }}\n          >\n            {searchBar}\n            <ObjectManagerButton />\n          </Grid>\n        </Grid>\n      )}\n    </Fragment>\n  );\n};\n\nexport default OBHeader;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { DateTime } from \"luxon\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { fieldBasic, tooltipHelper } from \"../common/styleLibrary\";\nimport { Grid, InputBox, InputLabel, LinkIcon } from \"mds\";\n\ninterface IDaysSelector {\n  classes: any;\n  id: string;\n  initialDate: Date;\n  maxDays?: number;\n  label: string;\n  entity: string;\n  onChange: (newDate: string, isValid: boolean) => void;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    labelContainer: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginBottom: 15,\n    },\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      paddingBottom: 10,\n      marginTop: 11,\n      marginBottom: 6,\n    },\n    durationInputs: {\n      display: \"flex\",\n      alignItems: \"flex-start\",\n      justifyContent: \"flex-start\",\n      gap: 10,\n    },\n\n    validityIndicator: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-start\",\n      marginTop: 25,\n      marginLeft: 10,\n    },\n    invalidDurationText: {\n      marginTop: 15,\n      display: \"flex\",\n      color: \"red\",\n      fontSize: 11,\n    },\n    reverseInput: {\n      flexFlow: \"row-reverse\",\n      \"& > label\": {\n        fontWeight: 400,\n        marginLeft: 15,\n        marginRight: 25,\n      },\n    },\n    validityText: {\n      fontSize: 14,\n      marginTop: 15,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      \"@media (max-width: 900px)\": {\n        flexFlow: \"column\",\n      },\n      \"& > .min-icon\": {\n        color: \"#5E5E5E\",\n        width: 15,\n        height: 15,\n        marginRight: 10,\n      },\n    },\n    validTill: {\n      fontWeight: \"bold\",\n      marginLeft: 15,\n    },\n  });\n\nconst calculateNewTime = (\n  initialDate: Date,\n  days: number,\n  hours: number,\n  minutes: number,\n) => {\n  return DateTime.fromJSDate(initialDate).plus({ days, hours, minutes });\n};\n\nconst DaysSelector = ({\n  classes,\n  id,\n  initialDate,\n  label,\n  maxDays,\n  entity,\n  onChange,\n}: IDaysSelector) => {\n  const [selectedDays, setSelectedDays] = useState<number>(7);\n  const [selectedHours, setSelectedHours] = useState<number>(0);\n  const [selectedMinutes, setSelectedMinutes] = useState<number>(0);\n  const [validDate, setValidDate] = useState<boolean>(true);\n  const [dateSelected, setDateSelected] = useState<DateTime>(DateTime.now());\n\n  useEffect(() => {\n    if (\n      !isNaN(selectedHours) &&\n      !isNaN(selectedDays) &&\n      !isNaN(selectedMinutes)\n    ) {\n      setDateSelected(\n        calculateNewTime(\n          initialDate,\n          selectedDays,\n          selectedHours,\n          selectedMinutes,\n        ),\n      );\n    }\n  }, [initialDate, selectedDays, selectedHours, selectedMinutes]);\n\n  useEffect(() => {\n    if (validDate) {\n      const formattedDate = dateSelected.toFormat(\"yyyy-MM-dd HH:mm:ss\");\n      onChange(formattedDate.split(\" \").join(\"T\"), true);\n    } else {\n      onChange(\"0000-00-00\", false);\n    }\n  }, [dateSelected, onChange, validDate]);\n\n  // Basic validation for inputs\n  useEffect(() => {\n    let valid = true;\n    if (\n      selectedDays < 0 ||\n      (maxDays && selectedDays > maxDays) ||\n      isNaN(selectedDays)\n    ) {\n      valid = false;\n    }\n\n    if (selectedHours < 0 || selectedHours > 23 || isNaN(selectedHours)) {\n      valid = false;\n    }\n\n    if (selectedMinutes < 0 || selectedMinutes > 59 || isNaN(selectedMinutes)) {\n      valid = false;\n    }\n\n    if (\n      maxDays &&\n      selectedDays === maxDays &&\n      (selectedHours !== 0 || selectedMinutes !== 0)\n    ) {\n      valid = false;\n    }\n\n    if (selectedDays <= 0 && selectedHours <= 0 && selectedMinutes <= 0) {\n      valid = false;\n    }\n\n    setValidDate(valid);\n  }, [\n    dateSelected,\n    maxDays,\n    onChange,\n    selectedDays,\n    selectedHours,\n    selectedMinutes,\n  ]);\n\n  const extraStyles = {\n    \"& .textBoxContainer\": {\n      minWidth: 0,\n    },\n    \"& input\": {\n      textAlign: \"center\" as const,\n      paddingRight: 10,\n      paddingLeft: 10,\n      width: 40,\n    },\n  };\n\n  return (\n    <Fragment>\n      <Grid container className={classes.fieldContainer}>\n        <Grid item xs={12} className={classes.labelContainer}>\n          <InputLabel htmlFor={id}>{label}</InputLabel>\n        </Grid>\n        <Grid item xs={12} className={classes.durationInputs}>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max={maxDays ? maxDays.toString() : \"999\"}\n              label=\"Days\"\n              name={id}\n              onChange={(e) => {\n                setSelectedDays(parseInt(e.target.value));\n              }}\n              value={selectedDays.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max=\"23\"\n              label=\"Hours\"\n              name={id}\n              onChange={(e) => {\n                setSelectedHours(parseInt(e.target.value));\n              }}\n              value={selectedHours.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max=\"59\"\n              label=\"Minutes\"\n              name={id}\n              onChange={(e) => {\n                setSelectedMinutes(parseInt(e.target.value));\n              }}\n              value={selectedMinutes.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          className={`${classes.validityIndicator} ${classes.formFieldRow}`}\n        >\n          {validDate ? (\n            <div className={classes.validityText}>\n              <LinkIcon />\n              <div className={classes.validityLabel}>\n                {entity} will be available until:\n              </div>{\" \"}\n              <div className={classes.validTill}>\n                {dateSelected.toFormat(\"MM/dd/yyyy HH:mm:ss\")}\n              </div>\n            </div>\n          ) : (\n            <div className={classes.invalidDurationText}>\n              Please select a valid duration.\n            </div>\n          )}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(DaysSelector);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Button, CopyIcon, ReadBox, ShareIcon, Grid, ProgressBar } from \"mds\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport DaysSelector from \"../../../../Common/FormComponents/DaysSelector/DaysSelector\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport {\n  selDistSet,\n  setModalErrorSnackMessage,\n  setModalSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { BucketObject } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IShareFileProps {\n  open: boolean;\n  bucketName: string;\n  dataObject: BucketObject;\n  closeModalAndRefresh: () => void;\n}\n\nconst ShareFile = ({\n  open,\n  closeModalAndRefresh,\n  bucketName,\n  dataObject,\n}: IShareFileProps) => {\n  const dispatch = useAppDispatch();\n  const distributedSetup = useSelector(selDistSet);\n  const [shareURL, setShareURL] = useState<string>(\"\");\n  const [isLoadingVersion, setIsLoadingVersion] = useState<boolean>(true);\n  const [isLoadingFile, setIsLoadingFile] = useState<boolean>(false);\n  const [selectedDate, setSelectedDate] = useState<string>(\"\");\n  const [dateValid, setDateValid] = useState<boolean>(true);\n  const [versionID, setVersionID] = useState<string>(\"null\");\n\n  const initialDate = new Date();\n\n  const dateChanged = (newDate: string, isValid: boolean) => {\n    setDateValid(isValid);\n    if (isValid) {\n      setSelectedDate(newDate);\n      return;\n    }\n    setSelectedDate(\"\");\n    setShareURL(\"\");\n  };\n\n  useEffect(() => {\n    // In case version is undefined, we get the latest version of the object\n    if (dataObject.version_id === undefined) {\n      // In case it is not distributed setup, then we default to \"null\";\n      if (distributedSetup) {\n        api.buckets\n          .listObjects(bucketName, {\n            prefix: encodeURLString(dataObject.name || \"\"),\n            with_versions: distributedSetup,\n          })\n          .then((res) => {\n            const result: BucketObject[] = res.data.objects || [];\n\n            const latestVersion: BucketObject | undefined = result.find(\n              (elem: BucketObject) => elem.is_latest,\n            );\n\n            if (latestVersion) {\n              setVersionID(`${latestVersion.version_id}`);\n              return;\n            }\n\n            // Version couldn't be retrieved, we default\n            setVersionID(\"null\");\n          })\n          .catch((err) => {\n            dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n          });\n\n        setIsLoadingVersion(false);\n        return;\n      }\n      setVersionID(\"null\");\n      setIsLoadingVersion(false);\n      return;\n    }\n    setVersionID(dataObject.version_id || \"null\");\n    setIsLoadingVersion(false);\n  }, [bucketName, dataObject, distributedSetup, dispatch]);\n\n  useEffect(() => {\n    if (dateValid && !isLoadingVersion) {\n      setIsLoadingFile(true);\n      setShareURL(\"\");\n\n      const slDate = new Date(`${selectedDate}`);\n      const currDate = new Date();\n\n      const diffDate = Math.ceil(\n        (slDate.getTime() - currDate.getTime()) / 1000,\n      );\n\n      if (diffDate > 0) {\n        api.buckets\n          .shareObject(bucketName, {\n            prefix: encodeURLString(dataObject.name || \"\"),\n            version_id: versionID,\n            expires: selectedDate !== \"\" ? `${diffDate}s` : \"\",\n          })\n          .then((res) => {\n            setShareURL(res.data);\n            setIsLoadingFile(false);\n          })\n          .catch((err) => {\n            dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n            setShareURL(\"\");\n            setIsLoadingFile(false);\n          });\n      }\n    }\n  }, [\n    dataObject,\n    selectedDate,\n    bucketName,\n    dateValid,\n    setShareURL,\n    dispatch,\n    distributedSetup,\n    isLoadingVersion,\n    versionID,\n  ]);\n\n  return (\n    <React.Fragment>\n      <ModalWrapper\n        title=\"Share File\"\n        titleIcon={<ShareIcon style={{ fill: \"#4CCB92\" }} />}\n        modalOpen={open}\n        onClose={() => {\n          closeModalAndRefresh();\n        }}\n      >\n        {isLoadingVersion && (\n          <Grid item xs={12}>\n            <ProgressBar />\n          </Grid>\n        )}\n        {!isLoadingVersion && (\n          <Fragment>\n            <Grid\n              item\n              xs={12}\n              sx={{\n                fontSize: 14,\n                fontWeight: 400,\n              }}\n            >\n              This is a temporary URL with integrated access credentials for\n              sharing objects valid for up to 7 days.\n              <br />\n              <br />\n              The temporary URL expires after the configured time limit.\n            </Grid>\n            <br />\n            <Grid item xs={12}>\n              <DaysSelector\n                initialDate={initialDate}\n                id=\"date\"\n                label=\"Active for\"\n                maxDays={7}\n                onChange={dateChanged}\n                entity=\"Link\"\n              />\n            </Grid>\n            <Grid\n              item\n              xs={12}\n              sx={{\n                marginBottom: 10,\n              }}\n            >\n              <ReadBox\n                actionButton={\n                  <CopyToClipboard text={shareURL}>\n                    <Button\n                      id={\"copy-path\"}\n                      variant=\"regular\"\n                      onClick={() => {\n                        dispatch(\n                          setModalSnackMessage(\"Share URL Copied to clipboard\"),\n                        );\n                      }}\n                      disabled={shareURL === \"\" || isLoadingFile}\n                      style={{\n                        width: \"28px\",\n                        height: \"28px\",\n                        padding: \"0px\",\n                      }}\n                      icon={<CopyIcon />}\n                    />\n                  </CopyToClipboard>\n                }\n              >\n                {shareURL}\n              </ReadBox>\n            </Grid>\n          </Fragment>\n        )}\n      </ModalWrapper>\n    </React.Fragment>\n  );\n};\n\nexport default ShareFile;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useCallback, useEffect, useState } from \"react\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Grid } from \"@mui/material\";\nimport { BucketObjectItem } from \"../ListObjects/types\";\nimport { AllowedPreviews, previewObjectType } from \"../utils\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport clsx from \"clsx\";\nimport WarningMessage from \"../../../../Common/WarningMessage/WarningMessage\";\nimport { api } from \"../../../../../../api\";\nimport get from \"lodash/get\";\nimport { ProgressBar } from \"mds\";\n\nconst styles = () =>\n  createStyles({\n    iframeContainer: {\n      border: \"0px\",\n      flex: \"1 1 auto\",\n      width: \"100%\",\n      height: 250,\n      backgroundColor: \"transparent\",\n      borderRadius: 5,\n\n      \"&.image\": {\n        height: 500,\n      },\n      \"&.text\": {\n        height: 700,\n      },\n      \"&.audio\": {\n        height: 150,\n      },\n      \"&.video\": {\n        height: 350,\n      },\n      \"&.fullHeight\": {\n        height: \"calc(100vh - 185px)\",\n      },\n    },\n    iframeBase: {\n      backgroundColor: \"#fff\",\n    },\n    iframeHidden: {\n      display: \"none\",\n    },\n  });\n\ninterface IPreviewFileProps {\n  bucketName: string;\n  object: BucketObjectItem | null;\n  isFullscreen?: boolean;\n  classes: any;\n}\n\nconst PreviewFile = ({\n  bucketName,\n  object,\n  isFullscreen = false,\n  classes,\n}: IPreviewFileProps) => {\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const [metaData, setMetaData] = useState<any>(null);\n  const [isMetaDataLoaded, setIsMetaDataLoaded] = useState(false);\n\n  const objectName = object?.name || \"\";\n\n  const fetchMetadata = useCallback(() => {\n    if (!isMetaDataLoaded) {\n      const encodedPath = encodeURLString(objectName);\n      api.buckets\n        .getObjectMetadata(bucketName, {\n          prefix: encodedPath,\n        })\n        .then((res) => {\n          let metadata = get(res.data, \"objectMetadata\", {});\n          setIsMetaDataLoaded(true);\n          setMetaData(metadata);\n        })\n        .catch((err) => {\n          console.error(\n            \"Error Getting Metadata Status: \",\n            err,\n            err?.detailedError,\n          );\n          setIsMetaDataLoaded(true);\n        });\n    }\n  }, [bucketName, objectName, isMetaDataLoaded]);\n\n  useEffect(() => {\n    if (bucketName && objectName) {\n      fetchMetadata();\n    }\n  }, [bucketName, objectName, fetchMetadata]);\n\n  let path = \"\";\n\n  if (object) {\n    const encodedPath = encodeURLString(object.name);\n    let basename = document.baseURI.replace(window.location.origin, \"\");\n    path = `${window.location.origin}${basename}api/v1/buckets/${bucketName}/objects/download?preview=true&prefix=${encodedPath}`;\n    if (object.version_id) {\n      path = path.concat(`&version_id=${object.version_id}`);\n    }\n  }\n\n  let objectType: AllowedPreviews = previewObjectType(metaData, objectName);\n\n  const iframeLoaded = () => {\n    setLoading(false);\n  };\n\n  return (\n    <Fragment>\n      {objectType !== \"none\" && loading && (\n        <Grid item xs={12}>\n          <ProgressBar />\n        </Grid>\n      )}\n      {isMetaDataLoaded ? (\n        <div style={{ textAlign: \"center\" }}>\n          {objectType === \"video\" && (\n            <video\n              style={{\n                width: \"auto\",\n                height: \"auto\",\n                maxWidth: \"calc(100vw - 100px)\",\n                maxHeight: \"calc(100vh - 200px)\",\n              }}\n              autoPlay={true}\n              controls={true}\n              muted={false}\n              playsInline={true}\n              onPlay={iframeLoaded}\n            >\n              <source src={path} type=\"video/mp4\" />\n            </video>\n          )}\n          {objectType === \"audio\" && (\n            <audio\n              style={{\n                width: \"100%\",\n                height: \"auto\",\n              }}\n              autoPlay={true}\n              controls={true}\n              muted={false}\n              playsInline={true}\n              onPlay={iframeLoaded}\n            >\n              <source src={path} type=\"audio/mpeg\" />\n            </audio>\n          )}\n          {objectType === \"image\" && (\n            <img\n              style={{\n                width: \"auto\",\n                height: \"auto\",\n                maxWidth: \"100vw\",\n                maxHeight: \"100vh\",\n              }}\n              src={path}\n              alt={\"preview\"}\n              onLoad={iframeLoaded}\n            />\n          )}\n          {objectType === \"none\" && (\n            <div>\n              <WarningMessage\n                label=\" File couldn't be previewed using file extension or mime type. Please\n            try Download instead\"\n                title=\"Preview unavailable \"\n              />\n            </div>\n          )}\n          {objectType !== \"none\" &&\n            objectType !== \"video\" &&\n            objectType !== \"audio\" &&\n            objectType !== \"image\" && (\n              <div\n                className={clsx(classes.iframeBase, {\n                  [classes.iframeHidden]: loading,\n                })}\n              >\n                <iframe\n                  src={path}\n                  title=\"File Preview\"\n                  allowTransparency\n                  className={`${classes.iframeContainer} ${\n                    isFullscreen ? \"fullHeight\" : objectType\n                  }`}\n                  onLoad={iframeLoaded}\n                >\n                  File couldn't be loaded. Please try Download instead\n                </iframe>\n              </div>\n            )}\n        </div>\n      ) : null}\n    </Fragment>\n  );\n};\nexport default withStyles(styles)(PreviewFile);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport PreviewFileContent from \"./PreviewFileContent\";\nimport { BucketObjectItem } from \"../ListObjects/types\";\nimport { ObjectPreviewIcon } from \"mds\";\n\ninterface IPreviewFileProps {\n  open: boolean;\n  bucketName: string;\n  object: BucketObjectItem | null;\n  onClosePreview: () => void;\n}\n\nconst PreviewFileModal = ({\n  open,\n  bucketName,\n  object,\n  onClosePreview,\n}: IPreviewFileProps) => {\n  return (\n    <Fragment>\n      <ModalWrapper\n        modalOpen={open}\n        title={`Preview - ${object?.name}`}\n        onClose={onClosePreview}\n        wideLimit={false}\n        titleIcon={<ObjectPreviewIcon />}\n      >\n        <PreviewFileContent bucketName={bucketName} object={object} />\n      </ModalWrapper>\n    </Fragment>\n  );\n};\n\nexport default PreviewFileModal;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { BucketObjectItem } from \"./ListObjects/types\";\nimport { encodeURLString } from \"../../../../../common/utils\";\nimport { removeTrace } from \"../../../ObjectBrowser/transferManager\";\nimport store from \"../../../../../store\";\nimport { ContentType, PermissionResource } from \"api/consoleApi\";\nimport { api } from \"../../../../../api\";\nimport { setErrorSnackMessage } from \"../../../../../systemSlice\";\n\nconst downloadWithLink = (href: string, downloadFileName: string) => {\n  const link = document.createElement(\"a\");\n  link.href = href;\n  link.download = downloadFileName;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n\nexport const downloadSelectedAsZip = async (\n  bucketName: string,\n  objectList: string[],\n  resultFileName: string,\n) => {\n  const state = store.getState();\n  const anonymousMode = state.system.anonymousMode;\n\n  try {\n    const resp = await api.buckets.downloadMultipleObjects(\n      bucketName,\n      objectList,\n      {\n        type: ContentType.Json,\n        headers: anonymousMode\n          ? {\n              \"X-Anonymous\": \"1\",\n            }\n          : undefined,\n      },\n    );\n    const blob = await resp.blob();\n    const href = window.URL.createObjectURL(blob);\n    downloadWithLink(href, resultFileName);\n  } catch (err: any) {\n    store.dispatch(\n      setErrorSnackMessage({\n        errorMessage: `Download of multiple files failed. ${err.statusText}`,\n        detailedError: \"\",\n      }),\n    );\n  }\n};\nexport const download = (\n  bucketName: string,\n  objectPath: string,\n  versionID: any,\n  fileSize: number,\n  overrideFileName: string | null = null,\n  id: string,\n  progressCallback: (progress: number) => void,\n  completeCallback: () => void,\n  errorCallback: (msg: string) => void,\n  abortCallback: () => void,\n  toastCallback: () => void,\n) => {\n  let basename = document.baseURI.replace(window.location.origin, \"\");\n  const state = store.getState();\n  const anonymousMode = state.system.anonymousMode;\n\n  let path = `${\n    window.location.origin\n  }${basename}api/v1/buckets/${bucketName}/objects/download?prefix=${objectPath}${\n    overrideFileName !== null && overrideFileName.trim() !== \"\"\n      ? `&override_file_name=${encodeURLString(overrideFileName || \"\")}`\n      : \"\"\n  }`;\n  if (versionID) {\n    path = path.concat(`&version_id=${versionID}`);\n  }\n\n  // If file is greater than 50GiB then we force browser download, if not then we use HTTP Request for Object Manager\n  if (fileSize > 53687091200) {\n    return new BrowserDownload(path, id, completeCallback, toastCallback);\n  }\n\n  let req = new XMLHttpRequest();\n  req.open(\"GET\", path, true);\n  if (anonymousMode) {\n    req.setRequestHeader(\"X-Anonymous\", \"1\");\n  }\n  req.addEventListener(\n    \"progress\",\n    function (evt) {\n      let percentComplete = Math.round((evt.loaded / fileSize) * 100);\n\n      if (progressCallback) {\n        progressCallback(percentComplete);\n      }\n    },\n    false,\n  );\n\n  req.responseType = \"blob\";\n  req.onreadystatechange = () => {\n    if (req.readyState === 4) {\n      if (req.status === 200) {\n        const rspHeader = req.getResponseHeader(\"Content-Disposition\");\n\n        let filename = \"download\";\n        if (rspHeader) {\n          let rspHeaderDecoded = decodeURIComponent(rspHeader);\n          filename = rspHeaderDecoded.split('\"')[1];\n        }\n\n        if (completeCallback) {\n          completeCallback();\n        }\n\n        removeTrace(id);\n\n        downloadWithLink(window.URL.createObjectURL(req.response), filename);\n      } else {\n        if (req.getResponseHeader(\"Content-Type\") === \"application/json\") {\n          const rspBody: { detailedMessage?: string } = JSON.parse(\n            req.response,\n          );\n          if (rspBody.detailedMessage) {\n            errorCallback(rspBody.detailedMessage);\n            return;\n          }\n        }\n        errorCallback(`Unexpected response status code (${req.status}).`);\n      }\n    }\n  };\n  req.onerror = () => {\n    if (errorCallback) {\n      errorCallback(\"A network error occurred.\");\n    }\n  };\n  req.onabort = () => {\n    if (abortCallback) {\n      abortCallback();\n    }\n  };\n\n  return req;\n};\n\nclass BrowserDownload {\n  path: string;\n  id: string;\n  completeCallback: () => void;\n  toastCallback: () => void;\n\n  constructor(\n    path: string,\n    id: string,\n    completeCallback: () => void,\n    toastCallback: () => void,\n  ) {\n    this.path = path;\n    this.id = id;\n    this.completeCallback = completeCallback;\n    this.toastCallback = toastCallback;\n  }\n\n  send(): void {\n    this.toastCallback();\n    const link = document.createElement(\"a\");\n    link.href = this.path;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    this.completeCallback();\n    removeTrace(this.id);\n  }\n}\n\nexport type AllowedPreviews = \"image\" | \"text\" | \"audio\" | \"video\" | \"none\";\nexport const contentTypePreview = (contentType: string): AllowedPreviews => {\n  if (contentType) {\n    const mimeObjectType = (contentType || \"\").toLowerCase();\n\n    if (mimeObjectType.includes(\"image\")) {\n      return \"image\";\n    }\n    if (mimeObjectType.includes(\"text\")) {\n      return \"text\";\n    }\n    if (mimeObjectType.includes(\"audio\")) {\n      return \"audio\";\n    }\n    if (mimeObjectType.includes(\"video\")) {\n      return \"video\";\n    }\n  }\n\n  return \"none\";\n};\n\n// Review file extension by name & returns the type of preview browser that can be used\nexport const extensionPreview = (fileName: string): AllowedPreviews => {\n  const imageExtensions = [\n    \"jif\",\n    \"jfif\",\n    \"apng\",\n    \"avif\",\n    \"svg\",\n    \"webp\",\n    \"bmp\",\n    \"ico\",\n    \"jpg\",\n    \"jpe\",\n    \"jpeg\",\n    \"gif\",\n    \"png\",\n    \"heic\",\n  ];\n  const textExtensions = [\"pdf\"];\n  const audioExtensions = [\"wav\", \"mp3\", \"alac\", \"aiff\", \"dsd\", \"pcm\"];\n  const videoExtensions = [\n    \"mp4\",\n    \"avi\",\n    \"mpg\",\n    \"webm\",\n    \"mov\",\n    \"flv\",\n    \"mkv\",\n    \"wmv\",\n    \"avchd\",\n    \"mpeg-4\",\n  ];\n\n  let fileExtension = fileName.split(\".\").pop();\n\n  if (!fileExtension) {\n    return \"none\";\n  }\n\n  fileExtension = fileExtension.toLowerCase();\n\n  if (imageExtensions.includes(fileExtension)) {\n    return \"image\";\n  }\n\n  if (textExtensions.includes(fileExtension)) {\n    return \"text\";\n  }\n\n  if (audioExtensions.includes(fileExtension)) {\n    return \"audio\";\n  }\n\n  if (videoExtensions.includes(fileExtension)) {\n    return \"video\";\n  }\n\n  return \"none\";\n};\n\nexport const previewObjectType = (\n  metaData: Record<any, any>,\n  objectName: string,\n) => {\n  const metaContentType = (\n    (metaData && metaData[\"Content-Type\"]) ||\n    \"\"\n  ).toString();\n\n  const extensionType = extensionPreview(objectName || \"\");\n  const contentType = contentTypePreview(metaContentType);\n\n  let objectType: AllowedPreviews = extensionType;\n\n  if (extensionType === contentType) {\n    objectType = extensionType;\n  } else if (extensionType === \"none\" && contentType !== \"none\") {\n    objectType = contentType;\n  } else if (contentType === \"none\" && extensionType !== \"none\") {\n    objectType = extensionType;\n  }\n\n  return objectType;\n};\nexport const sortListObjects = (fieldSort: string) => {\n  switch (fieldSort) {\n    case \"name\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        a.name.localeCompare(b.name);\n    case \"last_modified\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        new Date(a.last_modified).getTime() -\n        new Date(b.last_modified).getTime();\n    case \"size\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        (a.size || -1) - (b.size || -1);\n  }\n};\n\nexport const permissionItems = (\n  bucketName: string,\n  currentPath: string,\n  permissionsArray: PermissionResource[],\n): BucketObjectItem[] | null => {\n  if (permissionsArray.length === 0) {\n    return null;\n  }\n\n  // We get permissions applied to the current bucket\n  const filteredPermissionsForBucket = permissionsArray.filter(\n    (permissionItem) =>\n      permissionItem.resource?.endsWith(`:${bucketName}`) ||\n      permissionItem.resource?.includes(`:${bucketName}/`),\n  );\n\n  // No permissions for this bucket. we can throw the error message at this point\n  if (filteredPermissionsForBucket.length === 0) {\n    return null;\n  }\n\n  let returnElements: BucketObjectItem[] = [];\n\n  // We split current path\n  const splitCurrentPath = currentPath.split(\"/\");\n\n  filteredPermissionsForBucket.forEach((permissionElement) => {\n    // We review paths in resource address\n\n    // We split ARN & get the last item to check the URL\n    const splitARN = permissionElement.resource?.split(\":\");\n    const urlARN = splitARN?.pop() || \"\";\n\n    // We split the paths of the URL & compare against current location to see if there are more items to include. In case current level is a wildcard or is the last one, we omit this validation\n\n    const splitURLARN = urlARN.split(\"/\");\n\n    // splitURL has more items than bucket name, we can continue validating\n    if (splitURLARN.length > 1) {\n      splitURLARN.every((currentElementInPath, index) => {\n        // It is a wildcard element. We can store the verification as value should be included (?)\n        if (currentElementInPath === \"*\") {\n          return false;\n        }\n\n        // Element is not included in the path. The user is trying to browse something else.\n        if (\n          splitCurrentPath[index] &&\n          splitCurrentPath[index] !== currentElementInPath\n        ) {\n          return false;\n        }\n\n        // This element is not included by index in the current paths list. We add it so user can browse into it\n        if (!splitCurrentPath[index]) {\n          returnElements.push({\n            name: `${currentElementInPath}/`,\n            size: 0,\n            last_modified: \"\",\n            version_id: \"\",\n          });\n        }\n\n        return true;\n      });\n    }\n\n    // We review prefixes in allow resources for StringEquals variant only.\n    if (\n      permissionElement.conditionOperator === \"StringEquals\" ||\n      permissionElement.conditionOperator === \"StringLike\"\n    ) {\n      permissionElement.prefixes?.forEach((prefixItem) => {\n        // Prefix Item is not empty?\n        if (prefixItem !== \"\") {\n          const splitItems = prefixItem.split(\"/\");\n\n          let pathToRouteElements: string[] = [];\n\n          // We verify if currentPath is contained in the path begin, if is not contained the  user has no access to this subpath\n          const cleanCurrPath = currentPath.replace(/\\/$/, \"\");\n\n          if (!prefixItem.startsWith(cleanCurrPath) && currentPath !== \"\") {\n            return;\n          }\n\n          // For every split element we iterate and check if we can construct a URL\n          splitItems.every((splitElement, index) => {\n            if (!splitElement.includes(\"*\") && splitElement !== \"\") {\n              if (splitElement !== splitCurrentPath[index]) {\n                returnElements.push({\n                  name: `${pathToRouteElements.join(\"/\")}${\n                    pathToRouteElements.length > 0 ? \"/\" : \"\"\n                  }${splitElement}/`,\n                  size: 0,\n                  last_modified: \"\",\n                  version_id: \"\",\n                });\n                return false;\n              }\n              if (splitElement !== \"\") {\n                pathToRouteElements.push(splitElement);\n              }\n\n              return true;\n            }\n            return false;\n          });\n        }\n      });\n    }\n  });\n\n  // We clean duplicated name entries\n  if (returnElements.length > 0) {\n    let clElements: BucketObjectItem[] = [];\n    let keys: string[] = [];\n\n    returnElements.forEach((itm) => {\n      if (!keys.includes(itm.name)) {\n        clElements.push(itm);\n        keys.push(itm.name);\n      }\n    });\n\n    returnElements = clElements;\n  }\n\n  return returnElements;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { ComponentType, Suspense, SuspenseProps } from \"react\";\n\nfunction withSuspense<P extends string | number | object>(\n  WrappedComponent: ComponentType<P>,\n  fallback: SuspenseProps[\"fallback\"] = null,\n) {\n  function ComponentWithSuspense(props: P) {\n    return (\n      <Suspense fallback={fallback}>\n        <WrappedComponent {...(props as any)} />\n      </Suspense>\n    );\n  }\n\n  return ComponentWithSuspense;\n}\n\nexport default withSuspense;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React from \"react\";\nimport { Checkbox, Grid, InputLabel, Tooltip } from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  checkboxIcons,\n  fieldBasic,\n  tooltipHelper,\n} from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\n\ninterface CheckBoxProps {\n  label: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  tooltip?: string;\n  overrideLabelClasses?: string;\n  overrideCheckboxStyles?: React.CSSProperties;\n  index?: number;\n  noTopMargin?: boolean;\n  checked: boolean;\n  className?: string;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    ...checkboxIcons,\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n      margin: \"15px 0\",\n      marginBottom: 0,\n      flexBasis: \"initial\",\n      flexWrap: \"nowrap\",\n    },\n    noTopMargin: {\n      marginTop: 0,\n    },\n  });\n\nconst CheckboxWrapper = ({\n  label,\n  onChange,\n  value,\n  id,\n  name,\n  checked = false,\n  disabled = false,\n  noTopMargin = false,\n  tooltip = \"\",\n  overrideLabelClasses = \"\",\n  overrideCheckboxStyles,\n  classes,\n  className,\n}: CheckBoxProps) => {\n  return (\n    <React.Fragment>\n      <Grid\n        item\n        xs={12}\n        className={`${classes.fieldContainer} ${\n          noTopMargin ? classes.noTopMargin : \"\"\n        } ${className ? className : \"\"}`}\n      >\n        <div>\n          <Checkbox\n            name={name}\n            id={id}\n            value={value}\n            color=\"primary\"\n            inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n            checked={checked}\n            onChange={onChange}\n            checkedIcon={<span className={classes.checkedIcon} />}\n            icon={<span className={classes.unCheckedIcon} />}\n            disabled={disabled}\n            disableRipple\n            disableFocusRipple\n            focusRipple={false}\n            centerRipple={false}\n            disableTouchRipple\n            style={overrideCheckboxStyles || {}}\n          />\n        </div>\n        {label !== \"\" && (\n          <InputLabel\n            htmlFor={id}\n            className={`${classes.noMinWidthLabel} ${overrideLabelClasses}`}\n          >\n            <span>{label}</span>\n            {tooltip !== \"\" && (\n              <div className={classes.tooltipContainer}>\n                <Tooltip title={tooltip} placement=\"top-start\">\n                  <div className={classes.tooltip}>\n                    <HelpIcon />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n          </InputLabel>\n        )}\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(CheckboxWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { InputLabel, Switch, Tooltip, Typography } from \"@mui/material\";\nimport Grid from \"@mui/material/Grid\";\nimport { actionsTray, fieldBasic } from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\nimport clsx from \"clsx\";\nimport { InputProps as StandardInputProps } from \"@mui/material/Input/Input\";\n\ninterface IFormSwitch {\n  label?: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  tooltip?: string;\n  description?: string;\n  index?: number;\n  checked: boolean;\n  switchOnly?: boolean;\n  indicatorLabels?: string[];\n  extraInputProps?: StandardInputProps[\"inputProps\"];\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    indicatorLabelOn: {\n      fontWeight: \"bold\",\n      color: \"#081C42 !important\",\n    },\n    indicatorLabel: {\n      fontSize: 12,\n      color: \"#E2E2E2\",\n      margin: \"0 8px 0 10px\",\n    },\n    fieldDescription: {\n      marginTop: 4,\n      color: \"#999999\",\n    },\n    tooltip: {\n      fontSize: 16,\n    },\n    ...actionsTray,\n    ...fieldBasic,\n  });\n\nconst StyledSwitch = withStyles((theme) => ({\n  root: {\n    width: 50,\n    height: 24,\n    padding: 0,\n    margin: 0,\n  },\n  switchBase: {\n    padding: 1,\n    \"&$checked\": {\n      transform: \"translateX(24px)\",\n      color: theme.palette.common.white,\n      \"& + $track\": {\n        backgroundColor: \"#4CCB92\",\n        boxShadow: \"inset 0px 1px 4px rgba(0,0,0,0.1)\",\n        opacity: 1,\n        border: \"none\",\n      },\n    },\n    \"&$focusVisible $thumb\": {\n      color: \"#4CCB92\",\n      border: \"6px solid #fff\",\n    },\n  },\n  thumb: {\n    width: 22,\n    height: 22,\n    backgroundColor: \"#FAFAFA\",\n    border: \"2px solid #FFFFFF\",\n    marginLeft: 1,\n  },\n  track: {\n    borderRadius: 24 / 2,\n    backgroundColor: \"#E2E2E2\",\n    boxShadow: \"inset 0px 1px 4px rgba(0,0,0,0.1)\",\n    opacity: 1,\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\n  },\n  checked: {},\n  focusVisible: {},\n  switchContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n  },\n}))(Switch);\n\nconst FormSwitchWrapper = ({\n  label = \"\",\n  onChange,\n  value,\n  id,\n  name,\n  checked = false,\n  disabled = false,\n  switchOnly = false,\n  tooltip = \"\",\n  description = \"\",\n  classes,\n  indicatorLabels,\n  extraInputProps = {},\n}: IFormSwitch) => {\n  const switchComponent = (\n    <React.Fragment>\n      {!switchOnly && (\n        <span\n          className={clsx(classes.indicatorLabel, {\n            [classes.indicatorLabelOn]: !checked,\n          })}\n        >\n          {indicatorLabels && indicatorLabels.length > 1\n            ? indicatorLabels[1]\n            : \"OFF\"}\n        </span>\n      )}\n      <StyledSwitch\n        checked={checked}\n        onChange={onChange}\n        color=\"primary\"\n        name={name}\n        inputProps={{ \"aria-label\": \"primary checkbox\", ...extraInputProps }}\n        disabled={disabled}\n        disableRipple\n        disableFocusRipple\n        disableTouchRipple\n        value={value}\n        id={id}\n      />\n      {!switchOnly && (\n        <span\n          className={clsx(classes.indicatorLabel, {\n            [classes.indicatorLabelOn]: checked,\n          })}\n        >\n          {indicatorLabels ? indicatorLabels[0] : \"ON\"}\n        </span>\n      )}\n    </React.Fragment>\n  );\n\n  if (switchOnly) {\n    return switchComponent;\n  }\n\n  return (\n    <div>\n      <Grid container alignItems={\"center\"}>\n        <Grid item xs={12} sm={8} md={8}>\n          {label !== \"\" && (\n            <InputLabel htmlFor={id} className={classes.inputLabel}>\n              <span>{label}</span>\n              {tooltip !== \"\" && (\n                <div className={classes.tooltipContainer}>\n                  <Tooltip title={tooltip} placement=\"top-start\">\n                    <div className={classes.tooltip}>\n                      <HelpIcon />\n                    </div>\n                  </Tooltip>\n                </div>\n              )}\n            </InputLabel>\n          )}\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          sm={label !== \"\" ? 4 : 12}\n          md={label !== \"\" ? 4 : 12}\n          textAlign={\"right\"}\n          justifyContent={\"end\"}\n          className={classes.switchContainer}\n        >\n          {switchComponent}\n        </Grid>\n        {description !== \"\" && (\n          <Grid item xs={12} textAlign={\"left\"}>\n            <Typography component=\"p\" className={classes.fieldDescription}>\n              {description}\n            </Typography>\n          </Grid>\n        )}\n      </Grid>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(FormSwitchWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React, { ClipboardEvent, useState } from \"react\";\nimport {\n  Grid,\n  IconButton,\n  InputLabel,\n  TextField,\n  TextFieldProps,\n  Tooltip,\n} from \"@mui/material\";\nimport { OutlinedInputProps } from \"@mui/material/OutlinedInput\";\nimport { InputProps as StandardInputProps } from \"@mui/material/Input\";\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\nimport RemoveRedEyeIcon from \"@mui/icons-material/RemoveRedEye\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  fieldBasic,\n  inputFieldStyles,\n  tooltipHelper,\n} from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\nimport clsx from \"clsx\";\n\ninterface InputBoxProps {\n  label: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onKeyPress?: (e: any) => void;\n  onFocus?: () => void;\n  onPaste?: (e: ClipboardEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  multiline?: boolean;\n  type?: string;\n  tooltip?: string;\n  autoComplete?: string;\n  index?: number;\n  error?: string;\n  required?: boolean;\n  placeholder?: string;\n  min?: string;\n  max?: string;\n  overlayId?: string;\n  overlayIcon?: any;\n  overlayAction?: () => void;\n  overlayObject?: any;\n  extraInputProps?: StandardInputProps[\"inputProps\"];\n  noLabelMinWidth?: boolean;\n  pattern?: string;\n  autoFocus?: boolean;\n  className?: string;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    textBoxContainer: {\n      flexGrow: 1,\n      position: \"relative\",\n    },\n    overlayAction: {\n      position: \"absolute\",\n      right: 5,\n      top: 6,\n      \"& svg\": {\n        maxWidth: 15,\n        maxHeight: 15,\n      },\n      \"&.withLabel\": {\n        top: 5,\n      },\n    },\n  });\n\nconst inputStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...inputFieldStyles,\n  }),\n);\n\nfunction InputField(props: TextFieldProps) {\n  const classes = inputStyles();\n\n  return (\n    <TextField\n      InputProps={{ classes } as Partial<OutlinedInputProps>}\n      {...props}\n    />\n  );\n}\n\nconst InputBoxWrapper = ({\n  label,\n  onChange,\n  value,\n  id,\n  name,\n  type = \"text\",\n  autoComplete = \"off\",\n  disabled = false,\n  multiline = false,\n  tooltip = \"\",\n  index = 0,\n  error = \"\",\n  required = false,\n  placeholder = \"\",\n  min,\n  max,\n  overlayId,\n  overlayIcon = null,\n  overlayObject = null,\n  extraInputProps = {},\n  overlayAction,\n  noLabelMinWidth = false,\n  pattern = \"\",\n  autoFocus = false,\n  classes,\n  className = \"\",\n  onKeyPress,\n  onFocus,\n  onPaste,\n}: InputBoxProps) => {\n  let inputProps: any = { \"data-index\": index, ...extraInputProps };\n  const [toggleTextInput, setToggleTextInput] = useState<boolean>(false);\n\n  if (type === \"number\" && min) {\n    inputProps[\"min\"] = min;\n  }\n\n  if (type === \"number\" && max) {\n    inputProps[\"max\"] = max;\n  }\n\n  if (pattern !== \"\") {\n    inputProps[\"pattern\"] = pattern;\n  }\n\n  let inputBoxWrapperIcon = overlayIcon;\n  let inputBoxWrapperType = type;\n\n  if (type === \"password\" && overlayIcon === null) {\n    inputBoxWrapperIcon = toggleTextInput ? (\n      <VisibilityOffIcon />\n    ) : (\n      <RemoveRedEyeIcon />\n    );\n    inputBoxWrapperType = toggleTextInput ? \"text\" : \"password\";\n  }\n\n  return (\n    <React.Fragment>\n      <Grid\n        container\n        className={clsx(\n          className !== \"\" ? className : \"\",\n          error !== \"\" ? classes.errorInField : classes.inputBoxContainer,\n        )}\n      >\n        {label !== \"\" && (\n          <InputLabel\n            htmlFor={id}\n            className={\n              noLabelMinWidth ? classes.noMinWidthLabel : classes.inputLabel\n            }\n          >\n            <span>\n              {label}\n              {required ? \"*\" : \"\"}\n            </span>\n            {tooltip !== \"\" && (\n              <div className={classes.tooltipContainer}>\n                <Tooltip title={tooltip} placement=\"top-start\">\n                  <div className={classes.tooltip}>\n                    <HelpIcon />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n          </InputLabel>\n        )}\n\n        <div className={classes.textBoxContainer}>\n          <InputField\n            id={id}\n            name={name}\n            fullWidth\n            value={value}\n            autoFocus={autoFocus}\n            disabled={disabled}\n            onChange={onChange}\n            type={inputBoxWrapperType}\n            multiline={multiline}\n            autoComplete={autoComplete}\n            inputProps={inputProps}\n            error={error !== \"\"}\n            helperText={error}\n            placeholder={placeholder}\n            className={classes.inputRebase}\n            onKeyPress={onKeyPress}\n            onFocus={onFocus}\n            onPaste={onPaste}\n          />\n          {inputBoxWrapperIcon && (\n            <div\n              className={`${classes.overlayAction} ${\n                label !== \"\" ? \"withLabel\" : \"\"\n              }`}\n            >\n              <IconButton\n                onClick={\n                  overlayAction\n                    ? () => {\n                        overlayAction();\n                      }\n                    : () => setToggleTextInput(!toggleTextInput)\n                }\n                id={overlayId}\n                size={\"small\"}\n                disableFocusRipple={false}\n                disableRipple={false}\n                disableTouchRipple={false}\n              >\n                {inputBoxWrapperIcon}\n              </IconButton>\n            </div>\n          )}\n          {overlayObject && (\n            <div\n              className={`${classes.overlayAction} ${\n                label !== \"\" ? \"withLabel\" : \"\"\n              }`}\n            >\n              {overlayObject}\n            </div>\n          )}\n        </div>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(InputBoxWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\n\ninterface IWarningMessage {\n  classes: any;\n  label: any;\n  title: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    headerContainer: {\n      backgroundColor: \"#e78794\",\n      borderRadius: 3,\n      marginBottom: 20,\n      padding: 1,\n      paddingBottom: 15,\n    },\n    labelHeadline: {\n      color: \"#000000\",\n      fontSize: 14,\n      marginLeft: 20,\n    },\n    labelText: {\n      color: \"#000000\",\n      fontSize: 14,\n      marginLeft: 20,\n      marginRight: 40,\n    },\n  });\n\nconst WarningMessage = ({ classes, label, title }: IWarningMessage) => {\n  return (\n    <div className={classes.headerContainer}>\n      <h4 className={classes.labelHeadline}>{title}</h4>\n      <div className={classes.labelText}>{label}</div>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(WarningMessage);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport { Box } from \"@mui/material\";\nimport { Button, CopyIcon } from \"mds\";\nimport InputBoxWrapper from \"../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\n\nconst KeyRevealer = ({ value }: { value: string }) => {\n  const [shown, setShown] = useState<boolean>(false);\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        alignItems: \"center\",\n        flexFlow: {\n          sm: \"row\",\n          xs: \"column\",\n        },\n      }}\n    >\n      <InputBoxWrapper\n        id=\"inspect-dec-key\"\n        name=\"inspect-dec-key\"\n        placeholder=\"\"\n        label=\"\"\n        type={shown ? \"text\" : \"password\"}\n        onChange={() => {}}\n        value={value}\n        overlayIcon={<CopyIcon />}\n        extraInputProps={{\n          readOnly: true,\n        }}\n        overlayAction={() => navigator.clipboard.writeText(value)}\n      />\n\n      <Button\n        id={\"show-hide-key\"}\n        style={{\n          marginLeft: \"10px\",\n        }}\n        variant=\"callAction\"\n        onClick={() => setShown(!shown)}\n        label={\"Show/Hide\"}\n      />\n    </Box>\n  );\n};\n\nexport default KeyRevealer;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n// Close codes for websockets defined in RFC 6455\nexport const WSCloseAbnormalClosure = 1006;\nexport const WSClosePolicyViolation = 1008;\nexport const WSCloseInternalServerErr = 1011;\n\nexport const wsProtocol = (protocol: string): string => {\n  let wsProtocol = \"ws\";\n  if (protocol === \"https:\") {\n    wsProtocol = \"wss\";\n  }\n  return wsProtocol;\n};\n"],"names":["_ref","modalOpen","onClose","bucket","prefilledRoute","dispatch","useAppDispatch","_useState","useState","_useState2","_slicedToArray","prefix","setPrefix","_useState3","_useState4","selectedAccess","setSelectedAccess","useEffect","_jsx","ModalWrapper","title","titleIcon","AddAccessRuleIcon","children","_jsxs","FormLayout","withBorders","containerPadding","InputBox","value","label","id","name","placeholder","onChange","e","target","tooltip","Select","options","disabled","Grid","item","xs","sx","modalStyleUtils","modalButtonBar","Button","type","variant","onClick","trim","api","setAccessRuleWithBucket","access","then","res","setSnackBarMessage","catch","setErrorSnackMessage","errorToHandler","error","objectsWS","extractFileExtn","resourceStr","match","getSessionGrantsWildCard","sessionGrants","uploadPath","scopes","arguments","length","undefined","grantsWithExtension","Object","keys","reduce","acc","grantKey","includes","filter","sessionGrantKey","hasScope","some","actionKey","find","scopeKey","wildCardMatch","indexOf","scopeActionKey","substring","isUploadPathMatching","concat","CreatePathModal","withSuspense","React","useStyles","makeStyles","theme","createStyles","_objectSpread","objectBrowserCommon","slashSpacingStyle","margin","bucketName","internalPaths","hidePathButton","additionalOptions","navigate","useNavigate","classes","rewindEnabled","useSelector","state","objectBrowser","rewind","versionsMode","versionedFile","anonymousMode","system","createFolderOpen","setCreateFolderOpen","putObjectPermScopes","IAM_SCOPES","S3_PUT_OBJECT","S3_PUT_ACTIONS","console","session","permissions","paths","splitPaths","split","path","lastBreadcrumbsIndex","pathToCheckPerms","sessionGrantWildCards","canCreatePath","hasPermission","_toConsumableArray","breadcrumbsMap","map","objectItem","index","subSplit","slice","join","route","encodeURLString","Fragment","className","style","cursor","whiteSpace","safeDecodeURIComponent","Link","to","setVersionsModeEnabled","status","objectName","toString","versionsItem","listBreadcrumbs","breadcrumbsMain","folderName","Breadcrumbs","goBackFunction","prevPath","CopyToClipboard","text","icon","CopyIcon","width","height","fill","marginTop","color","border","marginRight","Tooltip","permissionTooltipHelper","NewPathIcon","breadcrumbsSecond","withStyles","listUploadIcons","_ref$forceDisable","forceDisable","uploadFileFunction","uploadFolderFunction","_ref$overrideStyles","overrideStyles","anchorEl","setAnchorEl","openUploadMenu","Boolean","handleCloseUpload","uploadObjectAllowed","uploadFolderAllowed","uploadEnabled","TooltipWrapper","event","currentTarget","UploadIcon","Menu","open","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","ListItemIcon","ListItemText","UploadFolderIcon","detailsList","borderColor","borderWidth","borderStyle","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","transitionDuration","overflowX","overflowY","position","opacity","marginLeft","minWidth","borderLeftWidth","closePanel","_ref$className","ClosePanelIcon","right","top","padding","backgroundColor","months","days","Array","from","_","num","currentYear","Date","getFullYear","years","numYear","DateSelector","forwardRef","ref","_ref$disableOptions","disableOptions","_ref$addSwitch","addSwitch","_ref$tooltip","_ref$borderBottom","borderBottom","onDateChange","_ref$value","useImperativeHandle","resetDate","dateEnabled","setDateEnabled","month","setMonth","_useState5","_useState6","day","setDay","_useState7","_useState8","year","setYear","valueSplit","parseInt","_validDate","currentDate","parse","isNaN","parsedMonth","parsedDay","monthForString","dayForString","parsedDate","toISOString","dateString","validDate","_validDate2","isValid","isDateDisabled","monthForDropDown","daysForDrop","yearsForDrop","clsx","fieldContainer","_defineProperty","fieldContainerBorder","labelContainer","container","InputLabel","htmlFor","tooltipContainer","placement","HelpIcon","Switch","indicatorLabels","checked","switchOnly","Box","display","gap","newValue","fieldBasic","tooltipHelper","alignItems","justifyContent","paddingBottom","marginBottom","formFieldStyles","spacingUtils","closeModalAndRefresh","objectInfo","retentionConfig","statusEnabled","setStatusEnabled","setType","date","setDate","isDateValid","setIsDateValid","_useState9","_useState10","isSaving","setIsSaving","_useState11","_useState12","alreadyConfigured","setAlreadyConfigured","retention_mode","mode","ObjectRetentionMode","Governance","retention_until_date","valueDate","getMonth","getDate","dateElement","useRef","resetForm","current","showSwitcher","spacerBottom","noValidate","autoComplete","onSubmit","preventDefault","formFieldRow","RadioGroup","currentValue","selectorOptions","Compliance","dateSelector","selectedObject","versionId","version_id","expireDate","buckets","putObjectRetention","expires","err","setModalErrorSnackMessage","addRetention","deleteObjectRetention","disableRetention","isVersionedMode","closeDeleteModalAndRefresh","deleteOpen","selectedBucket","versioningInfo","_ref$selectedVersion","selectedVersion","_useApi","useApi","detailedError","_useApi2","deleteLoading","invokeDeleteApi","deleteVersions","setDeleteVersions","bypassGovernance","setBypassGovernance","canBypass","S3_BYPASS_GOVERNANCE_RETENTION","ConfirmDialog","confirmText","isOpen","ConfirmDeleteIcon","isLoading","onConfirm","recursive","decodeURLString","endsWith","confirmationContent","description","actualInfo","legalHoldEnabled","setLegalHoldEnabled","get","putObjectLegalHold","ObjectLegalHoldStatus","Enabled","Disabled","itemRendererFn","element","isArray","titleItem","detailsPanel","metaData","_ref$linear","linear","metaKeys","renderItem","metadataLinear","Table","table","TableBody","TableRow","TableCell","component","scope","align","fileName","minHeight","fileNameText","overflow","textOverflow","strings","replaceUnicodeChar","extensionToIcon","FileVideoIcon","extensions","FileMusicIcon","FilePdfIcon","FilePptIcon","FileXlsIcon","FileLockIcon","FileCodeIcon","FileConfigIcon","FileDbIcon","FileFontIcon","FileTxtIcon","FileZipIcon","FileBookIcon","FileImageIcon","displayFileIconName","returnOnlyIcon","elementString","FileNonType","FolderBrowserIcon","lowercaseElement","toLowerCase","_i","_extensionToIcon","_step","etc","_iterator","_createForOfIteratorHelper","s","n","done","ext","f","FileMissingIcon","splitItem","IconWithLabel","newTileHeader","fontSize","fontWeight","tagsForLabel","currentTagsContainer","noTagsForObject","deleteTag","_actualInfo$name","onCloseAndUpdate","distributedSetup","selDistSet","newKey","setNewKey","newLabel","setNewLabel","isSending","setIsSending","deleteEnabled","setDeleteEnabled","deleteKey","setDeleteKey","deleteLabel","setDeleteLabel","currentTags","tags","currTagKeys","allPathData","currentItem","pop","tagsFor","plural","DisabledIcon","EditTagIcon","cleanObject","verID","putObjectTags","SecureComponent","S3_GET_OBJECT_TAGGING","S3_GET_ACTIONS","resource","flexFlow","tagKey","tag","S3_DELETE_OBJECT_TAGGING","errorProps","deleteIcon","onDelete","Chip","textTransform","size","CloseIcon","onDeleteTag","S3_PUT_OBJECT_TAGGING","SectionTitle","AddNewTagIcon","separator","newTag","newTagList","closeInspectModalAndRefresh","inspectOpen","inspectPath","volumeName","isEncrypt","setIsEncrypt","decryptionKey","setDecryptionKey","insFileName","setInsFileName","makeRequest","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","wrap","_context","prev","next","fetch","method","abrupt","sent","stop","_x","apply","performInspect","_ref3","_callee3","file","volume","urlOfInspectApi","_context3","_ref4","_callee2","resErr","blob","filename","decryptKey","_context2","ok","json","errorMessage","message","code","headers","getCookieValue","performDownload","_x2","InspectMenuIcon","deleteCookie","PasswordKeyIcon","DialogContentText","KeyRevealer","downloadObject","object","_object$name","identityDownload","getTime","Math","random","isWinOs","getClientOS","setLongFileOpen","ID","makeid","downloadCall","download","progress","updateProgress","instanceID","completeObject","msg","failObject","cancelObjectInList","storeCallForObjectWithID","setNewObject","percentage","waitingForFile","failed","cancelled","containerForHeader","closeModal","newFileName","setNewFileName","acceptLongName","setAcceptLongName","EditIcon","doDownload","modalFormScrollable","InputBoxWrapper","FormSwitchWrapper","emptyFile","is_latest","last_modified","legal_hold_status","ObjectDetailsTitle","objectNameContainer","capitalizeFirst","actionsTray","textStyleUtils","locking","onClosePanel","loadingObjectInfo","shareFileModalOpen","setShareFileModalOpen","retentionModalOpen","setRetentionModalOpen","tagModalOpen","setTagModalOpen","legalholdOpen","setLegalholdOpen","inspectModalOpen","setInspectModalOpen","setActualInfo","_useState13","_useState14","allInfoElements","setAllInfoElements","_useState15","_useState16","objectToShare","setObjectToShare","_useState17","_useState18","versions","setVersions","_useState19","_useState20","setDeleteOpen","_useState21","_useState22","previewOpen","setPreviewOpen","_useState23","_useState24","totalVersionsSize","setTotalVersionsSize","_useState25","_useState26","longFileOpen","_useState27","_useState28","setMetaData","_useState29","_useState30","loadMetadata","setLoadingMetadata","objectNameArray","infoElement","el","is_delete_marker","listObjects","with_versions","result","data","objects","tVersionSize","currValue","resInfo","setLoadingObjectInfo","getObjectMetadata","metadata","tagKeys","loaderForContainer","textAlign","Loader","objectResources","canSetLegalHold","S3_PUT_OBJECT_LEGAL_HOLD","canSetTags","canChangeRetention","S3_GET_OBJECT_RETENTION","S3_PUT_OBJECT_RETENTION","canInspect","ADMIN_INSPECT_DATA","canChangeVersioning","S3_GET_BUCKET_VERSIONING","S3_PUT_BUCKET_VERSIONING","S3_GET_OBJECT_VERSION","canGetObject","S3_GET_OBJECT","canDelete","S3_DELETE_OBJECT","objectType","previewObjectType","multiActionButtons","action","DownloadIcon","ShareIcon","PreviewIcon","LegalHoldIcon","RetentionIcon","TagsIcon","VersionsIcon","ShareFile","dataObject","SetRetention","updateInfo","DeleteObject","closeAndReload","setLoadingVersions","setSelectedVersion","SetLegalHoldModal","reload","PreviewFileModal","content_type","onClosePreview","TagsModal","reloadObjectData","InspectObject","RenameLongFileName","ActionsList","items","DeleteIcon","iconLocation","fullWidth","SimpleHeader","ObjectInfoIcon","detailContainer","overflowWrap","niceBytes","niceBytesInt","lastModified","currentTime","modifiedTime","difTime","formatTime","niceDaysInt","calculateLastModifyTime","etag","S3_GET_OBJECT_LEGAL_HOLD","MetadataIcon","ObjectMetaData","modalBasic","versionToRestore","objectPath","restoreOpen","restoreLoading","setRestoreLoading","RecoverIcon","putObjectRestore","restoreLocalObjectList","confirmButtonProps","wrapText","bgColor","FileVersionStyled","styled","div","content","left","borderBottomColor","maxWidth","flexDirection","versionInfo","isSelected","checkable","isChecked","onCheck","onShare","onDownload","onRestore","onPreview","globalClick","key","disableButtons","versionItemButtons","pill","DateTime","now","fromISO","md","CheckboxWrapper","stopPropagation","overrideCheckboxStyles","paddingLeft","noTopMargin","SpecificVersionPill","button","IconButton","toFormat","setDeleteLoading","typeConfirm","setTypeConfirm","deleteObject","non_current_versions","bypass","selectedVersions","selectedObjectsRequest","versionID","deleteMultipleObjects","all_versions","versionsContainer","noBottomBorder","versionsVirtualPanel","flexGrow","screenTitleContainer","sortByLabel","tableStyles","objectBrowserExtras","searchVersions","loadingVersions","restoreVersionOpen","setRestoreVersionOpen","restoreVersion","setRestoreVersion","sortValue","setSortValue","deleteNonCurrentOpen","setDeleteNonCurrentOpen","selectEnabled","setSelectEnabled","selectedItems","setSelectedItems","delSelectedVOpen","setDelSelectedVOpen","decodedInternalPaths","filteredPrefixes","onShareItem","onPreviewItem","onRestoreItem","onDownloadItem","onGlobalClick","filteredRecords","version","totalSpace","sort","a","b","dateA","dateB","onCheckVersion","filteredItems","cloneState","push","RestoreFileVersion","DeleteNonCurrent","reloadAfterDelete","DeleteSelectedVersions","reloadOnComplete","ProgressBar","BrowserBreadcrumbs","ScreenTitle","listIcon","subTitle","detailsSpacer","actions","SelectMultipleIcon","DeleteNonCurrentIcon","noLabelMinWidth","bottomBorder","List","containerStyle","rowCount","rowHeight","rowRenderer","isScrolling","isVisible","versOrd","FileVersionItem","displayParsedDate","currTime","objectTime","hasSame","displayNiceBytes","String","listModeColumns","elementKey","renderFunction","enableSort","renderFullObject","rewindModeColumns","browsePaper","parentWrapper","backgroundImage","params","useParams","sortDirection","setSortDirection","currentSortField","setCurrentSortField","detailsOpen","objectDetailsOpen","loadingObjects","features","selFeatures","obOnly","records","searchObjects","selectedObjects","connectionError","displayListObjects","S3_LIST_BUCKET","S3_ALL_LIST_BUCKET","sortASC","sortListObjects","payload","reverse","tableActions","idElement","newPath","setSelectedObjects","setObjectDetailsView","setIsOpeningOD","setSelectedObjectView","sendOnlyId","customPaperHeight","DataTable","itemActions","columns","entityName","idField","onSelect","targetD","elements","customEmptyMessage","sortConfig","currentSort","currentDirection","triggerSort","sortData","newSortDirection","sortBy","setLoadingObjects","onSelectAll","rowStyle","_payload$index","delete_flag","parentClassName","noBackground","downloadSelected","createAsyncThunk","getState","itemsToDownload","filterFunction","multiObjList","rejectWithValue","setDownloadRenameModal","dwList","bi","isDeleted","log","downloadSelectedAsZip","openPreview","fileObject","findFunction","setSelectedPreview","_x3","_x4","openShare","_ref6","_ref5","_x5","_x6","openAnonymousAccess","_ref8","_callee4","_ref7","_context4","setAnonymousAccessOpen","_x7","_x8","SearchBox","setSearchObjects","DeleteMultipleObjects","RewindEnable","badgeOverlap","searchField","labelStyle","breadcrumbsContainer","fullContainer","hideListOnSmall","actionsSection","baseDnDStyle","outline","activeDnDStyle","acceptDnDStyle","_downloadRenameModal$","location","useLocation","bucketToRewind","showDeleted","selectedInternalPaths","simplePath","versioningConfig","lockingEnabled","downloadRenameModal","selectedPreview","anonymousAccessOpen","loadingBucket","selBucketDetailsLoading","bucketInfo","selBucketDetailsInfo","deleteMultipleOpen","setDeleteMultipleOpen","rewindSelect","setRewindSelect","iniLoad","setIniLoad","canShareFile","setCanShareFile","canPreviewFile","setCanPreviewFile","quota","setQuota","isMetaDataLoaded","setIsMetaDataLoaded","isVersioningApplied","pathSegment","pathname","pageTitle","currentPath","i","fileUpload","folderUpload","pathAsResourceInPolicy","allowedFileExtensions","cv","extension","Set","getPolicyAllowedFileExtensions","canDownload","canUpload","canSetAnonymousAccess","S3_GET_BUCKET_POLICY","S3_PUT_BUCKET_POLICY","fetchMetadata","useCallback","encodedPath","resetRewind","setAttribute","getBucketQuota","quotaVals","detailedMessage","setBucketDetailsLoad","setBucketInfo","setSelectedBucket","getBucketRetentionConfig","setRetentionConfig","handleUploadButton","files","newFiles","uploadObject","folderPath","pathPrefix","uploadPromise","Promise","resolve","reject","uploadUrl","blobFile","Blob","filePath","fileWebkitRelativePath","relativeFolderPath","finalFolderPath","pathClean","startsWith","identity","xhr","XMLHttpRequest","setRequestHeader","areMultipleFiles","errorMessages","withCredentials","onload","removeTrace","response","JSON","upload","addEventListener","floor","loaded","total","onerror","onloadend","onabort","formData","FormData","append","storeFormDataWithID","uploadFilePromises","openList","allSettled","results","errors","totalFiles","successUploadedFiles","onDrop","acceptedFiles","_console","_console2","newFolderPath","allowedFiles","fileExtn","_useDropzone","useDropzone","noClick","getRootProps","getInputProps","isDragActive","isDragAccept","dndStyles","useMemo","forceRefresh","splitURLS","URLItem","createdTime","creation_date","downloadToolTip","AccessRuleIcon","refresh","versioning","AddAccessRule","PageLayout","FilterObjectsSB","BucketsIcon","Badge","badgeContent","invisible","HistoryIcon","RefreshIcon","resetMessages","setLoadingRecords","multiple","accept","UploadFilesButton","closeMenu","click","tableBlock","borderTop","VersionsNavigator","setShowDeletedObjects","overrideLabelClasses","overrideShowDeleted","ListObjectsTable","DetailsListPanel","ObjectDetailPanel","configureBucketAllowed","S3_GET_BUCKET_ENCRYPTION_CONFIGURATION","S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION","S3_DELETE_BUCKET","S3_GET_BUCKET_NOTIFICATIONS","S3_PUT_BUCKET_NOTIFICATIONS","S3_GET_REPLICATION_CONFIGURATION","S3_PUT_REPLICATION_CONFIGURATION","S3_GET_LIFECYCLE_CONFIGURATION","S3_PUT_LIFECYCLE_CONFIGURATION","ADMIN_GET_BUCKET_QUOTA","ADMIN_SET_BUCKET_QUOTA","S3_PUT_BUCKET_TAGGING","S3_GET_BUCKET_TAGGING","S3_LIST_BUCKET_VERSIONS","S3_GET_BUCKET_POLICY_STATUS","S3_DELETE_BUCKET_POLICY","searchBar","setSearchVersions","setHelpName","AutoColorIcon","ObjectManagerButton","PageHeaderWrapper","BackLink","IAM_PAGES","OBJECT_BROWSER_VIEW","IAM_PERMISSIONS","IAM_ROLES","BUCKET_ADMIN","SettingsIcon","HelpMenu","middleComponent","currentRequestID","errorCounter","wsInFlight","initWSConnection","openCallback","onMessageCallback","connErrorCallback","URL","window","port","baseUrl","document","baseURI","wsProt","wsProtocol","protocol","WebSocket","hostname","onopen","onmessage","reconnectFn","onclose","warn","setTimeout","loadingVersioning","rewindDate","dateToRewind","allowResources","loadingLocking","loadRecords","isOpeningOD","isOpeningObjectDetail","onMessageCallBack","request_id","internalPathsPrefix","decodedPath","permitItems","permissionItems","setRecords","request_end","newMessage","initWSRequest","readyState","newRequestID","errorInConnection","request","bucket_name","send","stringify","decodedIPaths","setLoadingVersioning","setSimplePathHandler","setLoadingLocking","parentPath","requestDate","getBucketVersioning","setIsVersioned","getBucketObjectLockingStatus","setLockingEnabled","object_locking_enabled","OBHeader","ListObjects","durationInputs","validityIndicator","invalidDurationText","reverseInput","validityText","validTill","initialDate","maxDays","entity","selectedDays","setSelectedDays","selectedHours","setSelectedHours","selectedMinutes","setSelectedMinutes","setValidDate","dateSelected","setDateSelected","hours","minutes","fromJSDate","plus","calculateNewTime","formattedDate","valid","extraStyles","paddingRight","dateInputContainer","min","max","LinkIcon","validityLabel","shareURL","setShareURL","isLoadingVersion","setIsLoadingVersion","isLoadingFile","setIsLoadingFile","selectedDate","setSelectedDate","dateValid","setDateValid","setVersionID","latestVersion","elem","slDate","currDate","diffDate","ceil","shareObject","DaysSelector","newDate","ReadBox","actionButton","setModalSnackMessage","iframeContainer","flex","iframeBase","iframeHidden","_ref$isFullscreen","isFullscreen","loading","setLoading","basename","replace","origin","iframeLoaded","maxHeight","autoPlay","controls","muted","playsInline","onPlay","src","alt","onLoad","WarningMessage","allowTransparency","wideLimit","ObjectPreviewIcon","PreviewFileContent","downloadWithLink","href","downloadFileName","link","createElement","body","appendChild","removeChild","objectList","resultFileName","resp","store","downloadMultipleObjects","ContentType","Json","createObjectURL","t0","statusText","fileSize","overrideFileName","progressCallback","completeCallback","errorCallback","abortCallback","toastCallback","BrowserDownload","req","evt","percentComplete","round","responseType","onreadystatechange","rspHeader","getResponseHeader","decodeURIComponent","rspBody","_classCallCheck","this","_createClass","metaContentType","extensionType","fileExtension","extensionPreview","contentType","mimeObjectType","contentTypePreview","fieldSort","localeCompare","permissionsArray","filteredPermissionsForBucket","permissionItem","_permissionItem$resou","_permissionItem$resou2","returnElements","splitCurrentPath","forEach","permissionElement","_permissionElement$re","_permissionElement$pr","splitARN","splitURLARN","every","currentElementInPath","conditionOperator","prefixes","prefixItem","splitItems","pathToRouteElements","cleanCurrPath","splitElement","clElements","itm","WrappedComponent","fallback","props","Suspense","checkboxIcons","flexBasis","flexWrap","_ref$checked","_ref$disabled","_ref$noTopMargin","_ref$overrideLabelCla","Checkbox","inputProps","checkedIcon","unCheckedIcon","disableRipple","disableFocusRipple","focusRipple","centerRipple","disableTouchRipple","noMinWidthLabel","StyledSwitch","root","switchBase","transform","palette","common","white","boxShadow","thumb","track","transition","transitions","create","focusVisible","switchContainer","indicatorLabelOn","indicatorLabel","fieldDescription","_ref$label","_ref$switchOnly","_ref$description","_ref$extraInputProps","extraInputProps","switchComponent","sm","inputLabel","Typography","inputStyles","inputFieldStyles","InputField","TextField","InputProps","textBoxContainer","overlayAction","_ref$type","_ref$autoComplete","_ref$multiline","multiline","_ref$index","_ref$error","_ref$required","required","_ref$placeholder","overlayId","_ref$overlayIcon","overlayIcon","_ref$overlayObject","overlayObject","_ref$noLabelMinWidth","_ref$pattern","pattern","_ref$autoFocus","autoFocus","onKeyPress","onFocus","onPaste","toggleTextInput","setToggleTextInput","inputBoxWrapperIcon","inputBoxWrapperType","VisibilityOffIcon","RemoveRedEyeIcon","errorInField","inputBoxContainer","helperText","inputRebase","headerContainer","labelHeadline","labelText","shown","setShown","readOnly","navigator","clipboard","writeText","WSCloseAbnormalClosure","WSClosePolicyViolation","WSCloseInternalServerErr"],"sourceRoot":""}