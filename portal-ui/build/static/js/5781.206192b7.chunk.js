"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5781],{13089:function(e,n,r){r.d(n,{Z:function(){return z}});var t=r(23430),o=r(50390),a=r(86509),s=r(4285),c=r(81378),i=r(4182),l=r(35044),u=r(73481),d=r(77555),Z=r(29399),f=r(56805),p=r(55600),h=r(35477),v=r(33967),m=r(49535),x=r(32793),j=r(1048),g=r(44977),b=r(50076),k=r(15573),M=r(8208),w=r(10594);function T(e){return(0,w.Z)("MuiTableContainer",e)}(0,r(43349).Z)("MuiTableContainer",["root"]);var C=r(62559),N=["className","component"],y=(0,M.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,n){return n.root}})({width:"100%",overflowX:"auto"}),S=o.forwardRef((function(e,n){var r=(0,k.Z)({props:e,name:"MuiTableContainer"}),t=r.className,o=r.component,a=void 0===o?"div":o,s=(0,j.Z)(r,N),c=(0,x.Z)({},r,{component:a}),i=function(e){var n=e.classes;return(0,b.Z)({root:["root"]},T,n)}(c);return(0,C.jsx)(y,(0,x.Z)({ref:n,as:a,className:(0,g.Z)(i.root,t),ownerState:c},s))})),P=r(46981),R=function(e){var n=e.event,r=o.useState(!1),a=(0,t.Z)(r,2),s=a[0],c=a[1];return(0,C.jsxs)(o.Fragment,{children:[(0,C.jsxs)(Z.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,C.jsx)(u.Z,{component:"th",scope:"row",onClick:function(){return c(!s)},children:n.event_type}),(0,C.jsx)(u.Z,{onClick:function(){return c(!s)},children:n.reason}),(0,C.jsx)(u.Z,{onClick:function(){return c(!s)},children:n.seen}),(0,C.jsx)(u.Z,{onClick:function(){return c(!s)},children:n.message.length>=30?"".concat(n.message.substr(0,30),"..."):n.message}),(0,C.jsx)(u.Z,{onClick:function(){return c(!s)},children:s?(0,C.jsx)(m.Z,{}):(0,C.jsx)(v.Z,{})})]}),(0,C.jsx)(Z.Z,{children:(0,C.jsx)(u.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,C.jsx)(p.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,C.jsx)(f.Z,{sx:{margin:1},children:(0,C.jsx)(h.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})},z=(0,s.Z)((function(e){return(0,a.Z)({events:{"& .MuiTypography-root":{fontSize:14},"& .Mui-expanded":{"& .eventMessage":{display:"none"}}}})}))((function(e){e.classes;var n=e.events;return e.loading?(0,C.jsx)(c.Z,{}):(0,C.jsx)(S,{component:P.Z,children:(0,C.jsxs)(i.Z,{"aria-label":"collapsible table",children:[(0,C.jsx)(d.Z,{children:(0,C.jsxs)(Z.Z,{children:[(0,C.jsx)(u.Z,{children:"Type"}),(0,C.jsx)(u.Z,{children:"Reason"}),(0,C.jsx)(u.Z,{children:"Age"}),(0,C.jsx)(u.Z,{children:"Message"}),(0,C.jsx)(u.Z,{})]})}),(0,C.jsx)(l.Z,{children:n.map((function(e){return(0,C.jsx)(R,{event:e},"".concat(e.event_type,"-").concat(e.seen))}))})]})})}))},95781:function(e,n,r){r.r(n);var t=r(23430),o=r(18489),a=r(50390),s=r(86509),c=r(4285),i=r(72462),l=r(25594),u=r(6369),d=r(30324),Z=r(28948),f=r(13089),p=r(62559);n.default=(0,c.Z)((function(e){return(0,s.Z)((0,o.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,i.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,r=e.match,o=e.setErrorSnackMessage,s=(0,a.useState)(!0),c=(0,t.Z)(s,2),i=c[0],h=c[1],v=r.params.tenantNamespace,m=r.params.tenantName,x=r.params.PVCName,j=(0,a.useState)([]),g=(0,t.Z)(j,2),b=g[0],k=g[1];return(0,a.useEffect)((function(){i&&d.Z.invoke("GET","/api/v1/namespaces/".concat(v,"/tenants/").concat(m,"/pvcs/").concat(x,"/events")).then((function(e){for(var n=0;n<e.length;n++){var r=Date.now()/1e3|0;e[n].seen=(0,Z.v1)((r-e[n].last_seen).toString())}k(e),h(!1)})).catch((function(e){o(e),h(!1)}))}),[i,x,v,m,o]),(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(l.ZP,{item:!0,xs:12,children:(0,p.jsxs)("h1",{className:n.sectionTitle,children:[(0,p.jsx)(u.rU,{to:"/namespaces/".concat(v,"/tenants/").concat(m,"/volumes"),className:n.breadcrumLink,children:"PVCs"})," ","> ",x]})}),(0,p.jsxs)(l.ZP,{container:!0,children:[(0,p.jsx)("h1",{className:n.sectionTitle,children:"Events"}),(0,p.jsx)(f.Z,{events:b,loading:i})]})]})}))},33967:function(e,n,r){var t=r(64119);n.Z=void 0;var o=t(r(66830)),a=r(62559),s=(0,o.default)((0,a.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");n.Z=s},49535:function(e,n,r){var t=r(64119);n.Z=void 0;var o=t(r(66830)),a=r(62559),s=(0,o.default)((0,a.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");n.Z=s},77555:function(e,n,r){r.d(n,{Z:function(){return x}});var t=r(32793),o=r(1048),a=r(50390),s=r(44977),c=r(50076),i=r(29413),l=r(15573),u=r(8208),d=r(10594);function Z(e){return(0,d.Z)("MuiTableHead",e)}(0,r(43349).Z)("MuiTableHead",["root"]);var f=r(62559),p=["className","component"],h=(0,u.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),v={variant:"head"},m="thead",x=a.forwardRef((function(e,n){var r=(0,l.Z)({props:e,name:"MuiTableHead"}),a=r.className,u=r.component,d=void 0===u?m:u,x=(0,o.Z)(r,p),j=(0,t.Z)({},r,{component:d}),g=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},Z,n)}(j);return(0,f.jsx)(i.Z.Provider,{value:v,children:(0,f.jsx)(h,(0,t.Z)({as:d,className:(0,s.Z)(g.root,a),ref:n,role:d===m?null:"rowgroup",ownerState:j},x))})}))}}]);
//# sourceMappingURL=5781.206192b7.chunk.js.map