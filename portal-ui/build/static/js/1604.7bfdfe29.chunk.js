"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1604],{1604:function(e,t,n){n.r(t);var i=n(29439),a=n(72791),o=n(29945),l=n(31776),r=n(66315),c=n(82342),s=n(23814),u=n(87995),d=n(44690),m=n(56028),b=n(80184);t.default=function(e){var t=e.open,n=e.bucketName,h=e.closeModalAndRefresh,p=(0,d.TL)(),f=(0,a.useState)(!1),g=(0,i.Z)(f,2),j=g[0],v=g[1],x=(0,a.useState)(!0),k=(0,i.Z)(x,2),y=k[0],C=k[1],S=(0,a.useState)(r.oO.Compliance),R=(0,i.Z)(S,2),Z=R[0],O=R[1],_=(0,a.useState)(r.zR.Days),w=(0,i.Z)(_,2),z=w[0],N=w[1],B=(0,a.useState)(1),D=(0,i.Z)(B,2),E=D[0],V=D[1],A=(0,a.useState)(!1),M=(0,i.Z)(A,2),T=M[0],G=M[1];return(0,a.useEffect)((function(){Number.isNaN(E)||(E||1)<1?G(!1):G(!0)}),[E]),(0,a.useEffect)((function(){y&&l.h.buckets.getBucketRetentionConfig(n).then((function(e){C(!1),O(e.data.mode),V(e.data.validity),N(e.data.unit)})).catch((function(){C(!1)}))}),[y,n]),(0,b.jsx)(m.Z,{title:"Set Retention Configuration",modalOpen:t,onClose:function(){h()},children:y?(0,b.jsx)(o.aNw,{style:{width:16,height:16}}):(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j||(v(!0),l.h.buckets.setBucketRetentionConfig(n,{mode:Z||r.oO.Compliance,unit:z||r.zR.Days,validity:E||1}).then((function(){v(!1),h()})).catch((function(e){v(!1),p((0,u.zb)((0,c.g)(e.error)))})))},children:(0,b.jsxs)(o.ltY,{containerPadding:!1,withBorders:!1,children:[(0,b.jsx)(o.Eep,{currentValue:Z,id:"retention_mode",name:"retention_mode",label:"Retention Mode",onChange:function(e){O(e.target.value)},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}],helpTip:(0,b.jsxs)(a.Fragment,{children:[" ",(0,b.jsx)("a",{href:"https://min.io/docs/minio/macos/administration/object-management/object-retention.html#minio-object-locking-compliance",target:"blank",children:"Compliance"})," ","lock protects Objects from write operations by all users, including the MinIO root user.",(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("a",{href:"https://min.io/docs/minio/macos/administration/object-management/object-retention.html#minio-object-locking-governance",target:"blank",children:"Governance"})," ","lock protects Objects from write operations by non-privileged users."]}),helpTipPlacement:"right"}),(0,b.jsx)(o.Eep,{currentValue:z,id:"retention_unit",name:"retention_unit",label:"Retention Unit",onChange:function(e){N(e.target.value)},selectorOptions:[{value:"days",label:"Days"},{value:"years",label:"Years"}]}),(0,b.jsx)(o.Wzg,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){V(e.target.valueAsNumber)},label:"Retention Validity",value:String(E),required:!0,min:"1"}),(0,b.jsxs)(o.rjZ,{item:!0,xs:12,sx:s.ID.modalButtonBar,children:[(0,b.jsx)(o.zxk,{id:"cancel",type:"button",variant:"regular",disabled:j,onClick:function(){h()},label:"Cancel"}),(0,b.jsx)(o.zxk,{id:"set",type:"submit",variant:"callAction",color:"primary",disabled:j||!T,label:"Set"})]}),j&&(0,b.jsx)(o.rjZ,{item:!0,xs:12,children:(0,b.jsx)(o.kod,{})})]})})})}}}]);
//# sourceMappingURL=1604.7bfdfe29.chunk.js.map