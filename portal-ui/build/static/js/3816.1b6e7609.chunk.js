"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3816],{95239:function(e,o,t){t.r(o);var n=t(23430),a=t(18489),i=t(50390),c=t(34424),l=t(66946),r=t(86509),s=t(4285),d=t(25594),u=t(72462),m=t(44149),f=t(30324),x=t(51002),p=t(67754),g=t(14549),h=t(70014),Z=t(62559);(0,r.Z)((0,a.Z)((0,a.Z)({},u.ID),u.bK));var b=(0,c.$j)(null,{setModalErrorSnackMessage:m.zb});o.default=(0,s.Z)((function(e){return(0,r.Z)((0,a.Z)((0,a.Z)((0,a.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},u.DF),u.ID),u.bK))}))(b((function(e){var o=e.classes,t=e.open,a=e.bucketName,c=e.actualPolicy,r=e.actualDefinition,s=e.closeModalAndRefresh,u=e.setModalErrorSnackMessage,m=(0,i.useState)(!1),b=(0,n.Z)(m,2),C=b[0],j=b[1],k=(0,i.useState)(""),v=(0,n.Z)(k,2),S=v[0],y=v[1],B=(0,i.useState)(""),M=(0,n.Z)(B,2),P=M[0],N=M[1];return(0,i.useEffect)((function(){y(c),N(r?JSON.stringify(JSON.parse(r),null,4):"")}),[y,c,N,r]),(0,Z.jsx)(x.Z,{title:"Change Access Policy",modalOpen:t,onClose:function(){s()},titleIcon:(0,Z.jsx)(g.QX,{}),children:(0,Z.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),C||(j(!0),f.Z.invoke("PUT","/api/v1/buckets/".concat(a,"/set-policy"),{access:S,definition:P}).then((function(e){j(!1),s()})).catch((function(e){j(!1),u(e)})))},children:(0,Z.jsxs)(d.ZP,{container:!0,children:[(0,Z.jsxs)(d.ZP,{item:!0,xs:12,className:o.modalFormScrollable,children:[(0,Z.jsx)(d.ZP,{item:!0,xs:12,className:o.formFieldRow,children:(0,Z.jsx)(p.Z,{value:S,label:"Access Policy",id:"select-access-policy",name:"select-access-policy",onChange:function(e){y(e.target.value)},options:[{value:"PRIVATE",label:"Private"},{value:"PUBLIC",label:"Public"},{value:"CUSTOM",label:"Custom"}]})}),"CUSTOM"===S&&(0,Z.jsx)(d.ZP,{item:!0,xs:12,className:o.codeMirrorContainer,children:(0,Z.jsx)(h.Z,{label:"Write Policy",value:P,onBeforeChange:function(e,o,t){N(t)},editorHeight:"350px"})})]}),(0,Z.jsxs)(d.ZP,{item:!0,xs:12,className:o.modalButtonBar,children:[(0,Z.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){s()},disabled:C,children:"Cancel"}),(0,Z.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:C||"CUSTOM"===S&&!P,children:"Set"})]})]})})})})))},70014:function(e,o,t){var n=t(35531),a=t(23430),i=t(18489),c=t(50390),l=t(25594),r=(t(2574),t(20704)),s=t(54880),d=t(21563),u=t(36297),m=t(36554),f=t(94187),x=t(56805),p=t(86509),g=t(4285),h=t(97538),Z=t(72462),b=t(14549),C=t(53224),j=t(33034),k=t.n(j),v=t(53357),S=t(62559),y={json:d.AV,yaml:function(){return s.i.define(u.r)}},B=v.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),M=v.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});o.Z=(0,g.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)({},Z.YI),{},{inputLabel:(0,i.Z)((0,i.Z)({},Z.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var o=e.value,t=e.label,i=void 0===t?"":t,s=e.tooltip,d=void 0===s?"":s,u=e.mode,p=void 0===u?"json":u,g=e.classes,Z=e.onBeforeChange,j=e.readOnly,v=void 0!==j&&j,P=e.editorHeight,N=void 0===P?"250px":P,E=(0,c.useState)(!1),L=(0,a.Z)(E,2),F=L[0],I=L[1],z=[];return y[p]&&(z=[].concat((0,n.Z)(z),[y[p]()])),(0,S.jsxs)(c.Fragment,{children:[(0,S.jsxs)(m.Z,{className:g.inputLabel,children:[(0,S.jsx)("span",{children:i}),""!==d&&(0,S.jsx)("div",{className:g.tooltipContainer,children:(0,S.jsx)(f.Z,{title:d,placement:"top-start",children:(0,S.jsx)("div",{className:g.tooltip,children:(0,S.jsx)(h.Z,{})})})})]}),(0,S.jsx)(l.ZP,{item:!0,xs:12,children:(0,S.jsx)("br",{})}),(0,S.jsxs)(l.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,S.jsx)(l.ZP,{item:!0,xs:12,children:(0,S.jsx)(r.ZP,{value:o,theme:F?M:B,extensions:z,editable:!v,basicSetup:!0,height:N,onChange:function(e,o){Z(null,null,e)}})}),(0,S.jsx)(l.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:F?"#282c34":"#f7f7f7"},children:(0,S.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:[(0,S.jsx)(C.Z,{tooltip:"Change theme",onClick:function(){I(!F)},text:"",icon:(0,S.jsx)(b.EO,{}),color:"primary",variant:"outlined"}),(0,S.jsx)(k(),{text:o,children:(0,S.jsx)(C.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,S.jsx)(b.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},51002:function(e,o,t){var n=t(23430),a=t(18489),i=t(50390),c=t(34424),l=t(95467),r=t(97771),s=t(84402),d=t(78426),u=t(93085),m=t(86509),f=t(4285),x=t(72462),p=t(44149),g=t(21278),h=t(45980),Z=t(62559),b=(0,c.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:p.MK});o.Z=(0,f.Z)((function(e){return(0,m.Z)((0,a.Z)((0,a.Z)({},x.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(b((function(e){var o=e.onClose,t=e.modalOpen,c=e.title,m=e.children,f=e.classes,x=e.wideLimit,p=void 0===x||x,b=e.modalSnackMessage,C=e.noContentPadding,j=e.setModalSnackMessage,k=e.titleIcon,v=void 0===k?null:k,S=(0,i.useState)(!1),y=(0,n.Z)(S,2),B=y[0],M=y[1];(0,i.useEffect)((function(){j("")}),[j]),(0,i.useEffect)((function(){if(b){if(""===b.message)return void M(!1);"error"!==b.type&&M(!0)}}),[b]);var P=p?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},N="";return b&&(N=b.detailedErrorMsg,(""===b.detailedErrorMsg||b.detailedErrorMsg.length<5)&&(N=b.message)),(0,Z.jsxs)(s.Z,(0,a.Z)((0,a.Z)({open:t,classes:f},P),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&o()},className:f.root,children:[(0,Z.jsxs)(d.Z,{className:f.title,children:[(0,Z.jsxs)("div",{className:f.titleText,children:[v," ",c]}),(0,Z.jsx)("div",{className:f.closeContainer,children:(0,Z.jsx)(l.Z,{"aria-label":"close",id:"close",className:f.closeButton,onClick:o,disableRipple:!0,size:"small",children:(0,Z.jsx)(g.Z,{})})})]}),(0,Z.jsx)(h.Z,{isModal:!0}),(0,Z.jsx)(r.Z,{open:B,className:f.snackBarModal,onClose:function(){M(!1),j("")},message:N,ContentProps:{className:"".concat(f.snackBar," ").concat(b&&"error"===b.type?f.errorSnackBar:"")},autoHideDuration:b&&"error"===b.type?1e4:5e3}),(0,Z.jsx)(u.Z,{className:C?"":f.content,children:m})]}))})))},21278:function(e,o,t){var n=t(64119);o.Z=void 0;var a=n(t(66830)),i=t(62559),c=(0,a.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");o.Z=c}}]);
//# sourceMappingURL=3816.1b6e7609.chunk.js.map