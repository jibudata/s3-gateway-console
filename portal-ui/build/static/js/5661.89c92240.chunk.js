"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5661],{84861:function(t,e,n){n(72791);var r=n(29945),i=n(80184);e.Z=function(t){var e=t.icon,n=void 0===e?null:e,a=t.label,o=void 0===a?null:a;return(0,i.jsxs)(r.xuv,{sx:{display:"flex",alignItems:"center",gap:5,marginTop:3},children:[(0,i.jsx)(r.xuv,{sx:{height:16,width:16,display:"flex",alignItems:"center"},children:n}),(0,i.jsx)(r.xuv,{children:o})]})}},35661:function(t,e,n){n.r(e),n.d(e,{default:function(){return st}});var r=n(1413),i=n(4942),a=n(29439),o=n(72791),s=n(29945),l=n(38725),c=n(82839),u=n(90466),p=n(12891),f=n(35667),d=n(27281),h=n(23782),m=n(23612),y=n(18111),x=n.n(y),v=n(74786),b=n.n(v),g=n(42854),j=n.n(g),A=n(98202),k=n(81694),w=n.n(k),S=n(75555),E=n(39718),O=n(46044),P=n(87970),C=n(85992),T=n(70587),F=n(23031),D=n(36768),K=n(73822),Z=["type","layout","connectNulls","ref"];function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function N(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function L(){return L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L.apply(this,arguments)}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}function z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H(t);if(e){var i=H(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===I(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return G(t)}(this,n)}}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}function V(t,e,n){return(e=W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t){var e=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===I(e)?e:String(e)}var U=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(a,t);var e,n,r,i=z(a);function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return V(G(t=i.call.apply(i,[this].concat(n))),"state",{isAnimationFinished:!0,totalLength:0}),V(G(t),"getStrokeDasharray",(function(t,e,n){for(var r=n.reduce((function(t,e){return t+e})),i=Math.floor(t/r),o=t%r,s=e-t,l=[],c=0,u=0;;u+=n[c],++c)if(u+n[c]>o){l=[].concat(M(n.slice(0,c)),[o-u]);break}var p=l.length%2===0?[0,s]:[s];return[].concat(M(a.repeat(n,i)),M(l),p).map((function(t){return"".concat(t,"px")})).join(", ")})),V(G(t),"id",(0,T.EL)("recharts-line-")),V(G(t),"pathRef",(function(e){t.mainCurve=e})),V(G(t),"handleAnimationEnd",(function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()})),V(G(t),"handleAnimationStart",(function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()})),t}return e=a,r=[{key:"getDerivedStateFromProps",value:function(t,e){return t.animationId!==e.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,prevPoints:e.curPoints}:t.points!==e.curPoints?{curPoints:t.points}:null}},{key:"repeat",value:function(t,e){for(var n=t.length%2!==0?[].concat(M(t),[0]):t,r=[],i=0;i<e;++i)r=[].concat(M(r),M(n));return r}},{key:"renderDotItem",value:function(t,e){var n;if(o.isValidElement(t))n=o.cloneElement(t,e);else if(b()(t))n=t(e);else{var r=w()("recharts-line-dot",t?t.className:"");n=o.createElement(E.o,L({},e,{className:r}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();this.setState({totalLength:t})}}},{key:"getTotalLength",value:function(){var t=this.mainCurve;try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(t,e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,a=n.yAxis,s=n.layout,l=n.children,c=(0,F.NN)(l,C.W);if(!c)return null;var u=function(t,e){return{x:t.x,y:t.y,value:t.value,errorVal:(0,K.F$)(t.payload,e)}},p={clipPath:t?"url(#clipPath-".concat(e,")"):null};return o.createElement(O.m,p,c.map((function(t,e){return o.cloneElement(t,{key:"bar-".concat(e),data:r,xAxis:i,yAxis:a,layout:s,dataPointFormatter:u})})))}},{key:"renderDots",value:function(t,e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.dot,s=r.points,l=r.dataKey,c=(0,F.L6)(this.props),u=(0,F.L6)(i,!0),p=s.map((function(t,e){var n=_(_(_({key:"dot-".concat(e),r:3},c),u),{},{value:t.value,dataKey:l,cx:t.x,cy:t.y,index:e,payload:t.payload});return a.renderDotItem(i,n)})),f={clipPath:t?"url(#clipPath-".concat(e?"":"dots-").concat(n,")"):null};return o.createElement(O.m,L({className:"recharts-line-dots",key:"dots"},f),p)}},{key:"renderCurveStatically",value:function(t,e,n,r){var i=this.props,a=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,N(i,Z)),u=_(_(_({},(0,F.L6)(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:e?"url(#clipPath-".concat(n,")"):null,points:t},r),{},{type:a,layout:s,connectNulls:l});return o.createElement(S.H,L({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(t,e){var n=this,r=this.props,i=r.points,a=r.strokeDasharray,s=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,u=r.animationEasing,p=r.animationId,f=r.animateNewValues,d=r.width,h=r.height,m=this.state,y=m.prevPoints,x=m.totalLength;return o.createElement(A.ZP,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var o=r.t;if(y){var s=y.length/i.length,l=i.map((function(t,e){var n=Math.floor(e*s);if(y[n]){var r=y[n],i=(0,T.k4)(r.x,t.x),a=(0,T.k4)(r.y,t.y);return _(_({},t),{},{x:i(o),y:a(o)})}if(f){var l=(0,T.k4)(2*d,t.x),c=(0,T.k4)(h/2,t.y);return _(_({},t),{},{x:l(o),y:c(o)})}return _(_({},t),{},{x:t.x,y:t.y})}));return n.renderCurveStatically(l,t,e)}var c,u=(0,T.k4)(0,x)(o);if(a){var p="".concat(a).split(/[,\s]+/gim).map((function(t){return parseFloat(t)}));c=n.getStrokeDasharray(u,x,p)}else c="".concat(u,"px ").concat(x-u,"px");return n.renderCurveStatically(i,t,e,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(t,e){var n=this.props,r=n.points,i=n.isAnimationActive,a=this.state,o=a.prevPoints,s=a.totalLength;return i&&r&&r.length&&(!o&&s>0||!x()(o,r))?this.renderCurveWithAnimation(t,e):this.renderCurveStatically(r,t,e)}},{key:"render",value:function(){var t,e=this.props,n=e.hide,r=e.dot,i=e.points,a=e.className,s=e.xAxis,l=e.yAxis,c=e.top,u=e.left,p=e.width,f=e.height,d=e.isAnimationActive,h=e.id;if(n||!i||!i.length)return null;var m=this.state.isAnimationFinished,y=1===i.length,x=w()("recharts-line",a),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,g=v||b,A=j()(h)?this.id:h,k=null!==(t=(0,F.L6)(r))&&void 0!==t?t:{r:3,strokeWidth:2},S=k.r,E=void 0===S?3:S,C=k.strokeWidth,T=void 0===C?2:C,D=((0,F.$k)(r)?r:{}).clipDot,K=void 0===D||D,Z=2*E+T;return o.createElement(O.m,{className:x},v||b?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(A)},o.createElement("rect",{x:v?u:u-p/2,y:b?c:c-f/2,width:v?p:2*p,height:b?f:2*f})),!K&&o.createElement("clipPath",{id:"clipPath-dots-".concat(A)},o.createElement("rect",{x:u-Z/2,y:c-Z/2,width:p+Z,height:f+Z}))):null,!y&&this.renderCurve(g,A),this.renderErrorBar(g,A),(y||r)&&this.renderDots(g,K,A),(!d||m)&&P.e.renderCallByParent(this.props,i))}}])&&$(e.prototype,n),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.PureComponent);V(U,"displayName","Line"),V(U,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!D.x.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),V(U,"getComposedData",(function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout;return _({points:l.map((function(t,e){var l=(0,K.F$)(t,o);return"horizontal"===u?{x:(0,K.Hv)({axis:n,ticks:i,bandSize:s,entry:t,index:e}),y:j()(l)?null:r.scale(l),value:l,payload:t}:{x:j()(l)?null:n.scale(l),y:(0,K.Hv)({axis:r,ticks:a,bandSize:s,entry:t,index:e}),value:l,payload:t}})),layout:u},c)}));var Q=n(93137),X=(0,m.z)({chartName:"LineChart",GraphicalChild:U,axisComponents:[{axisType:"xAxis",AxisComp:u.K},{axisType:"yAxis",AxisComp:p.B}],formatAxisMap:Q.t9}),J=n(81207),Y=n(38442),tt=n(56087),et=n(87995),nt=n(44690),rt=n(84861),it=n(47974),at=n(99670),ot=n(80184),st=function(){var t=(0,nt.TL)(),e=(0,o.useState)("simple-tab-0"),n=(0,a.Z)(e,2),m=n[0],y=n[1],x=(0,o.useState)(null),v=(0,a.Z)(x,2),b=v[0],g=v[1],j=(0,o.useState)(!0),A=(0,a.Z)(j,2),k=A[0],w=A[1],S=(0,o.useState)(null),E=(0,a.Z)(S,2),O=E[0],P=E[1],C=(0,o.useState)(!0),T=(0,a.Z)(C,2),F=T[0],D=T[1],K=(0,o.useState)(null),Z=(0,a.Z)(K,2),I=Z[0],N=Z[1],L=(0,o.useState)(!0),B=(0,a.Z)(L,2),_=B[0],M=B[1],R=(0,o.useState)(null),$=(0,a.Z)(R,2),q=$[0],z=$[1],G=(0,o.useState)(!0),H=(0,a.Z)(G,2),V=H[0],W=H[1],Q=(0,Y.F)(tt.C3,[tt.Ft.KMS_STATUS]),st=(0,Y.F)(tt.C3,[tt.Ft.KMS_METRICS]),lt=(0,Y.F)(tt.C3,[tt.Ft.KMS_APIS]),ct=(0,Y.F)(tt.C3,[tt.Ft.KMS_Version]);(0,o.useEffect)((function(){w(!0)}),[]),(0,o.useEffect)((function(){k&&(Q?J.Z.invoke("GET","/api/v1/kms/status").then((function(t){t&&g(t),w(!1)})).catch((function(e){t((0,et.Ih)(e)),w(!1)})):w(!1)),F&&(st?J.Z.invoke("GET","/api/v1/kms/metrics").then((function(t){t&&P(t),D(!1)})).catch((function(e){t((0,et.Ih)(e)),D(!1)})):D(!1)),_&&(lt?J.Z.invoke("GET","/api/v1/kms/apis").then((function(t){t&&N(t),M(!1)})).catch((function(e){t((0,et.Ih)(e)),M(!1)})):M(!1)),V&&(ct?J.Z.invoke("GET","/api/v1/kms/version").then((function(t){t&&z(t),W(!1)})).catch((function(e){t((0,et.Ih)(e)),W(!1)})):W(!1))}),[t,Q,k,st,F,lt,_,ct,V]);var ut=(0,ot.jsxs)(o.Fragment,{children:[(0,ot.jsx)(s.NZf,{children:"Status"}),(0,ot.jsx)("br",{}),b&&(0,ot.jsx)(s.rjZ,{container:!0,children:(0,ot.jsx)(s.rjZ,{item:!0,xs:12,children:(0,ot.jsx)(s.xuv,{sx:(0,i.Z)({display:"grid",gap:2,gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row"},"@media (max-width: ".concat(s.Egj.sm,"px)"),{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}),children:(0,ot.jsxs)(s.xuv,{sx:(0,i.Z)({display:"grid",gap:2,gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row"},"@media (max-width: ".concat(s.Egj.sm,"px)"),{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}),children:[(0,ot.jsx)(s.kKA,{label:"Name:",value:b.name}),q&&(0,ot.jsx)(s.kKA,{label:"Version:",value:q.version}),(0,ot.jsx)(s.kKA,{label:"Default Key ID:",value:b.defaultKeyID}),(0,ot.jsx)(s.kKA,{label:"Key Management Service Endpoints:",value:(0,ot.jsx)(o.Fragment,{children:b.endpoints.map((function(t,e){return(0,ot.jsx)(rt.Z,{icon:"online"===t.status?(0,ot.jsx)(s.E31,{}):(0,ot.jsx)(s.dRf,{}),label:t.url},e)}))})})]})})})})]}),pt=(0,ot.jsxs)(o.Fragment,{children:[(0,ot.jsx)(s.NZf,{children:"Supported API endpoints"}),(0,ot.jsx)("br",{}),I&&(0,ot.jsx)(s.rjZ,{container:!0,children:(0,ot.jsx)(s.rjZ,{item:!0,xs:12,children:(0,ot.jsx)(s.kKA,{label:"",value:(0,ot.jsx)(s.xuv,{sx:(0,i.Z)({display:"grid",gap:2,gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row"},"@media (max-width: ".concat(s.Egj.sm,"px)"),{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}),children:I.results.map((function(t,e){return(0,ot.jsx)(rt.Z,{icon:(0,ot.jsx)(s.E31,{}),label:"".concat(t.path," - ").concat(t.method)},e)}))})})})})]}),ft=(0,ot.jsx)(o.Fragment,{children:O&&(0,ot.jsxs)(o.Fragment,{children:[(0,ot.jsx)("h3",{children:"API Requests"}),(0,ot.jsxs)(l.v,{width:730,height:250,data:[{label:"Success",success:O.requestOK},{label:"Failures",failures:O.requestFail},{label:"Errors",errors:O.requestErr},{label:"Active",active:O.requestActive}],children:[(0,ot.jsx)(c.q,{strokeDasharray:"3 3"}),(0,ot.jsx)(u.K,{dataKey:"label"}),(0,ot.jsx)(p.B,{}),(0,ot.jsx)(f.u,{}),(0,ot.jsx)(d.D,{}),(0,ot.jsx)(h.$,{dataKey:"success",fill:"green"}),(0,ot.jsx)(h.$,{dataKey:"failures",fill:"red"}),(0,ot.jsx)(h.$,{dataKey:"errors",fill:"black"}),(0,ot.jsx)(h.$,{dataKey:"active",fill:"#8884d8"})]}),(0,ot.jsx)("h3",{children:"Events"}),(0,ot.jsxs)(l.v,{width:730,height:250,data:[{label:"Audit",audit:O.auditEvents},{label:"Errors",errors:O.errorEvents}],children:[(0,ot.jsx)(c.q,{strokeDasharray:"3 3"}),(0,ot.jsx)(u.K,{dataKey:"label"}),(0,ot.jsx)(p.B,{}),(0,ot.jsx)(f.u,{}),(0,ot.jsx)(d.D,{}),(0,ot.jsx)(h.$,{dataKey:"audit",fill:"green"}),(0,ot.jsx)(h.$,{dataKey:"errors",fill:"black"})]}),(0,ot.jsx)("h3",{children:"Latency Histogram"}),O.latencyHistogram&&(0,ot.jsxs)(X,{width:730,height:250,data:O.latencyHistogram.map((function(t){return(0,r.Z)((0,r.Z)({},t),{},{duration:"".concat(t.duration/1e6,"ms")})})),margin:{top:5,right:30,left:20,bottom:5},children:[(0,ot.jsx)(c.q,{strokeDasharray:"3 3"}),(0,ot.jsx)(u.K,{dataKey:"duration"}),(0,ot.jsx)(p.B,{}),(0,ot.jsx)(f.u,{}),(0,ot.jsx)(d.D,{}),(0,ot.jsx)(U,{type:"monotone",dataKey:"total",stroke:"#8884d8",name:"Requests that took T ms or less"})]})]})});return(0,o.useEffect)((function(){t((0,et.Sc)("kms_status"))}),[]),(0,ot.jsxs)(o.Fragment,{children:[(0,ot.jsx)(it.Z,{label:"Key Management Service",actions:(0,ot.jsx)(at.Z,{})}),(0,ot.jsx)(s.Xgh,{children:(0,ot.jsx)(s.mQc,{currentTabOrPath:m,onTabClick:function(t){return y(t)},options:[{tabConfig:{label:"Status",id:"simple-tab-0"},content:(0,ot.jsx)(s.xuv,{withBorders:!0,sx:{display:"flex",flexFlow:"column",padding:"43px"},children:ut})},{tabConfig:{label:"APIs",id:"simple-tab-1"},content:(0,ot.jsx)(s.xuv,{withBorders:!0,sx:{display:"flex",flexFlow:"column",padding:"43px"},children:pt})},{tabConfig:{label:"Metrics",id:"simple-tab-2"},content:(0,ot.jsx)(s.xuv,{withBorders:!0,sx:{display:"flex",flexFlow:"column",padding:"43px"},children:ft})}]})})]})}},38725:function(t,e,n){n.d(e,{v:function(){return l}});var r=n(23612),i=n(23782),a=n(90466),o=n(12891),s=n(93137),l=(0,r.z)({chartName:"BarChart",GraphicalChild:i.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:a.K},{axisType:"yAxis",AxisComp:o.B}],formatAxisMap:s.t9})}}]);
//# sourceMappingURL=5661.89c92240.chunk.js.map