"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9942],{45902:function(e,n,t){var a=t(1413),r=(t(72791),t(53767)),o=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,s=e.value,i=void 0===s?"-":s,c=e.orientation,l=void 0===c?"column":c,u=e.stkProps,d=void 0===u?{}:u,Z=e.lblProps,v=void 0===Z?{}:Z,p=e.valProps,m=void 0===p?{}:p;return(0,o.jsxs)(r.Z,(0,a.Z)((0,a.Z)({direction:{xs:"column",sm:l}},d),{},{children:[(0,o.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:600}},v),{},{children:t})),(0,o.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:500}},m),{},{children:i}))]}))}},5450:function(e,n,t){var a=t(29439),r=t(72791),o=t(11135),s=t(25787),i=t(40986),c=t(79836),l=t(53382),u=t(53994),d=t(56890),Z=t(35855),v=t(64554),p=t(56125),m=t(20890),f=t(85172),x=t(95678),h=t(39281),j=t(35527),b=t(80184),g=function(e){var n=e.event,t=r.useState(!1),o=(0,a.Z)(t,2),s=o[0],i=o[1];return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsxs)(Z.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,b.jsx)(u.Z,{component:"th",scope:"row",onClick:function(){return i(!s)},children:n.event_type}),(0,b.jsx)(u.Z,{onClick:function(){return i(!s)},children:n.reason}),(0,b.jsx)(u.Z,{onClick:function(){return i(!s)},children:n.seen}),(0,b.jsx)(u.Z,{onClick:function(){return i(!s)},children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,b.jsx)(u.Z,{onClick:function(){return i(!s)},children:s?(0,b.jsx)(x.Z,{}):(0,b.jsx)(f.Z,{})})]}),(0,b.jsx)(Z.Z,{children:(0,b.jsx)(u.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,b.jsx)(p.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,b.jsx)(v.Z,{sx:{margin:1},children:(0,b.jsx)(m.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})};n.Z=(0,s.Z)((function(e){return(0,o.Z)({events:{"& .MuiTypography-root":{fontSize:14},"& .Mui-expanded":{"& .eventMessage":{display:"none"}}}})}))((function(e){e.classes;var n=e.events;return e.loading?(0,b.jsx)(i.Z,{}):(0,b.jsx)(h.Z,{component:j.Z,children:(0,b.jsxs)(c.Z,{"aria-label":"collapsible table",children:[(0,b.jsx)(d.Z,{children:(0,b.jsxs)(Z.Z,{children:[(0,b.jsx)(u.Z,{children:"Type"}),(0,b.jsx)(u.Z,{children:"Reason"}),(0,b.jsx)(u.Z,{children:"Age"}),(0,b.jsx)(u.Z,{children:"Message"}),(0,b.jsx)(u.Z,{})]})}),(0,b.jsx)(l.Z,{children:n.map((function(e){return(0,b.jsx)(g,{event:e},"".concat(e.event_type,"-").concat(e.seen))}))})]})})}))},89942:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var a=t(29439),r=t(1413),o=t(72791),s=t(11135),i=t(25787),c=t(23814),l=t(61889),u=t(18073),d=t(43896),Z=t(57689),v=t(11087),p=t(81207),m=t(45248),f=t(5450),x=t(78687),h=t(64554),j=t(81918),b=t(87995),g=t(25469),y=t(45902),k=t(80184),C={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},S=function(e){var n=e.title;return(0,k.jsx)(h.Z,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,k.jsx)("h3",{children:n})})},T=function(e){var n=e.describeInfo;return(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(S,{title:"Summary"}),(0,k.jsxs)(h.Z,{sx:(0,r.Z)({},C),children:[(0,k.jsx)(y.Z,{label:"Name",value:n.name}),(0,k.jsx)(y.Z,{label:"Namespace",value:n.namespace}),(0,k.jsx)(y.Z,{label:"Capacity",value:n.capacity}),(0,k.jsx)(y.Z,{label:"Status",value:n.status}),(0,k.jsx)(y.Z,{label:"Storage Class",value:n.storageClass}),(0,k.jsx)(y.Z,{label:"Access Modes",value:n.accessModes.join(", ")}),(0,k.jsx)(y.Z,{label:"Finalizers",value:n.finalizers.join(", ")}),(0,k.jsx)(y.Z,{label:"Volume",value:n.volume}),(0,k.jsx)(y.Z,{label:"Volume Mode",value:n.volumeMode})]})]})},w=function(e){var n=e.annotations;return(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(S,{title:"Annotations"}),(0,k.jsx)(h.Z,{children:n.map((function(e,n){return(0,k.jsx)(j.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})},M=function(e){var n=e.labels;return(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(S,{title:"Labels"}),(0,k.jsx)(h.Z,{children:n.map((function(e,n){return(0,k.jsx)(j.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})},N=(0,x.$j)((function(e){return{loadingTenant:e.tenants.loadingTenant}}),{setErrorSnackMessage:b.Ih}),P=(0,i.Z)((function(e){return(0,s.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},c.OR),c.Si),c.qg),c.bp),{},{actionsTray:(0,r.Z)((0,r.Z)({},c.OR.actionsTray),{},{padding:"15px 0 0"})}))}))(N((function(e){var n=e.tenant,t=e.namespace,r=e.pvcName,s=e.propLoading,i=(0,o.useState)(),c=(0,a.Z)(i,2),Z=c[0],v=c[1],m=(0,o.useState)(!0),f=(0,a.Z)(m,2),x=f[0],h=f[1],j=(0,o.useState)(0),y=(0,a.Z)(j,2),C=y[0],S=y[1],N=(0,g.TL)();(0,o.useEffect)((function(){s&&h(!0)}),[s]),(0,o.useEffect)((function(){x&&p.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pvcs/").concat(r,"/describe")).then((function(e){v(e),h(!1)})).catch((function(e){N((0,b.Ih)(e)),h(!1)}))}),[x,r,t,n,N]);return(0,k.jsx)(o.Fragment,{children:Z&&(0,k.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,k.jsxs)(u.Z,{value:C,onChange:function(e,n){S(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(d.Z,{id:"pvc-describe-summary",label:"Summary"}),(0,k.jsx)(d.Z,{id:"pvc-describe-annotations",label:"Annotations"}),(0,k.jsx)(d.Z,{id:"pvc-describe-labels",label:"Labels"})]}),function(e,n){switch(e){case 0:return(0,k.jsx)(T,{describeInfo:n});case 1:return(0,k.jsx)(w,{annotations:n.annotations});case 2:return(0,k.jsx)(M,{labels:n.labels})}}(C,Z)]})})}))),R=(0,i.Z)((function(e){return(0,s.Z)((0,r.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,c.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,g.TL)(),r=(0,Z.UO)(),s=r.tenantName,i=r.PVCName,c=r.tenantNamespace,x=(0,o.useState)(0),h=(0,a.Z)(x,2),j=h[0],y=h[1],C=(0,o.useState)(!0),S=(0,a.Z)(C,2),T=S[0],w=S[1],M=(0,o.useState)([]),N=(0,a.Z)(M,2),R=N[0],E=N[1];return(0,o.useEffect)((function(){T&&p.Z.invoke("GET","/api/v1/namespaces/".concat(c,"/tenants/").concat(s,"/pvcs/").concat(i,"/events")).then((function(e){for(var n=0;n<e.length;n++){var t=Date.now()/1e3|0;e[n].seen=(0,m.v1)((t-e[n].last_seen).toString())}E(e),w(!1)})).catch((function(e){t((0,b.Ih)(e)),w(!1)}))}),[T,i,c,s,t]),(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(l.ZP,{item:!0,xs:12,children:(0,k.jsxs)("h1",{className:n.sectionTitle,children:[(0,k.jsx)(v.rU,{to:"/namespaces/".concat(c,"/tenants/").concat(s,"/volumes"),className:n.breadcrumLink,children:"PVCs"})," ","> ",i]})}),(0,k.jsxs)(l.ZP,{container:!0,children:[(0,k.jsx)(l.ZP,{item:!0,xs:12,children:(0,k.jsxs)(u.Z,{value:j,onChange:function(e,n){y(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(d.Z,{label:"Events",id:"simple-tab-0"}),(0,k.jsx)(d.Z,{label:"Describe",id:"simple-tab-1"})]})}),0===j&&(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)("h1",{className:n.sectionTitle,children:"Events"}),(0,k.jsx)(f.Z,{events:R,loading:T})]}),1===j&&(0,k.jsx)(P,{tenant:s||"",namespace:c||"",pvcName:i||"",propLoading:T})]})]})}))},85172:function(e,n,t){var a=t(64836);n.Z=void 0;var r=a(t(45649)),o=t(80184),s=(0,r.default)((0,o.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");n.Z=s},95678:function(e,n,t){var a=t(64836);n.Z=void 0;var r=a(t(45649)),o=t(80184),s=(0,r.default)((0,o.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");n.Z=s},53767:function(e,n,t){var a=t(4942),r=t(63366),o=t(87462),s=t(72791),i=t(51184),c=t(45682),l=t(78519),u=t(82466),d=t(66934),Z=t(31402),v=t(80184),p=["component","direction","spacing","divider","children"];function m(e,n){var t=s.Children.toArray(e).filter(Boolean);return t.reduce((function(e,a,r){return e.push(a),r<t.length-1&&e.push(s.cloneElement(n,{key:"separator-".concat(r)})),e}),[])}var f=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,i.k9)({theme:t},(0,i.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var s=(0,c.hB)(t),l=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),d=(0,i.P$)({values:n.direction,base:l}),Z=(0,i.P$)({values:n.spacing,base:l});"object"===typeof d&&Object.keys(d).forEach((function(e,n,t){if(!d[e]){var a=n>0?d[t[n-1]]:"column";d[e]=a}}));r=(0,u.Z)(r,(0,i.k9)({theme:t},Z,(function(e,t){return{"& > :not(style) + :not(style)":(0,a.Z)({margin:0},"margin".concat((r=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,c.NA)(s,e))};var r})))}return r=(0,i.dt)(t.breakpoints,r)})),x=s.forwardRef((function(e,n){var t=(0,Z.Z)({props:e,name:"MuiStack"}),a=(0,l.Z)(t),s=a.component,i=void 0===s?"div":s,c=a.direction,u=void 0===c?"column":c,d=a.spacing,x=void 0===d?0:d,h=a.divider,j=a.children,b=(0,r.Z)(a,p),g={direction:u,spacing:x};return(0,v.jsx)(f,(0,o.Z)({as:i,ownerState:g,ref:n},b,{children:h?m(j,h):j}))}));n.Z=x},39281:function(e,n,t){t.d(n,{Z:function(){return f}});var a=t(87462),r=t(63366),o=t(72791),s=t(28182),i=t(94419),c=t(31402),l=t(66934),u=t(75878),d=t(21217);function Z(e){return(0,d.Z)("MuiTableContainer",e)}(0,u.Z)("MuiTableContainer",["root"]);var v=t(80184),p=["className","component"],m=(0,l.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,n){return n.root}})({width:"100%",overflowX:"auto"}),f=o.forwardRef((function(e,n){var t=(0,c.Z)({props:e,name:"MuiTableContainer"}),o=t.className,l=t.component,u=void 0===l?"div":l,d=(0,r.Z)(t,p),f=(0,a.Z)({},t,{component:u}),x=function(e){var n=e.classes;return(0,i.Z)({root:["root"]},Z,n)}(f);return(0,v.jsx)(m,(0,a.Z)({ref:n,as:u,className:(0,s.Z)(x.root,o),ownerState:f},d))}))},56890:function(e,n,t){t.d(n,{Z:function(){return j}});var a=t(87462),r=t(63366),o=t(72791),s=t(28182),i=t(94419),c=t(829),l=t(31402),u=t(66934),d=t(75878),Z=t(21217);function v(e){return(0,Z.Z)("MuiTableHead",e)}(0,d.Z)("MuiTableHead",["root"]);var p=t(80184),m=["className","component"],f=(0,u.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),x={variant:"head"},h="thead",j=o.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiTableHead"}),o=t.className,u=t.component,d=void 0===u?h:u,Z=(0,r.Z)(t,m),j=(0,a.Z)({},t,{component:d}),b=function(e){var n=e.classes;return(0,i.Z)({root:["root"]},v,n)}(j);return(0,p.jsx)(c.Z.Provider,{value:x,children:(0,p.jsx)(f,(0,a.Z)({as:d,className:(0,s.Z)(b.root,o),ref:n,role:d===h?null:"rowgroup",ownerState:j},Z))})}))}}]);
//# sourceMappingURL=9942.28c4ca07.chunk.js.map