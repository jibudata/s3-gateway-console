"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7486],{51270:function(e,n,t){var i=t(29439),r=(t(72791),t(51691)),o=t(9505),a=t(23508),c=t(75952),s=t(87995),l=t(25469),u=t(80184);n.Z=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,d=e.idp,f=e.idpType,p=(0,l.TL)(),x=(0,o.Z)((function(e){n(!0),p((0,s.cN)(!0===e.restart))}),(function(e){return p((0,s.Ih)(e))})),m=(0,i.Z)(x,2),C=m[0],Z=m[1];if(!d)return null;var h="_"===d?"Default":d;return(0,u.jsx)(a.Z,{title:"Delete ".concat(h),confirmText:"Delete",isOpen:t,titleIcon:(0,u.jsx)(c.NvT,{}),isLoading:C,onConfirm:function(){Z("DELETE","/api/v1/idp/".concat(f,"/").concat(d))},onClose:function(){return n(!1)},confirmButtonProps:{disabled:C},confirmationContent:(0,u.jsxs)(r.Z,{children:["Are you sure you want to delete IDP ",(0,u.jsx)("b",{children:h})," ","configuration? ",(0,u.jsx)("br",{})]})})}},44959:function(e,n,t){var i=t(74165),r=t(15861),o=t(29439),a=t(1413),c=t(72791),s=t(11135),l=t(25787),u=t(25469),d=t(57689),f=t(56087),p=t(38442),x=t(81207),m=t(87995),C=t(74794),Z=t(23814),h=t(61889),D=t(27454),j=t(75952),b=t(92983),y=t(51270),F=t(80184);n.Z=(0,l.Z)((function(e){return(0,s.Z)((0,a.Z)({},Z.Bz))}))((function(e){var n=e.classes,t=e.idpType,a=(0,u.TL)(),s=(0,d.s0)(),l=(0,c.useState)(!1),Z=(0,o.Z)(l,2),I=Z[0],N=Z[1],_=(0,c.useState)(""),v=(0,o.Z)(_,2),A=v[0],T=v[1],P=(0,c.useState)(!1),g=(0,o.Z)(P,2),k=g[0],E=g[1],O=(0,c.useState)([]),M=(0,o.Z)(O,2),G=M[0],U=M[1],w=(0,p.F)(f.C3,[f.Ft.ADMIN_CONFIG_UPDATE]),L=(0,p.F)(f.C3,[f.Ft.ADMIN_CONFIG_UPDATE]),B=(0,p.F)(f.C3,[f.Ft.ADMIN_CONFIG_UPDATE]);(0,c.useEffect)((function(){K()}),[]),(0,c.useEffect)((function(){k&&(B?x.Z.invoke("GET","/api/v1/idp/".concat(t)).then((function(e){E(!1),U(e.results.map((function(e){return e.name="_"===e.name?"Default":e.name,e.enabled=!0===e.enabled?"Enabled":"Disabled",e})))})).catch((function(e){E(!1),a((0,m.Ih)(e))})):E(!1))}),[k,E,U,a,B,t]);var K=function(){E(!0)},S=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!1),n&&K();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=[{type:"view",onClick:function(e){var n="Default"===e.name?"_":e.name;s("/identity/idp/".concat(t,"/configurations/").concat(n))},disableButtonFunction:function(){return!L}},{type:"delete",onClick:function(e){N(!0),T(e="Default"===e?"_":e)},sendOnlyId:!0,disableButtonFunction:function(e){return!w||"Default"===e}}];return(0,F.jsxs)(c.Fragment,{children:[I&&(0,F.jsx)(y.Z,{deleteOpen:I,idp:A,idpType:t,closeDeleteModalAndRefresh:S}),(0,F.jsx)(j.mr1,{label:"".concat(t.toUpperCase()," Configurations")}),(0,F.jsx)(C.Z,{className:n.pageContainer,children:(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsxs)(h.ZP,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"flex-end",sx:{"& button":{marginLeft:"8px"}},children:[(0,F.jsx)(p.s,{scopes:[f.Ft.ADMIN_CONFIG_UPDATE],resource:f.C3,errorProps:{disabled:!0},children:(0,F.jsx)(D.Z,{tooltip:"Refresh",children:(0,F.jsx)(j.zxk,{id:"refresh-keys",variant:"regular",icon:(0,F.jsx)(j.DuK,{}),onClick:function(){return E(!0)}})})}),(0,F.jsx)(p.s,{scopes:[f.Ft.ADMIN_CONFIG_UPDATE],resource:f.C3,errorProps:{disabled:!0},children:(0,F.jsx)(D.Z,{tooltip:"Create ".concat(t," configuration"),children:(0,F.jsx)(j.zxk,{id:"create-idp",label:"Create Configuration",variant:"callAction",icon:(0,F.jsx)(j.dtP,{}),onClick:function(){return s("/identity/idp/".concat(t,"/configurations/add-idp"))}})})})]}),(0,F.jsx)(h.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,F.jsx)(p.s,{scopes:[f.Ft.ADMIN_CONFIG_UPDATE],resource:f.C3,errorProps:{disabled:!0},children:(0,F.jsx)(b.Z,{itemActions:z,columns:[{label:"Name",elementKey:"name"},{label:"Type",elementKey:"type"},{label:"Enabled",elementKey:"enabled"}],isLoading:k,records:G,entityName:"Keys",idField:"name"})})})]})})]})}))},17486:function(e,n,t){t.r(n);t(72791);var i=t(44959),r=t(80184);n.default=function(){return(0,r.jsx)(i.Z,{idpType:"ldap"})}}}]);
//# sourceMappingURL=7486.c2a75e92.chunk.js.map