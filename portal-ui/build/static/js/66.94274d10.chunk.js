(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[66],{401:function(e,t,a){"use strict";a(2);var n=a(41),c=a(384),i=a(441),r=a(316),s=a(320),l=a(96),o=a(386),d=a(76),j=a(75),b=a(35),u=a(23),h=a(0),m={toggleList:b.t},x=Object(n.b)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),m);t.a=x(Object(s.a)((function(e){return Object(r.a)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var t=e.classes,a=e.label,n=e.actions,r=e.sidebarOpen,s=e.operatorMode,b=e.managerObjects,m=e.toggleList;return Object(h.jsxs)(i.a,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[Object(h.jsx)(c.a,{display:{xs:"block",sm:"block",md:"none"},children:Object(h.jsx)(i.a,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),Object(h.jsxs)(i.a,{item:!0,xs:12,sm:12,md:6,className:t.label,children:[!r&&Object(h.jsx)("div",{className:t.logo,children:s?Object(h.jsx)(d.a,{}):Object(h.jsx)(j.a,{})}),Object(h.jsx)(l.a,{variant:"h4",className:t.labelStyle,children:a})]}),Object(h.jsxs)(i.a,{item:!0,xs:12,sm:12,md:6,className:t.rightMenu,children:[n&&n,b&&b.length>0&&Object(h.jsx)(o.a,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){m()},size:"large",children:Object(h.jsx)(u.Lb,{})})]})]})})))},424:function(e,t,a){"use strict";a(2);var n=a(316),c=a(320),i=a(441),r=a(0);t.a=Object(c.a)((function(e){return Object(n.a)({root:{border:"1px solid rgb(234, 237, 238)",borderRadius:5,paddingTop:10,paddingLeft:40,paddingRight:40,paddingBottom:40,marginTop:10,marginBottom:10,backgroundColor:"#fbfafa"},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:20,display:"flex",alignItems:"center","& .min-icon":{width:"2.5rem",marginRight:".8rem"}},helpText:{fontSize:16}})}))((function(e){var t=e.classes,a=e.iconComponent,n=e.title,c=e.help;return Object(r.jsx)("div",{className:t.root,children:Object(r.jsxs)(i.a,{container:!0,children:[Object(r.jsxs)(i.a,{item:!0,xs:12,className:t.leftItems,children:[a,n]}),Object(r.jsx)(i.a,{item:!0,xs:12,className:t.helpText,children:c})]})})}))},430:function(e,t,a){"use strict";var n=a(1),c=a(2),i=a(0);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function a(a){return Object(i.jsx)(c.Suspense,{fallback:t,children:Object(i.jsx)(e,Object(n.a)({},a))})}return a}},433:function(e,t,a){"use strict";var n=a(1),c=a(5),i=a(410),r=(a(2),a(316)),s=a(320),l=a(386),o=a(380),d=a(8),j=a(0),b=["classes","children","variant","tooltip"];t.a=Object(s.a)((function(e){return Object(r.a)({root:{padding:8,marginLeft:8,borderWidth:1,borderColor:"#696969",color:"#696969",borderStyle:"solid",borderRadius:3,"& .min-icon":{width:20},"& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.main,borderRadius:3,opacity:.3},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}},contained:{borderColor:e.palette.primary.main,background:e.palette.primary.main,color:"white","& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.dark,borderRadius:3,opacity:.3},"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"}}})}))((function(e){var t=e.classes,a=e.children,r=e.variant,s=void 0===r?"outlined":r,u=e.tooltip,h=Object(i.a)(e,b),m=Object(j.jsx)(l.a,Object(n.a)(Object(n.a)({},h),{},{className:Object(d.a)(t.root,Object(c.a)({},t.contained,"contained"===s)),children:a}));return u&&""!==u?Object(j.jsx)(o.a,{title:u,children:Object(j.jsx)("span",{children:m})}):m}))},500:function(e,t,a){"use strict";var n=a(1),c=a(410),i=(a(2),a(316)),r=a(320),s=a(0),l=["classes","children"];t.a=Object(r.a)((function(e){return Object(i.a)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var t=e.classes,a=e.children,i=Object(c.a)(e,l);return Object(s.jsx)("button",Object(n.a)(Object(n.a)({},i),{},{className:t.root,children:a}))}))},528:function(e,t,a){"use strict";var n=a(2),c=a.n(n),i=a(96),r=a(316),s=a(320),l=a(0);t.a=Object(s.a)((function(e){var t;return Object(r.a)({errorBlock:{color:(null===(t=e.palette)||void 0===t?void 0:t.error.main)||"#C83B51"}})}))((function(e){var t=e.classes,a=e.errorMessage,n=e.withBreak,r=void 0===n||n;return Object(l.jsxs)(c.a.Fragment,{children:[r&&Object(l.jsx)("br",{}),Object(l.jsx)(i.a,{component:"p",variant:"body1",className:t.errorBlock,children:a})]})}))},647:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s}));var n=a(48),c=a.n(n),i=function(e){return e.map((function(e){return{label:e,value:e}}))},r=function(e){var t=c()(e,"elements",[]),a={};return t.forEach((function(e){var t=e.name.split(".storageclass.storage.k8s.io/requests.storage")[0],n=c()(e,"hard",0),i=c()(e,"used",0);a[t]=n-i})),a},s=function(e){return""!==e.currentState&&(!(!e.status&&"green"!==e.health_status&&"yellow"!==e.health_status)&&(!e.status||"green"===e.status.health_status||"yellow"===e.status.health_status))}},979:function(e,t,a){"use strict";a.r(t);var n=a(16),c=a(1),i=a(2),r=a.n(i),s=a(41),l=a(441),o=a(422),d=a(457),j=a(384),b=a(383),u=a(372),h=a(316),m=a(320),x=a(60),O=a(122),g=a(32),p=a(23),f=a(53),y=a(54),v=a(137),S=a(135),N=a(401),w=a(152),C=a(470),k=a(528),T=a(0),B=Object(m.a)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:"#F4F4F4"},bar:{borderRadius:5,backgroundColor:"#081C42"},padChart:{padding:"5px"}}}))(u.a),I=Object(m.a)((function(e){return Object(h.a)({allValue:{fontSize:16,fontWeight:700,marginBottom:8},currentUsage:{fontSize:12,marginTop:8},centerItem:{textAlign:"center"}})}))((function(e){var t=e.classes,a=e.maxValue,n=e.currValue,c=e.label,s=e.renderFunction,o=e.loading,d=e.error,j=e.labels,b=void 0===j||j,u=100*n/a;return Object(T.jsxs)(r.a.Fragment,{children:[o&&Object(T.jsx)("div",{className:t.padChart,children:Object(T.jsx)(l.a,{item:!0,xs:12,className:t.centerItem,children:Object(T.jsx)(C.a,{color:"primary",size:40,variant:"indeterminate"})})}),o?null:""!==d?Object(T.jsx)(k.a,{errorMessage:d,withBreak:!1}):Object(T.jsxs)(r.a.Fragment,{children:[Object(T.jsx)(l.a,{item:!0,xs:12,className:t.allValue,children:b&&Object(T.jsxs)(i.Fragment,{children:[c," ",s?s(a.toString()):a]})}),Object(T.jsx)(B,{variant:"determinate",value:u}),Object(T.jsx)(l.a,{item:!0,xs:12,className:t.currentUsage,children:b&&Object(T.jsxs)(i.Fragment,{children:["Used:"," ",s?s(n.toString()):n]})})]})]})})),R=a(647),F=Object(s.b)(null,{setErrorSnackMessage:g.e}),z=Object(m.a)((function(e){return Object(h.a)({redState:{color:e.palette.error.main,"& .min-icon":{width:16,height:16,float:"left",marginRight:4}},yellowState:{color:e.palette.warning.main,"& .min-icon":{width:16,height:16,float:"left",marginRight:4}},greenState:{color:e.palette.success.main,"& .min-icon":{width:16,height:16,float:"left",marginRight:4}},greyState:{color:"grey","& .min-icon":{width:16,height:16,float:"left",marginRight:4}},tenantIcon:{width:40,height:40,position:"relative"},healthStatusIcon:{position:"absolute",fontSize:10,top:0,right:-20,height:10},tenantItem:{border:"1px solid #dedede",marginBottom:20,paddingLeft:40,paddingRight:40,paddingTop:30,paddingBottom:30},title:{fontSize:22,fontWeight:"bold"},titleSubKey:{fontSize:14,paddingRight:8},titleSubValue:{fontSize:14,fontWeight:"bold",paddingRight:16},boxyTitle:{fontWeight:"bold"},boxyValue:{fontSize:24,fontWeight:"bold"},boxyUnit:{fontSize:12,color:"#5E5E5E"},manageButton:{marginRight:8,textTransform:"initial"}})}))(F((function(e){var t,a,n=e.tenant,c=e.classes,r={value:"n/a",unit:""},s={value:"n/a",unit:""},o={value:"n/a",unit:""};if(n.capacity_raw){var d=Object(x.l)("".concat(n.capacity_raw),!0).split(" ");r.value=d[0],r.unit=d[1]}if(n.capacity){var j=Object(x.l)("".concat(n.capacity),!0).split(" ");s.value=j[0],s.unit=j[1]}if(n.capacity_usage){var u=n.capacity*n.capacity_raw_usage/n.capacity_raw,h=Object(x.l)("".concat(u),!0).split(" ");o.value=h[0],o.unit=h[1]}return Object(T.jsx)(i.Fragment,{children:Object(T.jsx)("div",{className:c.tenantItem,children:Object(T.jsxs)(l.a,{container:!0,children:[Object(T.jsxs)(l.a,{item:!0,xs:8,children:[Object(T.jsx)("div",{className:c.title,children:n.name}),Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:c.titleSubKey,children:"Namespace:"}),Object(T.jsx)("span",{className:c.titleSubValue,children:n.namespace}),Object(T.jsx)("span",{className:c.titleSubKey,children:"Pools:"}),Object(T.jsx)("span",{className:c.titleSubValue,children:n.pool_count}),Object(T.jsx)("span",{className:c.titleSubKey,children:"State:"}),Object(T.jsx)("span",{className:c.titleSubValue,children:n.currentState})]})]}),Object(T.jsxs)(l.a,{item:!0,xs:4,textAlign:"end",children:[Object(T.jsx)(b.a,{size:"small",color:"primary",variant:"outlined",disabled:!Object(R.c)(n),className:c.manageButton,onClick:function(){y.a.push("/namespaces/".concat(n.namespace,"/tenants/").concat(n.name,"/hop"))},children:"Manage"}),Object(T.jsx)(b.a,{endIcon:Object(T.jsx)(p.i,{}),variant:"contained",onClick:function(){y.a.push("/namespaces/".concat(n.namespace,"/tenants/").concat(n.name))},children:"View"})]}),Object(T.jsx)(l.a,{item:!0,xs:12,children:Object(T.jsx)("hr",{})}),Object(T.jsx)(l.a,{item:!0,xs:12,children:Object(T.jsxs)(l.a,{container:!0,alignItems:"center",children:[Object(T.jsx)(l.a,{item:!0,xs:7,children:Object(T.jsxs)(l.a,{container:!0,children:[Object(T.jsx)(l.a,{item:!0,xs:3,style:{textAlign:"center"},children:Object(T.jsxs)("div",{className:c.tenantIcon,children:[Object(T.jsx)(w.a,{style:{height:40,width:40}}),Object(T.jsx)("div",{className:c.healthStatusIcon,children:Object(T.jsx)("span",{className:function(e){switch(e){case"red":return c.redState;case"yellow":return c.yellowState;case"green":return c.greenState;default:return c.greyState}}(n.health_status),children:Object(T.jsx)(p.r,{})})})]})}),Object(T.jsx)(l.a,{item:!0,xs:3,children:Object(T.jsxs)(l.a,{container:!0,children:[Object(T.jsx)(l.a,{item:!0,xs:12,className:c.boxyTitle,children:"Raw Capacity"}),Object(T.jsxs)(l.a,{item:!0,className:c.boxyValue,children:[r.value,Object(T.jsx)("span",{className:c.boxyUnit,children:r.unit})]})]})}),Object(T.jsx)(l.a,{item:!0,xs:3,children:Object(T.jsxs)(l.a,{container:!0,children:[Object(T.jsx)(l.a,{item:!0,xs:12,className:c.boxyTitle,children:"Capacity"}),Object(T.jsxs)(l.a,{item:!0,className:c.boxyValue,children:[s.value,Object(T.jsx)("span",{className:c.boxyUnit,children:s.unit})]})]})}),Object(T.jsx)(l.a,{item:!0,xs:3,children:Object(T.jsxs)(l.a,{container:!0,children:[Object(T.jsx)(l.a,{item:!0,xs:12,className:c.boxyTitle,children:"Usage"}),Object(T.jsxs)(l.a,{item:!0,className:c.boxyValue,children:[o.value,Object(T.jsx)("span",{className:c.boxyUnit,children:o.unit})]})]})})]})}),Object(T.jsx)(l.a,{item:!0,xs:5,children:Object(T.jsx)(I,{currValue:null!==(t=n.capacity_raw_usage)&&void 0!==t?t:0,maxValue:null!==(a=n.capacity_raw)&&void 0!==a?a:1,label:"",renderFunction:x.l,error:"",loading:!1,labels:!1})})]})})]})})})}))),M=a(424),_=a(433),E=a(500),V=a(430),L=Object(V.a)(r.a.lazy((function(){return a.e(39).then(a.bind(null,745))}))),A=Object(s.b)(null,{setErrorSnackMessage:g.e});t.default=Object(m.a)((function(e){return Object(h.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},O.a),O.v),Object(O.f)(e.spacing(4))),{},{addTenant:{marginRight:8},theaderSearchLabel:{color:e.palette.grey[400],fontSize:14,fontWeight:"bold"},theaderSearch:{borderColor:e.palette.grey[200],"& .MuiInputBase-input":{paddingTop:10,paddingBottom:10},"& .MuiInputBase-root":{"& .MuiInputAdornment-root":{"& .min-icon":{color:e.palette.grey[400],height:14}}},actionHeaderItems:{"@media (min-width: 320px)":{marginTop:8}},marginRight:10,marginLeft:10},mainActions:{textAlign:"right",marginBottom:8}}))}))(A((function(e){var t=e.classes,a=e.setErrorSnackMessage,c=Object(i.useState)(!1),r=Object(n.a)(c,2),s=r[0],h=r[1],m=Object(i.useState)(""),O=Object(n.a)(m,2),g=O[0],w=O[1],C=Object(i.useState)([]),k=Object(n.a)(C,2),B=k[0],I=k[1],R=Object(i.useState)(!1),F=Object(n.a)(R,2),V=F[0],A=F[1],U=Object(i.useState)(null),W=Object(n.a)(U,2),K=W[0],P=W[1],H=B.filter((function(e){return""===g||e.name.indexOf(g)>=0}));return Object(i.useEffect)((function(){if(s){f.a.invoke("GET","/api/v1/tenants").then((function(e){if(null!==e){var t=[];null!==e.tenants&&(t=e.tenants);for(var a=0;a<t.length;a++)t[a].total_capacity=Object(x.l)(t[a].total_size+"");I(t),h(!1)}else h(!1)})).catch((function(e){a(e),h(!1)}))}}),[s,a]),Object(i.useEffect)((function(){h(!0)}),[]),Object(T.jsxs)(i.Fragment,{children:[V&&Object(T.jsx)(L,{newServiceAccount:K,open:V,closeModal:function(){A(!1),P(null)},entity:"Tenant"}),Object(T.jsx)(N.a,{label:"Tenants",actions:Object(T.jsx)(i.Fragment,{children:Object(T.jsxs)(l.a,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",className:t.actionHeaderItems,children:[Object(T.jsx)(j.a,{display:{xs:"none",sm:"none",md:"block"},children:Object(T.jsx)(l.a,{item:!0,children:Object(T.jsx)("div",{className:t.theaderSearchLabel,children:"Filter Tenants:"})})}),Object(T.jsx)(j.a,{display:{xs:"block",sm:"block",md:"none"},children:Object(T.jsx)(o.a,{className:t.theaderSearch,variant:"outlined",id:"search-resource",placeholder:"Filter Tenants",onChange:function(e){w(e.target.value)},inputProps:{disableUnderline:!0,endAdornment:Object(T.jsx)(d.a,{position:"end",children:Object(T.jsx)(S.default,{})})}})}),Object(T.jsx)(j.a,{display:{xs:"none",sm:"none",md:"block"},children:Object(T.jsx)(o.a,{className:t.theaderSearch,variant:"outlined",id:"search-resource",onChange:function(e){w(e.target.value)},inputProps:{disableUnderline:!0,endAdornment:Object(T.jsx)(d.a,{position:"end",children:Object(T.jsx)(S.default,{})})}})}),Object(T.jsx)(l.a,{item:!0,children:Object(T.jsx)(b.a,{variant:"contained",color:"primary",endIcon:Object(T.jsx)(p.d,{}),onClick:function(){y.a.push("/tenants/add")},className:t.addTenant,children:"Create Tenant"})})]})})}),Object(T.jsx)(l.a,{container:!0,children:Object(T.jsx)(l.a,{item:!0,xs:12,className:t.container,children:Object(T.jsxs)(l.a,{container:!0,children:[Object(T.jsx)(l.a,{item:!0,xs:12,className:t.mainActions,children:Object(T.jsx)(_.a,{color:"primary","aria-label":"Refresh Tenant List",onClick:function(){h(!0)},size:"large",children:Object(T.jsx)(v.default,{})})}),Object(T.jsxs)(l.a,{item:!0,xs:12,children:[s&&Object(T.jsx)(u.a,{}),!s&&Object(T.jsxs)(i.Fragment,{children:[H.map((function(e){return Object(T.jsx)(z,{tenant:e})})),0===H.length&&Object(T.jsx)(l.a,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:Object(T.jsx)(l.a,{item:!0,xs:8,children:Object(T.jsx)(M.a,{iconComponent:Object(T.jsx)(p.jc,{}),title:"Tenants",help:Object(T.jsxs)(i.Fragment,{children:["Tenant is the logical structure to represent a MinIO deployment. A tenant can have different size and configurations from other tenants, even a different storage class.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"To get started,\xa0",Object(T.jsx)(E.a,{onClick:function(){y.a.push("/tenants/add")},children:"Create a Tenant."})]})})})})]})]})]})})})]})})))}}]);
//# sourceMappingURL=66.94274d10.chunk.js.map