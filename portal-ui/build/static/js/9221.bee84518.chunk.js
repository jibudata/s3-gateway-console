"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9221],{49221:(e,s,r)=>{r.r(s),r.d(s,{default:()=>h});var t=r(72791),l=r(29945),o=r(23814),a=r(81207),d=r(83658),n=r(56028),i=r(87995),u=r(44690),c=r(80184);const h=e=>{let{open:s,checkedUsers:r,closeModalAndRefresh:h}=e;const x=(0,u.TL)(),[p,j]=(0,t.useState)(!1),[b,g]=(0,t.useState)(!1),[k,m]=(0,t.useState)([]);(0,t.useEffect)((()=>{p&&(k.length>0?a.Z.invoke("PUT","/api/v1/users-groups-bulk",{groups:k,users:r}).then((()=>{j(!1),g(!0)})).catch((e=>{j(!1),x((0,i.zb)(e))})):(j(!1),x((0,i.zb)({errorMessage:"You need to select at least one group to assign",detailedError:""}))))}),[p,j,h,k,r,x]);return(0,c.jsx)(n.Z,{modalOpen:s,onClose:()=>{h(b)},title:b?"The selected users were added to the following groups.":"Add Users to Group",titleIcon:(0,c.jsx)(l.ZmA,{}),children:b?(0,c.jsx)(t.Fragment,{children:(0,c.jsxs)(l.ltY,{withBorders:!1,containerPadding:!1,sx:{margin:"30px 0"},children:[(0,c.jsx)(l.bSr,{label:"Groups",sx:{width:"100%"},children:k.join(", ")}),(0,c.jsxs)(l.bSr,{label:"Users",sx:{width:"100%"},children:[" ",r.join(", ")," "]})]})}):(0,c.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:e=>{e.preventDefault(),j(!0)},children:[(0,c.jsxs)(l.ltY,{withBorders:!1,containerPadding:!1,children:[(0,c.jsx)(l.bSr,{label:"Selected Users",sx:{width:"100%"},children:r.join(", ")}),(0,c.jsx)(d.Z,{selectedGroups:k,setSelectedGroups:m})]}),(0,c.jsxs)(l.rjZ,{item:!0,xs:12,sx:o.ID.modalButtonBar,children:[(0,c.jsx)(l.zxk,{id:"clear-bulk-add-group",type:"button",variant:"regular",color:"primary",onClick:()=>{m([])},label:"Clear"}),(0,c.jsx)(l.zxk,{id:"save-add-group",type:"submit",variant:"callAction",disabled:p||k.length<1,label:"Save"})]}),p&&(0,c.jsx)(l.rjZ,{item:!0,xs:12,children:(0,c.jsx)(l.kod,{})})]})})}}}]);
//# sourceMappingURL=9221.bee84518.chunk.js.map