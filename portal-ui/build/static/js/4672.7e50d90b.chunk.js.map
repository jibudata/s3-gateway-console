{"version":3,"file":"static/js/4672.7e50d90b.chunk.js","mappings":"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","sources":["screens/Console/IDP/AddIDPConfiguration.tsx","screens/Console/IDP/AddIDPConfigurationHelpbox.tsx","screens/Console/IDP/AddIDPLDAPConfiguration.tsx","screens/Console/IDP/utils.tsx","../node_modules/@mui/icons-material/Login.js"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\n\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Box, Grid } from \"@mui/material\";\nimport {\n  formFieldStyles,\n  modalBasic,\n} from \"../Common/FormComponents/common/styleLibrary\";\nimport InputBoxWrapper from \"../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport { Button } from \"mds\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ErrorResponseHandler } from \"../../../common/types\";\nimport { useAppDispatch } from \"../../../store\";\nimport {\n  setErrorSnackMessage,\n  setServerNeedsRestart,\n} from \"../../../systemSlice\";\nimport useApi from \"../Common/Hooks/useApi\";\nimport PageHeader from \"../Common/PageHeader/PageHeader\";\nimport BackLink from \"../../../common/BackLink\";\nimport PageLayout from \"../Common/Layout/PageLayout\";\nimport SectionTitle from \"../Common/SectionTitle\";\n\ntype AddIDPConfigurationProps = {\n  classes?: any;\n  icon: React.ReactNode;\n  helpBox: React.ReactNode;\n  header: string;\n  title: string;\n  backLink: string;\n  formFields: object;\n  endpoint: string;\n};\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalBasic,\n  });\n\nconst AddIDPConfiguration = ({\n  classes,\n  icon,\n  helpBox,\n  header,\n  backLink,\n  title,\n  formFields,\n  endpoint,\n}: AddIDPConfigurationProps) => {\n  const extraFormFields = {\n    name: {\n      required: true,\n      hasError: (s: string, editMode: boolean) => {\n        return !s && editMode ? \"Config Name is required\" : \"\";\n      },\n      label: \"Name\",\n      tooltip: \"Name for identity provider configuration\",\n      placeholder: \"Name\",\n      type: \"text\",\n    },\n    ...formFields,\n  };\n\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n\n  const [fields, setFields] = useState<any>({});\n\n  const onSuccess = (res: any) => {\n    navigate(backLink);\n    dispatch(setServerNeedsRestart(res.restart === true));\n  };\n\n  const onError = (err: ErrorResponseHandler) =>\n    dispatch(setErrorSnackMessage(err));\n\n  const [loading, invokeApi] = useApi(onSuccess, onError);\n\n  const validSave = () => {\n    for (const [key, value] of Object.entries(extraFormFields)) {\n      if (\n        value.required &&\n        !(\n          fields[key] !== undefined &&\n          fields[key] !== null &&\n          fields[key] !== \"\"\n        )\n      ) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const resetForm = () => {\n    setFields({});\n  };\n\n  const addRecord = (event: React.FormEvent) => {\n    event.preventDefault();\n    const name = fields[\"name\"];\n    let input = \"\";\n    for (const key of Object.keys(formFields)) {\n      if (fields[key]) {\n        input += `${key}=${fields[key]} `;\n      }\n    }\n    invokeApi(\"POST\", endpoint, { name, input });\n  };\n\n  return (\n    <Grid item xs={12}>\n      <PageHeader label={<BackLink to={backLink} label={header} />} />\n      <PageLayout>\n        <Box\n          sx={{\n            display: \"grid\",\n            padding: \"25px\",\n            gap: \"25px\",\n            gridTemplateColumns: {\n              md: \"2fr 1.2fr\",\n              xs: \"1fr\",\n            },\n            border: \"1px solid #eaeaea\",\n          }}\n        >\n          <Box>\n            <SectionTitle icon={icon}>{title}</SectionTitle>\n            <form\n              noValidate\n              autoComplete=\"off\"\n              onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n                addRecord(e);\n              }}\n            >\n              <Grid container item spacing=\"20\" sx={{ marginTop: 1 }}>\n                <Grid xs={12} item>\n                  {Object.entries(extraFormFields).map(([key, value]) => (\n                    <Grid\n                      item\n                      xs={12}\n                      className={classes.formFieldRow}\n                      key={key}\n                    >\n                      <InputBoxWrapper\n                        id={key}\n                        required={value.required}\n                        name={key}\n                        label={value.label}\n                        tooltip={value.tooltip}\n                        error={value.hasError(fields[key], true)}\n                        value={fields[key] ? fields[key] : \"\"}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                          setFields({ ...fields, [key]: e.target.value })\n                        }\n                        placeholder={value.placeholder}\n                        type={value.type}\n                      />\n                    </Grid>\n                  ))}\n                  <Grid item xs={12} textAlign={\"right\"}>\n                    <Box\n                      sx={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"flex-end\",\n                        marginTop: \"20px\",\n                        gap: \"15px\",\n                      }}\n                    >\n                      <Button\n                        id={\"clear\"}\n                        type=\"button\"\n                        variant=\"regular\"\n                        onClick={resetForm}\n                        label={\"Clear\"}\n                      />\n\n                      <Button\n                        id={\"save-key\"}\n                        type=\"submit\"\n                        variant=\"callAction\"\n                        color=\"primary\"\n                        disabled={loading || !validSave()}\n                        label={\"Save\"}\n                      />\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </form>\n          </Box>\n          {helpBox}\n        </Box>\n      </PageLayout>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles)(AddIDPConfiguration);\n","import React, { Fragment } from \"react\";\n\nimport { Box } from \"@mui/material\";\nimport { HelpIconFilled } from \"../../../icons\";\n\ninterface IContent {\n  icon: React.ReactNode;\n  text: string;\n  iconDescription: string;\n}\n\ninterface IAddIDPConfigurationHelpBoxProps {\n  helpText: string;\n  docLink: string;\n  docText: string;\n  contents: IContent[];\n}\n\nconst FeatureItem = ({\n  icon,\n  description,\n}: {\n  icon: any;\n  description: string;\n}) => {\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        \"& .min-icon\": {\n          marginRight: \"10px\",\n          height: \"23px\",\n          width: \"23px\",\n          marginBottom: \"10px\",\n        },\n      }}\n    >\n      {icon}{\" \"}\n      <div style={{ fontSize: \"14px\", fontStyle: \"italic\", color: \"#5E5E5E\" }}>\n        {description}\n      </div>\n    </Box>\n  );\n};\n\nconst AddIDPConfigurationHelpBox = ({\n  helpText,\n  docLink,\n  docText,\n  contents,\n}: IAddIDPConfigurationHelpBoxProps) => {\n  return (\n    <Box\n      sx={{\n        flex: 1,\n        border: \"1px solid #eaeaea\",\n        borderRadius: \"2px\",\n        display: \"flex\",\n        flexFlow: \"column\",\n        padding: \"20px\",\n      }}\n    >\n      <Box\n        sx={{\n          fontSize: \"16px\",\n          fontWeight: 600,\n          display: \"flex\",\n          alignItems: \"center\",\n          marginBottom: \"16px\",\n          paddingBottom: \"20px\",\n\n          \"& .min-icon\": {\n            height: \"21px\",\n            width: \"21px\",\n            marginRight: \"15px\",\n          },\n        }}\n      >\n        <HelpIconFilled />\n        <div>{helpText}</div>\n      </Box>\n      <Box sx={{ fontSize: \"14px\", marginBottom: \"15px\" }}>\n        {contents.map((content) => (\n          <Fragment>\n            {content.icon && (\n              <Box sx={{ paddingBottom: \"20px\" }}>\n                <FeatureItem\n                  icon={content.icon}\n                  description={content.iconDescription}\n                />\n              </Box>\n            )}\n            <Box sx={{ paddingBottom: \"20px\" }}>{content.text}</Box>\n          </Fragment>\n        ))}\n        <Box sx={{ paddingBottom: \"20px\" }}>\n          <a href={docLink} target=\"_blank\" rel=\"noreferrer\">\n            {docText}\n          </a>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default AddIDPConfigurationHelpBox;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\n\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport LoginIcon from \"@mui/icons-material/Login\";\nimport {\n  formFieldStyles,\n  modalBasic,\n} from \"../Common/FormComponents/common/styleLibrary\";\nimport { IAM_PAGES } from \"../../../common/SecureComponent/permissions\";\nimport AddIDPConfiguration from \"./AddIDPConfiguration\";\nimport { ldapFormFields } from \"./utils\";\nimport AddIDPConfigurationHelpBox from \"./AddIDPConfigurationHelpbox\";\n\ntype AddIDPLDAPConfigurationProps = {\n  classes?: any;\n};\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    formFieldRow: {\n      ...formFieldStyles.formFieldRow,\n    },\n    ...modalBasic,\n  });\n\nconst AddIDPLDAPConfiguration = ({ classes }: AddIDPLDAPConfigurationProps) => {\n  const helpBoxContents = [\n    {\n      text: \"MinIO supports using an Active Directory or LDAP (AD/LDAP) service for external management of user identities. Configuring an external IDentity Provider (IDP) enables Single-Sign On (SSO) workflows, where applications authenticate against the external IDP before accessing MinIO.\",\n      icon: <LoginIcon />,\n      iconDescription: \"Create Configurations\",\n    },\n    {\n      text: \"MinIO queries the configured Active Directory / LDAP server to verify the credentials specified by the application and optionally return a list of groups in which the user has membership. MinIO supports two modes (Lookup-Bind Mode and Username-Bind Mode) for performing these queries\",\n      icon: null,\n      iconDescription: \"\",\n    },\n    {\n      text: \"MinIO recommends using Lookup-Bind mode as the preferred method for verifying AD/LDAP credentials. Username-Bind mode is a legacy method retained for backwards compatibility only.\",\n      icon: null,\n      iconDescription: \"\",\n    },\n  ];\n\n  return (\n    <AddIDPConfiguration\n      icon={<LoginIcon />}\n      helpBox={\n        <AddIDPConfigurationHelpBox\n          helpText={\"Learn more about LDAP Configurations\"}\n          contents={helpBoxContents}\n          docLink={\n            \"https://min.io/docs/minio/linux/operations/external-iam.html?ref=con#minio-external-iam-ad-ldap\"\n          }\n          docText={\"Learn more about LDAP Configurations\"}\n        />\n      }\n      header={\"LDAP Configurations\"}\n      backLink={IAM_PAGES.IDP_LDAP_CONFIGURATIONS}\n      title={\"Create LDAP Configuration\"}\n      endpoint={\"/api/v1/idp/ldap/\"}\n      formFields={ldapFormFields}\n    />\n  );\n};\n\nexport default withStyles(styles)(AddIDPLDAPConfiguration);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const openIDFormFields = {\n  config_url: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Config URL is required\" : \"\";\n    },\n    label: \"Config URL\",\n    tooltip: \"Config URL for identity provider configuration\",\n    placeholder:\n      \"https://identity-provider-url/.well-known/openid-configuration\",\n    type: \"text\",\n  },\n  client_id: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Client ID is required\" : \"\";\n    },\n    label: \"Client ID\",\n    tooltip: \"Identity provider Client ID\",\n    placeholder: \"Enter Client ID\",\n    type: \"text\",\n  },\n  client_secret: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Client Secret is required\" : \"\";\n    },\n    label: \"Client Secret\",\n    tooltip: \"Identity provider Client Secret\",\n    placeholder: \"Enter Client Secret\",\n    type: \"password\",\n  },\n  display_name: {\n    required: false,\n    label: \"Display Name\",\n    tooltip: \"Display Name\",\n    placeholder: \"Enter Display Name\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n  },\n  claim_name: {\n    required: false,\n    label: \"Claim Name\",\n    tooltip: \"Claim from which MinIO will read the policy or role to use\",\n    placeholder: \"Enter Claim Name\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n  },\n  claim_prefix: {\n    required: false,\n    label: \"Claim Prefix\",\n    tooltip: \"Claim Prefix\",\n    placeholder: \"Enter Claim Prefix\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n  },\n  scopes: {\n    required: false,\n    label: \"Scopes\",\n    tooltip: \"Scopes\",\n    placeholder: \"openid,profile,email\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n  },\n  redirect_uri: {\n    required: false,\n    label: \"Redirect URI\",\n    tooltip: \"Redirect URI\",\n    placeholder: \"https://console-endpoint-url/oauth_callback\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n  },\n  role_policy: {\n    required: false,\n    label: \"Role Policy\",\n    tooltip: \"Role Policy\",\n    placeholder: \"readonly\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n  },\n};\n\nexport const ldapFormFields = {\n  server_addr: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Server Address is required\" : \"\";\n    },\n    label: \"Server Address\",\n    tooltip: 'AD/LDAP server address e.g. \"myldapserver.com:636\"',\n    placeholder: \"myldapserver.com:636\",\n    type: \"text\",\n  },\n  lookup_bind_dn: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Lookup Bind DN is required\" : \"\";\n    },\n    label: \"Lookup Bind DN\",\n    tooltip:\n      \"DN for LDAP read-only service account used to perform DN and group lookups\",\n    placeholder: \"cn=admin,dc=min,dc=io\",\n    type: \"text\",\n  },\n  lookup_bind_password: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Lookup Bind Password is required\" : \"\";\n    },\n    label: \"Lookup Bind Password\",\n    tooltip:\n      \"Password for LDAP read-only service account used to perform DN and group lookups\",\n    placeholder: \"admin\",\n    type: \"password\",\n  },\n  user_dn_search_base_dn: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"User DN Search Base DN is required\" : \"\";\n    },\n    label: \"User DN Search Base\",\n    tooltip: \"Base LDAP DN to search for user DN\",\n    placeholder: \"DC=example,DC=net\",\n    type: \"text\",\n  },\n  user_dn_search_filter: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"User DN Search Filter is required\" : \"\";\n    },\n    label: \"User DN Search Filter\",\n    tooltip: \"Search filter to lookup user DN\",\n    placeholder: \"(sAMAcountName=%s)\",\n    type: \"text\",\n  },\n  display_name: {\n    required: false,\n    label: \"Display Name\",\n    tooltip: \"Display Name\",\n    placeholder: \"Enter Display Name\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n  },\n  group_search_base_dn: {\n    required: false,\n    hasError: (s: string, editMode: boolean) => \"\",\n    label: \"Group Search Base DN\",\n    tooltip: \"Group Search Base DN\",\n    placeholder: \"ou=swengg,dc=min,dc=io\",\n    type: \"text\",\n  },\n  group_search_filter: {\n    required: false,\n    hasError: (s: string, editMode: boolean) => \"\",\n    label: \"Group Search Filter\",\n    tooltip: \"Group Search Filter\",\n    placeholder: \"(&(objectclass=groupofnames)(member=%d))\",\n    type: \"text\",\n  },\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z\"\n}), 'Login');\n\nexports.default = _default;"],"names":["withStyles","theme","createStyles","formFieldStyles","modalBasic","classes","icon","helpBox","header","backLink","title","formFields","endpoint","extraFormFields","name","required","hasError","s","editMode","label","tooltip","placeholder","type","navigate","useNavigate","dispatch","useAppDispatch","useState","fields","setFields","useApi","res","setServerNeedsRestart","restart","err","setErrorSnackMessage","loading","invokeApi","item","xs","to","sx","display","padding","gap","gridTemplateColumns","md","border","noValidate","autoComplete","onSubmit","e","event","preventDefault","input","Object","keys","key","addRecord","container","spacing","marginTop","entries","map","value","className","formFieldRow","id","error","onChange","target","textAlign","alignItems","justifyContent","variant","onClick","color","disabled","undefined","validSave","FeatureItem","description","marginRight","height","width","marginBottom","style","fontSize","fontStyle","helpText","docLink","docText","contents","flex","borderRadius","flexFlow","fontWeight","paddingBottom","content","Fragment","iconDescription","text","href","rel","helpBoxContents","IAM_PAGES","ldapFormFields","openIDFormFields","config_url","client_id","client_secret","display_name","claim_name","claim_prefix","scopes","redirect_uri","role_policy","server_addr","lookup_bind_dn","lookup_bind_password","user_dn_search_base_dn","user_dn_search_filter","group_search_base_dn","group_search_filter","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}