"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1379],{45902:function(e,n,t){var s=t(1413),o=(t(72791),t(53767)),i=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,r=e.value,l=void 0===r?"-":r,a=e.orientation,c=void 0===a?"column":a,u=e.stkProps,d=void 0===u?{}:u,x=e.lblProps,f=void 0===x?{}:x,v=e.valProps,m=void 0===v?{}:v;return(0,i.jsxs)(o.Z,(0,s.Z)((0,s.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,i.jsx)("label",(0,s.Z)((0,s.Z)({style:{marginRight:5,fontWeight:600}},f),{},{children:t})),(0,i.jsx)("label",(0,s.Z)((0,s.Z)({style:{marginRight:5,fontWeight:500}},m),{},{children:l}))]}))}},51379:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var s=t(1413),o=t(72791),i=t(78687),r=t(57689),l=t(11135),a=t(25787),c=t(23814),u=t(61889),d=t(25469),x=t(29439),f=t(27391),v=t(63466),m=t(75952),p=t(92983),j=t(17238),h=t(27454),Z=t(80184),g=(0,a.Z)((function(e){return(0,l.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},c.oZ),c.OR),c.VX),c.Bz))}))((function(e){var n=e.classes,t=e.setPoolDetailsView,s=(0,d.TL)(),l=(0,r.s0)(),a=(0,i.v9)((function(e){return e.tenants.loadingTenant})),c=(0,i.v9)((function(e){return e.tenants.tenantInfo})),g=(0,o.useState)([]),y=(0,x.Z)(g,2),b=y[0],C=y[1],A=(0,o.useState)(""),P=(0,x.Z)(A,2),k=P[0],N=P[1];(0,o.useEffect)((function(){if(c){var e=c.pools?c.pools:[];C(e)}}),[c]);var R=b.filter((function(e){return!!e.name.toLowerCase().includes(k.toLowerCase())})),w=[{type:"view",onClick:function(e){s((0,j.Lm)(e.name)),t()}}];return(0,Z.jsxs)(o.Fragment,{children:[(0,Z.jsxs)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,Z.jsx)(f.Z,{placeholder:"Filter",className:n.searchField,id:"search-resource",label:"",onChange:function(e){N(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,Z.jsx)(v.Z,{position:"start",children:(0,Z.jsx)(m.W1M,{})})},variant:"standard"}),(0,Z.jsx)(h.Z,{tooltip:"Expand Tenant",children:(0,Z.jsx)(m.zxk,{id:"expand-tenant",label:"Expand Tenant",onClick:function(){l("/namespaces/".concat((null===c||void 0===c?void 0:c.namespace)||"","/tenants/").concat((null===c||void 0===c?void 0:c.name)||"","/add-pool"))},icon:(0,Z.jsx)(m.dtP,{}),variant:"callAction"})})]}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,Z.jsx)(p.Z,{itemActions:w,columns:[{label:"Name",elementKey:"name"},{label:"Capacity",elementKey:"capacity"},{label:"# of Instances",elementKey:"servers"},{label:"# of Drives",elementKey:"volumes"}],isLoading:a,records:R,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found"})})]})})),y=t(64554),b=t(45902),C=t(45248),A=t(45987),P=t(53767),k=["children"],N=function(e){var n=e.children,t=void 0===n?null:n,o=(0,A.Z)(e,k);return(0,Z.jsx)(P.Z,(0,s.Z)((0,s.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},o),{},{children:t}))},R={border:"#EAEAEA 1px solid",borderRadius:"3px",padding:"0px 20px",position:"relative"},w={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},S=function(){var e,n,t,l=(0,r.s0)(),a=(0,i.v9)((function(e){return e.tenants.tenantInfo})),c=(0,i.v9)((function(e){return e.tenants.selectedPool})),d=(null===a||void 0===a?void 0:a.pools.find((function(e){return e.name===c})))||null;if(null===d)return null;var x="None";d.affinity&&(x=d.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)");var f=function(e){var n=e.title;return(0,Z.jsx)(N,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,Z.jsx)("h3",{children:n})})};return console.log(d),(0,Z.jsx)(o.Fragment,{children:(0,Z.jsxs)(u.ZP,{item:!0,xs:12,sx:(0,s.Z)({},R),children:[(0,Z.jsx)("div",{style:{position:"absolute",right:20,top:18},children:(0,Z.jsx)(m.zxk,{icon:(0,Z.jsx)(m.Jpd,{}),onClick:function(){l("/namespaces/".concat((null===a||void 0===a?void 0:a.namespace)||"","/tenants/").concat((null===a||void 0===a?void 0:a.name)||"","/edit-pool"))},label:"Edit Pool",id:"editPool"})}),(0,Z.jsx)(f,{title:"Pool Configuration"}),(0,Z.jsxs)(y.Z,{sx:(0,s.Z)({},w),children:[(0,Z.jsx)(b.Z,{label:"Pool Name",value:d.name}),(0,Z.jsx)(b.Z,{label:"Total Volumes",value:d.volumes}),(0,Z.jsx)(b.Z,{label:"Volumes per server",value:d.volumes_per_server}),(0,Z.jsx)(b.Z,{label:"Capacity",value:d.capacity}),(0,Z.jsx)(b.Z,{label:"Runtime Class Name",value:d.runtimeClassName})]}),(0,Z.jsx)(f,{title:"Resources"}),(0,Z.jsxs)(y.Z,{sx:(0,s.Z)({},w),children:[d.resources&&(0,Z.jsxs)(o.Fragment,{children:[(0,Z.jsx)(b.Z,{label:"CPU",value:d.resources.requests.cpu}),(0,Z.jsx)(b.Z,{label:"Memory",value:(0,C.l5)(d.resources.requests.memory)})]}),(0,Z.jsx)(b.Z,{label:"Volume Size",value:(0,C.l5)(d.volume_configuration.size)}),(0,Z.jsx)(b.Z,{label:"Storage Class Name",value:d.volume_configuration.storage_class_name})]}),d.securityContext&&(d.securityContext.runAsNonRoot||d.securityContext.runAsUser||d.securityContext.runAsGroup||d.securityContext.fsGroup)&&(0,Z.jsxs)(o.Fragment,{children:[(0,Z.jsx)(f,{title:"Security Context"}),(0,Z.jsxs)(y.Z,{children:[null!==d.securityContext.runAsNonRoot&&(0,Z.jsx)(y.Z,{sx:(0,s.Z)({},w),children:(0,Z.jsx)(b.Z,{label:"Run as Non Root",value:d.securityContext.runAsNonRoot?"Yes":"No"})}),(0,Z.jsxs)(y.Z,{sx:(0,s.Z)((0,s.Z)({},w),{},{gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr",md:"1fr 1fr 1fr"}}),children:[d.securityContext.runAsUser&&(0,Z.jsx)(b.Z,{label:"Run as User",value:d.securityContext.runAsUser}),d.securityContext.runAsGroup&&(0,Z.jsx)(b.Z,{label:"Run as Group",value:d.securityContext.runAsGroup}),d.securityContext.fsGroup&&(0,Z.jsx)(b.Z,{label:"FsGroup",value:d.securityContext.fsGroup})]})]})]}),(0,Z.jsx)(f,{title:"Affinity"}),(0,Z.jsxs)(y.Z,{children:[(0,Z.jsxs)(y.Z,{sx:(0,s.Z)({},w),children:[(0,Z.jsx)(b.Z,{label:"Type",value:x}),null!==(e=d.affinity)&&void 0!==e&&e.nodeAffinity&&null!==(n=d.affinity)&&void 0!==n&&n.podAntiAffinity?(0,Z.jsx)(b.Z,{label:"With Pod Anti affinity",value:"Yes"}):(0,Z.jsx)("span",{})]}),(null===(t=d.affinity)||void 0===t?void 0:t.nodeAffinity)&&(0,Z.jsxs)(o.Fragment,{children:[(0,Z.jsx)(f,{title:"Labels"}),(0,Z.jsx)("ul",{children:d.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.map((function(e){return e.matchExpressions.map((function(e){return(0,Z.jsxs)("li",{children:[e.key," - ",e.values.join(", ")]})}))}))})]})]}),d.tolerations&&d.tolerations.length>0&&(0,Z.jsxs)(o.Fragment,{children:[(0,Z.jsx)(f,{title:"Tolerations"}),(0,Z.jsx)(y.Z,{children:(0,Z.jsx)("ul",{children:d.tolerations.map((function(e){var n,t;return(0,Z.jsx)("li",{children:"Equal"===e.operator?(0,Z.jsxs)(o.Fragment,{children:["If ",(0,Z.jsx)("strong",{children:e.key})," is equal to"," ",(0,Z.jsx)("strong",{children:e.value})," then"," ",(0,Z.jsx)("strong",{children:e.effect})," after"," ",(0,Z.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,Z.jsxs)(o.Fragment,{children:["If ",(0,Z.jsx)("strong",{children:e.key})," exists then"," ",(0,Z.jsx)("strong",{children:e.effect})," after"," ",(0,Z.jsx)("strong",{children:(null===(t=e.tolerationSeconds)||void 0===t?void 0:t.seconds)||0})," ","seconds"]})})}))})})]})]})})},T=(0,a.Z)((function(e){return(0,l.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},c.oZ),c.OR),c.VX),c.Bz))}))((function(e){var n=e.classes,t=(0,d.TL)(),s=(0,r.s0)(),l=(0,r.TH)().pathname,a=void 0===l?"":l,c=(0,i.v9)((function(e){return e.tenants.selectedPool})),x=(0,i.v9)((function(e){return e.tenants.poolDetailsOpen}));return(0,Z.jsxs)(o.Fragment,{children:[x&&(0,Z.jsx)(u.ZP,{item:!0,xs:12,children:(0,Z.jsx)(m.hbI,{label:"Pools list",onClick:function(){s(a),t((0,j.AH)(!1))}})}),(0,Z.jsx)("h1",{className:n.sectionTitle,children:x?"Pool Details - ".concat(c||""):"Pools"}),(0,Z.jsx)(u.ZP,{container:!0,children:x?(0,Z.jsx)(S,{}):(0,Z.jsx)(g,{setPoolDetailsView:function(){t((0,j.AH)(!0))}})})]})}))},53767:function(e,n,t){var s=t(4942),o=t(63366),i=t(87462),r=t(72791),l=t(51184),a=t(45682),c=t(78519),u=t(82466),d=t(66934),x=t(31402),f=t(80184),v=["component","direction","spacing","divider","children"];function m(e,n){var t=r.Children.toArray(e).filter(Boolean);return t.reduce((function(e,s,o){return e.push(s),o<t.length-1&&e.push(r.cloneElement(n,{key:"separator-".concat(o)})),e}),[])}var p=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,o=(0,i.Z)({display:"flex",flexDirection:"column"},(0,l.k9)({theme:t},(0,l.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var r=(0,a.hB)(t),c=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),d=(0,l.P$)({values:n.direction,base:c}),x=(0,l.P$)({values:n.spacing,base:c});"object"===typeof d&&Object.keys(d).forEach((function(e,n,t){if(!d[e]){var s=n>0?d[t[n-1]]:"column";d[e]=s}}));o=(0,u.Z)(o,(0,l.k9)({theme:t},x,(function(e,t){return{"& > :not(style) + :not(style)":(0,s.Z)({margin:0},"margin".concat((o=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o])),(0,a.NA)(r,e))};var o})))}return o=(0,l.dt)(t.breakpoints,o)})),j=r.forwardRef((function(e,n){var t=(0,x.Z)({props:e,name:"MuiStack"}),s=(0,c.Z)(t),r=s.component,l=void 0===r?"div":r,a=s.direction,u=void 0===a?"column":a,d=s.spacing,j=void 0===d?0:d,h=s.divider,Z=s.children,g=(0,o.Z)(s,v),y={direction:u,spacing:j};return(0,f.jsx)(p,(0,i.Z)({as:l,ownerState:y,ref:n},g,{children:h?m(Z,h):Z}))}));n.Z=j}}]);
//# sourceMappingURL=1379.60734810.chunk.js.map