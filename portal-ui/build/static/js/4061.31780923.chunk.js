"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4061,8896,9134],{81159:function(e,n,t){var i=t(4942),s=t(1413),l=t(72791),a=t(11135),o=t(25787),r=t(9955),c=t(30829),d=t(20068),u=t(20890),h=t(61889),x=t(23814),m=t(75952),f=t(28182),p=t(80184),b=(0,o.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(r.Z);n.Z=(0,o.Z)((function(e){return(0,a.Z)((0,s.Z)((0,s.Z)({indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},x.OR),x.YI))}))((function(e){var n=e.label,t=void 0===n?"":n,a=e.onChange,o=e.value,r=e.id,x=e.name,Z=e.checked,g=void 0!==Z&&Z,v=e.disabled,j=void 0!==v&&v,C=e.switchOnly,y=void 0!==C&&C,P=e.tooltip,S=void 0===P?"":P,k=e.description,N=void 0===k?"":k,F=e.classes,w=e.indicatorLabels,A=e.extraInputProps,L=void 0===A?{}:A,E=(0,p.jsxs)(l.Fragment,{children:[!y&&(0,p.jsx)("span",{className:(0,f.Z)(F.indicatorLabel,(0,i.Z)({},F.indicatorLabelOn,!g)),children:w&&w.length>1?w[1]:"OFF"}),(0,p.jsx)(b,{checked:g,onChange:a,color:"primary",name:x,inputProps:(0,s.Z)({"aria-label":"primary checkbox"},L),disabled:j,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:o,id:r}),!y&&(0,p.jsx)("span",{className:(0,f.Z)(F.indicatorLabel,(0,i.Z)({},F.indicatorLabelOn,g)),children:w?w[0]:"ON"})]});return y?E:(0,p.jsx)("div",{children:(0,p.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(h.ZP,{item:!0,xs:12,sm:8,md:8,children:""!==t&&(0,p.jsxs)(c.Z,{htmlFor:r,className:F.inputLabel,children:[(0,p.jsx)("span",{children:t}),""!==S&&(0,p.jsx)("div",{className:F.tooltipContainer,children:(0,p.jsx)(d.Z,{title:S,placement:"top-start",children:(0,p.jsx)("div",{className:F.tooltip,children:(0,p.jsx)(m.byK,{})})})})]})}),(0,p.jsx)(h.ZP,{item:!0,xs:12,sm:""!==t?4:12,md:""!==t?4:12,textAlign:"right",justifyContent:"end",className:F.switchContainer,children:E}),""!==N&&(0,p.jsx)(h.ZP,{item:!0,xs:12,textAlign:"left",children:(0,p.jsx)(u.Z,{component:"p",className:F.fieldDescription,children:N})})]})})}))},64163:function(e,n,t){var i=t(1413),s=t(72791),l=t(61889),a=t(11135),o=t(25787),r=t(23814),c=t(80184);n.Z=(0,o.Z)((function(e){return(0,a.Z)((0,i.Z)({},r.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,a=e.content,o=e.multiLine,r=void 0!==o&&o,d=e.actionButton;return(0,c.jsx)(s.Fragment,{children:(0,c.jsxs)(l.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,c.jsx)(l.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,c.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(n.predefinedList," ").concat(d?n.includesActionButton:""),children:[(0,c.jsx)(l.ZP,{item:!0,xs:12,className:r?n.innerContentMultiline:n.innerContent,children:a}),d&&(0,c.jsx)("div",{className:n.overlayShareOption,children:d})]})]})})}))},60680:function(e,n,t){t(72791);var i=t(11135),s=t(25787),l=t(80184);n.Z=(0,s.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,l.jsx)("h1",{className:n.root,children:t})}))},14917:function(e,n,t){t(72791);var i=t(61889),s=t(72455),l=t(80184),a=(0,s.Z)((function(e){return{headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44},"@media (max-width: 600px)":{display:"none"}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},stContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:8,borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column",width:"100%"}},rightItems:{display:"flex",alignItems:"center","& button":{marginLeft:8},"@media (max-width: 600px)":{width:"100%"}}}}));n.Z=function(e){var n=e.icon,t=e.title,s=e.subTitle,o=e.actions,r=e.className,c=a();return(0,l.jsx)(i.ZP,{container:!0,children:(0,l.jsxs)(i.ZP,{item:!0,xs:12,className:"".concat(c.stContainer," ").concat(r||""),children:[(0,l.jsxs)("div",{className:c.leftItems,children:[n?(0,l.jsx)("div",{className:c.headerBarIcon,children:n}):null,(0,l.jsxs)("div",{className:c.titleColumn,children:[(0,l.jsx)("h1",{style:{margin:0},children:t}),(0,l.jsx)("span",{className:c.headerBarSubheader,children:s})]})]}),(0,l.jsx)("div",{className:c.rightItems,children:o})]})})}},50276:function(e,n,t){var i=t(1413),s=t(29439),l=t(72791),a=t(64554),o=t(43896),r=t(83449),c=t(47283),d=t(82851),u=t(25787),h=t(13967),x=t(11135),m=t(95193),f=t(57689),p=t(80184),b={minHeight:60};n.Z=(0,u.Z)((function(e){return(0,x.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,u=e.selectedTab,x=void 0===u?"0":u,Z=e.routes,g=e.isRouteTabs,v=(0,h.Z)(),j=(0,f.TH)().pathname,C=void 0===j?"":j,y=(0,m.Z)(v.breakpoints.down("md")),P=(0,l.useState)(x),S=(0,s.Z)(P,2),k=S[0],N=S[1],F=[],w=[];if((0,l.useEffect)((function(){if(g){var e=n.find((function(e){return e.tabConfig.to===C}));e&&N(e.tabConfig.value)}}),[g,n,C]),!n)return null;n.forEach((function(e){F.push(e.tabConfig),w.push(e.content)}));return(0,p.jsx)(r.ZP,{value:"".concat(k),children:(0,p.jsxs)(a.Z,{className:t.tabsContainer,children:[(0,p.jsx)(a.Z,{className:t.tabsHeaderContainer,children:(0,p.jsx)(c.Z,{onChange:function(e,n){N(n)},orientation:y?"horizontal":"vertical",variant:y?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:F.map((function(e,n){return e?(0,p.jsx)(o.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:b},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,p.jsxs)(a.Z,{className:t.tabContentContainer,children:[g?null:w.map((function(e,n){return(0,p.jsx)(d.Z,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,p.jsx)("div",{className:t.tabPanel,children:Z}):null]})]})})}))},88896:function(e,n,t){t.r(n);var i=t(37762),s=t(29439),l=(t(72791),t(51691)),a=t(23508),o=t(9505),r=t(75952),c=t(45248),d=t(87995),u=t(81551),h=t(80184);n.default=function(e){var n=e.selectedGroups,t=e.deleteOpen,x=e.closeDeleteModalAndRefresh,m=(0,u.TL)(),f=(0,o.Z)((function(){return x(!0)}),(function(e){m((0,d.Ih)(e)),x(!1)})),p=(0,s.Z)(f,2),b=p[0],Z=p[1];if(!n)return null;var g=n.map((function(e){return(0,h.jsx)("div",{children:(0,h.jsx)("b",{children:e})},e)}));return(0,h.jsx)(a.Z,{title:"Delete Group".concat(n.length>1?"s":""),confirmText:"Delete",isOpen:t,titleIcon:(0,h.jsx)(r.NvT,{}),isLoading:b,onConfirm:function(){var e,t=(0,i.Z)(n);try{for(t.s();!(e=t.n()).done;){var s=e.value;Z("DELETE","/api/v1/group/".concat((0,c.LL)(s)))}}catch(l){t.e(l)}finally{t.f()}},onClose:function(){return x(!1)},confirmationContent:(0,h.jsxs)(l.Z,{children:["Are you sure you want to delete the following ",n.length," ","group",n.length>1?"s?":"?",g]})})}},94061:function(e,n,t){t.r(n),t.d(n,{default:function(){return M},formatPolicy:function(){return I}});var i=t(29439),s=t(1413),l=t(72791),a=t(57689),o=t(75952),r=t(11135),c=t(23814),d=t(25787),u=t(61889),h=t(14917),x=t(92983),m=t(81207),f=t(39134),p=t(40228),b=t(56028),Z=t(64163),g=t(45248),v=t(87995),j=t(81551),C=t(80184),y=(0,d.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)((0,s.Z)({userSelector:{"& .MuiPaper-root":{padding:0,marginBottom:15}}},c.ID),c.DF),c.oO))}))((function(e){var n=e.classes,t=e.title,s=void 0===t?"":t,a=e.groupStatus,r=void 0===a?"enabled":a,c=e.preSelectedUsers,d=void 0===c?[]:c,h=e.selectedGroup,x=void 0===h?"":h,f=e.open,y=e.onClose,P=(0,j.TL)(),S=(0,l.useState)(d),k=(0,i.Z)(S,2),N=k[0],F=k[1];return(0,C.jsxs)(b.Z,{modalOpen:f,onClose:y,title:s,titleIcon:(0,C.jsx)(o.ZmA,{}),children:[(0,C.jsx)(u.ZP,{container:!0,children:(0,C.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,C.jsx)("div",{className:n.formFieldRow,children:(0,C.jsx)(Z.Z,{label:"Selected Group",content:x})}),(0,C.jsx)("div",{className:n.userSelector,children:(0,C.jsx)(p.Z,{selectedUsers:N,setSelectedUsers:F,editMode:!x})})]})}),(0,C.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,C.jsx)(o.zxk,{id:"reset-add-group-member",type:"button",variant:"regular",onClick:function(){F(d)},label:"Reset"}),(0,C.jsx)(o.zxk,{id:"save-add-group-member",type:"button",variant:"callAction",onClick:function(){m.Z.invoke("PUT","/api/v1/group/".concat((0,g.LL)(x)),{group:x,members:N,status:r}).then((function(e){y()})).catch((function(e){y(),P((0,v.zb)(e))}))},label:"Save"})]})]})})),P=t(88896),S=t(50276),k=t(81159),N=t(74794),F=t(60680),w=t(59114),A=t(56087),L=t(38442),E=t(47974),T=function(){var e=(0,a.s0)();return(0,C.jsx)(E.Z,{label:(0,C.jsx)(l.Fragment,{children:(0,C.jsx)(o.hbI,{label:"Groups",onClick:function(){return e(A.gA.GROUPS)}})}),actions:(0,C.jsx)(l.Fragment,{})})},B=t(74616),R=t(27454),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length<=0?[]:e.split(",")},M=(0,d.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)((0,s.Z)({pageContainer:{border:"1px solid #EAEAEA",width:"100%"},statusLabel:{fontSize:".8rem",marginRight:".7rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".7rem"},searchField:(0,s.Z)((0,s.Z)({},c.qg.searchField),{},{maxWidth:280})},c.VX),c.bK),{},{actionsTray:(0,s.Z)((0,s.Z)({},c.OR.actionsTray),{},{alignItems:"center","& h1":{flex:1},"& button":{marginLeft:".8rem"},"@media (max-width: 900px)":{justifyContent:"flex-end","& h1":{display:"none"},"& button":{whiteSpace:"nowrap",textOverflow:"ellipsis"}}})},c.Bz))}))((function(e){var n=e.classes,t=(0,j.TL)(),s=(0,a.s0)(),r=(0,a.UO)(),c=(0,l.useState)({}),d=(0,i.Z)(c,2),p=d[0],b=d[1],Z=(0,l.useState)(!1),E=(0,i.Z)(Z,2),M=E[0],U=E[1],z=(0,l.useState)(!1),O=(0,i.Z)(z,2),G=O[0],K=O[1],D=(0,l.useState)(!1),H=(0,i.Z)(D,2),V=H[0],W=H[1],X=(0,l.useState)(""),$=(0,i.Z)(X,2),_=$[0],Y=$[1],q=(0,g.IO)(r.groupName||""),J=p.members,Q=void 0===J?[]:J,ee=p.policy,ne=void 0===ee?"":ee,te=p.status,ie=Q.filter((function(e){return e.includes(_)})),se=(0,L.F)(A.C3,A.iw,!0);(0,l.useEffect)((function(){q&&he()}),[q]);var le=I(ne),ae="enabled"===te,oe=Q.length>0?"Edit Members":"Add Members",re=(0,L.F)(A.C3,A.k_),ce=(0,L.F)(A.C3,A.kt,!0),de=(0,L.F)(A.C3,A.UA,!0),ue=(0,L.F)(A.C3,A.GD,!0);function he(){re&&m.Z.invoke("GET","/api/v1/group/".concat((0,g.LL)(q))).then((function(e){b(e)})).catch((function(e){t((0,v.zb)(e)),b({})}))}var xe=(0,C.jsxs)(l.Fragment,{children:[(0,C.jsxs)("div",{className:n.actionsTray,children:[(0,C.jsx)(F.Z,{children:"Members"}),(0,C.jsx)(w.Z,{placeholder:"Search members",onChange:function(e){Y(e)},overrideClass:n.searchField,value:_}),(0,C.jsx)(L.s,{resource:A.C3,scopes:A.uH,errorProps:{disabled:!0},children:(0,C.jsx)(R.Z,{tooltip:ce?oe:(0,A.MK)(A.vN,"edit Group membership"),children:(0,C.jsx)(o.zxk,{id:"add-user-group",label:oe,variant:"callAction",icon:(0,C.jsx)(o.dtP,{}),onClick:function(){K(!0)},disabled:!ce})})})]}),(0,C.jsx)("div",{className:n.tableBlock,children:(0,C.jsx)(L.s,{resource:A.C3,scopes:A.Rs,errorProps:{disabled:!0},children:(0,C.jsx)(x.Z,{itemActions:[{type:"view",onClick:function(e){s("".concat(A.gA.USERS,"/").concat((0,g.LL)(e)))},disableButtonFunction:function(){return!se}}],columns:[{label:"Access Key",elementKey:""}],selectedItems:[],isLoading:!1,records:ie,entityName:"Users",idField:"",tooltip:se?"":(0,A.MK)(A.iw,"view User details")})})})]}),me=(0,C.jsxs)(l.Fragment,{children:[(0,C.jsxs)("div",{className:n.actionsTray,children:[(0,C.jsx)(F.Z,{children:"Policies"}),(0,C.jsx)(R.Z,{tooltip:de?"Set Policies":(0,A.MK)(A.UA,"assign Policies"),children:(0,C.jsx)(o.zxk,{id:"set-policies",label:"Set Policies",variant:"callAction",icon:(0,C.jsx)(o.v42,{}),onClick:function(){U(!0)},disabled:!de})})]}),(0,C.jsx)("div",{className:n.tableBlock,children:(0,C.jsx)(x.Z,{itemActions:[{type:"view",onClick:function(e){s("".concat(A.gA.POLICIES,"/").concat((0,g.LL)(e)))},disableButtonFunction:function(){return!ue}}],columns:[{label:"Policy",elementKey:""}],isLoading:!1,records:le,entityName:"Policies",idField:"",tooltip:ue?"":(0,A.MK)(A.GD,"view Policy details")})})]});return(0,C.jsxs)(l.Fragment,{children:[(0,C.jsx)(T,{}),(0,C.jsxs)(N.Z,{className:n.pageContainer,children:[(0,C.jsx)(u.ZP,{item:!0,xs:12,children:(0,C.jsx)(h.Z,{icon:(0,C.jsx)(l.Fragment,{children:(0,C.jsx)(o.wws,{width:40})}),title:q,subTitle:null,actions:(0,C.jsxs)(l.Fragment,{children:[(0,C.jsx)("span",{className:n.statusLabel,children:"Group Status:"}),(0,C.jsx)("span",{id:"group-status",className:n.statusValue,children:ae?"Enabled":"Disabled"}),(0,C.jsx)(R.Z,{tooltip:(0,L.F)(A.C3,A.xh,!0)?"":(0,A.MK)(A.xh,"enable or disable Groups"),children:(0,C.jsx)(L.s,{resource:A.C3,scopes:A.xh,errorProps:{disabled:!0},matchAll:!0,children:(0,C.jsx)(k.Z,{indicatorLabels:["Enabled","Disabled"],checked:ae,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;e=!ae,m.Z.invoke("PUT","/api/v1/group/".concat((0,g.LL)(q)),{group:q,members:Q,status:e?"enabled":"disabled"}).then((function(e){he()})).catch((function(e){t((0,v.zb)(e))}))},switchOnly:!0})})}),(0,C.jsx)("div",{className:n.spacerLeft,children:(0,C.jsx)(R.Z,{tooltip:"Delete Group",children:(0,C.jsx)(o.zxk,{id:"delete-user-group",variant:"secondary",icon:(0,C.jsx)(o.XHJ,{}),onClick:function(){W(!0)}})})})]})})}),(0,C.jsx)(u.ZP,{item:!0,xs:12,children:(0,C.jsxs)(S.Z,{children:[{tabConfig:{label:"Members"},content:xe},{tabConfig:{label:"Policies"},content:me}]})})]}),M?(0,C.jsx)(f.default,{open:M,selectedGroups:[q],selectedUser:null,closeModalAndRefresh:function(){U(!1),he(),t((0,B.ue)([]))}}):null,G?(0,C.jsx)(y,{selectedGroup:q,onSaveClick:function(){},title:oe,groupStatus:te,preSelectedUsers:Q,open:G,onClose:function(){K(!1),he()}}):null,V&&(0,C.jsx)(P.default,{deleteOpen:V,selectedGroups:[q],closeDeleteModalAndRefresh:function(e){W(!1),e&&s(A.gA.GROUPS)}})]})}))},40228:function(e,n,t){var i=t(93433),s=t(29439),l=t(1413),a=t(72791),o=t(11135),r=t(25787),c=t(40986),d=t(26181),u=t.n(d),h=t(35527),x=t(61889),m=t(21639),f=t(23814),p=t(81207),b=t(92983),Z=t(59114),g=t(87995),v=t(81551),j=t(80184);n.Z=(0,r.Z)((function(e){return(0,o.Z)((0,l.Z)((0,l.Z)({paper:{display:"flex",overflow:"auto",flexDirection:"column",boxShadow:"none",border:0},tableBlock:(0,l.Z)({},f.VX.tableBlock),searchBox:{flex:1}},f.OR),{},{actionsTitle:{fontSize:14,alignSelf:"center",minWidth:160,marginRight:10},noFound:{textAlign:"center",padding:e.spacing(3),border:"1px solid #EAEAEA",fontSize:".9rem"}},f.jY))}))((function(e){var n=e.classes,t=e.selectedUsers,l=e.setSelectedUsers,o=e.editMode,r=void 0!==o&&o,d=(0,v.TL)(),f=(0,a.useState)([]),C=(0,s.Z)(f,2),y=C[0],P=C[1],S=(0,a.useState)(!1),k=(0,s.Z)(S,2),N=k[0],F=k[1],w=(0,a.useState)(""),A=(0,s.Z)(w,2),L=A[0],E=A[1],T=(0,a.useCallback)((function(){p.Z.invoke("GET","/api/v1/users").then((function(e){var n=u()(e,"users",[]);n||(n=[]),P(n.sort(m.LQ)),F(!1)})).catch((function(e){d((0,g.zb)(e)),F(!1)}))}),[d]);(0,a.useEffect)((function(){F(!0)}),[]),(0,a.useEffect)((function(){N&&T()}),[N,T]);var B=t||[],R=y.filter((function(e){return e.accessKey.includes(L)}));return(0,j.jsx)(a.Fragment,{children:(0,j.jsx)(x.ZP,{item:!0,xs:12,children:(0,j.jsxs)(h.Z,{className:n.paper,children:[N&&(0,j.jsx)(c.Z,{}),null!==y&&y.length>0?(0,j.jsxs)(a.Fragment,{children:[(0,j.jsxs)(x.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,j.jsx)("label",{className:n.actionsTitle,children:r?"Edit Members":"Assign Users"}),(0,j.jsx)("div",{className:n.searchBox,children:(0,j.jsx)(Z.Z,{placeholder:"Filter Users",adornmentPosition:"end",onChange:E,value:L})})]}),(0,j.jsx)(x.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,j.jsx)(b.Z,{columns:[{label:"Access Key",elementKey:"accessKey"}],onSelect:function(e){var n=e.target,t=n.value,s=n.checked,a=(0,i.Z)(B);return s?a.push(t):a=a.filter((function(e){return e!==t})),l(a),a},selectedItems:B,isLoading:N,records:R,entityName:"Users",idField:"accessKey",customPaperHeight:n.multiSelectTable})})]}):(0,j.jsx)("div",{className:n.noFound,children:"No Users to display"})]})})})}))},58400:function(e,n,t){var i=t(93433),s=t(29439),l=t(1413),a=t(72791),o=t(11135),r=t(25787),c=t(40986),d=t(61889),u=t(21639),h=t(23814),x=t(81207),m=t(92983),f=t(59114),p=t(87995),b=t(81551),Z=t(74616),g=t(78687),v=t(80184);n.Z=(0,r.Z)((function(e){return(0,o.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,l.Z)({},h.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},h.qg),h.VX),h.OR),h.jY))}))((function(e){var n=e.classes,t=(e.selectedPolicy,(0,b.TL)()),l=(0,a.useState)([]),o=(0,s.Z)(l,2),r=o[0],h=o[1],j=(0,a.useState)(!1),C=(0,s.Z)(j,2),y=C[0],P=C[1],S=(0,a.useState)(""),k=(0,s.Z)(S,2),N=k[0],F=k[1],w=(0,g.v9)((function(e){return e.createUser.selectedPolicies})),A=(0,a.useCallback)((function(){P(!0),x.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;P(!1),h(n.sort(u.g4))})).catch((function(e){P(!1),t((0,p.zb)(e))}))}),[t]);(0,a.useEffect)((function(){P(!0)}),[]),(0,a.useEffect)((function(){y&&A()}),[y,A]);var L=r.filter((function(e){return e.name.includes(N)}));return(0,v.jsx)(d.ZP,{container:!0,children:(0,v.jsxs)(d.ZP,{item:!0,xs:12,children:[y&&(0,v.jsx)(c.Z,{}),r.length>0?(0,v.jsxs)(a.Fragment,{children:[(0,v.jsxs)(d.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,v.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,v.jsx)("div",{className:n.searchBox,children:(0,v.jsx)(f.Z,{placeholder:"Start typing to search for a Policy",onChange:function(e){F(e)},value:N})})]}),(0,v.jsx)(d.ZP,{item:!0,xs:12,className:n.tableBlock,style:{paddingBottom:16},children:(0,v.jsx)(m.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,s=n.value,l=n.checked,a=(0,i.Z)(w);l?a.push(s):a=a.filter((function(e){return e!==s})),a=a.filter((function(e){return""!==e})),t((0,Z.ue)(a))},selectedItems:w,isLoading:y,records:L,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,v.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})}))},39134:function(e,n,t){t.r(n);var i=t(29439),s=t(1413),l=t(72791),a=t(26181),o=t.n(a),r=t(75952),c=t(11135),d=t(25787),u=t(40986),h=t(61889),x=t(23814),m=t(56028),f=t(81207),p=t(58400),b=t(64163),Z=t(45248),g=t(87995),v=t(81551),j=t(78687),C=t(74616),y=t(80184);n.default=(0,d.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},x.oO),x.bK),{},{tableBlock:(0,s.Z)((0,s.Z)({},x.VX.tableBlock),{},{marginTop:15}),buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:".9rem","& button":{marginLeft:8}}}))}))((function(e){var n=e.classes,t=e.closeModalAndRefresh,s=e.selectedUser,a=e.selectedGroups,c=e.open,d=(0,v.TL)(),x=(0,l.useState)(!1),P=(0,i.Z)(x,2),S=P[0],k=P[1],N=(0,l.useState)([]),F=(0,i.Z)(N,2),w=F[0],A=F[1],L=(0,l.useState)([]),E=(0,i.Z)(L,2),T=E[0],B=E[1],R=(0,j.v9)((function(e){return e.createUser.selectedPolicies}));(0,l.useEffect)((function(){if(c){if(1===(null===a||void 0===a?void 0:a.length))return void(1===(null===a||void 0===a?void 0:a.length)&&f.Z.invoke("GET","/api/v1/group/".concat((0,Z.LL)(a[0]))).then((function(e){var n=o()(e,"policy","");A(n.split(",")),B(n.split(",")),d((0,C.ue)(n.split(",")))})).catch((function(e){d((0,g.zb)(e)),k(!1)})));var e=o()(s,"policy",[]);A(e),B(e),d((0,C.ue)(e))}}),[c,null===a||void 0===a?void 0:a.length,s]);var I=o()(s,"accessKey","");return(0,y.jsxs)(m.Z,{onClose:function(){t()},modalOpen:c,title:"Set Policies",children:[(0,y.jsxs)(h.ZP,{container:!0,children:[(1===(null===a||void 0===a?void 0:a.length)||null!=s)&&(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(h.ZP,{item:!0,xs:12,children:(0,y.jsx)(b.Z,{label:"Selected ".concat(null!==a?"Group":"User"),content:null!==a?a[0]:I})}),(0,y.jsx)(h.ZP,{item:!0,xs:12,children:(0,y.jsx)(b.Z,{label:"Current Policy",content:w.join(", ")})})]}),a&&(null===a||void 0===a?void 0:a.length)>1&&(0,y.jsx)(b.Z,{label:"Selected Groups",content:a.join(", ")}),(0,y.jsx)(h.ZP,{item:!0,xs:12,children:(0,y.jsx)("div",{className:n.tableBlock,children:(0,y.jsx)(p.Z,{selectedPolicy:T})})})]}),(0,y.jsxs)(h.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,y.jsx)(r.zxk,{id:"reset",type:"button",variant:"regular",className:n.spacerRight,onClick:function(){B(w),d((0,C.ue)(w))},label:"Reset"}),(0,y.jsx)(r.zxk,{id:"save",type:"button",variant:"callAction",color:"primary",disabled:S,onClick:function(){var e=null,n=null;null!==a?n=a:null!==s&&(e=[s.accessKey]||0),k(!0),f.Z.invoke("PUT","/api/v1/set-policy-multi",{name:R,groups:n,users:e}).then((function(){k(!1),t()})).catch((function(e){k(!1),d((0,g.zb)(e))}))},label:"Save"})]}),S&&(0,y.jsx)(h.ZP,{item:!0,xs:12,children:(0,y.jsx)(u.Z,{})})]})}))}}]);
//# sourceMappingURL=4061.31780923.chunk.js.map