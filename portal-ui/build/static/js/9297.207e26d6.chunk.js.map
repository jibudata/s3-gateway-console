{"version":3,"file":"static/js/9297.207e26d6.chunk.js","mappings":"2PAuHA,WAAeA,EAAAA,EAAAA,IApFA,SAACC,GAAY,OAC1BC,EAAAA,EAAAA,IAAa,QACXC,gBAAiB,CACfC,UAAW,SAEbC,WAAY,CACVC,OAAQ,wBAEPC,EAAAA,IACF,GA2EL,EAzD2B,SAAH,GAKG,IAJzBC,EAAI,EAAJA,KACAC,EAAuB,EAAvBA,wBACAJ,EAAU,EAAVA,WACAK,EAAO,EAAPA,QAEA,OACE,SAAC,IAAY,CACXC,UAAWH,EACXI,MAAO,gBACPC,QAASJ,EACTK,WAAW,SAAC,MAAqB,IAAI,UAErC,UAAC,KAAI,CAACC,WAAS,aACb,UAAC,KAAI,CAACC,MAAI,EAACC,GAAI,GAAIC,UAAWR,EAAQS,oBAAoB,UAAC,yGAGzD,mBACA,SAAC,IAAY,CACXC,QAAS,CACP,CACEC,MAAO,OACPC,WAAY,QAEd,CAAED,MAAO,QAASC,WAAY,SAC9B,CAAED,MAAO,UAAWC,WAAY,UAElCC,WAAW,gBACXC,QAAQ,QACRC,QAASpB,EACTqB,WAAW,EACXC,kBAAmBjB,EAAQL,WAC3BuB,gBAAc,EACdC,cAAY,QAGhB,UAAC,KAAI,CAACb,MAAI,EAACC,GAAI,GAAIC,UAAWR,EAAQoB,eAAe,WACnD,SAAC,MAAM,CACLC,GAAI,mBACJC,QAAQ,UACRC,QAAS,YAxDJ,SAACC,EAAkBC,GAClC,IAAIC,EAAUC,SAASC,cAAc,KACrCF,EAAQG,aACN,OACA,wCAAyCC,EAAAA,EAAAA,IAAgBL,IAE3DC,EAAQG,aAAa,WAAYL,GAEjCE,EAAQK,MAAMC,QAAU,OACxBL,SAASM,KAAKC,YAAYR,GAE1BA,EAAQS,QAERR,SAASM,KAAKG,YAAYV,EAC5B,CA2CcW,CAAS,uBAAwBC,KAAKC,WAAU,OAAI5C,IACtD,EACAgB,MAAO,cAET,SAAC,MAAM,CACLU,GAAI,SACJE,QAASxB,EACTuB,QAAQ,aACRX,MAAO,gBAMnB,G","sources":["screens/Console/DirectPV/FormatErrorsResult.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Grid, Theme } from \"@mui/material\";\nimport { Button } from \"mds\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport ModalWrapper from \"../Common/ModalWrapper/ModalWrapper\";\nimport TableWrapper from \"../Common/TableWrapper/TableWrapper\";\nimport { IDirectPVFormatResItem } from \"./types\";\nimport { modalStyleUtils } from \"../Common/FormComponents/common/styleLibrary\";\nimport { DriveFormatErrorsIcon } from \"mds\";\nimport { encodeURLString } from \"../../../common/utils\";\n\ninterface IFormatErrorsProps {\n  open: boolean;\n  onCloseFormatErrorsList: () => void;\n  errorsList: IDirectPVFormatResItem[];\n  classes: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    buttonContainer: {\n      textAlign: \"right\",\n    },\n    errorsList: {\n      height: \"calc(100vh - 280px)\",\n    },\n    ...modalStyleUtils,\n  });\n\nconst download = (filename: string, text: string) => {\n  let element = document.createElement(\"a\");\n  element.setAttribute(\n    \"href\",\n    \"data:application/json;charset=utf-8,\" + encodeURLString(text)\n  );\n  element.setAttribute(\"download\", filename);\n\n  element.style.display = \"none\";\n  document.body.appendChild(element);\n\n  element.click();\n\n  document.body.removeChild(element);\n};\n\nconst FormatErrorsResult = ({\n  open,\n  onCloseFormatErrorsList,\n  errorsList,\n  classes,\n}: IFormatErrorsProps) => {\n  return (\n    <ModalWrapper\n      modalOpen={open}\n      title={\"Format Errors\"}\n      onClose={onCloseFormatErrorsList}\n      titleIcon={<DriveFormatErrorsIcon />}\n    >\n      <Grid container>\n        <Grid item xs={12} className={classes.modalFormScrollable}>\n          There were some issues trying to format the selected CSI Drives,\n          please fix the issues and try again.\n          <br />\n          <TableWrapper\n            columns={[\n              {\n                label: \"Node\",\n                elementKey: \"node\",\n              },\n              { label: \"Drive\", elementKey: \"drive\" },\n              { label: \"Message\", elementKey: \"error\" },\n            ]}\n            entityName=\"Format Errors\"\n            idField=\"drive\"\n            records={errorsList}\n            isLoading={false}\n            customPaperHeight={classes.errorsList}\n            textSelectable\n            noBackground\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"download-results\"}\n            variant=\"regular\"\n            onClick={() => {\n              download(\"csiFormatErrors.json\", JSON.stringify([...errorsList]));\n            }}\n            label={\"Download\"}\n          />\n          <Button\n            id={\"finish\"}\n            onClick={onCloseFormatErrorsList}\n            variant=\"callAction\"\n            label={\"Donw\"}\n          />\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(FormatErrorsResult);\n"],"names":["withStyles","theme","createStyles","buttonContainer","textAlign","errorsList","height","modalStyleUtils","open","onCloseFormatErrorsList","classes","modalOpen","title","onClose","titleIcon","container","item","xs","className","modalFormScrollable","columns","label","elementKey","entityName","idField","records","isLoading","customPaperHeight","textSelectable","noBackground","modalButtonBar","id","variant","onClick","filename","text","element","document","createElement","setAttribute","encodeURLString","style","display","body","appendChild","click","removeChild","download","JSON","stringify"],"sourceRoot":""}