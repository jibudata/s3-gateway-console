"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1604],{1604:function(e,t,n){n.r(t);var a=n(29439),i=n(72791),o=n(29945),l=n(31776),u=n(66315),r=n(82342),s=n(23814),c=n(87995),d=n(81551),f=n(56028),m=n(80184);t.default=function(e){var t=e.open,n=e.bucketName,b=e.closeModalAndRefresh,h=(0,d.TL)(),p=(0,i.useState)(!1),v=(0,a.Z)(p,2),g=v[0],x=v[1],y=(0,i.useState)(!0),C=(0,a.Z)(y,2),j=C[0],k=C[1],S=(0,i.useState)(u.oO.Compliance),R=(0,a.Z)(S,2),Z=R[0],_=R[1],z=(0,i.useState)(u.zR.Days),N=(0,a.Z)(z,2),w=N[0],B=N[1],D=(0,i.useState)(1),O=(0,a.Z)(D,2),E=O[0],V=O[1],A=(0,i.useState)(!1),M=(0,a.Z)(A,2),Y=M[0],q=M[1];return(0,i.useEffect)((function(){Number.isNaN(E)||(E||1)<1?q(!1):q(!0)}),[E]),(0,i.useEffect)((function(){j&&l.h.buckets.getBucketRetentionConfig(n).then((function(e){k(!1),_(e.data.mode),V(e.data.validity),B(e.data.unit)})).catch((function(){k(!1)}))}),[j,n]),(0,m.jsx)(f.Z,{title:"Set Retention Configuration",modalOpen:t,onClose:function(){b()},children:j?(0,m.jsx)(o.aNw,{style:{width:16,height:16}}):(0,m.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g||(x(!0),l.h.buckets.setBucketRetentionConfig(n,{mode:Z||u.oO.Compliance,unit:w||u.zR.Days,validity:E||1}).then((function(){x(!1),b()})).catch((function(e){x(!1),h((0,c.zb)((0,r.g)(e.error)))})))},children:(0,m.jsxs)(o.ltY,{containerPadding:!1,withBorders:!1,children:[(0,m.jsx)(o.Eep,{currentValue:Z,id:"retention_mode",name:"retention_mode",label:"Retention Mode",onChange:function(e){_(e.target.value)},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}]}),(0,m.jsx)(o.Eep,{currentValue:w,id:"retention_unit",name:"retention_unit",label:"Retention Unit",onChange:function(e){B(e.target.value)},selectorOptions:[{value:"days",label:"Days"},{value:"years",label:"Years"}]}),(0,m.jsx)(o.Wzg,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){V(e.target.valueAsNumber)},label:"Retention Validity",value:String(E),required:!0,min:"1"}),(0,m.jsxs)(o.rjZ,{item:!0,xs:12,sx:s.ID.modalButtonBar,children:[(0,m.jsx)(o.zxk,{id:"cancel",type:"button",variant:"regular",disabled:g,onClick:function(){b()},label:"Cancel"}),(0,m.jsx)(o.zxk,{id:"set",type:"submit",variant:"callAction",color:"primary",disabled:g||!Y,label:"Set"})]}),g&&(0,m.jsx)(o.rjZ,{item:!0,xs:12,children:(0,m.jsx)(o.kod,{})})]})})})}}}]);
//# sourceMappingURL=1604.5639010d.chunk.js.map