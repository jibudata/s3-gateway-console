(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[42],{378:function(e,t,a){"use strict";var n=a(2),c=a(1),i=a.n(c),r=a(883),o=a(550),s=a(884),l=a(365),d=a(367),b=a(290),j=a(358),u=a(299),h=a(120),m=a(122),x=a(0),O=Object(j.a)((function(e){return Object(b.a)(Object(n.a)({},h.k))}));function p(e){var t=O();return Object(x.jsx)(r.a,Object(n.a)({InputProps:{classes:t}},e))}t.a=Object(u.a)((function(e){return Object(b.a)(Object(n.a)(Object(n.a)(Object(n.a)({},h.g),h.A),{},{textBoxContainer:{flexGrow:1,position:"relative"},textBoxWithIcon:{position:"relative",paddingRight:25},errorState:{color:"#b53b4b",fontSize:14,position:"absolute",top:7,right:7},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,c=e.value,r=e.id,b=e.name,j=e.type,u=void 0===j?"text":j,h=e.autoComplete,O=void 0===h?"off":h,g=e.disabled,f=void 0!==g&&g,v=e.multiline,k=void 0!==v&&v,C=e.tooltip,y=void 0===C?"":C,S=e.index,w=void 0===S?0:S,N=e.error,B=void 0===N?"":N,T=e.required,M=void 0!==T&&T,z=e.placeholder,R=void 0===z?"":z,F=e.min,L=e.max,E=e.overlayIcon,A=void 0===E?null:E,I=e.overlayObject,W=void 0===I?null:I,_=e.extraInputProps,D=void 0===_?{}:_,K=e.overlayAction,P=e.noLabelMinWidth,U=void 0!==P&&P,H=e.classes,G=Object(n.a)({"data-index":w},D);return"number"===u&&F&&(G.min=F),"number"===u&&L&&(G.max=L),Object(x.jsx)(i.a.Fragment,{children:Object(x.jsxs)(o.a,{container:!0,className:" ".concat(""!==B?H.errorInField:H.inputBoxContainer),children:[""!==t&&Object(x.jsxs)(s.a,{htmlFor:r,className:U?H.noMinWidthLabel:H.inputLabel,children:[Object(x.jsxs)("span",{children:[t,M?"*":""]}),""!==y&&Object(x.jsx)("div",{className:H.tooltipContainer,children:Object(x.jsx)(l.a,{title:y,placement:"top-start",children:Object(x.jsx)("div",{className:H.tooltip,children:Object(x.jsx)(m.a,{})})})})]}),Object(x.jsxs)("div",{className:H.textBoxContainer,children:[Object(x.jsx)(p,{id:r,name:b,fullWidth:!0,value:c,disabled:f,onChange:a,type:u,multiline:k,autoComplete:O,inputProps:G,error:""!==B,helperText:B,placeholder:R,className:H.inputRebase}),A&&Object(x.jsx)("div",{className:"".concat(H.overlayAction," ").concat(""!==t?"withLabel":""),children:Object(x.jsx)(d.a,{onClick:K?function(){K()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:A})}),W&&Object(x.jsx)("div",{className:"".concat(H.overlayAction," ").concat(""!==t?"withLabel":""),children:W})]})]})})}))},390:function(e,t,a){"use strict";var n=a(2),c=a(5),i=a(385),r=(a(1),a(290)),o=a(299),s=a(367),l=a(365),d=a(7),b=a(0),j=["classes","children","variant","tooltip"];t.a=Object(o.a)((function(e){return Object(r.a)({root:{padding:8,marginLeft:8,borderWidth:1,borderColor:"#696969",color:"#696969",borderStyle:"solid",borderRadius:3,"& .min-icon":{width:20},"& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.main,borderRadius:3,opacity:.3},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}},contained:{borderColor:e.palette.primary.main,background:e.palette.primary.main,color:"white","& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.dark,borderRadius:3,opacity:.3},"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"}}})}))((function(e){var t=e.classes,a=e.children,r=e.variant,o=void 0===r?"outlined":r,u=e.tooltip,h=Object(i.a)(e,j),m=Object(b.jsx)(s.a,Object(n.a)(Object(n.a)({},h),{},{className:Object(d.a)(t.root,Object(c.a)({},t.contained,"contained"===o)),children:a}));return u&&""!==u?Object(b.jsx)(l.a,{title:u,children:Object(b.jsx)("span",{children:m})}):m}))},397:function(e,t,a){"use strict";a(1);var n=a(290),c=a(299),i=a(550),r=a(0);t.a=Object(c.a)((function(e){return Object(n.a)({root:{border:"1px solid rgb(234, 237, 238)",borderRadius:5,paddingTop:10,paddingLeft:40,paddingRight:40,paddingBottom:40,marginTop:10,marginBottom:10,backgroundColor:"#fbfafa"},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:20,display:"flex",alignItems:"center","& .min-icon":{width:"2.5rem",marginRight:".8rem"}},iconSize:{fontSize:64},helpText:{fontSize:16}})}))((function(e){var t=e.classes,a=e.iconComponent,n=e.title,c=e.help;return Object(r.jsx)("div",{className:t.root,children:Object(r.jsxs)(i.a,{container:!0,children:[Object(r.jsxs)(i.a,{item:!0,xs:12,className:t.leftItems,children:[a,n]}),Object(r.jsx)(i.a,{item:!0,xs:12,className:t.helpText,children:c})]})})}))},410:function(e,t,a){"use strict";var n=a(2),c=a(1),i=a.n(c),r=a(550),o=a(708),s=a(884),l=a(365),d=a(897),b=a(881),j=a(552),u=a(290),h=a(299),m=a(120),x=a(122),O=a(0),p=Object(h.a)((function(e){return Object(u.a)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(o.c);t.a=Object(h.a)((function(e){return Object(u.a)(Object(n.a)(Object(n.a)({},m.g),m.A))}))((function(e){var t=e.classes,a=e.id,n=e.name,c=e.onChange,o=e.options,u=e.label,h=e.tooltip,m=void 0===h?"":h,g=e.value,f=e.disabled,v=void 0!==f&&f;return Object(O.jsx)(i.a.Fragment,{children:Object(O.jsxs)(r.a,{item:!0,xs:12,className:t.fieldContainer,children:[""!==u&&Object(O.jsxs)(s.a,{htmlFor:a,className:t.inputLabel,children:[Object(O.jsx)("span",{children:u}),""!==m&&Object(O.jsx)("div",{className:t.tooltipContainer,children:Object(O.jsx)(l.a,{title:m,placement:"top-start",children:Object(O.jsx)("div",{className:t.tooltip,children:Object(O.jsx)(x.a,{})})})})]}),Object(O.jsx)(d.a,{fullWidth:!0,children:Object(O.jsx)(b.a,{id:a,name:n,value:g,onChange:c,input:Object(O.jsx)(p,{}),disabled:v,children:o.map((function(e){return Object(O.jsx)(j.a,{value:e.value,children:e.label},"select-".concat(n,"-").concat(e.label))}))})})]})})}))},413:function(e,t,a){"use strict";var n=a(2),c=a(1),i=a(550),r=a(290),o=a(299),s=a(120),l=a(0);t.a=Object(o.a)((function(e){return Object(r.a)(Object(n.a)({},s.p))}))((function(e){var t=e.classes,a=e.label,n=void 0===a?"":a,r=e.content,o=e.multiLine,s=void 0!==o&&o;return Object(l.jsx)(c.Fragment,{children:Object(l.jsxs)(i.a,{className:t.prefinedContainer,children:[""!==n&&Object(l.jsx)(i.a,{item:!0,xs:12,className:t.predefinedTitle,children:n}),Object(l.jsx)(i.a,{item:!0,xs:12,className:t.predefinedList,children:Object(l.jsx)(i.a,{item:!0,xs:12,className:s?t.innerContentMultiline:t.innerContent,children:r})})]})})}))},451:function(e,t,a){"use strict";var n=a(2),c=a(385),i=(a(1),a(290)),r=a(299),o=a(0),s=["classes","children"];t.a=Object(r.a)((function(e){return Object(i.a)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var t=e.classes,a=e.children,i=Object(c.a)(e,s);return Object(o.jsx)("button",Object(n.a)(Object(n.a)({},i),{},{className:t.root,children:a}))}))},703:function(e,t,a){"use strict";var n=a(14),c=a(1),i=a(38),r=a(446),o=a(455),s=a(456),l=a(355),d=a(553),b=a(486),j=a(369),u=a(30),h=a(50),m=a(0),x={setErrorSnackMessage:u.e},O=Object(i.b)(null,x);t.a=O((function(e){var t=e.closeDeleteModalAndRefresh,a=e.deleteOpen,i=e.selectedBucket,u=e.setErrorSnackMessage,x=Object(c.useState)(!1),O=Object(n.a)(x,2),p=O[0],g=O[1];return Object(m.jsxs)(r.a,{open:a,onClose:function(){t(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(m.jsx)(o.a,{id:"alert-dialog-title",children:"Delete Bucket"}),Object(m.jsxs)(s.a,{children:[p&&Object(m.jsx)(l.a,{}),Object(m.jsxs)(d.a,{id:"alert-dialog-description",children:["Are you sure you want to delete bucket ",Object(m.jsx)("b",{children:i}),"? ",Object(m.jsx)("br",{}),"A bucket can only be deleted if it's empty."]})]}),Object(m.jsxs)(b.a,{children:[Object(m.jsx)(j.a,{onClick:function(){t(!1)},color:"primary",disabled:p,children:"Cancel"}),Object(m.jsx)(j.a,{onClick:function(){p||(g(!0),h.a.invoke("DELETE","/api/v1/buckets/".concat(i),{name:i}).then((function(e){g(!1),t(!0)})).catch((function(e){g(!1),u(e)})))},color:"secondary",autoFocus:!0,children:"Delete"})]})]})}))},709:function(e,t,a){"use strict";var n=a(14),c=a(1),i=a(290),r=a(299),o=a(355),s=a(369),l=a(0),d=Object(r.a)((function(e){return Object(i.a)({wizardStepContainer:{display:"flex",flexDirection:"column"},wizardComponent:{overflowY:"auto",marginBottom:10,height:"calc(100vh - 100px - 80px)",maxWidth:840,width:"100%"},wizardModal:{overflowY:"auto",marginBottom:10,height:"calc(100vh - 515px)"},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",padding:"10px 0",borderTop:"#EAEAEA 1px solid","& button":{marginLeft:10},"&.forModal":{paddingBottom:0}},buttonInnerContainer:{maxWidth:840,width:"100%",textAlign:"right"}})}))((function(e){var t=e.classes,a=e.page,n=e.pageChange,c=e.loadingStep,i=e.forModal;return Object(l.jsxs)("div",{className:t.wizardStepContainer,children:[Object(l.jsx)("div",{className:i?t.wizardModal:t.wizardComponent,children:a.componentRender}),c&&Object(l.jsx)("div",{children:Object(l.jsx)(o.a,{})}),Object(l.jsx)("div",{className:"".concat(t.buttonsContainer," ").concat(i?"forModal":""),children:Object(l.jsx)("div",{className:t.buttonInnerContainer,children:a.buttons.map((function(e){return Object(l.jsx)(s.a,{variant:"contained",color:"primary",size:"small",onClick:function(){!function(e){switch(e.type){case"next":n("++");break;case"back":n("--");break;case"to":n(e.toPage||0)}e.action&&e.action(n)}(e)},disabled:!e.enabled,children:e.label},"button-".concat(a.label,"-").concat(e.label))}))})})]})})),b=a(368),j=a(550),u=a(360),h=a(352);t.a=Object(r.a)((function(e){return Object(i.a)({wizardMain:{display:"flex",width:"100%",height:"100%",flexGrow:1},wizFromContainer:{},wizFromModal:{position:"relative"},modalWizardSteps:{padding:5,borderBottom:"#eaeaea 1px solid","& ul":{padding:0,marginTop:0,display:"flex",justifyContent:"space-evenly","& li":{listStyle:"lower-roman","&::marker":{paddingLeft:15}}}},buttonList:{backgroundColor:"transparent",border:"none",cursor:"pointer","&:not(:disabled):hover":{textDecoration:"underline"},"&:selected, &:active, &:focus, &:focus:active":{border:"none",outline:0,boxShadow:"none"}},paddedContentGrid:{marginTop:8,padding:"0 10px"},stepsLabel:{fontSize:20,color:"#393939",fontWeight:600,margin:"15px 12px","&.stepsModalTitle":{textAlign:"center",width:"100%",marginTop:0,marginBottom:10}},stepsMasterContainer:{position:"sticky",top:0,backgroundColor:"#FFFFFF",width:"100%",maxHeight:90}})}))((function(e){var t=e.classes,a=e.wizardSteps,i=e.loadingStep,r=e.forModal,o=Object(c.useState)(0),s=Object(n.a)(o,2),m=s[0],x=s[1],O=function(e){var t=a.length-1;if("++"===e){var n=m+1;n>t&&(n=t),x(n)}if("--"===e){var c=m-1;c<0&&(c=0),x(c)}if("number"===typeof e){var i=e;e<0&&(i=0),e>t&&(i=t),x(i)}};if(0===a.length)return null;return Object(l.jsxs)(j.a,{container:!0,className:r?t.wizFromModal:t.wizFromContainer,children:[r?Object(l.jsx)(c.Fragment,{children:Object(l.jsxs)("div",{className:t.stepsMasterContainer,children:[Object(l.jsx)("div",{className:"".concat(t.stepsLabel," stepsModalTitle"),children:"Steps"}),Object(l.jsx)("div",{className:t.modalWizardSteps,children:Object(l.jsx)("ul",{children:a.map((function(e,a){return Object(l.jsx)("li",{children:Object(l.jsx)("button",{onClick:function(){return O(a)},disabled:a>m,className:t.buttonList,children:e.label})},"wizard-".concat(a.toString()))}))})})]})}):Object(l.jsx)(c.Fragment,{children:Object(l.jsx)(j.a,{item:!0,xs:12,sm:2,md:2,lg:2,xl:2,children:Object(l.jsx)(c.Fragment,{children:Object(l.jsx)(b.a,{component:"nav",dense:!0,children:a.map((function(e,t){return Object(l.jsx)(u.a,{button:!0,onClick:function(){return O(t)},selected:m===t,children:Object(l.jsx)(h.a,{primary:e.label})},"wizard-".concat(t.toString()))}))})})})}),Object(l.jsx)(j.a,{item:!0,xs:12,sm:r?12:10,md:r?12:10,lg:r?12:10,xl:r?12:10,className:r?"":t.paddedContentGrid,children:Object(l.jsx)(d,{page:a[m],pageChange:O,loadingStep:i,forModal:r})})]})}))},838:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(14),i=a(2),r=a(1),o=a(38),s=a(290),l=a(299),d=a(369),b=a(355),j=a(550),u=a(121),h=a(30),m=a(120),x=a(50),O=a(703),p=a(376),g=a(94),f=a(401),v=a(55),k=a(389),C=a(19),y=a(409),S=a(417),w=a(0),N=Object(l.a)((function(e){return Object(s.a)({root:{marginBottom:30,padding:20,color:e.palette.primary.main,border:"#E5E5E5 1px solid",borderRadius:2,"& .min-icon":{height:14,width:14,marginRight:4},"& .MuiTypography-body2":{fontSize:14},"& .MuiCardHeader-content":{wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-all",font:"normal normal bold 24px/27px Lato",color:e.palette.primary.main,"& .MuiTypography-root":{fontSize:19,fontWeight:"bold","& .min-icon":{position:"relative",top:4,marginRight:4,height:"24px !important"}}},"& .MuiCardHeader-root":{background:"transparent linear-gradient(0deg, #EEF1F44E 0%, #FFFFFF 100%) 0% 0% no-repeat padding-box"}},checkBoxElement:{width:32,height:32,float:"left",overflow:"hidden","& div":{position:"absolute"}},buttonTray:{textAlign:"right"},viewButton:{width:111,color:"white",marginLeft:8,fontSize:12,fontWeight:"normal",boxShadow:"unset",borderRadius:4},manageButton:{borderRadius:4,width:111,color:e.palette.grey[700],textTransform:"unset",fontSize:12,fontWeight:"normal","& .MuiButton-endIcon":{"& .min-icon":{fontSize:18}}},divider:{backgroundColor:e.palette.grey[200],marginTop:10,marginBottom:4},metric:{"& .min-icon":{color:"#000000",width:13,marginRight:5}},metricLabel:{fontSize:14,fontWeight:"bold",color:"#000000"},metricText:{fontSize:24,fontWeight:"bold"},unit:{fontSize:12,fontWeight:"normal"},bucketName:{padding:0,margin:0,fontSize:22},bucketIcon:{"& .min-icon":{height:48,width:48}}})}))((function(e){var t=e.classes,a=e.bucket,n=(e.onDelete,e.onSelect),c=e.selected,i=e.bulkSelect,r=Object(v.l)("".concat(a.size)||"0"),o=r.split(" ")[0],s=r.split(" ")[1];return Object(w.jsxs)(j.a,{container:!0,className:t.root,spacing:1,children:[Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsxs)(j.a,{container:!0,justifyContent:"space-between",children:[Object(w.jsx)(j.a,{item:!0,xs:12,sm:8,children:Object(w.jsxs)(j.a,{container:!0,children:[Object(w.jsxs)(j.a,{item:!0,xs:12,children:[i&&Object(w.jsx)("div",{className:t.checkBoxElement,onClick:function(e){e.stopPropagation()},children:Object(w.jsx)(k.a,{checked:c,id:"select-".concat(a.name),label:"",name:"select-".concat(a.name),onChange:function(e){n(e)},value:a.name})}),Object(w.jsx)("h1",{className:t.bucketName,children:a.name})]}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsxs)(j.a,{container:!0,children:[Object(w.jsx)(j.a,{item:!0,xs:12,sm:!0,children:Object(w.jsxs)(g.a,{variant:"body2",children:["Created: ",Object(w.jsx)("b",{children:a.creation_date})]})}),Object(w.jsx)(j.a,{item:!0,xs:12,sm:!0,children:Object(w.jsxs)(g.a,{variant:"body2",children:["Access: ",Object(w.jsxs)("b",{children:[" ",function(e){var t,a,n,c,i,r;return(null===(t=e.rw_access)||void 0===t?void 0:t.read)&&!(null===(a=e.rw_access)||void 0===a?void 0:a.write)?"R":!(null===(n=e.rw_access)||void 0===n?void 0:n.read)&&(null===(c=e.rw_access)||void 0===c?void 0:c.write)?"W":(null===(i=e.rw_access)||void 0===i?void 0:i.read)&&(null===(r=e.rw_access)||void 0===r?void 0:r.write)?"R/W":""}(a)]})]})})]})})]})}),Object(w.jsxs)(j.a,{item:!0,xs:12,sm:4,textAlign:"right",children:[Object(w.jsx)(S.a,{scopes:y.b[y.c.admin],resource:a.name,children:Object(w.jsx)(C.a,{to:"/buckets/".concat(a.name,"/admin"),style:{textDecoration:"none"},children:Object(w.jsx)(d.a,{variant:"outlined",endIcon:Object(w.jsx)(u.zb,{}),className:t.manageButton,children:"Manage"})})}),Object(w.jsx)(C.a,{to:"/buckets/".concat(a.name,"/browse"),style:{textDecoration:"none"},children:Object(w.jsx)(d.a,{variant:"contained",endIcon:Object(w.jsx)(u.e,{}),className:t.viewButton,children:"Browse"})}),Object(w.jsx)(f.a,{display:{xs:"none",sm:"block"},children:Object(w.jsx)("div",{style:{marginBottom:10}})})]})]})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)("hr",{})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsxs)(j.a,{container:!0,justifyContent:"flex-start",spacing:4,children:[Object(w.jsx)(j.a,{item:!0,className:t.bucketIcon,children:Object(w.jsx)(u.g,{})}),Object(w.jsxs)(j.a,{item:!0,textAlign:"left",className:t.metric,children:[Object(w.jsx)(u.tb,{}),Object(w.jsx)("span",{className:t.metricLabel,children:"Usage"}),Object(w.jsxs)("div",{className:t.metricText,children:[o,Object(w.jsx)("span",{className:t.unit,children:s})]})]}),Object(w.jsxs)(j.a,{item:!0,textAlign:"left",className:t.metric,children:[Object(w.jsx)(u.Hb,{}),Object(w.jsx)("span",{className:t.metricLabel,children:"Objects"}),Object(w.jsx)("div",{className:t.metricText,children:a.objects?Object(v.o)(a.objects):0})]})]})})]})})),B=a(365),T=a(44),M=a.n(T),z=a(129),R=a.n(z),F=a(831),L=a.n(F),E=a(378),A=a(377),I=a(413),W=a(709),_=a(382),D=a(410),K=Object(o.b)(null,{setModalErrorSnackMessage:h.h}),P=Object(l.a)((function(e){return Object(s.a)(Object(i.a)(Object(i.a)({minTableHeader:{color:"#393939","& tr":{"& th":{fontWeight:"bold"}}},buttonContainer:{textAlign:"right"},remoteBucketList:{display:"grid",gridTemplateColumns:"auto auto 45px",alignItems:"center",justifyContent:"stretch"},errorIcon:{color:"#C72C48"},successIcon:{color:"#42C91A"},hide:{opacity:0,transitionDuration:"0.3s"}},m.m),m.E))}))(K((function(e){var t=e.open,a=e.closeModalAndRefresh,i=e.classes,o=e.buckets,s=e.setModalErrorSnackMessage,l=Object(r.useState)([]),d=Object(c.a)(l,2),b=d[0],u=d[1],h=Object(r.useState)(!1),m=Object(c.a)(h,2),O=m[0],p=m[1],g=Object(r.useState)(!1),f=Object(c.a)(g,2),k=f[0],C=f[1],y=Object(r.useState)(""),S=Object(c.a)(y,2),N=S[0],T=S[1],z=Object(r.useState)(""),F=Object(c.a)(z,2),K=F[0],P=F[1],U=Object(r.useState)(""),H=Object(c.a)(U,2),G=H[0],Z=H[1],J=Object(r.useState)(""),Y=Object(c.a)(J,2),q=Y[0],Q=Y[1],V=Object(r.useState)(!0),X=Object(c.a)(V,2),$=X[0],ee=X[1],te=Object(r.useState)("async"),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],ie=Object(r.useState)("100"),re=Object(c.a)(ie,2),oe=re[0],se=re[1],le=Object(r.useState)("Gi"),de=Object(c.a)(le,2),be=de[0],je=de[1],ue=Object(r.useState)("60"),he=Object(c.a)(ue,2),me=he[0],xe=he[1],Oe=Object(r.useState)([]),pe=Object(c.a)(Oe,2),ge=pe[0],fe=pe[1],ve=Object(r.useState)([]),ke=Object(c.a)(ve,2),Ce=ke[0],ye=ke[1],Se=Object(r.useState)([]),we=Object(c.a)(Se,2),Ne=we[0],Be=we[1],Te=Ce.map((function(e){return{label:e,value:e}}));Object(r.useEffect)((function(){if(0===ge.length){var e=[],t=[];o.forEach((function(a){e.push(a),t.push("")})),fe(t),u(e)}}),[o,ge.length]);var Me=function(e){var t=e.errString;switch(t){case"":return Object(w.jsx)("div",{className:i.successIcon,children:Object(w.jsx)(L.a,{})});case"n/a":return null;default:if(t)return Object(w.jsx)("div",{className:i.errorIcon,children:Object(w.jsx)(B.a,{title:t,placement:"top-start",children:Object(w.jsx)(R.a,{})})})}return null},ze=function(e,t){var a=Object(n.a)(ge);a[e]=t,fe(a)},Re=function(e){var t=Object(n.a)(b),a=Object(n.a)(ge);e.forEach((function(e){var n=M()(e,"errorString","");if(!n||""===n){var c=t.indexOf(e.originBucket);t.splice(c,1),a.splice(c,1)}})),u(t),fe(a)};return Object(w.jsx)(A.a,{modalOpen:t,onClose:function(){a(!1)},title:"Set Multiple Bucket Replication",children:Object(w.jsx)(W.a,{loadingStep:O||k,wizardSteps:[{label:"Remote Configuration",componentRender:Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)(I.a,{label:"Local Buckets to replicate",content:b.join(", ")})}),Object(w.jsx)("h4",{children:"Remote Endpoint Configuration"}),Object(w.jsx)("span",{className:i.descriptionText,children:"Please avoid the use of root credentials for this feature"}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)(E.a,{id:"accessKey",name:"accessKey",onChange:function(e){T(e.target.value)},label:"Access Key",value:N})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)(E.a,{id:"secretKey",name:"secretKey",onChange:function(e){P(e.target.value)},label:"Secret Key",value:K})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)(E.a,{id:"targetURL",name:"targetURL",onChange:function(e){Z(e.target.value)},placeholder:"play.min.io:9000",label:"Target URL",value:G})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)(_.a,{checked:$,id:"useTLS",name:"useTLS",label:"Use TLS",onChange:function(e){ee(e.target.checked)},value:"yes"})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)(E.a,{id:"region",name:"region",onChange:function(e){Q(e.target.value)},label:"Region",value:q})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{id:"replication_mode",name:"replication_mode",onChange:function(e){ce(e.target.value)},label:"Replication Mode",value:ne,options:[{label:"Asynchronous",value:"async"},{label:"Synchronous",value:"sync"}]})}),"async"===ne&&Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsxs)("div",{className:i.multiContainer,children:[Object(w.jsx)("div",{children:Object(w.jsx)(E.a,{type:"number",id:"bandwidth_scalar",name:"bandwidth_scalar",onChange:function(e){se(e.target.value)},label:"Bandwidth",value:oe,min:"0"})}),Object(w.jsx)("div",{className:i.sizeFactorContainer,children:Object(w.jsx)(D.a,{label:"Unit",id:"bandwidth_unit",name:"bandwidth_unit",value:be,onChange:function(e){je(e.target.value)},options:Object(v.k)()})})]})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)(E.a,{id:"healthCheck",name:"healthCheck",onChange:function(e){xe(e.target.value)},label:"Health Check Duration",value:me})})]}),buttons:[{type:"custom",label:"Next",enabled:!k,action:function(e){var t={accessKey:N,secretKey:K,targetURL:G,useTLS:$};C(!0),x.a.invoke("POST","/api/v1/list-external-buckets",t).then((function(t){var a=M()(t,"buckets",[]);if(a&&a.length>0){var n=a.map((function(e){return e.name}));ye(n)}e("++"),C(!1)})).catch((function(e){C(!1),s(e)}))}}]},{label:"Bucket Assignments",componentRender:Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)("h3",{children:"Remote Bucket Assignments"}),Object(w.jsx)("span",{className:i.descriptionText,children:"Please select / type the desired remote bucket were you want the local data to be replicated."}),Object(w.jsx)("div",{className:i.remoteBucketList,children:b.map((function(e,t){var a,n=function(e){if(Ne.length>0){var t=Ne.find((function(t){return t.originBucket===e}));if(t)return M()(t,"errorString","")||""}return"n/a"}(e);return Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)("div",{className:""===n?i.hide:"",children:e}),Object(w.jsx)("div",{className:""===n?i.hide:"",children:(a=t,Ce.length>0?Object(w.jsx)(r.Fragment,{children:Object(w.jsx)(D.a,{label:"",id:"assign-bucket-".concat(a),name:"assign-bucket-".concat(a),value:ge[a],onChange:function(e){ze(a,e.target.value)},options:Te,disabled:O})}):Object(w.jsx)(r.Fragment,{children:Object(w.jsx)(E.a,{id:"assign-bucket-".concat(a),name:"assign-bucket-".concat(a),label:"",onChange:function(e){ze(a,e.target.value)},value:ge[a],disabled:O})}))}),Object(w.jsx)("div",{className:""===n?i.hide:"",children:Ne.length>0&&Object(w.jsx)(Me,{errString:n})})]},"buckets-assignation-".concat(t.toString(),"-").concat(e))}))})]}),buttons:[{type:"back",label:"Back",enabled:!0},{type:"next",label:"Create",enabled:!O,action:function(){p(!0);var e=b.map((function(e,t){return{originBucket:e,destinationBucket:ge[t]}})),t="".concat($?"https://":"http://").concat(G),n=parseInt(me),c={accessKey:N,secretKey:K,targetURL:t,region:q,bucketsRelation:e,syncMode:ne,bandwidth:"async"===ne?parseInt(Object(v.i)(oe,be,!0)):0,healthCheckPeriod:n};x.a.invoke("POST","/api/v1/buckets-replication",c).then((function(e){p(!1);var t=e.replicationState;Be(t),0===t.filter((function(e){return e.errorString&&""!==e.errorString})).length?a(!0):setTimeout((function(){Re(t)}),500)})).catch((function(e){p(!1),s(e)}))}}]}],forModal:!0})})}))),U=a(397),H=a(883),G=a(454),Z=a(128),J=a(390),Y=a(134),q=a(451),Q=function(e){return Object(w.jsx)("svg",Object(i.a)(Object(i.a)({},e),{},{className:"min-icon",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:Object(w.jsxs)("g",{id:"repliaction-icn",transform:"translate(0 0)",children:[Object(w.jsx)("g",{id:"Grupo_1696","data-name":"Grupo 1696",transform:"translate(3.434)",children:Object(w.jsx)("path",{id:"Trazado_6841","data-name":"Trazado 6841",d:"M-502.661-53.081a1.054,1.054,0,0,0-.84-.432h-10.382a1.055,1.055,0,0,0-.84.432,1.272,1.272,0,0,0-.233.983l.178,1.038h7.843a1.894,1.894,0,0,1,1.509.776,2.21,2.21,0,0,1,.342.661h1.366l-.16.932h-1.107c-.005.058-.013.117-.023.175l-.518,3.021v0h1.1l-.16.932h-1.1l-.546,3.189-.005.032-.072.422h1.06a1.124,1.124,0,0,0,1.073-.975l.52-3.036c0-.006,0-.012,0-.018l.7-4.114,0-.012.518-3.024A1.271,1.271,0,0,0-502.661-53.081Z",transform:"translate(514.975 53.513)"})}),Object(w.jsx)("path",{id:"Trazado_6842","data-name":"Trazado 6842",d:"M-609.21,43.432a1.055,1.055,0,0,0-.84-.432h-10.382a1.054,1.054,0,0,0-.84.432,1.271,1.271,0,0,0-.233.983c.256,1.495.8,4.646,1.226,7.16a.035.035,0,0,0,0,.005l.521,3.04a1.124,1.124,0,0,0,1.073.975h6.886a1.124,1.124,0,0,0,1.073-.975l.52-3.036,0-.018.7-4.114s0-.008,0-.012l.518-3.024A1.271,1.271,0,0,0-609.21,43.432Zm-1.924,8.519-8.214.01-.16-.932,8.534-.01Zm.708-4.131-9.629.01-.16-.932,9.949-.01Z",transform:"translate(621.524 -39.595)"})]})}))},V=a(160),X=Object(o.b)((function(e){return{session:e.console.session}}),{setErrorSnackMessage:h.e});t.default=X(Object(l.a)((function(e){return Object(s.a)(Object(i.a)(Object(i.a)(Object(i.a)({seeMore:{marginTop:e.spacing(3)},paper:{display:"flex",overflow:"auto",flexDirection:"column"},addSideBar:{width:"320px",padding:"20px"},tableToolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(0)},minTableHeader:{color:"#393939","& tr":{"& th":{fontWeight:"bold"}}},buttonTray:{textAlign:"right","& .MuiButton-root":{fontSize:12,borderColor:e.palette.grey[300],color:e.palette.grey[300],textTransform:"capitalize",marginLeft:8},"& .MuiButton-contained":{color:"white"}},bulkSelect:{marginLeft:8,"&:hover":{backgroundColor:e.palette.primary.main},"&.MuiButton-contained":{backgroundColor:e.palette.primary.main}},theaderSearchLabel:{color:e.palette.grey[400],fontSize:14,fontWeight:"bold"},addBucket:{marginLeft:8},theaderSearch:{borderColor:e.palette.grey[200],"& .MuiInputBase-input":{paddingTop:10,paddingBottom:10},"& .MuiInputBase-root":{"& .MuiInputAdornment-root":{"& .min-icon":{color:e.palette.grey[400],height:14}}},actionHeaderItems:{"@media (min-width: 320px)":{marginTop:8}},marginRight:10,marginLeft:10}},Object(m.e)(e.spacing(4))),m.r),{},{constrainedContainer:{maxWidth:1180}}))}))((function(e){var t=e.classes,a=e.history,i=e.setErrorSnackMessage,o=(e.session,Object(r.useState)([])),s=Object(c.a)(o,2),l=s[0],h=s[1],m=Object(r.useState)(!0),g=Object(c.a)(m,2),f=g[0],v=g[1],k=Object(r.useState)(!1),C=Object(c.a)(k,2),B=C[0],T=C[1],M=Object(r.useState)(""),z=Object(c.a)(M,2),R=z[0],F=z[1],L=Object(r.useState)(""),E=Object(c.a)(L,2),A=E[0],I=E[1],W=Object(r.useState)([]),_=Object(c.a)(W,2),D=_[0],K=_[1],X=Object(r.useState)(!1),$=Object(c.a)(X,2),ee=$[0],te=$[1],ae=Object(r.useState)(!1),ne=Object(c.a)(ae,2),ce=ne[0],ie=ne[1];Object(r.useEffect)((function(){if(f){v(!0),x.a.invoke("GET","/api/v1/buckets").then((function(e){v(!1),h(e.buckets||[])})).catch((function(e){v(!1),i(e)}))}}),[f,i]);var re=function(e){T(!0),F(e)},oe=l.filter((function(e){return""===A||e.name.indexOf(A)>=0})),se=function(e){var t=e.target,a=t.value,c=t.checked,i=Object(n.a)(D);return c?i.push(a):i=i.filter((function(e){return e!==a})),K(i),i};return Object(w.jsxs)(r.Fragment,{children:[B&&Object(w.jsx)(O.a,{deleteOpen:B,selectedBucket:R,closeDeleteModalAndRefresh:function(e){!function(e){T(!1),e&&(v(!0),K([]))}(e)}}),ee&&Object(w.jsx)(P,{open:ee,buckets:D,closeModalAndRefresh:function(e){te(!1),e&&K([])}}),Object(w.jsx)(p.a,{label:"Buckets"}),Object(w.jsxs)(j.a,{container:!0,className:t.container,children:[Object(w.jsx)(j.a,{item:!0,xs:12,className:t.buttonTray,children:Object(w.jsxs)(j.a,{container:!0,children:[Object(w.jsx)(j.a,{item:!0,xs:12,sm:!0,children:Object(w.jsx)(H.a,{placeholder:"Filter Buckets",className:t.searchField,id:"search-resource",label:"",InputProps:{disableUnderline:!0,startAdornment:Object(w.jsx)(G.a,{position:"start",children:Object(w.jsx)(Z.a,{})})},onChange:function(e){I(e.target.value)},variant:"standard"})}),Object(w.jsxs)(j.a,{item:!0,xs:12,sm:"auto",children:[Object(w.jsx)(J.a,{variant:ce?"contained":"outlined",tooltip:"Select Multiple",onClick:function(){ie(!ce)},size:"small",className:t.bulkSelect,children:Object(w.jsx)(V.a,{})}),Object(w.jsx)(J.a,{variant:"outlined",tooltip:"Set Replication",onClick:function(){te(!0)},disabled:0===D.length,size:"small",children:Object(w.jsx)(Q,{})}),Object(w.jsx)(J.a,{color:"primary","aria-label":"Refresh",tooltip:"Refresh",onClick:function(){v(!0)},size:"large",children:Object(w.jsx)(Y.a,{})}),Object(w.jsx)(S.a,{scopes:[y.d.S3_CREATE_BUCKET],resource:y.a,children:Object(w.jsx)(d.a,{variant:"contained",color:"primary",endIcon:Object(w.jsx)(u.c,{}),onClick:function(){a.push("/add-bucket")},className:t.addBucket,children:"Create Bucket"})})]})]})}),Object(w.jsx)(j.a,{item:!0,xs:12,children:Object(w.jsx)("br",{})}),f&&Object(w.jsx)(b.a,{}),!f&&Object(w.jsxs)(j.a,{item:!0,xs:12,children:[oe.map((function(e,t){return Object(w.jsx)(N,{bucket:e,onDelete:re,onSelect:se,selected:D.includes(e.name),bulkSelect:ce},"bucketListItem-".concat(t.toString()))})),0===oe.length&&""!==A&&Object(w.jsx)(j.a,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:Object(w.jsx)(j.a,{item:!0,xs:8,children:Object(w.jsx)(U.a,{iconComponent:Object(w.jsx)(u.g,{}),title:"No Results",help:Object(w.jsx)(r.Fragment,{children:"No buckets match the filtering condition"})})})}),0===oe.length&&""===A&&Object(w.jsx)(j.a,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:Object(w.jsx)(j.a,{item:!0,xs:8,children:Object(w.jsx)(U.a,{iconComponent:Object(w.jsx)(u.g,{}),title:"Buckets",help:Object(w.jsxs)(r.Fragment,{children:["MinIO uses buckets to organize objects. A bucket is similar to a folder or directory in a filesystem, where each bucket can hold an arbitrary number of objects.",Object(w.jsxs)(S.a,{scopes:[y.d.S3_CREATE_BUCKET],resource:y.a,children:[Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"To get started,\xa0",Object(w.jsx)(q.a,{onClick:function(){a.push("/add-bucket")},children:"Create a Bucket."})]})]})})})})]})]})]})})))}}]);
//# sourceMappingURL=42.bfa97bde.chunk.js.map