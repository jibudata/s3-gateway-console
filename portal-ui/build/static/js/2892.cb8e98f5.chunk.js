"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2892],{82892:function(e,a,s){s.r(a);var n=s(23430),t=s(18489),l=s(50390),o=s(51002),i=s(25594),r=s(66946),c=s(66964),d=s(86509),u=s(4285),m=s(72462),f=s(34424),p=s(30324),Z=s(44149),x=s(67754),h=s(14549),v=s(62559),g=(0,f.$j)((function(e){return{session:e.console.session}}),{setErrorSnackMessage:Z.Ih});a.default=(0,u.Z)((function(e){return(0,d.Z)((0,t.Z)((0,t.Z)({},m.DF),m.ID))}))(g((function(e){var a=e.modalOpen,s=e.onClose,t=e.classes,d=e.bucket,u=(0,l.useState)(""),m=(0,n.Z)(u,2),f=m[0],g=m[1],j=(0,l.useState)("readonly"),k=(0,n.Z)(j,2),C=k[0],b=k[1];return(0,v.jsx)(o.Z,{modalOpen:a,title:"Add Access Rule",onClose:s,titleIcon:(0,v.jsx)(h.sR,{}),children:(0,v.jsxs)(i.ZP,{container:!0,children:[(0,v.jsx)(i.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,v.jsx)(c.Z,{value:f,label:"Prefix",id:"prefix",name:"prefix",placeholder:"Enter Prefix",onChange:function(e){g(e.target.value)}})}),(0,v.jsx)(i.ZP,{item:!0,xs:12,children:(0,v.jsx)(x.Z,{id:"access",name:"Access",onChange:function(e){b(e.target.value)},label:"Access",value:C,options:[{label:"readonly",value:"readonly"},{label:"writeonly",value:"writeonly"},{label:"readwrite",value:"readwrite"}],disabled:!1})}),(0,v.jsxs)(i.ZP,{item:!0,xs:12,className:t.modalButtonBar,children:[(0,v.jsx)(r.Z,{type:"button",color:"primary",variant:"outlined",onClick:function(){g(""),b("readonly")},children:"Clear"}),(0,v.jsx)(r.Z,{type:"submit",variant:"contained",color:"primary",disabled:""===f.trim(),onClick:function(){p.Z.invoke("PUT","/api/v1/bucket/".concat(d,"/access-rules"),{prefix:f,access:C}).then((function(e){s()})).catch((function(e){(0,Z.Ih)(e),s()}))},children:"Save"})]})]})})})))},51002:function(e,a,s){var n=s(23430),t=s(18489),l=s(50390),o=s(34424),i=s(95467),r=s(97771),c=s(84402),d=s(78426),u=s(93085),m=s(86509),f=s(4285),p=s(72462),Z=s(44149),x=s(21278),h=s(45980),v=s(62559),g=(0,o.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:Z.MK});a.Z=(0,f.Z)((function(e){return(0,m.Z)((0,t.Z)((0,t.Z)({},p.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},p.sN))}))(g((function(e){var a=e.onClose,s=e.modalOpen,o=e.title,m=e.children,f=e.classes,p=e.wideLimit,Z=void 0===p||p,g=e.modalSnackMessage,j=e.noContentPadding,k=e.setModalSnackMessage,C=e.titleIcon,b=void 0===C?null:C,y=(0,l.useState)(!1),M=(0,n.Z)(y,2),S=M[0],N=M[1];(0,l.useEffect)((function(){k("")}),[k]),(0,l.useEffect)((function(){if(g){if(""===g.message)return void N(!1);"error"!==g.type&&N(!0)}}),[g]);var w=Z?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},P="";return g&&(P=g.detailedErrorMsg,(""===g.detailedErrorMsg||g.detailedErrorMsg.length<5)&&(P=g.message)),(0,v.jsxs)(c.Z,(0,t.Z)((0,t.Z)({open:s,classes:f},w),{},{scroll:"paper",onClose:function(e,s){"backdropClick"!==s&&a()},className:f.root,children:[(0,v.jsxs)(d.Z,{className:f.title,children:[(0,v.jsxs)("div",{className:f.titleText,children:[b," ",o]}),(0,v.jsx)("div",{className:f.closeContainer,children:(0,v.jsx)(i.Z,{"aria-label":"close",id:"close",className:f.closeButton,onClick:a,disableRipple:!0,size:"small",children:(0,v.jsx)(x.Z,{})})})]}),(0,v.jsx)(h.Z,{isModal:!0}),(0,v.jsx)(r.Z,{open:S,className:f.snackBarModal,onClose:function(){N(!1),k("")},message:P,ContentProps:{className:"".concat(f.snackBar," ").concat(g&&"error"===g.type?f.errorSnackBar:"")},autoHideDuration:g&&"error"===g.type?1e4:5e3}),(0,v.jsx)(u.Z,{className:j?"":f.content,children:m})]}))})))},21278:function(e,a,s){var n=s(64119);a.Z=void 0;var t=n(s(66830)),l=s(62559),o=(0,t.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");a.Z=o}}]);
//# sourceMappingURL=2892.cb8e98f5.chunk.js.map