"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1705],{71705:function(e,n,t){t.r(n);var l=t(29439),o=t(72791),s=t(9505),a=t(64554),i=t(56087),c=t(38442),u=t(26181),r=t.n(u),d=t(81918),v=t(29823),f=t(42419),h=t(75578),p=t(29945),x=t(87995),T=t(81551),Z=t(80184),_=(0,h.Z)(o.lazy((function(){return Promise.all([t.e(5994),t.e(7391),t.e(6639)]).then(t.bind(t,40247))}))),j=(0,h.Z)(o.lazy((function(){return t.e(2763).then(t.bind(t,22763))})));n.default=function(e){var n=e.bucketName,t=(0,T.TL)(),u=(0,o.useState)(null),h=(0,l.Z)(u,2),m=h[0],S=h[1],b=(0,o.useState)(!1),C=(0,l.Z)(b,2),k=C[0],G=C[1],g=(0,o.useState)([]),A=(0,l.Z)(g,2),N=A[0],y=A[1],I=(0,o.useState)(["",""]),U=(0,l.Z)(I,2),E=U[0],F=U[1],P=(0,o.useState)(!1),z=(0,l.Z)(P,2),O=z[0],w=z[1],B=(0,s.Z)((function(e){var n,t;null!=e&&null!=(null===e||void 0===e?void 0:e.details)&&"tags"in(null===e||void 0===e?void 0:e.details)&&(S(null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.tags),y(Object.keys(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.tags)))}),(function(e){t((0,x.Ih)(e))})),K=(0,l.Z)(B,2),D=K[0],M=K[1],H=function(){M("GET","/api/v1/buckets/".concat(n))};return(0,o.useEffect)((function(){H()}),[n]),(0,Z.jsxs)(a.Z,{children:[D?(0,Z.jsx)(p.aNw,{style:{width:16,height:16}}):null,(0,Z.jsx)(c.s,{scopes:[i.Ft.S3_GET_BUCKET_TAGGING,i.Ft.S3_GET_ACTIONS],resource:n,children:(0,Z.jsxs)(a.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,Z.jsx)(a.Z,{children:N&&N.map((function(e,t){var l=r()(m,"".concat(e),"");return""!==l?(0,Z.jsx)(c.s,{scopes:[i.Ft.S3_PUT_BUCKET_TAGGING,i.Ft.S3_PUT_ACTIONS],resource:n,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:(0,Z.jsx)(d.Z,{style:{textTransform:"none",marginRight:"5px"},size:"small",label:"".concat(e," : ").concat(l),color:"primary",deleteIcon:(0,Z.jsx)(v.Z,{}),onDelete:function(){!function(e,n){F([e,n]),w(!0)}(e,l)}})},"chip-".concat(t)):null}))}),(0,Z.jsx)(c.s,{scopes:[i.Ft.S3_PUT_BUCKET_TAGGING,i.Ft.S3_PUT_ACTIONS],resource:n,errorProps:{disabled:!0,onClick:null},children:(0,Z.jsx)(d.Z,{style:{maxWidth:80,marginTop:"10px"},icon:(0,Z.jsx)(f.Z,{}),clickable:!0,size:"small",label:"Add tag",color:"primary",variant:"outlined",onClick:function(){G(!0)}})})]})}),k&&(0,Z.jsx)(_,{modalOpen:k,currentTags:m,bucketName:n,onCloseAndUpdate:function(e){G(!1),e&&H()}}),O&&(0,Z.jsx)(j,{deleteOpen:O,currentTags:m,bucketName:n,onCloseAndUpdate:function(e){w(!1),e&&H()},selectedTag:E})]})}},42419:function(e,n,t){var l=t(64836);n.Z=void 0;var o=l(t(45649)),s=t(80184),a=(0,o.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=a},29823:function(e,n,t){var l=t(64836);n.Z=void 0;var o=l(t(45649)),s=t(80184),a=(0,o.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=a}}]);
//# sourceMappingURL=1705.bf628870.chunk.js.map