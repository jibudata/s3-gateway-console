(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9330],{29316:function(e,n,t){"use strict";t(50390);var r=t(6369),i=t(86509),o=t(4285),a=t(63548),s=t(62559);n.Z=(0,o.Z)((function(e){return(0,i.Z)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"250px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center"}})}))((function(e){var n=e.to,t=e.label,i=e.classes,o=e.className;return(0,s.jsxs)(r.rU,{to:n,className:"".concat(i.link," ").concat(o||""),children:[(0,s.jsx)("div",{className:i.icon,children:(0,s.jsx)(a.xN,{})}),(0,s.jsx)("div",{className:i.label,children:t})]})}))},25534:function(e,n,t){"use strict";var r=t(18489),i=(t(50390),t(25594)),o=t(86509),a=t(4285),s=t(72462),c=t(62559);n.Z=(0,a.Z)((function(e){return(0,o.Z)((0,r.Z)({},s.Bw))}))((function(e){var n=e.classes,t=e.className,r=void 0===t?"":t,o=e.children;return(0,c.jsx)("div",{className:n.contentSpacer,children:(0,c.jsx)(i.ZP,{container:!0,children:(0,c.jsx)(i.ZP,{item:!0,xs:12,className:r,children:o})})})}))},35721:function(e,n,t){"use strict";t(50390);var r=t(34424),i=t(56805),o=t(25594),a=t(86509),s=t(4285),c=t(35477),l=t(95467),d=t(26805),u=t(44078),f=t(5265),g=t(63548),m=t(62559),h={toggleList:f.kQ},x=(0,r.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),h);n.Z=x((0,s.Z)((function(e){return(0,a.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var n=e.classes,t=e.label,r=e.actions,a=e.sidebarOpen,s=e.operatorMode,f=e.managerObjects,h=e.toggleList;return(0,m.jsxs)(o.ZP,{container:!0,className:"".concat(n.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,m.jsx)(i.Z,{display:{xs:"block",sm:"block",md:"none"},children:(0,m.jsx)(o.ZP,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),(0,m.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:6,className:n.label,children:[!a&&(0,m.jsx)("div",{className:n.logo,children:s?(0,m.jsx)(d.Z,{}):(0,m.jsx)(u.Z,{})}),(0,m.jsx)(c.Z,{variant:"h4",className:n.labelStyle,children:t})]}),(0,m.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:6,className:n.rightMenu,children:[r&&r,f&&f.length>0&&(0,m.jsx)(l.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){h()},size:"large",children:(0,m.jsx)(g.gx,{})})]})]})})))},39330:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var r=t(23430),i=t(18489),o=t(50390),a=t(69686),s=t(34424),c=t(71497),l="error",d="success",u="inProgress",f=t(86509),g=t(4285),m=t(51774),h=t(72462),x=t(25594),v=t(66946),p=t(35721),b=t(44149),Z=t(18201),j=t(29316),y=t(37354),S=t(63548),w=t(30324),k=t(62559),C=(0,g.Z)((function(e){return(0,f.Z)({titleBar:{borderBottom:"#E5E5E5 1px solid",padding:"30px 25px",fontSize:20,color:"#07193E",fontWeight:"bold",borderRadius:"10px 10px 0px 0px",paddingTop:0},divisorContainer:{padding:25},serversData:{color:"#07193E",fontSize:18,display:"flex",alignItems:"center","& svg":{marginRight:10}},minioVersionContainer:{fontSize:12,color:"#07193E",justifyContent:"center",alignSelf:"center",alignItems:"center",display:"flex"},versionIcon:{color:"#07193E",marginRight:20},loaderAlign:{textAlign:"center"},advancedContainer:{justifyContent:"flex-end",display:"flex"},optionsContainer:{padding:0,marginBottom:25},advancedConfiguration:{color:"#2781B0",fontSize:10,textDecoration:"underline",border:"none",backgroundColor:"transparent",cursor:"pointer",alignItems:"center",display:"flex","&:hover":{color:"#07193E"},"& svg":{width:10,alignSelf:"center",marginLeft:5}},advancedOpen:{transform:"rotateZ(-90deg) translateX(-4px) translateY(2px)"},advancedClosed:{transform:"rotateZ(90deg)"},advancedContent:{backgroundColor:"#F5F7F9",maxHeight:0,transitionDuration:"0.3s",overflow:"hidden",padding:"0 15px","&.open":{maxHeight:400,padding:15}}})}))((function(e){var n=e.title,t=e.children,i=e.classes,a=e.advancedVisible,s=e.advancedContent,c=(0,o.useState)("N/A"),l=(0,r.Z)(c,2),d=l[0],u=l[1],f=(0,o.useState)(0),g=(0,r.Z)(f,2),m=g[0],h=g[1],v=(0,o.useState)(0),p=(0,r.Z)(v,2),b=p[0],j=p[1],C=(0,o.useState)(!0),N=(0,r.Z)(C,2),P=N[0],D=N[1],M=(0,o.useState)(!1),E=(0,r.Z)(M,2),I=E[0],O=E[1];return(0,o.useEffect)((function(){P&&w.Z.invoke("GET","/api/v1/admin/info?defaultOnly=true").then((function(e){var n,t=null===(n=e.servers)||void 0===n?void 0:n.length;if(h(t),e.servers.length>0){u(e.servers[0].version);var r=e.servers.reduce((function(e,n){return e+n.drives.length}),0);j(r)}D(!1)})).catch((function(e){D(!1)}))}),[P]),(0,k.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,className:i.titleBar,children:n}),(0,k.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,k.jsxs)(x.ZP,{item:!0,xs:12,className:i.optionsContainer,children:[(0,k.jsx)(x.ZP,{container:!0,className:i.divisorContainer,children:P?(0,k.jsx)(o.Fragment,{children:(0,k.jsx)(x.ZP,{item:!0,xs:12,className:i.loaderAlign,children:(0,k.jsx)(Z.Z,{size:25})})}):(0,k.jsxs)(o.Fragment,{children:[(0,k.jsxs)(x.ZP,{item:!0,xs:12,md:4,className:i.serversData,children:[(0,k.jsx)(S.FU,{})," ",(0,k.jsx)("strong",{children:m}),"\xa0nodes,\xa0",(0,k.jsx)("strong",{children:b}),"\xa0 drives"]}),(0,k.jsxs)(x.ZP,{item:!0,xs:12,md:4,className:i.minioVersionContainer,children:[(0,k.jsx)("span",{className:i.versionIcon,children:(0,k.jsx)(S.Db,{})})," ","MinIO VERSION\xa0",(0,k.jsx)("strong",{children:d})]}),(0,k.jsx)(x.ZP,{item:!0,xs:12,md:4,className:i.advancedContainer,children:a&&(0,k.jsxs)("button",{onClick:function(){O(!I)},className:i.advancedConfiguration,children:["Advanced configurations"," ",(0,k.jsx)("span",{className:I?i.advancedOpen:i.advancedClosed,children:(0,k.jsx)(y.Z,{})})]})})]})}),s&&(0,k.jsx)(x.ZP,{xs:12,className:"".concat(i.advancedContent," ").concat(I?"open":""),children:s})]}),t]})]})})),N=t(25534),P=(0,s.$j)((function(e){return{message:e.healthInfo.message,serverDiagnosticStatus:e.system.serverDiagnosticStatus}}),{healthInfoMessageReceived:c.ec,healthInfoResetMessage:c.Xp,setSnackBarMessage:b.y1,setServerDiagStat:b.KY})((0,g.Z)((function(e){return(0,f.Z)((0,i.Z)((0,i.Z)({loading:{paddingTop:8,paddingLeft:40},buttons:{justifyContent:"flex-start",gap:20},localMessage:{fontSize:24,color:"#07193E",fontWeight:"bold",textAlign:"center",marginBottom:10},startDiagnostic:{textAlign:"center",marginBottom:25},progressResult:{textAlign:"center",marginBottom:25},diagNew:{textAlign:"right",margin:25,marginBottom:0}},h.OR),(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.healthInfoMessageReceived,i=e.healthInfoResetMessage,s=e.message,c=e.setSnackBarMessage,f=e.setServerDiagStat,g=e.serverDiagnosticStatus,h=(0,o.useState)(!1),b=(0,r.Z)(h,2),y=b[0],S=b[1],w=(0,o.useState)(!1),P=(0,r.Z)(w,2),D=P[0],M=P[1],E=(0,o.useState)(!0),I=(0,r.Z)(E,2),O=I[0],R=I[1],z=(0,o.useState)(""),B=(0,r.Z)(z,2),A=B[0],_=B[1],F=(0,o.useState)("New Diagnostic"),T=(0,r.Z)(F,2),L=T[0],W=T[1];return(0,o.useEffect)((function(){g!==u?g===d&&D?W("Diagnostic complete"):g!==l||W("Error"):W("Diagnostic in progress...")}),[g,y,D]),(0,o.useEffect)((function(){g===d&&s!=={}&&R(!1),g===u&&R(!0),S(!1)}),[g,s]),(0,o.useEffect)((function(){if(y){i();var e=new URL(window.location.toString()),n=e.port,r=(0,m.x2)(e.protocol),o=new a.w3cwebsocket("".concat(r,"://").concat(e.hostname,":").concat(n,"/ws/health-info?deadline=1h")),s=null;null!==o&&(o.onopen=function(){console.log("WebSocket Client Connected"),o.send("ok"),s=setInterval((function(){o.send("ok")}),1e4),M(!0),_("Diagnostic started. Please do not refresh page during diagnosis."),f(u)},o.onmessage=function(e){var n=JSON.parse(e.data.toString());n.timestamp=new Date(n.timestamp.toString()),t(n)},o.onerror=function(e){console.log("error closing websocket:",e.message),o.close(1e3),clearInterval(s),f(l)},o.onclose=function(e){clearInterval(s),e.code===m.HE||e.code===m.ci||e.code===m.V9?(console.log("connection closed by server with code:",e.code),_("An error occurred while getting Diagnostic file."),f(l)):(console.log("connection closed by server"),_("Diagnostic file is ready to be downloaded."),f(d))})}else S(!1)}),[t,i,y,c,f]),(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(p.Z,{label:"Diagnostic"}),(0,k.jsx)(j.Z,{to:"/tools",label:"Return to Tools"}),(0,k.jsx)(N.Z,{children:(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.boxy,children:(0,k.jsx)(C,{title:L,advancedVisible:!1,children:(0,k.jsxs)(x.ZP,{container:!0,className:n.buttons,children:[!D&&(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.startDiagnostic,children:(0,k.jsx)(v.Z,{type:"submit",variant:"contained",color:"primary",disabled:y,onClick:function(){return S(!0)},children:"Start Diagnostic"})},"start-diag"),D&&(0,k.jsxs)(x.ZP,{item:!0,xs:12,className:n.progressResult,children:[(0,k.jsx)("div",{className:n.localMessage,children:A}),g===u?(0,k.jsx)("div",{className:n.loading,children:(0,k.jsx)(Z.Z,{size:25})}):(0,k.jsxs)(o.Fragment,{children:[g!==l&&(0,k.jsx)(v.Z,{type:"submit",variant:"contained",color:"primary",onClick:function(){!function(e,n){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}("diagnostic.json",JSON.stringify(s,null,2))},disabled:O,children:"Download"}),(0,k.jsx)(x.ZP,{item:!0,xs:12,className:n.diagNew,children:(0,k.jsx)(v.Z,{type:"submit",variant:"contained",color:"primary",disabled:y,onClick:function(){return S(!0)},children:"Start New Diagnostic"})})]})]},"start-download")]})})})})]})})))},51774:function(e,n,t){"use strict";t.d(n,{V9:function(){return r},ci:function(){return i},HE:function(){return o},x2:function(){return a}});var r=1006,i=1008,o=1011,a=function(e){var n="ws";return"https:"===e&&(n="wss"),n}},37354:function(e,n,t){"use strict";var r=t(64119);n.Z=void 0;var i=r(t(66830)),o=t(62559),a=(0,i.default)((0,o.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");n.Z=a},18201:function(e,n,t){"use strict";t.d(n,{Z:function(){return E}});var r=t(17186),i=t(1048),o=t(32793),a=t(50390),s=t(44977),c=t(50076),l=t(19471),d=t(91442),u=t(15573),f=t(8208),g=t(10594);function m(e){return(0,g.Z)("MuiCircularProgress",e)}(0,t(43349).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h,x,v,p,b,Z,j,y,S=t(62559),w=["className","color","disableShrink","size","style","thickness","value","variant"],k=44,C=(0,l.F4)(b||(b=h||(h=(0,r.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),N=(0,l.F4)(Z||(Z=x||(x=(0,r.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),P=(0,f.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant],n["color".concat((0,d.Z)(t.color))]]}})((function(e){var n=e.ownerState,t=e.theme;return(0,o.Z)({display:"inline-block"},"determinate"===n.variant&&{transition:t.transitions.create("transform")},"inherit"!==n.color&&{color:t.palette[n.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,l.iv)(j||(j=v||(v=(0,r.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),C)})),D=(0,f.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,n){return n.svg}})({display:"block"}),M=(0,f.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,n){var t=e.ownerState;return[n.circle,n["circle".concat((0,d.Z)(t.variant))],t.disableShrink&&n.circleDisableShrink]}})((function(e){var n=e.ownerState,t=e.theme;return(0,o.Z)({stroke:"currentColor"},"determinate"===n.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===n.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var n=e.ownerState;return"indeterminate"===n.variant&&!n.disableShrink&&(0,l.iv)(y||(y=p||(p=(0,r.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),N)})),E=a.forwardRef((function(e,n){var t=(0,u.Z)({props:e,name:"MuiCircularProgress"}),r=t.className,a=t.color,l=void 0===a?"primary":a,f=t.disableShrink,g=void 0!==f&&f,h=t.size,x=void 0===h?40:h,v=t.style,p=t.thickness,b=void 0===p?3.6:p,Z=t.value,j=void 0===Z?0:Z,y=t.variant,C=void 0===y?"indeterminate":y,N=(0,i.Z)(t,w),E=(0,o.Z)({},t,{color:l,disableShrink:g,size:x,thickness:b,value:j,variant:C}),I=function(e){var n=e.classes,t=e.variant,r=e.color,i=e.disableShrink,o={root:["root",t,"color".concat((0,d.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(t)),i&&"circleDisableShrink"]};return(0,c.Z)(o,m,n)}(E),O={},R={},z={};if("determinate"===C){var B=2*Math.PI*((k-b)/2);O.strokeDasharray=B.toFixed(3),z["aria-valuenow"]=Math.round(j),O.strokeDashoffset="".concat(((100-j)/100*B).toFixed(3),"px"),R.transform="rotate(-90deg)"}return(0,S.jsx)(P,(0,o.Z)({className:(0,s.Z)(I.root,r),style:(0,o.Z)({width:x,height:x},R,v),ownerState:E,ref:n,role:"progressbar"},z,N,{children:(0,S.jsx)(D,{className:I.svg,ownerState:E,viewBox:"".concat(22," ").concat(22," ").concat(k," ").concat(k),children:(0,S.jsx)(M,{className:I.circle,style:O,ownerState:E,cx:k,cy:k,r:(k-b)/2,fill:"none",strokeWidth:b})})}))}))},3930:function(e){var n=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},69686:function(e,n,t){var r;if("object"===typeof globalThis)r=globalThis;else try{r=t(3930)}catch(s){}finally{if(r||"undefined"===typeof window||(r=window),!r)throw new Error("Could not determine global this")}var i=r.WebSocket||r.MozWebSocket,o=t(84994);function a(e,n){return n?new i(e,n):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(a,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?a:null,version:o}},84994:function(e,n,t){e.exports=t(19794).version},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=9330.3d1e16a2.chunk.js.map