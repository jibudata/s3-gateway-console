(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[129],{456:function(e,t,a){"use strict";var n=a(3),c=a(0),s=a(444),i=a(250),l=a(260),r=a(116),o=a(2);t.a=Object(l.a)((function(e){return Object(i.a)(Object(n.a)({},r.s))}))((function(e){var t=e.classes,a=e.label,n=void 0===a?"":a,i=e.content,l=e.multiLine,r=void 0!==l&&l;return Object(o.jsx)(c.Fragment,{children:Object(o.jsxs)(s.a,{className:t.prefinedContainer,children:[""!==n&&Object(o.jsx)(s.a,{item:!0,xs:12,className:t.predefinedTitle,children:n}),Object(o.jsx)(s.a,{item:!0,xs:12,className:t.predefinedList,children:Object(o.jsx)(s.a,{item:!0,xs:12,className:r?t.innerContentMultiline:t.innerContent,children:i})})]})})}))},547:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(3),c=a(415),s=a(0),i=a(2),l=["children","value","index"],r=function(e){var t=e.children,a=e.value,r=e.index,o=Object(c.a)(e,l);return Object(i.jsx)("div",Object(n.a)(Object(n.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r),style:{marginTop:"5px"}},o),{},{children:a===r&&Object(i.jsx)(s.Fragment,{children:t})}))}},954:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(3),s=a(0),i=a.n(s),l=a(38),r=a(444),o=a(816),u=a(820),b=a(316),j=a(330),d=a(250),O=a(260),m=a(116),h=a(30),x=a(50),f=a(778),p=a(347),v=a(348),g=a(412),y=a(456),C=a(651),S=a(547),k=a(2),N={setModalErrorSnackMessage:h.h},w=Object(l.b)(null,N);t.default=Object(O.a)((function(e){return Object(d.a)(Object(c.a)(Object(c.a)(Object(c.a)({strongText:{fontWeight:700},keyName:{marginLeft:5},buttonContainer:{textAlign:"right",marginTop:".9rem"},tabsHeader:{marginBottom:"1rem"}},m.k),m.z),m.p))}))(w((function(e){var t=e.classes,a=e.closeModalAndRefresh,c=e.selectedUser,l=e.open,d=e.setModalErrorSnackMessage,O=Object(s.useState)(!1),m=Object(n.a)(O,2),h=m[0],N=m[1],w=Object(s.useState)(""),E=Object(n.a)(w,2),K=E[0],M=E[1],T=Object(s.useState)(""),P=Object(n.a)(T,2),R=P[0],U=P[1],F=Object(s.useState)(!1),G=Object(n.a)(F,2),L=G[0],A=G[1],D=Object(s.useState)([]),H=Object(n.a)(D,2),I=H[0],J=H[1],z=Object(s.useState)([]),B=Object(n.a)(z,2),V=B[0],W=B[1],_=Object(s.useState)([]),q=Object(n.a)(_,2),Q=q[0],X=q[1],Y=Object(s.useState)(0),Z=Object(n.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useCallback)((function(){if(!c)return null;x.a.invoke("GET","/api/v1/user?name=".concat(encodeURI(c.accessKey))).then((function(e){N(!1),M(e.accessKey),J(e.memberOf||[]),X(e.memberOf||[]),A("enabled"===e.status)})).catch((function(e){N(!1),d(e)}))}),[c,d]);Object(s.useEffect)((function(){null===c?(M(""),U(""),J([])):te()}),[c,te]);var ae=""!==K.trim()&&(""!==R.trim()&&null===c||null!==c);return Object(k.jsxs)(p.a,{onClose:function(){a()},modalOpen:l,title:null!==c?"Edit User":"Create User",children:[null!==c&&Object(k.jsx)("div",{className:t.floatingEnabled,children:Object(k.jsx)(g.a,{indicatorLabels:["Enabled","Disabled"],checked:L,value:"user_enabled",id:"user-status",name:"user-status",onChange:function(e){A(e.target.checked)},switchOnly:!0})}),Object(k.jsx)(i.a.Fragment,{children:Object(k.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),R.length<8)return d({errorMessage:"Passwords must be at least 8 characters long",detailedError:""}),void N(!1);h||(N(!0),null!==c?x.a.invoke("PUT","/api/v1/user?name=".concat(encodeURI(c.accessKey)),{status:L?"enabled":"disabled",groups:I,policies:V}).then((function(e){N(!1),a()})).catch((function(e){N(!1),d(e)})):x.a.invoke("POST","/api/v1/users",{accessKey:K,secretKey:R,groups:I,policies:V}).then((function(e){N(!1),a()})).catch((function(e){N(!1),d(e)})))}(e)},children:Object(k.jsxs)(r.a,{container:!0,children:[Object(k.jsxs)(r.a,{item:!0,xs:12,children:[Object(k.jsx)("div",{className:t.formFieldRow,children:Object(k.jsx)(v.a,{id:"accesskey-input",name:"accesskey-input",label:"Access Key",value:K,onChange:function(e){M(e.target.value)},disabled:null!==c})}),null!==c?Object(k.jsx)(y.a,{label:"Current Groups",content:Q.join(", ")}):Object(k.jsx)("div",{className:t.formFieldRow,children:Object(k.jsx)(v.a,{id:"standard-multiline-static",name:"standard-multiline-static",label:"Secret Key",type:"password",value:R,onChange:function(e){U(e.target.value)},autoComplete:"current-password"})}),Object(k.jsx)(r.a,{item:!0,xs:12,className:t.tabsHeader,children:Object(k.jsxs)(o.a,{value:$,onChange:function(e,t){ee(t)},children:[Object(k.jsx)(u.a,{label:"Policies"}),Object(k.jsx)(u.a,{label:"Groups"})]})}),Object(k.jsx)(S.a,{value:$,index:0,children:Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(C.a,{selectedPolicy:V,setSelectedPolicy:W})})}),Object(k.jsx)(S.a,{value:$,index:1,children:Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(f.a,{selectedGroups:I,setSelectedGroups:function(e){J(e)}})})}),h&&Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(b.a,{})})]}),Object(k.jsxs)(r.a,{item:!0,xs:12,className:t.buttonContainer,children:[Object(k.jsx)(j.a,{type:"button",variant:"outlined",color:"primary",className:t.spacerRight,onClick:function(){null===c?(M(""),U(""),J([])):J([])},children:"Clear"}),Object(k.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",disabled:h||!ae,children:"Save"})]})]})})})]})})))}}]);
//# sourceMappingURL=129.c9119817.chunk.js.map