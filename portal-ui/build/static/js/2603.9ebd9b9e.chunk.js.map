{"version":3,"file":"static/js/2603.9ebd9b9e.chunk.js","mappings":"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","sources":["screens/Console/Buckets/BucketDetails/AddAccessRule.tsx","screens/Console/Buckets/BucketDetails/BrowserHandler.tsx","screens/Console/Buckets/ListBuckets/UploadPermissionUtils.ts","screens/Console/ObjectBrowser/BrowserBreadcrumbs.tsx","screens/Console/Buckets/ListBuckets/UploadFilesButton.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DetailsListPanel.tsx","screens/Console/Common/FormComponents/DateSelector/utils.ts","screens/Console/Common/FormComponents/DateSelector/DateSelector.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SetRetention.tsx","utils/validationFunctions.ts","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DeleteObject.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SetLegalHoldModal.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/ObjectMetaData.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/IconWithLabel.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/utils.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/TagsModal.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/InspectObject.tsx","screens/Console/ObjectBrowser/utils.ts","screens/Console/ObjectBrowser/RenameLongFilename.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ObjectDetailPanel.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/RestoreFileVersion.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SpecificVersionPill.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/FileVersionItem.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DeleteNonCurrent.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/DeleteSelectedVersions.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/VersionsNavigator.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjectsHelpers.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjectsTable.tsx","screens/Console/ObjectBrowser/objectBrowserThunks.ts","screens/Console/ObjectBrowser/FilterObjectsSB.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjects.tsx","screens/Console/ObjectBrowser/OBHeader.tsx","screens/Console/Common/FormComponents/DaysSelector/DaysSelector.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/ShareFile.tsx","screens/Console/Buckets/ListBuckets/Objects/Preview/PreviewFileContent.tsx","screens/Console/Buckets/ListBuckets/Objects/Preview/PreviewFileModal.tsx","screens/Console/Buckets/ListBuckets/Objects/utils.ts","screens/Console/Common/Components/withSuspense.tsx","screens/Console/Common/FormComponents/CheckboxWrapper/CheckboxWrapper.tsx","screens/Console/Common/FormComponents/FormSwitchWrapper/FormSwitchWrapper.tsx","screens/Console/Common/FormComponents/InputBoxWrapper/InputBoxWrapper.tsx","screens/Console/Common/FormComponents/SelectWrapper/SelectWrapper.tsx","screens/Console/Tools/KeyRevealer.tsx","utils/wsUtils.ts"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState, useEffect } from \"react\";\nimport ModalWrapper from \"../../Common/ModalWrapper/ModalWrapper\";\nimport { Grid } from \"@mui/material\";\nimport { AddAccessRuleIcon, Button } from \"mds\";\nimport InputBoxWrapper from \"../../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n} from \"../../Common/FormComponents/common/styleLibrary\";\n\nimport SelectWrapper from \"../../Common/FormComponents/SelectWrapper/SelectWrapper\";\nimport {\n  setErrorSnackMessage,\n  setSnackBarMessage,\n} from \"../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../store\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IAddAccessRule {\n  classes: any;\n  modalOpen: boolean;\n  onClose: () => any;\n  bucket: string;\n  prefilledRoute?: string;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n  });\n\nconst AddAccessRule = ({\n  modalOpen,\n  onClose,\n  classes,\n  bucket,\n  prefilledRoute,\n}: IAddAccessRule) => {\n  const dispatch = useAppDispatch();\n\n  const [prefix, setPrefix] = useState(\"\");\n  const [selectedAccess, setSelectedAccess] = useState<any>(\"readonly\");\n\n  useEffect(() => {\n    if (prefilledRoute) {\n      setPrefix(prefilledRoute);\n    }\n  }, [prefilledRoute]);\n\n  const accessOptions = [\n    { label: \"readonly\", value: \"readonly\" },\n    { label: \"writeonly\", value: \"writeonly\" },\n    { label: \"readwrite\", value: \"readwrite\" },\n  ];\n\n  const resetForm = () => {\n    setPrefix(\"\");\n    setSelectedAccess(\"readonly\");\n  };\n\n  const createProcess = () => {\n    api.bucket\n      .setAccessRuleWithBucket(bucket, {\n        prefix: prefix,\n        access: selectedAccess,\n      })\n      .then((res: any) => {\n        dispatch(setSnackBarMessage(\"Access Rule added successfully\"));\n        onClose();\n      })\n      .catch((err) => {\n        dispatch(setErrorSnackMessage(errorToHandler(err)));\n        onClose();\n      });\n  };\n\n  return (\n    <ModalWrapper\n      modalOpen={modalOpen}\n      title=\"Add Anonymous Access Rule\"\n      onClose={onClose}\n      titleIcon={<AddAccessRuleIcon />}\n    >\n      <Grid container>\n        <Grid item xs={12} className={classes.formFieldRow}>\n          <InputBoxWrapper\n            value={prefix}\n            label={\"Prefix\"}\n            id={\"prefix\"}\n            name={\"prefix\"}\n            placeholder={\"Enter Prefix\"}\n            onChange={(e) => {\n              setPrefix(e.target.value);\n            }}\n            tooltip={\n              \"Enter '/' to apply the rule to all prefixes and objects at the bucket root. Do not include the wildcard asterisk '*' as part of the prefix *unless* it is an explicit part of the prefix name. The Console automatically appends an asterisk to the appropriate sections of the resulting IAM policy.\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <SelectWrapper\n            id=\"access\"\n            name=\"Access\"\n            onChange={(e) => {\n              setSelectedAccess(e.target.value);\n            }}\n            label=\"Access\"\n            value={selectedAccess}\n            options={accessOptions}\n            disabled={false}\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"clear\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Clear\"}\n          />\n\n          <Button\n            id={\"add-access-save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={prefix.trim() === \"\"}\n            onClick={createProcess}\n            label={\"Save\"}\n          />\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(AddAccessRule);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useCallback, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { AppState, useAppDispatch } from \"../../../../store\";\nimport { containerForHeader } from \"../../Common/FormComponents/common/styleLibrary\";\n\nimport ListObjects from \"../ListBuckets/Objects/ListObjects/ListObjects\";\nimport { IAM_SCOPES } from \"../../../../common/SecureComponent/permissions\";\nimport {\n  errorInConnection,\n  newMessage,\n  resetMessages,\n  setIsOpeningOD,\n  setIsVersioned,\n  setLoadingLocking,\n  setLoadingObjectInfo,\n  setLoadingObjects,\n  setLoadingRecords,\n  setLoadingVersioning,\n  setLoadingVersions,\n  setLockingEnabled,\n  setObjectDetailsView,\n  setRecords,\n  setSelectedObjectView,\n  setSimplePathHandler,\n  setVersionsModeEnabled,\n} from \"../../ObjectBrowser/objectBrowserSlice\";\nimport hasPermission from \"../../../../common/SecureComponent/accessControl\";\nimport { IMessageEvent } from \"websocket\";\nimport { wsProtocol } from \"../../../../utils/wsUtils\";\nimport {\n  WebsocketRequest,\n  WebsocketResponse,\n} from \"../ListBuckets/Objects/ListObjects/types\";\nimport { decodeURLString, encodeURLString } from \"../../../../common/utils\";\nimport { permissionItems } from \"../ListBuckets/Objects/utils\";\nimport { setErrorSnackMessage } from \"../../../../systemSlice\";\nimport OBHeader from \"../../ObjectBrowser/OBHeader\";\nimport { api } from \"api\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...containerForHeader,\n  });\n\nlet objectsWS: WebSocket;\nlet currentRequestID: number = 0;\nlet errorCounter: number = 0;\nlet wsInFlight: boolean = false;\n\nconst initWSConnection = (\n  openCallback?: () => void,\n  onMessageCallback?: (message: IMessageEvent) => void,\n  connErrorCallback?: (message: string) => void\n) => {\n  if (wsInFlight) {\n    return;\n  }\n  wsInFlight = true;\n  const url = new URL(window.location.toString());\n  const isDev = process.env.NODE_ENV === \"development\";\n  const port = isDev ? \"9090\" : url.port;\n\n  // check if we are using base path, if not this always is `/`\n  const baseLocation = new URL(document.baseURI);\n  const baseUrl = baseLocation.pathname;\n\n  const wsProt = wsProtocol(url.protocol);\n\n  objectsWS = new WebSocket(\n    `${wsProt}://${url.hostname}:${port}${baseUrl}ws/objectManager`\n  );\n\n  objectsWS.onopen = () => {\n    wsInFlight = false;\n    if (openCallback) {\n      openCallback();\n    }\n    errorCounter = 0;\n  };\n\n  if (onMessageCallback) {\n    objectsWS.onmessage = onMessageCallback;\n  }\n\n  const reconnectFn = () => {\n    if (errorCounter <= 5) {\n      initWSConnection(() => {}, onMessageCallback, connErrorCallback);\n      errorCounter += 1;\n    } else {\n      console.error(\n        \"Websocket not available. Please review that your environment settings are enabled to allow websocket connections and that requests are made from the same origin.\"\n      );\n      if (connErrorCallback) {\n        connErrorCallback(\n          \"Couldn't establish WebSocket connection. Please review your configuration and try again.\"\n        );\n      }\n    }\n  };\n\n  objectsWS.onclose = () => {\n    wsInFlight = false;\n    console.warn(\"Websocket Disconnected. Attempting Reconnection...\");\n\n    // We reconnect after 3 seconds\n    setTimeout(reconnectFn, 3000);\n  };\n\n  objectsWS.onerror = () => {\n    wsInFlight = false;\n    console.error(\"Error in websocket connection. Attempting reconnection...\");\n    // Onclose will be triggered by specification, reconnect function will be executed there to avoid duplicated requests\n  };\n};\n\nconst BrowserHandler = () => {\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const location = useLocation();\n\n  const loadingVersioning = useSelector(\n    (state: AppState) => state.objectBrowser.loadingVersioning\n  );\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled\n  );\n  const rewindDate = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.dateToRewind\n  );\n  const showDeleted = useSelector(\n    (state: AppState) => state.objectBrowser.showDeleted\n  );\n  const allowResources = useSelector(\n    (state: AppState) => state.console.session.allowResources\n  );\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects\n  );\n  const loadingLocking = useSelector(\n    (state: AppState) => state.objectBrowser.loadingLocking\n  );\n  const loadRecords = useSelector(\n    (state: AppState) => state.objectBrowser.loadRecords\n  );\n  const selectedInternalPaths = useSelector(\n    (state: AppState) => state.objectBrowser.selectedInternalPaths\n  );\n  const simplePath = useSelector(\n    (state: AppState) => state.objectBrowser.simplePath\n  );\n  const isOpeningOD = useSelector(\n    (state: AppState) => state.objectBrowser.isOpeningObjectDetail\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n\n  const bucketName = params.bucketName || \"\";\n  const pathSegment = location.pathname.split(`/browser/${bucketName}/`);\n  const internalPaths = pathSegment.length === 2 ? pathSegment[1] : \"\";\n\n  /*WS Request Handlers*/\n  const onMessageCallBack = useCallback(\n    (message: IMessageEvent) => {\n      // reset start status\n      dispatch(setLoadingObjects(false));\n\n      const response: WebsocketResponse = JSON.parse(message.data.toString());\n      if (currentRequestID === response.request_id) {\n        // If response is not from current request, we can omit\n        if (response.request_id !== currentRequestID) {\n          return;\n        }\n\n        if (\n          response.error ===\n          \"The Access Key Id you provided does not exist in our records.\"\n        ) {\n          // Session expired.\n          window.location.reload();\n        } else if (response.error === \"Access Denied.\") {\n          const internalPathsPrefix = response.prefix;\n          let pathPrefix = \"\";\n\n          if (internalPathsPrefix) {\n            const decodedPath = decodeURLString(internalPathsPrefix);\n\n            pathPrefix = decodedPath.endsWith(\"/\")\n              ? decodedPath\n              : decodedPath + \"/\";\n          }\n\n          const permitItems = permissionItems(\n            response.bucketName || bucketName,\n            pathPrefix,\n            allowResources || []\n          );\n\n          if (!permitItems || permitItems.length === 0) {\n            dispatch(\n              setErrorSnackMessage({\n                errorMessage: response.error,\n                detailedError: response.error,\n              })\n            );\n          } else {\n            dispatch(setRecords(permitItems));\n          }\n\n          return;\n        }\n\n        // This indicates final messages is received.\n        if (response.request_end) {\n          dispatch(setLoadingObjects(false));\n          dispatch(setLoadingRecords(false));\n          return;\n        }\n\n        if (response.data) {\n          dispatch(newMessage(response.data));\n        }\n      }\n    },\n    [dispatch, allowResources, bucketName]\n  );\n\n  const initWSRequest = useCallback(\n    (path: string, date: Date) => {\n      if (objectsWS && objectsWS.readyState === 1) {\n        try {\n          const newRequestID = currentRequestID + 1;\n          dispatch(resetMessages());\n          dispatch(errorInConnection(false));\n\n          const request: WebsocketRequest = {\n            bucket_name: bucketName,\n            prefix: encodeURLString(path),\n            mode: rewindEnabled || showDeleted ? \"rewind\" : \"objects\",\n            date: date.toISOString(),\n            request_id: newRequestID,\n          };\n\n          objectsWS.send(JSON.stringify(request));\n\n          // We store the new ID for the requestID\n          currentRequestID = newRequestID;\n        } catch (e) {\n          console.error(e);\n        }\n      } else {\n        // Socket is disconnected, we request reconnection but will need to recreate call\n        const dupRequest = () => {\n          initWSRequest(path, date);\n        };\n\n        const fatalWSError = (message: string) => {\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: message,\n              detailedError: message,\n            })\n          );\n          dispatch(errorInConnection(true));\n        };\n\n        initWSConnection(dupRequest, onMessageCallBack, fatalWSError);\n      }\n    },\n    [bucketName, rewindEnabled, showDeleted, dispatch, onMessageCallBack]\n  );\n\n  useEffect(() => {\n    // when a bucket param changes, (i.e /browser/:bucketName),  re-init e.g with KBar, this should not apply for resources prefixes.\n    const permitItems = permissionItems(bucketName, \"\", allowResources || []);\n\n    if (bucketName && (!permitItems || permitItems.length === 0)) {\n      dispatch(resetMessages());\n      dispatch(setLoadingRecords(true));\n      dispatch(setLoadingObjects(true));\n      initWSRequest(\"\", new Date());\n    }\n  }, [bucketName, dispatch, initWSRequest, allowResources]);\n\n  useEffect(() => {\n    return () => {\n      const request: WebsocketRequest = {\n        mode: \"cancel\",\n        request_id: currentRequestID,\n      };\n\n      if (objectsWS && objectsWS.readyState === 1) {\n        objectsWS.send(JSON.stringify(request));\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const decodedIPaths = decodeURLString(internalPaths);\n\n    dispatch(setLoadingVersioning(true));\n\n    if (decodedIPaths.endsWith(\"/\") || decodedIPaths === \"\") {\n      dispatch(setObjectDetailsView(false));\n      dispatch(setSelectedObjectView(null));\n      dispatch(\n        setSimplePathHandler(decodedIPaths === \"\" ? \"/\" : decodedIPaths)\n      );\n      dispatch(setLoadingLocking(true));\n    } else {\n      dispatch(setLoadingObjectInfo(true));\n      dispatch(setObjectDetailsView(true));\n      dispatch(setLoadingVersions(true));\n      dispatch(\n        setSelectedObjectView(\n          `${decodedIPaths ? `${encodeURLString(decodedIPaths)}` : ``}`\n        )\n      );\n      dispatch(\n        setSimplePathHandler(\n          `${decodedIPaths.split(\"/\").slice(0, -1).join(\"/\")}/`\n        )\n      );\n    }\n  }, [bucketName, internalPaths, rewindDate, rewindEnabled, dispatch]);\n\n  // Direct file access effect / prefix\n  useEffect(() => {\n    if (!loadingObjects && !loadRecords && !rewindEnabled && !isOpeningOD) {\n      // No requests are in progress, We review current path, if it doesn't end in '/' and current list is empty then we trigger a new request.\n      const decodedInternalPaths = decodeURLString(internalPaths);\n\n      if (\n        !decodedInternalPaths.endsWith(\"/\") &&\n        simplePath !== decodedInternalPaths &&\n        decodedInternalPaths !== \"\"\n      ) {\n        setLoadingRecords(true);\n        const parentPath = `${decodedInternalPaths\n          .split(\"/\")\n          .slice(0, -1)\n          .join(\"/\")}/`;\n\n        initWSRequest(parentPath, new Date());\n      }\n    }\n    dispatch(setIsOpeningOD(false));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    loadingObjects,\n    loadRecords,\n    dispatch,\n    internalPaths,\n    initWSRequest,\n    rewindEnabled,\n    simplePath,\n  ]);\n\n  const displayListObjects =\n    hasPermission(bucketName, [\n      IAM_SCOPES.S3_LIST_BUCKET,\n      IAM_SCOPES.S3_ALL_LIST_BUCKET,\n    ]) || anonymousMode;\n\n  // Common objects list\n  useEffect(() => {\n    // begin watch if bucketName in bucketList and start pressed\n    if (loadingObjects && displayListObjects) {\n      let pathPrefix = \"\";\n      if (internalPaths) {\n        const decodedPath = decodeURLString(internalPaths);\n\n        // internalPaths are selected (file details), we split and get parent folder\n        if (selectedInternalPaths === internalPaths) {\n          pathPrefix = `${decodeURLString(internalPaths)\n            .split(\"/\")\n            .slice(0, -1)\n            .join(\"/\")}/`;\n        } else {\n          pathPrefix = decodedPath.endsWith(\"/\")\n            ? decodedPath\n            : decodedPath + \"/\";\n        }\n      }\n\n      let requestDate = new Date();\n\n      if (rewindEnabled && rewindDate) {\n        requestDate = new Date(rewindDate);\n      }\n      initWSRequest(pathPrefix, requestDate);\n    } else {\n      dispatch(setLoadingObjects(false));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    loadingObjects,\n    internalPaths,\n    dispatch,\n    rewindDate,\n    rewindEnabled,\n    displayListObjects,\n    initWSRequest,\n  ]);\n\n  useEffect(() => {\n    dispatch(setVersionsModeEnabled({ status: false }));\n  }, [internalPaths, dispatch]);\n\n  useEffect(() => {\n    if (loadingVersioning && !anonymousMode) {\n      if (displayListObjects) {\n        api.buckets\n          .getBucketVersioning(bucketName)\n          .then((res) => {\n            dispatch(setIsVersioned(res.data));\n            dispatch(setLoadingVersioning(false));\n          })\n          .catch((err) => {\n            console.error(\n              \"Error Getting Object Versioning Status: \",\n              err.error.detailedMessage\n            );\n            dispatch(setLoadingVersioning(false));\n          });\n      } else {\n        dispatch(setLoadingVersioning(false));\n        dispatch(resetMessages());\n      }\n    }\n  }, [\n    bucketName,\n    loadingVersioning,\n    dispatch,\n    displayListObjects,\n    anonymousMode,\n  ]);\n\n  useEffect(() => {\n    if (loadingLocking) {\n      if (displayListObjects) {\n        api.buckets\n          .getBucketObjectLockingStatus(bucketName)\n          .then((res) => {\n            dispatch(setLockingEnabled(res.data.object_locking_enabled));\n            dispatch(setLoadingLocking(false));\n          })\n          .catch((err) => {\n            console.error(\n              \"Error Getting Object Locking Status: \",\n              err.error.detailedMessage\n            );\n            dispatch(setLoadingLocking(false));\n          });\n      } else {\n        dispatch(resetMessages());\n        dispatch(setLoadingLocking(false));\n      }\n    }\n  }, [bucketName, loadingLocking, dispatch, displayListObjects]);\n\n  return (\n    <Fragment>\n      {!anonymousMode && <OBHeader bucketName={bucketName} />}\n      <ListObjects />\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(BrowserHandler);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const extractFileExtn = (resourceStr: string) => {\n  //file extensions may contain query string. so exclude query strings !\n  return (resourceStr.match(/\\.([^.]*?)(?=\\?|#|$)/) || [])[1];\n};\nexport const getPolicyAllowedFileExtensions = (\n  sessionGrants: Record<string, string[]>,\n  uploadPath: string,\n  scopes: string[] = []\n) => {\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    uploadPath,\n    scopes\n  );\n\n  //get acceptable files if any in the policy.\n  const allowedFileExtensions = sessionGrantWildCards.reduce(\n    (acc: string[], cv: string) => {\n      const extension: string = extractFileExtn(cv);\n      if (extension) {\n        acc.push(`.${extension}`); //strict extension matching.\n      }\n      return acc;\n    },\n    []\n  );\n\n  const uniqueExtensions = [...new Set(allowedFileExtensions)];\n  return uniqueExtensions.join(\",\");\n};\n\n// The resource should not have the extensions (*.ext) for the hasPermission to work.\n// so sanitize this and also use to extract the allowed extensions outside of permission check.\nexport const getSessionGrantsWildCard = (\n  sessionGrants: Record<string, string[]>,\n  uploadPath: string,\n  scopes: string[] = []\n) => {\n  //get only the path matching grants to reduce processing.\n  const grantsWithExtension = Object.keys(sessionGrants).reduce(\n    (acc: Record<string, string[]>, grantKey: string) => {\n      if (extractFileExtn(grantKey) && grantKey.includes(uploadPath)) {\n        acc[grantKey] = sessionGrants[grantKey];\n      }\n      return acc;\n    },\n    {}\n  );\n\n  const checkPathsForPermission = (sessionGrantKey: string) => {\n    const grantActions = grantsWithExtension[sessionGrantKey];\n    const hasScope = grantActions.some((actionKey) =>\n      scopes.find((scopeKey) => {\n        let wildCardMatch = false;\n        const hasWildCard = scopeKey.indexOf(\"*\") !== -1;\n        if (hasWildCard) {\n          const scopeActionKey = scopeKey.substring(0, scopeKey.length - 1);\n\n          wildCardMatch = actionKey.includes(scopeActionKey);\n        }\n\n        return wildCardMatch || actionKey === scopeKey;\n      })\n    );\n\n    const sessionGrantKeyPath = sessionGrantKey.substring(\n      0,\n      sessionGrantKey.indexOf(\"/*.\") //start of extension part.\n    );\n    const isUploadPathMatching =\n      sessionGrantKeyPath === `arn:aws:s3:::${uploadPath}`;\n\n    const hasGrant =\n      isUploadPathMatching && sessionGrantKey !== \"arn:aws:s3:::*\";\n\n    return hasScope && hasGrant;\n  };\n\n  return Object.keys(grantsWithExtension).filter(checkPathsForPermission);\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { objectBrowserCommon } from \"../Common/FormComponents/common/styleLibrary\";\nimport { encodeURLString } from \"../../../common/utils\";\nimport { Button, CopyIcon, NewPathIcon, Tooltip, Breadcrumbs } from \"mds\";\nimport { hasPermission } from \"../../../common/SecureComponent\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../common/SecureComponent/permissions\";\nimport withSuspense from \"../Common/Components/withSuspense\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport { setVersionsModeEnabled } from \"./objectBrowserSlice\";\nimport { getSessionGrantsWildCard } from \"../Buckets/ListBuckets/UploadPermissionUtils\";\n\nconst CreatePathModal = withSuspense(\n  React.lazy(\n    () => import(\"../Buckets/ListBuckets/Objects/ListObjects/CreatePathModal\")\n  )\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...objectBrowserCommon,\n    slashSpacingStyle: {\n      margin: \"0 5px\",\n    },\n  })\n);\n\ninterface IObjectBrowser {\n  bucketName: string;\n  internalPaths: string;\n  hidePathButton?: boolean;\n  additionalOptions?: React.ReactNode;\n}\n\nconst BrowserBreadcrumbs = ({\n  bucketName,\n  internalPaths,\n  hidePathButton,\n  additionalOptions,\n}: IObjectBrowser) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const classes = useStyles();\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled\n  );\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode\n  );\n  const versionedFile = useSelector(\n    (state: AppState) => state.objectBrowser.versionedFile\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n\n  const [createFolderOpen, setCreateFolderOpen] = useState<boolean>(false);\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {}\n  );\n\n  let paths = internalPaths;\n\n  if (internalPaths !== \"\") {\n    paths = `/${internalPaths}`;\n  }\n\n  const splitPaths = paths.split(\"/\").filter((path) => path !== \"\");\n  const lastBreadcrumbsIndex = splitPaths.length - 1;\n\n  const pathToCheckPerms = paths || bucketName;\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    pathToCheckPerms,\n    putObjectPermScopes\n  );\n\n  const canCreatePath =\n    hasPermission(\n      [pathToCheckPerms, ...sessionGrantWildCards],\n      putObjectPermScopes\n    ) || anonymousMode;\n\n  let breadcrumbsMap = splitPaths.map((objectItem: string, index: number) => {\n    const subSplit = `${splitPaths.slice(0, index + 1).join(\"/\")}/`;\n    const route = `/browser/${bucketName}/${\n      subSplit ? `${encodeURLString(subSplit)}` : ``\n    }`;\n\n    if (index === lastBreadcrumbsIndex && objectItem === versionedFile) {\n      return null;\n    }\n\n    return (\n      <Fragment key={`breadcrumbs-${index.toString()}`}>\n        <span className={classes.slashSpacingStyle}>/</span>\n        {index === lastBreadcrumbsIndex ? (\n          <span style={{ cursor: \"default\" }}>{objectItem}</span>\n        ) : (\n          <Link\n            to={route}\n            onClick={() => {\n              dispatch(\n                setVersionsModeEnabled({ status: false, objectName: \"\" })\n              );\n            }}\n          >\n            {objectItem}\n          </Link>\n        )}\n      </Fragment>\n    );\n  });\n\n  let versionsItem: any[] = [];\n\n  if (versionsMode) {\n    versionsItem = [\n      <Fragment key={`breadcrumbs-versionedItem`}>\n        <span>\n          <span className={classes.slashSpacingStyle}>/</span>\n          {versionedFile} - Versions\n        </span>\n      </Fragment>,\n    ];\n  }\n\n  const listBreadcrumbs: any[] = [\n    <Fragment key={`breadcrumbs-root-path`}>\n      <Link\n        to={`/browser/${bucketName}`}\n        onClick={() => {\n          dispatch(setVersionsModeEnabled({ status: false, objectName: \"\" }));\n        }}\n      >\n        {bucketName}\n      </Link>\n    </Fragment>,\n    ...breadcrumbsMap,\n    ...versionsItem,\n  ];\n\n  const closeAddFolderModal = () => {\n    setCreateFolderOpen(false);\n  };\n\n  const goBackFunction = () => {\n    if (versionsMode) {\n      dispatch(setVersionsModeEnabled({ status: false, objectName: \"\" }));\n    } else {\n      if (splitPaths.length === 0) {\n        navigate(\"/browser\");\n\n        return;\n      }\n\n      const prevPath = splitPaths.slice(0, -1);\n\n      navigate(\n        `/browser/${bucketName}${\n          prevPath.length > 0\n            ? `/${encodeURLString(`${prevPath.join(\"/\")}/`)}`\n            : \"\"\n        }`\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      <div className={classes.breadcrumbsMain}>\n        {createFolderOpen && (\n          <CreatePathModal\n            modalOpen={createFolderOpen}\n            bucketName={bucketName}\n            folderName={internalPaths}\n            onClose={closeAddFolderModal}\n          />\n        )}\n        <Breadcrumbs\n          goBackFunction={goBackFunction}\n          additionalOptions={\n            <Fragment>\n              <CopyToClipboard text={`${bucketName}/${splitPaths.join(\"/\")}`}>\n                <Button\n                  id={\"copy-path\"}\n                  icon={\n                    <CopyIcon\n                      style={{\n                        width: \"12px\",\n                        height: \"12px\",\n                        fill: \"#969FA8\",\n                        marginTop: -1,\n                      }}\n                    />\n                  }\n                  variant={\"regular\"}\n                  onClick={() => {\n                    dispatch(setSnackBarMessage(\"Path copied to clipboard\"));\n                  }}\n                  style={{\n                    width: \"28px\",\n                    height: \"28px\",\n                    color: \"#969FA8\",\n                    border: \"#969FA8 1px solid\",\n                    marginRight: 5,\n                  }}\n                />\n              </CopyToClipboard>\n              <div className={classes.additionalOptions}>\n                {additionalOptions}\n              </div>\n            </Fragment>\n          }\n        >\n          {listBreadcrumbs}\n        </Breadcrumbs>\n        {!hidePathButton && (\n          <Tooltip\n            tooltip={\n              canCreatePath\n                ? \"Choose or create a new path\"\n                : permissionTooltipHelper(\n                    [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                    \"create a new path\"\n                  )\n            }\n          >\n            <Button\n              id={\"new-path\"}\n              onClick={() => {\n                setCreateFolderOpen(true);\n              }}\n              disabled={anonymousMode ? false : rewindEnabled || !canCreatePath}\n              icon={<NewPathIcon style={{ fill: \"#969FA8\" }} />}\n              style={{\n                whiteSpace: \"nowrap\",\n              }}\n              variant={\"regular\"}\n              label={\"Create new path\"}\n            />\n          </Tooltip>\n        )}\n      </div>\n      <div className={classes.breadcrumbsSecond}>{additionalOptions}</div>\n    </Fragment>\n  );\n};\n\nexport default BrowserBreadcrumbs;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport { CSSObject } from \"styled-components\";\nimport { Menu, MenuItem } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport { Button, UploadFolderIcon, UploadIcon } from \"mds\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../common/SecureComponent/permissions\";\nimport { hasPermission } from \"../../../../common/SecureComponent\";\nimport TooltipWrapper from \"../../Common/TooltipWrapper/TooltipWrapper\";\nimport { useSelector } from \"react-redux\";\nimport { AppState } from \"../../../../store\";\nimport { getSessionGrantsWildCard } from \"./UploadPermissionUtils\";\n\ninterface IUploadFilesButton {\n  uploadPath: string;\n  bucketName: string;\n  forceDisable?: boolean;\n  uploadFileFunction: (closeFunction: () => void) => void;\n  uploadFolderFunction: (closeFunction: () => void) => void;\n  classes: any;\n  overrideStyles?: CSSObject;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    listUploadIcons: {\n      height: 20,\n      \"& .min-icon\": {\n        width: 18,\n        fill: \"rgba(0,0,0,0.87)\",\n      },\n    },\n  });\n\nconst UploadFilesButton = ({\n  uploadPath,\n  bucketName,\n  forceDisable = false,\n  uploadFileFunction,\n  uploadFolderFunction,\n  classes,\n  overrideStyles = {},\n}: IUploadFilesButton) => {\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {}\n  );\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    uploadPath,\n    putObjectPermScopes\n  );\n\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const openUploadMenu = Boolean(anchorEl);\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleCloseUpload = () => {\n    setAnchorEl(null);\n  };\n\n  const uploadObjectAllowed =\n    hasPermission(\n      [uploadPath, ...sessionGrantWildCards],\n      putObjectPermScopes\n    ) || anonymousMode;\n\n  const uploadFolderAllowed = hasPermission(\n    [bucketName, ...sessionGrantWildCards],\n    putObjectPermScopes,\n    false,\n    true\n  );\n\n  const uploadEnabled: boolean = uploadObjectAllowed || uploadFolderAllowed;\n\n  return (\n    <Fragment>\n      <TooltipWrapper\n        tooltip={\n          uploadEnabled\n            ? \"Upload Files\"\n            : permissionTooltipHelper(\n                [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                \"upload files to this bucket\"\n              )\n        }\n      >\n        <Button\n          id={\"upload-main\"}\n          aria-controls={`upload-main-menu`}\n          aria-haspopup=\"true\"\n          aria-expanded={openUploadMenu ? \"true\" : undefined}\n          onClick={handleClick}\n          label={\"Upload\"}\n          icon={<UploadIcon />}\n          variant={\"callAction\"}\n          disabled={forceDisable || !uploadEnabled}\n          sx={overrideStyles}\n        />\n      </TooltipWrapper>\n      <Menu\n        id={`upload-main-menu`}\n        aria-labelledby={`upload-main`}\n        anchorEl={anchorEl}\n        open={openUploadMenu}\n        onClose={() => {\n          handleCloseUpload();\n        }}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <MenuItem\n          onClick={() => {\n            uploadFileFunction(handleCloseUpload);\n          }}\n          disabled={!uploadObjectAllowed || forceDisable}\n        >\n          <ListItemIcon className={classes.listUploadIcons}>\n            <UploadIcon />\n          </ListItemIcon>\n          <ListItemText>Upload File</ListItemText>\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            uploadFolderFunction(handleCloseUpload);\n          }}\n          disabled={!uploadFolderAllowed || forceDisable}\n        >\n          <ListItemIcon className={classes.listUploadIcons}>\n            <UploadFolderIcon />\n          </ListItemIcon>\n          <ListItemText>Upload Folder</ListItemText>\n        </MenuItem>\n      </Menu>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(UploadFilesButton);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { Button, ClosePanelIcon, Grid } from \"mds\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\ninterface IDetailsListPanel {\n  open: boolean;\n  className?: string;\n  closePanel: () => void;\n  children: React.ReactNode;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    detailsList: {\n      borderColor: \"#EAEDEE\",\n      borderWidth: 0,\n      borderStyle: \"solid\",\n      borderRadius: 3,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0,\n      width: 0,\n      transitionDuration: \"0.3s\",\n      overflowX: \"hidden\",\n      overflowY: \"auto\",\n      position: \"relative\",\n      opacity: 0,\n      marginLeft: -1,\n      \"&.open\": {\n        width: 300,\n        minWidth: 300,\n        borderLeftWidth: 1,\n        opacity: 1,\n      },\n      \"@media (max-width: 799px)\": {\n        \"&.open\": {\n          width: \"100%\",\n          minWidth: \"100%\",\n          borderLeftWidth: 0,\n        },\n      },\n    },\n  })\n);\n\nconst DetailsListPanel = ({\n  open,\n  closePanel,\n  className = \"\",\n  children,\n}: IDetailsListPanel) => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      item\n      className={`${classes.detailsList} ${open ? \"open\" : \"\"} ${className}`}\n    >\n      <Button\n        variant={\"text\"}\n        id={\"close-details-list\"}\n        onClick={closePanel}\n        icon={<ClosePanelIcon />}\n        sx={{\n          position: \"absolute\",\n          right: 5,\n          top: 18,\n          padding: 0,\n          height: 14,\n          \"&:hover:not(:disabled)\": {\n            backgroundColor: \"transparent\",\n          },\n        }}\n      />\n      {children}\n    </Grid>\n  );\n};\n\nexport default DetailsListPanel;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const months = [\n  { value: \"01\", label: \"January\" },\n  { value: \"02\", label: \"February\" },\n  { value: \"03\", label: \"March\" },\n  { value: \"04\", label: \"April\" },\n  { value: \"05\", label: \"May\" },\n  { value: \"06\", label: \"June\" },\n  { value: \"07\", label: \"July\" },\n  { value: \"08\", label: \"August\" },\n  { value: \"09\", label: \"September\" },\n  { value: \"10\", label: \"October\" },\n  { value: \"11\", label: \"November\" },\n  { value: \"12\", label: \"December\" },\n];\n\nexport const days = Array.from(Array(31), (_, num) => ({\n  value: (num + 1).toString(),\n  label: (num + 1).toString(),\n}));\n\nconst currentYear = new Date().getFullYear();\n\nexport const years = Array.from(Array(50), (_, numYear) => ({\n  value: (numYear + currentYear).toString(),\n  label: (numYear + currentYear).toString(),\n}));\n\nexport const validDate = (year: string, month: string, day: string): any[] => {\n  const currentDate = Date.parse(`${year}-${month}-${day}`);\n\n  if (isNaN(currentDate)) {\n    return [false, \"\"];\n  }\n\n  const parsedMonth = parseInt(month);\n  const parsedDay = parseInt(day);\n\n  const monthForString = parsedMonth < 10 ? `0${parsedMonth}` : parsedMonth;\n  const dayForString = parsedDay < 10 ? `0${parsedDay}` : parsedDay;\n\n  const parsedDate = new Date(currentDate).toISOString().split(\"T\")[0];\n  const dateString = `${year}-${monthForString}-${dayForString}`;\n\n  return [parsedDate === dateString, dateString];\n};\n\n// twoDigitDate gets a two digit string number used for months or days\n// returns \"NaN\" if number is NaN\nexport const twoDigitDate = (num: number): string => {\n  return num < 10 ? `0${num}` : `${num}`;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, {\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from \"react\";\nimport clsx from \"clsx\";\nimport { Box, Grid, HelpIcon, InputLabel, Select, Switch, Tooltip } from \"mds\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { fieldBasic, tooltipHelper } from \"../common/styleLibrary\";\nimport { days, months, validDate, years } from \"./utils\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      paddingBottom: 10,\n      marginTop: 11,\n      marginBottom: 6,\n    },\n  });\n\ninterface IDateSelectorProps {\n  classes: any;\n  id: string;\n  label: string;\n  disableOptions?: boolean;\n  addSwitch?: boolean;\n  tooltip?: string;\n  borderBottom?: boolean;\n  value?: string;\n  onDateChange: (date: string, isValid: boolean) => any;\n}\n\nconst DateSelector = forwardRef(\n  (\n    {\n      classes,\n      id,\n      label,\n      disableOptions = false,\n      addSwitch = false,\n      tooltip = \"\",\n      borderBottom = false,\n      onDateChange,\n      value = \"\",\n    }: IDateSelectorProps,\n    ref: any\n  ) => {\n    useImperativeHandle(ref, () => ({ resetDate }));\n\n    const [dateEnabled, setDateEnabled] = useState<boolean>(false);\n    const [month, setMonth] = useState<string>(\"\");\n    const [day, setDay] = useState<string>(\"\");\n    const [year, setYear] = useState<string>(\"\");\n\n    useEffect(() => {\n      // verify if there is a current value\n      // assume is in the format \"2021-12-30\"\n      if (value !== \"\") {\n        const valueSplit = value.split(\"-\");\n\n        setYear(valueSplit[0]);\n        setMonth(valueSplit[1]);\n        // Turn to single digit to be displayed on dropdown buttons\n        setDay(`${parseInt(valueSplit[2])}`);\n      }\n    }, [value]);\n\n    useEffect(() => {\n      const [isValid, dateString] = validDate(year, month, day);\n      onDateChange(dateString, isValid);\n    }, [month, day, year, onDateChange]);\n\n    const resetDate = () => {\n      setMonth(\"\");\n      setDay(\"\");\n      setYear(\"\");\n    };\n\n    const isDateDisabled = () => {\n      if (disableOptions) {\n        return disableOptions;\n      } else if (addSwitch) {\n        return !dateEnabled;\n      } else {\n        return false;\n      }\n    };\n\n    const monthForDropDown = [{ value: \"\", label: \"<Month>\" }, ...months];\n    const daysForDrop = [{ value: \"\", label: \"<Day>\" }, ...days];\n    const yearsForDrop = [{ value: \"\", label: \"<Year>\" }, ...years];\n\n    return (\n      <Grid\n        item\n        xs={12}\n        className={clsx(classes.fieldContainer, {\n          [classes.fieldContainerBorder]: borderBottom,\n        })}\n      >\n        <div className={classes.labelContainer}>\n          <Grid container>\n            <InputLabel htmlFor={id}>\n              <span>{label}</span>\n              {tooltip !== \"\" && (\n                <div className={classes.tooltipContainer}>\n                  <Tooltip tooltip={tooltip} placement=\"top\">\n                    <div className={classes.tooltip}>\n                      <HelpIcon />\n                    </div>\n                  </Tooltip>\n                </div>\n              )}\n            </InputLabel>\n            {addSwitch && (\n              <Switch\n                indicatorLabels={[\"Specific Date\", \"Default (7 Days)\"]}\n                checked={dateEnabled}\n                value={\"date_enabled\"}\n                id=\"date-status\"\n                name=\"date-status\"\n                onChange={(e) => {\n                  setDateEnabled(e.target.checked);\n                  if (!e.target.checked) {\n                    onDateChange(\"\", true);\n                  }\n                }}\n                switchOnly\n              />\n            )}\n          </Grid>\n        </div>\n        <Box sx={{ display: \"flex\", gap: 12 }}>\n          <Select\n            id={`${id}-month`}\n            name={`${id}-month`}\n            value={month}\n            onChange={(newValue) => {\n              setMonth(newValue);\n            }}\n            options={monthForDropDown}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n\n          <Select\n            id={`${id}-day`}\n            name={`${id}-day`}\n            value={day}\n            onChange={(newValue) => {\n              setDay(newValue);\n            }}\n            options={daysForDrop}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n\n          <Select\n            id={`${id}-year`}\n            name={`${id}-year`}\n            value={year}\n            onChange={(newValue) => {\n              setYear(newValue);\n            }}\n            options={yearsForDrop}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n        </Box>\n      </Grid>\n    );\n  }\n);\n\nexport default withStyles(styles)(DateSelector);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Button, Grid, RadioGroup, Switch } from \"mds\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\nimport { twoDigitDate } from \"../../../../Common/FormComponents/DateSelector/utils\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport DateSelector from \"../../../../Common/FormComponents/DateSelector/DateSelector\";\nimport { setModalErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { useSelector } from \"react-redux\";\nimport { BucketObject, ObjectRetentionMode } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport { encodeURLString } from \"common/utils\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface ISetRetentionProps {\n  classes: any;\n  open: boolean;\n  closeModalAndRefresh: (updateInfo: boolean) => void;\n  objectName: string;\n  bucketName: string;\n  objectInfo: BucketObject;\n}\n\ninterface IRefObject {\n  resetDate: () => void;\n}\n\nconst SetRetention = ({\n  classes,\n  open,\n  closeModalAndRefresh,\n  objectName,\n  objectInfo,\n  bucketName,\n}: ISetRetentionProps) => {\n  const dispatch = useAppDispatch();\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig\n  );\n\n  const [statusEnabled, setStatusEnabled] = useState<boolean>(true);\n  const [type, setType] = useState<ObjectRetentionMode | \"\">(\"\");\n  const [date, setDate] = useState<string>(\"\");\n  const [isDateValid, setIsDateValid] = useState<boolean>(false);\n  const [isSaving, setIsSaving] = useState<boolean>(false);\n  const [alreadyConfigured, setAlreadyConfigured] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (objectInfo.retention_mode) {\n      setType(retentionConfig?.mode || ObjectRetentionMode.Governance);\n      setAlreadyConfigured(true);\n    }\n    // get retention_until_date if defined\n    if (objectInfo.retention_until_date) {\n      const valueDate = new Date(objectInfo.retention_until_date);\n      if (valueDate.toString() !== \"Invalid Date\") {\n        const year = valueDate.getFullYear();\n        const month = twoDigitDate(valueDate.getMonth() + 1);\n        const day = valueDate.getDate();\n        if (!isNaN(day) && month !== \"NaN\" && !isNaN(year)) {\n          setDate(`${year}-${month}-${day}`);\n        }\n      }\n      setAlreadyConfigured(true);\n    }\n  }, [objectInfo, retentionConfig?.mode]);\n\n  const dateElement = useRef<IRefObject>(null);\n\n  const dateFieldDisabled = () => {\n    return !(statusEnabled && (type === \"governance\" || type === \"compliance\"));\n  };\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n  };\n\n  const resetForm = () => {\n    setStatusEnabled(false);\n    setType(ObjectRetentionMode.Governance);\n    if (dateElement.current) {\n      dateElement.current.resetDate();\n    }\n  };\n\n  const addRetention = (\n    selectedObject: string,\n    versionId: string | null,\n    expireDate: string\n  ) => {\n    api.buckets\n      .putObjectRetention(\n        bucketName,\n        {\n          prefix: encodeURLString(selectedObject),\n          version_id: versionId || \"\",\n        },\n        {\n          expires: expireDate,\n          mode: type as ObjectRetentionMode,\n        }\n      )\n      .then(() => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSaving(false);\n      });\n  };\n\n  const disableRetention = (\n    selectedObject: string,\n    versionId: string | null\n  ) => {\n    api.buckets\n      .deleteObjectRetention(bucketName, {\n        prefix: encodeURLString(selectedObject),\n        version_id: versionId || \"\",\n      })\n      .then(() => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSaving(false);\n      });\n  };\n\n  const saveNewRetentionPolicy = () => {\n    setIsSaving(true);\n    const selectedObject = objectInfo.name || \"\";\n    const versionId = objectInfo.version_id || null;\n\n    const expireDate =\n      !statusEnabled && type === \"governance\" ? \"\" : `${date}T23:59:59Z`;\n\n    if (!statusEnabled && type === \"governance\") {\n      disableRetention(selectedObject, versionId);\n\n      return;\n    }\n\n    addRetention(selectedObject, versionId, expireDate);\n  };\n\n  const showSwitcher =\n    alreadyConfigured && (type === \"governance\" || type === \"\");\n\n  return (\n    <ModalWrapper\n      title=\"Set Retention Policy\"\n      modalOpen={open}\n      onClose={() => {\n        resetForm();\n        closeModalAndRefresh(false);\n      }}\n    >\n      <div className={classes.spacerBottom}>\n        <strong>Selected Object</strong>: {objectName}\n      </div>\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          onSubmit(e);\n        }}\n      >\n        {showSwitcher && (\n          <Grid item xs={12} className={classes.formFieldRow}>\n            <Switch\n              value=\"status\"\n              id=\"status\"\n              name=\"status\"\n              checked={statusEnabled}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                setStatusEnabled(!statusEnabled);\n              }}\n              label={\"Status\"}\n              indicatorLabels={[\"Enabled\", \"Disabled\"]}\n            />\n          </Grid>\n        )}\n        <Grid item xs={12} className={classes.formFieldRow}>\n          <RadioGroup\n            currentValue={type}\n            id=\"type\"\n            name=\"type\"\n            label=\"Type\"\n            disableOptions={\n              !statusEnabled || (alreadyConfigured && type !== \"\")\n            }\n            onChange={(e) => {\n              setType(e.target.value as ObjectRetentionMode);\n            }}\n            selectorOptions={[\n              { label: \"Governance\", value: ObjectRetentionMode.Governance },\n              { label: \"Compliance\", value: ObjectRetentionMode.Compliance },\n            ]}\n          />\n        </Grid>\n        <Grid item xs={12} className={`${classes.dateSelector} `}>\n          <DateSelector\n            id=\"date\"\n            label=\"Date\"\n            disableOptions={dateFieldDisabled()}\n            ref={dateElement}\n            value={date}\n            borderBottom={true}\n            onDateChange={(date: string, isValid: boolean) => {\n              setIsDateValid(isValid);\n              if (isValid) {\n                setDate(date);\n              }\n            }}\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"reset\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Reset\"}\n          />\n          <Button\n            id={\"save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={\n              (statusEnabled && type === \"\") ||\n              (statusEnabled && !isDateValid) ||\n              isSaving\n            }\n            onClick={saveNewRetentionPolicy}\n            label={\"Save\"}\n          />\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(SetRetention);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const isVersionedMode = (status: string | undefined) => {\n  return status === \"Enabled\" || status === \"Suspended\";\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport { decodeURLString } from \"../../../../../../common/utils\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport useApi from \"../../../../Common/Hooks/useApi\";\nimport { ConfirmDeleteIcon, Switch } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\nimport { isVersionedMode } from \"../../../../../../utils/validationFunctions\";\nimport { BucketVersioningResponse } from \"api/consoleApi\";\n\ninterface IDeleteObjectProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedObject: string;\n  selectedBucket: string;\n\n  versioningInfo: BucketVersioningResponse | undefined;\n  selectedVersion?: string;\n}\n\nconst DeleteObject = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedObject,\n  versioningInfo,\n  selectedVersion = \"\",\n}: IDeleteObjectProps) => {\n  const dispatch = useAppDispatch();\n  const onDelSuccess = () => closeDeleteModalAndRefresh(true);\n  const onDelError = (err: ErrorResponseHandler) => {\n    dispatch(setErrorSnackMessage(err));\n\n    // We close the modal box on access denied.\n    if (err.detailedError === \"Access Denied.\") {\n      closeDeleteModalAndRefresh(true);\n    }\n  };\n  const onClose = () => closeDeleteModalAndRefresh(false);\n\n  const [deleteLoading, invokeDeleteApi] = useApi(onDelSuccess, onDelError);\n  const [deleteVersions, setDeleteVersions] = useState<boolean>(false);\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION]\n    ) && retentionConfig?.mode === \"governance\";\n\n  if (!selectedObject) {\n    return null;\n  }\n  const onConfirmDelete = () => {\n    const decodedSelectedObject = decodeURLString(selectedObject);\n    const recursive = decodedSelectedObject.endsWith(\"/\");\n    invokeDeleteApi(\n      \"DELETE\",\n      `/api/v1/buckets/${selectedBucket}/objects?path=${selectedObject}${\n        selectedVersion !== \"\"\n          ? `&version_id=${selectedVersion}`\n          : `&recursive=${recursive}&all_versions=${deleteVersions}`\n      }${bypassGovernance ? \"&bypass=true\" : \"\"}`\n    );\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Delete Object`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={onClose}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete: <br />\n          <b>{decodeURLString(selectedObject)}</b>{\" \"}\n          {selectedVersion !== \"\" ? (\n            <Fragment>\n              <br />\n              <br />\n              Version ID:\n              <br />\n              <strong>{selectedVersion}</strong>\n            </Fragment>\n          ) : (\n            \"\"\n          )}\n          ? <br />\n          <br />\n          {isVersionedMode(versioningInfo?.status) &&\n            selectedVersion === \"\" && (\n              <Fragment>\n                <Switch\n                  label={\"Delete All Versions\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={deleteVersions}\n                  value={\"delete_versions\"}\n                  id=\"delete-versions\"\n                  name=\"delete-versions\"\n                  onChange={(e) => {\n                    setDeleteVersions(!deleteVersions);\n                  }}\n                  description=\"\"\n                />\n              </Fragment>\n            )}\n          {canBypass && (deleteVersions || selectedVersion !== \"\") && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n          {deleteVersions && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                  border: \"#c83b51 1px solid\",\n                  borderRadius: 3,\n                  padding: 5,\n                  backgroundColor: \"#c83b5120\",\n                  color: \"#c83b51\",\n                }}\n              >\n                This will remove the object as well as all of its versions,{\" \"}\n                <br />\n                This action is irreversible.\n              </div>\n              <br />\n              Are you sure you want to continue?\n            </Fragment>\n          )}\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteObject;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport get from \"lodash/get\";\nimport { Button, Grid, Switch } from \"mds\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\n\nimport { setModalErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { BucketObject, ObjectLegalHoldStatus } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface ISetRetentionProps {\n  classes: any;\n  open: boolean;\n  closeModalAndRefresh: (reload: boolean) => void;\n  objectName: string;\n  bucketName: string;\n  actualInfo: BucketObject;\n}\n\nconst SetLegalHoldModal = ({\n  classes,\n  open,\n  closeModalAndRefresh,\n  objectName,\n  bucketName,\n  actualInfo,\n}: ISetRetentionProps) => {\n  const dispatch = useAppDispatch();\n  const [legalHoldEnabled, setLegalHoldEnabled] = useState<boolean>(false);\n  const [isSaving, setIsSaving] = useState<boolean>(false);\n  const versionId = actualInfo.version_id;\n\n  useEffect(() => {\n    const status = get(actualInfo, \"legal_hold_status\", \"OFF\");\n    setLegalHoldEnabled(status === \"ON\");\n  }, [actualInfo]);\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSaving(true);\n\n    api.buckets\n      .putObjectLegalHold(\n        bucketName,\n        {\n          prefix: encodeURLString(objectName),\n          version_id: versionId || \"\",\n        },\n        {\n          status: legalHoldEnabled\n            ? ObjectLegalHoldStatus.Enabled\n            : ObjectLegalHoldStatus.Disabled,\n        }\n      )\n      .then(() => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSaving(false);\n      });\n  };\n\n  const resetForm = () => {\n    setLegalHoldEnabled(false);\n  };\n\n  return (\n    <ModalWrapper\n      title=\"Set Legal Hold\"\n      modalOpen={open}\n      onClose={() => {\n        resetForm();\n        closeModalAndRefresh(false);\n      }}\n    >\n      <Grid item xs={12} className={classes.spacerBottom}>\n        Object: {bucketName}\n      </Grid>\n\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          onSubmit(e);\n        }}\n      >\n        <Grid item xs={12} className={classes.formFieldRow}>\n          <Switch\n            value=\"legalhold\"\n            id=\"legalhold\"\n            name=\"legalhold\"\n            checked={legalHoldEnabled}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setLegalHoldEnabled(!legalHoldEnabled);\n            }}\n            label={\"Legal Hold Status\"}\n            indicatorLabels={[\"Enabled\", \"Disabled\"]}\n            tooltip={\n              \"To enable this feature you need to enable versioning on the bucket before creation\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"clear\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Clear\"}\n          />\n          <Button\n            id={\"save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={isSaving}\n            label={\" Save\"}\n          />\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(SetLegalHoldModal);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport { withStyles } from \"@mui/styles\";\nimport Grid from \"@mui/material/Grid\";\nimport { Box, Table, TableBody, TableCell, TableRow } from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport {\n  detailsPanel,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\ninterface IObjectMetadata {\n  metaData: any;\n  classes?: any;\n  linear?: boolean;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    titleItem: {\n      width: \"35%\",\n    },\n    ...spacingUtils,\n    ...detailsPanel,\n  });\n\nconst ObjectMetaData = ({\n  metaData,\n  classes,\n  linear = false,\n}: IObjectMetadata) => {\n  const metaKeys = Object.keys(metaData);\n\n  if (linear) {\n    return (\n      <Fragment>\n        {metaKeys.map((element: string, index: number) => {\n          const renderItem = Array.isArray(metaData[element])\n            ? metaData[element].map(decodeURIComponent).join(\", \")\n            : decodeURIComponent(metaData[element]);\n\n          return (\n            <Box\n              className={classes.metadataLinear}\n              key={`box-meta-${element}-${index.toString()}`}\n            >\n              <strong>{element}</strong>\n              <br />\n              {renderItem}\n            </Box>\n          );\n        })}\n      </Fragment>\n    );\n  }\n\n  return (\n    <Grid container>\n      <Grid\n        item\n        xs={12}\n        sx={{\n          marginTop: \"25px\",\n          marginBottom: \"5px\",\n        }}\n      >\n        <h3\n          style={{\n            marginTop: \"0\",\n            marginBottom: \"0\",\n          }}\n        >\n          Object Metadata\n        </h3>\n      </Grid>\n\n      <Grid item xs={12}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableBody>\n            {metaKeys.map((element: string, index: number) => {\n              const renderItem = Array.isArray(metaData[element])\n                ? metaData[element].map(decodeURIComponent).join(\", \")\n                : decodeURIComponent(metaData[element]);\n\n              return (\n                <TableRow key={`tRow-${index.toString()}`}>\n                  <TableCell\n                    component=\"th\"\n                    scope=\"row\"\n                    className={classes.titleItem}\n                  >\n                    {element}\n                  </TableCell>\n                  <TableCell align=\"right\">{renderItem}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles)(ObjectMetaData);\n","import React from \"react\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport { replaceUnicodeChar } from \"../../../../../../common/utils\";\n\ninterface IIconWithLabel {\n  classes: any;\n  icon: JSX.Element;\n  strings: string[];\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    fileName: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& .min-icon\": {\n        width: 16,\n        height: 16,\n        marginRight: 4,\n        minWidth: 16,\n        minHeight: 16,\n      },\n    },\n    fileNameText: {\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n  });\n\nconst IconWithLabel = ({ classes, icon, strings }: IIconWithLabel) => {\n  return (\n    <div className={classes.fileName}>\n      {icon}\n      <span className={classes.fileNameText}>\n        {replaceUnicodeChar(strings[strings.length - 1])}\n      </span>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(IconWithLabel);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\n\nimport {\n  FileBookIcon,\n  FileCodeIcon,\n  FileConfigIcon,\n  FileDbIcon,\n  FileFontIcon,\n  FileImageIcon,\n  FileLockIcon,\n  FileMissingIcon,\n  FileMusicIcon,\n  FileNonType,\n  FilePdfIcon,\n  FilePptIcon,\n  FileTxtIcon,\n  FileVideoIcon,\n  FileXlsIcon,\n  FileZipIcon,\n  FolderBrowserIcon,\n} from \"mds\";\nimport IconWithLabel from \"./IconWithLabel\";\n\ninterface IExtToIcon {\n  icon: any;\n  extensions: string[];\n}\n\nexport const extensionToIcon: IExtToIcon[] = [\n  {\n    icon: <FileVideoIcon />,\n    extensions: [\"mp4\", \"mov\", \"avi\", \"mpeg\", \"mpg\"],\n  },\n  {\n    icon: <FileMusicIcon />,\n    extensions: [\"mp3\", \"m4a\", \"aac\"],\n  },\n  {\n    icon: <FilePdfIcon />,\n    extensions: [\"pdf\"],\n  },\n  {\n    icon: <FilePptIcon />,\n    extensions: [\"ppt\", \"pptx\"],\n  },\n  {\n    icon: <FileXlsIcon />,\n    extensions: [\"xls\", \"xlsx\"],\n  },\n  {\n    icon: <FileLockIcon />,\n    extensions: [\"cer\", \"crt\", \"pem\"],\n  },\n  {\n    icon: <FileCodeIcon />,\n    extensions: [\"html\", \"xml\", \"css\", \"py\", \"go\", \"php\", \"cpp\", \"h\", \"java\"],\n  },\n  {\n    icon: <FileConfigIcon />,\n    extensions: [\"cfg\", \"yaml\"],\n  },\n  {\n    icon: <FileDbIcon />,\n    extensions: [\"sql\"],\n  },\n  {\n    icon: <FileFontIcon />,\n    extensions: [\"ttf\", \"otf\"],\n  },\n  {\n    icon: <FileTxtIcon />,\n    extensions: [\"doc\", \"docx\", \"txt\", \"rtf\"],\n  },\n  {\n    icon: <FileZipIcon />,\n    extensions: [\"zip\", \"rar\", \"tar\", \"gz\"],\n  },\n  {\n    icon: <FileBookIcon />,\n    extensions: [\"epub\", \"mobi\", \"azw\", \"azw3\"],\n  },\n  {\n    icon: <FileImageIcon />,\n    extensions: [\"jpeg\", \"jpg\", \"gif\", \"tiff\", \"png\", \"heic\", \"dng\"],\n  },\n];\n\nexport const displayFileIconName = (\n  element: string,\n  returnOnlyIcon: boolean = false\n) => {\n  let elementString = element;\n  let icon = <FileNonType />;\n  // Element is a folder\n  if (element.endsWith(\"/\")) {\n    icon = <FolderBrowserIcon />;\n    elementString = element.slice(0, -1);\n  }\n\n  const lowercaseElement = element.toLowerCase();\n  for (const etc of extensionToIcon) {\n    for (const ext of etc.extensions) {\n      if (lowercaseElement.endsWith(`.${ext}`)) {\n        icon = etc.icon;\n      }\n    }\n  }\n\n  if (!element.endsWith(\"/\") && element.indexOf(\".\") < 0) {\n    icon = <FileMissingIcon />;\n  }\n\n  const splitItem = elementString.split(\"/\");\n\n  if (returnOnlyIcon) {\n    return icon;\n  }\n\n  return <IconWithLabel icon={icon} strings={splitItem} />;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport get from \"lodash/get\";\nimport { Box, Grid } from \"@mui/material\";\nimport {\n  AddNewTagIcon,\n  Button,\n  DisabledIcon,\n  EditTagIcon,\n  InputBox,\n  SectionTitle,\n} from \"mds\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { SecureComponent } from \"../../../../../../common/SecureComponent\";\nimport Chip from \"@mui/material/Chip\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport {\n  selDistSet,\n  setModalErrorSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { BucketObject } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport { encodeURLString } from \"common/utils\";\nimport { useSelector } from \"react-redux\";\n\ninterface ITagModal {\n  modalOpen: boolean;\n  bucketName: string;\n  actualInfo: BucketObject;\n  onCloseAndUpdate: (refresh: boolean) => void;\n  classes: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    newTileHeader: {\n      fontSize: 18,\n      fontWeight: \"bold\",\n      color: \"#000\",\n      margin: \"35px 0\",\n      paddingBottom: 15,\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& > svg\": {\n        marginRight: 10,\n      },\n    },\n    tagsForLabel: {\n      fontSize: 16,\n      margin: \"20px 0 30px\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      width: \"100%\",\n    },\n    currentTagsContainer: {\n      fontSize: 14,\n      fontWeight: \"normal\",\n    },\n    noTagsForObject: {\n      color: \"#858585\",\n    },\n    deleteTag: {\n      color: \"#C83B51\",\n      marginLeft: 5,\n    },\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\nconst AddTagModal = ({\n  modalOpen,\n  onCloseAndUpdate,\n  bucketName,\n  actualInfo,\n  classes,\n}: ITagModal) => {\n  const dispatch = useAppDispatch();\n  const distributedSetup = useSelector(selDistSet);\n  const [newKey, setNewKey] = useState<string>(\"\");\n  const [newLabel, setNewLabel] = useState<string>(\"\");\n  const [isSending, setIsSending] = useState<boolean>(false);\n  const [deleteEnabled, setDeleteEnabled] = useState<boolean>(false);\n  const [deleteKey, setDeleteKey] = useState<string>(\"\");\n  const [deleteLabel, setDeleteLabel] = useState<string>(\"\");\n\n  const selectedObject = encodeURLString(actualInfo.name || \"\");\n\n  const currentTags = actualInfo.tags;\n  const currTagKeys = Object.keys(currentTags || {});\n\n  const allPathData = actualInfo.name?.split(\"/\");\n  const currentItem = allPathData?.pop() || \"\";\n\n  const resetForm = () => {\n    setNewLabel(\"\");\n    setNewKey(\"\");\n  };\n\n  const addTagProcess = () => {\n    setIsSending(true);\n    const newTag: any = {};\n\n    newTag[newKey] = newLabel;\n    const newTagList = { ...currentTags, ...newTag };\n\n    const verID = distributedSetup ? actualInfo.version_id || \"\" : \"null\";\n\n    api.buckets\n      .putObjectTags(\n        bucketName,\n        { prefix: selectedObject, version_id: verID },\n        { tags: newTagList }\n      )\n      .then(() => {\n        onCloseAndUpdate(true);\n        setIsSending(false);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSending(false);\n      });\n  };\n\n  const deleteTagProcess = () => {\n    const cleanObject: any = { ...currentTags };\n    delete cleanObject[deleteKey];\n\n    const verID = distributedSetup ? actualInfo.version_id || \"\" : \"null\";\n\n    api.buckets\n      .putObjectTags(\n        bucketName,\n        { prefix: selectedObject, version_id: verID },\n        { tags: cleanObject }\n      )\n      .then(() => {\n        onCloseAndUpdate(true);\n        setIsSending(false);\n      })\n      .catch((err) => {\n        dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n        setIsSending(false);\n      });\n  };\n\n  const onDeleteTag = (tagKey: string, tag: string) => {\n    setDeleteKey(tagKey);\n    setDeleteLabel(tag);\n    setDeleteEnabled(true);\n  };\n\n  const cancelDelete = () => {\n    setDeleteKey(\"\");\n    setDeleteLabel(\"\");\n    setDeleteEnabled(false);\n  };\n\n  const tagsFor = (plural: boolean) => (\n    <div className={classes.tagsForLabel}>\n      Tag{plural ? \"s\" : \"\"} for: <strong>{currentItem}</strong>\n    </div>\n  );\n\n  return (\n    <Fragment>\n      <ModalWrapper\n        modalOpen={modalOpen}\n        title={deleteEnabled ? \"Delete Tag\" : `Edit Tags`}\n        onClose={() => {\n          onCloseAndUpdate(true);\n        }}\n        titleIcon={\n          deleteEnabled ? (\n            <DisabledIcon style={{ fill: \"#C83B51\" }} />\n          ) : (\n            <EditTagIcon />\n          )\n        }\n      >\n        {deleteEnabled ? (\n          <Fragment>\n            <Grid container>\n              {tagsFor(false)}\n              Are you sure you want to delete the tag{\" \"}\n              <b className={classes.deleteTag}>\n                {deleteKey} : {deleteLabel}\n              </b>{\" \"}\n              ?\n              <Grid item xs={12} className={classes.modalButtonBar}>\n                <Button\n                  id={\"cancel\"}\n                  type=\"button\"\n                  variant=\"regular\"\n                  onClick={cancelDelete}\n                  label={\"Cancel\"}\n                />\n                <Button\n                  type=\"submit\"\n                  variant=\"secondary\"\n                  onClick={deleteTagProcess}\n                  id={\"deleteTag\"}\n                  label={\"Delete Tag\"}\n                />\n              </Grid>\n            </Grid>\n          </Fragment>\n        ) : (\n          <Grid container>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_TAGGING,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Box\n                sx={{\n                  display: \"flex\",\n                  flexFlow: \"column\",\n                  width: \"100%\",\n                }}\n              >\n                {tagsFor(true)}\n                <div className={classes.currentTagsContainer}>\n                  Current Tags:\n                  <br />\n                  {currTagKeys.length === 0 ? (\n                    <span className={classes.noTagsForObject}>\n                      There are no tags for this object\n                    </span>\n                  ) : (\n                    <Fragment />\n                  )}\n                  <Box sx={{ marginTop: \"5px\", marginBottom: \"15px\" }}>\n                    {currTagKeys.map((tagKey: string, index: number) => {\n                      const tag = get(currentTags, `${tagKey}`, \"\");\n                      if (tag !== \"\") {\n                        return (\n                          <SecureComponent\n                            key={`chip-${index}`}\n                            scopes={[IAM_SCOPES.S3_DELETE_OBJECT_TAGGING]}\n                            resource={bucketName}\n                            errorProps={{\n                              deleteIcon: null,\n                              onDelete: null,\n                            }}\n                          >\n                            <Chip\n                              style={{\n                                textTransform: \"none\",\n                                marginRight: \"5px\",\n                                marginBottom: \"5px\",\n                              }}\n                              size=\"small\"\n                              label={`${tagKey} : ${tag}`}\n                              color=\"primary\"\n                              deleteIcon={<CloseIcon />}\n                              onDelete={() => {\n                                onDeleteTag(tagKey, tag);\n                              }}\n                            />\n                          </SecureComponent>\n                        );\n                      }\n                      return null;\n                    })}\n                  </Box>\n                </div>\n              </Box>\n            </SecureComponent>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n                IAM_SCOPES.S3_PUT_ACTIONS,\n              ]}\n              resource={bucketName}\n              errorProps={{ disabled: true, onClick: null }}\n            >\n              <Grid container>\n                <SectionTitle icon={<AddNewTagIcon />} separator={false}>\n                  Add New Tag\n                </SectionTitle>\n                <Grid item xs={12} className={classes.formFieldRow}>\n                  <InputBox\n                    value={newKey}\n                    label={\"Tag Key\"}\n                    id={\"newTagKey\"}\n                    name={\"newTagKey\"}\n                    placeholder={\"Enter Tag Key\"}\n                    onChange={(e) => {\n                      setNewKey(e.target.value);\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12} className={classes.formFieldRow}>\n                  <InputBox\n                    value={newLabel}\n                    label={\"Tag Label\"}\n                    id={\"newTagLabel\"}\n                    name={\"newTagLabel\"}\n                    placeholder={\"Enter Tag Label\"}\n                    onChange={(e) => {\n                      setNewLabel(e.target.value);\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12} className={classes.modalButtonBar}>\n                  <Button\n                    id={\"clear\"}\n                    type=\"button\"\n                    variant=\"regular\"\n                    color=\"primary\"\n                    onClick={resetForm}\n                    label={\"Clear\"}\n                  />\n                  <Button\n                    type=\"submit\"\n                    variant=\"callAction\"\n                    disabled={\n                      newLabel.trim() === \"\" ||\n                      newKey.trim() === \"\" ||\n                      isSending\n                    }\n                    onClick={addTagProcess}\n                    id=\"saveTag\"\n                    label={\"Save\"}\n                  />\n                </Grid>\n              </Grid>\n            </SecureComponent>\n          </Grid>\n        )}\n      </ModalWrapper>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(AddTagModal);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport {\n  Button,\n  InspectMenuIcon,\n  PasswordKeyIcon,\n  Switch,\n  Grid,\n  Box,\n} from \"mds\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  decodeURLString,\n  deleteCookie,\n  encodeURLString,\n  getCookieValue,\n  performDownload,\n} from \"../../../../../../common/utils\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { DialogContentText } from \"@mui/material\";\nimport KeyRevealer from \"../../../../Tools/KeyRevealer\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface IInspectObjectProps {\n  classes: any;\n  closeInspectModalAndRefresh: (refresh: boolean) => void;\n  inspectOpen: boolean;\n  inspectPath: string;\n  volumeName: string;\n}\n\nconst InspectObject = ({\n  classes,\n  closeInspectModalAndRefresh,\n  inspectOpen,\n  inspectPath,\n  volumeName,\n}: IInspectObjectProps) => {\n  const dispatch = useAppDispatch();\n  const onClose = () => closeInspectModalAndRefresh(false);\n  const [isEncrypt, setIsEncrypt] = useState<boolean>(true);\n  const [decryptionKey, setDecryptionKey] = useState<string>(\"\");\n  const [insFileName, setInsFileName] = useState<string>(\"\");\n\n  if (!inspectPath) {\n    return null;\n  }\n  const makeRequest = async (url: string) => {\n    return await fetch(url, { method: \"GET\" });\n  };\n\n  const performInspect = async () => {\n    const file = encodeURLString(inspectPath + \"/xl.meta\");\n    const volume = encodeURLString(volumeName);\n\n    const urlOfInspectApi = `/api/v1/admin/inspect?volume=${volume}&file=${file}&encrypt=${isEncrypt}`;\n\n    makeRequest(urlOfInspectApi)\n      .then(async (res) => {\n        if (!res.ok) {\n          const resErr: any = await res.json();\n\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: resErr.message,\n              detailedError: resErr.code,\n            })\n          );\n        }\n        const blob: Blob = await res.blob();\n\n        //@ts-ignore\n        const filename = res.headers.get(\"content-disposition\").split('\"')[1];\n        const decryptKey = getCookieValue(filename) || \"\";\n\n        performDownload(blob, filename);\n        setInsFileName(filename);\n        if (decryptKey === \"\") {\n          onClose();\n          return;\n        }\n        setDecryptionKey(decryptKey);\n      })\n      .catch((err) => {\n        dispatch(setErrorSnackMessage(err));\n      });\n  };\n\n  const onCloseDecKeyModal = () => {\n    deleteCookie(insFileName);\n    onClose();\n    setDecryptionKey(\"\");\n  };\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n  };\n\n  return (\n    <React.Fragment>\n      {!decryptionKey && (\n        <ModalWrapper\n          modalOpen={inspectOpen}\n          titleIcon={<InspectMenuIcon />}\n          title={`Inspect Object`}\n          onClose={onClose}\n        >\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n              onSubmit(e);\n            }}\n          >\n            Would you like to encrypt <b>{decodeURLString(inspectPath)}</b>?{\" \"}\n            <br />\n            <Switch\n              label={\"Encrypt\"}\n              indicatorLabels={[\"Yes\", \"No\"]}\n              checked={isEncrypt}\n              value={\"encrypt\"}\n              id=\"encrypt\"\n              name=\"encrypt\"\n              onChange={(e) => {\n                setIsEncrypt(!isEncrypt);\n              }}\n              description=\"\"\n            />\n            <Grid item xs={12} className={classes.modalButtonBar}>\n              <Button\n                id={\"inspect\"}\n                type=\"submit\"\n                variant=\"callAction\"\n                color=\"primary\"\n                onClick={performInspect}\n                label={\"Inspect\"}\n              />\n            </Grid>\n          </form>\n        </ModalWrapper>\n      )}\n      {decryptionKey ? (\n        <ModalWrapper\n          modalOpen={inspectOpen}\n          title=\"Inspect Decryption Key\"\n          onClose={onCloseDecKeyModal}\n          titleIcon={<PasswordKeyIcon />}\n        >\n          <DialogContentText>\n            <Box>\n              This will be displayed only once. It cannot be recovered.\n              <br />\n              Use secure medium to share this key.\n            </Box>\n            <Box>\n              <KeyRevealer value={decryptionKey} />\n            </Box>\n          </DialogContentText>\n        </ModalWrapper>\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(InspectObject);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { encodeURLString, getClientOS } from \"../../../common/utils\";\nimport { makeid, storeCallForObjectWithID } from \"./transferManager\";\nimport { download } from \"../Buckets/ListBuckets/Objects/utils\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  setLongFileOpen,\n  setNewObject,\n  updateProgress,\n} from \"./objectBrowserSlice\";\nimport { AppDispatch } from \"../../../store\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\nimport { BucketObject } from \"api/consoleApi\";\n\nexport const downloadObject = (\n  dispatch: AppDispatch,\n  bucketName: string,\n  internalPaths: string,\n  object: BucketObject\n) => {\n  const identityDownload = encodeURLString(\n    `${bucketName}-${object.name}-${new Date().getTime()}-${Math.random()}`\n  );\n\n  if (\n    object.name?.length ||\n    (0 > 200 && getClientOS().toLowerCase().includes(\"win\"))\n  ) {\n    dispatch(setLongFileOpen(true));\n    return;\n  }\n\n  const ID = makeid(8);\n\n  const downloadCall = download(\n    bucketName,\n    internalPaths,\n    object.version_id,\n    object.size || 0,\n    null,\n    ID,\n    (progress) => {\n      dispatch(\n        updateProgress({\n          instanceID: identityDownload,\n          progress: progress,\n        })\n      );\n    },\n    () => {\n      dispatch(completeObject(identityDownload));\n    },\n    (msg: string) => {\n      dispatch(failObject({ instanceID: identityDownload, msg }));\n    },\n    () => {\n      dispatch(cancelObjectInList(identityDownload));\n    },\n    () => {\n      dispatch(\n        setSnackBarMessage(\n          \"File download will be handled directly by the browser.\"\n        )\n      );\n    }\n  );\n\n  storeCallForObjectWithID(ID, downloadCall);\n  dispatch(\n    setNewObject({\n      ID,\n      bucketName,\n      done: false,\n      instanceID: identityDownload,\n      percentage: 0,\n      prefix: object.name || \"\",\n      type: \"download\",\n      waitingForFile: true,\n      failed: false,\n      cancelled: false,\n      errorMessage: \"\",\n    })\n  );\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { Button, EditIcon } from \"mds\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport {\n  containerForHeader,\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../Common/FormComponents/common/styleLibrary\";\nimport { useAppDispatch } from \"../../../store\";\nimport ModalWrapper from \"../Common/ModalWrapper/ModalWrapper\";\nimport InputBoxWrapper from \"../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport FormSwitchWrapper from \"../Common/FormComponents/FormSwitchWrapper/FormSwitchWrapper\";\nimport { downloadObject } from \"./utils\";\nimport { BucketObject } from \"api/consoleApi\";\n\ninterface IRenameLongFilename {\n  open: boolean;\n  bucketName: string;\n  internalPaths: string;\n  currentItem: string;\n  actualInfo: BucketObject;\n  closeModal: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...modalStyleUtils,\n    ...formFieldStyles,\n    ...spacingUtils,\n    ...containerForHeader,\n  })\n);\n\nconst RenameLongFileName = ({\n  open,\n  closeModal,\n  currentItem,\n  internalPaths,\n  actualInfo,\n  bucketName,\n}: IRenameLongFilename) => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n\n  const [newFileName, setNewFileName] = useState<string>(currentItem);\n  const [acceptLongName, setAcceptLongName] = useState<boolean>(false);\n\n  const doDownload = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    downloadObject(dispatch, bucketName, internalPaths, actualInfo);\n    closeModal();\n  };\n\n  return (\n    <ModalWrapper\n      title={`Rename Download`}\n      modalOpen={open}\n      onClose={closeModal}\n      titleIcon={<EditIcon />}\n    >\n      <div>\n        The file you are trying to download has a long name.\n        <br />\n        This can cause issues on Windows Systems by trimming the file name after\n        download.\n        <br />\n        <br /> We recommend to rename the file download\n      </div>\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          doDownload(e);\n        }}\n      >\n        <Grid container>\n          <Grid item xs={12} className={classes.modalFormScrollable}>\n            <Grid item xs={12} className={classes.formFieldRow}>\n              <InputBoxWrapper\n                id=\"download-filename\"\n                name=\"download-filename\"\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                  setNewFileName(event.target.value);\n                }}\n                label=\"\"\n                type={\"text\"}\n                value={newFileName}\n                error={\n                  newFileName.length > 200 && !acceptLongName\n                    ? \"Filename should be less than 200 characters long.\"\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.formFieldRow}>\n              <FormSwitchWrapper\n                value=\"acceptLongName\"\n                id=\"acceptLongName\"\n                name=\"acceptLongName\"\n                checked={acceptLongName}\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                  setAcceptLongName(event.target.checked);\n                  if (event.target.checked) {\n                    setNewFileName(currentItem);\n                  }\n                }}\n                label={\"Use Original Name\"}\n              />\n            </Grid>\n          </Grid>\n          <Grid item xs={12} className={classes.modalButtonBar}>\n            <Button\n              id={\"download-file\"}\n              type=\"submit\"\n              variant=\"callAction\"\n              color=\"primary\"\n              disabled={newFileName.length > 200 && !acceptLongName}\n              label={\"Download File\"}\n            />\n          </Grid>\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default RenameLongFileName;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Box } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport {\n  ActionsList,\n  Button,\n  DeleteIcon,\n  DownloadIcon,\n  InspectMenuIcon,\n  LegalHoldIcon,\n  Loader,\n  MetadataIcon,\n  ObjectInfoIcon,\n  PreviewIcon,\n  RetentionIcon,\n  ShareIcon,\n  SimpleHeader,\n  TagsIcon,\n  VersionsIcon,\n} from \"mds\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport get from \"lodash/get\";\nimport Grid from \"@mui/material/Grid\";\nimport {\n  actionsTray,\n  detailsPanel,\n  spacingUtils,\n  textStyleUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { extensionPreview } from \"../utils\";\n\nimport {\n  decodeURLString,\n  niceBytes,\n  niceBytesInt,\n  niceDaysInt,\n} from \"../../../../../../common/utils\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport ShareFile from \"../ObjectDetails/ShareFile\";\nimport SetRetention from \"../ObjectDetails/SetRetention\";\nimport DeleteObject from \"../ListObjects/DeleteObject\";\nimport SetLegalHoldModal from \"../ObjectDetails/SetLegalHoldModal\";\nimport {\n  hasPermission,\n  SecureComponent,\n} from \"../../../../../../common/SecureComponent\";\nimport PreviewFileModal from \"../Preview/PreviewFileModal\";\nimport ObjectMetaData from \"../ObjectDetails/ObjectMetaData\";\nimport { displayFileIconName } from \"./utils\";\nimport TagsModal from \"../ObjectDetails/TagsModal\";\nimport InspectObject from \"./InspectObject\";\nimport { selDistSet } from \"../../../../../../systemSlice\";\nimport {\n  setLoadingObjectInfo,\n  setLoadingVersions,\n  setSelectedVersion,\n  setVersionsModeEnabled,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport RenameLongFileName from \"../../../../ObjectBrowser/RenameLongFilename\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\nimport { BucketObject, BucketVersioningResponse } from \"api/consoleApi\";\nimport { api } from \"api\";\n\nconst styles = () =>\n  createStyles({\n    ObjectDetailsTitle: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& .min-icon\": {\n        width: 26,\n        height: 26,\n        minWidth: 26,\n        minHeight: 26,\n      },\n    },\n    objectNameContainer: {\n      whiteSpace: \"nowrap\",\n      textOverflow: \"ellipsis\",\n      overflow: \"hidden\",\n      alignItems: \"center\",\n      marginLeft: 10,\n    },\n    capitalizeFirst: {\n      textTransform: \"capitalize\",\n    },\n\n    ...actionsTray,\n    ...spacingUtils,\n    ...textStyleUtils,\n    ...detailsPanel,\n  });\n\nconst emptyFile: BucketObject = {\n  is_latest: true,\n  last_modified: \"\",\n  legal_hold_status: \"\",\n  name: \"\",\n  retention_mode: \"\",\n  retention_until_date: \"\",\n  size: 0,\n  tags: {},\n  version_id: undefined,\n};\n\ninterface IObjectDetailPanelProps {\n  classes: any;\n  internalPaths: string;\n  bucketName: string;\n  versioningInfo: BucketVersioningResponse;\n  locking: boolean | undefined;\n  onClosePanel: (hardRefresh: boolean) => void;\n}\n\nconst ObjectDetailPanel = ({\n  classes,\n  internalPaths,\n  bucketName,\n  versioningInfo,\n  locking,\n  onClosePanel,\n}: IObjectDetailPanelProps) => {\n  const dispatch = useAppDispatch();\n\n  const distributedSetup = useSelector(selDistSet);\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode\n  );\n  const selectedVersion = useSelector(\n    (state: AppState) => state.objectBrowser.selectedVersion\n  );\n  const loadingObjectInfo = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjectInfo\n  );\n\n  const [shareFileModalOpen, setShareFileModalOpen] = useState<boolean>(false);\n  const [retentionModalOpen, setRetentionModalOpen] = useState<boolean>(false);\n  const [tagModalOpen, setTagModalOpen] = useState<boolean>(false);\n  const [legalholdOpen, setLegalholdOpen] = useState<boolean>(false);\n  const [inspectModalOpen, setInspectModalOpen] = useState<boolean>(false);\n  const [actualInfo, setActualInfo] = useState<BucketObject | null>(null);\n  const [allInfoElements, setAllInfoElements] = useState<BucketObject[]>([]);\n  const [objectToShare, setObjectToShare] = useState<BucketObject | null>(null);\n  const [versions, setVersions] = useState<BucketObject[]>([]);\n  const [deleteOpen, setDeleteOpen] = useState<boolean>(false);\n  const [previewOpen, setPreviewOpen] = useState<boolean>(false);\n  const [totalVersionsSize, setTotalVersionsSize] = useState<number>(0);\n  const [longFileOpen, setLongFileOpen] = useState<boolean>(false);\n  const [metaData, setMetaData] = useState<any | null>(null);\n  const [loadMetadata, setLoadingMetadata] = useState<boolean>(false);\n\n  const internalPathsDecoded = decodeURLString(internalPaths) || \"\";\n  const allPathData = internalPathsDecoded.split(\"/\");\n  const currentItem = allPathData.pop() || \"\";\n\n  // calculate object name to display\n  let objectNameArray: string[] = [];\n  if (actualInfo && actualInfo.name) {\n    objectNameArray = actualInfo.name.split(\"/\");\n  }\n\n  useEffect(() => {\n    if (distributedSetup && allInfoElements && allInfoElements.length >= 1) {\n      let infoElement =\n        allInfoElements.find((el: BucketObject) => el.is_latest) || emptyFile;\n\n      if (selectedVersion !== \"\") {\n        infoElement =\n          allInfoElements.find(\n            (el: BucketObject) => el.version_id === selectedVersion\n          ) || emptyFile;\n      }\n\n      if (!infoElement.is_delete_marker) {\n        setLoadingMetadata(true);\n      }\n\n      setActualInfo(infoElement);\n    }\n  }, [selectedVersion, distributedSetup, allInfoElements]);\n\n  useEffect(() => {\n    if (loadingObjectInfo && internalPaths !== \"\") {\n      api.buckets\n        .listObjects(bucketName, {\n          prefix: internalPaths,\n          with_versions: distributedSetup,\n        })\n        .then((res) => {\n          const result: BucketObject[] = res.data.objects || [];\n          if (distributedSetup) {\n            setAllInfoElements(result);\n            setVersions(result);\n\n            const tVersionSize = result.reduce(\n              (acc: number, currValue: BucketObject): number => {\n                if (currValue?.size) {\n                  return acc + currValue.size;\n                }\n                return acc;\n              },\n              0\n            );\n\n            setTotalVersionsSize(tVersionSize);\n          } else {\n            const resInfo = result[0];\n\n            setActualInfo(resInfo);\n            setVersions([]);\n\n            if (!resInfo.is_delete_marker) {\n              setLoadingMetadata(true);\n            }\n          }\n\n          dispatch(setLoadingObjectInfo(false));\n        })\n        .catch((err) => {\n          console.error(\"Error loading object details\", err.error);\n          dispatch(setLoadingObjectInfo(false));\n        });\n    }\n  }, [\n    loadingObjectInfo,\n    bucketName,\n    internalPaths,\n    dispatch,\n    distributedSetup,\n    selectedVersion,\n  ]);\n\n  useEffect(() => {\n    if (loadMetadata && internalPaths !== \"\") {\n      api.buckets\n        .getObjectMetadata(bucketName, {\n          prefix: internalPaths,\n        })\n        .then((res) => {\n          let metadata = get(res.data, \"objectMetadata\", {});\n\n          setMetaData(metadata);\n          setLoadingMetadata(false);\n        })\n        .catch((err) => {\n          console.error(\"Error Getting Metadata Status: \", err.detailedError);\n          setLoadingMetadata(false);\n        });\n    }\n  }, [bucketName, internalPaths, loadMetadata]);\n\n  let tagKeys: string[] = [];\n\n  if (actualInfo && actualInfo.tags) {\n    tagKeys = Object.keys(actualInfo.tags);\n  }\n\n  const openRetentionModal = () => {\n    setRetentionModalOpen(true);\n  };\n\n  const closeRetentionModal = (updateInfo: boolean) => {\n    setRetentionModalOpen(false);\n    if (updateInfo) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const shareObject = () => {\n    setShareFileModalOpen(true);\n  };\n\n  const closeShareModal = () => {\n    setObjectToShare(null);\n    setShareFileModalOpen(false);\n  };\n\n  const closeFileOpen = () => {\n    setLongFileOpen(false);\n  };\n\n  const closeDeleteModal = (closeAndReload: boolean) => {\n    setDeleteOpen(false);\n\n    if (closeAndReload && selectedVersion === \"\") {\n      onClosePanel(true);\n    } else {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeAddTagModal = (reloadObjectData: boolean) => {\n    setTagModalOpen(false);\n    if (reloadObjectData) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeInspectModal = (reloadObjectData: boolean) => {\n    setInspectModalOpen(false);\n    if (reloadObjectData) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeLegalholdModal = (reload: boolean) => {\n    setLegalholdOpen(false);\n    if (reload) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const loaderForContainer = (\n    <div style={{ textAlign: \"center\", marginTop: 35 }}>\n      <Loader />\n    </div>\n  );\n\n  if (!actualInfo) {\n    if (loadingObjectInfo) {\n      return loaderForContainer;\n    }\n\n    return null;\n  }\n\n  const objectName =\n    objectNameArray.length > 0\n      ? objectNameArray[objectNameArray.length - 1]\n      : actualInfo.name;\n\n  const objectResources = [\n    bucketName,\n    currentItem,\n    [bucketName, actualInfo.name].join(\"/\"),\n  ];\n  const canSetLegalHold = hasPermission(bucketName, [\n    IAM_SCOPES.S3_PUT_OBJECT_LEGAL_HOLD,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n  const canSetTags = hasPermission(objectResources, [\n    IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const canChangeRetention = hasPermission(\n    objectResources,\n    [\n      IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n      IAM_SCOPES.S3_PUT_OBJECT_RETENTION,\n      IAM_SCOPES.S3_GET_ACTIONS,\n      IAM_SCOPES.S3_PUT_ACTIONS,\n    ],\n    true\n  );\n  const canInspect = hasPermission(objectResources, [\n    IAM_SCOPES.ADMIN_INSPECT_DATA,\n  ]);\n  const canChangeVersioning = hasPermission(objectResources, [\n    IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_GET_OBJECT_VERSION,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n  const canGetObject = hasPermission(objectResources, [\n    IAM_SCOPES.S3_GET_OBJECT,\n    IAM_SCOPES.S3_GET_ACTIONS,\n  ]);\n  const canDelete = hasPermission(\n    [bucketName, currentItem, [bucketName, actualInfo.name].join(\"/\")],\n    [IAM_SCOPES.S3_DELETE_OBJECT]\n  );\n\n  const multiActionButtons = [\n    {\n      action: () => {\n        downloadObject(dispatch, bucketName, internalPaths, actualInfo);\n      },\n      label: \"Download\",\n      disabled: !!actualInfo.is_delete_marker || !canGetObject,\n      icon: <DownloadIcon />,\n      tooltip: canGetObject\n        ? \"Download this Object\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"download this object\"\n          ),\n    },\n    {\n      action: () => {\n        shareObject();\n      },\n      label: \"Share\",\n      disabled: !!actualInfo.is_delete_marker || !canGetObject,\n      icon: <ShareIcon />,\n      tooltip: canGetObject\n        ? \"Share this File\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"share this object\"\n          ),\n    },\n    {\n      action: () => {\n        setPreviewOpen(true);\n      },\n      label: \"Preview\",\n      disabled:\n        !!actualInfo.is_delete_marker ||\n        extensionPreview(currentItem) === \"none\" ||\n        !canGetObject,\n      icon: <PreviewIcon />,\n      tooltip: canGetObject\n        ? \"Preview this File\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"preview this object\"\n          ),\n    },\n    {\n      action: () => {\n        setLegalholdOpen(true);\n      },\n      label: \"Legal Hold\",\n      disabled:\n        !locking ||\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        !canSetLegalHold ||\n        selectedVersion !== \"\",\n      icon: <LegalHoldIcon />,\n      tooltip: canSetLegalHold\n        ? locking\n          ? \"Change Legal Hold rules for this File\"\n          : \"Object Locking must be enabled on this bucket in order to set Legal Hold\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_PUT_OBJECT_LEGAL_HOLD, IAM_SCOPES.S3_PUT_ACTIONS],\n            \"change legal hold settings for this object\"\n          ),\n    },\n    {\n      action: openRetentionModal,\n      label: \"Retention\",\n      disabled:\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        !canChangeRetention ||\n        selectedVersion !== \"\" ||\n        !locking,\n      icon: <RetentionIcon />,\n      tooltip: canChangeRetention\n        ? locking\n          ? \"Change Retention rules for this File\"\n          : \"Object Locking must be enabled on this bucket in order to set Retention Rules\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n              IAM_SCOPES.S3_PUT_OBJECT_RETENTION,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"change Retention Rules for this object\"\n          ),\n    },\n    {\n      action: () => {\n        setTagModalOpen(true);\n      },\n      label: \"Tags\",\n      disabled:\n        !!actualInfo.is_delete_marker || selectedVersion !== \"\" || !canSetTags,\n      icon: <TagsIcon />,\n      tooltip: canSetTags\n        ? \"Change Tags for this File\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n              IAM_SCOPES.S3_GET_OBJECT_TAGGING,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"set Tags on this object\"\n          ),\n    },\n    {\n      action: () => {\n        setInspectModalOpen(true);\n      },\n      label: \"Inspect\",\n      disabled:\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        selectedVersion !== \"\" ||\n        !canInspect,\n      icon: <InspectMenuIcon />,\n      tooltip: canInspect\n        ? \"Inspect this file\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.ADMIN_INSPECT_DATA],\n            \"inspect this file\"\n          ),\n    },\n    {\n      action: () => {\n        dispatch(\n          setVersionsModeEnabled({\n            status: !versionsMode,\n            objectName: objectName,\n          })\n        );\n      },\n      label: versionsMode ? \"Hide Object Versions\" : \"Display Object Versions\",\n      icon: <VersionsIcon />,\n      disabled:\n        !distributedSetup ||\n        !(actualInfo.version_id && actualInfo.version_id !== \"null\") ||\n        !canChangeVersioning,\n      tooltip: canChangeVersioning\n        ? actualInfo.version_id && actualInfo.version_id !== \"null\"\n          ? \"Display Versions for this file\"\n          : \"\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n              IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n              IAM_SCOPES.S3_GET_OBJECT_VERSION,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"display all versions of this object\"\n          ),\n    },\n  ];\n\n  const calculateLastModifyTime = (lastModified: string) => {\n    const currentTime = new Date();\n    const modifiedTime = new Date(lastModified);\n\n    const difTime = currentTime.getTime() - modifiedTime.getTime();\n\n    const formatTime = niceDaysInt(difTime, \"ms\");\n\n    return formatTime.trim() !== \"\" ? `${formatTime} ago` : \"Just now\";\n  };\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && actualInfo && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={objectToShare || actualInfo}\n        />\n      )}\n      {retentionModalOpen && actualInfo && (\n        <SetRetention\n          open={retentionModalOpen}\n          closeModalAndRefresh={closeRetentionModal}\n          objectName={currentItem}\n          objectInfo={actualInfo}\n          bucketName={bucketName}\n        />\n      )}\n      {deleteOpen && (\n        <DeleteObject\n          deleteOpen={deleteOpen}\n          selectedBucket={bucketName}\n          selectedObject={internalPaths}\n          closeDeleteModalAndRefresh={closeDeleteModal}\n          versioningInfo={distributedSetup ? versioningInfo : undefined}\n          selectedVersion={selectedVersion}\n        />\n      )}\n      {legalholdOpen && actualInfo && (\n        <SetLegalHoldModal\n          open={legalholdOpen}\n          closeModalAndRefresh={closeLegalholdModal}\n          objectName={actualInfo.name || \"\"}\n          bucketName={bucketName}\n          actualInfo={actualInfo}\n        />\n      )}\n      {previewOpen && actualInfo && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={{\n            name: actualInfo.name || \"\",\n            version_id: actualInfo.version_id || \"null\",\n            size: actualInfo.size || 0,\n            content_type: \"\",\n            last_modified: actualInfo.last_modified || \"\",\n          }}\n          onClosePreview={() => {\n            setPreviewOpen(false);\n          }}\n        />\n      )}\n      {tagModalOpen && actualInfo && (\n        <TagsModal\n          modalOpen={tagModalOpen}\n          bucketName={bucketName}\n          actualInfo={actualInfo}\n          onCloseAndUpdate={closeAddTagModal}\n        />\n      )}\n      {inspectModalOpen && actualInfo && (\n        <InspectObject\n          inspectOpen={inspectModalOpen}\n          volumeName={bucketName}\n          inspectPath={actualInfo.name || \"\"}\n          closeInspectModalAndRefresh={closeInspectModal}\n        />\n      )}\n      {longFileOpen && actualInfo && (\n        <RenameLongFileName\n          open={longFileOpen}\n          closeModal={closeFileOpen}\n          currentItem={currentItem}\n          bucketName={bucketName}\n          internalPaths={internalPaths}\n          actualInfo={actualInfo}\n        />\n      )}\n\n      {loadingObjectInfo ? (\n        <Fragment>{loaderForContainer}</Fragment>\n      ) : (\n        <Fragment>\n          <ActionsList\n            title={\n              <div className={classes.ObjectDetailsTitle}>\n                {displayFileIconName(objectName || \"\", true)}\n                <span className={classes.objectNameContainer}>\n                  {objectName}\n                </span>\n              </div>\n            }\n            items={multiActionButtons}\n          />\n          <TooltipWrapper\n            tooltip={\n              canDelete\n                ? \"\"\n                : permissionTooltipHelper(\n                    [IAM_SCOPES.S3_DELETE_OBJECT],\n                    \"delete this object\"\n                  )\n            }\n          >\n            <Grid\n              item\n              xs={12}\n              sx={{ justifyContent: \"center\", display: \"flex\" }}\n            >\n              <SecureComponent\n                resource={[\n                  bucketName,\n                  currentItem,\n                  [bucketName, actualInfo.name].join(\"/\"),\n                ]}\n                scopes={[IAM_SCOPES.S3_DELETE_OBJECT]}\n                errorProps={{ disabled: true }}\n              >\n                <Button\n                  id={\"delete-element-click\"}\n                  icon={<DeleteIcon />}\n                  iconLocation={\"start\"}\n                  fullWidth\n                  variant={\"secondary\"}\n                  onClick={() => {\n                    setDeleteOpen(true);\n                  }}\n                  disabled={\n                    selectedVersion === \"\" && actualInfo.is_delete_marker\n                  }\n                  sx={{\n                    width: \"calc(100% - 44px)\",\n                    margin: \"8px 0\",\n                  }}\n                  label={`Delete${selectedVersion !== \"\" ? \" version\" : \"\"}`}\n                />\n              </SecureComponent>\n            </Grid>\n          </TooltipWrapper>\n          <SimpleHeader icon={<ObjectInfoIcon />} label={\"Object Info\"} />\n          <Box className={classes.detailContainer}>\n            <strong>Name:</strong>\n            <br />\n            <div style={{ overflowWrap: \"break-word\" }}>{objectName}</div>\n          </Box>\n          {selectedVersion !== \"\" && (\n            <Box className={classes.detailContainer}>\n              <strong>Version ID:</strong>\n              <br />\n              {selectedVersion}\n            </Box>\n          )}\n          <Box className={classes.detailContainer}>\n            <strong>Size:</strong>\n            <br />\n            {niceBytes(`${actualInfo.size || \"0\"}`)}\n          </Box>\n          {actualInfo.version_id &&\n            actualInfo.version_id !== \"null\" &&\n            selectedVersion === \"\" && (\n              <Box className={classes.detailContainer}>\n                <strong>Versions:</strong>\n                <br />\n                {versions.length} version{versions.length !== 1 ? \"s\" : \"\"},{\" \"}\n                {niceBytesInt(totalVersionsSize)}\n              </Box>\n            )}\n          {selectedVersion === \"\" && (\n            <Box className={classes.detailContainer}>\n              <strong>Last Modified:</strong>\n              <br />\n              {calculateLastModifyTime(actualInfo.last_modified || \"\")}\n            </Box>\n          )}\n          <Box className={classes.detailContainer}>\n            <strong>ETAG:</strong>\n            <br />\n            {actualInfo.etag || \"N/A\"}\n          </Box>\n          <Box className={classes.detailContainer}>\n            <strong>Tags:</strong>\n            <br />\n            {tagKeys.length === 0\n              ? \"N/A\"\n              : tagKeys.map((tagKey, index) => {\n                  return (\n                    <span key={`key-vs-${index.toString()}`}>\n                      {tagKey}:{get(actualInfo, `tags.${tagKey}`, \"\")}\n                      {index < tagKeys.length - 1 ? \", \" : \"\"}\n                    </span>\n                  );\n                })}\n          </Box>\n          <Box className={classes.detailContainer}>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_LEGAL_HOLD,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Fragment>\n                <strong>Legal Hold:</strong>\n                <br />\n                {actualInfo.legal_hold_status ? \"On\" : \"Off\"}\n              </Fragment>\n            </SecureComponent>\n          </Box>\n          <Box className={classes.detailContainer}>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Fragment>\n                <strong>Retention Policy:</strong>\n                <br />\n                <span className={classes.capitalizeFirst}>\n                  {actualInfo.version_id && actualInfo.version_id !== \"null\" ? (\n                    <Fragment>\n                      {actualInfo.retention_mode\n                        ? actualInfo.retention_mode.toLowerCase()\n                        : \"None\"}\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      {actualInfo.retention_mode\n                        ? actualInfo.retention_mode.toLowerCase()\n                        : \"None\"}\n                    </Fragment>\n                  )}\n                </span>\n              </Fragment>\n            </SecureComponent>\n          </Box>\n          {!actualInfo.is_delete_marker && (\n            <Fragment>\n              <SimpleHeader label={\"Metadata\"} icon={<MetadataIcon />} />\n              <Box className={classes.detailContainer}>\n                {actualInfo && metaData ? (\n                  <ObjectMetaData metaData={metaData} linear />\n                ) : null}\n              </Box>\n            </Fragment>\n          )}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(ObjectDetailPanel);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { modalBasic } from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport { Box, RecoverIcon } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { restoreLocalObjectList } from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport { BucketObject } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IRestoreFileVersion {\n  classes: any;\n  restoreOpen: boolean;\n  bucketName: string;\n  versionToRestore: BucketObject;\n  objectPath: string;\n  onCloseAndUpdate: (refresh: boolean) => void;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...modalBasic,\n  });\n\nconst RestoreFileVersion = ({\n  classes,\n  versionToRestore,\n  bucketName,\n  objectPath,\n  restoreOpen,\n  onCloseAndUpdate,\n}: IRestoreFileVersion) => {\n  const dispatch = useAppDispatch();\n  const [restoreLoading, setRestoreLoading] = useState<boolean>(false);\n\n  const restoreVersion = () => {\n    setRestoreLoading(true);\n\n    api.buckets\n      .putObjectRestore(bucketName, {\n        prefix: encodeURLString(objectPath),\n        version_id: versionToRestore.version_id || \"\",\n      })\n      .then(() => {\n        setRestoreLoading(false);\n        onCloseAndUpdate(true);\n        dispatch(\n          restoreLocalObjectList({\n            prefix: objectPath,\n            objectInfo: versionToRestore,\n          })\n        );\n      })\n      .catch((err) => {\n        dispatch(setErrorSnackMessage(errorToHandler(err.error)));\n        setRestoreLoading(false);\n      });\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Restore File Version`}\n      confirmText={\"Restore\"}\n      isOpen={restoreOpen}\n      isLoading={restoreLoading}\n      titleIcon={<RecoverIcon />}\n      onConfirm={restoreVersion}\n      confirmButtonProps={{\n        variant: \"secondary\",\n        disabled: restoreLoading,\n      }}\n      onClose={() => {\n        onCloseAndUpdate(false);\n      }}\n      confirmationContent={\n        <Box id=\"alert-dialog-description\">\n          Are you sure you want to restore <br />\n          <b>{objectPath}</b> <br /> with Version ID:\n          <br />\n          <b className={classes.wrapText}>{versionToRestore.version_id}</b>?\n        </Box>\n      }\n    />\n  );\n};\n\nexport default withStyles(styles)(RestoreFileVersion);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\n\ninterface ISpecificVersionPillProps {\n  type: \"null\" | \"current\" | \"deleted\";\n}\n\nconst SpecificVersionPill = ({ type }: ISpecificVersionPillProps) => {\n  let bgColor = \"#000\";\n  let message = \"\";\n\n  switch (type) {\n    case \"null\":\n      bgColor = \"#07193E\";\n      message = \"NULL VERSION\";\n      break;\n    case \"deleted\":\n      bgColor = \"#868686\";\n      message = \"DELETED\";\n      break;\n    default:\n      bgColor = \"#174551\";\n      message = \"CURRENT VERSION\";\n  }\n\n  return (\n    <span\n      style={{\n        backgroundColor: bgColor,\n        padding: \"0 5px\",\n        display: \"inline-block\",\n        color: \"#FFF\",\n        fontWeight: \"bold\",\n        fontSize: 12,\n        borderRadius: 2,\n        whiteSpace: \"nowrap\",\n        margin: \"0 10px\",\n      }}\n    >\n      {message}\n    </span>\n  );\n};\n\nexport default SpecificVersionPill;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { DateTime } from \"luxon\";\nimport styled from \"styled-components\";\nimport get from \"lodash/get\";\nimport { displayFileIconName } from \"../ListObjects/utils\";\nimport {\n  DownloadIcon,\n  PreviewIcon,\n  RecoverIcon,\n  ShareIcon,\n  IconButton,\n  Tooltip,\n  Grid,\n} from \"mds\";\nimport { niceBytes } from \"../../../../../../common/utils\";\nimport SpecificVersionPill from \"./SpecificVersionPill\";\nimport CheckboxWrapper from \"../../../../Common/FormComponents/CheckboxWrapper/CheckboxWrapper\";\nimport { BucketObject } from \"api/consoleApi\";\n\ninterface IFileVersionItem {\n  fileName: string;\n  versionInfo: BucketObject;\n  index: number;\n  isSelected?: boolean;\n  checkable: boolean;\n  isChecked: boolean;\n  onCheck: (versionID: string) => void;\n  onShare: (versionInfo: BucketObject) => void;\n  onDownload: (versionInfo: BucketObject) => void;\n  onRestore: (versionInfo: BucketObject) => void;\n  onPreview: (versionInfo: BucketObject) => void;\n  globalClick: (versionInfo: BucketObject) => void;\n  key: any;\n  style: any;\n}\n\nconst FileVersionStyled = styled.div(({ theme }) => {\n  return {\n    \"&:before\": {\n      content: \"' '\",\n      display: \"block\",\n      position: \"absolute\",\n      width: \"2px\",\n      height: \"calc(100% + 2px)\",\n      backgroundColor: get(theme, \"borderColor\", \"#F8F8F8\"),\n      left: \"24px\",\n    },\n    \"& .mainFileVersionItem\": {\n      borderBottom: `${get(theme, \"borderColor\", \"#F8F8F8\")} 1px solid`,\n      padding: \"1rem 0\",\n      margin: \"0 0.5rem 0 2.5rem\",\n      cursor: \"pointer\",\n      \"&.deleted\": {\n        color: \"#868686\",\n      },\n    },\n    \"& .intermediateLayer\": {\n      margin: \"0 1.5rem 0 1.5rem\",\n      \"&:hover, &.selected\": {\n        backgroundColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n        \"& > div\": {\n          borderBottomColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n        },\n      },\n    },\n    \"& .versionContainer\": {\n      fontSize: 16,\n      fontWeight: \"bold\",\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& svg.min-icon\": {\n        width: 18,\n        height: 18,\n        minWidth: 18,\n        minHeight: 18,\n        marginRight: 10,\n      },\n    },\n    \"& .buttonContainer\": {\n      textAlign: \"right\",\n      \"& button\": {\n        marginLeft: \"1.5rem\",\n      },\n    },\n    \"& .versionID\": {\n      fontSize: \"12px\",\n      margin: \"2px 0\",\n      whiteSpace: \"nowrap\",\n      textOverflow: \"ellipsis\",\n      maxWidth: \"95%\",\n      overflow: \"hidden\",\n    },\n    \"& .versionData\": {\n      marginRight: \"10px\",\n      fontSize: 12,\n      color: \"#868686\",\n    },\n    \"@media (max-width: 600px)\": {\n      \"& .buttonContainer\": {\n        \"& button\": {\n          marginLeft: \"5px\",\n        },\n      },\n    },\n    \"@media (max-width: 799px)\": {\n      \"&:before\": {\n        display: \"none\",\n      },\n      \"& .mainFileVersionItem\": {\n        padding: \"5px 0px\",\n        margin: 0,\n      },\n      \"& .intermediateLayer\": {\n        margin: 0,\n        \"&:hover, &.selected\": {\n          backgroundColor: \"transparent\",\n          \"& > div\": {\n            borderBottomColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n          },\n        },\n      },\n      \"& .versionContainer\": {\n        fontSize: 14,\n        \"& svg.min-icon\": {\n          display: \"none\",\n        },\n      },\n      \"& .versionData\": {\n        textOverflow: \"ellipsis\",\n        maxWidth: \"95%\",\n        overflow: \"hidden\",\n        whiteSpace: \"nowrap\",\n      },\n      \"& .collapsableInfo\": {\n        display: \"flex\",\n        flexDirection: \"column\",\n      },\n      \"& .versionItem\": {\n        display: \"none\",\n      },\n    },\n  };\n});\n\nconst FileVersionItem = ({\n  fileName,\n  versionInfo,\n  isSelected,\n  checkable,\n  isChecked,\n  onCheck,\n  onShare,\n  onDownload,\n  onRestore,\n  onPreview,\n  globalClick,\n  index,\n  key,\n  style,\n}: IFileVersionItem) => {\n  const disableButtons = versionInfo.is_delete_marker;\n\n  const versionItemButtons = [\n    {\n      icon: <PreviewIcon />,\n      action: onPreview,\n      tooltip: \"Preview\",\n    },\n    {\n      icon: <DownloadIcon />,\n      action: onDownload,\n      tooltip: \"Download this version\",\n    },\n    {\n      icon: <ShareIcon />,\n      action: onShare,\n      tooltip: \"Share this version\",\n    },\n    {\n      icon: <RecoverIcon />,\n      action: onRestore,\n      tooltip: \"Restore this version\",\n    },\n  ];\n\n  let pill: \"deleted\" | \"current\" | \"null\" | null = null;\n\n  if (versionInfo.is_delete_marker) {\n    pill = \"deleted\";\n  } else if (versionInfo.is_latest) {\n    pill = \"current\";\n  } else if (versionInfo.version_id === \"null\") {\n    pill = \"null\";\n  }\n\n  let lastModified = DateTime.now();\n\n  if (versionInfo.last_modified) {\n    lastModified = DateTime.fromISO(versionInfo.last_modified);\n  }\n\n  return (\n    <FileVersionStyled>\n      <Grid\n        container\n        className={\"ctrItem\"}\n        onClick={() => {\n          globalClick(versionInfo);\n        }}\n        key={key}\n        style={style}\n      >\n        <Grid\n          item\n          xs={12}\n          className={`${\"intermediateLayer\"} ${isSelected ? \"selected\" : \"\"}`}\n        >\n          <Grid\n            item\n            xs\n            className={`mainFileVersionItem ${\n              versionInfo.is_delete_marker ? \"deleted\" : \"\"\n            }`}\n          >\n            <Grid item xs={12}>\n              <Grid container>\n                <Grid item xs md={4} className={\"versionContainer\"}>\n                  {checkable && (\n                    <CheckboxWrapper\n                      checked={isChecked}\n                      id={`select-${versionInfo.version_id}`}\n                      label={\"\"}\n                      name={`select-${versionInfo.version_id}`}\n                      onChange={(e) => {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        onCheck(versionInfo.version_id || \"\");\n                      }}\n                      value={versionInfo.version_id || \"\"}\n                      disabled={versionInfo.is_delete_marker}\n                      overrideCheckboxStyles={{\n                        paddingLeft: 0,\n                        height: 34,\n                        width: 25,\n                      }}\n                      noTopMargin\n                    />\n                  )}\n                  {displayFileIconName(fileName, true)} v{index.toString()}\n                  <span className={\"versionItem\"}>\n                    {pill && <SpecificVersionPill type={pill} />}\n                  </span>\n                </Grid>\n                <Grid item xs={10} md={8} className={\"buttonContainer\"}>\n                  {versionItemButtons.map((button, index) => {\n                    return (\n                      <Tooltip\n                        tooltip={button.tooltip}\n                        key={`version-action-${\n                          button.tooltip\n                        }-${index.toString()}`}\n                      >\n                        <IconButton\n                          size={\"small\"}\n                          id={`version-action-${\n                            button.tooltip\n                          }-${index.toString()}`}\n                          className={`${\"spacing\"} ${\n                            disableButtons ? \"buttonDisabled\" : \"\"\n                          }`}\n                          disabled={disableButtons}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            if (!disableButtons) {\n                              button.action(versionInfo);\n                            } else {\n                              e.preventDefault();\n                            }\n                          }}\n                          sx={{\n                            backgroundColor: \"#F8F8F8\",\n                            borderRadius: \"100%\",\n                            width: \"28px\",\n                            height: \"28px\",\n                            padding: \"5px\",\n                            \"& .min-icon\": {\n                              width: \"14px\",\n                              height: \"14px\",\n                            },\n                          }}\n                        >\n                          {button.icon}\n                        </IconButton>\n                      </Tooltip>\n                    );\n                  })}\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} className={\"versionID\"}>\n              {versionInfo.version_id !== \"null\" ? versionInfo.version_id : \"-\"}\n            </Grid>\n            <Grid item xs={12} className={\"collapsableInfo\"}>\n              <span className={\"versionData\"}>\n                <strong>Last modified:</strong>{\" \"}\n                {lastModified.toFormat(\"ccc, LLL dd yyyy HH:mm:ss (ZZZZ)\")}\n              </span>\n              <span className={\"versionData\"}>\n                <strong>Size:</strong> {niceBytes(`${versionInfo.size || \"0\"}`)}\n              </span>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </FileVersionStyled>\n  );\n};\n\nexport default FileVersionItem;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\n\nimport { decodeURLString } from \"../../../../../../common/utils\";\nimport { ConfirmDeleteIcon, Switch, Grid, InputBox } from \"mds\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IDeleteNonCurrentProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedObject: string;\n  selectedBucket: string;\n}\n\nconst DeleteNonCurrentVersions = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedObject,\n}: IDeleteNonCurrentProps) => {\n  const dispatch = useAppDispatch();\n  const [deleteLoading, setDeleteLoading] = useState<boolean>(false);\n  const [typeConfirm, setTypeConfirm] = useState<string>(\"\");\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION]\n    ) && retentionConfig?.mode === \"governance\";\n\n  useEffect(() => {\n    if (deleteLoading) {\n      api.buckets\n        .deleteObject(selectedBucket, {\n          path: selectedObject,\n          non_current_versions: true,\n          bypass: bypassGovernance,\n        })\n        .then(() => {\n          closeDeleteModalAndRefresh(true);\n        })\n        .catch((err) => {\n          dispatch(setErrorSnackMessage(errorToHandler(err.error)));\n          setDeleteLoading(false);\n        });\n    }\n  }, [\n    deleteLoading,\n    closeDeleteModalAndRefresh,\n    dispatch,\n    selectedObject,\n    selectedBucket,\n    bypassGovernance,\n  ]);\n\n  if (!selectedObject) {\n    return null;\n  }\n  const onConfirmDelete = () => {\n    setDeleteLoading(true);\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Delete Non-Current versions`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={() => closeDeleteModalAndRefresh(false)}\n      confirmButtonProps={{\n        disabled: typeConfirm !== \"YES, PROCEED\" || deleteLoading,\n      }}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete all the non-current versions for:{\" \"}\n          <b>{decodeURLString(selectedObject)}</b>? <br />\n          {canBypass && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n          <br />\n          To continue please type <b>YES, PROCEED</b> in the box.\n          <br />\n          <br />\n          <Grid item xs={12}>\n            <InputBox\n              id=\"type-confirm\"\n              name=\"retype-tenant\"\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                setTypeConfirm(event.target.value);\n              }}\n              label=\"\"\n              value={typeConfirm}\n            />\n          </Grid>\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteNonCurrentVersions;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport { ConfirmDeleteIcon, Switch } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IDeleteSelectedVersionsProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedVersions: string[];\n  selectedObject: string;\n  selectedBucket: string;\n}\n\nconst DeleteObject = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedVersions,\n  selectedObject,\n}: IDeleteSelectedVersionsProps) => {\n  const dispatch = useAppDispatch();\n  const [deleteLoading, setDeleteLoading] = useState<boolean>(false);\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION]\n    ) && retentionConfig?.mode === \"governance\";\n\n  const onClose = () => closeDeleteModalAndRefresh(false);\n  const onConfirmDelete = () => {\n    setDeleteLoading(true);\n  };\n\n  useEffect(() => {\n    if (deleteLoading) {\n      const selectedObjectsRequest = selectedVersions.map((versionID) => {\n        return {\n          path: selectedObject,\n          versionID: versionID,\n          recursive: false,\n        };\n      });\n\n      if (selectedObjectsRequest.length > 0) {\n        api.buckets\n          .deleteMultipleObjects(selectedBucket, selectedObjectsRequest, {\n            all_versions: false,\n            bypass: bypassGovernance,\n          })\n          .then(() => {\n            setDeleteLoading(false);\n            closeDeleteModalAndRefresh(true);\n          })\n          .catch((err) => {\n            dispatch(setErrorSnackMessage(errorToHandler(err.error)));\n            setDeleteLoading(false);\n          });\n      }\n    }\n  }, [\n    deleteLoading,\n    closeDeleteModalAndRefresh,\n    selectedBucket,\n    selectedObject,\n    selectedVersions,\n    bypassGovernance,\n    dispatch,\n  ]);\n\n  if (!selectedVersions) {\n    return null;\n  }\n\n  return (\n    <ConfirmDialog\n      title={`Delete Selected Versions`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={onClose}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete the selected {selectedVersions.length}{\" \"}\n          versions for <strong>{selectedObject}</strong>?\n          {canBypass && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteObject;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport get from \"lodash/get\";\nimport { useSelector } from \"react-redux\";\nimport { withStyles } from \"@mui/styles\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { LinearProgress } from \"@mui/material\";\nimport Grid from \"@mui/material/Grid\";\nimport ShareFile from \"./ShareFile\";\nimport {\n  actionsTray,\n  containerForHeader,\n  objectBrowserCommon,\n  objectBrowserExtras,\n  spacingUtils,\n  tableStyles,\n  textStyleUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\nimport { decodeURLString, niceBytesInt } from \"../../../../../../common/utils\";\nimport RestoreFileVersion from \"./RestoreFileVersion\";\n\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport {\n  Button,\n  DeleteIcon,\n  DeleteNonCurrentIcon,\n  Select,\n  SelectMultipleIcon,\n  VersionsIcon,\n  ScreenTitle,\n} from \"mds\";\nimport FileVersionItem from \"./FileVersionItem\";\nimport PreviewFileModal from \"../Preview/PreviewFileModal\";\nimport DeleteNonCurrent from \"../ListObjects/DeleteNonCurrent\";\nimport BrowserBreadcrumbs from \"../../../../ObjectBrowser/BrowserBreadcrumbs\";\nimport DeleteSelectedVersions from \"./DeleteSelectedVersions\";\nimport {\n  selDistSet,\n  setErrorSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport {\n  setLoadingObjectInfo,\n  setLoadingVersions,\n  setSelectedVersion,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport { List, ListRowProps } from \"react-virtualized\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\nimport { BucketObject } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    versionsContainer: {\n      padding: 10,\n      \"@media (max-width: 799px)\": {\n        minHeight: 800,\n      },\n    },\n    noBottomBorder: {\n      borderBottom: 0,\n    },\n    versionsVirtualPanel: {\n      flexGrow: 1,\n      height: \"calc(100% - 120px)\",\n      overflow: \"auto\",\n      \"@media (max-width: 799px)\": {\n        height: 600,\n      },\n    },\n    screenTitleContainer: {\n      position: \"relative\",\n      \"@media (max-width: 799px)\": {\n        \"&::before\": {\n          display: \"none\",\n        },\n      },\n    },\n    sortByLabel: {\n      color: \"#838383\",\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      marginRight: 12,\n      fontSize: 14,\n      \"@media (max-width: 600px)\": {\n        display: \"none\",\n      },\n    },\n    ...actionsTray,\n    ...tableStyles,\n    ...spacingUtils,\n    ...textStyleUtils,\n    ...objectBrowserCommon,\n    ...objectBrowserExtras,\n    ...containerForHeader,\n  });\n\ninterface IVersionsNavigatorProps {\n  classes: any;\n  internalPaths: string;\n  bucketName: string;\n}\n\nconst emptyFile: BucketObject = {\n  is_latest: true,\n  last_modified: \"\",\n  legal_hold_status: \"\",\n  name: \"\",\n  retention_mode: \"\",\n  retention_until_date: \"\",\n  size: 0,\n  tags: {},\n  version_id: undefined,\n};\n\nconst VersionsNavigator = ({\n  classes,\n  internalPaths,\n  bucketName,\n}: IVersionsNavigatorProps) => {\n  const dispatch = useAppDispatch();\n\n  const searchVersions = useSelector(\n    (state: AppState) => state.objectBrowser.searchVersions\n  );\n  const loadingVersions = useSelector(\n    (state: AppState) => state.objectBrowser.loadingVersions\n  );\n  const selectedVersion = useSelector(\n    (state: AppState) => state.objectBrowser.selectedVersion\n  );\n\n  const distributedSetup = useSelector(selDistSet);\n  const [shareFileModalOpen, setShareFileModalOpen] = useState<boolean>(false);\n  const [actualInfo, setActualInfo] = useState<BucketObject | null>(null);\n  const [objectToShare, setObjectToShare] = useState<BucketObject | null>(null);\n  const [versions, setVersions] = useState<BucketObject[]>([]);\n  const [restoreVersionOpen, setRestoreVersionOpen] = useState<boolean>(false);\n  const [restoreVersion, setRestoreVersion] = useState<BucketObject | null>(\n    null\n  );\n  const [sortValue, setSortValue] = useState<string>(\"date\");\n  const [previewOpen, setPreviewOpen] = useState<boolean>(false);\n  const [deleteNonCurrentOpen, setDeleteNonCurrentOpen] =\n    useState<boolean>(false);\n  const [selectEnabled, setSelectEnabled] = useState<boolean>(false);\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n  const [delSelectedVOpen, setDelSelectedVOpen] = useState<boolean>(false);\n\n  // calculate object name to display\n  let objectNameArray: string[] = [];\n  if (actualInfo && actualInfo.name) {\n    objectNameArray = actualInfo.name.split(\"/\");\n  }\n\n  useEffect(() => {\n    if (!loadingVersions && !actualInfo) {\n      dispatch(setLoadingVersions(true));\n    }\n  }, [loadingVersions, actualInfo, dispatch]);\n\n  useEffect(() => {\n    if (loadingVersions && internalPaths !== \"\") {\n      api.buckets\n        .listObjects(bucketName, {\n          prefix: internalPaths,\n          with_versions: distributedSetup,\n        })\n        .then((res) => {\n          const result = get(res.data, \"objects\", []);\n\n          const decodedInternalPaths = decodeURLString(internalPaths);\n\n          // Filter the results prefixes as API can return more files than expected.\n          const filteredPrefixes = result.filter(\n            (item: BucketObject) => item.name === decodedInternalPaths\n          );\n\n          if (distributedSetup) {\n            setActualInfo(\n              filteredPrefixes.find((el: BucketObject) => el.is_latest) ||\n                emptyFile\n            );\n            setVersions(filteredPrefixes);\n          } else {\n            setActualInfo(filteredPrefixes[0]);\n            setVersions([]);\n          }\n\n          dispatch(setLoadingVersions(false));\n        })\n        .catch((err) => {\n          dispatch(setErrorSnackMessage(errorToHandler(err.error)));\n          dispatch(setLoadingVersions(false));\n        });\n    }\n  }, [loadingVersions, bucketName, internalPaths, dispatch, distributedSetup]);\n\n  const shareObject = () => {\n    setShareFileModalOpen(true);\n  };\n\n  const closeShareModal = () => {\n    setObjectToShare(null);\n    setShareFileModalOpen(false);\n    setPreviewOpen(false);\n  };\n\n  const onShareItem = (item: BucketObject) => {\n    setObjectToShare(item);\n    shareObject();\n  };\n\n  const onPreviewItem = (item: BucketObject) => {\n    setObjectToShare(item);\n    setPreviewOpen(true);\n  };\n\n  const onRestoreItem = (item: BucketObject) => {\n    setRestoreVersion(item);\n    setRestoreVersionOpen(true);\n  };\n\n  const onDownloadItem = (item: BucketObject) => {\n    downloadObject(dispatch, bucketName, internalPaths, item);\n  };\n\n  const onGlobalClick = (item: BucketObject) => {\n    dispatch(setSelectedVersion(item.version_id || \"\"));\n  };\n\n  const filteredRecords = versions.filter((version) => {\n    if (version.version_id) {\n      return version.version_id.includes(searchVersions);\n    }\n    return false;\n  });\n\n  const closeRestoreModal = (reloadObjectData: boolean) => {\n    setRestoreVersionOpen(false);\n    setRestoreVersion(null);\n\n    if (reloadObjectData) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeDeleteNonCurrent = (reloadAfterDelete: boolean) => {\n    setDeleteNonCurrentOpen(false);\n\n    if (reloadAfterDelete) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeSelectedVersions = (reloadOnComplete: boolean) => {\n    setDelSelectedVOpen(false);\n\n    if (reloadOnComplete) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n      setSelectedItems([]);\n    }\n  };\n\n  const totalSpace = versions.reduce((acc: number, currValue: BucketObject) => {\n    if (currValue.size) {\n      return acc + currValue.size;\n    }\n    return acc;\n  }, 0);\n\n  filteredRecords.sort((a, b) => {\n    switch (sortValue) {\n      case \"size\":\n        if (a.size && b.size) {\n          if (a.size < b.size) {\n            return -1;\n          }\n          if (a.size > b.size) {\n            return 1;\n          }\n          return 0;\n        }\n        return 0;\n      default:\n        const dateA = new Date(a.last_modified || \"\").getTime();\n        const dateB = new Date(b.last_modified || \"\").getTime();\n\n        if (dateA < dateB) {\n          return 1;\n        }\n        if (dateA > dateB) {\n          return -1;\n        }\n        return 0;\n    }\n  });\n\n  const onCheckVersion = (selectedVersion: string) => {\n    if (selectedItems.includes(selectedVersion)) {\n      const filteredItems = selectedItems.filter(\n        (element) => element !== selectedVersion\n      );\n\n      setSelectedItems(filteredItems);\n\n      return;\n    }\n\n    const cloneState = [...selectedItems];\n    cloneState.push(selectedVersion);\n\n    setSelectedItems(cloneState);\n  };\n\n  const rowRenderer = ({\n    key, // Unique key within array of rows\n    index, // Index of row within collection\n    isScrolling, // The List is currently being scrolled\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\n    style, // Style object to be applied to row (to position it)\n  }: ListRowProps) => {\n    const versOrd = versions.length - index;\n    return (\n      <FileVersionItem\n        style={style}\n        key={key}\n        fileName={actualInfo?.name || \"\"}\n        versionInfo={filteredRecords[index]}\n        index={versOrd}\n        onDownload={onDownloadItem}\n        onRestore={onRestoreItem}\n        onShare={onShareItem}\n        onPreview={onPreviewItem}\n        globalClick={onGlobalClick}\n        isSelected={selectedVersion === filteredRecords[index].version_id}\n        checkable={selectEnabled}\n        onCheck={onCheckVersion}\n        isChecked={selectedItems.includes(\n          filteredRecords[index].version_id || \"\"\n        )}\n      />\n    );\n  };\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && actualInfo && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={objectToShare || actualInfo}\n        />\n      )}\n      {restoreVersionOpen && actualInfo && restoreVersion && (\n        <RestoreFileVersion\n          restoreOpen={restoreVersionOpen}\n          bucketName={bucketName}\n          versionToRestore={restoreVersion}\n          objectPath={actualInfo.name || \"\"}\n          onCloseAndUpdate={closeRestoreModal}\n        />\n      )}\n      {previewOpen && actualInfo && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={{\n            name: actualInfo.name || \"\",\n            version_id:\n              objectToShare && objectToShare.version_id\n                ? objectToShare.version_id\n                : \"null\",\n            size: objectToShare && objectToShare.size ? objectToShare.size : 0,\n            content_type: \"\",\n            last_modified: actualInfo.last_modified || \"\",\n          }}\n          onClosePreview={() => {\n            setPreviewOpen(false);\n          }}\n        />\n      )}\n      {deleteNonCurrentOpen && (\n        <DeleteNonCurrent\n          deleteOpen={deleteNonCurrentOpen}\n          closeDeleteModalAndRefresh={closeDeleteNonCurrent}\n          selectedBucket={bucketName}\n          selectedObject={internalPaths}\n        />\n      )}\n      {delSelectedVOpen && (\n        <DeleteSelectedVersions\n          selectedBucket={bucketName}\n          selectedObject={decodeURLString(internalPaths)}\n          deleteOpen={delSelectedVOpen}\n          selectedVersions={selectedItems}\n          closeDeleteModalAndRefresh={closeSelectedVersions}\n        />\n      )}\n      <Grid container className={classes.versionsContainer}>\n        {!actualInfo && (\n          <Grid item xs={12}>\n            <LinearProgress />\n          </Grid>\n        )}\n\n        {actualInfo && (\n          <Fragment>\n            <Grid item xs={12}>\n              <BrowserBreadcrumbs\n                bucketName={bucketName}\n                internalPaths={decodeURLString(internalPaths)}\n                hidePathButton={true}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.screenTitleContainer}>\n              <ScreenTitle\n                icon={\n                  <span className={classes.listIcon}>\n                    <VersionsIcon />\n                  </span>\n                }\n                title={`${\n                  objectNameArray.length > 0\n                    ? objectNameArray[objectNameArray.length - 1]\n                    : actualInfo.name\n                } Versions`}\n                subTitle={\n                  <Fragment>\n                    <span className={classes.detailsSpacer}>\n                      <strong>\n                        {versions.length} Version\n                        {versions.length === 1 ? \"\" : \"s\"}&nbsp;&nbsp;&nbsp;\n                      </strong>\n                    </span>\n                    <span className={classes.detailsSpacer}>\n                      <strong>{niceBytesInt(totalSpace)}</strong>\n                    </span>\n                  </Fragment>\n                }\n                actions={\n                  <Fragment>\n                    <TooltipWrapper tooltip={\"Select Multiple Versions\"}>\n                      <Button\n                        id={\"select-multiple-versions\"}\n                        onClick={() => {\n                          setSelectEnabled(!selectEnabled);\n                        }}\n                        icon={<SelectMultipleIcon />}\n                        variant={selectEnabled ? \"callAction\" : \"regular\"}\n                        style={{ marginRight: 8 }}\n                      />\n                    </TooltipWrapper>\n                    {selectEnabled && (\n                      <TooltipWrapper tooltip={\"Delete Selected Versions\"}>\n                        <Button\n                          id={\"delete-multiple-versions\"}\n                          onClick={() => {\n                            setDelSelectedVOpen(true);\n                          }}\n                          icon={<DeleteIcon />}\n                          variant={\"secondary\"}\n                          style={{ marginRight: 8 }}\n                          disabled={selectedItems.length === 0}\n                        />\n                      </TooltipWrapper>\n                    )}\n                    <TooltipWrapper tooltip={\"Delete Non Current Versions\"}>\n                      <Button\n                        id={\"delete-non-current\"}\n                        onClick={() => {\n                          setDeleteNonCurrentOpen(true);\n                        }}\n                        icon={<DeleteNonCurrentIcon />}\n                        variant={\"secondary\"}\n                        style={{ marginRight: 15 }}\n                        disabled={versions.length <= 1}\n                      />\n                    </TooltipWrapper>\n                    <Select\n                      id={\"sort-by\"}\n                      options={[\n                        { label: \"Date\", value: \"date\" },\n                        {\n                          label: \"Size\",\n                          value: \"size\",\n                        },\n                      ]}\n                      value={sortValue}\n                      label={\"Sort by\"}\n                      onChange={(newValue) => {\n                        setSortValue(newValue);\n                      }}\n                      noLabelMinWidth\n                    />\n                  </Fragment>\n                }\n                bottomBorder={false}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.versionsVirtualPanel}>\n              {actualInfo.version_id && actualInfo.version_id !== \"null\" && (\n                // @ts-ignore\n                <List\n                  style={{\n                    width: \"100%\",\n                  }}\n                  containerStyle={{\n                    width: \"100%\",\n                    maxWidth: \"100%\",\n                  }}\n                  width={1}\n                  height={800}\n                  rowCount={filteredRecords.length}\n                  rowHeight={108}\n                  rowRenderer={rowRenderer}\n                />\n              )}\n            </Grid>\n          </Fragment>\n        )}\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(VersionsNavigator);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { DateTime } from \"luxon\";\nimport { BucketObjectItem } from \"./types\";\nimport { niceBytes } from \"../../../../../../common/utils\";\nimport { displayFileIconName } from \"./utils\";\n\n// Functions\n\nexport const displayParsedDate = (object: BucketObjectItem) => {\n  if (object.name.endsWith(\"/\")) {\n    return \"\";\n  }\n\n  const currTime = DateTime.now();\n  const objectTime = DateTime.fromISO(object.last_modified);\n\n  const isToday =\n    currTime.hasSame(objectTime, \"day\") &&\n    currTime.hasSame(objectTime, \"month\") &&\n    currTime.hasSame(objectTime, \"year\");\n\n  if (isToday) {\n    return `Today, ${objectTime.toFormat(\"HH:mm\")}`;\n  }\n\n  return objectTime.toFormat(\"ccc, LLL dd yyyy HH:mm (ZZZZ)\");\n};\n\nexport const displayNiceBytes = (object: BucketObjectItem) => {\n  if (object.name.endsWith(\"/\") || !object.size) {\n    return \"-\";\n  }\n  return niceBytes(String(object.size));\n};\n\nexport const displayDeleteFlag = (state: boolean) => {\n  return state ? \"Yes\" : \"No\";\n};\n\n// Table Props\n\nexport const listModeColumns = [\n  {\n    label: \"Name\",\n    elementKey: \"name\",\n    renderFunction: displayFileIconName,\n    enableSort: true,\n  },\n  {\n    label: \"Last Modified\",\n    elementKey: \"last_modified\",\n    renderFunction: displayParsedDate,\n    renderFullObject: true,\n    enableSort: true,\n  },\n  {\n    label: \"Size\",\n    elementKey: \"size\",\n    renderFunction: displayNiceBytes,\n    renderFullObject: true,\n    width: 100,\n    enableSort: true,\n  },\n];\n\nexport const rewindModeColumns = [\n  {\n    label: \"Name\",\n    elementKey: \"name\",\n    renderFunction: displayFileIconName,\n    enableSort: true,\n  },\n  {\n    label: \"Object Date\",\n    elementKey: \"last_modified\",\n    renderFunction: displayParsedDate,\n    renderFullObject: true,\n    enableSort: true,\n  },\n  {\n    label: \"Size\",\n    elementKey: \"size\",\n    renderFunction: displayNiceBytes,\n    renderFullObject: true,\n    width: 100,\n    enableSort: true,\n  },\n  {\n    label: \"Deleted\",\n    elementKey: \"delete_flag\",\n    renderFunction: displayDeleteFlag,\n    width: 60,\n  },\n];\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { listModeColumns, rewindModeColumns } from \"./ListObjectsHelpers\";\nimport { ItemActions } from \"../../../../Common/TableWrapper/TableWrapper\";\nimport React, { useState } from \"react\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { useSelector } from \"react-redux\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { selFeatures } from \"../../../../consoleSlice\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport {\n  setIsOpeningOD,\n  setLoadingObjects,\n  setLoadingVersions,\n  setObjectDetailsView,\n  setSelectedObjects,\n  setSelectedObjectView,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport get from \"lodash/get\";\nimport { sortListObjects } from \"../utils\";\nimport { BucketObjectItem } from \"./types\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\nimport { DataTable } from \"mds\";\nimport { BucketObject } from \"api/consoleApi\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    browsePaper: {\n      border: 0,\n      \"@media (max-width: 800px)\": {\n        width: 800,\n      },\n    },\n    parentWrapper: {\n      position: \"relative\",\n      height: \"calc(100% - 60px)\",\n      \"@media (max-width: 800px)\": {\n        overflowX: \"auto\",\n      },\n      \"@media (max-width: 1060px)\": {\n        height: \"calc(100% - 115px)\",\n      },\n    },\n    \"@global\": {\n      \".rowLine:hover  .iconFileElm\": {\n        backgroundImage: \"url(/images/ob_file_filled.svg)\",\n      },\n      \".rowLine:hover  .iconFolderElm\": {\n        backgroundImage: \"url(/images/ob_folder_filled.svg)\",\n      },\n    },\n  })\n);\n\ninterface IListObjectTable {\n  internalPaths: string | null;\n}\n\nconst ListObjectsTable = ({ internalPaths }: IListObjectTable) => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const navigate = useNavigate();\n\n  const [sortDirection, setSortDirection] = useState<\n    \"ASC\" | \"DESC\" | undefined\n  >(\"ASC\");\n  const [currentSortField, setCurrentSortField] = useState<string>(\"name\");\n\n  const bucketName = params.bucketName || \"\";\n\n  const detailsOpen = useSelector(\n    (state: AppState) => state.objectBrowser.objectDetailsOpen\n  );\n\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects\n  );\n\n  const features = useSelector(selFeatures);\n  const obOnly = !!features?.includes(\"object-browser-only\");\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled\n  );\n  const records = useSelector((state: AppState) => state.objectBrowser.records);\n  const searchObjects = useSelector(\n    (state: AppState) => state.objectBrowser.searchObjects\n  );\n  const selectedObjects = useSelector(\n    (state: AppState) => state.objectBrowser.selectedObjects\n  );\n  const connectionError = useSelector(\n    (state: AppState) => state.objectBrowser.connectionError\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n\n  const displayListObjects = hasPermission(bucketName, [\n    IAM_SCOPES.S3_LIST_BUCKET,\n    IAM_SCOPES.S3_ALL_LIST_BUCKET,\n  ]);\n\n  const filteredRecords = records.filter((b: BucketObjectItem) => {\n    if (searchObjects === \"\") {\n      return true;\n    } else {\n      const objectName = b.name.toLowerCase();\n      if (objectName.indexOf(searchObjects.toLowerCase()) >= 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  });\n\n  const plSelect = filteredRecords;\n  const sortASC = plSelect.sort(sortListObjects(currentSortField));\n\n  let payload: BucketObjectItem[] = [];\n\n  if (sortDirection === \"ASC\") {\n    payload = sortASC;\n  } else {\n    payload = sortASC.reverse();\n  }\n\n  const openPath = (object: BucketObject) => {\n    const idElement = object.name || \"\";\n    const newPath = `/browser/${bucketName}${\n      idElement ? `/${encodeURLString(idElement)}` : ``\n    }`;\n\n    // for anonymous start download\n    if (\n      anonymousMode &&\n      internalPaths !== null &&\n      !object.name?.endsWith(\"/\")\n    ) {\n      downloadObject(\n        dispatch,\n        bucketName,\n        `${encodeURLString(idElement)}`,\n        object\n      );\n      return;\n    }\n    dispatch(setSelectedObjects([]));\n\n    navigate(newPath);\n\n    if (!anonymousMode) {\n      dispatch(setObjectDetailsView(true));\n      dispatch(setLoadingVersions(true));\n      dispatch(setIsOpeningOD(true));\n    }\n    dispatch(\n      setSelectedObjectView(\n        `${idElement ? `${encodeURLString(idElement)}` : ``}`\n      )\n    );\n  };\n  const tableActions: ItemActions[] = [\n    {\n      type: \"view\",\n      label: \"View\",\n      onClick: openPath,\n      sendOnlyId: false,\n    },\n  ];\n\n  const sortChange = (sortData: any) => {\n    const newSortDirection = get(sortData, \"sortDirection\", \"DESC\");\n    setCurrentSortField(sortData.sortBy);\n    setSortDirection(newSortDirection);\n    dispatch(setLoadingObjects(true));\n  };\n\n  const selectAllItems = () => {\n    dispatch(setSelectedObjectView(null));\n\n    if (selectedObjects.length === payload.length) {\n      dispatch(setSelectedObjects([]));\n      return;\n    }\n\n    const elements = payload.map((item) => item.name);\n    dispatch(setSelectedObjects(elements));\n  };\n\n  const selectListObjects = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const targetD = e.target;\n    const value = targetD.value;\n    const checked = targetD.checked;\n\n    let elements: string[] = [...selectedObjects]; // We clone the selectedBuckets array\n\n    if (checked) {\n      // If the user has checked this field we need to push this to selectedBucketsList\n      elements.push(value);\n    } else {\n      // User has unchecked this field, we need to remove it from the list\n      elements = elements.filter((element) => element !== value);\n    }\n    dispatch(setSelectedObjects(elements));\n    dispatch(setSelectedObjectView(null));\n\n    return elements;\n  };\n\n  let errorMessage =\n    !displayListObjects && !anonymousMode\n      ? permissionTooltipHelper(\n          [IAM_SCOPES.S3_LIST_BUCKET, IAM_SCOPES.S3_ALL_LIST_BUCKET],\n          \"view Objects in this bucket\"\n        )\n      : `This location is empty${\n          !rewindEnabled ? \", please try uploading a new file\" : \"\"\n        }`;\n\n  if (connectionError) {\n    errorMessage =\n      \"Objects List unavailable. Please review your WebSockets configuration and try again\";\n  }\n\n  let customPaperHeight = \"calc(100vh - 290px)\";\n\n  if (obOnly) {\n    customPaperHeight = \"calc(100vh - 315px)\";\n  }\n\n  return (\n    <DataTable\n      itemActions={tableActions}\n      columns={rewindEnabled ? rewindModeColumns : listModeColumns}\n      isLoading={loadingObjects}\n      entityName=\"Objects\"\n      idField=\"name\"\n      records={payload}\n      customPaperHeight={customPaperHeight}\n      selectedItems={selectedObjects}\n      onSelect={!anonymousMode ? selectListObjects : undefined}\n      customEmptyMessage={errorMessage}\n      sortConfig={{\n        currentSort: currentSortField,\n        currentDirection: sortDirection,\n        triggerSort: sortChange,\n      }}\n      onSelectAll={selectAllItems}\n      rowStyle={({ index }) => {\n        if (payload[index]?.delete_flag) {\n          return \"deleted\";\n        }\n\n        return \"\";\n      }}\n      parentClassName={classes.parentWrapper}\n      sx={{\n        minHeight: detailsOpen ? \"100%\" : \"initial\",\n      }}\n      noBackground\n    />\n  );\n};\nexport default ListObjectsTable;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { AppState } from \"../../../store\";\nimport { encodeURLString, getClientOS } from \"../../../common/utils\";\nimport { BucketObjectItem } from \"../Buckets/ListBuckets/Objects/ListObjects/types\";\nimport { makeid, storeCallForObjectWithID } from \"./transferManager\";\nimport { download } from \"../Buckets/ListBuckets/Objects/utils\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  setAnonymousAccessOpen,\n  setDownloadRenameModal,\n  setNewObject,\n  setPreviewOpen,\n  setSelectedPreview,\n  setShareFileModalOpen,\n  updateProgress,\n} from \"./objectBrowserSlice\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\n\nexport const downloadSelected = createAsyncThunk(\n  \"objectBrowser/downloadSelected\",\n  async (bucketName: string, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    const downloadObject = (object: BucketObjectItem) => {\n      const identityDownload = encodeURLString(\n        `${bucketName}-${object.name}-${new Date().getTime()}-${Math.random()}`\n      );\n\n      const ID = makeid(8);\n\n      const downloadCall = download(\n        bucketName,\n        encodeURLString(object.name),\n        object.version_id,\n        object.size,\n        null,\n        ID,\n        (progress) => {\n          dispatch(\n            updateProgress({\n              instanceID: identityDownload,\n              progress: progress,\n            })\n          );\n        },\n        () => {\n          dispatch(completeObject(identityDownload));\n        },\n        (msg: string) => {\n          dispatch(failObject({ instanceID: identityDownload, msg }));\n        },\n        () => {\n          dispatch(cancelObjectInList(identityDownload));\n        },\n        () => {\n          dispatch(\n            setSnackBarMessage(\n              \"File download will be handled directly by the browser.\"\n            )\n          );\n        }\n      );\n      storeCallForObjectWithID(ID, downloadCall);\n      dispatch(\n        setNewObject({\n          ID,\n          bucketName,\n          done: false,\n          instanceID: identityDownload,\n          percentage: 0,\n          prefix: object.name,\n          type: \"download\",\n          waitingForFile: true,\n          failed: false,\n          cancelled: false,\n          errorMessage: \"\",\n        })\n      );\n    };\n\n    if (state.objectBrowser.selectedObjects.length !== 0) {\n      let itemsToDownload: BucketObjectItem[] = [];\n\n      const filterFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      itemsToDownload = state.objectBrowser.records.filter(filterFunction);\n\n      // I case just one element is selected, then we trigger download modal validation.\n      // We are going to enforce zip download when multiple files are selected\n      if (itemsToDownload.length === 1) {\n        if (\n          itemsToDownload[0].name.length > 200 &&\n          getClientOS().toLowerCase().includes(\"win\")\n        ) {\n          dispatch(setDownloadRenameModal(itemsToDownload[0]));\n          return;\n        }\n      }\n\n      itemsToDownload.forEach((filteredItem) => {\n        downloadObject(filteredItem);\n      });\n    }\n  }\n);\n\nexport const openPreview = createAsyncThunk(\n  \"objectBrowser/openPreview\",\n  async (_, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (state.objectBrowser.selectedObjects.length === 1) {\n      let fileObject: BucketObjectItem | undefined;\n\n      const findFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      fileObject = state.objectBrowser.records.find(findFunction);\n\n      if (fileObject) {\n        dispatch(setSelectedPreview(fileObject));\n        dispatch(setPreviewOpen(true));\n      }\n    }\n  }\n);\n\nexport const openShare = createAsyncThunk(\n  \"objectBrowser/openShare\",\n  async (_, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (state.objectBrowser.selectedObjects.length === 1) {\n      let fileObject: BucketObjectItem | undefined;\n\n      const findFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      fileObject = state.objectBrowser.records.find(findFunction);\n\n      if (fileObject) {\n        dispatch(setSelectedPreview(fileObject));\n        dispatch(setShareFileModalOpen(true));\n      }\n    }\n  }\n);\n\nexport const openAnonymousAccess = createAsyncThunk(\n  \"objectBrowser/openAnonymousAccess\",\n  async (_, { getState, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (\n      state.objectBrowser.selectedObjects.length === 1 &&\n      state.objectBrowser.selectedObjects[0].endsWith(\"/\")\n    ) {\n      dispatch(setAnonymousAccessOpen(true));\n    }\n  }\n);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { setSearchObjects } from \"./objectBrowserSlice\";\nimport SearchBox from \"../Common/SearchBox\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport { useSelector } from \"react-redux\";\n\nconst FilterObjectsSB = () => {\n  const dispatch = useAppDispatch();\n\n  const searchObjects = useSelector(\n    (state: AppState) => state.objectBrowser.searchObjects\n  );\n  return (\n    <SearchBox\n      placeholder={\"Start typing to filter objects in the bucket\"}\n      onChange={(value) => {\n        dispatch(setSearchObjects(value));\n      }}\n      value={searchObjects}\n    />\n  );\n};\nexport default FilterObjectsSB;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, {\n  Fragment,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { useDropzone } from \"react-dropzone\";\nimport { Theme } from \"@mui/material/styles\";\nimport {\n  AccessRuleIcon,\n  ActionsList,\n  BucketsIcon,\n  Button,\n  DeleteIcon,\n  DownloadIcon,\n  HistoryIcon,\n  PageLayout,\n  PreviewIcon,\n  RefreshIcon,\n  ScreenTitle,\n  ShareIcon,\n} from \"mds\";\nimport { DateTime } from \"luxon\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport Grid from \"@mui/material/Grid\";\nimport get from \"lodash/get\";\nimport {\n  decodeURLString,\n  encodeURLString,\n  niceBytesInt,\n} from \"../../../../../../common/utils\";\n\nimport {\n  actionsTray,\n  containerForHeader,\n  objectBrowserCommon,\n  objectBrowserExtras,\n  searchField,\n  tableStyles,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { Badge } from \"@mui/material\";\nimport BrowserBreadcrumbs from \"../../../../ObjectBrowser/BrowserBreadcrumbs\";\nimport { extensionPreview } from \"../utils\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\n\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport {\n  hasPermission,\n  SecureComponent,\n} from \"../../../../../../common/SecureComponent\";\nimport withSuspense from \"../../../../Common/Components/withSuspense\";\nimport UploadFilesButton from \"../../UploadFilesButton\";\nimport DetailsListPanel from \"./DetailsListPanel\";\nimport ObjectDetailPanel from \"./ObjectDetailPanel\";\nimport VersionsNavigator from \"../ObjectDetails/VersionsNavigator\";\nimport CheckboxWrapper from \"../../../../Common/FormComponents/CheckboxWrapper/CheckboxWrapper\";\n\nimport {\n  setErrorSnackMessage,\n  setSnackBarMessage,\n} from \"../../../../../../systemSlice\";\n\nimport {\n  makeid,\n  removeTrace,\n  storeCallForObjectWithID,\n  storeFormDataWithID,\n} from \"../../../../ObjectBrowser/transferManager\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  openList,\n  resetMessages,\n  resetRewind,\n  setAnonymousAccessOpen,\n  setDownloadRenameModal,\n  setLoadingObjects,\n  setLoadingRecords,\n  setLoadingVersions,\n  setNewObject,\n  setObjectDetailsView,\n  setPreviewOpen,\n  setRetentionConfig,\n  setSearchObjects,\n  setSelectedBucket,\n  setSelectedObjects,\n  setSelectedObjectView,\n  setSelectedPreview,\n  setShareFileModalOpen,\n  setShowDeletedObjects,\n  setVersionsModeEnabled,\n  updateProgress,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport {\n  selBucketDetailsInfo,\n  selBucketDetailsLoading,\n  setBucketDetailsLoad,\n  setBucketInfo,\n} from \"../../../BucketDetails/bucketDetailsSlice\";\nimport RenameLongFileName from \"../../../../ObjectBrowser/RenameLongFilename\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport ListObjectsTable from \"./ListObjectsTable\";\nimport {\n  downloadSelected,\n  openAnonymousAccess,\n  openPreview,\n  openShare,\n} from \"../../../../ObjectBrowser/objectBrowserThunks\";\n\nimport FilterObjectsSB from \"../../../../ObjectBrowser/FilterObjectsSB\";\nimport AddAccessRule from \"../../../BucketDetails/AddAccessRule\";\nimport { isVersionedMode } from \"../../../../../../utils/validationFunctions\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport { BucketQuota } from \"api/consoleApi\";\nimport {\n  extractFileExtn,\n  getPolicyAllowedFileExtensions,\n  getSessionGrantsWildCard,\n} from \"../../UploadPermissionUtils\";\n\nconst DeleteMultipleObjects = withSuspense(\n  React.lazy(() => import(\"./DeleteMultipleObjects\"))\n);\nconst ShareFile = withSuspense(\n  React.lazy(() => import(\"../ObjectDetails/ShareFile\"))\n);\nconst RewindEnable = withSuspense(React.lazy(() => import(\"./RewindEnable\")));\nconst PreviewFileModal = withSuspense(\n  React.lazy(() => import(\"../Preview/PreviewFileModal\"))\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    badgeOverlap: {\n      \"& .MuiBadge-badge\": {\n        top: 10,\n        right: 1,\n        width: 5,\n        height: 5,\n        minWidth: 5,\n      },\n    },\n    ...tableStyles,\n    ...actionsTray,\n    ...searchField,\n\n    searchField: {\n      ...searchField.searchField,\n      maxWidth: 380,\n    },\n    screenTitleContainer: {\n      border: \"#EAEDEE 1px solid\",\n      padding: \"0 5px\",\n    },\n    labelStyle: {\n      color: \"#969FA8\",\n      fontSize: \"12px\",\n    },\n    breadcrumbsContainer: {\n      padding: \"12px 14px 5px\",\n    },\n    fullContainer: {\n      width: \"100%\",\n      position: \"relative\",\n      \"&.detailsOpen\": {\n        \"@media (max-width: 799px)\": {\n          display: \"none\",\n        },\n      },\n    },\n    hideListOnSmall: {\n      \"@media (max-width: 799px)\": {\n        display: \"none\",\n      },\n    },\n    actionsSection: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n    },\n    ...objectBrowserExtras,\n    ...objectBrowserCommon,\n    ...containerForHeader,\n  })\n);\n\nconst baseDnDStyle = {\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: \"#eeeeee\",\n  outline: \"none\",\n};\n\nconst activeDnDStyle = {\n  borderStyle: \"dashed\",\n  backgroundColor: \"#fafafa\",\n  borderColor: \"#2196f3\",\n};\n\nconst acceptDnDStyle = {\n  borderStyle: \"dashed\",\n  backgroundColor: \"#fafafa\",\n  borderColor: \"#00e676\",\n};\n\nconst ListObjects = () => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled\n  );\n  const bucketToRewind = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.bucketToRewind\n  );\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode\n  );\n\n  const showDeleted = useSelector(\n    (state: AppState) => state.objectBrowser.showDeleted\n  );\n  const detailsOpen = useSelector(\n    (state: AppState) => state.objectBrowser.objectDetailsOpen\n  );\n  const selectedInternalPaths = useSelector(\n    (state: AppState) => state.objectBrowser.selectedInternalPaths\n  );\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects\n  );\n  const simplePath = useSelector(\n    (state: AppState) => state.objectBrowser.simplePath\n  );\n\n  const versioningConfig = useSelector(\n    (state: AppState) => state.objectBrowser.versionInfo\n  );\n  const lockingEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.lockingEnabled\n  );\n  const downloadRenameModal = useSelector(\n    (state: AppState) => state.objectBrowser.downloadRenameModal\n  );\n  const selectedPreview = useSelector(\n    (state: AppState) => state.objectBrowser.selectedPreview\n  );\n  const shareFileModalOpen = useSelector(\n    (state: AppState) => state.objectBrowser.shareFileModalOpen\n  );\n  const previewOpen = useSelector(\n    (state: AppState) => state.objectBrowser.previewOpen\n  );\n  const selectedBucket = useSelector(\n    (state: AppState) => state.objectBrowser.selectedBucket\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n  const anonymousAccessOpen = useSelector(\n    (state: AppState) => state.objectBrowser.anonymousAccessOpen\n  );\n\n  const loadingBucket = useSelector(selBucketDetailsLoading);\n  const bucketInfo = useSelector(selBucketDetailsInfo);\n\n  const [deleteMultipleOpen, setDeleteMultipleOpen] = useState<boolean>(false);\n  const [rewindSelect, setRewindSelect] = useState<boolean>(false);\n  const [iniLoad, setIniLoad] = useState<boolean>(false);\n  const [canShareFile, setCanShareFile] = useState<boolean>(false);\n  const [canPreviewFile, setCanPreviewFile] = useState<boolean>(false);\n  const [quota, setQuota] = useState<BucketQuota | null>(null);\n\n  const isVersioningApplied = isVersionedMode(versioningConfig.status);\n  const bucketName = params.bucketName || \"\";\n\n  const pathSegment = location.pathname.split(`/browser/${bucketName}/`);\n  const internalPaths = pathSegment.length === 2 ? pathSegment[1] : \"\";\n\n  const pageTitle = decodeURLString(internalPaths);\n  const currentPath = pageTitle.split(\"/\").filter((i: string) => i !== \"\");\n\n  let uploadPath = [bucketName];\n  if (currentPath.length > 0) {\n    uploadPath = uploadPath.concat(currentPath);\n  }\n\n  const fileUpload = useRef<HTMLInputElement>(null);\n  const folderUpload = useRef<HTMLInputElement>(null);\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {}\n  );\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const pathAsResourceInPolicy = uploadPath.join(\"/\");\n  const allowedFileExtensions = getPolicyAllowedFileExtensions(\n    sessionGrants,\n    pathAsResourceInPolicy,\n    putObjectPermScopes\n  );\n\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    pathAsResourceInPolicy,\n    putObjectPermScopes\n  );\n\n  const canDownload = hasPermission(bucketName, [\n    IAM_SCOPES.S3_GET_OBJECT,\n    IAM_SCOPES.S3_GET_ACTIONS,\n  ]);\n  const canDelete = hasPermission(bucketName, [IAM_SCOPES.S3_DELETE_OBJECT]);\n  const canUpload =\n    hasPermission(\n      [pathAsResourceInPolicy, ...sessionGrantWildCards],\n      putObjectPermScopes\n    ) || anonymousMode;\n\n  const displayDeleteObject = hasPermission(bucketName, [\n    IAM_SCOPES.S3_DELETE_OBJECT,\n  ]);\n  const canSetAnonymousAccess = hasPermission(bucketName, [\n    IAM_SCOPES.S3_GET_BUCKET_POLICY,\n    IAM_SCOPES.S3_PUT_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const selectedObjects = useSelector(\n    (state: AppState) => state.objectBrowser.selectedObjects\n  );\n\n  useEffect(() => {\n    dispatch(setSearchObjects(\"\"));\n    dispatch(setLoadingObjects(true));\n    dispatch(setSelectedObjects([]));\n  }, [simplePath, dispatch]);\n\n  useEffect(() => {\n    if (rewindEnabled) {\n      if (bucketToRewind !== bucketName) {\n        dispatch(resetRewind());\n        return;\n      }\n    }\n  }, [rewindEnabled, bucketToRewind, bucketName, dispatch]);\n\n  // END OF WS HANDLERS\n\n  useEffect(() => {\n    if (folderUpload.current !== null) {\n      folderUpload.current.setAttribute(\"directory\", \"\");\n      folderUpload.current.setAttribute(\"webkitdirectory\", \"\");\n    }\n  }, [folderUpload]);\n\n  useEffect(() => {\n    if (selectedObjects.length === 1) {\n      const objectName = selectedObjects[0];\n\n      if (extensionPreview(objectName) !== \"none\") {\n        setCanPreviewFile(true);\n      } else {\n        setCanPreviewFile(false);\n      }\n\n      if (objectName.endsWith(\"/\")) {\n        setCanShareFile(false);\n      } else {\n        setCanShareFile(true);\n      }\n    } else {\n      setCanShareFile(false);\n      setCanPreviewFile(false);\n    }\n  }, [selectedObjects]);\n\n  useEffect(() => {\n    if (!quota && !anonymousMode) {\n      api.buckets\n        .getBucketQuota(bucketName)\n        .then((res) => {\n          let quotaVals = null;\n\n          if (res.data.quota) {\n            quotaVals = res.data;\n          }\n\n          setQuota(quotaVals);\n        })\n        .catch((err) => {\n          console.error(\n            \"Error Getting Quota Status: \",\n            err.error.detailedMessage\n          );\n          setQuota(null);\n        });\n    }\n  }, [quota, bucketName, anonymousMode]);\n\n  useEffect(() => {\n    if (selectedObjects.length > 0) {\n      dispatch(setObjectDetailsView(true));\n      return;\n    }\n\n    if (\n      selectedObjects.length === 0 &&\n      selectedInternalPaths === null &&\n      !loadingObjects\n    ) {\n      dispatch(setObjectDetailsView(false));\n    }\n  }, [selectedObjects, selectedInternalPaths, dispatch, loadingObjects]);\n\n  useEffect(() => {\n    if (!iniLoad) {\n      dispatch(setBucketDetailsLoad(true));\n      setIniLoad(true);\n    }\n  }, [iniLoad, dispatch, setIniLoad]);\n\n  // bucket info\n  useEffect(() => {\n    if ((loadingObjects || loadingBucket) && !anonymousMode) {\n      api.buckets\n        .bucketInfo(bucketName)\n        .then((res) => {\n          dispatch(setBucketDetailsLoad(false));\n          dispatch(setBucketInfo(res.data));\n          dispatch(setSelectedBucket(bucketName));\n        })\n        .catch((err) => {\n          dispatch(setBucketDetailsLoad(false));\n          dispatch(setErrorSnackMessage(errorToHandler(err)));\n        });\n    }\n  }, [bucketName, loadingBucket, dispatch, anonymousMode, loadingObjects]);\n\n  // Load retention Config\n\n  useEffect(() => {\n    if (selectedBucket !== \"\") {\n      api.buckets\n        .getBucketRetentionConfig(selectedBucket)\n        .then((res) => {\n          dispatch(setRetentionConfig(res.data));\n        })\n        .catch(() => {\n          dispatch(setRetentionConfig(null));\n        });\n    }\n  }, [selectedBucket, dispatch]);\n\n  const closeDeleteMultipleModalAndRefresh = (refresh: boolean) => {\n    setDeleteMultipleOpen(false);\n\n    if (refresh) {\n      dispatch(setSnackBarMessage(`Objects deleted successfully.`));\n      dispatch(setSelectedObjects([]));\n      dispatch(setLoadingObjects(true));\n    }\n  };\n\n  const handleUploadButton = (e: any) => {\n    if (\n      e === null ||\n      e === undefined ||\n      e.target.files === null ||\n      e.target.files === undefined\n    ) {\n      return;\n    }\n    e.preventDefault();\n    var newFiles: File[] = [];\n\n    for (var i = 0; i < e.target.files.length; i++) {\n      newFiles.push(e.target.files[i]);\n    }\n    uploadObject(newFiles, \"\");\n\n    e.target.value = \"\";\n  };\n\n  const uploadObject = useCallback(\n    (files: File[], folderPath: string): void => {\n      let pathPrefix = \"\";\n      if (simplePath) {\n        pathPrefix = simplePath.endsWith(\"/\") ? simplePath : simplePath + \"/\";\n      }\n\n      const upload = (\n        files: File[],\n        bucketName: string,\n        path: string,\n        folderPath: string\n      ) => {\n        let uploadPromise = (file: File) => {\n          return new Promise((resolve, reject) => {\n            let uploadUrl = `api/v1/buckets/${bucketName}/objects/upload`;\n            const fileName = file.name;\n\n            const blobFile = new Blob([file], { type: file.type });\n\n            let encodedPath = \"\";\n\n            const filePath = get(file, \"path\", \"\");\n            const fileWebkitRelativePath = get(file, \"webkitRelativePath\", \"\");\n\n            let relativeFolderPath = folderPath;\n            const ID = makeid(8);\n\n            // File was uploaded via drag & drop\n            if (filePath !== \"\") {\n              relativeFolderPath = filePath;\n            } else if (fileWebkitRelativePath !== \"\") {\n              // File was uploaded using upload button\n              relativeFolderPath = fileWebkitRelativePath;\n            }\n\n            if (path !== \"\" || relativeFolderPath !== \"\") {\n              const finalFolderPath = relativeFolderPath\n                .split(\"/\")\n                .slice(0, -1)\n                .join(\"/\");\n\n              const pathClean = path.endsWith(\"/\") ? path.slice(0, -1) : path;\n\n              encodedPath = encodeURLString(\n                `${pathClean}${\n                  !pathClean.endsWith(\"/\") &&\n                  finalFolderPath !== \"\" &&\n                  !finalFolderPath.startsWith(\"/\")\n                    ? \"/\"\n                    : \"\"\n                }${finalFolderPath}${\n                  !finalFolderPath.endsWith(\"/\") ||\n                  (finalFolderPath.trim() === \"\" && !path.endsWith(\"/\"))\n                    ? \"/\"\n                    : \"\"\n                }`\n              );\n            }\n\n            if (encodedPath !== \"\") {\n              uploadUrl = `${uploadUrl}?prefix=${encodedPath}`;\n            }\n\n            const identity = encodeURLString(\n              `${bucketName}-${encodedPath}-${new Date().getTime()}-${Math.random()}`\n            );\n\n            let xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", uploadUrl, true);\n            if (anonymousMode) {\n              xhr.setRequestHeader(\"X-Anonymous\", \"1\");\n            }\n            // xhr.setRequestHeader(\"X-Anonymous\", \"1\");\n\n            const areMultipleFiles = files.length > 1;\n            let errorMessage = `An error occurred while uploading the file${\n              areMultipleFiles ? \"s\" : \"\"\n            }.`;\n\n            const errorMessages: any = {\n              413: \"Error - File size too large\",\n            };\n\n            xhr.withCredentials = false;\n            xhr.onload = function (event) {\n              // resolve promise only when HTTP code is ok\n              if (xhr.status >= 200 && xhr.status < 300) {\n                dispatch(completeObject(identity));\n                resolve({ status: xhr.status });\n\n                removeTrace(ID);\n              } else {\n                // reject promise if there was a server error\n                if (errorMessages[xhr.status]) {\n                  errorMessage = errorMessages[xhr.status];\n                } else if (xhr.response) {\n                  try {\n                    const err = JSON.parse(xhr.response);\n                    errorMessage = err.detailedMessage;\n                  } catch (e) {\n                    errorMessage = \"something went wrong\";\n                  }\n                }\n\n                dispatch(\n                  failObject({\n                    instanceID: identity,\n                    msg: errorMessage,\n                  })\n                );\n                reject({ status: xhr.status, message: errorMessage });\n\n                removeTrace(ID);\n              }\n            };\n\n            xhr.upload.addEventListener(\"error\", (event) => {\n              reject(errorMessage);\n              dispatch(\n                failObject({\n                  instanceID: identity,\n                  msg: \"A network error occurred.\",\n                })\n              );\n              return;\n            });\n\n            xhr.upload.addEventListener(\"progress\", (event) => {\n              const progress = Math.floor((event.loaded * 100) / event.total);\n\n              dispatch(\n                updateProgress({\n                  instanceID: identity,\n                  progress: progress,\n                })\n              );\n            });\n\n            xhr.onerror = () => {\n              reject(errorMessage);\n              dispatch(\n                failObject({\n                  instanceID: identity,\n                  msg: \"A network error occurred.\",\n                })\n              );\n              return;\n            };\n            xhr.onloadend = () => {\n              if (files.length === 0) {\n                dispatch(setLoadingObjects(true));\n              }\n            };\n            xhr.onabort = () => {\n              dispatch(cancelObjectInList(identity));\n            };\n\n            const formData = new FormData();\n            if (file.size !== undefined) {\n              formData.append(file.size.toString(), blobFile, fileName);\n              storeCallForObjectWithID(ID, xhr);\n              dispatch(\n                setNewObject({\n                  ID,\n                  bucketName,\n                  done: false,\n                  instanceID: identity,\n                  percentage: 0,\n                  prefix: `${decodeURLString(encodedPath)}${fileName}`,\n                  type: \"upload\",\n                  waitingForFile: false,\n                  failed: false,\n                  cancelled: false,\n                  errorMessage: \"\",\n                })\n              );\n              storeFormDataWithID(ID, formData);\n            }\n          });\n        };\n\n        const uploadFilePromises: any = [];\n        // open object manager\n        dispatch(openList());\n        for (let i = 0; i < files.length; i++) {\n          const file = files[i];\n          uploadFilePromises.push(uploadPromise(file));\n        }\n        Promise.allSettled(uploadFilePromises).then((results: Array<any>) => {\n          const errors = results.filter(\n            (result) => result.status === \"rejected\"\n          );\n          if (errors.length > 0) {\n            const totalFiles = uploadFilePromises.length;\n            const successUploadedFiles =\n              uploadFilePromises.length - errors.length;\n            const err: ErrorResponseHandler = {\n              errorMessage: \"There were some errors during file upload\",\n              detailedError: `Uploaded files ${successUploadedFiles}/${totalFiles}`,\n            };\n            dispatch(setErrorSnackMessage(err));\n          }\n          // We force objects list reload after all promises were handled\n          dispatch(setLoadingObjects(true));\n          dispatch(setSelectedObjects([]));\n        });\n      };\n\n      upload(files, bucketName, pathPrefix, folderPath);\n    },\n    [bucketName, dispatch, simplePath, anonymousMode]\n  );\n\n  const onDrop = useCallback(\n    (acceptedFiles: any[]) => {\n      if (acceptedFiles && acceptedFiles.length > 0 && canUpload) {\n        let newFolderPath: string = acceptedFiles[0].path;\n        //Should we filter by allowed file extensions if any?.\n        let allowedFiles = [];\n        if (allowedFileExtensions.length > 0) {\n          allowedFiles = acceptedFiles.filter((file) => {\n            const fileExtn = extractFileExtn(file.name);\n            return allowedFileExtensions.includes(fileExtn);\n          });\n        } else {\n          allowedFiles = acceptedFiles;\n        }\n\n        if (allowedFiles.length) {\n          uploadObject(allowedFiles, newFolderPath);\n          console.log(\n            `${allowedFiles.length} Allowed Files Processed out of ${acceptedFiles.length}.`,\n            pathAsResourceInPolicy,\n            ...sessionGrantWildCards\n          );\n\n          if (allowedFiles.length !== acceptedFiles.length) {\n            dispatch(\n              setErrorSnackMessage({\n                errorMessage: \"Upload is restricted.\",\n                detailedError: permissionTooltipHelper(\n                  [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                  \"upload objects to this location\"\n                ),\n              })\n            );\n          }\n        } else {\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: \"Could not process drag and drop.\",\n              detailedError: permissionTooltipHelper(\n                [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                \"upload objects to this location\"\n              ),\n            })\n          );\n\n          console.error(\n            \"Could not process drag and drop . upload may be restricted.\",\n            pathAsResourceInPolicy,\n            ...sessionGrantWildCards\n          );\n        }\n      }\n      if (!canUpload) {\n        dispatch(\n          setErrorSnackMessage({\n            errorMessage: \"Upload not allowed\",\n            detailedError: permissionTooltipHelper(\n              [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n              \"upload objects to this location\"\n            ),\n          })\n        );\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [uploadObject]\n  );\n\n  const { getRootProps, getInputProps, isDragActive, isDragAccept } =\n    useDropzone({\n      noClick: true,\n      onDrop,\n    });\n\n  const dndStyles = useMemo(\n    () => ({\n      ...baseDnDStyle,\n      ...(isDragActive ? activeDnDStyle : {}),\n      ...(isDragAccept ? acceptDnDStyle : {}),\n    }),\n    [isDragActive, isDragAccept]\n  );\n\n  const closeShareModal = () => {\n    dispatch(setShareFileModalOpen(false));\n    dispatch(setSelectedPreview(null));\n  };\n\n  const rewindCloseModal = () => {\n    setRewindSelect(false);\n  };\n\n  const closePreviewWindow = () => {\n    dispatch(setPreviewOpen(false));\n    dispatch(setSelectedPreview(null));\n  };\n\n  const onClosePanel = (forceRefresh: boolean) => {\n    dispatch(setSelectedObjectView(null));\n    dispatch(setVersionsModeEnabled({ status: false }));\n    if (detailsOpen && selectedInternalPaths !== null) {\n      // We change URL to be the contained folder\n\n      const decodedPath = decodeURLString(internalPaths);\n      const splitURLS = decodedPath.split(\"/\");\n\n      // We remove the last section of the URL as it should be a file\n      splitURLS.pop();\n\n      let URLItem = \"\";\n\n      if (splitURLS && splitURLS.length > 0) {\n        URLItem = `${splitURLS.join(\"/\")}/`;\n      }\n\n      navigate(`/browser/${bucketName}/${encodeURLString(URLItem)}`);\n    }\n\n    dispatch(setObjectDetailsView(false));\n    dispatch(setSelectedObjects([]));\n\n    if (forceRefresh) {\n      dispatch(setLoadingObjects(true));\n    }\n  };\n\n  const setDeletedAction = () => {\n    dispatch(resetMessages());\n    dispatch(setShowDeletedObjects(!showDeleted));\n    onClosePanel(true);\n  };\n\n  const closeRenameModal = () => {\n    dispatch(setDownloadRenameModal(null));\n  };\n\n  const closeAddAccessRule = () => {\n    dispatch(setAnonymousAccessOpen(false));\n  };\n\n  let createdTime = DateTime.now();\n\n  if (bucketInfo?.creation_date) {\n    createdTime = DateTime.fromISO(bucketInfo.creation_date);\n  }\n\n  const multiActionButtons = [\n    {\n      action: () => {\n        dispatch(downloadSelected(bucketName));\n      },\n      label: \"Download\",\n      disabled: !canDownload || selectedObjects?.length === 0,\n      icon: <DownloadIcon />,\n      tooltip: canDownload\n        ? \"Download Selected\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"download objects from this bucket\"\n          ),\n    },\n    {\n      action: () => {\n        dispatch(openShare());\n      },\n      label: \"Share\",\n      disabled: selectedObjects.length !== 1 || !canShareFile,\n      icon: <ShareIcon />,\n      tooltip: canShareFile ? \"Share Selected File\" : \"Sharing unavailable\",\n    },\n    {\n      action: () => {\n        dispatch(openPreview());\n      },\n      label: \"Preview\",\n      disabled: selectedObjects.length !== 1 || !canPreviewFile,\n      icon: <PreviewIcon />,\n      tooltip: canPreviewFile ? \"Preview Selected File\" : \"Preview unavailable\",\n    },\n    {\n      action: () => {\n        dispatch(openAnonymousAccess());\n      },\n      label: \"Anonymous Access\",\n      disabled:\n        selectedObjects.length !== 1 ||\n        !selectedObjects[0].endsWith(\"/\") ||\n        !canSetAnonymousAccess,\n      icon: <AccessRuleIcon />,\n      tooltip:\n        selectedObjects.length === 1 && selectedObjects[0].endsWith(\"/\")\n          ? \"Set Anonymous Access to this Folder\"\n          : \"Anonymous Access unavailable\",\n    },\n    {\n      action: () => {\n        setDeleteMultipleOpen(true);\n      },\n      label: \"Delete\",\n      icon: <DeleteIcon />,\n      disabled:\n        !canDelete || selectedObjects.length === 0 || !displayDeleteObject,\n      tooltip: canDelete\n        ? \"Delete Selected Files\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_DELETE_OBJECT],\n            \"delete objects in this bucket\"\n          ),\n    },\n  ];\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && selectedPreview && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={{\n            name: selectedPreview.name,\n            last_modified: \"\",\n            version_id: selectedPreview.version_id,\n          }}\n        />\n      )}\n      {deleteMultipleOpen && (\n        <DeleteMultipleObjects\n          deleteOpen={deleteMultipleOpen}\n          selectedBucket={bucketName}\n          selectedObjects={selectedObjects}\n          closeDeleteModalAndRefresh={closeDeleteMultipleModalAndRefresh}\n          versioning={versioningConfig}\n        />\n      )}\n      {rewindSelect && (\n        <RewindEnable\n          open={rewindSelect}\n          closeModalAndRefresh={rewindCloseModal}\n          bucketName={bucketName}\n        />\n      )}\n      {previewOpen && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={selectedPreview}\n          onClosePreview={closePreviewWindow}\n        />\n      )}\n      {!!downloadRenameModal && (\n        <RenameLongFileName\n          open={!!downloadRenameModal}\n          closeModal={closeRenameModal}\n          currentItem={downloadRenameModal.name.split(\"/\")?.pop() || \"\"}\n          bucketName={bucketName}\n          internalPaths={internalPaths}\n          actualInfo={{\n            name: downloadRenameModal.name,\n            last_modified: \"\",\n            version_id: downloadRenameModal.version_id,\n            size: downloadRenameModal.size,\n          }}\n        />\n      )}\n      {anonymousAccessOpen && (\n        <AddAccessRule\n          onClose={closeAddAccessRule}\n          bucket={bucketName}\n          modalOpen={anonymousAccessOpen}\n          prefilledRoute={`${selectedObjects[0]}*`}\n        />\n      )}\n\n      <PageLayout variant={\"full\"}>\n        {anonymousMode && (\n          <div style={{ paddingBottom: 16 }}>\n            <FilterObjectsSB />\n          </div>\n        )}\n        <Grid item xs={12} className={classes.screenTitleContainer}>\n          <ScreenTitle\n            icon={\n              <span>\n                <BucketsIcon style={{ width: 30 }} />\n              </span>\n            }\n            title={bucketName}\n            subTitle={\n              !anonymousMode ? (\n                <Fragment>\n                  <span className={classes.detailsSpacer}>\n                    Created on:&nbsp;&nbsp;\n                    <strong>\n                      {bucketInfo?.creation_date\n                        ? createdTime.toFormat(\n                            \"ccc, LLL dd yyyy HH:mm:ss (ZZZZ)\"\n                          )\n                        : \"\"}\n                    </strong>\n                  </span>\n                  <span className={classes.detailsSpacer}>\n                    Access:&nbsp;&nbsp;&nbsp;\n                    <strong>{bucketInfo?.access || \"\"}</strong>\n                  </span>\n                  {bucketInfo && (\n                    <Fragment>\n                      <span className={classes.detailsSpacer}>\n                        {bucketInfo.size && (\n                          <Fragment>{niceBytesInt(bucketInfo.size)}</Fragment>\n                        )}\n                        {bucketInfo.size && quota && (\n                          <Fragment>\n                            {\" \"}\n                            / {niceBytesInt(quota.quota || 0)}\n                          </Fragment>\n                        )}\n                        {bucketInfo.size && bucketInfo.objects ? \" - \" : \"\"}\n                        {bucketInfo.objects && (\n                          <Fragment>\n                            {bucketInfo.objects}&nbsp;Object\n                            {bucketInfo.objects && bucketInfo.objects !== 1\n                              ? \"s\"\n                              : \"\"}\n                          </Fragment>\n                        )}\n                      </span>\n                    </Fragment>\n                  )}\n                </Fragment>\n              ) : null\n            }\n            actions={\n              <Fragment>\n                {!anonymousMode && (\n                  <TooltipWrapper tooltip={\"Rewind Bucket\"}>\n                    <Button\n                      id={\"rewind-objects-list\"}\n                      label={\"Rewind\"}\n                      icon={\n                        <Badge\n                          badgeContent=\" \"\n                          color=\"secondary\"\n                          variant=\"dot\"\n                          invisible={!rewindEnabled}\n                          className={classes.badgeOverlap}\n                          sx={{ height: 16 }}\n                        >\n                          <HistoryIcon\n                            style={{\n                              minWidth: 16,\n                              minHeight: 16,\n                              width: 16,\n                              height: 16,\n                              marginTop: -3,\n                            }}\n                          />\n                        </Badge>\n                      }\n                      variant={\"regular\"}\n                      onClick={() => {\n                        setRewindSelect(true);\n                      }}\n                      disabled={\n                        !isVersioningApplied ||\n                        !hasPermission(bucketName, [\n                          IAM_SCOPES.S3_GET_OBJECT,\n                          IAM_SCOPES.S3_GET_ACTIONS,\n                        ])\n                      }\n                    />\n                  </TooltipWrapper>\n                )}\n                <TooltipWrapper tooltip={\"Reload List\"}>\n                  <Button\n                    id={\"refresh-objects-list\"}\n                    label={\"Refresh\"}\n                    icon={<RefreshIcon />}\n                    variant={\"regular\"}\n                    onClick={() => {\n                      if (versionsMode) {\n                        dispatch(setLoadingVersions(true));\n                      } else {\n                        dispatch(resetMessages());\n                        dispatch(setLoadingRecords(true));\n                        dispatch(setLoadingObjects(true));\n                      }\n                    }}\n                    disabled={\n                      anonymousMode\n                        ? false\n                        : !hasPermission(bucketName, [\n                            IAM_SCOPES.S3_LIST_BUCKET,\n                            IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                          ]) || rewindEnabled\n                    }\n                  />\n                </TooltipWrapper>\n                <input\n                  type=\"file\"\n                  multiple\n                  accept={\n                    allowedFileExtensions ? allowedFileExtensions : undefined\n                  }\n                  onChange={handleUploadButton}\n                  style={{ display: \"none\" }}\n                  ref={fileUpload}\n                />\n                <input\n                  type=\"file\"\n                  multiple\n                  onChange={handleUploadButton}\n                  style={{ display: \"none\" }}\n                  ref={folderUpload}\n                />\n                <UploadFilesButton\n                  bucketName={bucketName}\n                  uploadPath={pathAsResourceInPolicy}\n                  uploadFileFunction={(closeMenu) => {\n                    if (fileUpload && fileUpload.current) {\n                      fileUpload.current.click();\n                    }\n                    closeMenu();\n                  }}\n                  uploadFolderFunction={(closeMenu) => {\n                    if (folderUpload && folderUpload.current) {\n                      folderUpload.current.click();\n                    }\n                    closeMenu();\n                  }}\n                />\n              </Fragment>\n            }\n            bottomBorder={false}\n          />\n        </Grid>\n        <div\n          id=\"object-list-wrapper\"\n          {...getRootProps({ style: { ...dndStyles } })}\n        >\n          <input {...getInputProps()} />\n          <Grid\n            item\n            xs={12}\n            className={classes.tableBlock}\n            sx={{ border: \"#EAEDEE 1px solid\", borderTop: 0 }}\n          >\n            {versionsMode ? (\n              <Fragment>\n                {selectedInternalPaths !== null && (\n                  <VersionsNavigator\n                    internalPaths={selectedInternalPaths}\n                    bucketName={bucketName}\n                  />\n                )}\n              </Fragment>\n            ) : (\n              <SecureComponent\n                scopes={[\n                  IAM_SCOPES.S3_LIST_BUCKET,\n                  IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                ]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <Grid\n                  item\n                  xs={12}\n                  className={`${classes.fullContainer} ${\n                    detailsOpen ? \"detailsOpen\" : \"\"\n                  } `}\n                >\n                  {!anonymousMode && (\n                    <Grid item xs={12} className={classes.breadcrumbsContainer}>\n                      <BrowserBreadcrumbs\n                        bucketName={bucketName}\n                        internalPaths={pageTitle}\n                        additionalOptions={\n                          !isVersioningApplied || rewindEnabled ? null : (\n                            <div>\n                              <CheckboxWrapper\n                                name={\"deleted_objects\"}\n                                id={\"showDeletedObjects\"}\n                                value={\"deleted_on\"}\n                                label={\"Show deleted objects\"}\n                                onChange={setDeletedAction}\n                                checked={showDeleted}\n                                overrideLabelClasses={classes.labelStyle}\n                                className={classes.overrideShowDeleted}\n                                noTopMargin\n                              />\n                            </div>\n                          )\n                        }\n                        hidePathButton={false}\n                      />\n                    </Grid>\n                  )}\n                  <ListObjectsTable internalPaths={selectedInternalPaths} />\n                </Grid>\n              </SecureComponent>\n            )}\n            {!anonymousMode && (\n              <SecureComponent\n                scopes={[\n                  IAM_SCOPES.S3_LIST_BUCKET,\n                  IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                ]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <DetailsListPanel\n                  open={detailsOpen}\n                  closePanel={() => {\n                    onClosePanel(false);\n                  }}\n                  className={`${versionsMode ? classes.hideListOnSmall : \"\"}`}\n                >\n                  {selectedObjects.length > 0 && (\n                    <ActionsList\n                      items={multiActionButtons}\n                      title={\"Selected Objects:\"}\n                    />\n                  )}\n                  {selectedInternalPaths !== null && (\n                    <ObjectDetailPanel\n                      internalPaths={selectedInternalPaths}\n                      bucketName={bucketName}\n                      onClosePanel={onClosePanel}\n                      versioningInfo={versioningConfig}\n                      locking={lockingEnabled}\n                    />\n                  )}\n                </DetailsListPanel>\n              </SecureComponent>\n            )}\n          </Grid>\n        </div>\n      </PageLayout>\n    </Fragment>\n  );\n};\n\nexport default ListObjects;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect } from \"react\";\nimport {\n  IAM_PAGES,\n  IAM_PERMISSIONS,\n  IAM_ROLES,\n  IAM_SCOPES,\n} from \"../../../common/SecureComponent/permissions\";\nimport { SecureComponent } from \"../../../common/SecureComponent\";\nimport TooltipWrapper from \"../Common/TooltipWrapper/TooltipWrapper\";\nimport { BackLink, Button, SettingsIcon, Grid } from \"mds\";\nimport AutoColorIcon from \"../Common/Components/AutoColorIcon\";\nimport { useSelector } from \"react-redux\";\nimport { selFeatures } from \"../consoleSlice\";\nimport hasPermission from \"../../../common/SecureComponent/accessControl\";\nimport { useNavigate } from \"react-router-dom\";\nimport SearchBox from \"../Common/SearchBox\";\nimport { setSearchVersions } from \"./objectBrowserSlice\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport FilterObjectsSB from \"./FilterObjectsSB\";\nimport PageHeaderWrapper from \"../Common/PageHeaderWrapper/PageHeaderWrapper\";\nimport ObjectManagerButton from \"../Common/ObjectManager/ObjectManagerButton\";\nimport HelpMenu from \"../HelpMenu\";\nimport { setHelpName } from \"../../../systemSlice\";\n\ninterface IOBHeader {\n  bucketName: string;\n}\n\nconst OBHeader = ({ bucketName }: IOBHeader) => {\n  const dispatch = useAppDispatch();\n  const features = useSelector(selFeatures);\n\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode\n  );\n  const versionedFile = useSelector(\n    (state: AppState) => state.objectBrowser.versionedFile\n  );\n  const searchVersions = useSelector(\n    (state: AppState) => state.objectBrowser.searchVersions\n  );\n\n  const obOnly = !!features?.includes(\"object-browser-only\");\n\n  const navigate = useNavigate();\n\n  const configureBucketAllowed = hasPermission(bucketName, [\n    IAM_SCOPES.S3_GET_BUCKET_POLICY,\n    IAM_SCOPES.S3_PUT_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,\n    IAM_SCOPES.S3_DELETE_BUCKET,\n    IAM_SCOPES.S3_GET_BUCKET_NOTIFICATIONS,\n    IAM_SCOPES.S3_PUT_BUCKET_NOTIFICATIONS,\n    IAM_SCOPES.S3_GET_REPLICATION_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_REPLICATION_CONFIGURATION,\n    IAM_SCOPES.S3_GET_LIFECYCLE_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_LIFECYCLE_CONFIGURATION,\n    IAM_SCOPES.ADMIN_GET_BUCKET_QUOTA,\n    IAM_SCOPES.ADMIN_SET_BUCKET_QUOTA,\n    IAM_SCOPES.S3_PUT_BUCKET_TAGGING,\n    IAM_SCOPES.S3_GET_BUCKET_TAGGING,\n    IAM_SCOPES.S3_LIST_BUCKET_VERSIONS,\n    IAM_SCOPES.S3_GET_BUCKET_POLICY_STATUS,\n    IAM_SCOPES.S3_DELETE_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const searchBar = (\n    <Fragment>\n      {!versionsMode ? (\n        <SecureComponent\n          scopes={[IAM_SCOPES.S3_LIST_BUCKET, IAM_SCOPES.S3_ALL_LIST_BUCKET]}\n          resource={bucketName}\n          errorProps={{ disabled: true }}\n        >\n          <FilterObjectsSB />\n        </SecureComponent>\n      ) : (\n        <Fragment>\n          <SearchBox\n            placeholder={`Start typing to filter versions of ${versionedFile}`}\n            onChange={(value) => {\n              dispatch(setSearchVersions(value));\n            }}\n            value={searchVersions}\n          />\n        </Fragment>\n      )}\n    </Fragment>\n  );\n\n  useEffect(() => {\n    dispatch(setHelpName(\"object_browser\"));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Fragment>\n      {!obOnly ? (\n        <PageHeaderWrapper\n          label={\n            <BackLink\n              label={\"Object Browser\"}\n              onClick={() => {\n                navigate(IAM_PAGES.OBJECT_BROWSER_VIEW);\n              }}\n            />\n          }\n          actions={\n            <Fragment>\n              <SecureComponent\n                scopes={IAM_PERMISSIONS[IAM_ROLES.BUCKET_ADMIN]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <TooltipWrapper\n                  tooltip={\n                    configureBucketAllowed\n                      ? \"Configure Bucket\"\n                      : \"You do not have the required permissions to configure this bucket. Please contact your MinIO administrator to request \" +\n                        IAM_ROLES.BUCKET_ADMIN +\n                        \" permisions.\"\n                  }\n                >\n                  <Button\n                    id={\"configure-bucket-main\"}\n                    color=\"primary\"\n                    aria-label=\"Configure Bucket\"\n                    onClick={() => navigate(`/buckets/${bucketName}/admin`)}\n                    icon={\n                      <SettingsIcon\n                        style={{ width: 20, height: 20, marginTop: -3 }}\n                      />\n                    }\n                    style={{\n                      padding: \"0 10px\",\n                    }}\n                  />\n                </TooltipWrapper>\n              </SecureComponent>\n              <HelpMenu />\n            </Fragment>\n          }\n          middleComponent={searchBar}\n        />\n      ) : (\n        <Grid\n          container\n          sx={{\n            padding: \"20px 32px 0\",\n          }}\n        >\n          <Grid>\n            <AutoColorIcon marginRight={30} marginTop={10} />\n          </Grid>\n          <Grid\n            item\n            xs\n            sx={{\n              display: \"flex\",\n              gap: 10,\n            }}\n          >\n            {searchBar}\n            <ObjectManagerButton />\n          </Grid>\n        </Grid>\n      )}\n    </Fragment>\n  );\n};\n\nexport default OBHeader;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { DateTime } from \"luxon\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { fieldBasic, tooltipHelper } from \"../common/styleLibrary\";\nimport { Grid, InputBox, InputLabel, LinkIcon } from \"mds\";\n\ninterface IDaysSelector {\n  classes: any;\n  id: string;\n  initialDate: Date;\n  maxDays?: number;\n  label: string;\n  entity: string;\n  onChange: (newDate: string, isValid: boolean) => void;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    labelContainer: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginBottom: 15,\n    },\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      paddingBottom: 10,\n      marginTop: 11,\n      marginBottom: 6,\n    },\n    durationInputs: {\n      display: \"flex\",\n      alignItems: \"flex-start\",\n      justifyContent: \"flex-start\",\n      gap: 10,\n    },\n\n    validityIndicator: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-start\",\n      marginTop: 25,\n      marginLeft: 10,\n    },\n    invalidDurationText: {\n      marginTop: 15,\n      display: \"flex\",\n      color: \"red\",\n      fontSize: 11,\n    },\n    reverseInput: {\n      flexFlow: \"row-reverse\",\n      \"& > label\": {\n        fontWeight: 400,\n        marginLeft: 15,\n        marginRight: 25,\n      },\n    },\n    validityText: {\n      fontSize: 14,\n      marginTop: 15,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      \"@media (max-width: 900px)\": {\n        flexFlow: \"column\",\n      },\n      \"& > .min-icon\": {\n        color: \"#5E5E5E\",\n        width: 15,\n        height: 15,\n        marginRight: 10,\n      },\n    },\n    validTill: {\n      fontWeight: \"bold\",\n      marginLeft: 15,\n    },\n  });\n\nconst calculateNewTime = (\n  initialDate: Date,\n  days: number,\n  hours: number,\n  minutes: number\n) => {\n  return DateTime.fromJSDate(initialDate).plus({ days, hours, minutes });\n};\n\nconst DaysSelector = ({\n  classes,\n  id,\n  initialDate,\n  label,\n  maxDays,\n  entity,\n  onChange,\n}: IDaysSelector) => {\n  const [selectedDays, setSelectedDays] = useState<number>(7);\n  const [selectedHours, setSelectedHours] = useState<number>(0);\n  const [selectedMinutes, setSelectedMinutes] = useState<number>(0);\n  const [validDate, setValidDate] = useState<boolean>(true);\n  const [dateSelected, setDateSelected] = useState<DateTime>(DateTime.now());\n\n  useEffect(() => {\n    if (\n      !isNaN(selectedHours) &&\n      !isNaN(selectedDays) &&\n      !isNaN(selectedMinutes)\n    ) {\n      setDateSelected(\n        calculateNewTime(\n          initialDate,\n          selectedDays,\n          selectedHours,\n          selectedMinutes\n        )\n      );\n    }\n  }, [initialDate, selectedDays, selectedHours, selectedMinutes]);\n\n  useEffect(() => {\n    if (validDate) {\n      const formattedDate = dateSelected.toFormat(\"yyyy-MM-dd HH:mm:ss\");\n      onChange(formattedDate.split(\" \").join(\"T\"), true);\n    } else {\n      onChange(\"0000-00-00\", false);\n    }\n  }, [dateSelected, onChange, validDate]);\n\n  // Basic validation for inputs\n  useEffect(() => {\n    let valid = true;\n    if (\n      selectedDays < 0 ||\n      (maxDays && selectedDays > maxDays) ||\n      isNaN(selectedDays)\n    ) {\n      valid = false;\n    }\n\n    if (selectedHours < 0 || selectedHours > 23 || isNaN(selectedHours)) {\n      valid = false;\n    }\n\n    if (selectedMinutes < 0 || selectedMinutes > 59 || isNaN(selectedMinutes)) {\n      valid = false;\n    }\n\n    if (\n      maxDays &&\n      selectedDays === maxDays &&\n      (selectedHours !== 0 || selectedMinutes !== 0)\n    ) {\n      valid = false;\n    }\n\n    if (selectedDays <= 0 && selectedHours <= 0 && selectedMinutes <= 0) {\n      valid = false;\n    }\n\n    setValidDate(valid);\n  }, [\n    dateSelected,\n    maxDays,\n    onChange,\n    selectedDays,\n    selectedHours,\n    selectedMinutes,\n  ]);\n\n  const extraStyles = {\n    \"& .textBoxContainer\": {\n      minWidth: 0,\n    },\n    \"& input\": {\n      textAlign: \"center\" as const,\n      paddingRight: 10,\n      paddingLeft: 10,\n      width: 40,\n    },\n  };\n\n  return (\n    <Fragment>\n      <Grid container className={classes.fieldContainer}>\n        <Grid item xs={12} className={classes.labelContainer}>\n          <InputLabel htmlFor={id}>{label}</InputLabel>\n        </Grid>\n        <Grid item xs={12} className={classes.durationInputs}>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max={maxDays ? maxDays.toString() : \"999\"}\n              label=\"Days\"\n              name={id}\n              onChange={(e) => {\n                setSelectedDays(parseInt(e.target.value));\n              }}\n              value={selectedDays.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max=\"23\"\n              label=\"Hours\"\n              name={id}\n              onChange={(e) => {\n                setSelectedHours(parseInt(e.target.value));\n              }}\n              value={selectedHours.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max=\"59\"\n              label=\"Minutes\"\n              name={id}\n              onChange={(e) => {\n                setSelectedMinutes(parseInt(e.target.value));\n              }}\n              value={selectedMinutes.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          className={`${classes.validityIndicator} ${classes.formFieldRow}`}\n        >\n          {validDate ? (\n            <div className={classes.validityText}>\n              <LinkIcon />\n              <div className={classes.validityLabel}>\n                {entity} will be available until:\n              </div>{\" \"}\n              <div className={classes.validTill}>\n                {dateSelected.toFormat(\"MM/dd/yyyy HH:mm:ss\")}\n              </div>\n            </div>\n          ) : (\n            <div className={classes.invalidDurationText}>\n              Please select a valid duration.\n            </div>\n          )}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(DaysSelector);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Button, CopyIcon, ReadBox, ShareIcon, Grid } from \"mds\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\n\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport DaysSelector from \"../../../../Common/FormComponents/DaysSelector/DaysSelector\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport {\n  selDistSet,\n  setModalErrorSnackMessage,\n  setModalSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { BucketObject } from \"api/consoleApi\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IShareFileProps {\n  open: boolean;\n  bucketName: string;\n  dataObject: BucketObject;\n  closeModalAndRefresh: () => void;\n}\n\nconst ShareFile = ({\n  open,\n  closeModalAndRefresh,\n  bucketName,\n  dataObject,\n}: IShareFileProps) => {\n  const dispatch = useAppDispatch();\n  const distributedSetup = useSelector(selDistSet);\n  const [shareURL, setShareURL] = useState<string>(\"\");\n  const [isLoadingVersion, setIsLoadingVersion] = useState<boolean>(true);\n  const [isLoadingFile, setIsLoadingFile] = useState<boolean>(false);\n  const [selectedDate, setSelectedDate] = useState<string>(\"\");\n  const [dateValid, setDateValid] = useState<boolean>(true);\n  const [versionID, setVersionID] = useState<string>(\"null\");\n\n  const initialDate = new Date();\n\n  const dateChanged = (newDate: string, isValid: boolean) => {\n    setDateValid(isValid);\n    if (isValid) {\n      setSelectedDate(newDate);\n      return;\n    }\n    setSelectedDate(\"\");\n    setShareURL(\"\");\n  };\n\n  useEffect(() => {\n    // In case version is undefined, we get the latest version of the object\n    if (dataObject.version_id === undefined) {\n      // In case it is not distributed setup, then we default to \"null\";\n      if (distributedSetup) {\n        api.buckets\n          .listObjects(bucketName, {\n            prefix: encodeURLString(dataObject.name || \"\"),\n            with_versions: distributedSetup,\n          })\n          .then((res) => {\n            const result: BucketObject[] = res.data.objects || [];\n\n            const latestVersion: BucketObject | undefined = result.find(\n              (elem: BucketObject) => elem.is_latest\n            );\n\n            if (latestVersion) {\n              setVersionID(`${latestVersion.version_id}`);\n              return;\n            }\n\n            // Version couldn't be retrieved, we default\n            setVersionID(\"null\");\n          })\n          .catch((err) => {\n            dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n          });\n\n        setIsLoadingVersion(false);\n        return;\n      }\n      setVersionID(\"null\");\n      setIsLoadingVersion(false);\n      return;\n    }\n    setVersionID(dataObject.version_id || \"null\");\n    setIsLoadingVersion(false);\n  }, [bucketName, dataObject, distributedSetup, dispatch]);\n\n  useEffect(() => {\n    if (dateValid && !isLoadingVersion) {\n      setIsLoadingFile(true);\n      setShareURL(\"\");\n\n      const slDate = new Date(`${selectedDate}`);\n      const currDate = new Date();\n\n      const diffDate = Math.ceil(\n        (slDate.getTime() - currDate.getTime()) / 1000\n      );\n\n      if (diffDate > 0) {\n        api.buckets\n          .shareObject(bucketName, {\n            prefix: encodeURLString(dataObject.name || \"\"),\n            version_id: versionID,\n            expires: selectedDate !== \"\" ? `${diffDate}s` : \"\",\n          })\n          .then((res) => {\n            setShareURL(res.data);\n            setIsLoadingFile(false);\n          })\n          .catch((err) => {\n            dispatch(setModalErrorSnackMessage(errorToHandler(err.error)));\n            setShareURL(\"\");\n            setIsLoadingFile(false);\n          });\n      }\n    }\n  }, [\n    dataObject,\n    selectedDate,\n    bucketName,\n    dateValid,\n    setShareURL,\n    dispatch,\n    distributedSetup,\n    isLoadingVersion,\n    versionID,\n  ]);\n\n  return (\n    <React.Fragment>\n      <ModalWrapper\n        title=\"Share File\"\n        titleIcon={<ShareIcon style={{ fill: \"#4CCB92\" }} />}\n        modalOpen={open}\n        onClose={() => {\n          closeModalAndRefresh();\n        }}\n      >\n        {isLoadingVersion && (\n          <Grid item xs={12}>\n            <LinearProgress />\n          </Grid>\n        )}\n        {!isLoadingVersion && (\n          <Fragment>\n            <Grid\n              item\n              xs={12}\n              sx={{\n                fontSize: 14,\n                fontWeight: 400,\n              }}\n            >\n              This is a temporary URL with integrated access credentials for\n              sharing objects valid for up to 7 days.\n              <br />\n              <br />\n              The temporary URL expires after the configured time limit.\n            </Grid>\n            <br />\n            <Grid item xs={12}>\n              <DaysSelector\n                initialDate={initialDate}\n                id=\"date\"\n                label=\"Active for\"\n                maxDays={7}\n                onChange={dateChanged}\n                entity=\"Link\"\n              />\n            </Grid>\n            <Grid\n              item\n              xs={12}\n              sx={{\n                marginBottom: 10,\n              }}\n            >\n              <ReadBox\n                actionButton={\n                  <CopyToClipboard text={shareURL}>\n                    <Button\n                      id={\"copy-path\"}\n                      variant=\"regular\"\n                      onClick={() => {\n                        dispatch(\n                          setModalSnackMessage(\"Share URL Copied to clipboard\")\n                        );\n                      }}\n                      disabled={shareURL === \"\" || isLoadingFile}\n                      style={{\n                        width: \"28px\",\n                        height: \"28px\",\n                        padding: \"0px\",\n                      }}\n                      icon={<CopyIcon />}\n                    />\n                  </CopyToClipboard>\n                }\n              >\n                {shareURL}\n              </ReadBox>\n            </Grid>\n          </Fragment>\n        )}\n      </ModalWrapper>\n    </React.Fragment>\n  );\n};\n\nexport default ShareFile;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Grid, LinearProgress } from \"@mui/material\";\nimport { BucketObjectItem } from \"../ListObjects/types\";\nimport { extensionPreview } from \"../utils\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport clsx from \"clsx\";\n\nconst styles = () =>\n  createStyles({\n    iframeContainer: {\n      border: \"0px\",\n      flex: \"1 1 auto\",\n      width: \"100%\",\n      height: 250,\n      backgroundColor: \"transparent\",\n      borderRadius: 5,\n\n      \"&.image\": {\n        height: 500,\n      },\n      \"&.text\": {\n        height: 700,\n      },\n      \"&.audio\": {\n        height: 150,\n      },\n      \"&.video\": {\n        height: 350,\n      },\n      \"&.fullHeight\": {\n        height: \"calc(100vh - 185px)\",\n      },\n    },\n    iframeBase: {\n      backgroundColor: \"#fff\",\n    },\n    iframeHidden: {\n      display: \"none\",\n    },\n  });\n\ninterface IPreviewFileProps {\n  bucketName: string;\n  object: BucketObjectItem | null;\n  isFullscreen?: boolean;\n  classes: any;\n}\n\nconst PreviewFile = ({\n  bucketName,\n  object,\n  isFullscreen = false,\n  classes,\n}: IPreviewFileProps) => {\n  const [loading, setLoading] = useState<boolean>(true);\n\n  let path = \"\";\n\n  if (object) {\n    const encodedPath = encodeURLString(object.name);\n    let basename = document.baseURI.replace(window.location.origin, \"\");\n    path = `${window.location.origin}${basename}api/v1/buckets/${bucketName}/objects/download?preview=true&prefix=${encodedPath}`;\n    if (object.version_id) {\n      path = path.concat(`&version_id=${object.version_id}`);\n    }\n  }\n\n  const objectType = extensionPreview(object?.name || \"\");\n\n  const iframeLoaded = () => {\n    setLoading(false);\n  };\n\n  return (\n    <Fragment>\n      {loading && (\n        <Grid item xs={12}>\n          <LinearProgress />\n        </Grid>\n      )}\n      <div style={{ textAlign: \"center\" }}>\n        {objectType === \"video\" && (\n          <video\n            style={{\n              width: \"auto\",\n              height: \"auto\",\n              maxWidth: \"calc(100vw - 100px)\",\n              maxHeight: \"calc(100vh - 200px)\",\n            }}\n            autoPlay={true}\n            controls={true}\n            muted={false}\n            playsInline={true}\n            onPlay={iframeLoaded}\n          >\n            <source src={path} type=\"video/mp4\" />\n          </video>\n        )}\n        {objectType === \"audio\" && (\n          <audio\n            style={{\n              width: \"100%\",\n              height: \"auto\",\n            }}\n            autoPlay={true}\n            controls={true}\n            muted={false}\n            playsInline={true}\n            onPlay={iframeLoaded}\n          >\n            <source src={path} type=\"audio/mpeg\" />\n          </audio>\n        )}\n        {objectType === \"image\" && (\n          <img\n            style={{\n              width: \"auto\",\n              height: \"auto\",\n              maxWidth: \"100vw\",\n              maxHeight: \"100vh\",\n            }}\n            src={path}\n            alt={\"preview\"}\n            onLoad={iframeLoaded}\n          />\n        )}\n        {objectType !== \"video\" &&\n          objectType !== \"audio\" &&\n          objectType !== \"image\" && (\n            <div\n              className={clsx(classes.iframeBase, {\n                [classes.iframeHidden]: loading,\n              })}\n            >\n              <iframe\n                src={path}\n                title=\"File Preview\"\n                allowTransparency\n                className={`${classes.iframeContainer} ${\n                  isFullscreen ? \"fullHeight\" : objectType\n                }`}\n                onLoad={iframeLoaded}\n              >\n                File couldn't be loaded. Please try Download instead\n              </iframe>\n            </div>\n          )}\n      </div>\n    </Fragment>\n  );\n};\nexport default withStyles(styles)(PreviewFile);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport PreviewFileContent from \"./PreviewFileContent\";\nimport { BucketObjectItem } from \"../ListObjects/types\";\nimport { ObjectPreviewIcon } from \"mds\";\n\ninterface IPreviewFileProps {\n  open: boolean;\n  bucketName: string;\n  object: BucketObjectItem | null;\n  onClosePreview: () => void;\n}\n\nconst PreviewFileModal = ({\n  open,\n  bucketName,\n  object,\n  onClosePreview,\n}: IPreviewFileProps) => {\n  return (\n    <Fragment>\n      <ModalWrapper\n        modalOpen={open}\n        title={`Preview - ${object?.name}`}\n        onClose={onClosePreview}\n        wideLimit={false}\n        titleIcon={<ObjectPreviewIcon />}\n      >\n        <PreviewFileContent bucketName={bucketName} object={object} />\n      </ModalWrapper>\n    </Fragment>\n  );\n};\n\nexport default PreviewFileModal;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { BucketObjectItem } from \"./ListObjects/types\";\nimport { encodeURLString } from \"../../../../../common/utils\";\nimport { removeTrace } from \"../../../ObjectBrowser/transferManager\";\nimport streamSaver from \"streamsaver\";\nimport store from \"../../../../../store\";\nimport { PermissionResource } from \"api/consoleApi\";\n\nexport const download = (\n  bucketName: string,\n  objectPath: string,\n  versionID: any,\n  fileSize: number,\n  overrideFileName: string | null = null,\n  id: string,\n  progressCallback: (progress: number) => void,\n  completeCallback: () => void,\n  errorCallback: (msg: string) => void,\n  abortCallback: () => void,\n  toastCallback: () => void\n) => {\n  const anchor = document.createElement(\"a\");\n  document.body.appendChild(anchor);\n  let basename = document.baseURI.replace(window.location.origin, \"\");\n  const state = store.getState();\n  const anonymousMode = state.system.anonymousMode;\n\n  let path = `${\n    window.location.origin\n  }${basename}api/v1/buckets/${bucketName}/objects/download?prefix=${objectPath}${\n    overrideFileName !== null && overrideFileName.trim() !== \"\"\n      ? `&override_file_name=${encodeURLString(overrideFileName || \"\")}`\n      : \"\"\n  }`;\n  if (versionID) {\n    path = path.concat(`&version_id=${versionID}`);\n  }\n  return new DownloadHelper(\n    path,\n    id,\n    anonymousMode,\n    fileSize,\n    progressCallback,\n    completeCallback,\n    errorCallback,\n    abortCallback,\n    toastCallback\n  );\n};\n\nclass DownloadHelper {\n  aborter: AbortController;\n  path: string;\n  id: string;\n  filename: string = \"\";\n  anonymousMode: boolean;\n  fileSize: number = 0;\n  writer: any = null;\n  progressCallback: (progress: number) => void;\n  completeCallback: () => void;\n  errorCallback: (msg: string) => void;\n  abortCallback: () => void;\n  toastCallback: () => void;\n\n  constructor(\n    path: string,\n    id: string,\n    anonymousMode: boolean,\n    fileSize: number,\n    progressCallback: (progress: number) => void,\n    completeCallback: () => void,\n    errorCallback: (msg: string) => void,\n    abortCallback: () => void,\n    toastCallback: () => void\n  ) {\n    this.aborter = new AbortController();\n    this.path = path;\n    this.id = id;\n    this.anonymousMode = anonymousMode;\n    this.fileSize = fileSize;\n    this.progressCallback = progressCallback;\n    this.completeCallback = completeCallback;\n    this.errorCallback = errorCallback;\n    this.abortCallback = abortCallback;\n    this.toastCallback = toastCallback;\n  }\n\n  abort(): void {\n    this.aborter.abort();\n    this.abortCallback();\n    if (this.writer) {\n      this.writer.abort();\n    }\n  }\n\n  send(): void {\n    let isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    if (isSafari) {\n      this.toastCallback();\n      this.downloadByBrowser();\n    } else if (!this.fileSize) {\n      this.downloadByBrowser();\n    } else {\n      this.download({\n        url: this.path,\n        chunkSize: 1024 * 1024 * 1024 * 1.5,\n      });\n    }\n  }\n\n  async getRangeContent(url: string, start: number, end: number) {\n    const info = this.getRequestInfo(start, end);\n    const response = await fetch(url, info);\n    if (response.ok && response.body) {\n      if (!this.filename) {\n        this.filename = this.getFilename(response);\n      }\n      if (!this.writer) {\n        this.writer = streamSaver.createWriteStream(this.filename).getWriter();\n      }\n      const reader = response.body.getReader();\n      let done, value;\n      while (!done) {\n        ({ value, done } = await reader.read());\n        if (done) {\n          break;\n        }\n        await this.writer.write(value);\n      }\n    } else {\n      throw new Error(`Unexpected response status code (${response.status}).`);\n    }\n  }\n\n  getRequestInfo(start: number, end: number) {\n    const info: RequestInit = {\n      signal: this.aborter.signal,\n      headers: { range: `bytes=${start}-${end}` },\n    };\n    if (this.anonymousMode) {\n      info.headers = { ...info.headers, \"X-Anonymous\": \"1\" };\n    }\n    return info;\n  }\n\n  getFilename(response: Response) {\n    const rspHeader = response.headers.get(\"Content-Disposition\");\n    if (rspHeader) {\n      let rspHeaderDecoded = decodeURIComponent(rspHeader);\n      return rspHeaderDecoded.split('\"')[1];\n    }\n    return \"download\";\n  }\n\n  async download({ url, chunkSize }: any) {\n    const numberOfChunks = Math.ceil(this.fileSize / chunkSize);\n    this.progressCallback(0);\n    try {\n      for (let i = 0; i < numberOfChunks; i++) {\n        let start = i * chunkSize;\n        let end =\n          i + 1 === numberOfChunks\n            ? this.fileSize - 1\n            : (i + 1) * chunkSize - 1;\n        await this.getRangeContent(url, start, end);\n        let percentComplete = Math.round(((i + 1) / numberOfChunks) * 100);\n        this.progressCallback(percentComplete);\n      }\n      this.writer.close();\n      this.completeCallback();\n      removeTrace(this.id);\n    } catch (e: any) {\n      this.errorCallback(e.message);\n    }\n  }\n\n  downloadByBrowser() {\n    const link = document.createElement(\"a\");\n    link.href = this.path;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    this.completeCallback();\n    removeTrace(this.id);\n  }\n}\n\n// Review file extension by name & returns the type of preview browser that can be used\nexport const extensionPreview = (\n  fileName: string\n): \"image\" | \"text\" | \"audio\" | \"video\" | \"none\" => {\n  const imageExtensions = [\n    \"jif\",\n    \"jfif\",\n    \"apng\",\n    \"avif\",\n    \"svg\",\n    \"webp\",\n    \"bmp\",\n    \"ico\",\n    \"jpg\",\n    \"jpe\",\n    \"jpeg\",\n    \"gif\",\n    \"png\",\n    \"heic\",\n  ];\n  const textExtensions = [\"pdf\"];\n  const audioExtensions = [\"wav\", \"mp3\", \"alac\", \"aiff\", \"dsd\", \"pcm\"];\n  const videoExtensions = [\n    \"mp4\",\n    \"avi\",\n    \"mpg\",\n    \"webm\",\n    \"mov\",\n    \"flv\",\n    \"mkv\",\n    \"wmv\",\n    \"avchd\",\n    \"mpeg-4\",\n  ];\n\n  let fileExtension = fileName.split(\".\").pop();\n\n  if (!fileExtension) {\n    return \"none\";\n  }\n\n  fileExtension = fileExtension.toLowerCase();\n\n  if (imageExtensions.includes(fileExtension)) {\n    return \"image\";\n  }\n\n  if (textExtensions.includes(fileExtension)) {\n    return \"text\";\n  }\n\n  if (audioExtensions.includes(fileExtension)) {\n    return \"audio\";\n  }\n\n  if (videoExtensions.includes(fileExtension)) {\n    return \"video\";\n  }\n\n  return \"none\";\n};\n\nexport const sortListObjects = (fieldSort: string) => {\n  switch (fieldSort) {\n    case \"name\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        a.name.localeCompare(b.name);\n    case \"last_modified\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        new Date(a.last_modified).getTime() -\n        new Date(b.last_modified).getTime();\n    case \"size\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        (a.size || -1) - (b.size || -1);\n  }\n};\n\nexport const permissionItems = (\n  bucketName: string,\n  currentPath: string,\n  permissionsArray: PermissionResource[]\n): BucketObjectItem[] | null => {\n  if (permissionsArray.length === 0) {\n    return null;\n  }\n\n  // We get permissions applied to the current bucket\n  const filteredPermissionsForBucket = permissionsArray.filter(\n    (permissionItem) =>\n      permissionItem.resource?.endsWith(`:${bucketName}`) ||\n      permissionItem.resource?.includes(`:${bucketName}/`)\n  );\n\n  // No permissions for this bucket. we can throw the error message at this point\n  if (filteredPermissionsForBucket.length === 0) {\n    return null;\n  }\n\n  let returnElements: BucketObjectItem[] = [];\n\n  // We split current path\n  const splitCurrentPath = currentPath.split(\"/\");\n\n  filteredPermissionsForBucket.forEach((permissionElement) => {\n    // We review paths in resource address\n\n    // We split ARN & get the last item to check the URL\n    const splitARN = permissionElement.resource?.split(\":\");\n    const urlARN = splitARN?.pop() || \"\";\n\n    // We split the paths of the URL & compare against current location to see if there are more items to include. In case current level is a wildcard or is the last one, we omit this validation\n\n    const splitURLARN = urlARN.split(\"/\");\n\n    // splitURL has more items than bucket name, we can continue validating\n    if (splitURLARN.length > 1) {\n      splitURLARN.every((currentElementInPath, index) => {\n        // It is a wildcard element. We can store the verification as value should be included (?)\n        if (currentElementInPath === \"*\") {\n          return false;\n        }\n\n        // Element is not included in the path. The user is trying to browse something else.\n        if (\n          splitCurrentPath[index] &&\n          splitCurrentPath[index] !== currentElementInPath\n        ) {\n          return false;\n        }\n\n        // This element is not included by index in the current paths list. We add it so user can browse into it\n        if (!splitCurrentPath[index]) {\n          returnElements.push({\n            name: `${currentElementInPath}/`,\n            size: 0,\n            last_modified: \"\",\n            version_id: \"\",\n          });\n        }\n\n        return true;\n      });\n    }\n\n    // We review prefixes in allow resources for StringEquals variant only.\n    if (\n      permissionElement.conditionOperator === \"StringEquals\" ||\n      permissionElement.conditionOperator === \"StringLike\"\n    ) {\n      permissionElement.prefixes?.forEach((prefixItem) => {\n        // Prefix Item is not empty?\n        if (prefixItem !== \"\") {\n          const splitItems = prefixItem.split(\"/\");\n\n          let pathToRouteElements: string[] = [];\n\n          // We verify if currentPath is contained in the path begin, if is not contained the  user has no access to this subpath\n          const cleanCurrPath = currentPath.replace(/\\/$/, \"\");\n\n          if (!prefixItem.startsWith(cleanCurrPath) && currentPath !== \"\") {\n            return;\n          }\n\n          // For every split element we iterate and check if we can construct a URL\n          splitItems.every((splitElement, index) => {\n            if (!splitElement.includes(\"*\") && splitElement !== \"\") {\n              if (splitElement !== splitCurrentPath[index]) {\n                returnElements.push({\n                  name: `${pathToRouteElements.join(\"/\")}${\n                    pathToRouteElements.length > 0 ? \"/\" : \"\"\n                  }${splitElement}/`,\n                  size: 0,\n                  last_modified: \"\",\n                  version_id: \"\",\n                });\n                return false;\n              }\n              if (splitElement !== \"\") {\n                pathToRouteElements.push(splitElement);\n              }\n\n              return true;\n            }\n            return false;\n          });\n        }\n      });\n    }\n  });\n\n  // We clean duplicated name entries\n  if (returnElements.length > 0) {\n    let clElements: BucketObjectItem[] = [];\n    let keys: string[] = [];\n\n    returnElements.forEach((itm) => {\n      if (!keys.includes(itm.name)) {\n        clElements.push(itm);\n        keys.push(itm.name);\n      }\n    });\n\n    returnElements = clElements;\n  }\n\n  return returnElements;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { ComponentType, Suspense, SuspenseProps } from \"react\";\n\nfunction withSuspense<P extends string | number | object>(\n  WrappedComponent: ComponentType<P>,\n  fallback: SuspenseProps[\"fallback\"] = null\n) {\n  function ComponentWithSuspense(props: P) {\n    return (\n      <Suspense fallback={fallback}>\n        <WrappedComponent {...(props as any)} />\n      </Suspense>\n    );\n  }\n\n  return ComponentWithSuspense;\n}\n\nexport default withSuspense;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React from \"react\";\nimport { Checkbox, Grid, InputLabel, Tooltip } from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  checkboxIcons,\n  fieldBasic,\n  tooltipHelper,\n} from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\n\ninterface CheckBoxProps {\n  label: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  tooltip?: string;\n  overrideLabelClasses?: string;\n  overrideCheckboxStyles?: React.CSSProperties;\n  index?: number;\n  noTopMargin?: boolean;\n  checked: boolean;\n  className?: string;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    ...checkboxIcons,\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n      margin: \"15px 0\",\n      marginBottom: 0,\n      flexBasis: \"initial\",\n      flexWrap: \"nowrap\",\n    },\n    noTopMargin: {\n      marginTop: 0,\n    },\n  });\n\nconst CheckboxWrapper = ({\n  label,\n  onChange,\n  value,\n  id,\n  name,\n  checked = false,\n  disabled = false,\n  noTopMargin = false,\n  tooltip = \"\",\n  overrideLabelClasses = \"\",\n  overrideCheckboxStyles,\n  classes,\n  className,\n}: CheckBoxProps) => {\n  return (\n    <React.Fragment>\n      <Grid\n        item\n        xs={12}\n        className={`${classes.fieldContainer} ${\n          noTopMargin ? classes.noTopMargin : \"\"\n        } ${className ? className : \"\"}`}\n      >\n        <div>\n          <Checkbox\n            name={name}\n            id={id}\n            value={value}\n            color=\"primary\"\n            inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n            checked={checked}\n            onChange={onChange}\n            checkedIcon={<span className={classes.checkedIcon} />}\n            icon={<span className={classes.unCheckedIcon} />}\n            disabled={disabled}\n            disableRipple\n            disableFocusRipple\n            focusRipple={false}\n            centerRipple={false}\n            disableTouchRipple\n            style={overrideCheckboxStyles || {}}\n          />\n        </div>\n        {label !== \"\" && (\n          <InputLabel\n            htmlFor={id}\n            className={`${classes.noMinWidthLabel} ${overrideLabelClasses}`}\n          >\n            <span>{label}</span>\n            {tooltip !== \"\" && (\n              <div className={classes.tooltipContainer}>\n                <Tooltip title={tooltip} placement=\"top-start\">\n                  <div className={classes.tooltip}>\n                    <HelpIcon />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n          </InputLabel>\n        )}\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(CheckboxWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { InputLabel, Switch, Tooltip, Typography } from \"@mui/material\";\nimport Grid from \"@mui/material/Grid\";\nimport { actionsTray, fieldBasic } from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\nimport clsx from \"clsx\";\nimport { InputProps as StandardInputProps } from \"@mui/material/Input/Input\";\n\ninterface IFormSwitch {\n  label?: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  tooltip?: string;\n  description?: string;\n  index?: number;\n  checked: boolean;\n  switchOnly?: boolean;\n  indicatorLabels?: string[];\n  extraInputProps?: StandardInputProps[\"inputProps\"];\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    indicatorLabelOn: {\n      fontWeight: \"bold\",\n      color: \"#081C42 !important\",\n    },\n    indicatorLabel: {\n      fontSize: 12,\n      color: \"#E2E2E2\",\n      margin: \"0 8px 0 10px\",\n    },\n    fieldDescription: {\n      marginTop: 4,\n      color: \"#999999\",\n    },\n    tooltip: {\n      fontSize: 16,\n    },\n    ...actionsTray,\n    ...fieldBasic,\n  });\n\nconst StyledSwitch = withStyles((theme) => ({\n  root: {\n    width: 50,\n    height: 24,\n    padding: 0,\n    margin: 0,\n  },\n  switchBase: {\n    padding: 1,\n    \"&$checked\": {\n      transform: \"translateX(24px)\",\n      color: theme.palette.common.white,\n      \"& + $track\": {\n        backgroundColor: \"#4CCB92\",\n        boxShadow: \"inset 0px 1px 4px rgba(0,0,0,0.1)\",\n        opacity: 1,\n        border: \"none\",\n      },\n    },\n    \"&$focusVisible $thumb\": {\n      color: \"#4CCB92\",\n      border: \"6px solid #fff\",\n    },\n  },\n  thumb: {\n    width: 22,\n    height: 22,\n    backgroundColor: \"#FAFAFA\",\n    border: \"2px solid #FFFFFF\",\n    marginLeft: 1,\n  },\n  track: {\n    borderRadius: 24 / 2,\n    backgroundColor: \"#E2E2E2\",\n    boxShadow: \"inset 0px 1px 4px rgba(0,0,0,0.1)\",\n    opacity: 1,\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\n  },\n  checked: {},\n  focusVisible: {},\n  switchContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n  },\n}))(Switch);\n\nconst FormSwitchWrapper = ({\n  label = \"\",\n  onChange,\n  value,\n  id,\n  name,\n  checked = false,\n  disabled = false,\n  switchOnly = false,\n  tooltip = \"\",\n  description = \"\",\n  classes,\n  indicatorLabels,\n  extraInputProps = {},\n}: IFormSwitch) => {\n  const switchComponent = (\n    <React.Fragment>\n      {!switchOnly && (\n        <span\n          className={clsx(classes.indicatorLabel, {\n            [classes.indicatorLabelOn]: !checked,\n          })}\n        >\n          {indicatorLabels && indicatorLabels.length > 1\n            ? indicatorLabels[1]\n            : \"OFF\"}\n        </span>\n      )}\n      <StyledSwitch\n        checked={checked}\n        onChange={onChange}\n        color=\"primary\"\n        name={name}\n        inputProps={{ \"aria-label\": \"primary checkbox\", ...extraInputProps }}\n        disabled={disabled}\n        disableRipple\n        disableFocusRipple\n        disableTouchRipple\n        value={value}\n        id={id}\n      />\n      {!switchOnly && (\n        <span\n          className={clsx(classes.indicatorLabel, {\n            [classes.indicatorLabelOn]: checked,\n          })}\n        >\n          {indicatorLabels ? indicatorLabels[0] : \"ON\"}\n        </span>\n      )}\n    </React.Fragment>\n  );\n\n  if (switchOnly) {\n    return switchComponent;\n  }\n\n  return (\n    <div>\n      <Grid container alignItems={\"center\"}>\n        <Grid item xs={12} sm={8} md={8}>\n          {label !== \"\" && (\n            <InputLabel htmlFor={id} className={classes.inputLabel}>\n              <span>{label}</span>\n              {tooltip !== \"\" && (\n                <div className={classes.tooltipContainer}>\n                  <Tooltip title={tooltip} placement=\"top-start\">\n                    <div className={classes.tooltip}>\n                      <HelpIcon />\n                    </div>\n                  </Tooltip>\n                </div>\n              )}\n            </InputLabel>\n          )}\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          sm={label !== \"\" ? 4 : 12}\n          md={label !== \"\" ? 4 : 12}\n          textAlign={\"right\"}\n          justifyContent={\"end\"}\n          className={classes.switchContainer}\n        >\n          {switchComponent}\n        </Grid>\n        {description !== \"\" && (\n          <Grid item xs={12} textAlign={\"left\"}>\n            <Typography component=\"p\" className={classes.fieldDescription}>\n              {description}\n            </Typography>\n          </Grid>\n        )}\n      </Grid>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(FormSwitchWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React, { ClipboardEvent, useState } from \"react\";\nimport {\n  Grid,\n  IconButton,\n  InputLabel,\n  TextField,\n  TextFieldProps,\n  Tooltip,\n} from \"@mui/material\";\nimport { OutlinedInputProps } from \"@mui/material/OutlinedInput\";\nimport { InputProps as StandardInputProps } from \"@mui/material/Input\";\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\nimport RemoveRedEyeIcon from \"@mui/icons-material/RemoveRedEye\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  fieldBasic,\n  inputFieldStyles,\n  tooltipHelper,\n} from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\nimport clsx from \"clsx\";\n\ninterface InputBoxProps {\n  label: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onKeyPress?: (e: any) => void;\n  onFocus?: () => void;\n  onPaste?: (e: ClipboardEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  multiline?: boolean;\n  type?: string;\n  tooltip?: string;\n  autoComplete?: string;\n  index?: number;\n  error?: string;\n  required?: boolean;\n  placeholder?: string;\n  min?: string;\n  max?: string;\n  overlayId?: string;\n  overlayIcon?: any;\n  overlayAction?: () => void;\n  overlayObject?: any;\n  extraInputProps?: StandardInputProps[\"inputProps\"];\n  noLabelMinWidth?: boolean;\n  pattern?: string;\n  autoFocus?: boolean;\n  className?: string;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    textBoxContainer: {\n      flexGrow: 1,\n      position: \"relative\",\n    },\n    overlayAction: {\n      position: \"absolute\",\n      right: 5,\n      top: 6,\n      \"& svg\": {\n        maxWidth: 15,\n        maxHeight: 15,\n      },\n      \"&.withLabel\": {\n        top: 5,\n      },\n    },\n  });\n\nconst inputStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...inputFieldStyles,\n  })\n);\n\nfunction InputField(props: TextFieldProps) {\n  const classes = inputStyles();\n\n  return (\n    <TextField\n      InputProps={{ classes } as Partial<OutlinedInputProps>}\n      {...props}\n    />\n  );\n}\n\nconst InputBoxWrapper = ({\n  label,\n  onChange,\n  value,\n  id,\n  name,\n  type = \"text\",\n  autoComplete = \"off\",\n  disabled = false,\n  multiline = false,\n  tooltip = \"\",\n  index = 0,\n  error = \"\",\n  required = false,\n  placeholder = \"\",\n  min,\n  max,\n  overlayId,\n  overlayIcon = null,\n  overlayObject = null,\n  extraInputProps = {},\n  overlayAction,\n  noLabelMinWidth = false,\n  pattern = \"\",\n  autoFocus = false,\n  classes,\n  className = \"\",\n  onKeyPress,\n  onFocus,\n  onPaste,\n}: InputBoxProps) => {\n  let inputProps: any = { \"data-index\": index, ...extraInputProps };\n  const [toggleTextInput, setToggleTextInput] = useState<boolean>(false);\n\n  if (type === \"number\" && min) {\n    inputProps[\"min\"] = min;\n  }\n\n  if (type === \"number\" && max) {\n    inputProps[\"max\"] = max;\n  }\n\n  if (pattern !== \"\") {\n    inputProps[\"pattern\"] = pattern;\n  }\n\n  let inputBoxWrapperIcon = overlayIcon;\n  let inputBoxWrapperType = type;\n\n  if (type === \"password\" && overlayIcon === null) {\n    inputBoxWrapperIcon = toggleTextInput ? (\n      <VisibilityOffIcon />\n    ) : (\n      <RemoveRedEyeIcon />\n    );\n    inputBoxWrapperType = toggleTextInput ? \"text\" : \"password\";\n  }\n\n  return (\n    <React.Fragment>\n      <Grid\n        container\n        className={clsx(\n          className !== \"\" ? className : \"\",\n          error !== \"\" ? classes.errorInField : classes.inputBoxContainer\n        )}\n      >\n        {label !== \"\" && (\n          <InputLabel\n            htmlFor={id}\n            className={\n              noLabelMinWidth ? classes.noMinWidthLabel : classes.inputLabel\n            }\n          >\n            <span>\n              {label}\n              {required ? \"*\" : \"\"}\n            </span>\n            {tooltip !== \"\" && (\n              <div className={classes.tooltipContainer}>\n                <Tooltip title={tooltip} placement=\"top-start\">\n                  <div className={classes.tooltip}>\n                    <HelpIcon />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n          </InputLabel>\n        )}\n\n        <div className={classes.textBoxContainer}>\n          <InputField\n            id={id}\n            name={name}\n            fullWidth\n            value={value}\n            autoFocus={autoFocus}\n            disabled={disabled}\n            onChange={onChange}\n            type={inputBoxWrapperType}\n            multiline={multiline}\n            autoComplete={autoComplete}\n            inputProps={inputProps}\n            error={error !== \"\"}\n            helperText={error}\n            placeholder={placeholder}\n            className={classes.inputRebase}\n            onKeyPress={onKeyPress}\n            onFocus={onFocus}\n            onPaste={onPaste}\n          />\n          {inputBoxWrapperIcon && (\n            <div\n              className={`${classes.overlayAction} ${\n                label !== \"\" ? \"withLabel\" : \"\"\n              }`}\n            >\n              <IconButton\n                onClick={\n                  overlayAction\n                    ? () => {\n                        overlayAction();\n                      }\n                    : () => setToggleTextInput(!toggleTextInput)\n                }\n                id={overlayId}\n                size={\"small\"}\n                disableFocusRipple={false}\n                disableRipple={false}\n                disableTouchRipple={false}\n              >\n                {inputBoxWrapperIcon}\n              </IconButton>\n            </div>\n          )}\n          {overlayObject && (\n            <div\n              className={`${classes.overlayAction} ${\n                label !== \"\" ? \"withLabel\" : \"\"\n              }`}\n            >\n              {overlayObject}\n            </div>\n          )}\n        </div>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(InputBoxWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport {\n  FormControl,\n  InputBase,\n  InputLabel,\n  MenuItem,\n  Select,\n  SelectChangeEvent,\n  Tooltip,\n} from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { fieldBasic, tooltipHelper } from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\n\nexport interface selectorTypes {\n  label: string;\n  value: string;\n}\n\ninterface SelectProps {\n  options: selectorTypes[];\n  value: string;\n  label: string;\n  id: string;\n  name: string;\n  tooltip?: string;\n  onChange: (e: SelectChangeEvent<string>) => void;\n  disabled?: boolean;\n  classes: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    fieldContainer: {\n      display: \"flex\",\n      \"@media (max-width: 600px)\": {\n        flexFlow: \"column\",\n      },\n    },\n  });\n\nconst SelectStyled = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 38,\n      lineHeight: 1,\n      \"label + &\": {\n        marginTop: theme.spacing(3),\n      },\n    },\n    input: {\n      height: 38,\n      position: \"relative\",\n      color: \"#07193E\",\n      fontSize: 13,\n      fontWeight: 600,\n      padding: \"8px 20px 10px 10px\",\n      border: \"#e5e5e5 1px solid\",\n      borderRadius: 4,\n      display: \"flex\",\n      alignItems: \"center\",\n      \"&:hover\": {\n        borderColor: \"#393939\",\n      },\n      \"&:focus\": {\n        backgroundColor: \"#fff\",\n      },\n    },\n  })\n)(InputBase);\n\nconst SelectWrapper = ({\n  classes,\n  id,\n  name,\n  onChange,\n  options,\n  label,\n  tooltip = \"\",\n  value,\n  disabled = false,\n}: SelectProps) => {\n  return (\n    <React.Fragment>\n      <Grid item xs={12} className={classes.fieldContainer}>\n        {label !== \"\" && (\n          <InputLabel htmlFor={id} className={classes.inputLabel}>\n            <span>{label}</span>\n            {tooltip !== \"\" && (\n              <div className={classes.tooltipContainer}>\n                <Tooltip title={tooltip} placement=\"top-start\">\n                  <div className={classes.tooltip}>\n                    <HelpIcon />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n          </InputLabel>\n        )}\n        <FormControl fullWidth>\n          <Select\n            id={id}\n            name={name}\n            value={value}\n            onChange={onChange}\n            input={<SelectStyled />}\n            disabled={disabled}\n          >\n            {options.map((option) => (\n              <MenuItem\n                value={option.value}\n                key={`select-${name}-${option.label}`}\n              >\n                {option.label}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(SelectWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport { Box } from \"@mui/material\";\nimport { Button, CopyIcon } from \"mds\";\nimport InputBoxWrapper from \"../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\n\nconst KeyRevealer = ({ value }: { value: string }) => {\n  const [shown, setShown] = useState<boolean>(false);\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        alignItems: \"center\",\n        flexFlow: {\n          sm: \"row\",\n          xs: \"column\",\n        },\n      }}\n    >\n      <InputBoxWrapper\n        id=\"inspect-dec-key\"\n        name=\"inspect-dec-key\"\n        placeholder=\"\"\n        label=\"\"\n        type={shown ? \"text\" : \"password\"}\n        onChange={() => {}}\n        value={value}\n        overlayIcon={<CopyIcon />}\n        extraInputProps={{\n          readOnly: true,\n        }}\n        overlayAction={() => navigator.clipboard.writeText(value)}\n      />\n\n      <Button\n        id={\"show-hide-key\"}\n        style={{\n          marginLeft: \"10px\",\n        }}\n        variant=\"callAction\"\n        onClick={() => setShown(!shown)}\n        label={\"Show/Hide\"}\n      />\n    </Box>\n  );\n};\n\nexport default KeyRevealer;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n// Close codes for websockets defined in RFC 6455\nexport const WSCloseAbnormalClosure = 1006;\nexport const WSClosePolicyViolation = 1008;\nexport const WSCloseInternalServerErr = 1011;\n\nexport const wsProtocol = (protocol: string): string => {\n  let wsProtocol = \"ws\";\n  if (protocol === \"https:\") {\n    wsProtocol = \"wss\";\n  }\n  return wsProtocol;\n};\n"],"names":["withStyles","theme","createStyles","_objectSpread","formFieldStyles","modalStyleUtils","_ref","modalOpen","onClose","classes","bucket","prefilledRoute","dispatch","useAppDispatch","_useState","useState","_useState2","_slicedToArray","prefix","setPrefix","_useState3","_useState4","selectedAccess","setSelectedAccess","useEffect","_jsx","ModalWrapper","title","titleIcon","AddAccessRuleIcon","children","_jsxs","Grid","container","item","xs","className","formFieldRow","InputBoxWrapper","value","label","id","name","placeholder","onChange","e","target","tooltip","SelectWrapper","options","disabled","modalButtonBar","Button","type","variant","onClick","trim","api","setAccessRuleWithBucket","access","then","res","setSnackBarMessage","catch","err","setErrorSnackMessage","errorToHandler","objectsWS","extractFileExtn","resourceStr","match","getSessionGrantsWildCard","sessionGrants","uploadPath","scopes","arguments","length","undefined","grantsWithExtension","Object","keys","reduce","acc","grantKey","includes","filter","sessionGrantKey","hasScope","some","actionKey","find","scopeKey","wildCardMatch","indexOf","scopeActionKey","substring","isUploadPathMatching","concat","CreatePathModal","withSuspense","React","useStyles","makeStyles","objectBrowserCommon","slashSpacingStyle","margin","bucketName","internalPaths","hidePathButton","additionalOptions","navigate","useNavigate","rewindEnabled","useSelector","state","objectBrowser","rewind","versionsMode","versionedFile","anonymousMode","system","createFolderOpen","setCreateFolderOpen","putObjectPermScopes","IAM_SCOPES","S3_PUT_OBJECT","S3_PUT_ACTIONS","console","session","permissions","paths","splitPaths","split","path","lastBreadcrumbsIndex","pathToCheckPerms","sessionGrantWildCards","canCreatePath","hasPermission","_toConsumableArray","breadcrumbsMap","map","objectItem","index","subSplit","slice","join","route","encodeURLString","Fragment","style","cursor","Link","to","setVersionsModeEnabled","status","objectName","toString","versionsItem","listBreadcrumbs","breadcrumbsMain","folderName","Breadcrumbs","goBackFunction","prevPath","CopyToClipboard","text","icon","CopyIcon","width","height","fill","marginTop","color","border","marginRight","Tooltip","permissionTooltipHelper","NewPathIcon","whiteSpace","breadcrumbsSecond","listUploadIcons","_ref$forceDisable","forceDisable","uploadFileFunction","uploadFolderFunction","_ref$overrideStyles","overrideStyles","anchorEl","setAnchorEl","openUploadMenu","Boolean","handleCloseUpload","uploadObjectAllowed","uploadFolderAllowed","uploadEnabled","TooltipWrapper","event","currentTarget","UploadIcon","sx","Menu","open","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","ListItemIcon","ListItemText","UploadFolderIcon","detailsList","borderColor","borderWidth","borderStyle","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","transitionDuration","overflowX","overflowY","position","opacity","marginLeft","minWidth","borderLeftWidth","closePanel","_ref$className","ClosePanelIcon","right","top","padding","backgroundColor","months","days","Array","from","_","num","currentYear","Date","getFullYear","years","numYear","DateSelector","forwardRef","ref","_ref$disableOptions","disableOptions","_ref$addSwitch","addSwitch","_ref$tooltip","_ref$borderBottom","borderBottom","onDateChange","_ref$value","useImperativeHandle","resetDate","dateEnabled","setDateEnabled","month","setMonth","_useState5","_useState6","day","setDay","_useState7","_useState8","year","setYear","valueSplit","parseInt","_validDate","currentDate","parse","isNaN","parsedMonth","parsedDay","monthForString","dayForString","parsedDate","toISOString","dateString","validDate","_validDate2","isValid","isDateDisabled","monthForDropDown","daysForDrop","yearsForDrop","clsx","fieldContainer","_defineProperty","fieldContainerBorder","labelContainer","InputLabel","htmlFor","tooltipContainer","placement","HelpIcon","Switch","indicatorLabels","checked","switchOnly","Box","display","gap","Select","newValue","fieldBasic","tooltipHelper","alignItems","justifyContent","paddingBottom","marginBottom","spacingUtils","closeModalAndRefresh","objectInfo","retentionConfig","statusEnabled","setStatusEnabled","setType","date","setDate","isDateValid","setIsDateValid","_useState9","_useState10","isSaving","setIsSaving","_useState11","_useState12","alreadyConfigured","setAlreadyConfigured","retention_mode","mode","ObjectRetentionMode","Governance","retention_until_date","valueDate","getMonth","getDate","dateElement","useRef","resetForm","current","showSwitcher","spacerBottom","noValidate","autoComplete","onSubmit","preventDefault","RadioGroup","currentValue","selectorOptions","Compliance","dateSelector","selectedObject","versionId","version_id","expireDate","buckets","putObjectRetention","expires","setModalErrorSnackMessage","error","addRetention","deleteObjectRetention","disableRetention","isVersionedMode","closeDeleteModalAndRefresh","deleteOpen","selectedBucket","versioningInfo","_ref$selectedVersion","selectedVersion","_useApi","useApi","detailedError","_useApi2","deleteLoading","invokeDeleteApi","deleteVersions","setDeleteVersions","bypassGovernance","setBypassGovernance","canBypass","S3_BYPASS_GOVERNANCE_RETENTION","ConfirmDialog","confirmText","isOpen","ConfirmDeleteIcon","isLoading","onConfirm","recursive","decodeURLString","endsWith","confirmationContent","description","actualInfo","legalHoldEnabled","setLegalHoldEnabled","get","putObjectLegalHold","ObjectLegalHoldStatus","Enabled","Disabled","titleItem","detailsPanel","metaData","_ref$linear","linear","metaKeys","element","renderItem","isArray","decodeURIComponent","metadataLinear","Table","table","TableBody","TableRow","TableCell","component","scope","align","fileName","minHeight","fileNameText","overflow","textOverflow","strings","replaceUnicodeChar","extensionToIcon","FileVideoIcon","extensions","FileMusicIcon","FilePdfIcon","FilePptIcon","FileXlsIcon","FileLockIcon","FileCodeIcon","FileConfigIcon","FileDbIcon","FileFontIcon","FileTxtIcon","FileZipIcon","FileBookIcon","FileImageIcon","displayFileIconName","returnOnlyIcon","elementString","FileNonType","FolderBrowserIcon","lowercaseElement","toLowerCase","_i","_extensionToIcon","_step","etc","_iterator","_createForOfIteratorHelper","s","n","done","ext","f","FileMissingIcon","splitItem","IconWithLabel","newTileHeader","fontSize","fontWeight","tagsForLabel","currentTagsContainer","noTagsForObject","deleteTag","_actualInfo$name","onCloseAndUpdate","distributedSetup","selDistSet","newKey","setNewKey","newLabel","setNewLabel","isSending","setIsSending","deleteEnabled","setDeleteEnabled","deleteKey","setDeleteKey","deleteLabel","setDeleteLabel","currentTags","tags","currTagKeys","allPathData","currentItem","pop","tagsFor","plural","DisabledIcon","EditTagIcon","cleanObject","verID","putObjectTags","SecureComponent","S3_GET_OBJECT_TAGGING","S3_GET_ACTIONS","resource","flexFlow","tagKey","tag","S3_DELETE_OBJECT_TAGGING","errorProps","deleteIcon","onDelete","Chip","textTransform","size","CloseIcon","onDeleteTag","S3_PUT_OBJECT_TAGGING","SectionTitle","AddNewTagIcon","separator","InputBox","newTag","newTagList","closeInspectModalAndRefresh","inspectOpen","inspectPath","volumeName","isEncrypt","setIsEncrypt","decryptionKey","setDecryptionKey","insFileName","setInsFileName","makeRequest","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","wrap","_context","prev","next","fetch","method","abrupt","sent","stop","_x","apply","performInspect","_ref3","_callee3","file","volume","urlOfInspectApi","_context3","_ref4","_callee2","resErr","blob","filename","decryptKey","_context2","ok","json","errorMessage","message","code","headers","getCookieValue","performDownload","_x2","InspectMenuIcon","deleteCookie","PasswordKeyIcon","DialogContentText","KeyRevealer","downloadObject","object","_object$name","identityDownload","getTime","Math","random","setLongFileOpen","ID","makeid","downloadCall","download","progress","updateProgress","instanceID","completeObject","msg","failObject","cancelObjectInList","storeCallForObjectWithID","setNewObject","percentage","waitingForFile","failed","cancelled","containerForHeader","closeModal","newFileName","setNewFileName","acceptLongName","setAcceptLongName","EditIcon","doDownload","modalFormScrollable","FormSwitchWrapper","emptyFile","is_latest","last_modified","legal_hold_status","ObjectDetailsTitle","objectNameContainer","capitalizeFirst","actionsTray","textStyleUtils","locking","onClosePanel","loadingObjectInfo","shareFileModalOpen","setShareFileModalOpen","retentionModalOpen","setRetentionModalOpen","tagModalOpen","setTagModalOpen","legalholdOpen","setLegalholdOpen","inspectModalOpen","setInspectModalOpen","setActualInfo","_useState13","_useState14","allInfoElements","setAllInfoElements","_useState15","_useState16","objectToShare","setObjectToShare","_useState17","_useState18","versions","setVersions","_useState19","_useState20","setDeleteOpen","_useState21","_useState22","previewOpen","setPreviewOpen","_useState23","_useState24","totalVersionsSize","setTotalVersionsSize","_useState25","_useState26","longFileOpen","_useState27","_useState28","setMetaData","_useState29","_useState30","loadMetadata","setLoadingMetadata","objectNameArray","infoElement","el","is_delete_marker","listObjects","with_versions","result","data","objects","tVersionSize","currValue","resInfo","setLoadingObjectInfo","getObjectMetadata","metadata","tagKeys","loaderForContainer","textAlign","Loader","objectResources","canSetLegalHold","S3_PUT_OBJECT_LEGAL_HOLD","canSetTags","canChangeRetention","S3_GET_OBJECT_RETENTION","S3_PUT_OBJECT_RETENTION","canInspect","ADMIN_INSPECT_DATA","canChangeVersioning","S3_GET_BUCKET_VERSIONING","S3_PUT_BUCKET_VERSIONING","S3_GET_OBJECT_VERSION","canGetObject","S3_GET_OBJECT","canDelete","S3_DELETE_OBJECT","multiActionButtons","action","DownloadIcon","ShareIcon","extensionPreview","PreviewIcon","LegalHoldIcon","RetentionIcon","TagsIcon","VersionsIcon","ShareFile","dataObject","SetRetention","updateInfo","DeleteObject","closeAndReload","setLoadingVersions","setSelectedVersion","SetLegalHoldModal","reload","PreviewFileModal","content_type","onClosePreview","TagsModal","reloadObjectData","InspectObject","RenameLongFileName","ActionsList","items","DeleteIcon","iconLocation","fullWidth","SimpleHeader","ObjectInfoIcon","detailContainer","overflowWrap","niceBytes","niceBytesInt","lastModified","currentTime","modifiedTime","difTime","formatTime","niceDaysInt","calculateLastModifyTime","etag","S3_GET_OBJECT_LEGAL_HOLD","MetadataIcon","ObjectMetaData","modalBasic","versionToRestore","objectPath","restoreOpen","restoreLoading","setRestoreLoading","RecoverIcon","putObjectRestore","restoreLocalObjectList","confirmButtonProps","wrapText","bgColor","FileVersionStyled","styled","div","content","left","borderBottomColor","maxWidth","flexDirection","versionInfo","isSelected","checkable","isChecked","onCheck","onShare","onDownload","onRestore","onPreview","globalClick","key","disableButtons","versionItemButtons","pill","DateTime","now","fromISO","md","CheckboxWrapper","stopPropagation","overrideCheckboxStyles","paddingLeft","noTopMargin","SpecificVersionPill","button","IconButton","toFormat","setDeleteLoading","typeConfirm","setTypeConfirm","deleteObject","non_current_versions","bypass","selectedVersions","selectedObjectsRequest","versionID","deleteMultipleObjects","all_versions","versionsContainer","noBottomBorder","versionsVirtualPanel","flexGrow","screenTitleContainer","sortByLabel","tableStyles","objectBrowserExtras","searchVersions","loadingVersions","restoreVersionOpen","setRestoreVersionOpen","restoreVersion","setRestoreVersion","sortValue","setSortValue","deleteNonCurrentOpen","setDeleteNonCurrentOpen","selectEnabled","setSelectEnabled","selectedItems","setSelectedItems","delSelectedVOpen","setDelSelectedVOpen","decodedInternalPaths","filteredPrefixes","onShareItem","onPreviewItem","onRestoreItem","onDownloadItem","onGlobalClick","filteredRecords","version","totalSpace","sort","a","b","dateA","dateB","onCheckVersion","filteredItems","cloneState","push","RestoreFileVersion","DeleteNonCurrent","reloadAfterDelete","DeleteSelectedVersions","reloadOnComplete","LinearProgress","BrowserBreadcrumbs","ScreenTitle","listIcon","subTitle","detailsSpacer","actions","SelectMultipleIcon","DeleteNonCurrentIcon","noLabelMinWidth","bottomBorder","List","containerStyle","rowCount","rowHeight","rowRenderer","isScrolling","isVisible","versOrd","FileVersionItem","displayParsedDate","currTime","objectTime","hasSame","displayNiceBytes","String","listModeColumns","elementKey","renderFunction","enableSort","renderFullObject","rewindModeColumns","browsePaper","parentWrapper","backgroundImage","params","useParams","sortDirection","setSortDirection","currentSortField","setCurrentSortField","detailsOpen","objectDetailsOpen","loadingObjects","features","selFeatures","obOnly","records","searchObjects","selectedObjects","connectionError","displayListObjects","S3_LIST_BUCKET","S3_ALL_LIST_BUCKET","sortASC","sortListObjects","payload","reverse","tableActions","idElement","newPath","setSelectedObjects","setObjectDetailsView","setIsOpeningOD","setSelectedObjectView","sendOnlyId","customPaperHeight","DataTable","itemActions","columns","entityName","idField","onSelect","targetD","elements","customEmptyMessage","sortConfig","currentSort","currentDirection","triggerSort","sortData","newSortDirection","sortBy","setLoadingObjects","onSelectAll","rowStyle","_payload$index","delete_flag","parentClassName","noBackground","downloadSelected","createAsyncThunk","getState","itemsToDownload","filterFunction","rejectWithValue","getClientOS","setDownloadRenameModal","forEach","filteredItem","openPreview","fileObject","findFunction","setSelectedPreview","_x3","_x4","openShare","_ref6","_ref5","_x5","_x6","openAnonymousAccess","_ref8","_callee4","_ref7","_context4","setAnonymousAccessOpen","_x7","_x8","SearchBox","setSearchObjects","DeleteMultipleObjects","RewindEnable","badgeOverlap","searchField","labelStyle","breadcrumbsContainer","fullContainer","hideListOnSmall","actionsSection","baseDnDStyle","outline","activeDnDStyle","acceptDnDStyle","_downloadRenameModal$","location","useLocation","bucketToRewind","showDeleted","selectedInternalPaths","simplePath","versioningConfig","lockingEnabled","downloadRenameModal","selectedPreview","anonymousAccessOpen","loadingBucket","selBucketDetailsLoading","bucketInfo","selBucketDetailsInfo","deleteMultipleOpen","setDeleteMultipleOpen","rewindSelect","setRewindSelect","iniLoad","setIniLoad","canShareFile","setCanShareFile","canPreviewFile","setCanPreviewFile","quota","setQuota","isVersioningApplied","pathSegment","pathname","pageTitle","currentPath","i","fileUpload","folderUpload","pathAsResourceInPolicy","allowedFileExtensions","cv","extension","Set","getPolicyAllowedFileExtensions","canDownload","canUpload","displayDeleteObject","canSetAnonymousAccess","S3_GET_BUCKET_POLICY","S3_PUT_BUCKET_POLICY","resetRewind","setAttribute","getBucketQuota","quotaVals","detailedMessage","setBucketDetailsLoad","setBucketInfo","setSelectedBucket","getBucketRetentionConfig","setRetentionConfig","handleUploadButton","files","newFiles","uploadObject","useCallback","folderPath","pathPrefix","uploadPromise","Promise","resolve","reject","uploadUrl","blobFile","Blob","encodedPath","filePath","fileWebkitRelativePath","relativeFolderPath","finalFolderPath","pathClean","startsWith","identity","xhr","XMLHttpRequest","setRequestHeader","areMultipleFiles","errorMessages","withCredentials","onload","removeTrace","response","JSON","upload","addEventListener","floor","loaded","total","onerror","onloadend","onabort","formData","FormData","append","storeFormDataWithID","uploadFilePromises","openList","allSettled","results","errors","totalFiles","successUploadedFiles","onDrop","acceptedFiles","_console","_console2","newFolderPath","allowedFiles","fileExtn","log","_useDropzone","useDropzone","noClick","getRootProps","getInputProps","isDragActive","isDragAccept","dndStyles","useMemo","forceRefresh","splitURLS","URLItem","createdTime","creation_date","AccessRuleIcon","refresh","versioning","AddAccessRule","PageLayout","FilterObjectsSB","BucketsIcon","Badge","badgeContent","invisible","HistoryIcon","RefreshIcon","resetMessages","setLoadingRecords","multiple","accept","UploadFilesButton","closeMenu","click","tableBlock","borderTop","VersionsNavigator","setShowDeletedObjects","overrideLabelClasses","overrideShowDeleted","ListObjectsTable","DetailsListPanel","ObjectDetailPanel","configureBucketAllowed","S3_GET_BUCKET_ENCRYPTION_CONFIGURATION","S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION","S3_DELETE_BUCKET","S3_GET_BUCKET_NOTIFICATIONS","S3_PUT_BUCKET_NOTIFICATIONS","S3_GET_REPLICATION_CONFIGURATION","S3_PUT_REPLICATION_CONFIGURATION","S3_GET_LIFECYCLE_CONFIGURATION","S3_PUT_LIFECYCLE_CONFIGURATION","ADMIN_GET_BUCKET_QUOTA","ADMIN_SET_BUCKET_QUOTA","S3_PUT_BUCKET_TAGGING","S3_GET_BUCKET_TAGGING","S3_LIST_BUCKET_VERSIONS","S3_GET_BUCKET_POLICY_STATUS","S3_DELETE_BUCKET_POLICY","searchBar","setSearchVersions","setHelpName","AutoColorIcon","ObjectManagerButton","PageHeaderWrapper","BackLink","IAM_PAGES","OBJECT_BROWSER_VIEW","IAM_PERMISSIONS","IAM_ROLES","BUCKET_ADMIN","SettingsIcon","HelpMenu","middleComponent","currentRequestID","errorCounter","wsInFlight","initWSConnection","openCallback","onMessageCallback","connErrorCallback","URL","window","port","baseUrl","document","baseURI","wsProt","wsProtocol","protocol","WebSocket","hostname","onopen","onmessage","reconnectFn","onclose","warn","setTimeout","loadingVersioning","rewindDate","dateToRewind","allowResources","loadingLocking","loadRecords","isOpeningOD","isOpeningObjectDetail","onMessageCallBack","request_id","internalPathsPrefix","decodedPath","permitItems","permissionItems","setRecords","request_end","newMessage","initWSRequest","readyState","newRequestID","errorInConnection","request","bucket_name","send","stringify","decodedIPaths","setLoadingVersioning","setSimplePathHandler","setLoadingLocking","parentPath","requestDate","getBucketVersioning","setIsVersioned","getBucketObjectLockingStatus","setLockingEnabled","object_locking_enabled","OBHeader","ListObjects","durationInputs","validityIndicator","invalidDurationText","reverseInput","validityText","validTill","initialDate","maxDays","entity","selectedDays","setSelectedDays","selectedHours","setSelectedHours","selectedMinutes","setSelectedMinutes","setValidDate","dateSelected","setDateSelected","hours","minutes","fromJSDate","plus","calculateNewTime","formattedDate","valid","extraStyles","paddingRight","dateInputContainer","min","max","LinkIcon","validityLabel","shareURL","setShareURL","isLoadingVersion","setIsLoadingVersion","isLoadingFile","setIsLoadingFile","selectedDate","setSelectedDate","dateValid","setDateValid","setVersionID","latestVersion","elem","slDate","currDate","diffDate","ceil","shareObject","DaysSelector","newDate","ReadBox","actionButton","setModalSnackMessage","iframeContainer","flex","iframeBase","iframeHidden","_ref$isFullscreen","isFullscreen","loading","setLoading","basename","replace","origin","objectType","iframeLoaded","maxHeight","autoPlay","controls","muted","playsInline","onPlay","src","alt","onLoad","allowTransparency","wideLimit","ObjectPreviewIcon","PreviewFileContent","fileSize","overrideFileName","progressCallback","completeCallback","errorCallback","abortCallback","toastCallback","anchor","createElement","body","appendChild","store","DownloadHelper","_classCallCheck","aborter","writer","this","AbortController","_createClass","abort","test","navigator","userAgent","downloadByBrowser","chunkSize","_getRangeContent","start","end","info","reader","_yield$reader$read","getRequestInfo","getFilename","streamSaver","getWriter","getReader","read","write","Error","signal","range","rspHeader","_download","numberOfChunks","percentComplete","getRangeContent","round","close","t0","link","href","removeChild","fileExtension","fieldSort","localeCompare","permissionsArray","filteredPermissionsForBucket","permissionItem","_permissionItem$resou","_permissionItem$resou2","returnElements","splitCurrentPath","permissionElement","_permissionElement$re","_permissionElement$pr","splitARN","splitURLARN","every","currentElementInPath","conditionOperator","prefixes","prefixItem","splitItems","pathToRouteElements","cleanCurrPath","splitElement","clElements","itm","WrappedComponent","fallback","props","Suspense","checkboxIcons","flexBasis","flexWrap","_ref$checked","_ref$disabled","_ref$noTopMargin","_ref$overrideLabelCla","Checkbox","inputProps","checkedIcon","unCheckedIcon","disableRipple","disableFocusRipple","focusRipple","centerRipple","disableTouchRipple","noMinWidthLabel","StyledSwitch","root","switchBase","transform","palette","common","white","boxShadow","thumb","track","transition","transitions","create","focusVisible","switchContainer","indicatorLabelOn","indicatorLabel","fieldDescription","_ref$label","_ref$switchOnly","_ref$description","_ref$extraInputProps","extraInputProps","switchComponent","sm","inputLabel","Typography","inputStyles","inputFieldStyles","InputField","TextField","InputProps","textBoxContainer","overlayAction","_ref$type","_ref$autoComplete","_ref$multiline","multiline","_ref$index","_ref$error","_ref$required","required","_ref$placeholder","overlayId","_ref$overlayIcon","overlayIcon","_ref$overlayObject","overlayObject","_ref$noLabelMinWidth","_ref$pattern","pattern","_ref$autoFocus","autoFocus","onKeyPress","onFocus","onPaste","toggleTextInput","setToggleTextInput","inputBoxWrapperIcon","inputBoxWrapperType","VisibilityOffIcon","RemoveRedEyeIcon","errorInField","inputBoxContainer","helperText","inputRebase","SelectStyled","lineHeight","spacing","input","InputBase","FormControl","option","shown","setShown","readOnly","clipboard","writeText","WSCloseAbnormalClosure","WSClosePolicyViolation","WSCloseInternalServerErr"],"sourceRoot":""}