"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7784],{25643:function(e,t,n){n.d(t,{r:function(){return i}});n(72791);var o=n(99779),r=n(80184),i=[{label:"Access Key",elementKey:"accessKey"},{label:"Expiry",elementKey:"expiration",renderFunction:function(e){if(e){var t=o.ou.fromISO(e).toUTC().toFormat("y/M/d hh:mm:ss z");return(0,r.jsx)("span",{title:t,children:t})}return""}},{label:"Status",elementKey:"accountStatus",renderFunction:function(e){return"off"===e?"Disabled":"Enabled"}},{label:"Name",elementKey:"name"},{label:"Description",elementKey:"description"}]},14048:function(e,t,n){var o=n(74165),r=n(15861),i=n(29439),a=n(72791),l=n(29945),c=n(31776),s=n(82342),u=n(92217),d=n(44690),p=n(45248),f=n(87995),m=n(56028),h=n(23814),y=n(80184);t.Z=function(e){var t=e.open,n=e.selectedAccessKey,b=e.closeModalAndRefresh,g=(0,d.TL)(),x=(0,a.useState)(!1),v=(0,i.Z)(x,2),S=v[0],k=v[1],_=(0,a.useState)(""),E=(0,i.Z)(_,2),C=E[0],q=E[1];(0,a.useEffect)((function(){if(!S&&""!==n){var e=(0,p.LL)(n);k(!0),c.h.serviceAccounts.getServiceAccountPolicy(e).then((function(e){k(!1),q(e.data)})).catch((function(e){k(!1),g((0,f.zb)((0,s.g)(e)))}))}}),[n]);return(0,y.jsx)(m.Z,{title:"Access Key Policy",modalOpen:t,onClose:function(){b()},titleIcon:(0,y.jsx)(l.QXQ,{}),children:(0,y.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){var t;t=C,e.preventDefault(),c.h.serviceAccounts.setServiceAccountPolicy((0,p.LL)(n),{policy:t}).then((function(){b()})).catch(function(){var e=(0,r.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,g((0,f.Ih)((0,s.g)(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:(0,y.jsxs)(l.rjZ,{container:!0,children:[(0,y.jsx)(l.rjZ,{item:!0,xs:12,children:(0,y.jsx)(u.Z,{label:"Access Key Policy",value:C,onChange:function(e){q(e)},editorHeight:"350px"})}),(0,y.jsxs)(l.rjZ,{item:!0,xs:12,sx:h.ID.modalButtonBar,children:[(0,y.jsx)(l.zxk,{id:"cancel-sa-policy",type:"button",variant:"regular",onClick:function(){b()},disabled:S,label:"Cancel"}),(0,y.jsx)(l.zxk,{id:"save-sa-policy",type:"submit",variant:"callAction",color:"primary",disabled:S,label:"Set"})]})]})})})}},75578:function(e,t,n){var o=n(1413),r=n(72791),i=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return(0,i.jsx)(r.Suspense,{fallback:t,children:(0,i.jsx)(e,(0,o.Z)({},n))})}}},92217:function(e,t,n){var o=n(72791),r=n(29945),i=n(78029),a=n.n(i),l=n(27454),c=n(80184);t.Z=function(e){var t=e.value,n=e.label,i=void 0===n?"":n,s=e.tooltip,u=void 0===s?"":s,d=e.mode,p=void 0===d?"json":d,f=e.onChange,m=e.editorHeight,h=void 0===m?250:m;return(0,c.jsx)(r.pq4,{value:t,onChange:function(e){return f(e)},mode:p,tooltip:u,editorHeight:h,label:i,helpTools:(0,c.jsx)(o.Fragment,{children:(0,c.jsx)(l.Z,{tooltip:"Copy to Clipboard",children:(0,c.jsx)(a(),{text:t,children:(0,c.jsx)(r.zxk,{type:"button",id:"copy-code-mirror",icon:(0,c.jsx)(r.TIy,{}),color:"primary",variant:"regular"})})})})})}},16502:function(e,t,n){n(72791);var o=n(11135),r=n(25787),i=n(80184);t.Z=(0,r.Z)((function(e){return(0,o.Z)({headerContainer:{backgroundColor:"#e78794",borderRadius:3,marginBottom:20,padding:1,paddingBottom:15},labelHeadline:{color:"#000000",fontSize:14,marginLeft:20},labelText:{color:"#000000",fontSize:14,marginLeft:20,marginRight:40}})}))((function(e){var t=e.classes,n=e.label,o=e.title;return(0,i.jsxs)("div",{className:t.headerContainer,children:[(0,i.jsx)("h4",{className:t.labelHeadline,children:o}),(0,i.jsx)("div",{className:t.labelText,children:n})]})}))},58493:function(e,t,n){n.d(t,{DD:function(){return g},DP:function(){return b},F_:function(){return v},_0:function(){return x},bx:function(){return y}});var o=n(4942),r=n(1413),i=n(93433),a=(n(72791),n(87569)),l=n(61809),c=n(31292),s=n(98095),u=n(67055),d=n(21141),p=n(36909),f=n(13901),m=n(29945),h=n(80184),y=[{icon:(0,h.jsx)(a.Z,{}),configuration_id:"region",configuration_label:"Region"},{icon:(0,h.jsx)(l.Z,{}),configuration_id:"compression",configuration_label:"Compression"},{icon:(0,h.jsx)(c.Z,{}),configuration_id:"api",configuration_label:"API"},{icon:(0,h.jsx)(s.Z,{}),configuration_id:"heal",configuration_label:"Heal"},{icon:(0,h.jsx)(u.Z,{}),configuration_id:"scanner",configuration_label:"Scanner"},{icon:(0,h.jsx)(d.Z,{}),configuration_id:"etcd",configuration_label:"Etcd"},{icon:(0,h.jsx)(f.Z,{}),configuration_id:"logger_webhook",configuration_label:"Logger Webhook"},{icon:(0,h.jsx)(p.Z,{}),configuration_id:"audit_webhook",configuration_label:"Audit Webhook"},{icon:(0,h.jsx)(m.I$E,{className:"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiTab-iconWrapper css-i4bv87-MuiSvgIcon-root",style:{width:24,height:24}}),configuration_id:"audit_kafka",configuration_label:"Audit Kafka"}],b={region:[{name:"name",required:!0,label:"Server Location",tooltip:'Name of the location of the server e.g. "us-west-rack2"',type:"string",placeholder:"e.g. us-west-rack-2"},{name:"comment",required:!1,label:"Comment",tooltip:"You can add a comment to this setting",type:"comment",placeholder:"Enter custom notes if any"}],compression:[{name:"extensions",required:!1,label:"Extensions",tooltip:'Extensions to compress e.g. ".txt", ".log" or ".csv" -  you can write one per field',type:"csv",placeholder:"Enter an Extension",withBorder:!0},{name:"mime_types",required:!1,label:"Mime Types",tooltip:'Mime types e.g. "text/*", "application/json" or "application/xml" - you can write one per field',type:"csv",placeholder:"Enter a Mime Type",withBorder:!0}],api:[{name:"requests_max",required:!1,label:"Requests Max",tooltip:"Maximum number of concurrent requests, e.g. '1600'",type:"number",placeholder:"Enter Requests Max"},{name:"cors_allow_origin",required:!1,label:"Cors Allow Origin",tooltip:"List of origins allowed for CORS requests",type:"csv",placeholder:"Enter allowed origin e.g. https://example.com"},{name:"replication_workers",required:!1,label:"Replication Workers",tooltip:"Number of replication workers, defaults to 100",type:"number",placeholder:"Enter Replication Workers"},{name:"replication_failed_workers",required:!1,label:"Replication Failed Workers",tooltip:"Number of replication workers for recently failed replicas, defaults to 4",type:"number",placeholder:"Enter Replication Failed Workers"}],heal:[{name:"bitrotscan",required:!1,label:"Bitrot Scan",tooltip:"Perform bitrot scan on disks when checking objects during scanner",type:"on|off"},{name:"max_sleep",required:!1,label:"Max Sleep",tooltip:"Maximum sleep duration between objects to slow down heal operation, e.g. 2s",type:"duration",placeholder:"Enter Max Sleep Duration"},{name:"max_io",required:!1,label:"Max IO",tooltip:"Maximum IO requests allowed between objects to slow down heal operation, e.g. 3",type:"number",placeholder:"Enter Max IO"}],scanner:[{name:"delay",required:!1,label:"Delay Multiplier",tooltip:"Scanner delay multiplier, defaults to '10.0'",type:"number",placeholder:"Enter Delay"},{name:"max_wait",required:!1,label:"Max Wait",tooltip:"Maximum wait time between operations, defaults to '15s'",type:"duration",placeholder:"Enter Max Wait"},{name:"cycle",required:!1,label:"Cycle",tooltip:"Time duration between scanner cycles, defaults to '1m'",type:"duration",placeholder:"Enter Cycle"}],etcd:[{name:"endpoints",required:!0,label:"Endpoints",tooltip:'List of etcd endpoints e.g. "http://localhost:2379" - you can write one per field',type:"csv",placeholder:"Enter Endpoint"},{name:"path_prefix",required:!1,label:"Path Prefix",tooltip:'Namespace prefix to isolate tenants e.g. "customer1/"',type:"string",placeholder:"Enter Path Prefix"},{name:"coredns_path",required:!1,label:"Coredns Path",tooltip:'Shared bucket DNS records, default is "/skydns"',type:"string",placeholder:"Enter Coredns Path"},{name:"client_cert",required:!1,label:"Client Cert",tooltip:"Client cert for mTLS authentication",type:"string",placeholder:"Enter Client Cert"},{name:"client_cert_key",required:!1,label:"Client Cert Key",tooltip:"Client cert key for mTLS authentication",type:"string",placeholder:"Enter Client Cert Key"},{name:"comment",required:!1,label:"Comment",tooltip:"You can add a comment to this setting",type:"comment",multiline:!0,placeholder:"Enter custom notes if any"}],logger_webhook:[{name:"endpoint",required:!0,label:"Endpoint",type:"string",placeholder:"Enter Endpoint"},{name:"auth_token",required:!0,label:"Auth Token",type:"string",placeholder:"Enter Auth Token"}],audit_webhook:[{name:"endpoint",required:!0,label:"Endpoint",type:"string",placeholder:"Enter Endpoint"},{name:"auth_token",required:!0,label:"Auth Token",type:"string",placeholder:"Enter Auth Token"}],audit_kafka:[{name:"enable",required:!1,label:"Enable",tooltip:"Enable audit_kafka target",type:"on|off",customValueProcess:function(e){return""===e||"on"===e?"on":"off"}},{name:"brokers",required:!0,label:"Brokers",type:"csv",placeholder:"Enter Kafka Broker"},{name:"topic",required:!1,label:"Topic",type:"string",placeholder:"Enter Kafka Topic",tooltip:"Kafka topic used for bucket notifications"},{name:"sasl",required:!1,label:"Use SASL",tooltip:"Enable SASL (Simple Authentication and Security Layer) authentication",type:"on|off"},{name:"sasl_username",required:!1,label:"SASL Username",type:"string",placeholder:"Enter SASL Username",tooltip:"Username for SASL/PLAIN or SASL/SCRAM authentication"},{name:"sasl_password",required:!1,label:"SASL Password",type:"password",placeholder:"Enter SASL Password",tooltip:"Password for SASL/PLAIN or SASL/SCRAM authentication"},{name:"sasl_mechanism",required:!1,label:"SASL Mechanism",type:"string",placeholder:"Enter SASL Mechanism",tooltip:"SASL authentication mechanism"},{name:"tls",required:!1,label:"Use TLS",tooltip:"Enable TLS (Transport Layer Security)",type:"on|off"},{name:"tls_skip_verify",required:!1,label:"Skip TLS Verification",tooltip:"Trust server TLS without verification",type:"on|off"},{name:"client_tls_cert",required:!1,label:"Client Cert",tooltip:"Client cert for mTLS authentication",type:"string",placeholder:"Enter Client Cert"},{name:"client_tls_key",required:!1,label:"Client Cert Key",tooltip:"Client cert key for mTLS authentication",type:"string",placeholder:"Enter Client Cert Key"},{name:"tls_client_auth",required:!1,label:"TLS Client Auth",tooltip:"ClientAuth determines the Kafka server's policy for TLS client authorization",type:"string"},{name:"version",required:!1,label:"Version",tooltip:"Specify the version of the Kafka cluster",type:"string"}]},g=function(e){return e.filter((function(e){return""!==e.value}))},x=function(e,t,n){var o=e.target,r=o.value,a=o.checked,l=(0,i.Z)(n);return a?l.push(r):l=l.filter((function(e){return e!==r})),t(l),l},v=function(e){var t={};return e.forEach((function(e){if(e.env_override){var n={value:e.env_override.value,overrideEnv:e.env_override.name};t=(0,r.Z)((0,r.Z)({},t),{},(0,o.Z)({},e.key,n))}})),t}},18303:function(e,t,n){var o=n(29439),r=n(72791),i=n(29945),a=n(9505),l=n(23508),c=n(87995),s=n(44690),u=n(80184);t.Z=function(e){var t=e.closeDeleteModalAndRefresh,n=e.deleteOpen,d=e.selectedSAs,p=(0,s.TL)(),f=(0,a.Z)((function(){return t(!0)}),(function(e){return p((0,c.Ih)(e))})),m=(0,o.Z)(f,2),h=m[0],y=m[1];if(!d)return null;return(0,u.jsx)(l.Z,{title:"Delete Access Keys",confirmText:"Delete",isOpen:n,titleIcon:(0,u.jsx)(i.NvT,{}),isLoading:h,onConfirm:function(){y("DELETE","/api/v1/service-accounts/delete-multi",d)},onClose:function(){return t(!1)},confirmationContent:(0,u.jsxs)(r.Fragment,{children:["Are you sure you want to delete the selected ",d.length," ","Access Keys?"," "]})})}},21639:function(e,t,n){n.d(t,{KE:function(){return a},LQ:function(){return o},V2:function(){return i},g4:function(){return r}});var o=function(e,t){if(e.accessKey&&t.accessKey){if(e.accessKey>t.accessKey)return 1;if(e.accessKey<t.accessKey)return-1}return 0},r=function(e,t){return e.name>t.name?1:e.name<t.name?-1:0},i=function(e,t){return e>t?1:e<t?-1:0},a=function(e,t){return e.policy>t.policy?1:e.policy<t.policy?-1:0}}}]);
//# sourceMappingURL=7784.c0448d91.chunk.js.map