(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5998],{47494:function(e,t,n){"use strict";n.r(t);var i=n(29439),s=n(1413),c=n(72791),r=n(78687),o=n(57689),u=n(29945),l=n(11135),a=n(92983),d=n(61889),f=n(23814),_=n(56087),m=n(60680),Z=n(38442),h=n(75578),p=n(87995),x=n(72455),S=n(9859),b=n(81551),C=n(27454),v=n(31776),E=n(82342),T=n(80184),F=(0,h.Z)(c.lazy((function(){return Promise.all([n.e(5994),n.e(2317),n.e(4619)]).then(n.bind(n,94619))}))),A=(0,h.Z)(c.lazy((function(){return n.e(8990).then(n.bind(n,8990))}))),k=(0,h.Z)(c.lazy((function(){return Promise.all([n.e(5994),n.e(8455)]).then(n.bind(n,58455))}))),g=(0,x.Z)((function(e){return(0,l.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({"@global":{".rowLine:hover  .iconFileElm":{backgroundImage:"url(/images/ob_file_filled.svg)"},".rowLine:hover  .iconFolderElm":{backgroundImage:"url(/images/ob_folder_filled.svg)"}}},f.OR),f.qg),f.cx),f.Bz))}));t.default=function(){var e=(0,b.TL)(),t=g(),n=(0,o.UO)(),s=(0,r.v9)(S.HQ),l=(0,c.useState)(!0),f=(0,i.Z)(l,2),h=f[0],x=f[1],j=(0,c.useState)([]),P=(0,i.Z)(j,2),O=P[0],I=P[1],U=(0,c.useState)(!1),y=(0,i.Z)(U,2),z=y[0],B=y[1],L=(0,c.useState)(!1),w=(0,i.Z)(L,2),N=w[0],K=w[1],D=(0,c.useState)(""),G=(0,i.Z)(D,2),R=G[0],Y=G[1],H=(0,c.useState)(!1),V=(0,i.Z)(H,2),q=V[0],M=V[1],Q=(0,c.useState)(""),W=(0,i.Z)(Q,2),J=W[0],X=W[1],$=(0,c.useState)(""),ee=(0,i.Z)($,2),te=ee[0],ne=ee[1],ie=n.bucketName||"",se=(0,Z.F)(ie,[_.Ft.S3_GET_BUCKET_POLICY,_.Ft.S3_GET_ACTIONS]),ce=(0,Z.F)(ie,[_.Ft.S3_DELETE_BUCKET_POLICY]),re=(0,Z.F)(ie,[_.Ft.S3_PUT_BUCKET_POLICY,_.Ft.S3_PUT_ACTIONS]);(0,c.useEffect)((function(){s&&x(!0)}),[s,x]);var oe=[{type:"delete",disableButtonFunction:function(){return!ce},onClick:function(e){K(!0),Y(e.prefix)}},{type:"view",disableButtonFunction:function(){return!re},onClick:function(e){X(e.prefix),ne(e.access),M(!0)}}];(0,c.useEffect)((function(){e((0,p.Sc)("bucket_detail_prefix"))}),[]),(0,c.useEffect)((function(){h&&(se?v.h.bucket.listAccessRulesWithBucket(ie).then((function(e){I(e.data.accessRules),x(!1)})).catch((function(t){e((0,p.Ih)((0,E.g)(t))),x(!1)})):x(!1))}),[h,e,se,ie]);return(0,T.jsxs)(c.Fragment,{children:[z&&(0,T.jsx)(F,{modalOpen:z,onClose:function(){B(!1),x(!0)},bucket:ie}),N&&(0,T.jsx)(A,{modalOpen:N,onClose:function(){K(!1),x(!0)},bucket:ie,toDelete:R}),q&&(0,T.jsx)(k,{modalOpen:q,onClose:function(){M(!1),x(!0)},bucket:ie,toEdit:J,initial:te}),(0,T.jsxs)(d.ZP,{item:!0,xs:12,className:t.actionsTray,children:[(0,T.jsx)(m.Z,{children:"Anonymous Access"}),(0,T.jsx)(Z.s,{scopes:[_.Ft.S3_GET_BUCKET_POLICY,_.Ft.S3_PUT_BUCKET_POLICY,_.Ft.S3_GET_ACTIONS,_.Ft.S3_PUT_ACTIONS],resource:ie,matchAll:!0,errorProps:{disabled:!0},children:(0,T.jsx)(C.Z,{tooltip:"Add Access Rule",children:(0,T.jsx)(u.zxk,{id:"add-bucket-access-rule",onClick:function(){B(!0)},label:"Add Access Rule",icon:(0,T.jsx)(u.dtP,{}),variant:"callAction"})})})]}),(0,T.jsx)(d.ZP,{item:!0,sx:{border:"#EAEDEE 1px solid"},children:(0,T.jsx)(Z.s,{scopes:[_.Ft.S3_GET_BUCKET_POLICY,_.Ft.S3_GET_ACTIONS],resource:ie,errorProps:{disabled:!0},children:O&&(0,T.jsx)(a.Z,{noBackground:!0,itemActions:oe,columns:[{label:"Prefix",elementKey:"prefix",renderFunction:function(e){return e||"/"}},{label:"Access",elementKey:"access"}],isLoading:h,records:O,entityName:"Access Rules",idField:"prefix"})})})]})}},60680:function(e,t,n){"use strict";n(72791);var i=n(11135),s=n(25787),c=n(80184);t.Z=(0,s.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var t=e.classes,n=e.children;return(0,c.jsx)("h1",{className:t.root,children:n})}))},26759:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var s=i(n(45649)),c=n(80184),r=(0,s.default)((0,c.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=r},70366:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var s=i(n(45649)),c=n(80184),r=(0,s.default)((0,c.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");t.Z=r},97911:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var s=i(n(45649)),c=n(80184),r=(0,s.default)((0,c.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");t.Z=r},26769:function(e,t,n){var i=n(39066),s=n(93629),c=n(43141);e.exports=function(e){return"string"==typeof e||!s(e)&&c(e)&&"[object String]"==i(e)}}}]);
//# sourceMappingURL=5998.99d367fa.chunk.js.map