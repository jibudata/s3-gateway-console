"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1379],{45902:function(e,n,t){var s=t(1413),i=(t(72791),t(53767)),o=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,r=e.value,l=void 0===r?"-":r,a=e.orientation,u=void 0===a?"column":a,c=e.stkProps,d=void 0===c?{}:c,x=e.lblProps,f=void 0===x?{}:x,m=e.valProps,p=void 0===m?{}:m;return(0,o.jsxs)(i.Z,(0,s.Z)((0,s.Z)({direction:{xs:"column",sm:u}},d),{},{children:[(0,o.jsx)("label",(0,s.Z)((0,s.Z)({style:{marginRight:5,fontWeight:600}},f),{},{children:t})),(0,o.jsx)("label",(0,s.Z)((0,s.Z)({style:{marginRight:5,fontWeight:500}},p),{},{children:l}))]}))}},51379:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var s=t(1413),i=t(72791),o=t(60364),r=t(11135),l=t(25787),a=t(23814),u=t(61889),c=t(29439),d=t(27391),x=t(63466),f=t(74900),m=t(40603),p=t(62410),v=t(92983),Z=t(17238),j=t(80184),h=(0,l.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},a.oZ),a.OR),a.VX),(0,a.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.history,s=e.setPoolDetailsView,r=(0,o.I0)(),l=(0,o.v9)((function(e){return e.tenants.tenantDetails.loadingTenant})),a=(0,o.v9)((function(e){return e.tenants.tenantDetails.tenantInfo})),h=(0,i.useState)([]),y=(0,c.Z)(h,2),g=y[0],b=y[1],C=(0,i.useState)(""),A=(0,c.Z)(C,2),P=A[0],N=A[1];(0,i.useEffect)((function(){if(a){var e=a.pools?a.pools:[];b(e)}}),[a]);var D=g.filter((function(e){return!!e.name.toLowerCase().includes(P.toLowerCase())})),F=[{type:"view",onClick:function(e){r((0,Z.Lm)(e.name)),s()}}];return(0,j.jsxs)(i.Fragment,{children:[(0,j.jsxs)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,j.jsx)(d.Z,{placeholder:"Filter",className:n.searchField,id:"search-resource",label:"",onChange:function(e){N(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,j.jsx)(x.Z,{position:"start",children:(0,j.jsx)(f.Z,{})})},variant:"standard"}),(0,j.jsx)(m.Z,{tooltip:"Expand Tenant",text:"Expand Tenant",onClick:function(){t.push("/namespaces/".concat((null===a||void 0===a?void 0:a.namespace)||"","/tenants/").concat((null===a||void 0===a?void 0:a.name)||"","/add-pool"))},icon:(0,j.jsx)(p.dtP,{}),color:"primary",variant:"contained"})]}),(0,j.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,j.jsx)(v.Z,{itemActions:F,columns:[{label:"Name",elementKey:"name"},{label:"Capacity",elementKey:"capacity"},{label:"# of Instances",elementKey:"servers"},{label:"# of Drives",elementKey:"volumes"}],isLoading:l,records:D,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found"})})]})})),y=t(64554),g=t(45902),b=t(45248),C=t(45987),A=t(53767),P=["children"],N=function(e){var n=e.children,t=void 0===n?null:n,i=(0,C.Z)(e,P);return(0,j.jsx)(A.Z,(0,s.Z)((0,s.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},i),{},{children:t}))},D={border:"#EAEAEA 1px solid",borderRadius:"3px",padding:"0px 20px",position:"relative"},F={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},k=(0,l.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},a.bK),a.VI),a.oZ),a.VX),(0,a.Bz)(e.spacing(4))))}))((function(e){var n,t,r,l=e.history,a=(0,o.v9)((function(e){return e.tenants.tenantDetails.tenantInfo})),c=(0,o.v9)((function(e){return e.tenants.tenantDetails.selectedPool})),d=(null===a||void 0===a?void 0:a.pools.find((function(e){return e.name===c})))||null;if(null===d)return null;var x="None";d.affinity&&(x=d.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)");var f=function(e){var n=e.title;return(0,j.jsx)(N,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,j.jsx)("h3",{children:n})})};return(0,j.jsx)(i.Fragment,{children:(0,j.jsxs)(u.ZP,{item:!0,xs:12,sx:(0,s.Z)({},D),children:[(0,j.jsx)("div",{style:{position:"absolute",right:20,top:18},children:(0,j.jsx)(m.Z,{icon:(0,j.jsx)(p.Jpd,{}),onClick:function(){l.push("/namespaces/".concat((null===a||void 0===a?void 0:a.namespace)||"","/tenants/").concat((null===a||void 0===a?void 0:a.name)||"","/edit-pool"))},text:"Edit Pool",id:"editPool"})}),(0,j.jsx)(f,{title:"Pool Configuration"}),(0,j.jsxs)(y.Z,{sx:(0,s.Z)({},F),children:[(0,j.jsx)(g.Z,{label:"Pool Name",value:d.name}),(0,j.jsx)(g.Z,{label:"Total Volumes",value:d.volumes}),(0,j.jsx)(g.Z,{label:"Volumes per server",value:d.volumes_per_server}),(0,j.jsx)(g.Z,{label:"Capacity",value:d.capacity})]}),(0,j.jsx)(f,{title:"Resources"}),(0,j.jsxs)(y.Z,{sx:(0,s.Z)({},F),children:[d.resources&&(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(g.Z,{label:"CPU",value:d.resources.requests.cpu}),(0,j.jsx)(g.Z,{label:"Memory",value:(0,b.l5)(d.resources.requests.memory)})]}),(0,j.jsx)(g.Z,{label:"Volume Size",value:(0,b.l5)(d.volume_configuration.size)}),(0,j.jsx)(g.Z,{label:"Storage Class Name",value:d.volume_configuration.storage_class_name})]}),d.securityContext&&(d.securityContext.runAsNonRoot||d.securityContext.runAsUser||d.securityContext.runAsGroup||d.securityContext.fsGroup)&&(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(f,{title:"Security Context"}),(0,j.jsxs)(y.Z,{children:[null!==d.securityContext.runAsNonRoot&&(0,j.jsx)(y.Z,{sx:(0,s.Z)({},F),children:(0,j.jsx)(g.Z,{label:"Run as Non Root",value:d.securityContext.runAsNonRoot?"Yes":"No"})}),(0,j.jsxs)(y.Z,{sx:(0,s.Z)((0,s.Z)({},F),{},{gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr",md:"1fr 1fr 1fr"}}),children:[d.securityContext.runAsUser&&(0,j.jsx)(g.Z,{label:"Run as User",value:d.securityContext.runAsUser}),d.securityContext.runAsGroup&&(0,j.jsx)(g.Z,{label:"Run as Group",value:d.securityContext.runAsGroup}),d.securityContext.fsGroup&&(0,j.jsx)(g.Z,{label:"FsGroup",value:d.securityContext.fsGroup})]})]})]}),(0,j.jsx)(f,{title:"Affinity"}),(0,j.jsxs)(y.Z,{children:[(0,j.jsxs)(y.Z,{sx:(0,s.Z)({},F),children:[(0,j.jsx)(g.Z,{label:"Type",value:x}),null!==(n=d.affinity)&&void 0!==n&&n.nodeAffinity&&null!==(t=d.affinity)&&void 0!==t&&t.podAntiAffinity?(0,j.jsx)(g.Z,{label:"With Pod Anti affinity",value:"Yes"}):(0,j.jsx)("span",{})]}),(null===(r=d.affinity)||void 0===r?void 0:r.nodeAffinity)&&(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(f,{title:"Labels"}),(0,j.jsx)("ul",{children:d.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.map((function(e){return e.matchExpressions.map((function(e){return(0,j.jsxs)("li",{children:[e.key," - ",e.values.join(", ")]})}))}))})]})]}),d.tolerations&&d.tolerations.length>0&&(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(f,{title:"Tolerations"}),(0,j.jsx)(y.Z,{children:(0,j.jsx)("ul",{children:d.tolerations.map((function(e){var n,t;return(0,j.jsx)("li",{children:"Equal"===e.operator?(0,j.jsxs)(i.Fragment,{children:["If ",(0,j.jsx)("strong",{children:e.key})," is equal to"," ",(0,j.jsx)("strong",{children:e.value})," then"," ",(0,j.jsx)("strong",{children:e.effect})," after"," ",(0,j.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,j.jsxs)(i.Fragment,{children:["If ",(0,j.jsx)("strong",{children:e.key})," exists then"," ",(0,j.jsx)("strong",{children:e.effect})," after"," ",(0,j.jsx)("strong",{children:(null===(t=e.tolerationSeconds)||void 0===t?void 0:t.seconds)||0})," ","seconds"]})})}))})})]})]})})})),R=t(84669),w=(0,l.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},a.oZ),a.OR),a.VX),(0,a.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.history,s=e.match,r=(0,o.I0)(),l=(0,o.v9)((function(e){return e.tenants.tenantDetails.selectedPool})),a=(0,o.v9)((function(e){return e.tenants.tenantDetails.poolDetailsOpen}));return(0,j.jsxs)(i.Fragment,{children:[a&&(0,j.jsx)(u.ZP,{item:!0,xs:12,children:(0,j.jsx)(R.Z,{executeOnClick:function(){r((0,Z.AH)(!1))},label:"Pools list",to:s.url})}),(0,j.jsx)("h1",{className:n.sectionTitle,children:a?"Pool Details - ".concat(l||""):"Pools"}),(0,j.jsx)(u.ZP,{container:!0,children:a?(0,j.jsx)(k,{history:t}):(0,j.jsx)(h,{setPoolDetailsView:function(){r((0,Z.AH)(!0))},history:t})})]})}))}}]);
//# sourceMappingURL=1379.1b932cb7.chunk.js.map