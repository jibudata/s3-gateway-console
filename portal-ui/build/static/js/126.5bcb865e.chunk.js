(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[126],{389:function(e,t,a){"use strict";var n,c=a(15),i=a(1),o=a(2),r=a(39),s=a(378),l=a(372),d=a(406),b=a(407),j=a(408),u=a(300),O=a(310),p=a(120),x=a(31),h=a(46),m=a.n(h),f=a(127),g=a.n(f),v=a(126),C=a.n(v),S=a(123),k=a.n(S),y=a(0),N=function(){clearInterval(n)},E={displayErrorMessage:x.h},w=Object(r.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),E)(Object(O.a)((function(e){return Object(u.a)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var t=e.classes,a=e.modalSnackMessage,i=e.displayErrorMessage,r=e.customStyle,s=Object(o.useState)(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],j=Object(o.useState)(!1),u=Object(c.a)(j,2),O=u[0],p=u[1],x=Object(o.useCallback)((function(){p(!1)}),[]);Object(o.useEffect)((function(){O||(i({detailedError:"",errorMessage:""}),b(!1))}),[i,O]),Object(o.useEffect)((function(){""!==a.message&&"error"===a.type&&p(!0)}),[x,a.message,a.type]);var h=m()(a,"message",""),f=m()(a,"detailedErrorMsg","");return"error"!==a.type||""===h?null:Object(y.jsx)(o.Fragment,{children:Object(y.jsxs)("div",{className:"".concat(t.modalErrorContainer," ").concat(O?t.modalErrorShow:""),style:r,onMouseOver:N,onMouseLeave:function(){n=setInterval(x,1e4)},children:[Object(y.jsx)("button",{className:t.closeButton,onClick:x,children:Object(y.jsx)(k.a,{})}),Object(y.jsxs)("div",{className:t.errorTitle,children:[Object(y.jsx)("span",{className:t.messageIcon,children:Object(y.jsx)(C.a,{})}),Object(y.jsx)("span",{className:t.errorLabel,children:h})]}),""!==f&&Object(y.jsxs)(o.Fragment,{children:[Object(y.jsx)("div",{className:t.detailsContainerLink,children:Object(y.jsxs)("button",{className:t.detailsButton,onClick:function(){b(!d)},children:["Details",Object(y.jsx)(g.a,{className:"".concat(t.arrowElement," ").concat(d?t.arrowOpen:"")})]})}),Object(y.jsx)("div",{className:"".concat(t.extraDetailsContainer," ").concat(d?t.extraDetailsOpen:""),children:f})]})]})})}))),M={content:'" "',borderLeft:"2px solid #9C9C9C",height:33,width:1,position:"absolute"},L=Object(r.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.i});t.a=Object(O.a)((function(e){return Object(u.a)(Object(i.a)({dialogContainer:{padding:"8px 15px 22px"},closeContainer:{textAlign:"right"},closeButton:{height:16,width:16,padding:0,backgroundColor:"initial","&:hover":{backgroundColor:"initial"},"&:active":{backgroundColor:"initial"}},closeIcon:{"&::before":Object(i.a)(Object(i.a)({},M),{},{transform:"rotate(45deg)",height:12}),"&::after":Object(i.a)(Object(i.a)({},M),{},{transform:"rotate(-45deg)",height:12}),"&:hover::before, &:hover::after":{borderColor:"#9C9C9C"},display:"block",position:"relative",height:12,width:12},titleClass:{padding:"0px 50px 12px",fontSize:"1.2rem",fontWeight:600,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},modalContent:{padding:"0 50px"},customDialogSize:{width:"100%",maxWidth:765}},p.y))}))(L((function(e){var t=e.onClose,a=e.modalOpen,n=e.title,r=e.children,u=e.classes,O=e.wideLimit,p=void 0===O||O,x=e.modalSnackMessage,h=e.noContentPadding,m=e.setModalSnackMessage,f=Object(o.useState)(!1),g=Object(c.a)(f,2),v=g[0],C=g[1];Object(o.useEffect)((function(){m("")}),[m]),Object(o.useEffect)((function(){if(x){if(""===x.message)return void C(!1);"error"!==x.type&&C(!0)}}),[x]);var S=p?{classes:{paper:u.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},k="";return x&&(k=x.detailedErrorMsg,(""===x.detailedErrorMsg||x.detailedErrorMsg.length<5)&&(k=x.message)),Object(y.jsx)(d.a,Object(i.a)(Object(i.a)({open:a,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},S),{},{children:Object(y.jsxs)("div",{className:u.dialogContainer,children:[Object(y.jsx)(w,{}),Object(y.jsx)(l.a,{open:v,className:u.snackBarModal,onClose:function(){C(!1),m("")},message:k,ContentProps:{className:"".concat(u.snackBar," ").concat(x&&"error"===x.type?u.errorSnackBar:"")},autoHideDuration:x&&"error"===x.type?1e4:5e3}),Object(y.jsx)("div",{className:u.closeContainer,children:Object(y.jsx)(s.a,{"aria-label":"close",className:u.closeButton,onClick:t,disableRipple:!0,size:"large",children:Object(y.jsx)("span",{className:u.closeIcon})})}),Object(y.jsx)(b.a,{id:"alert-dialog-title",className:u.titleClass,children:n}),Object(y.jsx)(j.a,{className:h?"":u.modalContent,children:r})]})}))})))},390:function(e,t,a){"use strict";var n=a(1),c=a(2),i=a.n(c),o=a(415),r=a(436),s=a(809),l=a(376),d=a(378),b=a(300),j=a(369),u=a(310),O=a(120),p=a(121),x=a(0),h=Object(j.a)((function(e){return Object(b.a)(Object(n.a)({},O.n))}));function m(e){var t=h();return Object(x.jsx)(o.a,Object(n.a)({InputProps:{classes:t}},e))}t.a=Object(u.a)((function(e){return Object(b.a)(Object(n.a)(Object(n.a)(Object(n.a)({},O.i),O.D),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,c=e.value,o=e.id,b=e.name,j=e.type,u=void 0===j?"text":j,O=e.autoComplete,h=void 0===O?"off":O,f=e.disabled,g=void 0!==f&&f,v=e.multiline,C=void 0!==v&&v,S=e.tooltip,k=void 0===S?"":S,y=e.index,N=void 0===y?0:y,E=e.error,w=void 0===E?"":E,M=e.required,L=void 0!==M&&M,D=e.placeholder,B=void 0===D?"":D,I=e.min,T=e.max,W=e.overlayIcon,z=void 0===W?null:W,P=e.overlayObject,R=void 0===P?null:P,A=e.extraInputProps,F=void 0===A?{}:A,H=e.overlayAction,G=e.noLabelMinWidth,q=void 0!==G&&G,J=e.classes,U=Object(n.a)({"data-index":N},F);return"number"===u&&I&&(U.min=I),"number"===u&&T&&(U.max=T),Object(x.jsx)(i.a.Fragment,{children:Object(x.jsxs)(r.a,{container:!0,className:" ".concat(""!==w?J.errorInField:J.inputBoxContainer),children:[""!==t&&Object(x.jsxs)(s.a,{htmlFor:o,className:q?J.noMinWidthLabel:J.inputLabel,children:[Object(x.jsxs)("span",{children:[t,L?"*":""]}),""!==k&&Object(x.jsx)("div",{className:J.tooltipContainer,children:Object(x.jsx)(l.a,{title:k,placement:"top-start",children:Object(x.jsx)("div",{className:J.tooltip,children:Object(x.jsx)(p.a,{})})})})]}),Object(x.jsxs)("div",{className:J.textBoxContainer,children:[Object(x.jsx)(m,{id:o,name:b,fullWidth:!0,value:c,disabled:g,onChange:a,type:u,multiline:C,autoComplete:h,inputProps:U,error:""!==w,helperText:w,placeholder:B,className:J.inputRebase}),z&&Object(x.jsx)("div",{className:"".concat(J.overlayAction," ").concat(""!==t?"withLabel":""),children:Object(x.jsx)(d.a,{onClick:H?function(){H()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:z})}),R&&Object(x.jsx)("div",{className:"".concat(J.overlayAction," ").concat(""!==t?"withLabel":""),children:R})]})]})})}))},912:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(1),i=a(2),o=a.n(i),r=a(39),s=a(436),l=a(380),d=a(366),b=a(300),j=a(310),u=a(52),O=a(973),p=a(814),x=a(815),h=a(813),m=a(778),f=a(812),g=a(120),v=a(31),C=a(389),S=a(390),k=a(415),y=a(809),N=a(376),E=a(971),w=a(369),M=a(956),L=a(121),D=a(0),B=Object(w.a)((function(e){return Object(b.a)(Object(c.a)({},g.n))}));function I(e){var t=B();return Object(D.jsx)(k.a,Object(c.a)({InputProps:{classes:t}},e))}var T=Object(j.a)((function(e){return Object(b.a)(Object(c.a)(Object(c.a)({},g.i),g.D))}))((function(e){var t=e.classes,a=e.id,r=e.name,l=e.onChange,d=e.options,b=e.label,j=e.tooltip,u=void 0===j?"":j,O=e.value,p=e.disabled,x=void 0!==p&&p,h=Object(i.useState)(d[0]),m=Object(n.a)(h,2),f=m[0],g=m[1];return Object(D.jsx)(o.a.Fragment,{children:Object(D.jsxs)(s.a,{item:!0,xs:12,className:t.fieldContainer,children:[""!==b&&Object(D.jsxs)(y.a,{htmlFor:a,className:t.inputLabel,children:[Object(D.jsx)("span",{children:b}),""!==u&&Object(D.jsx)("div",{className:t.tooltipContainer,children:Object(D.jsx)(N.a,{title:u,placement:"top-start",children:Object(D.jsx)("div",{className:t.tooltip,children:Object(D.jsx)(L.a,{})})})})]}),Object(D.jsx)(E.a,{fullWidth:!0,children:Object(D.jsx)(M.a,{id:a,options:d,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e){return e.value===O},disabled:x,renderInput:function(e){return Object(D.jsx)(I,Object(c.a)(Object(c.a)({},e),{},{name:r}))},value:f,onChange:function(e,t){t&&(l(t.value),g(t))},autoHighlight:!0})})]})})})),W=Object(r.b)(null,{setModalErrorSnackMessage:v.h});t.default=Object(j.a)((function(e){return Object(b.a)(Object(c.a)({minTableHeader:{color:"#393939","& tr":{"& th":{fontWeight:"bold"}}},buttonContainer:{textAlign:"right"}},g.p))}))(W((function(e){var t=e.classes,a=e.open,c=e.selectedBucket,o=e.closeModalAndRefresh,r=e.setModalErrorSnackMessage,b=Object(i.useState)(!1),j=Object(n.a)(b,2),g=j[0],v=j[1],k=Object(i.useState)(""),y=Object(n.a)(k,2),N=y[0],E=y[1],w=Object(i.useState)(""),M=Object(n.a)(w,2),L=M[0],B=M[1],I=Object(i.useState)(""),W=Object(n.a)(I,2),z=W[0],P=W[1],R=Object(i.useState)([]),A=Object(n.a)(R,2),F=A[0],H=A[1],G=Object(i.useState)([]),q=Object(n.a)(G,2),J=q[0],U=q[1],V=Object(i.useCallback)((function(){v(!0),u.a.invoke("GET","/api/v1/admin/arns").then((function(e){var t=[];null!==e.arns&&(t=e.arns),v(!1),U(t)})).catch((function(e){v(!1),r(e)}))}),[r]);Object(i.useEffect)((function(){V()}),[V]);var X=function(e,t){var a=F.indexOf(t),n=[];-1===a?n=n.concat(F,t):0===a?n=n.concat(F.slice(1)):a===F.length-1?n=n.concat(F.slice(0,-1)):a>0&&(n=n.concat(F.slice(0,a),F.slice(a+1))),H(n)},Z=J.map((function(e){return{label:e,value:e}}));return Object(D.jsx)(C.a,{modalOpen:a,onClose:function(){o()},title:"Subscribe To Event",children:Object(D.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g||(v(!0),u.a.invoke("POST","/api/v1/buckets/".concat(c,"/events"),{configuration:{arn:z,events:F,prefix:N,suffix:L},ignoreExisting:!0}).then((function(){v(!1),o()})).catch((function(e){v(!1),r(e)})))},children:Object(D.jsxs)(s.a,{container:!0,children:[Object(D.jsxs)(s.a,{item:!0,xs:12,className:t.formScrollable,children:[Object(D.jsx)(s.a,{item:!0,xs:12,children:Object(D.jsx)(T,{onChange:function(e){P(e)},id:"select-access-policy",name:"select-access-policy",label:"ARN",value:z,options:Z})}),Object(D.jsx)(s.a,{item:!0,xs:12,children:Object(D.jsxs)(f.a,{size:"medium",children:[Object(D.jsx)(O.a,{className:t.minTableHeader,children:Object(D.jsxs)(p.a,{children:[Object(D.jsx)(x.a,{children:"Select"}),Object(D.jsx)(x.a,{children:"Event"})]})}),Object(D.jsx)(h.a,{children:[{label:"PUT - Object Uploaded",value:"put"},{label:"GET - Object accessed",value:"get"},{label:"DELETE - Object Deleted",value:"delete"}].map((function(e){return Object(D.jsxs)(p.a,{onClick:function(t){return X(0,e.value)},children:[Object(D.jsx)(x.a,{padding:"checkbox",children:Object(D.jsx)(m.a,{value:e.value,color:"primary",inputProps:{"aria-label":"secondary checkbox"},onChange:function(t){return X(0,e.value)},checked:F.includes(e.value)})}),Object(D.jsx)(x.a,{className:t.wrapCell,children:e.label})]},"group-".concat(e.value))}))})]})}),Object(D.jsx)(s.a,{item:!0,xs:12,children:Object(D.jsx)("br",{})}),Object(D.jsx)(s.a,{item:!0,xs:12,children:Object(D.jsx)(S.a,{id:"prefix-input",name:"prefix-input",label:"Prefix",value:N,onChange:function(e){E(e.target.value)}})}),Object(D.jsx)(s.a,{item:!0,xs:12,children:Object(D.jsx)(S.a,{id:"suffix-input",name:"suffix-input",label:"Suffix",value:L,onChange:function(e){B(e.target.value)}})}),Object(D.jsx)(s.a,{item:!0,xs:12,children:Object(D.jsx)("br",{})})]}),Object(D.jsx)(s.a,{item:!0,xs:12,className:t.buttonContainer,children:Object(D.jsx)(l.a,{type:"submit",variant:"contained",color:"primary",disabled:g,children:"Save"})}),g&&Object(D.jsx)(s.a,{item:!0,xs:12,children:Object(D.jsx)(d.a,{})})]})})})})))}}]);
//# sourceMappingURL=126.5bcb865e.chunk.js.map