"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1711],{31711:function(e,n,t){t.r(n);var a=t(23430),o=t(18489),i=t(50390),r=t(34424),s=t(66946),l=t(81378),c=t(86509),d=t(4285),u=t(25594),m=t(28948),p=t(44149),h=t(72462),x=t(92440),f=t(66964),b=t(76352),g=t(30324),v=t(85204),Z=t(1365),j=t(62559),C=(0,r.$j)(null,{setModalErrorSnackMessage:p.zb});n.default=(0,d.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({},h.DF),h.ID))}))(C((function(e){var n=e.classes,t=e.open,o=e.enabled,r=e.cfg,c=e.selectedBucket,d=e.closeModalAndRefresh,p=e.setModalErrorSnackMessage,h=(0,i.useState)(!1),C=(0,a.Z)(h,2),k=C[0],y=C[1],N=(0,i.useState)(!1),S=(0,a.Z)(N,2),w=S[0],F=S[1],M=(0,i.useState)("1"),E=(0,a.Z)(M,2),L=E[0],P=E[1],B=(0,i.useState)("TiB"),I=(0,a.Z)(B,2),z=I[0],D=I[1];(0,i.useEffect)((function(){if(o&&(F(!0),r)){P("".concat(r.quota)),D("Gi");for(var e="B",n=r.quota,t=0;t<m.Dl.length&&r.quota%Math.pow(1024,t)===0;t++)n=r.quota/Math.pow(1024,t),e=m.Dl[t];P("".concat(n)),D(e)}}),[o,r]);return(0,j.jsx)(b.Z,{modalOpen:t,onClose:function(){d()},title:"Enable Bucket Quota",titleIcon:(0,j.jsx)(v.Wq,{}),children:(0,j.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),function(){if(!k){var e={enabled:w,amount:parseInt((0,m.Pw)(L,z,!0)),quota_type:"hard"};g.Z.invoke("PUT","/api/v1/buckets/".concat(c,"/quota"),e).then((function(){y(!1),d()})).catch((function(e){y(!1),p(e)}))}}()},children:(0,j.jsxs)(u.ZP,{container:!0,children:[(0,j.jsxs)(u.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,j.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,j.jsx)(x.Z,{value:"bucket_quota",id:"bucket_quota",name:"bucket_quota",checked:w,onChange:function(e){F(e.target.checked)},label:"Enabled"})}),w&&(0,j.jsx)(i.Fragment,{children:(0,j.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,j.jsx)(u.ZP,{container:!0,children:(0,j.jsx)(u.ZP,{item:!0,xs:12,children:(0,j.jsx)(f.Z,{id:"quota_size",name:"quota_size",onChange:function(e){e.target.validity.valid&&P(e.target.value)},pattern:"[0-9]*",label:"Quota",value:L,required:!0,min:"1",overlayObject:(0,j.jsx)(Z.Z,{id:"quota_unit",onUnitChange:function(e){D(e)},unitSelected:z,unitsList:(0,m.zQ)(["Ki"]),disabled:!1})})})})})})]}),(0,j.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,j.jsx)(s.Z,{type:"button",variant:"outlined",color:"primary",disabled:k,onClick:function(){d()},children:"Cancel"}),(0,j.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",disabled:k,children:"Save"})]}),k&&(0,j.jsx)(u.ZP,{item:!0,xs:12,children:(0,j.jsx)(l.Z,{})})]})})})})))},92440:function(e,n,t){var a=t(36222),o=t(18489),i=t(50390),r=t(86509),s=t(4285),l=t(49056),c=t(36554),d=t(94187),u=t(35477),m=t(25594),p=t(72462),h=t(97538),x=t(44977),f=t(62559),b=(0,s.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(l.Z);n.Z=(0,s.Z)((function(e){return(0,r.Z)((0,o.Z)((0,o.Z)({divContainer:{marginBottom:20},indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},p.OR),p.YI))}))((function(e){var n=e.label,t=void 0===n?"":n,r=e.onChange,s=e.value,l=e.id,p=e.name,g=e.checked,v=void 0!==g&&g,Z=e.disabled,j=void 0!==Z&&Z,C=e.switchOnly,k=void 0!==C&&C,y=e.tooltip,N=void 0===y?"":y,S=e.description,w=void 0===S?"":S,F=e.classes,M=e.indicatorLabels,E=e.extraInputProps,L=void 0===E?{}:E,P=(0,f.jsxs)(i.Fragment,{children:[!k&&(0,f.jsx)("span",{className:(0,x.Z)(F.indicatorLabel,(0,a.Z)({},F.indicatorLabelOn,!v)),children:M&&M.length>1?M[1]:"OFF"}),(0,f.jsx)(b,{checked:v,onChange:r,color:"primary",name:p,inputProps:(0,o.Z)({"aria-label":"primary checkbox"},L),disabled:j,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:s}),!k&&(0,f.jsx)("span",{className:(0,x.Z)(F.indicatorLabel,(0,a.Z)({},F.indicatorLabelOn,v)),children:M?M[0]:"ON"})]});return k?P:(0,f.jsx)("div",{className:F.divContainer,children:(0,f.jsxs)(m.ZP,{container:!0,alignItems:"center",children:[(0,f.jsx)(m.ZP,{item:!0,xs:!0,children:(0,f.jsxs)(m.ZP,{container:!0,children:[(0,f.jsx)(m.ZP,{item:!0,xs:12,sm:""!==w?4:10,md:""!==w?3:9,children:""!==t&&(0,f.jsxs)(c.Z,{htmlFor:l,className:F.inputLabel,children:[(0,f.jsx)("span",{children:t}),""!==N&&(0,f.jsx)("div",{className:F.tooltipContainer,children:(0,f.jsx)(d.Z,{title:N,placement:"top-start",children:(0,f.jsx)("div",{className:F.tooltip,children:(0,f.jsx)(h.Z,{})})})})]})}),(0,f.jsx)(m.ZP,{item:!0,xs:12,sm:!0,textAlign:"left",children:""!==w&&(0,f.jsx)(u.Z,{component:"p",className:F.fieldDescription,children:w})})]})}),(0,f.jsx)(m.ZP,{item:!0,xs:12,sm:2,textAlign:"right",className:F.switchContainer,children:P})]})})}))},66964:function(e,n,t){var a=t(18489),o=t(50390),i=t(12066),r=t(25594),s=t(36554),l=t(94187),c=t(95467),d=t(86509),u=t(62449),m=t(4285),p=t(72462),h=t(97538),x=t(44977),f=t(62559),b=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)({},p.gM))}));function g(e){var n=b();return(0,f.jsx)(i.Z,(0,a.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,a.Z)((0,a.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,d=e.id,u=e.name,m=e.type,p=void 0===m?"text":m,b=e.autoComplete,v=void 0===b?"off":b,Z=e.disabled,j=void 0!==Z&&Z,C=e.multiline,k=void 0!==C&&C,y=e.tooltip,N=void 0===y?"":y,S=e.index,w=void 0===S?0:S,F=e.error,M=void 0===F?"":F,E=e.required,L=void 0!==E&&E,P=e.placeholder,B=void 0===P?"":P,I=e.min,z=e.max,D=e.overlayIcon,O=void 0===D?null:D,R=e.overlayObject,q=void 0===R?null:R,T=e.extraInputProps,W=void 0===T?{}:T,A=e.overlayAction,_=e.noLabelMinWidth,$=void 0!==_&&_,H=e.pattern,K=void 0===H?"":H,Q=e.autoFocus,U=void 0!==Q&&Q,V=e.classes,Y=e.className,G=void 0===Y?"":Y,X=e.onKeyPress,J=(0,a.Z)({"data-index":w},W);return"number"===p&&I&&(J.min=I),"number"===p&&z&&(J.max=z),""!==K&&(J.pattern=K),(0,f.jsx)(o.Fragment,{children:(0,f.jsxs)(r.ZP,{container:!0,className:(0,x.Z)(""!==G?G:"",""!==M?V.errorInField:V.inputBoxContainer),children:[""!==n&&(0,f.jsxs)(s.Z,{htmlFor:d,className:$?V.noMinWidthLabel:V.inputLabel,children:[(0,f.jsxs)("span",{children:[n,L?"*":""]}),""!==N&&(0,f.jsx)("div",{className:V.tooltipContainer,children:(0,f.jsx)(l.Z,{title:N,placement:"top-start",children:(0,f.jsx)("div",{className:V.tooltip,children:(0,f.jsx)(h.Z,{})})})})]}),(0,f.jsxs)("div",{className:V.textBoxContainer,children:[(0,f.jsx)(g,{id:d,name:u,fullWidth:!0,value:i,autoFocus:U,disabled:j,onChange:t,type:p,multiline:k,autoComplete:v,inputProps:J,error:""!==M,helperText:M,placeholder:B,className:V.inputRebase,onKeyPress:X}),O&&(0,f.jsx)("div",{className:"".concat(V.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,f.jsx)(c.Z,{onClick:A?function(){A()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:O})}),q&&(0,f.jsx)("div",{className:"".concat(V.overlayAction," ").concat(""!==n?"withLabel":""),children:q})]})]})})}))},1365:function(e,n,t){var a=t(23430),o=t(50390),i=t(86509),r=t(4285),s=t(26936),l=t(31680),c=t(62559);n.Z=(0,r.Z)((function(e){return(0,i.Z)({buttonTrigger:{border:"#F0F2F2 1px solid",borderRadius:3,color:"#838383",backgroundColor:"#fff",fontSize:12}})}))((function(e){var n=e.classes,t=e.id,i=e.unitSelected,r=e.unitsList,d=e.disabled,u=void 0!==d&&d,m=e.onUnitChange,p=o.useState(null),h=(0,a.Z)(p,2),x=h[0],f=h[1],b=Boolean(x),g=function(e){f(null),""!==e&&m&&m(e)};return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)("button",{id:"".concat(t,"-button"),"aria-controls":"".concat(t,"-menu"),"aria-haspopup":"true","aria-expanded":b?"true":void 0,onClick:function(e){f(e.currentTarget)},className:n.buttonTrigger,disabled:u,type:"button",children:i}),(0,c.jsx)(s.Z,{id:"".concat(t,"-menu"),"aria-labelledby":"".concat(t,"-button"),anchorEl:x,open:b,onClose:function(){g("")},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:r.map((function(e){return(0,c.jsx)(l.Z,{onClick:function(){return g(e.value)},children:e.label},"itemUnit-".concat(e.value,"-").concat(e.label))}))})]})}))},76352:function(e,n,t){t.d(n,{Z:function(){return w}});var a,o=t(23430),i=t(18489),r=t(50390),s=t(34424),l=t(95467),c=t(97771),d=t(84402),u=t(78426),m=t(93085),p=t(86509),h=t(4285),x=t(72462),f=t(44149),b=t(38342),g=t.n(b),v=t(92125),Z=t(19538),j=t(21278),C=t(62559),k=function(){clearInterval(a)},y={displayErrorMessage:f.zb},N=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),y)((0,h.Z)((function(e){return(0,p.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var n=e.classes,t=e.modalSnackMessage,i=e.displayErrorMessage,s=e.customStyle,l=(0,r.useState)(!1),c=(0,o.Z)(l,2),d=c[0],u=c[1],m=(0,r.useState)(!1),p=(0,o.Z)(m,2),h=p[0],x=p[1],f=(0,r.useCallback)((function(){x(!1)}),[]);(0,r.useEffect)((function(){h||(i({detailedError:"",errorMessage:""}),u(!1))}),[i,h]),(0,r.useEffect)((function(){""!==t.message&&"error"===t.type&&x(!0)}),[f,t.message,t.type]);var b=g()(t,"message",""),y=g()(t,"detailedErrorMsg","");return"error"!==t.type||""===b?null:(0,C.jsx)(r.Fragment,{children:(0,C.jsxs)("div",{className:"".concat(n.modalErrorContainer," ").concat(h?n.modalErrorShow:""),style:s,onMouseOver:k,onMouseLeave:function(){a=setInterval(f,1e4)},children:[(0,C.jsx)("button",{className:n.closeButton,onClick:f,children:(0,C.jsx)(j.Z,{})}),(0,C.jsxs)("div",{className:n.errorTitle,children:[(0,C.jsx)("span",{className:n.messageIcon,children:(0,C.jsx)(Z.Z,{})}),(0,C.jsx)("span",{className:n.errorLabel,children:b})]}),""!==y&&(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)("div",{className:n.detailsContainerLink,children:(0,C.jsxs)("button",{className:n.detailsButton,onClick:function(){u(!d)},children:["Details",(0,C.jsx)(v.Z,{className:"".concat(n.arrowElement," ").concat(d?n.arrowOpen:"")})]})}),(0,C.jsx)("div",{className:"".concat(n.extraDetailsContainer," ").concat(d?n.extraDetailsOpen:""),children:y})]})]})})}))),S=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:f.MK}),w=(0,h.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)({},x.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(S((function(e){var n=e.onClose,t=e.modalOpen,a=e.title,s=e.children,p=e.classes,h=e.wideLimit,x=void 0===h||h,f=e.modalSnackMessage,b=e.noContentPadding,g=e.setModalSnackMessage,v=e.titleIcon,Z=void 0===v?null:v,k=(0,r.useState)(!1),y=(0,o.Z)(k,2),S=y[0],w=y[1];(0,r.useEffect)((function(){g("")}),[g]),(0,r.useEffect)((function(){if(f){if(""===f.message)return void w(!1);"error"!==f.type&&w(!0)}}),[f]);var F=x?{classes:{paper:p.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},M="";return f&&(M=f.detailedErrorMsg,(""===f.detailedErrorMsg||f.detailedErrorMsg.length<5)&&(M=f.message)),(0,C.jsxs)(d.Z,(0,i.Z)((0,i.Z)({open:t,classes:p},F),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:p.root,children:[(0,C.jsxs)(u.Z,{className:p.title,children:[(0,C.jsxs)("div",{className:p.titleText,children:[Z," ",a]}),(0,C.jsx)("div",{className:p.closeContainer,children:(0,C.jsx)(l.Z,{"aria-label":"close",className:p.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,C.jsx)(j.Z,{})})})]}),(0,C.jsx)(N,{}),(0,C.jsx)(c.Z,{open:S,className:p.snackBarModal,onClose:function(){w(!1),g("")},message:M,ContentProps:{className:"".concat(p.snackBar," ").concat(f&&"error"===f.type?p.errorSnackBar:"")},autoHideDuration:f&&"error"===f.type?1e4:5e3}),(0,C.jsx)(m.Z,{className:b?"":p.content,children:s})]}))})))}}]);
//# sourceMappingURL=1711.1d689e21.chunk.js.map