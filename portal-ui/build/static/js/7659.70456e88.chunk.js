(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7659,9478],{57314:function(e,n,t){"use strict";var i=t(1413),r=t(72791),a=t(61889),o=t(30829),s=t(20068),l=t(27391),c=t(11135),u=t(25787),f=t(23814),d=t(84570),p=t(80184);n.Z=(0,u.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},f.YI),f.Hr),{},{inputLabel:(0,i.Z)((0,i.Z)({},f.YI.inputLabel),{},{fontSize:14,margin:0,alignItems:"flex-start",paddingTop:"20px",flexWrap:"wrap",display:"flex"}),textBoxContainer:{flexGrow:1,position:"relative"},cssOutlinedInput:{borderColor:"#EAEAEA",padding:16},rootContainer:{"& .MuiOutlinedInput-inputMultiline":(0,i.Z)((0,i.Z)({},f.YI.inputLabel),{},{fontSize:13,minHeight:150}),"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#07193E",borderWidth:1},"& textarea":{color:"#07193E",fontSize:13,fontWeight:600,"&:placeholder":{color:"#858585",opacity:1,fontWeight:400}}}}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,c=e.id,u=e.name,f=e.disabled,h=void 0!==f&&f,m=e.tooltip,x=void 0===m?"":m,v=e.index,g=void 0===v?0:v,Z=e.error,j=void 0===Z?"":Z,b=e.required,y=void 0!==b&&b,C=e.placeholder,N=void 0===C?"":C,w=e.classes,E={"data-index":g};return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(a.ZP,{item:!0,xs:12,className:"".concat(w.fieldContainer," ").concat(""!==j?w.errorInField:""),children:[""!==n&&(0,p.jsxs)(o.Z,{htmlFor:c,className:w.inputLabel,children:[(0,p.jsxs)("span",{children:[n,y?"*":""]}),""!==x&&(0,p.jsx)("div",{className:w.tooltipContainer,children:(0,p.jsx)(s.Z,{title:x,placement:"top-start",children:(0,p.jsx)("div",{className:w.tooltip,children:(0,p.jsx)(d.Z,{})})})})]}),(0,p.jsx)("div",{className:w.textBoxContainer,children:(0,p.jsx)(l.Z,{id:c,name:u,fullWidth:!0,value:i,disabled:h,onChange:t,multiline:!0,rows:5,inputProps:E,error:""!==j,helperText:j,placeholder:N,InputLabelProps:{shrink:!0},InputProps:{classes:{notchedOutline:w.cssOutlinedInput,root:w.rootContainer}},variant:"outlined"})})]})})}))},67659:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var i=t(72791),r=t(26181),a=t.n(r),o=t(61889),s=t(58493),l=t(29439),c=t(1413),u=t(60364),f=t(11135),d=t(25787),p=t(40986),h=t(64554),m=t(36151),x=t(81207),v=t(29478),g=t(42649),Z=t(23814),j=t(51691),b=t(2148),y=t(56375),C=t(80184),N={setErrorSnackMessage:g.Ih},w=(0,u.$j)(null,N),E=(0,d.Z)((function(e){return(0,f.Z)((0,c.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},Z.Qw))}))(w((function(e){var n=e.classes,t=e.configurationName,r=e.closeResetModalAndRefresh,a=e.setErrorSnackMessage,o=e.resetOpen,s=(0,i.useState)(!1),c=(0,l.Z)(s,2),u=c[0],f=c[1];(0,i.useEffect)((function(){u&&x.Z.invoke("GET","/api/v1/configs/".concat(t,"/reset")).then((function(e){f(!1),r(!0)})).catch((function(e){f(!1),a(e)}))}),[r,t,u,a]);return(0,C.jsx)(b.Z,{title:"Restore Defaults",confirmText:"Yes, Reset Configuration",isOpen:o,titleIcon:(0,C.jsx)(y.NvT,{}),isLoading:u,onConfirm:function(){f(!0)},onClose:function(){r(!1)},confirmationContent:(0,C.jsxs)(i.Fragment,{children:[u&&(0,C.jsx)(p.Z,{}),(0,C.jsxs)(j.Z,{children:["Are you sure you want to restore these configurations to default values?",(0,C.jsx)("br",{}),(0,C.jsx)("b",{className:n.wrapText,children:"Please note that this may cause your system to not be accessible"})]})]})})}))),I={serverNeedsRestart:g.o8,setErrorSnackMessage:g.Ih},S=(0,u.$j)(null,I)((0,d.Z)((function(e){return(0,f.Z)((0,c.Z)((0,c.Z)((0,c.Z)({},Z.YI),Z.Je),{},{settingsFormContainer:{display:"grid",gridTemplateColumns:"1fr",gridGap:"10px"}}))}))((function(e){var n=e.serverNeedsRestart,t=e.selectedConfiguration,r=e.setErrorSnackMessage,c=e.classes,u=e.history,f=e.className,d=void 0===f?"":f,g=(0,i.useState)([]),Z=(0,l.Z)(g,2),j=Z[0],b=Z[1],y=(0,i.useState)(!1),N=(0,l.Z)(y,2),w=N[0],I=N[1],S=(0,i.useState)(!0),k=(0,l.Z)(S,2),T=k[0],P=k[1],R=(0,i.useState)([]),F=(0,l.Z)(R,2),O=F[0],W=F[1],A=(0,i.useState)(!1),M=(0,l.Z)(A,2),_=M[0],B=M[1];(0,i.useEffect)((function(){if(T){var e=a()(t,"configuration_id",!1);if(e)return void x.Z.invoke("GET","/api/v1/configs/".concat(e)).then((function(e){var n=a()(e,"key_values",[]);W(n),P(!1)})).catch((function(e){P(!1),r(e)}));P(!1)}}),[T,t,r]),(0,i.useEffect)((function(){if(w){var e={key_values:(0,s.DD)(j)};x.Z.invoke("PUT","/api/v1/configs/".concat(t.configuration_id),e).then((function(e){I(!1),n(e.restart),u.push("/settings")})).catch((function(e){I(!1),r(e)}))}}),[w,u,n,t,j,r]);var D=(0,i.useCallback)((function(e){b(e)}),[b]);return(0,C.jsxs)(i.Fragment,{children:[_&&(0,C.jsx)(E,{configurationName:t.configuration_id,closeResetModalAndRefresh:function(e){B(!1),n(e),e&&P(!0)},resetOpen:_}),T?(0,C.jsx)(o.ZP,{item:!0,xs:12,children:(0,C.jsx)(p.Z,{})}):(0,C.jsx)(h.Z,{sx:{padding:"15px",height:"100%"},children:(0,C.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),I(!0)},className:d,style:{height:"100%",display:"flex",flexFlow:"column"},children:[(0,C.jsx)(o.ZP,{item:!0,xs:12,className:c.settingsFormContainer,children:(0,C.jsx)(v.default,{fields:s.DP[t.configuration_id],onChange:D,defaultVals:O})}),(0,C.jsxs)(o.ZP,{item:!0,xs:12,sx:{paddingTop:"15px ",textAlign:"right",maxHeight:"60px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,C.jsx)(m.Z,{type:"button",variant:"outlined",color:"secondary",sx:{padding:{xs:"3px",md:"20px"}},onClick:function(){B(!0)},children:"Restore Defaults"}),"\xa0 \xa0",(0,C.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",disabled:w,children:"Save"})]})]})})]})}))),k=function(e){var n=e.match,t=e.history,i=a()(n,"url",""),r=i.substring(i.lastIndexOf("/")+1),l=s.bx.find((function(e){return e.configuration_id===r})),c="".concat(r);return(0,C.jsx)(o.ZP,{item:!0,xs:12,sx:{height:"100%","& .identity_ldap, .api":{"& label":{minWidth:220,marginRight:0}}},children:l&&(0,C.jsx)(S,{className:"".concat(c),selectedConfiguration:l,history:t})})}},29478:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w},valueDef:function(){return N}});var i=t(93433),r=t(29439),a=t(1413),o=t(72791),s=t(11135),l=t(25787),c=t(61889),u=t(23814),f=t(21435),d=t(26181),p=t.n(d),h=t(48573),m=t.n(h),x=t(30829),v=t(20068),g=t(84570),Z=t(47919),j=t(80184),b=(0,l.Z)((function(e){return(0,s.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},u.YI),u.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15,flex:1},inputBoxSpacer:{marginBottom:7},inputLabel:(0,a.Z)((0,a.Z)({},u.YI.inputLabel),{},{margin:0,alignItems:"flex-start",paddingTop:"20px",minWidth:162})}))}))((function(e){var n=e.elements,t=e.name,a=e.label,s=e.tooltip,l=void 0===s?"":s,u=e.commonPlaceholder,d=void 0===u?"":u,h=e.onChange,b=e.withBorder,y=void 0!==b&&b,C=e.classes,N=(0,o.useState)([""]),w=(0,r.Z)(N,2),E=w[0],I=w[1],S=(0,o.createRef)();(0,o.useEffect)((function(){if(1===E.length&&""===E[0]&&n&&""!==n){var e=n.split(",");e.push(""),I(e)}}),[n,E]),(0,o.useEffect)((function(){if(E.length>1){var e=S.current;e&&e.scrollIntoView(!1)}}),[E,S]);var k=(0,o.useRef)(!0);(0,o.useLayoutEffect)((function(){k.current?k.current=!1:P()}),[E]);var T=function(e){e.persist();var n=(0,i.Z)(E);n[p()(e.target,"dataset.index",0)]=e.target.value,I(n)},P=m()((function(){var e=E.filter((function(e){return""!==e.trim()})).join(",");h(e)}),500),R=E.map((function(e,n){return(0,j.jsx)("div",{className:C.inputBoxSpacer,children:(0,j.jsx)(f.Z,{id:"".concat(t,"-").concat(n.toString()),label:"",name:"".concat(t,"-").concat(n.toString()),value:E[n],onChange:T,index:n,placeholder:d,overlayIcon:n===E.length-1?(0,j.jsx)(Z.Z,{}):null,overlayAction:function(){!function(e){if(""!==e[e.length-1].trim()){var n=(0,i.Z)(e);n.push(""),I(n)}}(E)}},"csv-".concat(t,"-").concat(n.toString()))})}));return(0,j.jsx)(o.Fragment,{children:(0,j.jsxs)(c.ZP,{item:!0,xs:12,className:C.fieldContainer,children:[(0,j.jsxs)(x.Z,{className:C.inputLabel,children:[(0,j.jsx)("span",{children:a}),""!==l&&(0,j.jsx)("div",{className:C.tooltipContainer,children:(0,j.jsx)(v.Z,{title:l,placement:"top-start",children:(0,j.jsx)("div",{className:C.tooltip,children:(0,j.jsx)(g.Z,{})})})})]}),(0,j.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(y?C.inputWithBorder:""),children:[R,(0,j.jsx)("div",{ref:S})]})]})})})),y=t(57314),C=t(37516),N=function(e,n,t){var i="on|off"===n?"off":"";if(t.length>0){var r=t.find((function(n){return n.key===e}));r&&(i=r.value)}return i},w=(0,l.Z)((function(e){return(0,s.Z)((0,a.Z)((0,a.Z)({},u.DF),{},{formFieldRow:(0,a.Z)({},u.DF.formFieldRow)},u.oO))}))((function(e){var n=e.onChange,t=e.fields,a=e.defaultVals,s=e.classes,l=(0,o.useState)([]),u=(0,r.Z)(l,2),d=u[0],p=u[1],h=t||[],m=a||[];(0,o.useEffect)((function(){var e=[];t.forEach((function(n){var t={key:n.name,value:N(n.name,n.type,m)};e.push(t)})),p(e)}),[t,a]),(0,o.useEffect)((function(){n(d)}),[d]);var x=function(e,n,t){var r=(0,i.Z)(d);r[t]={key:e,value:n},p(r)},v=function(e,n){switch(e.type){case"on|off":var t=d[n]?d[n].value:"off";return(0,j.jsx)(C.Z,{onChange:function(t){var i=t.target.checked?"on":"off";x(e.name,i,n)},id:e.name,name:e.name,label:e.label,value:"switch_on",tooltip:e.tooltip,checked:"on"===t});case"csv":return(0,j.jsx)(b,{elements:d[n]?d[n].value:"",label:e.label,name:e.name,onChange:function(t){return x(e.name,t,n)},tooltip:e.tooltip,commonPlaceholder:e.placeholder,withBorder:!0});case"comment":return(0,j.jsx)(y.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:d[n]?d[n].value:"",onChange:function(t){return x(e.name,t.target.value,n)},placeholder:e.placeholder});default:return(0,j.jsx)(f.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:d[n]?d[n].value:"",onChange:function(t){return x(e.name,t.target.value,n)},multiline:!!e.multiline,placeholder:e.placeholder})}};return(0,j.jsx)(c.ZP,{container:!0,children:(0,j.jsx)(c.ZP,{xs:12,item:!0,className:s.fieldBox,children:h.map((function(e,n){return(0,j.jsx)(c.ZP,{item:!0,xs:12,className:s.formFieldRow,children:v(e,n)},e.name)}))})})}))},20821:function(e,n,t){var i=t(26050),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},26050:function(e){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},48573:function(e,n,t){var i=t(8092),r=t(50072),a=t(42582),o=Math.max,s=Math.min;e.exports=function(e,n,t){var l,c,u,f,d,p,h=0,m=!1,x=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(n){var t=l,i=c;return l=c=void 0,h=n,f=e.apply(i,t)}function Z(e){return h=e,d=setTimeout(b,n),m?g(e):f}function j(e){var t=e-p;return void 0===p||t>=n||t<0||x&&e-h>=u}function b(){var e=r();if(j(e))return y(e);d=setTimeout(b,function(e){var t=n-(e-p);return x?s(t,u-(e-h)):t}(e))}function y(e){return d=void 0,v&&l?g(e):(l=c=void 0,f)}function C(){var e=r(),t=j(e);if(l=arguments,c=this,p=e,t){if(void 0===d)return Z(p);if(x)return clearTimeout(d),d=setTimeout(b,n),g(p)}return void 0===d&&(d=setTimeout(b,n)),f}return n=a(n)||0,i(t)&&(m=!!t.leading,u=(x="maxWait"in t)?o(a(t.maxWait)||0,n):u,v="trailing"in t?!!t.trailing:v),C.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=p=c=d=void 0},C.flush=function(){return void 0===d?f:y(r())},C}},50072:function(e,n,t){var i=t(97009);e.exports=function(){return i.Date.now()}},42582:function(e,n,t){var i=t(20821),r=t(8092),a=t(70152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=r(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var t=s.test(e);return t||l.test(e)?c(e.slice(2),t?2:8):o.test(e)?NaN:+e}}}]);
//# sourceMappingURL=7659.70456e88.chunk.js.map