"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9918],{79918:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var i=t(29439),s=t(1413),o=t(72791),r=t(78687),l=t(57689),a=t(11135),c=t(25787),u=t(61889),d=t(64554),f=t(26181),x=t.n(f),p=t(23814),h=t(81207),m=t(56087),Z=t(38442),v=t(75578),j=t(45902),T=t(84861),g=t(75952),b=t(45987),S=t(36151),_=t(80184),E=["isLoading","onClick","label"],C=function(e){var n=e.isLoading,t=e.onClick,i=e.label,o=(0,b.Z)(e,E);return(0,_.jsx)(S.Z,(0,s.Z)((0,s.Z)({color:"primary",onClick:t,variant:"text",sx:{padding:0,margin:0,alignItems:"flex-start",justifyContent:"flex-start",display:"inline-flex",height:"auto",textDecoration:"underline",color:"#2781B0","&:hover":{background:"#ffffff",textDecoration:"underline"}},disableRipple:!0,disableFocusRipple:!0},o),{},{children:n?(0,_.jsx)(g.aNw,{style:{width:16,height:16}}):i}))},y=t(13400),N=["disabled","onClick"],I=(0,c.Z)((function(e){return(0,a.Z)({root:{"&:hover":{backgroundColor:"#E2E2E2"}}})}))((function(e){var n=e.disabled,t=e.onClick,i=(0,b.Z)(e,N);return(0,_.jsx)(y.Z,(0,s.Z)((0,s.Z)({size:"small",disabled:n,onClick:t},i),{},{children:(0,_.jsx)(g.dY8,{})}))})),k=function(e){var n=e.resourceName,t=e.iamScopes,i=e.secureCmpProps,o=void 0===i?{}:i,r=e.children;return(0,_.jsx)(Z.s,(0,s.Z)((0,s.Z)({scopes:t,resource:n,errorProps:{disabled:!0}},o),{},{children:r}))},O=function(e){var n=e.isLoading,t=void 0===n||n,i=e.resourceName,s=void 0===i?"":i,o=e.iamScopes,r=e.secureCmpProps,l=void 0===r?{}:r,a=e.property,c=void 0===a?null:a,u=e.value,f=void 0===u?null:u,x=e.onEdit;return(0,_.jsxs)(d.Z,{sx:{display:"flex",alignItems:"baseline",justifyContent:"flex-start"},children:[(0,_.jsx)(j.Z,{label:c,value:(0,_.jsx)(k,{resourceName:s,iamScopes:o,secureCmpProps:l,children:(0,_.jsx)(C,{isLoading:t,onClick:x,label:f})})}),(0,_.jsx)(k,{resourceName:s,iamScopes:o,secureCmpProps:l,children:(0,_.jsx)(I,{onClick:x,sx:{background:"#f8f8f8",marginLeft:"3px",top:3,"& .min-icon":{width:"16px",height:"16px"}}})})]})},F=t(45248),A=function(e){var n=e.bucketSize;return(0,_.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center","& .min-icon":{height:37,width:37}},children:[(0,_.jsx)(g.Mhr,{}),(0,_.jsxs)(d.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",flexFlow:"column",marginLeft:"20px",fontSize:"19px"},children:[(0,_.jsx)("label",{style:{fontWeight:600},children:"Reported Usage:"}),(0,_.jsx)("label",{children:(0,F.ae)(n)})]})]})},G=function(e){var n=e.quota;return(0,_.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center","& .min-icon":{height:37,width:37}},children:[(0,_.jsx)(g.sjJ,{}),(0,_.jsxs)(d.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",flexFlow:"column",marginLeft:"20px",fontSize:"19px"},children:[(0,_.jsxs)("label",{style:{fontWeight:600,textTransform:"capitalize"},children:[null===n||void 0===n?void 0:n.type," Quota"]}),(0,_.jsxs)("label",{children:[" ",(0,F.ae)("".concat(null===n||void 0===n?void 0:n.quota),!0)]})]})]})},P=t(50896),R=t(87995),U=t(9859),w=t(25469),B=(0,v.Z)(o.lazy((function(){return Promise.all([t.e(5017),t.e(9682)]).then(t.bind(t,33690))}))),L=(0,v.Z)(o.lazy((function(){return t.e(1604).then(t.bind(t,1604))}))),M=(0,v.Z)(o.lazy((function(){return t.e(9952).then(t.bind(t,99952))}))),K=(0,v.Z)(o.lazy((function(){return t.e(402).then(t.bind(t,70402))}))),z=(0,v.Z)(o.lazy((function(){return Promise.all([t.e(1918),t.e(1705)]).then(t.bind(t,71705))}))),D=(0,v.Z)(o.lazy((function(){return t.e(1581).then(t.bind(t,1581))}))),V={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},Y=(0,c.Z)((function(e){return(0,a.Z)((0,s.Z)((0,s.Z)({},p.bK),p.VI))}))((function(e){var n=e.classes,t=(0,w.TL)(),a=(0,l.UO)(),c=(0,r.v9)(U.HQ),f=(0,r.v9)(U.G6),p=(0,r.v9)(R.N5),v=(0,o.useState)(null),b=(0,i.Z)(v,2),S=b[0],E=b[1],C=(0,o.useState)("0"),y=(0,i.Z)(C,2),N=y[0],I=y[1],k=(0,o.useState)(!1),F=(0,i.Z)(k,2),Y=F[0],Q=F[1],q=(0,o.useState)(!1),J=(0,i.Z)(q,2),W=J[0],$=J[1],H=(0,o.useState)(!1),X=(0,i.Z)(H,2),ee=X[0],ne=X[1],te=(0,o.useState)(!0),ie=(0,i.Z)(te,2),se=ie[0],oe=ie[1],re=(0,o.useState)(!0),le=(0,i.Z)(re,2),ae=le[0],ce=le[1],ue=(0,o.useState)(!0),de=(0,i.Z)(ue,2),fe=de[0],xe=de[1],pe=(0,o.useState)(!0),he=(0,i.Z)(pe,2),me=he[0],Ze=he[1],ve=(0,o.useState)(!0),je=(0,i.Z)(ve,2),Te=je[0],ge=je[1],be=(0,o.useState)(!0),Se=(0,i.Z)(be,2),_e=Se[0],Ee=Se[1],Ce=(0,o.useState)(!0),ye=(0,i.Z)(Ce,2),Ne=ye[0],Ie=ye[1],ke=(0,o.useState)(!0),Oe=(0,i.Z)(ke,2),Fe=Oe[0],Ae=Oe[1],Ge=(0,o.useState)(!1),Pe=(0,i.Z)(Ge,2),Re=Pe[0],Ue=Pe[1],we=(0,o.useState)(!1),Be=(0,i.Z)(we,2),Le=Be[0],Me=Be[1],Ke=(0,o.useState)(null),ze=(0,i.Z)(Ke,2),De=ze[0],Ve=ze[1],Ye=(0,o.useState)(!1),Qe=(0,i.Z)(Ye,2),qe=Qe[0],Je=Qe[1],We=(0,o.useState)(!1),$e=(0,i.Z)(We,2),He=$e[0],Xe=$e[1],en=(0,o.useState)(null),nn=(0,i.Z)(en,2),tn=nn[0],sn=nn[1],on=(0,o.useState)(!1),rn=(0,i.Z)(on,2),ln=rn[0],an=rn[1],cn=(0,o.useState)(!1),un=(0,i.Z)(cn,2),dn=un[0],fn=un[1],xn=(0,o.useState)(!1),pn=(0,i.Z)(xn,2),hn=pn[0],mn=pn[1],Zn=(0,o.useState)(!1),vn=(0,i.Z)(Zn,2),jn=vn[0],Tn=vn[1],gn=a.bucketName||"",bn="n/a",Sn="";null!==f&&(bn=f.access,Sn=f.definition);var _n=(0,Z.F)(gn,[m.Ft.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION,m.Ft.S3_GET_ACTIONS]),En=(0,Z.F)(gn,[m.Ft.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,m.Ft.S3_GET_ACTIONS]),Cn=(0,Z.F)(gn,[m.Ft.ADMIN_GET_BUCKET_QUOTA]);(0,o.useEffect)((function(){xe(!!c)}),[c,xe]),(0,o.useEffect)((function(){me&&(En?h.Z.invoke("GET","/api/v1/buckets/".concat(gn,"/encryption/info")).then((function(e){e.algorithm&&(Je(!0),E(e)),Ze(!1)})).catch((function(e){"The server side encryption configuration was not found"===e.errorMessage&&(Je(!1),E(null)),Ze(!1)})):(Je(!1),E(null),Ze(!1)))}),[me,gn,En]),(0,o.useEffect)((function(){Te&&p&&h.Z.invoke("GET","/api/v1/buckets/".concat(gn,"/versioning")).then((function(e){Ue(e.is_versioned),ge(!1)})).catch((function(e){t((0,R.Ih)(e)),ge(!1)}))}),[Te,t,gn,p]),(0,o.useEffect)((function(){_e&&p&&(Cn?h.Z.invoke("GET","/api/v1/buckets/".concat(gn,"/quota")).then((function(e){Ve(e),e.quota?Me(!0):Me(!1),Ee(!1)})).catch((function(e){t((0,R.Ih)(e)),Me(!1),Ee(!1)})):(Me(!1),Ee(!1)))}),[_e,ge,t,gn,p,Cn]),(0,o.useEffect)((function(){Te&&p&&(_n?h.Z.invoke("GET","/api/v1/buckets/".concat(gn,"/object-locking")).then((function(e){Q(e.object_locking_enabled),oe(!1)})).catch((function(e){t((0,R.Ih)(e)),oe(!1)})):oe(!1))}),[se,t,gn,Te,p,_n]),(0,o.useEffect)((function(){ae&&h.Z.invoke("GET","/api/v1/buckets").then((function(e){var n=x()(e,"buckets",[]).find((function(e){return e.name===gn})),t=x()(n,"size","0");ce(!1),I(t)})).catch((function(e){ce(!1),t((0,R.Ih)(e))}))}),[ae,t,gn]),(0,o.useEffect)((function(){Ne&&p&&h.Z.invoke("GET","/api/v1/buckets/".concat(gn,"/replication")).then((function(e){var n=e.rules?e.rules:[];ne(n.length>0),Ie(!1)})).catch((function(e){t((0,R.Ih)(e)),Ie(!1)}))}),[Ne,t,gn,p]),(0,o.useEffect)((function(){Fe&&Y&&h.Z.invoke("GET","/api/v1/buckets/".concat(gn,"/retention")).then((function(e){Ae(!1),Xe(!0),sn(e)})).catch((function(e){Xe(!1),Ae(!1),sn(null)}))}),[Fe,Y,gn]);var yn=function(){t((0,U.d5)(!0)),xe(!0),ce(!0),ge(!0),Ze(!0),Ae(!0)};return(0,_.jsxs)(o.Fragment,{children:[dn&&(0,_.jsx)(M,{open:dn,selectedBucket:gn,encryptionEnabled:qe,encryptionCfg:S,closeModalAndRefresh:function(){fn(!1),Ze(!0)}}),hn&&(0,_.jsx)(D,{open:hn,selectedBucket:gn,enabled:Le,cfg:De,closeModalAndRefresh:function(){mn(!1),Ee(!0)}}),W&&(0,_.jsx)(B,{bucketName:gn,open:W,actualPolicy:bn,actualDefinition:Sn,closeModalAndRefresh:function(){$(!1),yn()}}),ln&&(0,_.jsx)(L,{bucketName:gn,open:ln,closeModalAndRefresh:function(){an(!1),yn()}}),jn&&(0,_.jsx)(K,{closeVersioningModalAndRefresh:function(e){Tn(!1),e&&yn()},modalOpen:jn,selectedBucket:gn,versioningCurrentState:Re}),(0,_.jsx)(P.Z,{children:"Summary"}),(0,_.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,_.jsx)(Z.s,{scopes:[m.Ft.S3_GET_BUCKET_POLICY,m.Ft.S3_GET_ACTIONS],resource:gn,children:(0,_.jsx)(u.ZP,{item:!0,xs:12,children:(0,_.jsxs)(d.Z,{sx:(0,s.Z)({},V),children:[(0,_.jsxs)(d.Z,{sx:(0,s.Z)({},V),children:[(0,_.jsx)(Z.s,{scopes:[m.Ft.S3_GET_BUCKET_POLICY,m.Ft.S3_GET_ACTIONS],resource:gn,children:(0,_.jsx)(O,{iamScopes:[m.Ft.S3_PUT_BUCKET_POLICY,m.Ft.S3_PUT_ACTIONS],resourceName:gn,property:"Access Policy:",value:bn.toLowerCase(),onEdit:function(){$(!0)},isLoading:fe})}),(0,_.jsx)(Z.s,{scopes:[m.Ft.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,m.Ft.S3_GET_ACTIONS],resource:gn,children:(0,_.jsx)(O,{iamScopes:[m.Ft.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,m.Ft.S3_PUT_ACTIONS],resourceName:gn,property:"Encryption:",value:qe?"Enabled":"Disabled",onEdit:function(){fn(!0)},isLoading:me})}),(0,_.jsx)(Z.s,{scopes:[m.Ft.S3_GET_REPLICATION_CONFIGURATION,m.Ft.S3_GET_ACTIONS],resource:gn,children:(0,_.jsx)(j.Z,{label:"Replication:",value:(0,_.jsx)(T.Z,{icon:ee?(0,_.jsx)(g.E31,{}):(0,_.jsx)(g.dRf,{}),label:(0,_.jsx)("label",{className:n.textMuted,children:ee?"Enabled":"Disabled"})})})}),(0,_.jsx)(Z.s,{scopes:[m.Ft.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION,m.Ft.S3_GET_ACTIONS],resource:gn,children:(0,_.jsx)(j.Z,{label:"Object Locking:",value:(0,_.jsx)(T.Z,{icon:Y?(0,_.jsx)(g.E31,{}):(0,_.jsx)(g.dRf,{}),label:(0,_.jsx)("label",{className:n.textMuted,children:Y?"Enabled":"Disabled"})})})}),(0,_.jsx)(d.Z,{className:n.spacerTop,children:(0,_.jsx)(j.Z,{label:"Tags:",value:(0,_.jsx)(z,{bucketName:gn})})}),(0,_.jsx)(O,{iamScopes:[m.Ft.ADMIN_SET_BUCKET_QUOTA],resourceName:gn,property:"Quota:",value:Le?"Enabled":"Disabled",onEdit:function(){mn(!0)},isLoading:_e})]}),(0,_.jsxs)(d.Z,{sx:{display:"grid",gridTemplateColumns:"1fr",alignItems:"flex-start"},children:[(0,_.jsx)(A,{bucketSize:N}),Le&&De?(0,_.jsx)(G,{quota:De}):null]})]})})}),p&&(0,_.jsx)(Z.s,{scopes:[m.Ft.S3_GET_BUCKET_VERSIONING,m.Ft.S3_GET_ACTIONS],resource:gn,children:(0,_.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,_.jsx)(P.Z,{children:"Versioning"}),(0,_.jsx)(d.Z,{sx:(0,s.Z)({},V),children:(0,_.jsx)(d.Z,{sx:(0,s.Z)({},V),children:(0,_.jsx)(O,{iamScopes:[m.Ft.S3_PUT_BUCKET_VERSIONING,m.Ft.S3_PUT_ACTIONS],resourceName:gn,property:"Current Status:",value:Re?"Versioned":"Unversioned (Default)",onEdit:function(){Tn(!0)},isLoading:Te})})})]})}),Y&&(0,_.jsx)(Z.s,{scopes:[m.Ft.S3_GET_OBJECT_RETENTION,m.Ft.S3_GET_ACTIONS],resource:gn,children:(0,_.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,_.jsx)(P.Z,{children:"Retention"}),(0,_.jsxs)(d.Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},children:[(0,_.jsxs)(d.Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},children:[(0,_.jsx)(O,{iamScopes:[m.Ft.ADMIN_SET_BUCKET_QUOTA],resourceName:gn,property:"Retention:",value:He?"Enabled":"Disabled",onEdit:function(){an(!0)},isLoading:Fe}),(0,_.jsx)(j.Z,{label:"Mode:",value:(0,_.jsx)("label",{className:n.textMuted,style:{textTransform:"capitalize"},children:tn&&tn.mode?tn.mode:"-"})}),(0,_.jsx)(j.Z,{label:"Validity:",value:(0,_.jsxs)("label",{className:n.textMuted,style:{textTransform:"capitalize"},children:[tn&&tn.validity," ",tn&&(1===tn.validity?tn.unit.slice(0,-1):tn.unit)]})})]}),(0,_.jsx)(d.Z,{sx:{display:"grid",gridTemplateColumns:"1fr",alignItems:"flex-start"}})]})]})})]})]})}))},84861:function(e,n,t){t(72791);var i=t(64554),s=t(80184);n.Z=function(e){var n=e.icon,t=void 0===n?null:n,o=e.label,r=void 0===o?null:o;return(0,s.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,s.jsx)("div",{style:{height:16,width:16,display:"flex",alignItems:"center",marginTop:5},children:t}),(0,s.jsx)("div",{style:{marginLeft:t?5:"none"},children:r})]})}},45902:function(e,n,t){var i=t(1413),s=(t(72791),t(53767)),o=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,r=e.value,l=void 0===r?"-":r,a=e.orientation,c=void 0===a?"column":a,u=e.stkProps,d=void 0===u?{}:u,f=e.lblProps,x=void 0===f?{}:f,p=e.valProps,h=void 0===p?{}:p;return(0,o.jsxs)(s.Z,(0,i.Z)((0,i.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,o.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:600}},x),{},{children:t})),(0,o.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:500}},h),{},{children:l}))]}))}},53767:function(e,n,t){var i=t(4942),s=t(63366),o=t(87462),r=t(72791),l=t(51184),a=t(45682),c=t(78519),u=t(82466),d=t(66934),f=t(31402),x=t(80184),p=["component","direction","spacing","divider","children"];function h(e,n){var t=r.Children.toArray(e).filter(Boolean);return t.reduce((function(e,i,s){return e.push(i),s<t.length-1&&e.push(r.cloneElement(n,{key:"separator-".concat(s)})),e}),[])}var m=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,s=(0,o.Z)({display:"flex",flexDirection:"column"},(0,l.k9)({theme:t},(0,l.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var r=(0,a.hB)(t),c=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),d=(0,l.P$)({values:n.direction,base:c}),f=(0,l.P$)({values:n.spacing,base:c});"object"===typeof d&&Object.keys(d).forEach((function(e,n,t){if(!d[e]){var i=n>0?d[t[n-1]]:"column";d[e]=i}}));s=(0,u.Z)(s,(0,l.k9)({theme:t},f,(function(e,t){return{"& > :not(style) + :not(style)":(0,i.Z)({margin:0},"margin".concat((s=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[s])),(0,a.NA)(r,e))};var s})))}return s=(0,l.dt)(t.breakpoints,s)})),Z=r.forwardRef((function(e,n){var t=(0,f.Z)({props:e,name:"MuiStack"}),i=(0,c.Z)(t),r=i.component,l=void 0===r?"div":r,a=i.direction,u=void 0===a?"column":a,d=i.spacing,Z=void 0===d?0:d,v=i.divider,j=i.children,T=(0,s.Z)(i,p),g={direction:u,spacing:Z};return(0,x.jsx)(m,(0,o.Z)({as:l,ownerState:g,ref:n},T,{children:v?h(j,v):j}))}));n.Z=Z}}]);
//# sourceMappingURL=9918.87fb5ab1.chunk.js.map