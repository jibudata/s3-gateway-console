"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5708],{94619:function(e,n,t){t.r(n);var i=t(29439),o=t(1413),a=t(72791),r=t(56028),s=t(61889),c=t(29945),l=t(21435),d=t(11135),u=t(25787),h=t(23814),f=t(81207),m=t(90673),p=t(87995),x=t(81551),b=t(80184);n.default=(0,u.Z)((function(e){return(0,d.Z)((0,o.Z)((0,o.Z)({},h.DF),h.ID))}))((function(e){var n=e.modalOpen,t=e.onClose,o=e.classes,d=e.bucket,u=e.prefilledRoute,h=(0,x.TL)(),v=(0,a.useState)(""),j=(0,i.Z)(v,2),g=j[0],Z=j[1],_=(0,a.useState)("readonly"),S=(0,i.Z)(_,2),C=S[0],w=S[1];(0,a.useEffect)((function(){u&&Z(u)}),[u]);return(0,b.jsx)(r.Z,{modalOpen:n,title:"Add Anonymous Access Rule",onClose:t,titleIcon:(0,b.jsx)(c.sR0,{}),children:(0,b.jsxs)(s.ZP,{container:!0,children:[(0,b.jsx)(s.ZP,{item:!0,xs:12,className:o.formFieldRow,children:(0,b.jsx)(l.Z,{value:g,label:"Prefix",id:"prefix",name:"prefix",placeholder:"Enter Prefix",onChange:function(e){Z(e.target.value)},tooltip:"Enter '/' to apply the rule to all prefixes and objects at the bucket root. Do not include the wildcard asterisk '*' as part of the prefix *unless* it is an explicit part of the prefix name. The Console automatically appends an asterisk to the appropriate sections of the resulting IAM policy."})}),(0,b.jsx)(s.ZP,{item:!0,xs:12,children:(0,b.jsx)(m.Z,{id:"access",name:"Access",onChange:function(e){w(e.target.value)},label:"Access",value:C,options:[{label:"readonly",value:"readonly"},{label:"writeonly",value:"writeonly"},{label:"readwrite",value:"readwrite"}],disabled:!1})}),(0,b.jsxs)(s.ZP,{item:!0,xs:12,className:o.modalButtonBar,children:[(0,b.jsx)(c.zxk,{id:"clear",type:"button",variant:"regular",onClick:function(){Z(""),w("readonly")},label:"Clear"}),(0,b.jsx)(c.zxk,{id:"add-access-save",type:"submit",variant:"callAction",disabled:""===g.trim(),onClick:function(){f.Z.invoke("PUT","/api/v1/bucket/".concat(d,"/access-rules"),{prefix:g,access:C}).then((function(e){h((0,p.y1)("Access Rule added successfully")),t()})).catch((function(e){h((0,p.Ih)(e)),t()}))},label:"Save"})]})]})})}))},35708:function(e,n,t){t.r(n),t.d(n,{default:function(){return kn}});var i,o=t(1413),a=t(72791),r=t(78687),s=t(57689),c=t(11135),l=t(25787),d=t(81551),u=t(23814),h=t(29439),f=t(57831),m=t(29945),p=t(99779),x=t(61889),b=t(26181),v=t.n(b),j=t(81207),g=t(45248),Z=t(29472),_=t(93433),S=t(78029),C=t.n(S),w=t(72455),y=t(11087),T=t(38442),k=t(56087),E=t(75578),N=t(87995),F=t(54756),I=t(80184),O=(0,E.Z)(a.lazy((function(){return t.e(2185).then(t.bind(t,62185))}))),L=(0,w.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({},u.cx),{},{slashSpacingStyle:{margin:"0 5px"}}))})),B=function(e){var n=e.bucketName,t=e.internalPaths,i=e.hidePathButton,o=e.additionalOptions,c=(0,d.TL)(),l=(0,s.s0)(),u=L(),f=(0,r.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),p=(0,r.v9)((function(e){return e.objectBrowser.versionsMode})),x=(0,r.v9)((function(e){return e.objectBrowser.versionedFile})),b=(0,r.v9)((function(e){return e.system.anonymousMode})),v=(0,a.useState)(!1),j=(0,h.Z)(v,2),Z=j[0],S=j[1],w=(0,T.F)(n,[k.Ft.S3_PUT_OBJECT,k.Ft.S3_PUT_ACTIONS])||b,E=t;""!==t&&(E="/".concat(t));var B=E.split("/").filter((function(e){return""!==e})),P=B.length-1,A=B.map((function(e,t){var i="".concat(B.slice(0,t+1).join("/"),"/"),o="/browser/".concat(n,"/").concat(i?"".concat((0,g.LL)(i)):"");return t===P&&e===x?null:(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)("span",{className:u.slashSpacingStyle,children:"/"}),t===P?(0,I.jsx)("span",{style:{cursor:"default"},children:e}):(0,I.jsx)(y.rU,{to:o,onClick:function(){c((0,F.db)({status:!1,objectName:""}))},children:e})]},"breadcrumbs-".concat(t.toString()))})),D=[];p&&(D=[(0,I.jsx)(a.Fragment,{children:(0,I.jsxs)("span",{children:[(0,I.jsx)("span",{className:u.slashSpacingStyle,children:"/"}),x," - Versions"]})},"breadcrumbs-versionedItem")]);var R=[(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(y.rU,{to:"/browser/".concat(n),onClick:function(){c((0,F.db)({status:!1,objectName:""}))},children:n})},"breadcrumbs-root-path")].concat((0,_.Z)(A),(0,_.Z)(D));return(0,I.jsxs)(a.Fragment,{children:[(0,I.jsxs)("div",{className:u.breadcrumbsMain,children:[Z&&(0,I.jsx)(O,{modalOpen:Z,bucketName:n,folderName:t,onClose:function(){S(!1)}}),(0,I.jsx)(m.OoM,{goBackFunction:function(){if(p)c((0,F.db)({status:!1,objectName:""}));else{if(0===B.length)return void l("/browser");var e=B.slice(0,-1);l("/browser/".concat(n).concat(e.length>0?"/".concat((0,g.LL)("".concat(e.join("/"),"/"))):""))}},additionalOptions:(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(C(),{text:"".concat(n,"/").concat(B.join("/")),children:(0,I.jsx)(m.zxk,{id:"copy-path",icon:(0,I.jsx)(m.TIy,{style:{width:"12px",height:"12px",fill:"#969FA8",marginTop:-1}}),variant:"regular",onClick:function(){c((0,N.y1)("Path copied to clipboard"))},style:{width:"28px",height:"28px",color:"#969FA8",border:"#969FA8 1px solid",marginRight:5}})}),(0,I.jsx)("div",{className:u.additionalOptions,children:o})]}),children:R}),!i&&(0,I.jsx)(m.ua7,{tooltip:w?"Choose or create a new path":(0,k.MK)([k.Ft.S3_PUT_OBJECT,k.Ft.S3_PUT_ACTIONS],"create a new path"),children:(0,I.jsx)(m.zxk,{id:"new-path",onClick:function(){S(!0)},disabled:!b&&(f||!w),icon:(0,I.jsx)(m.N$q,{style:{fill:"#969FA8"}}),style:{whiteSpace:"nowrap"},variant:"regular",label:"Create new path"})})]}),(0,I.jsx)("div",{className:u.breadcrumbsSecond,children:o})]})},P=t(47922),A=t(71715),D=t(77865),R=t(49900),U=t(57064),z=t(27454),M=(0,l.Z)((function(e){return(0,c.Z)({listUploadIcons:{height:20,"& .min-icon":{width:18,fill:"rgba(0,0,0,0.87)"}}})}))((function(e){var n=e.uploadPath,t=e.bucketName,i=e.forceDisable,o=void 0!==i&&i,s=e.uploadFileFunction,c=e.uploadFolderFunction,l=e.classes,d=e.overrideStyles,u=void 0===d?{}:d,f=(0,r.v9)((function(e){return e.system.anonymousMode})),p=(0,a.useState)(null),x=(0,h.Z)(p,2),b=x[0],v=x[1],j=Boolean(b),g=function(){v(null)},Z=(0,T.F)(n,[k.Ft.S3_PUT_OBJECT,k.Ft.S3_PUT_ACTIONS])||f,_=(0,T.F)(t,[k.Ft.S3_PUT_OBJECT,k.Ft.S3_PUT_ACTIONS],!1,!0),S=Z||_;return(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(z.Z,{tooltip:S?"Upload Files":(0,k.MK)([k.Ft.S3_PUT_OBJECT,k.Ft.S3_PUT_ACTIONS],"upload files to this bucket"),children:(0,I.jsx)(m.zxk,{id:"upload-main","aria-controls":"upload-main-menu","aria-haspopup":"true","aria-expanded":j?"true":void 0,onClick:function(e){v(e.currentTarget)},label:"Upload",icon:(0,I.jsx)(m.rG2,{}),variant:"callAction",disabled:o||!S,sx:u})}),(0,I.jsxs)(A.Z,{id:"upload-main-menu","aria-labelledby":"upload-main",anchorEl:b,open:j,onClose:function(){g()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,I.jsxs)(D.Z,{onClick:function(){s(g)},disabled:!Z||o,children:[(0,I.jsx)(U.Z,{className:l.listUploadIcons,children:(0,I.jsx)(m.rG2,{})}),(0,I.jsx)(R.Z,{children:"Upload File"})]}),(0,I.jsxs)(D.Z,{onClick:function(){c(g)},disabled:!_||o,children:[(0,I.jsx)(U.Z,{className:l.listUploadIcons,children:(0,I.jsx)(m.oXh,{})}),(0,I.jsx)(R.Z,{children:"Upload Folder"})]})]})]})})),G=(0,w.Z)((function(e){return(0,c.Z)({detailsList:{borderColor:"#EAEDEE",borderWidth:0,borderStyle:"solid",borderRadius:3,borderBottomLeftRadius:0,borderBottomRightRadius:0,width:0,transitionDuration:"0.3s",overflowX:"hidden",overflowY:"auto",position:"relative",opacity:0,marginLeft:-1,"&.open":{width:300,minWidth:300,borderLeftWidth:1,opacity:1},"@media (max-width: 799px)":{"&.open":{width:"100%",minWidth:"100%",borderLeftWidth:0}}}})})),K=function(e){var n=e.open,t=e.closePanel,i=e.className,o=void 0===i?"":i,a=e.children,r=G();return(0,I.jsxs)(m.rjZ,{item:!0,className:"".concat(r.detailsList," ").concat(n?"open":""," ").concat(o),children:[(0,I.jsx)(m.zxk,{variant:"text",id:"close-details-list",onClick:t,icon:(0,I.jsx)(m.oto,{}),sx:{position:"absolute",right:5,top:18,padding:0,height:14,"&:hover:not(:disabled)":{backgroundColor:"transparent"}}}),a]})},W=t(64554),H=t(34433),V=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],J=Array.from(Array(31),(function(e,n){return{value:(n+1).toString(),label:(n+1).toString()}})),Y=(new Date).getFullYear(),q=Array.from(Array(50),(function(e,n){return{value:(n+Y).toString(),label:(n+Y).toString()}})),$=t(56028),X=t(4942),Q=t(28182),ee=(0,a.forwardRef)((function(e,n){var t=e.classes,i=e.id,o=e.label,r=e.disableOptions,s=void 0!==r&&r,c=e.addSwitch,l=void 0!==c&&c,d=e.tooltip,u=void 0===d?"":d,f=e.borderBottom,p=void 0!==f&&f,x=e.onDateChange,b=e.value,v=void 0===b?"":b;(0,a.useImperativeHandle)(n,(function(){return{resetDate:A}}));var j=(0,a.useState)(!1),g=(0,h.Z)(j,2),Z=g[0],S=g[1],C=(0,a.useState)(""),w=(0,h.Z)(C,2),y=w[0],T=w[1],k=(0,a.useState)(""),E=(0,h.Z)(k,2),N=E[0],F=E[1],O=(0,a.useState)(""),L=(0,h.Z)(O,2),B=L[0],P=L[1];(0,a.useEffect)((function(){if(""!==v){var e=v.split("-");P(e[0]),T(e[1]),F("".concat(parseInt(e[2])))}}),[v]),(0,a.useEffect)((function(){var e=function(e,n,t){var i=Date.parse("".concat(e,"-").concat(n,"-").concat(t));if(isNaN(i))return[!1,""];var o=parseInt(n),a=parseInt(t),r=o<10?"0".concat(o):o,s=a<10?"0".concat(a):a,c=new Date(i).toISOString().split("T")[0],l="".concat(e,"-").concat(r,"-").concat(s);return[c===l,l]}(B,y,N),n=(0,h.Z)(e,2),t=n[0],i=n[1];x(i,t)}),[y,N,B,x]);var A=function(){T(""),F(""),P("")},D=function(){return s||!!l&&!Z},R=[{value:"",label:"<Month>"}].concat((0,_.Z)(V)),U=[{value:"",label:"<Day>"}].concat((0,_.Z)(J)),z=[{value:"",label:"<Year>"}].concat((0,_.Z)(q));return(0,I.jsxs)(m.rjZ,{item:!0,xs:12,className:(0,Q.Z)(t.fieldContainer,(0,X.Z)({},t.fieldContainerBorder,p)),children:[(0,I.jsx)("div",{className:t.labelContainer,children:(0,I.jsxs)(m.rjZ,{container:!0,children:[(0,I.jsxs)(m.AZs,{htmlFor:i,children:[(0,I.jsx)("span",{children:o}),""!==u&&(0,I.jsx)("div",{className:t.tooltipContainer,children:(0,I.jsx)(m.ua7,{tooltip:u,placement:"top",children:(0,I.jsx)("div",{className:t.tooltip,children:(0,I.jsx)(m.byK,{})})})})]}),l&&(0,I.jsx)(m.rsf,{indicatorLabels:["Specific Date","Default (7 Days)"],checked:Z,value:"date_enabled",id:"date-status",name:"date-status",onChange:function(e){S(e.target.checked),e.target.checked||x("",!0)},switchOnly:!0})]})}),(0,I.jsxs)(m.xuv,{sx:{display:"flex",gap:12},children:[(0,I.jsx)(m.PhF,{id:"".concat(i,"-month"),name:"".concat(i,"-month"),value:y,onChange:function(e){T(e)},options:R,label:"",disabled:D()}),(0,I.jsx)(m.PhF,{id:"".concat(i,"-day"),name:"".concat(i,"-day"),value:N,onChange:function(e){F(e)},options:U,label:"",disabled:D()}),(0,I.jsx)(m.PhF,{id:"".concat(i,"-year"),name:"".concat(i,"-year"),value:B,onChange:function(e){P(e)},options:z,label:"",disabled:D()})]})]})})),ne=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.YI),u.Hr),{},{fieldContainer:(0,o.Z)((0,o.Z)({},u.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6})}))}))(ee),te=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.DF),u.ID),u.bK))}))((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,s=e.objectInfo,c=e.bucketName,l=(0,d.TL)(),u=(0,r.v9)((function(e){return e.objectBrowser.retentionConfig})),f=(0,a.useState)(!0),p=(0,h.Z)(f,2),x=p[0],b=p[1],v=(0,a.useState)(""),Z=(0,h.Z)(v,2),_=Z[0],S=Z[1],C=(0,a.useState)(""),w=(0,h.Z)(C,2),y=w[0],T=w[1],k=(0,a.useState)(!1),E=(0,h.Z)(k,2),F=E[0],O=E[1],L=(0,a.useState)(!1),B=(0,h.Z)(L,2),P=B[0],A=B[1],D=(0,a.useState)(!1),R=(0,h.Z)(D,2),U=R[0],z=R[1];(0,a.useEffect)((function(){if(s.retention_mode&&(S((null===u||void 0===u?void 0:u.mode)||"governance"),z(!0)),s.retention_until_date){var e=new Date(s.retention_until_date);if("Invalid Date"!==e.toString()){var n=e.getFullYear(),t=(o=e.getMonth()+1)<10?"0".concat(o):"".concat(o),i=e.getDate();isNaN(i)||"NaN"===t||isNaN(n)||T("".concat(n,"-").concat(t,"-").concat(i))}z(!0)}var o}),[s,null===u||void 0===u?void 0:u.mode]);var M=(0,a.useRef)(null),G=function(){b(!1),S("governance"),M.current&&M.current.resetDate()},K=U&&("governance"===_||""===_);return(0,I.jsxs)($.Z,{title:"Set Retention Policy",modalOpen:t,onClose:function(){G(),i(!1)},children:[(0,I.jsxs)("div",{className:n.spacerBottom,children:[(0,I.jsx)("strong",{children:"Selected Object"}),": ",o]}),(0,I.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:[K&&(0,I.jsx)(m.rjZ,{item:!0,xs:12,className:n.formFieldRow,children:(0,I.jsx)(m.rsf,{value:"status",id:"status",name:"status",checked:x,onChange:function(e){b(!x)},label:"Status",indicatorLabels:["Enabled","Disabled"]})}),(0,I.jsx)(m.rjZ,{item:!0,xs:12,className:n.formFieldRow,children:(0,I.jsx)(m.Eep,{currentValue:_,id:"type",name:"type",label:"Type",disableOptions:!x||U&&""!==_,onChange:function(e){S(e.target.value)},selectorOptions:[{label:"Governance",value:"governance"},{label:"Compliance",value:"compliance"}]})}),(0,I.jsx)(m.rjZ,{item:!0,xs:12,className:"".concat(n.dateSelector," "),children:(0,I.jsx)(ne,{id:"date",label:"Date",disableOptions:!(x&&("governance"===_||"compliance"===_)),ref:M,value:y,borderBottom:!0,onDateChange:function(e,n){O(n),n&&T(e)}})}),(0,I.jsxs)(m.rjZ,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,I.jsx)(m.zxk,{id:"reset",type:"button",variant:"regular",onClick:G,label:"Reset"}),(0,I.jsx)(m.zxk,{id:"save",type:"submit",variant:"callAction",disabled:x&&""===_||x&&!F||P,onClick:function(){A(!0);var e=s.name,n=s.version_id,t=x||"governance"!==_?"".concat(y,"T23:59:59Z"):"";x||"governance"!==_?function(e,n,t){j.Z.invoke("PUT","/api/v1/buckets/".concat(c,"/objects/retention?prefix=").concat((0,g.LL)(e),"&version_id=").concat(n),{expires:t,mode:_}).then((function(e){A(!1),i(!0)})).catch((function(e){l((0,N.zb)(e)),A(!1)}))}(e,n,t):function(e,n){j.Z.invoke("DELETE","/api/v1/buckets/".concat(c,"/objects/retention?prefix=").concat((0,g.LL)(e),"&version_id=").concat(n)).then((function(){A(!1),i(!0)})).catch((function(e){l((0,N.zb)(e)),A(!1)}))}(e,n)},label:"Save"})]})]})]})})),ie=t(23508),oe=t(9505),ae=function(e){return"Enabled"===e||"Suspended"===e},re=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,o=e.selectedObject,s=e.versioningInfo,c=e.selectedVersion,l=void 0===c?"":c,u=(0,d.TL)(),f=(0,oe.Z)((function(){return n(!0)}),(function(e){u((0,N.Ih)(e)),"Access Denied."===e.detailedError&&n(!0)})),p=(0,h.Z)(f,2),x=p[0],b=p[1],v=(0,a.useState)(!1),j=(0,h.Z)(v,2),Z=j[0],_=j[1],S=(0,a.useState)(!1),C=(0,h.Z)(S,2),w=C[0],y=C[1],E=(0,r.v9)((function(e){return e.objectBrowser.retentionConfig})),F=(0,T.F)([i],[k.Ft.S3_BYPASS_GOVERNANCE_RETENTION])&&"governance"===(null===E||void 0===E?void 0:E.mode);if(!o)return null;return(0,I.jsx)(ie.Z,{title:"Delete Object",confirmText:"Delete",isOpen:t,titleIcon:(0,I.jsx)(m.NvT,{}),isLoading:x,onConfirm:function(){var e=(0,g.IO)(o).endsWith("/");b("DELETE","/api/v1/buckets/".concat(i,"/objects?path=").concat(o).concat(""!==l?"&version_id=".concat(l):"&recursive=".concat(e,"&all_versions=").concat(Z)).concat(w?"&bypass=true":""))},onClose:function(){return n(!1)},confirmationContent:(0,I.jsxs)(a.Fragment,{children:["Are you sure you want to delete: ",(0,I.jsx)("br",{}),(0,I.jsx)("b",{children:(0,g.IO)(o)})," ",""!==l?(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)("br",{}),(0,I.jsx)("br",{}),"Version ID:",(0,I.jsx)("br",{}),(0,I.jsx)("strong",{children:l})]}):"","? ",(0,I.jsx)("br",{}),(0,I.jsx)("br",{}),ae(null===s||void 0===s?void 0:s.status)&&""===l&&(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(m.rsf,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:Z,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){_(!Z)},description:""})}),F&&(Z||""!==l)&&(0,I.jsx)(a.Fragment,{children:(0,I.jsx)("div",{style:{marginTop:10},children:(0,I.jsx)(m.rsf,{label:"Bypass Governance Mode",indicatorLabels:["Yes","No"],checked:w,value:"bypass_governance",id:"bypass_governance",name:"bypass_governance",onChange:function(e){y(!w)},description:""})})}),Z&&(0,I.jsxs)(a.Fragment,{children:[(0,I.jsxs)("div",{style:{marginTop:10,border:"#c83b51 1px solid",borderRadius:3,padding:5,backgroundColor:"#c83b5120",color:"#c83b51"},children:["This will remove the object as well as all of its versions,"," ",(0,I.jsx)("br",{}),"This action is irreversible."]}),(0,I.jsx)("br",{}),"Are you sure you want to continue?"]})]})})},se=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.DF),u.ID),u.bK))}))((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,r=e.bucketName,s=e.actualInfo,c=(0,d.TL)(),l=(0,a.useState)(!1),u=(0,h.Z)(l,2),f=u[0],p=u[1],x=(0,a.useState)(!1),b=(0,h.Z)(x,2),Z=b[0],_=b[1],S=s.version_id;(0,a.useEffect)((function(){var e=v()(s,"legal_hold_status","OFF");p("ON"===e)}),[s]);var C=function(){p(!1)};return(0,I.jsxs)($.Z,{title:"Set Legal Hold",modalOpen:t,onClose:function(){C(),i(!1)},children:[(0,I.jsxs)(m.rjZ,{item:!0,xs:12,className:n.spacerBottom,children:["Object: ",r]}),(0,I.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),_(!0),j.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/legalhold?prefix=").concat((0,g.LL)(o),"&version_id=").concat(S),{status:f?"enabled":"disabled"}).then((function(){_(!1),i(!0)})).catch((function(e){c((0,N.zb)(e)),_(!1)}))}(e)},children:[(0,I.jsx)(m.rjZ,{item:!0,xs:12,className:n.formFieldRow,children:(0,I.jsx)(m.rsf,{value:"legalhold",id:"legalhold",name:"legalhold",checked:f,onChange:function(e){p(!f)},label:"Legal Hold Status",indicatorLabels:["Enabled","Disabled"],tooltip:"To enable this feature you need to enable versioning on the bucket before creation"})}),(0,I.jsxs)(m.rjZ,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,I.jsx)(m.zxk,{id:"clear",type:"button",variant:"regular",onClick:C,label:"Clear"}),(0,I.jsx)(m.zxk,{id:"save",type:"submit",variant:"callAction",disabled:Z,label:" Save"})]})]})]})})),ce=t(78562),le=t(79836),de=t(53382),ue=t(35855),he=t(53994),fe=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({titleItem:{width:"35%"}},u.bK),u.$b))}))((function(e){var n=e.metaData,t=e.classes,i=e.linear,o=void 0!==i&&i,r=Object.keys(n);return o?(0,I.jsx)(a.Fragment,{children:r.map((function(e,i){var o=Array.isArray(n[e])?n[e].map(decodeURIComponent).join(", "):decodeURIComponent(n[e]);return(0,I.jsxs)(W.Z,{className:t.metadataLinear,children:[(0,I.jsx)("strong",{children:e}),(0,I.jsx)("br",{}),o]},"box-meta-".concat(e,"-").concat(i.toString()))}))}):(0,I.jsxs)(x.ZP,{container:!0,children:[(0,I.jsx)(x.ZP,{item:!0,xs:12,sx:{marginTop:"25px",marginBottom:"5px"},children:(0,I.jsx)("h3",{style:{marginTop:"0",marginBottom:"0"},children:"Object Metadata"})}),(0,I.jsx)(x.ZP,{item:!0,xs:12,children:(0,I.jsx)(le.Z,{className:t.table,"aria-label":"simple table",children:(0,I.jsx)(de.Z,{children:r.map((function(e,i){var o=Array.isArray(n[e])?n[e].map(decodeURIComponent).join(", "):decodeURIComponent(n[e]);return(0,I.jsxs)(ue.Z,{children:[(0,I.jsx)(he.Z,{component:"th",scope:"row",className:t.titleItem,children:e}),(0,I.jsx)(he.Z,{align:"right",children:o})]},"tRow-".concat(i.toString()))}))})})})]})})),me=t(37762),pe=(0,l.Z)((function(e){return(0,c.Z)({fileName:{display:"flex",alignItems:"center","& .min-icon":{width:16,height:16,marginRight:4,minWidth:16,minHeight:16}},fileNameText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})}))((function(e){var n=e.classes,t=e.icon,i=e.strings;return(0,I.jsxs)("div",{className:n.fileName,children:[t,(0,I.jsx)("span",{className:n.fileNameText,children:(0,g.e3)(i[i.length-1])})]})})),xe=[{icon:(0,I.jsx)(m.n9O,{}),extensions:["mp4","mov","avi","mpeg","mpg"]},{icon:(0,I.jsx)(m.mYf,{}),extensions:["mp3","m4a","aac"]},{icon:(0,I.jsx)(m.UU9,{}),extensions:["pdf"]},{icon:(0,I.jsx)(m.hjP,{}),extensions:["ppt","pptx"]},{icon:(0,I.jsx)(m.hz9,{}),extensions:["xls","xlsx"]},{icon:(0,I.jsx)(m.xDw,{}),extensions:["cer","crt","pem"]},{icon:(0,I.jsx)(m.jG9,{}),extensions:["html","xml","css","py","go","php","cpp","h","java"]},{icon:(0,I.jsx)(m.NqG,{}),extensions:["cfg","yaml"]},{icon:(0,I.jsx)(m.OkY,{}),extensions:["sql"]},{icon:(0,I.jsx)(m.ZAy,{}),extensions:["ttf","otf"]},{icon:(0,I.jsx)(m.p2x,{}),extensions:["doc","docx","txt","rtf"]},{icon:(0,I.jsx)(m.xhr,{}),extensions:["zip","rar","tar","gz"]},{icon:(0,I.jsx)(m.rtI,{}),extensions:["epub","mobi","azw","azw3"]},{icon:(0,I.jsx)(m.q$4,{}),extensions:["jpeg","jpg","gif","tiff","png","heic","dng"]}],be=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e,i=(0,I.jsx)(m.MoH,{});e.endsWith("/")&&(i=(0,I.jsx)(m.BI,{}),t=e.slice(0,-1));for(var o=e.toLowerCase(),a=0,r=xe;a<r.length;a++){var s,c=r[a],l=(0,me.Z)(c.extensions);try{for(l.s();!(s=l.n()).done;){var d=s.value;o.endsWith(".".concat(d))&&(i=c.icon)}}catch(h){l.e(h)}finally{l.f()}}!e.endsWith("/")&&e.indexOf(".")<0&&(i=(0,I.jsx)(m.lrl,{}));var u=t.split("/");return n?i:(0,I.jsx)(pe,{icon:i,strings:u})},ve=t(81918),je=t(29823),ge=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({newTileHeader:{fontSize:18,fontWeight:"bold",color:"#000",margin:"35px 0",paddingBottom:15,display:"flex",alignItems:"center","& > svg":{marginRight:10}},tagsForLabel:{fontSize:16,margin:"20px 0 30px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},currentTagsContainer:{fontSize:14,fontWeight:"normal"},noTagsForObject:{color:"#858585"},deleteTag:{color:"#C83B51",marginLeft:5}},u.DF),u.ID),u.bK))}))((function(e){var n=e.modalOpen,t=e.onCloseAndUpdate,i=e.bucketName,s=e.actualInfo,c=e.classes,l=(0,d.TL)(),u=(0,r.v9)(N.N5),f=(0,a.useState)(""),p=(0,h.Z)(f,2),b=p[0],Z=p[1],_=(0,a.useState)(""),S=(0,h.Z)(_,2),C=S[0],w=S[1],y=(0,a.useState)(!1),E=(0,h.Z)(y,2),F=E[0],O=E[1],L=(0,a.useState)(!1),B=(0,h.Z)(L,2),P=B[0],A=B[1],D=(0,a.useState)(""),R=(0,h.Z)(D,2),U=R[0],z=R[1],M=(0,a.useState)(""),G=(0,h.Z)(M,2),K=G[0],H=G[1],V=(0,g.LL)(s.name),J=s.tags,Y=Object.keys(J||{}),q=s.name.split("/").pop()||"",X=function(e){return(0,I.jsxs)("div",{className:c.tagsForLabel,children:["Tag",e?"s":""," for: ",(0,I.jsx)("strong",{children:q})]})};return(0,I.jsx)(a.Fragment,{children:(0,I.jsx)($.Z,{modalOpen:n,title:P?"Delete Tag":"Edit Tags",onClose:function(){t(!0)},titleIcon:P?(0,I.jsx)(m.dRf,{style:{fill:"#C83B51"}}):(0,I.jsx)(m.T0F,{}),children:P?(0,I.jsx)(a.Fragment,{children:(0,I.jsxs)(x.ZP,{container:!0,children:[X(!1),"Are you sure you want to delete the tag"," ",(0,I.jsxs)("b",{className:c.deleteTag,children:[U," : ",K]})," ","?",(0,I.jsxs)(x.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:[(0,I.jsx)(m.zxk,{id:"cancel",type:"button",variant:"regular",onClick:function(){z(""),H(""),A(!1)},label:"Cancel"}),(0,I.jsx)(m.zxk,{type:"submit",variant:"secondary",onClick:function(){var e=(0,o.Z)({},J);delete e[U];var n=u?s.version_id:"null";j.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/objects/tags?prefix=").concat(V,"&version_id=").concat(n),{tags:e}).then((function(e){t(!0),O(!1)})).catch((function(e){l((0,N.zb)(e)),O(!1)}))},id:"deleteTag",label:"Delete Tag"})]})]})}):(0,I.jsxs)(x.ZP,{container:!0,children:[(0,I.jsx)(T.s,{scopes:[k.Ft.S3_GET_OBJECT_TAGGING,k.Ft.S3_GET_ACTIONS],resource:i,children:(0,I.jsxs)(W.Z,{sx:{display:"flex",flexFlow:"column",width:"100%"},children:[X(!0),(0,I.jsxs)("div",{className:c.currentTagsContainer,children:["Current Tags:",(0,I.jsx)("br",{}),0===Y.length?(0,I.jsx)("span",{className:c.noTagsForObject,children:"There are no tags for this object"}):(0,I.jsx)(a.Fragment,{}),(0,I.jsx)(W.Z,{sx:{marginTop:"5px",marginBottom:"15px"},children:Y.map((function(e,n){var t=v()(J,"".concat(e),"");return""!==t?(0,I.jsx)(T.s,{scopes:[k.Ft.S3_DELETE_OBJECT_TAGGING],resource:i,errorProps:{deleteIcon:null,onDelete:null},children:(0,I.jsx)(ve.Z,{style:{textTransform:"none",marginRight:"5px",marginBottom:"5px"},size:"small",label:"".concat(e," : ").concat(t),color:"primary",deleteIcon:(0,I.jsx)(je.Z,{}),onDelete:function(){!function(e,n){z(e),H(n),A(!0)}(e,t)}})},"chip-".concat(n)):null}))})]})]})}),(0,I.jsx)(T.s,{scopes:[k.Ft.S3_PUT_OBJECT_TAGGING,k.Ft.S3_PUT_ACTIONS],resource:i,errorProps:{disabled:!0,onClick:null},children:(0,I.jsxs)(x.ZP,{container:!0,children:[(0,I.jsx)(m.NZf,{icon:(0,I.jsx)(m.OCT,{}),separator:!1,children:"Add New Tag"}),(0,I.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,I.jsx)(m.Wzg,{value:b,label:"Tag Key",id:"newTagKey",name:"newTagKey",placeholder:"Enter Tag Key",onChange:function(e){Z(e.target.value)}})}),(0,I.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,I.jsx)(m.Wzg,{value:C,label:"Tag Label",id:"newTagLabel",name:"newTagLabel",placeholder:"Enter Tag Label",onChange:function(e){w(e.target.value)}})}),(0,I.jsxs)(x.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:[(0,I.jsx)(m.zxk,{id:"clear",type:"button",variant:"regular",color:"primary",onClick:function(){w(""),Z("")},label:"Clear"}),(0,I.jsx)(m.zxk,{type:"submit",variant:"callAction",disabled:""===C.trim()||""===b.trim()||F,onClick:function(){O(!0);var e={};e[b]=C;var n=(0,o.Z)((0,o.Z)({},J),e),a=u?s.version_id:"null";j.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/objects/tags?prefix=").concat(V,"&version_id=").concat(a),{tags:n}).then((function(e){t(!0),O(!1)})).catch((function(e){l((0,N.zb)(e)),O(!1)}))},id:"saveTag",label:"Save"})]})]})})]})})})})),Ze=t(74165),_e=t(15861),Se=t(51691),Ce=t(73669),we=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.DF),u.ID),u.bK))}))((function(e){var n=e.classes,t=e.closeInspectModalAndRefresh,i=e.inspectOpen,o=e.inspectPath,r=e.volumeName,s=(0,d.TL)(),c=function(){return t(!1)},l=(0,a.useState)(!0),u=(0,h.Z)(l,2),f=u[0],p=u[1],x=(0,a.useState)(""),b=(0,h.Z)(x,2),v=b[0],j=b[1],Z=(0,a.useState)(""),_=(0,h.Z)(Z,2),S=_[0],C=_[1];if(!o)return null;var w=function(){var e=(0,_e.Z)((0,Ze.Z)().mark((function e(n){return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,_e.Z)((0,Ze.Z)().mark((function e(){var n,t,i;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,g.LL)(o+"/xl.meta"),t=(0,g.LL)(r),i="/api/v1/admin/inspect?volume=".concat(t,"&file=").concat(n,"&encrypt=").concat(f),w(i).then(function(){var e=(0,_e.Z)((0,Ze.Z)().mark((function e(n){var t,i,o,a;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ok){e.next=5;break}return e.next=3,n.json();case 3:t=e.sent,s((0,N.Ih)({errorMessage:t.message,detailedError:t.code}));case 5:return e.next=7,n.blob();case 7:if(i=e.sent,o=n.headers.get("content-disposition").split('"')[1],a=(0,g.Do)(o)||"",(0,g.zZ)(i,o),C(o),""!==a){e.next=15;break}return c(),e.abrupt("return");case 15:j(a);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){s((0,N.Ih)(e))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)(a.Fragment,{children:[!v&&(0,I.jsx)($.Z,{modalOpen:i,titleIcon:(0,I.jsx)(m.Gp8,{}),title:"Inspect Object",onClose:c,children:(0,I.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:["Would you like to encrypt ",(0,I.jsx)("b",{children:(0,g.IO)(o)}),"?"," ",(0,I.jsx)("br",{}),(0,I.jsx)(m.rsf,{label:"Encrypt",indicatorLabels:["Yes","No"],checked:f,value:"encrypt",id:"encrypt",name:"encrypt",onChange:function(e){p(!f)},description:""}),(0,I.jsx)(m.rjZ,{item:!0,xs:12,className:n.modalButtonBar,children:(0,I.jsx)(m.zxk,{id:"inspect",type:"submit",variant:"callAction",color:"primary",onClick:y,label:"Inspect"})})]})}),v?(0,I.jsx)($.Z,{modalOpen:i,title:"Inspect Decryption Key",onClose:function(){(0,g.kT)(S),c(),j("")},titleIcon:(0,I.jsx)(m.tvm,{}),children:(0,I.jsxs)(Se.Z,{children:[(0,I.jsxs)(m.xuv,{children:["This will be displayed only once. It cannot be recovered.",(0,I.jsx)("br",{}),"Use secure medium to share this key."]}),(0,I.jsx)(m.xuv,{children:(0,I.jsx)(Ce.Z,{value:v})})]})}):null]})})),ye=t(21435),Te=t(81159),ke=t(76610),Ee=function(e,n,t,i){var o=(0,g.LL)("".concat(n,"-").concat(i.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));if(i.name.length>200&&(0,g.mv)().toLowerCase().includes("win"))e((0,F.Hg)(!0));else{var a=(0,ke.YO)(8),r=(0,P.LR)(n,t,i.version_id,parseInt(i.size||"0"),null,a,(function(n){e((0,F.RO)({instanceID:o,progress:n}))}),(function(){e((0,F.oK)(o))}),(function(n){e((0,F.qJ)({instanceID:o,msg:n}))}),(function(){e((0,F.Im)(o))}),(function(){e((0,N.y1)("File download will be handled directly by the browser."))}));(0,ke.EN)(a,r),e((0,F.Mc)({ID:a,bucketName:n,done:!1,instanceID:o,percentage:0,prefix:i.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1,errorMessage:""}))}},Ne=(0,w.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.ID),u.DF),u.bK),u.Bz))})),Fe=function(e){var n=e.open,t=e.closeModal,i=e.currentItem,o=e.internalPaths,r=e.actualInfo,s=e.bucketName,c=Ne(),l=(0,d.TL)(),u=(0,a.useState)(i),f=(0,h.Z)(u,2),p=f[0],b=f[1],v=(0,a.useState)(!1),j=(0,h.Z)(v,2),g=j[0],Z=j[1];return(0,I.jsxs)($.Z,{title:"Rename Download",modalOpen:n,onClose:t,titleIcon:(0,I.jsx)(m.dY8,{}),children:[(0,I.jsxs)("div",{children:["The file you are trying to download has a long name.",(0,I.jsx)("br",{}),"This can cause issues on Windows Systems by trimming the file name after download.",(0,I.jsx)("br",{}),(0,I.jsx)("br",{})," We recommend to rename the file download"]}),(0,I.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),Ee(l,s,o,r),t()}(e)},children:(0,I.jsxs)(x.ZP,{container:!0,children:[(0,I.jsxs)(x.ZP,{item:!0,xs:12,className:c.modalFormScrollable,children:[(0,I.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,I.jsx)(ye.Z,{id:"download-filename",name:"download-filename",onChange:function(e){b(e.target.value)},label:"",type:"text",value:p,error:p.length>200&&!g?"Filename should be less than 200 characters long.":""})}),(0,I.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,I.jsx)(Te.Z,{value:"acceptLongName",id:"acceptLongName",name:"acceptLongName",checked:g,onChange:function(e){Z(e.target.checked),e.target.checked&&b(i)},label:"Use Original Name"})})]}),(0,I.jsx)(x.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:(0,I.jsx)(m.zxk,{id:"download-file",type:"submit",variant:"callAction",color:"primary",disabled:p.length>200&&!g,label:"Download File"})})]})})]})},Ie={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},Oe=(0,l.Z)((function(){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({ObjectDetailsTitle:{display:"flex",alignItems:"center","& .min-icon":{width:26,height:26,minWidth:26,minHeight:26}},objectNameContainer:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",alignItems:"center",marginLeft:10},capitalizeFirst:{textTransform:"capitalize"}},u.OR),u.bK),u.VI),u.$b))}))((function(e){var n=e.classes,t=e.internalPaths,i=e.bucketName,o=e.versioningInfo,s=e.locking,c=e.onClosePanel,l=(0,d.TL)(),u=(0,r.v9)(N.N5),f=(0,r.v9)((function(e){return e.objectBrowser.versionsMode})),p=(0,r.v9)((function(e){return e.objectBrowser.selectedVersion})),b=(0,r.v9)((function(e){return e.objectBrowser.loadingObjectInfo})),Z=(0,a.useState)(!1),_=(0,h.Z)(Z,2),S=_[0],C=_[1],w=(0,a.useState)(!1),y=(0,h.Z)(w,2),E=y[0],O=y[1],L=(0,a.useState)(!1),B=(0,h.Z)(L,2),A=B[0],D=B[1],R=(0,a.useState)(!1),U=(0,h.Z)(R,2),M=U[0],G=U[1],K=(0,a.useState)(!1),V=(0,h.Z)(K,2),J=V[0],Y=V[1],q=(0,a.useState)(null),$=(0,h.Z)(q,2),X=$[0],Q=$[1],ee=(0,a.useState)([]),ne=(0,h.Z)(ee,2),ie=ne[0],oe=ne[1],ae=(0,a.useState)(null),le=(0,h.Z)(ae,2),de=le[0],ue=le[1],he=(0,a.useState)([]),me=(0,h.Z)(he,2),pe=me[0],xe=me[1],ve=(0,a.useState)(!1),je=(0,h.Z)(ve,2),Ze=je[0],_e=je[1],Se=(0,a.useState)(!1),Ce=(0,h.Z)(Se,2),ye=Ce[0],Te=Ce[1],ke=(0,a.useState)(0),Ne=(0,h.Z)(ke,2),Oe=Ne[0],Le=Ne[1],Be=(0,a.useState)(!1),Pe=(0,h.Z)(Be,2),Ae=Pe[0],De=Pe[1],Re=(0,a.useState)(null),Ue=(0,h.Z)(Re,2),ze=Ue[0],Me=Ue[1],Ge=(0,a.useState)(!1),Ke=(0,h.Z)(Ge,2),We=Ke[0],He=Ke[1],Ve=((0,g.IO)(t)||"").split("/").pop()||"",Je=[];X&&(Je=X.name.split("/")),(0,a.useEffect)((function(){if(u&&ie&&ie.length>=1){var e=ie.find((function(e){return e.is_latest}))||Ie;""!==p&&(e=ie.find((function(e){return e.version_id===p}))||Ie),e.is_delete_marker||He(!0),Q(e)}}),[p,u,ie]),(0,a.useEffect)((function(){b&&""!==t&&j.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects?prefix=").concat(t).concat(u?"&with_versions=true":"")).then((function(e){var n=e.objects||[];if(u){oe(n),xe(n);var t=n.reduce((function(e,n){return null!==n&&void 0!==n&&n.size?e+parseInt(n.size):e}),0);Le(t)}else{var i=n[0];Q(i),xe([]),i.is_delete_marker||He(!0)}l((0,F.vH)(!1))})).catch((function(e){console.error("Error loading object details",e),l((0,F.vH)(!1))}))}),[b,i,t,l,u,p]),(0,a.useEffect)((function(){We&&""!==t&&j.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects/metadata?prefix=").concat(t)).then((function(e){var n=v()(e,"objectMetadata",{});Me(n),He(!1)})).catch((function(e){console.error("Error Getting Metadata Status: ",e.detailedError),He(!1)}))}),[i,t,We]);var Ye=[];X&&X.tags&&(Ye=Object.keys(X.tags));var qe=(0,I.jsx)("div",{style:{textAlign:"center",marginTop:35},children:(0,I.jsx)(m.aNw,{})});if(!X)return b?qe:null;var $e=Je.length>0?Je[Je.length-1]:X.name,Xe=[i,Ve,[i,X.name].join("/")],Qe=(0,T.F)(i,[k.Ft.S3_PUT_OBJECT_LEGAL_HOLD,k.Ft.S3_PUT_ACTIONS]),en=(0,T.F)(Xe,[k.Ft.S3_PUT_OBJECT_TAGGING,k.Ft.S3_PUT_ACTIONS]),nn=(0,T.F)(Xe,[k.Ft.S3_GET_OBJECT_RETENTION,k.Ft.S3_PUT_OBJECT_RETENTION,k.Ft.S3_GET_ACTIONS,k.Ft.S3_PUT_ACTIONS],!0),tn=(0,T.F)(Xe,[k.Ft.ADMIN_INSPECT_DATA]),on=(0,T.F)(Xe,[k.Ft.S3_GET_BUCKET_VERSIONING,k.Ft.S3_PUT_BUCKET_VERSIONING,k.Ft.S3_GET_OBJECT_VERSION,k.Ft.S3_GET_ACTIONS,k.Ft.S3_PUT_ACTIONS]),an=(0,T.F)(Xe,[k.Ft.S3_GET_OBJECT,k.Ft.S3_GET_ACTIONS]),rn=(0,T.F)([i,Ve,[i,X.name].join("/")],[k.Ft.S3_DELETE_OBJECT]),sn=[{action:function(){Ee(l,i,t,X)},label:"Download",disabled:!!X.is_delete_marker||!an,icon:(0,I.jsx)(m._8t,{}),tooltip:an?"Download this Object":(0,k.MK)([k.Ft.S3_GET_OBJECT,k.Ft.S3_GET_ACTIONS],"download this object")},{action:function(){C(!0)},label:"Share",disabled:!!X.is_delete_marker||!an,icon:(0,I.jsx)(m.aAc,{}),tooltip:an?"Share this File":(0,k.MK)([k.Ft.S3_GET_OBJECT,k.Ft.S3_GET_ACTIONS],"share this object")},{action:function(){Te(!0)},label:"Preview",disabled:!!X.is_delete_marker||"none"===(0,P.Bg)(Ve)||!an,icon:(0,I.jsx)(m.P99,{}),tooltip:an?"Preview this File":(0,k.MK)([k.Ft.S3_GET_OBJECT,k.Ft.S3_GET_ACTIONS],"preview this object")},{action:function(){G(!0)},label:"Legal Hold",disabled:!s||!u||!!X.is_delete_marker||!Qe||""!==p,icon:(0,I.jsx)(m.fNL,{}),tooltip:Qe?s?"Change Legal Hold rules for this File":"Object Locking must be enabled on this bucket in order to set Legal Hold":(0,k.MK)([k.Ft.S3_PUT_OBJECT_LEGAL_HOLD,k.Ft.S3_PUT_ACTIONS],"change legal hold settings for this object")},{action:function(){O(!0)},label:"Retention",disabled:!u||!!X.is_delete_marker||!nn||""!==p||!s,icon:(0,I.jsx)(m.E9d,{}),tooltip:nn?s?"Change Retention rules for this File":"Object Locking must be enabled on this bucket in order to set Retention Rules":(0,k.MK)([k.Ft.S3_GET_OBJECT_RETENTION,k.Ft.S3_PUT_OBJECT_RETENTION,k.Ft.S3_GET_ACTIONS,k.Ft.S3_PUT_ACTIONS],"change Retention Rules for this object")},{action:function(){D(!0)},label:"Tags",disabled:!!X.is_delete_marker||""!==p||!en,icon:(0,I.jsx)(m.DgT,{}),tooltip:en?"Change Tags for this File":(0,k.MK)([k.Ft.S3_PUT_OBJECT_TAGGING,k.Ft.S3_GET_OBJECT_TAGGING,k.Ft.S3_GET_ACTIONS,k.Ft.S3_PUT_ACTIONS],"set Tags on this object")},{action:function(){Y(!0)},label:"Inspect",disabled:!u||!!X.is_delete_marker||""!==p||!tn,icon:(0,I.jsx)(m.Gp8,{}),tooltip:tn?"Inspect this file":(0,k.MK)([k.Ft.ADMIN_INSPECT_DATA],"inspect this file")},{action:function(){l((0,F.db)({status:!f,objectName:$e}))},label:f?"Hide Object Versions":"Display Object Versions",icon:(0,I.jsx)(m.cRd,{}),disabled:!u||!(X.version_id&&"null"!==X.version_id)||!on,tooltip:on?X.version_id&&"null"!==X.version_id?"Display Versions for this file":"":(0,k.MK)([k.Ft.S3_GET_BUCKET_VERSIONING,k.Ft.S3_PUT_BUCKET_VERSIONING,k.Ft.S3_GET_OBJECT_VERSION,k.Ft.S3_GET_ACTIONS,k.Ft.S3_PUT_ACTIONS],"display all versions of this object")}];return(0,I.jsxs)(a.Fragment,{children:[S&&X&&(0,I.jsx)(H.default,{open:S,closeModalAndRefresh:function(){ue(null),C(!1)},bucketName:i,dataObject:de||X}),E&&X&&(0,I.jsx)(te,{open:E,closeModalAndRefresh:function(e){O(!1),e&&l((0,F.vH)(!0))},objectName:Ve,objectInfo:X,bucketName:i}),Ze&&(0,I.jsx)(re,{deleteOpen:Ze,selectedBucket:i,selectedObject:t,closeDeleteModalAndRefresh:function(e){_e(!1),e&&""===p?c(!0):(l((0,F.Eq)(!0)),l((0,F.M3)("")),l((0,F.vH)(!0)))},versioningInfo:u?o:void 0,selectedVersion:p}),M&&X&&(0,I.jsx)(se,{open:M,closeModalAndRefresh:function(e){G(!1),e&&l((0,F.vH)(!0))},objectName:X.name,bucketName:i,actualInfo:X}),ye&&X&&(0,I.jsx)(ce.default,{open:ye,bucketName:i,object:{name:X.name,version_id:X.version_id||"null",size:parseInt(X.size||"0"),content_type:"",last_modified:X.last_modified},onClosePreview:function(){Te(!1)}}),A&&X&&(0,I.jsx)(ge,{modalOpen:A,bucketName:i,actualInfo:X,onCloseAndUpdate:function(e){D(!1),e&&l((0,F.vH)(!0))}}),J&&X&&(0,I.jsx)(we,{inspectOpen:J,volumeName:i,inspectPath:X.name,closeInspectModalAndRefresh:function(e){Y(!1),e&&l((0,F.vH)(!0))}}),Ae&&X&&(0,I.jsx)(Fe,{open:Ae,closeModal:function(){De(!1)},currentItem:Ve,bucketName:i,internalPaths:t,actualInfo:X}),b?(0,I.jsx)(a.Fragment,{children:qe}):(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(m.Wk,{title:(0,I.jsxs)("div",{className:n.ObjectDetailsTitle,children:[be($e,!0),(0,I.jsx)("span",{className:n.objectNameContainer,children:$e})]}),items:sn}),(0,I.jsx)(z.Z,{tooltip:rn?"":(0,k.MK)([k.Ft.S3_DELETE_OBJECT],"delete this object"),children:(0,I.jsx)(x.ZP,{item:!0,xs:12,sx:{justifyContent:"center",display:"flex"},children:(0,I.jsx)(T.s,{resource:[i,Ve,[i,X.name].join("/")],scopes:[k.Ft.S3_DELETE_OBJECT],errorProps:{disabled:!0},children:(0,I.jsx)(m.zxk,{id:"delete-element-click",icon:(0,I.jsx)(m.pJl,{}),iconLocation:"start",fullWidth:!0,variant:"secondary",onClick:function(){_e(!0)},disabled:""===p&&X.is_delete_marker,sx:{width:"calc(100% - 44px)",margin:"8px 0"},label:"Delete".concat(""!==p?" version":"")})})})}),(0,I.jsx)(m.AG2,{icon:(0,I.jsx)(m.Gvh,{}),label:"Object Info"}),(0,I.jsxs)(W.Z,{className:n.detailContainer,children:[(0,I.jsx)("strong",{children:"Name:"}),(0,I.jsx)("br",{}),(0,I.jsx)("div",{style:{overflowWrap:"break-word"},children:$e})]}),""!==p&&(0,I.jsxs)(W.Z,{className:n.detailContainer,children:[(0,I.jsx)("strong",{children:"Version ID:"}),(0,I.jsx)("br",{}),p]}),(0,I.jsxs)(W.Z,{className:n.detailContainer,children:[(0,I.jsx)("strong",{children:"Size:"}),(0,I.jsx)("br",{}),(0,g.ae)(X.size||"0")]}),X.version_id&&"null"!==X.version_id&&""===p&&(0,I.jsxs)(W.Z,{className:n.detailContainer,children:[(0,I.jsx)("strong",{children:"Versions:"}),(0,I.jsx)("br",{}),pe.length," version",1!==pe.length?"s":"",","," ",(0,g.l5)(Oe)]}),""===p&&(0,I.jsxs)(W.Z,{className:n.detailContainer,children:[(0,I.jsx)("strong",{children:"Last Modified:"}),(0,I.jsx)("br",{}),function(e){var n=new Date,t=new Date(e),i=n.getTime()-t.getTime(),o=(0,g.nF)(i,"ms");return""!==o.trim()?"".concat(o," ago"):"Just now"}(X.last_modified)]}),(0,I.jsxs)(W.Z,{className:n.detailContainer,children:[(0,I.jsx)("strong",{children:"ETAG:"}),(0,I.jsx)("br",{}),X.etag||"N/A"]}),(0,I.jsxs)(W.Z,{className:n.detailContainer,children:[(0,I.jsx)("strong",{children:"Tags:"}),(0,I.jsx)("br",{}),0===Ye.length?"N/A":Ye.map((function(e,n){return(0,I.jsxs)("span",{children:[e,":",v()(X,"tags.".concat(e),""),n<Ye.length-1?", ":""]},"key-vs-".concat(n.toString()))}))]}),(0,I.jsx)(W.Z,{className:n.detailContainer,children:(0,I.jsx)(T.s,{scopes:[k.Ft.S3_GET_OBJECT_LEGAL_HOLD,k.Ft.S3_GET_ACTIONS],resource:i,children:(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)("strong",{children:"Legal Hold:"}),(0,I.jsx)("br",{}),X.legal_hold_status?"On":"Off"]})})}),(0,I.jsx)(W.Z,{className:n.detailContainer,children:(0,I.jsx)(T.s,{scopes:[k.Ft.S3_GET_OBJECT_RETENTION,k.Ft.S3_GET_ACTIONS],resource:i,children:(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)("strong",{children:"Retention Policy:"}),(0,I.jsx)("br",{}),(0,I.jsx)("span",{className:n.capitalizeFirst,children:(X.version_id&&X.version_id,(0,I.jsx)(a.Fragment,{children:X.retention_mode?X.retention_mode.toLowerCase():"None"}))})]})})}),!X.is_delete_marker&&(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(m.AG2,{label:"Metadata",icon:(0,I.jsx)(m.fRO,{})}),(0,I.jsx)(W.Z,{className:n.detailContainer,children:X&&ze?(0,I.jsx)(fe,{metaData:ze,linear:!0}):null})]})]})]})})),Le=t(40986),Be=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)({},u.oO))}))((function(e){var n=e.classes,t=e.versionToRestore,i=e.bucketName,o=e.objectPath,r=e.restoreOpen,s=e.onCloseAndUpdate,c=(0,d.TL)(),l=(0,a.useState)(!1),u=(0,h.Z)(l,2),f=u[0],p=u[1];return(0,I.jsx)(ie.Z,{title:"Restore File Version",confirmText:"Restore",isOpen:r,isLoading:f,titleIcon:(0,I.jsx)(m.D7Y,{}),onConfirm:function(){p(!0),j.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/objects/restore?prefix=").concat((0,g.LL)(o),"&version_id=").concat(t.version_id)).then((function(e){p(!1),s(!0),c((0,F.rI)({prefix:o,objectInfo:t}))})).catch((function(e){c((0,N.Ih)(e)),p(!1)}))},confirmButtonProps:{variant:"secondary",disabled:f},onClose:function(){s(!1)},confirmationContent:(0,I.jsxs)(m.xuv,{id:"alert-dialog-description",children:["Are you sure you want to restore ",(0,I.jsx)("br",{}),(0,I.jsx)("b",{children:o})," ",(0,I.jsx)("br",{})," with Version ID:",(0,I.jsx)("br",{}),(0,I.jsx)("b",{className:n.wrapText,children:t.version_id}),"?"]})})})),Pe=t(17691),Ae=function(e){var n="#000",t="";switch(e.type){case"null":n="#07193E",t="NULL VERSION";break;case"deleted":n="#868686",t="DELETED";break;default:n="#174551",t="CURRENT VERSION"}return(0,I.jsx)("span",{style:{backgroundColor:n,padding:"0 5px",display:"inline-block",color:"#FFF",fontWeight:"bold",fontSize:12,borderRadius:2,whiteSpace:"nowrap",margin:"0 10px"},children:t})},De=t(34866),Re=Pe.ZP.div((function(e){var n=e.theme;return{"&:before":{content:"' '",display:"block",position:"absolute",width:"2px",height:"calc(100% + 2px)",backgroundColor:v()(n,"borderColor","#F8F8F8"),left:"24px"},"& .mainFileVersionItem":{borderBottom:"".concat(v()(n,"borderColor","#F8F8F8")," 1px solid"),padding:"1rem 0",margin:"0 0.5rem 0 2.5rem",cursor:"pointer","&.deleted":{color:"#868686"}},"& .intermediateLayer":{margin:"0 1.5rem 0 1.5rem","&:hover, &.selected":{backgroundColor:v()(n,"boxBackground","#F8F8F8"),"& > div":{borderBottomColor:v()(n,"boxBackground","#F8F8F8")}}},"& .versionContainer":{fontSize:16,fontWeight:"bold",display:"flex",alignItems:"center","& svg.min-icon":{width:18,height:18,minWidth:18,minHeight:18,marginRight:10}},"& .buttonContainer":{textAlign:"right","& button":{marginLeft:"1.5rem"}},"& .versionID":{fontSize:"12px",margin:"2px 0",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"95%",overflow:"hidden"},"& .versionData":{marginRight:"10px",fontSize:12,color:"#868686"},"@media (max-width: 600px)":{"& .buttonContainer":{"& button":{marginLeft:"5px"}}},"@media (max-width: 799px)":{"&:before":{display:"none"},"& .mainFileVersionItem":{padding:"5px 0px",margin:0},"& .intermediateLayer":{margin:0,"&:hover, &.selected":{backgroundColor:"transparent","& > div":{borderBottomColor:v()(n,"boxBackground","#F8F8F8")}}},"& .versionContainer":{fontSize:14,"& svg.min-icon":{display:"none"}},"& .versionData":{textOverflow:"ellipsis",maxWidth:"95%",overflow:"hidden",whiteSpace:"nowrap"},"& .collapsableInfo":{display:"flex",flexDirection:"column"},"& .versionItem":{display:"none"}}}})),Ue=function(e){var n=e.fileName,t=e.versionInfo,i=e.isSelected,o=e.checkable,a=e.isChecked,r=e.onCheck,s=e.onShare,c=e.onDownload,l=e.onRestore,d=e.onPreview,u=e.globalClick,h=e.index,f=e.key,x=e.style,b=t.is_delete_marker,v=[{icon:(0,I.jsx)(m.P99,{}),action:d,tooltip:"Preview"},{icon:(0,I.jsx)(m._8t,{}),action:c,tooltip:"Download this version"},{icon:(0,I.jsx)(m.aAc,{}),action:s,tooltip:"Share this version"},{icon:(0,I.jsx)(m.D7Y,{}),action:l,tooltip:"Restore this version"}],j=null;t.is_delete_marker?j="deleted":t.is_latest?j="current":"null"===t.version_id&&(j="null");var Z=p.ou.now();return t.last_modified&&(Z=p.ou.fromISO(t.last_modified)),(0,I.jsx)(Re,{children:(0,I.jsx)(m.rjZ,{container:!0,className:"ctrItem",onClick:function(){u(t)},style:x,children:(0,I.jsx)(m.rjZ,{item:!0,xs:12,className:"intermediateLayer".concat(" ",i?"selected":""),children:(0,I.jsxs)(m.rjZ,{item:!0,xs:!0,className:"mainFileVersionItem ".concat(t.is_delete_marker?"deleted":""),children:[(0,I.jsx)(m.rjZ,{item:!0,xs:12,children:(0,I.jsxs)(m.rjZ,{container:!0,children:[(0,I.jsxs)(m.rjZ,{item:!0,xs:!0,md:4,className:"versionContainer",children:[o&&(0,I.jsx)(De.Z,{checked:a,id:"select-".concat(t.version_id),label:"",name:"select-".concat(t.version_id),onChange:function(e){e.stopPropagation(),e.preventDefault(),r(t.version_id||"")},value:t.version_id||"",disabled:t.is_delete_marker,overrideCheckboxStyles:{paddingLeft:0,height:34,width:25},noTopMargin:!0}),be(n,!0)," v",h.toString(),(0,I.jsx)("span",{className:"versionItem",children:j&&(0,I.jsx)(Ae,{type:j})})]}),(0,I.jsx)(m.rjZ,{item:!0,xs:10,md:8,className:"buttonContainer",children:v.map((function(e,n){return(0,I.jsx)(m.ua7,{tooltip:e.tooltip,children:(0,I.jsx)(m.hU,{size:"small",id:"version-action-".concat(e.tooltip,"-").concat(n.toString()),className:"spacing".concat(" ",b?"buttonDisabled":""),disabled:b,onClick:function(n){n.stopPropagation(),b?n.preventDefault():e.action(t)},sx:{backgroundColor:"#F8F8F8",borderRadius:"100%",width:"28px",height:"28px",padding:"5px","& .min-icon":{width:"14px",height:"14px"}},children:e.icon})},"version-action-".concat(e.tooltip,"-").concat(n.toString()))}))})]})}),(0,I.jsx)(m.rjZ,{item:!0,xs:12,className:"versionID",children:"null"!==t.version_id?t.version_id:"-"}),(0,I.jsxs)(m.rjZ,{item:!0,xs:12,className:"collapsableInfo",children:[(0,I.jsxs)("span",{className:"versionData",children:[(0,I.jsx)("strong",{children:"Last modified:"})," ",Z.toFormat("ccc, LLL dd yyyy HH:mm:ss (ZZZZ)")]}),(0,I.jsxs)("span",{className:"versionData",children:[(0,I.jsx)("strong",{children:"Size:"})," ",(0,g.ae)(t.size||"0")]})]})]})})},f)})},ze=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,o=e.selectedObject,s=(0,d.TL)(),c=(0,a.useState)(!1),l=(0,h.Z)(c,2),u=l[0],f=l[1],p=(0,a.useState)(""),x=(0,h.Z)(p,2),b=x[0],v=x[1],Z=(0,a.useState)(!1),_=(0,h.Z)(Z,2),S=_[0],C=_[1],w=(0,r.v9)((function(e){return e.objectBrowser.retentionConfig})),y=(0,T.F)([i],[k.Ft.S3_BYPASS_GOVERNANCE_RETENTION])&&"governance"===(null===w||void 0===w?void 0:w.mode);if((0,a.useEffect)((function(){u&&j.Z.invoke("DELETE","/api/v1/buckets/".concat(i,"/objects?path=").concat(o,"&non_current_versions=true").concat(S?"&bypass=true":"")).then((function(){n(!0)})).catch((function(e){s((0,N.Ih)(e)),f(!1)}))}),[u,n,s,o,i,S]),!o)return null;return(0,I.jsx)(ie.Z,{title:"Delete Non-Current versions",confirmText:"Delete",isOpen:t,titleIcon:(0,I.jsx)(m.NvT,{}),isLoading:u,onConfirm:function(){f(!0)},onClose:function(){return n(!1)},confirmButtonProps:{disabled:"YES, PROCEED"!==b||u},confirmationContent:(0,I.jsxs)(a.Fragment,{children:["Are you sure you want to delete all the non-current versions for:"," ",(0,I.jsx)("b",{children:(0,g.IO)(o)}),"? ",(0,I.jsx)("br",{}),y&&(0,I.jsx)(a.Fragment,{children:(0,I.jsx)("div",{style:{marginTop:10},children:(0,I.jsx)(m.rsf,{label:"Bypass Governance Mode",indicatorLabels:["Yes","No"],checked:S,value:"bypass_governance",id:"bypass_governance",name:"bypass_governance",onChange:function(e){C(!S)},description:""})})}),(0,I.jsx)("br",{}),"To continue please type ",(0,I.jsx)("b",{children:"YES, PROCEED"})," in the box.",(0,I.jsx)("br",{}),(0,I.jsx)("br",{}),(0,I.jsx)(m.rjZ,{item:!0,xs:12,children:(0,I.jsx)(m.Wzg,{id:"type-confirm",name:"retype-tenant",onChange:function(e){v(e.target.value)},label:"",value:b})})]})})},Me=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,o=e.selectedVersions,s=e.selectedObject,c=(0,d.TL)(),l=(0,a.useState)(!1),u=(0,h.Z)(l,2),f=u[0],p=u[1],x=(0,a.useState)(!1),b=(0,h.Z)(x,2),v=b[0],g=b[1],Z=(0,r.v9)((function(e){return e.objectBrowser.retentionConfig})),_=(0,T.F)([i],[k.Ft.S3_BYPASS_GOVERNANCE_RETENTION])&&"governance"===(null===Z||void 0===Z?void 0:Z.mode);return(0,a.useEffect)((function(){if(f){var e=o.map((function(e){return{path:s,versionID:e,recursive:!1}}));e.length>0&&j.Z.invoke("POST","/api/v1/buckets/".concat(i,"/delete-objects?all_versions=false").concat(v?"&bypass=true":""),e).then((function(){p(!1),n(!0)})).catch((function(e){c((0,N.Ih)(e)),p(!1)}))}}),[f,n,i,s,o,v,c]),o?(0,I.jsx)(ie.Z,{title:"Delete Selected Versions",confirmText:"Delete",isOpen:t,titleIcon:(0,I.jsx)(m.NvT,{}),isLoading:f,onConfirm:function(){p(!0)},onClose:function(){return n(!1)},confirmationContent:(0,I.jsxs)(a.Fragment,{children:["Are you sure you want to delete the selected ",o.length," ","versions for ",(0,I.jsx)("strong",{children:s}),"?",_&&(0,I.jsx)(a.Fragment,{children:(0,I.jsx)("div",{style:{marginTop:10},children:(0,I.jsx)(m.rsf,{label:"Bypass Governance Mode",indicatorLabels:["Yes","No"],checked:v,value:"bypass_governance",id:"bypass_governance",name:"bypass_governance",onChange:function(e){g(!v)},description:""})})})]})}):null},Ge=t(5171),Ke={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},We=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({versionsContainer:{padding:10,"@media (max-width: 799px)":{minHeight:800}},noBottomBorder:{borderBottom:0},versionsVirtualPanel:{flexGrow:1,height:"calc(100% - 120px)",overflow:"auto","@media (max-width: 799px)":{height:600}},screenTitleContainer:{position:"relative","@media (max-width: 799px)":{"&::before":{display:"none"}}},sortByLabel:{color:"#838383",fontWeight:"bold",whiteSpace:"nowrap",marginRight:12,fontSize:14,"@media (max-width: 600px)":{display:"none"}}},u.OR),u.VX),u.bK),u.VI),u.cx),u.C4),u.Bz))}))((function(e){var n=e.classes,t=e.internalPaths,i=e.bucketName,o=(0,d.TL)(),s=(0,r.v9)((function(e){return e.objectBrowser.searchVersions})),c=(0,r.v9)((function(e){return e.objectBrowser.loadingVersions})),l=(0,r.v9)((function(e){return e.objectBrowser.selectedVersion})),u=(0,r.v9)(N.N5),f=(0,a.useState)(!1),p=(0,h.Z)(f,2),b=p[0],Z=p[1],S=(0,a.useState)(null),C=(0,h.Z)(S,2),w=C[0],y=C[1],T=(0,a.useState)(null),k=(0,h.Z)(T,2),E=k[0],O=k[1],L=(0,a.useState)([]),P=(0,h.Z)(L,2),A=P[0],D=P[1],R=(0,a.useState)(!1),U=(0,h.Z)(R,2),M=U[0],G=U[1],K=(0,a.useState)(null),W=(0,h.Z)(K,2),V=W[0],J=W[1],Y=(0,a.useState)("date"),q=(0,h.Z)(Y,2),$=q[0],X=q[1],Q=(0,a.useState)(!1),ee=(0,h.Z)(Q,2),ne=ee[0],te=ee[1],ie=(0,a.useState)(!1),oe=(0,h.Z)(ie,2),ae=oe[0],re=oe[1],se=(0,a.useState)(!1),le=(0,h.Z)(se,2),de=le[0],ue=le[1],he=(0,a.useState)([]),fe=(0,h.Z)(he,2),me=fe[0],pe=fe[1],xe=(0,a.useState)(!1),be=(0,h.Z)(xe,2),ve=be[0],je=be[1],ge=[];w&&(ge=w.name.split("/")),(0,a.useEffect)((function(){c||w||o((0,F.Eq)(!0))}),[c,w,o]),(0,a.useEffect)((function(){c&&""!==t&&j.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects?prefix=").concat(t).concat(u?"&with_versions=true":"")).then((function(e){var n=v()(e,"objects",[]),i=(0,g.IO)(t),a=n.filter((function(e){return e.name===i}));u?(y(a.find((function(e){return e.is_latest}))||Ke),D(a)):(y(a[0]),D([])),o((0,F.Eq)(!1))})).catch((function(e){o((0,N.Ih)(e)),o((0,F.Eq)(!1))}))}),[c,i,t,o,u]);var Ze=function(e){O(e),Z(!0)},_e=function(e){O(e),te(!0)},Se=function(e){J(e),G(!0)},Ce=function(e){Ee(o,i,t,e)},we=function(e){o((0,F.M3)(e.version_id||""))},ye=A.filter((function(e){return!!e.version_id&&e.version_id.includes(s)})),Te=A.reduce((function(e,n){return n.size?e+parseInt(n.size):e}),0);ye.sort((function(e,n){if("size"===$)return e.size&&n.size?e.size<n.size?-1:e.size>n.size?1:0:0;var t=new Date(e.last_modified).getTime(),i=new Date(n.last_modified).getTime();return t<i?1:t>i?-1:0}));var ke=function(e){if(me.includes(e)){var n=me.filter((function(n){return n!==e}));pe(n)}else{var t=(0,_.Z)(me);t.push(e),pe(t)}};return(0,I.jsxs)(a.Fragment,{children:[b&&w&&(0,I.jsx)(H.default,{open:b,closeModalAndRefresh:function(){O(null),Z(!1),te(!1)},bucketName:i,dataObject:E||w}),M&&w&&V&&(0,I.jsx)(Be,{restoreOpen:M,bucketName:i,versionToRestore:V,objectPath:w.name,onCloseAndUpdate:function(e){G(!1),J(null),e&&(o((0,F.Eq)(!0)),o((0,F.vH)(!0)))}}),ne&&w&&(0,I.jsx)(ce.default,{open:ne,bucketName:i,object:{name:w.name,version_id:E&&E.version_id?E.version_id:"null",size:parseInt(E&&E.size?E.size:"0"),content_type:"",last_modified:w.last_modified},onClosePreview:function(){te(!1)}}),ae&&(0,I.jsx)(ze,{deleteOpen:ae,closeDeleteModalAndRefresh:function(e){re(!1),e&&(o((0,F.Eq)(!0)),o((0,F.M3)("")),o((0,F.vH)(!0)))},selectedBucket:i,selectedObject:t}),ve&&(0,I.jsx)(Me,{selectedBucket:i,selectedObject:(0,g.IO)(t),deleteOpen:ve,selectedVersions:me,closeDeleteModalAndRefresh:function(e){je(!1),e&&(o((0,F.Eq)(!0)),o((0,F.M3)("")),o((0,F.vH)(!0)),pe([]))}}),(0,I.jsxs)(x.ZP,{container:!0,className:n.versionsContainer,children:[!w&&(0,I.jsx)(x.ZP,{item:!0,xs:12,children:(0,I.jsx)(Le.Z,{})}),w&&(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(x.ZP,{item:!0,xs:12,children:(0,I.jsx)(B,{bucketName:i,internalPaths:(0,g.IO)(t),hidePathButton:!0})}),(0,I.jsx)(x.ZP,{item:!0,xs:12,className:n.screenTitleContainer,children:(0,I.jsx)(m.UHn,{icon:(0,I.jsx)("span",{className:n.listIcon,children:(0,I.jsx)(m.cRd,{})}),title:"".concat(ge.length>0?ge[ge.length-1]:w.name," Versions"),subTitle:(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)("span",{className:n.detailsSpacer,children:(0,I.jsxs)("strong",{children:[A.length," Version",1===A.length?"":"s","\xa0\xa0\xa0"]})}),(0,I.jsx)("span",{className:n.detailsSpacer,children:(0,I.jsx)("strong",{children:(0,g.l5)(Te)})})]}),actions:(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(z.Z,{tooltip:"Select Multiple Versions",children:(0,I.jsx)(m.zxk,{id:"select-multiple-versions",onClick:function(){ue(!de)},icon:(0,I.jsx)(m.amE,{}),variant:de?"callAction":"regular",style:{marginRight:8}})}),de&&(0,I.jsx)(z.Z,{tooltip:"Delete Selected Versions",children:(0,I.jsx)(m.zxk,{id:"delete-multiple-versions",onClick:function(){je(!0)},icon:(0,I.jsx)(m.pJl,{}),variant:"secondary",style:{marginRight:8},disabled:0===me.length})}),(0,I.jsx)(z.Z,{tooltip:"Delete Non Current Versions",children:(0,I.jsx)(m.zxk,{id:"delete-non-current",onClick:function(){re(!0)},icon:(0,I.jsx)(m.utM,{}),variant:"secondary",style:{marginRight:15},disabled:A.length<=1})}),(0,I.jsx)(m.PhF,{id:"sort-by",options:[{label:"Date",value:"date"},{label:"Size",value:"size"}],value:$,label:"Sort by",onChange:function(e){X(e)},noLabelMinWidth:!0})]}),bottomBorder:!1})}),(0,I.jsx)(x.ZP,{item:!0,xs:12,className:n.versionsVirtualPanel,children:w.version_id&&"null"!==w.version_id&&(0,I.jsx)(Ge.aV,{style:{width:"100%"},containerStyle:{width:"100%",maxWidth:"100%"},width:1,height:800,rowCount:ye.length,rowHeight:108,rowRenderer:function(e){var n=e.key,t=e.index,i=(e.isScrolling,e.isVisible,e.style),o=A.length-t;return(0,I.jsx)(Ue,{style:i,fileName:(null===w||void 0===w?void 0:w.name)||"",versionInfo:ye[t],index:o,onDownload:Ce,onRestore:Se,onShare:Ze,onPreview:_e,globalClick:we,isSelected:l===ye[t].version_id,checkable:de,onCheck:ke,isChecked:me.includes(ye[t].version_id||"")},n)}})})]})]})]})})),He=t(9859),Ve=function(e){if(e.name.endsWith("/"))return"";var n=p.ou.now(),t=p.ou.fromISO(e.last_modified);return n.hasSame(t,"day")&&n.hasSame(t,"month")&&n.hasSame(t,"year")?"Today, ".concat(t.toFormat("HH:mm")):t.toFormat("ccc, LLL dd yyyy HH:mm (ZZZZ)")},Je=function(e){return e.name.endsWith("/")||!e.size?"-":(0,g.ae)(String(e.size))},Ye=[{label:"Name",elementKey:"name",renderFunction:be,enableSort:!0},{label:"Last Modified",elementKey:"last_modified",renderFunction:Ve,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:Je,renderFullObject:!0,width:100,enableSort:!0}],qe=[{label:"Name",elementKey:"name",renderFunction:be,enableSort:!0},{label:"Object Date",elementKey:"last_modified",renderFunction:Ve,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:Je,renderFullObject:!0,width:100,enableSort:!0},{label:"Deleted",elementKey:"delete_flag",renderFunction:function(e){return e?"Yes":"No"},width:60}],$e=t(46078),Xe=(0,w.Z)((function(e){return(0,c.Z)({browsePaper:{border:0,"@media (max-width: 800px)":{width:800}},parentWrapper:{position:"relative",height:"calc(100% - 60px)","@media (max-width: 800px)":{overflowX:"auto"},"@media (max-width: 1060px)":{height:"calc(100% - 115px)"}},"@global":{".rowLine:hover  .iconFileElm":{backgroundImage:"url(/images/ob_file_filled.svg)"},".rowLine:hover  .iconFolderElm":{backgroundImage:"url(/images/ob_folder_filled.svg)"}}})})),Qe=function(e){var n=e.internalPaths,t=Xe(),i=(0,d.TL)(),o=(0,s.UO)(),c=(0,s.s0)(),l=(0,a.useState)("ASC"),u=(0,h.Z)(l,2),f=u[0],p=u[1],x=(0,a.useState)("name"),b=(0,h.Z)(x,2),j=b[0],Z=b[1],S=o.bucketName||"",C=(0,r.v9)((function(e){return e.objectBrowser.objectDetailsOpen})),w=(0,r.v9)((function(e){return e.objectBrowser.loadingObjects})),y=(0,r.v9)($e.$4),E=!(null===y||void 0===y||!y.includes("object-browser-only")),N=(0,r.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),O=(0,r.v9)((function(e){return e.objectBrowser.records})),L=(0,r.v9)((function(e){return e.objectBrowser.searchObjects})),B=(0,r.v9)((function(e){return e.objectBrowser.selectedObjects})),A=(0,r.v9)((function(e){return e.objectBrowser.connectionError})),D=(0,r.v9)((function(e){return e.system.anonymousMode})),R=(0,T.F)(S,[k.Ft.S3_LIST_BUCKET,k.Ft.S3_ALL_LIST_BUCKET]),U=O.filter((function(e){return""===L||e.name.toLowerCase().indexOf(L.toLowerCase())>=0})).sort((0,P.P_)(j)),z=[];z="ASC"===f?U:U.reverse();var M=[{type:"view",label:"View",onClick:function(e){var t=e.name,o="/browser/".concat(S).concat(t?"/".concat((0,g.LL)(t)):"");!D||null===n||e.name.endsWith("/")?(i((0,F.S2)([])),c(o),D||(i((0,F.vb)(!0)),i((0,F.Eq)(!0)),i((0,F.d_)(!0))),i((0,F.EE)("".concat(t?"".concat((0,g.LL)(t)):"")))):Ee(i,S,"".concat((0,g.LL)(t)),e)},sendOnlyId:!1}],G=R||D?"This location is empty".concat(N?"":", please try uploading a new file"):(0,k.MK)([k.Ft.S3_LIST_BUCKET,k.Ft.S3_ALL_LIST_BUCKET],"view Objects in this bucket");A&&(G="Objects List unavailable. Please review your WebSockets configuration and try again");var K="calc(100vh - 290px)";return E&&(K="calc(100vh - 315px)"),(0,I.jsx)(m.wQF,{itemActions:M,columns:N?qe:Ye,isLoading:w,entityName:"Objects",idField:"name",records:z,customPaperHeight:K,selectedItems:B,onSelect:D?void 0:function(e){var n=e.target,t=n.value,o=n.checked,a=(0,_.Z)(B);return o?a.push(t):a=a.filter((function(e){return e!==t})),i((0,F.S2)(a)),i((0,F.EE)(null)),a},customEmptyMessage:G,sortConfig:{currentSort:j,currentDirection:f,triggerSort:function(e){var n=v()(e,"sortDirection","DESC");Z(e.sortBy),p(n),i((0,F.Cn)(!0))}},onSelectAll:function(){if(i((0,F.EE)(null)),B.length!==z.length){var e=z.map((function(e){return e.name}));i((0,F.S2)(e))}else i((0,F.S2)([]))},rowStyle:function(e){var n,t=e.index;return null!==(n=z[t])&&void 0!==n&&n.delete_flag?"deleted":""},parentClassName:t.parentWrapper,sx:{minHeight:C?"100%":"initial"},noBackground:!0})},en=t(96382),nn=(0,en.hg)("objectBrowser/downloadSelected",function(){var e=(0,_e.Z)((0,Ze.Z)().mark((function e(n,t){var i,o,a,r,s,c;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getState,t.rejectWithValue,o=t.dispatch,a=i(),r=function(e){var t=(0,g.LL)("".concat(n,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),i=(0,ke.YO)(8),a=(0,P.LR)(n,(0,g.LL)(e.name),e.version_id,e.size,null,i,(function(e){o((0,F.RO)({instanceID:t,progress:e}))}),(function(){o((0,F.oK)(t))}),(function(e){o((0,F.qJ)({instanceID:t,msg:e}))}),(function(){o((0,F.Im)(t))}),(function(){o((0,N.y1)("File download will be handled directly by the browser."))}));(0,ke.EN)(i,a),o((0,F.Mc)({ID:i,bucketName:n,done:!1,instanceID:t,percentage:0,prefix:e.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1,errorMessage:""}))},0===a.objectBrowser.selectedObjects.length){e.next=12;break}if(s=[],c=function(e){return a.objectBrowser.selectedObjects.includes(e.name)},1!==(s=a.objectBrowser.records.filter(c)).length){e.next=11;break}if(!(s[0].name.length>200&&(0,g.mv)().toLowerCase().includes("win"))){e.next=11;break}return o((0,F.$y)(s[0])),e.abrupt("return");case 11:s.forEach((function(e){r(e)}));case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),tn=(0,en.hg)("objectBrowser/openPreview",function(){var e=(0,_e.Z)((0,Ze.Z)().mark((function e(n,t){var i,o,a,r,s;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.getState,t.rejectWithValue,o=t.dispatch,1===(a=i()).objectBrowser.selectedObjects.length&&(s=function(e){return a.objectBrowser.selectedObjects.includes(e.name)},(r=a.objectBrowser.records.find(s))&&(o((0,F.eP)(r)),o((0,F.ei)(!0))));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),on=(0,en.hg)("objectBrowser/openShare",function(){var e=(0,_e.Z)((0,Ze.Z)().mark((function e(n,t){var i,o,a,r,s;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.getState,t.rejectWithValue,o=t.dispatch,1===(a=i()).objectBrowser.selectedObjects.length&&(s=function(e){return a.objectBrowser.selectedObjects.includes(e.name)},(r=a.objectBrowser.records.find(s))&&(o((0,F.eP)(r)),o((0,F.Qf)(!0))));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),an=(0,en.hg)("objectBrowser/openAnonymousAccess",function(){var e=(0,_e.Z)((0,Ze.Z)().mark((function e(n,t){var i,o,a;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.getState,o=t.dispatch,1===(a=i()).objectBrowser.selectedObjects.length&&a.objectBrowser.selectedObjects[0].endsWith("/")&&o((0,F.xV)(!0));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),rn=t(59114),sn=function(){var e=(0,d.TL)(),n=(0,r.v9)((function(e){return e.objectBrowser.searchObjects}));return(0,I.jsx)(rn.Z,{placeholder:"Start typing to filter objects in the bucket",onChange:function(n){e((0,F.G4)(n))},value:n})},cn=t(94619),ln=(0,E.Z)(a.lazy((function(){return t.e(711).then(t.bind(t,50711))}))),dn=(0,E.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,34433))}))),un=(0,E.Z)(a.lazy((function(){return Promise.all([t.e(3691),t.e(7847),t.e(6901)]).then(t.bind(t,26901))}))),hn=(0,E.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,78562))}))),fn=(0,w.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({badgeOverlap:{"& .MuiBadge-badge":{top:10,right:1,width:5,height:5,minWidth:5}}},u.VX),u.OR),u.qg),{},{searchField:(0,o.Z)((0,o.Z)({},u.qg.searchField),{},{maxWidth:380}),screenTitleContainer:{border:"#EAEDEE 1px solid",padding:"0 5px"},labelStyle:{color:"#969FA8",fontSize:"12px"},breadcrumbsContainer:{padding:"12px 14px 5px"},fullContainer:{width:"100%",position:"relative","&.detailsOpen":{"@media (max-width: 799px)":{display:"none"}}},hideListOnSmall:{"@media (max-width: 799px)":{display:"none"}},actionsSection:{display:"flex",justifyContent:"space-between",width:"100%"}},u.C4),u.cx),u.Bz))})),mn={borderWidth:2,borderRadius:2,borderColor:"#eeeeee",outline:"none"},pn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#2196f3"},xn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#00e676"},bn=function(){var e,n=fn(),t=(0,d.TL)(),i=(0,s.UO)(),c=(0,s.s0)(),l=(0,s.TH)(),u=(0,r.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),b=(0,r.v9)((function(e){return e.objectBrowser.rewind.bucketToRewind})),_=(0,r.v9)((function(e){return e.objectBrowser.versionsMode})),S=(0,r.v9)((function(e){return e.objectBrowser.showDeleted})),C=(0,r.v9)((function(e){return e.objectBrowser.objectDetailsOpen})),w=(0,r.v9)((function(e){return e.objectBrowser.selectedInternalPaths})),y=(0,r.v9)((function(e){return e.objectBrowser.loadingObjects})),E=(0,r.v9)((function(e){return e.objectBrowser.simplePath})),O=(0,r.v9)((function(e){return e.objectBrowser.versionInfo})),L=(0,r.v9)((function(e){return e.objectBrowser.lockingEnabled})),A=(0,r.v9)((function(e){return e.objectBrowser.downloadRenameModal})),D=(0,r.v9)((function(e){return e.objectBrowser.selectedPreview})),R=(0,r.v9)((function(e){return e.objectBrowser.shareFileModalOpen})),U=(0,r.v9)((function(e){return e.objectBrowser.previewOpen})),G=(0,r.v9)((function(e){return e.objectBrowser.selectedBucket})),W=(0,r.v9)((function(e){return e.system.anonymousMode})),H=(0,r.v9)((function(e){return e.objectBrowser.anonymousAccessOpen})),V=(0,r.v9)(He.HQ),J=(0,r.v9)(He.G6),Y=(0,a.useState)(!1),q=(0,h.Z)(Y,2),$=q[0],X=q[1],Q=(0,a.useState)(!1),ee=(0,h.Z)(Q,2),ne=ee[0],te=ee[1],ie=(0,a.useState)(!1),oe=(0,h.Z)(ie,2),re=oe[0],se=oe[1],ce=(0,a.useState)(!1),le=(0,h.Z)(ce,2),de=le[0],ue=le[1],he=(0,a.useState)(!1),fe=(0,h.Z)(he,2),me=fe[0],pe=fe[1],xe=(0,a.useState)(null),be=(0,h.Z)(xe,2),ve=be[0],je=be[1],ge=ae(O.status),Ze=i.bucketName||"",_e=l.pathname.split("/browser/".concat(Ze,"/")),Se=2===_e.length?_e[1]:"",Ce=(0,g.IO)(Se),we=Ce.split("/").filter((function(e){return""!==e})),ye=[Ze];we.length>0&&(ye=ye.concat(we));var Te=(0,a.useRef)(null),Ee=(0,a.useRef)(null),Ne=(0,T.F)(Ze,[k.Ft.S3_GET_OBJECT,k.Ft.S3_GET_ACTIONS]),Ie=(0,T.F)(Ze,[k.Ft.S3_DELETE_OBJECT]),Le=(0,T.F)(ye,[k.Ft.S3_PUT_OBJECT,k.Ft.S3_PUT_ACTIONS],!0,!0)||W,Be=(0,T.F)(Ze,[k.Ft.S3_DELETE_OBJECT]),Pe=(0,T.F)(Ze,[k.Ft.S3_GET_BUCKET_POLICY,k.Ft.S3_PUT_BUCKET_POLICY,k.Ft.S3_GET_ACTIONS,k.Ft.S3_PUT_ACTIONS]),Ae=(0,r.v9)((function(e){return e.objectBrowser.selectedObjects}));(0,a.useEffect)((function(){t((0,F.G4)("")),t((0,F.Cn)(!0)),t((0,F.S2)([]))}),[E,t]),(0,a.useEffect)((function(){u&&b!==Ze&&t((0,F._w)())}),[u,b,Ze,t]),(0,a.useEffect)((function(){null!==Ee.current&&(Ee.current.setAttribute("directory",""),Ee.current.setAttribute("webkitdirectory",""))}),[Ee]),(0,a.useEffect)((function(){if(1===Ae.length){var e=Ae[0];"none"!==(0,P.Bg)(e)?pe(!0):pe(!1),e.endsWith("/")?ue(!1):ue(!0)}else ue(!1),pe(!1)}),[Ae]),(0,a.useEffect)((function(){ve||W||j.Z.invoke("GET","/api/v1/buckets/".concat(Ze,"/quota")).then((function(e){var n=null;e.quota&&(n=e),je(n)})).catch((function(e){console.error("Error Getting Quota Status: ",e.detailedError),je(null)}))}),[ve,Ze,W]),(0,a.useEffect)((function(){Ae.length>0?t((0,F.vb)(!0)):0!==Ae.length||null!==w||y||t((0,F.vb)(!1))}),[Ae,w,t,y]),(0,a.useEffect)((function(){re||(t((0,He.d5)(!0)),se(!0))}),[re,t,se]),(0,a.useEffect)((function(){!y&&!V||W||j.Z.invoke("GET","/api/v1/buckets/".concat(Ze)).then((function(e){t((0,He.d5)(!1)),t((0,He.f4)(e)),t((0,F.RS)(Ze))})).catch((function(e){t((0,He.d5)(!1)),t((0,N.Ih)(e))}))}),[Ze,V,t,W,y]),(0,a.useEffect)((function(){""!==G&&j.Z.invoke("GET","/api/v1/buckets/".concat(G,"/retention")).then((function(e){t((0,F.c8)(e))})).catch((function(e){t((0,F.c8)(null))}))}),[G,t]);var Re=function(e){if(null!==e&&void 0!==e&&null!==e.target.files&&void 0!==e.target.files){e.preventDefault();for(var n=[],t=0;t<e.target.files.length;t++)n.push(e.target.files[t]);Ue(n,""),e.target.value=""}},Ue=(0,a.useCallback)((function(e,n){var i="";E&&(i=E.endsWith("/")?E:E+"/");!function(e,n,i,o){var a=function(a){return new Promise((function(r,s){var c="api/v1/buckets/".concat(n,"/objects/upload"),l=a.name,d=new Blob([a],{type:a.type}),u="",h=v()(a,"path",""),f=v()(a,"webkitRelativePath",""),m=o,p=(0,ke.YO)(8);if(""!==h?m=h:""!==f&&(m=f),""!==i||""!==m){var x=m.split("/").slice(0,-1).join("/"),b=i.endsWith("/")?i.slice(0,-1):i;u=(0,g.LL)("".concat(b).concat(b.endsWith("/")||""===x||x.startsWith("/")?"":"/").concat(x).concat(!x.endsWith("/")||""===x.trim()&&!i.endsWith("/")?"/":""))}""!==u&&(c="".concat(c,"?prefix=").concat(u));var j=(0,g.LL)("".concat(n,"-").concat(u,"-").concat((new Date).getTime(),"-").concat(Math.random())),Z=new XMLHttpRequest;Z.open("POST",c,!0),W&&Z.setRequestHeader("X-Anonymous","1");var _=e.length>1,S="An error occurred while uploading the file".concat(_?"s":"","."),C={413:"Error - File size too large"};Z.withCredentials=!1,Z.onload=function(e){if(Z.status>=200&&Z.status<300)t((0,F.oK)(j)),r({status:Z.status}),(0,ke.GM)(p);else{if(C[Z.status])S=C[Z.status];else if(Z.response)try{var n=JSON.parse(Z.response);S=n.detailedMessage}catch(i){S="something went wrong"}t((0,F.qJ)({instanceID:j,msg:S})),s({status:Z.status,message:S}),(0,ke.GM)(p)}},Z.upload.addEventListener("error",(function(e){s(S),t((0,F.qJ)({instanceID:j,msg:"A network error occurred."}))})),Z.upload.addEventListener("progress",(function(e){var n=Math.floor(100*e.loaded/e.total);t((0,F.RO)({instanceID:j,progress:n}))})),Z.onerror=function(){s(S),t((0,F.qJ)({instanceID:j,msg:"A network error occurred."}))},Z.onloadend=function(){0===e.length&&t((0,F.Cn)(!0))},Z.onabort=function(){t((0,F.Im)(j))};var w=new FormData;void 0!==a.size&&(w.append(a.size.toString(),d,l),(0,ke.EN)(p,Z),t((0,F.Mc)({ID:p,bucketName:n,done:!1,instanceID:j,percentage:0,prefix:"".concat((0,g.IO)(u)).concat(l),type:"upload",waitingForFile:!1,failed:!1,cancelled:!1,errorMessage:""})),(0,ke.N5)(p,w))}))},r=[];t((0,F.LD)());for(var s=0;s<e.length;s++){var c=e[s];r.push(a(c))}Promise.allSettled(r).then((function(e){var n=e.filter((function(e){return"rejected"===e.status}));if(n.length>0){var i=r.length,o=r.length-n.length,a={errorMessage:"There were some errors during file upload",detailedError:"Uploaded files ".concat(o,"/").concat(i)};t((0,N.Ih)(a))}t((0,F.Cn)(!0)),t((0,F.S2)([]))}))}(e,Ze,i,n)}),[Ze,t,E,W]),ze=(0,a.useCallback)((function(e){if(e&&e.length>0&&Le){var n=e[0].path;Ue(e,n)}Le||t((0,N.Ih)({errorMessage:"Upload not allowed",detailedError:(0,k.MK)([k.Ft.S3_PUT_OBJECT,k.Ft.S3_PUT_ACTIONS],"upload objects to this location")}))}),[Ue]),Me=(0,f.uI)({noClick:!0,onDrop:ze}),Ge=Me.getRootProps,Ke=Me.getInputProps,Ve=Me.isDragActive,Je=Me.isDragAccept,Ye=(0,a.useMemo)((function(){return(0,o.Z)((0,o.Z)((0,o.Z)({},mn),Ve?pn:{}),Je?xn:{})}),[Ve,Je]),qe=function(e){if(t((0,F.EE)(null)),t((0,F.db)({status:!1})),C&&null!==w){var n=(0,g.IO)(Se).split("/");n.pop();var i="";n&&n.length>0&&(i="".concat(n.join("/"),"/")),c("/browser/".concat(Ze,"/").concat((0,g.LL)(i)))}t((0,F.vb)(!1)),t((0,F.S2)([])),e&&t((0,F.Cn)(!0))},$e=p.ou.now();null!==J&&void 0!==J&&J.creation_date&&($e=p.ou.fromISO(J.creation_date));var Xe=[{action:function(){t(nn(Ze))},label:"Download",disabled:!Ne||0===(null===Ae||void 0===Ae?void 0:Ae.length),icon:(0,I.jsx)(m._8t,{}),tooltip:Ne?"Download Selected":(0,k.MK)([k.Ft.S3_GET_OBJECT,k.Ft.S3_GET_ACTIONS],"download objects from this bucket")},{action:function(){t(on())},label:"Share",disabled:1!==Ae.length||!de,icon:(0,I.jsx)(m.aAc,{}),tooltip:de?"Share Selected File":"Sharing unavailable"},{action:function(){t(tn())},label:"Preview",disabled:1!==Ae.length||!me,icon:(0,I.jsx)(m.P99,{}),tooltip:me?"Preview Selected File":"Preview unavailable"},{action:function(){t(an())},label:"Anonymous Access",disabled:1!==Ae.length||!Ae[0].endsWith("/")||!Pe,icon:(0,I.jsx)(m.cuP,{}),tooltip:1===Ae.length&&Ae[0].endsWith("/")?"Set Anonymous Access to this Folder":"Anonymous Access unavailable"},{action:function(){X(!0)},label:"Delete",icon:(0,I.jsx)(m.pJl,{}),disabled:!Ie||0===Ae.length||!Be,tooltip:Ie?"Delete Selected Files":(0,k.MK)([k.Ft.S3_DELETE_OBJECT],"delete objects in this bucket")}];return(0,I.jsxs)(a.Fragment,{children:[R&&D&&(0,I.jsx)(dn,{open:R,closeModalAndRefresh:function(){t((0,F.Qf)(!1)),t((0,F.eP)(null))},bucketName:Ze,dataObject:{name:D.name,last_modified:"",version_id:D.version_id}}),$&&(0,I.jsx)(ln,{deleteOpen:$,selectedBucket:Ze,selectedObjects:Ae,closeDeleteModalAndRefresh:function(e){X(!1),e&&(t((0,N.y1)("Objects deleted successfully.")),t((0,F.S2)([])),t((0,F.Cn)(!0)))},versioning:O}),ne&&(0,I.jsx)(un,{open:ne,closeModalAndRefresh:function(){te(!1)},bucketName:Ze}),U&&(0,I.jsx)(hn,{open:U,bucketName:Ze,object:D,onClosePreview:function(){t((0,F.ei)(!1)),t((0,F.eP)(null))}}),!!A&&(0,I.jsx)(Fe,{open:!!A,closeModal:function(){t((0,F.$y)(null))},currentItem:(null===(e=A.name.split("/"))||void 0===e?void 0:e.pop())||"",bucketName:Ze,internalPaths:Se,actualInfo:{name:A.name,last_modified:"",version_id:A.version_id,size:A.size.toString()}}),H&&(0,I.jsx)(cn.default,{onClose:function(){t((0,F.xV)(!1))},bucket:Ze,modalOpen:H,prefilledRoute:"".concat(Ae[0],"*")}),(0,I.jsxs)(m.Xgh,{variant:"full",children:[W&&(0,I.jsx)("div",{style:{paddingBottom:16},children:(0,I.jsx)(sn,{})}),(0,I.jsx)(x.ZP,{item:!0,xs:12,className:n.screenTitleContainer,children:(0,I.jsx)(m.UHn,{icon:(0,I.jsx)("span",{children:(0,I.jsx)(m.wNb,{style:{width:30}})}),title:Ze,subTitle:W?null:(0,I.jsxs)(a.Fragment,{children:[(0,I.jsxs)("span",{className:n.detailsSpacer,children:["Created on:\xa0\xa0",(0,I.jsx)("strong",{children:null!==J&&void 0!==J&&J.creation_date?$e.toFormat("ccc, LLL dd yyyy HH:mm:ss (ZZZZ)"):""})]}),(0,I.jsxs)("span",{className:n.detailsSpacer,children:["Access:\xa0\xa0\xa0",(0,I.jsx)("strong",{children:(null===J||void 0===J?void 0:J.access)||""})]}),J&&(0,I.jsx)(a.Fragment,{children:(0,I.jsxs)("span",{className:n.detailsSpacer,children:[J.size&&(0,I.jsx)(a.Fragment,{children:(0,g.l5)(J.size)}),J.size&&ve&&(0,I.jsxs)(a.Fragment,{children:[" / ",(0,g.l5)(ve.quota)]}),J.size&&J.objects?" - ":"",J.objects&&(0,I.jsxs)(a.Fragment,{children:[J.objects,"\xa0Object",J.objects&&1!==J.objects?"s":""]})]})})]}),actions:(0,I.jsxs)(a.Fragment,{children:[!W&&(0,I.jsx)(z.Z,{tooltip:"Rewind Bucket",children:(0,I.jsx)(m.zxk,{id:"rewind-objects-list",label:"Rewind",icon:(0,I.jsx)(Z.Z,{badgeContent:" ",color:"secondary",variant:"dot",invisible:!u,className:n.badgeOverlap,sx:{height:16},children:(0,I.jsx)(m.F_y,{style:{minWidth:16,minHeight:16,width:16,height:16,marginTop:-3}})}),variant:"regular",onClick:function(){te(!0)},disabled:!ge||!(0,T.F)(Ze,[k.Ft.S3_GET_OBJECT,k.Ft.S3_GET_ACTIONS])})}),(0,I.jsx)(z.Z,{tooltip:"Reload List",children:(0,I.jsx)(m.zxk,{id:"refresh-objects-list",label:"Refresh",icon:(0,I.jsx)(m.DuK,{}),variant:"regular",onClick:function(){_?t((0,F.Eq)(!0)):(t((0,F.o_)()),t((0,F._D)(!0)),t((0,F.Cn)(!0)))},disabled:!W&&(!(0,T.F)(Ze,[k.Ft.S3_LIST_BUCKET,k.Ft.S3_ALL_LIST_BUCKET])||u)})}),(0,I.jsx)("input",{type:"file",multiple:!0,onChange:Re,style:{display:"none"},ref:Te}),(0,I.jsx)("input",{type:"file",multiple:!0,onChange:Re,style:{display:"none"},ref:Ee}),(0,I.jsx)(M,{bucketName:Ze,uploadPath:ye.join("/"),uploadFileFunction:function(e){Te&&Te.current&&Te.current.click(),e()},uploadFolderFunction:function(e){Ee&&Ee.current&&Ee.current.click(),e()}})]}),bottomBorder:!1})}),(0,I.jsxs)("div",(0,o.Z)((0,o.Z)({id:"object-list-wrapper"},Ge({style:(0,o.Z)({},Ye)})),{},{children:[(0,I.jsx)("input",(0,o.Z)({},Ke())),(0,I.jsxs)(x.ZP,{item:!0,xs:12,className:n.tableBlock,sx:{border:"#EAEDEE 1px solid",borderTop:0},children:[_?(0,I.jsx)(a.Fragment,{children:null!==w&&(0,I.jsx)(We,{internalPaths:w,bucketName:Ze})}):(0,I.jsx)(T.s,{scopes:[k.Ft.S3_LIST_BUCKET,k.Ft.S3_ALL_LIST_BUCKET],resource:Ze,errorProps:{disabled:!0},children:(0,I.jsxs)(x.ZP,{item:!0,xs:12,className:"".concat(n.fullContainer," ").concat(C?"detailsOpen":""," "),children:[!W&&(0,I.jsx)(x.ZP,{item:!0,xs:12,className:n.breadcrumbsContainer,children:(0,I.jsx)(B,{bucketName:Ze,internalPaths:Ce,additionalOptions:!ge||u?null:(0,I.jsx)("div",{children:(0,I.jsx)(De.Z,{name:"deleted_objects",id:"showDeletedObjects",value:"deleted_on",label:"Show deleted objects",onChange:function(){t((0,F.o_)()),t((0,F.mz)(!S)),qe(!0)},checked:S,overrideLabelClasses:n.labelStyle,className:n.overrideShowDeleted,noTopMargin:!0})}),hidePathButton:!1})}),(0,I.jsx)(Qe,{internalPaths:w})]})}),!W&&(0,I.jsx)(T.s,{scopes:[k.Ft.S3_LIST_BUCKET,k.Ft.S3_ALL_LIST_BUCKET],resource:Ze,errorProps:{disabled:!0},children:(0,I.jsxs)(K,{open:C,closePanel:function(){qe(!1)},className:"".concat(_?n.hideListOnSmall:""),children:[Ae.length>0&&(0,I.jsx)(m.Wk,{items:Xe,title:"Selected Objects:"}),null!==w&&(0,I.jsx)(Oe,{internalPaths:w,bucketName:Ze,onClosePanel:qe,versioningInfo:O,locking:L})]})})]})]}))]})]})},vn=t(49535),jn=t(26824),gn=t(73996),Zn=t(47974),_n=t(4677),Sn=function(e){var n=e.bucketName,t=(0,d.TL)(),i=(0,r.v9)($e.$4),o=(0,r.v9)((function(e){return e.objectBrowser.versionsMode})),c=(0,r.v9)((function(e){return e.objectBrowser.versionedFile})),l=(0,r.v9)((function(e){return e.objectBrowser.searchVersions})),u=!(null===i||void 0===i||!i.includes("object-browser-only")),h=(0,s.s0)(),f=(0,vn.Z)(n,[k.Ft.S3_GET_BUCKET_POLICY,k.Ft.S3_PUT_BUCKET_POLICY,k.Ft.S3_GET_BUCKET_VERSIONING,k.Ft.S3_PUT_BUCKET_VERSIONING,k.Ft.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,k.Ft.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,k.Ft.S3_DELETE_BUCKET,k.Ft.S3_GET_BUCKET_NOTIFICATIONS,k.Ft.S3_PUT_BUCKET_NOTIFICATIONS,k.Ft.S3_GET_REPLICATION_CONFIGURATION,k.Ft.S3_PUT_REPLICATION_CONFIGURATION,k.Ft.S3_GET_LIFECYCLE_CONFIGURATION,k.Ft.S3_PUT_LIFECYCLE_CONFIGURATION,k.Ft.ADMIN_GET_BUCKET_QUOTA,k.Ft.ADMIN_SET_BUCKET_QUOTA,k.Ft.S3_PUT_BUCKET_TAGGING,k.Ft.S3_GET_BUCKET_TAGGING,k.Ft.S3_LIST_BUCKET_VERSIONS,k.Ft.S3_GET_BUCKET_POLICY_STATUS,k.Ft.S3_DELETE_BUCKET_POLICY,k.Ft.S3_GET_ACTIONS,k.Ft.S3_PUT_ACTIONS]),p=(0,I.jsx)(a.Fragment,{children:o?(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(rn.Z,{placeholder:"Start typing to filter versions of ".concat(c),onChange:function(e){t((0,F.Pr)(e))},value:l})}):(0,I.jsx)(T.s,{scopes:[k.Ft.S3_LIST_BUCKET,k.Ft.S3_ALL_LIST_BUCKET],resource:n,errorProps:{disabled:!0},children:(0,I.jsx)(sn,{})})});return(0,I.jsx)(a.Fragment,{children:u?(0,I.jsxs)(m.rjZ,{container:!0,sx:{padding:"20px 32px 0"},children:[(0,I.jsx)(m.rjZ,{children:(0,I.jsx)(gn.Z,{marginRight:30,marginTop:10})}),(0,I.jsxs)(m.rjZ,{item:!0,xs:!0,sx:{display:"flex",gap:10},children:[p,(0,I.jsx)(_n.Z,{})]})]}):(0,I.jsx)(Zn.Z,{label:(0,I.jsx)(m.hbI,{label:"Object Browser",onClick:function(){h(k.gA.OBJECT_BROWSER_VIEW)}}),actions:(0,I.jsx)(T.s,{scopes:k.D[k.EI.BUCKET_ADMIN],resource:n,errorProps:{disabled:!0},children:(0,I.jsx)(z.Z,{tooltip:f?"Configure Bucket":"You do not have the required permissions to configure this bucket. Please contact your MinIO administrator to request "+k.EI.BUCKET_ADMIN+" permisions.",children:(0,I.jsx)(m.zxk,{id:"configure-bucket-main",color:"primary","aria-label":"Configure Bucket",onClick:function(){return h("/buckets/".concat(n,"/admin"))},icon:(0,I.jsx)(m.ewm,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"}})})}),middleComponent:p})})},Cn=0,wn=0,yn=!1,Tn=function e(n,t,o){if(!yn){yn=!0;var a=new URL(window.location.toString()),r=a.port,s=new URL(document.baseURI).pathname,c=(0,jn.x2)(a.protocol);(i=new WebSocket("".concat(c,"://").concat(a.hostname,":").concat(r).concat(s,"ws/objectManager"))).onopen=function(){yn=!1,n&&n(),wn=0},t&&(i.onmessage=t);var l=function(){wn<=5?(e((function(){}),t,o),wn+=1):(console.error("Websocket not available. Please review that your environment settings are enabled to allow websocket connections and that requests are made from the same origin."),o&&o("Couldn't establish WebSocket connection. Please review your configuration and try again."))};i.onclose=function(){yn=!1,console.warn("Websocket Disconnected. Attempting Reconnection..."),setTimeout(l,3e3)},i.onerror=function(){yn=!1,console.error("Error in websocket connection. Attempting reconnection...")}}},kn=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)({},u.Bz))}))((function(){var e=(0,d.TL)(),n=(0,s.UO)(),t=(0,s.TH)(),o=(0,r.v9)((function(e){return e.objectBrowser.loadingVersioning})),c=(0,r.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),l=(0,r.v9)((function(e){return e.objectBrowser.rewind.dateToRewind})),u=(0,r.v9)((function(e){return e.objectBrowser.showDeleted})),h=(0,r.v9)((function(e){return e.console.session.allowResources})),f=(0,r.v9)((function(e){return e.objectBrowser.loadingObjects})),m=(0,r.v9)((function(e){return e.objectBrowser.loadingLocking})),p=(0,r.v9)((function(e){return e.objectBrowser.loadRecords})),x=(0,r.v9)((function(e){return e.objectBrowser.selectedInternalPaths})),b=(0,r.v9)((function(e){return e.objectBrowser.simplePath})),v=(0,r.v9)((function(e){return e.objectBrowser.isOpeningObjectDetail})),Z=(0,r.v9)((function(e){return e.system.anonymousMode})),_=n.bucketName||"",S=t.pathname.split("/browser/".concat(_,"/")),C=2===S.length?S[1]:"",w=(0,a.useCallback)((function(n){e((0,F.Cn)(!1));var t=JSON.parse(n.data.toString());if(Cn===t.request_id){if(t.request_id!==Cn)return;if("The Access Key Id you provided does not exist in our records."===t.error)window.location.reload();else if("Access Denied."===t.error){var i=t.prefix,o="";if(i){var a=(0,g.IO)(i);o=a.endsWith("/")?a:a+"/"}var r=(0,P.kh)(_,o,h||[]);return void(r&&0!==r.length?e((0,F.ZJ)(r)):e((0,N.Ih)({errorMessage:t.error,detailedError:t.error})))}if(t.request_end)return e((0,F.Cn)(!1)),void e((0,F._D)(!1));t.data&&e((0,F.rW)(t.data))}}),[e,h,_]),y=(0,a.useCallback)((function(n,t){if(i&&1===i.readyState)try{var o=Cn+1;e((0,F.o_)()),e((0,F.ZR)(!1));var a={bucket_name:_,prefix:(0,g.LL)(n),mode:c||u?"rewind":"objects",date:t.toISOString(),request_id:o};i.send(JSON.stringify(a)),Cn=o}catch(r){console.error(r)}else{Tn((function(){y(n,t)}),w,(function(n){e((0,N.Ih)({errorMessage:n,detailedError:n})),e((0,F.ZR)(!0))}))}}),[_,c,u,e,w]);(0,a.useEffect)((function(){var n=(0,P.kh)(_,"",h||[]);!_||n&&0!==n.length||(e((0,F.o_)()),e((0,F._D)(!0)),e((0,F.Cn)(!0)),y("",new Date))}),[_,e,y,h]),(0,a.useEffect)((function(){return function(){var e={mode:"cancel",request_id:Cn};i&&1===i.readyState&&i.send(JSON.stringify(e))}}),[]),(0,a.useEffect)((function(){var n=(0,g.IO)(C);e((0,F.IJ)(!0)),n.endsWith("/")||""===n?(e((0,F.vb)(!1)),e((0,F.EE)(null)),e((0,F.Su)(""===n?"/":n)),e((0,F.Jn)(!0))):(e((0,F.vH)(!0)),e((0,F.vb)(!0)),e((0,F.Eq)(!0)),e((0,F.EE)("".concat(n?"".concat((0,g.LL)(n)):""))),e((0,F.Su)("".concat(n.split("/").slice(0,-1).join("/"),"/"))))}),[_,C,l,c,e]),(0,a.useEffect)((function(){if(!f&&!p&&!c&&!v){var n=(0,g.IO)(C);if(!n.endsWith("/")&&b!==n&&""!==n){(0,F._D)(!0);var t="".concat(n.split("/").slice(0,-1).join("/"),"/");y(t,new Date)}}e((0,F.d_)(!1))}),[f,p,e,C,y,c,b]);var T=(0,vn.Z)(_,[k.Ft.S3_LIST_BUCKET,k.Ft.S3_ALL_LIST_BUCKET])||Z;return(0,a.useEffect)((function(){if(f&&T){var n="";if(C){var t=(0,g.IO)(C);n=x===C?"".concat((0,g.IO)(C).split("/").slice(0,-1).join("/"),"/"):t.endsWith("/")?t:t+"/"}var i=new Date;c&&l&&(i=new Date(l)),y(n,i)}else e((0,F.Cn)(!1))}),[f,C,e,l,c,T,y]),(0,a.useEffect)((function(){e((0,F.db)({status:!1}))}),[C,e]),(0,a.useEffect)((function(){o&&!Z&&(T?j.Z.invoke("GET","/api/v1/buckets/".concat(_,"/versioning")).then((function(n){e((0,F.lS)(n)),e((0,F.IJ)(!1))})).catch((function(n){console.error("Error Getting Object Versioning Status: ",n.detailedError),e((0,F.IJ)(!1))})):(e((0,F.IJ)(!1)),e((0,F.o_)())))}),[_,o,e,T,Z]),(0,a.useEffect)((function(){m&&(T?j.Z.invoke("GET","/api/v1/buckets/".concat(_,"/object-locking")).then((function(n){e((0,F.lY)(n.object_locking_enabled)),e((0,F.Jn)(!1))})).catch((function(n){console.error("Error Getting Object Locking Status: ",n.detailedError),e((0,F.Jn)(!1))})):(e((0,F.o_)()),e((0,F.Jn)(!1))))}),[_,m,e,T]),(0,a.useEffect)((function(){m&&(T?j.Z.invoke("GET","/api/v1/buckets/".concat(_,"/object-locking")).then((function(n){e((0,F.lY)(n.object_locking_enabled)),(0,F.Jn)(!1)})).catch((function(e){console.error("Error Getting Object Locking Status: ",e.detailedError),(0,F.Jn)(!1)})):(e((0,F.o_)()),(0,F.Jn)(!1)))}),[_,m,e,T]),(0,I.jsxs)(a.Fragment,{children:[!Z&&(0,I.jsx)(Sn,{bucketName:_}),(0,I.jsx)(bn,{})]})}))},34433:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var i=t(29439),o=t(1413),a=t(72791),r=t(78687),s=t(29945),c=t(11135),l=t(25787),d=t(78029),u=t.n(d),h=t(40986),f=t(23814),m=t(81207),p=t(56028),x=t(99779),b=t(80184),v=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},f.YI),f.Hr),{},{labelContainer:{display:"flex",alignItems:"center",marginBottom:15},fieldContainer:(0,o.Z)((0,o.Z)({},f.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),durationInputs:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",gap:10},validityIndicator:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:25,marginLeft:10},invalidDurationText:{marginTop:15,display:"flex",color:"red",fontSize:11},reverseInput:{flexFlow:"row-reverse","& > label":{fontWeight:400,marginLeft:15,marginRight:25}},validityText:{fontSize:14,marginTop:15,display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{flexFlow:"column"},"& > .min-icon":{color:"#5E5E5E",width:15,height:15,marginRight:10}},validTill:{fontWeight:"bold",marginLeft:15}}))}))((function(e){var n=e.classes,t=e.id,o=e.initialDate,r=e.label,c=e.maxDays,l=e.entity,d=e.onChange,u=(0,a.useState)(7),h=(0,i.Z)(u,2),f=h[0],m=h[1],p=(0,a.useState)(0),v=(0,i.Z)(p,2),j=v[0],g=v[1],Z=(0,a.useState)(0),_=(0,i.Z)(Z,2),S=_[0],C=_[1],w=(0,a.useState)(!0),y=(0,i.Z)(w,2),T=y[0],k=y[1],E=(0,a.useState)(x.ou.now()),N=(0,i.Z)(E,2),F=N[0],I=N[1];(0,a.useEffect)((function(){isNaN(j)||isNaN(f)||isNaN(S)||I(function(e,n,t,i){return x.ou.fromJSDate(e).plus({days:n,hours:t,minutes:i})}(o,f,j,S))}),[o,f,j,S]),(0,a.useEffect)((function(){if(T){var e=F.toFormat("yyyy-MM-dd HH:mm:ss");d(e.split(" ").join("T"),!0)}else d("0000-00-00",!1)}),[F,d,T]),(0,a.useEffect)((function(){var e=!0;(f<0||c&&f>c||isNaN(f))&&(e=!1),(j<0||j>23||isNaN(j))&&(e=!1),(S<0||S>59||isNaN(S))&&(e=!1),!c||f!==c||0===j&&0===S||(e=!1),f<=0&&j<=0&&S<=0&&(e=!1),k(e)}),[F,c,d,f,j,S]);var O={"& .textBoxContainer":{minWidth:0},"& input":{textAlign:"center",paddingRight:10,paddingLeft:10,width:40}};return(0,b.jsx)(a.Fragment,{children:(0,b.jsxs)(s.rjZ,{container:!0,className:n.fieldContainer,children:[(0,b.jsx)(s.rjZ,{item:!0,xs:12,className:n.labelContainer,children:(0,b.jsx)(s.AZs,{htmlFor:t,children:r})}),(0,b.jsxs)(s.rjZ,{item:!0,xs:12,className:n.durationInputs,children:[(0,b.jsx)(s.rjZ,{item:!0,xs:!0,className:n.dateInputContainer,children:(0,b.jsx)(s.Wzg,{id:t,className:"".concat(n.reverseInput," removeArrows"),type:"number",min:"0",max:c?c.toString():"999",label:"Days",name:t,onChange:function(e){m(parseInt(e.target.value))},value:f.toString(),sx:O,noLabelMinWidth:!0})}),(0,b.jsx)(s.rjZ,{item:!0,xs:!0,className:n.dateInputContainer,children:(0,b.jsx)(s.Wzg,{id:t,className:"".concat(n.reverseInput," removeArrows"),type:"number",min:"0",max:"23",label:"Hours",name:t,onChange:function(e){g(parseInt(e.target.value))},value:j.toString(),sx:O,noLabelMinWidth:!0})}),(0,b.jsx)(s.rjZ,{item:!0,xs:!0,className:n.dateInputContainer,children:(0,b.jsx)(s.Wzg,{id:t,className:"".concat(n.reverseInput," removeArrows"),type:"number",min:"0",max:"59",label:"Minutes",name:t,onChange:function(e){C(parseInt(e.target.value))},value:S.toString(),sx:O,noLabelMinWidth:!0})})]}),(0,b.jsx)(s.rjZ,{item:!0,xs:12,className:"".concat(n.validityIndicator," ").concat(n.formFieldRow),children:T?(0,b.jsxs)("div",{className:n.validityText,children:[(0,b.jsx)(s.xPt,{}),(0,b.jsxs)("div",{className:n.validityLabel,children:[l," will be available until:"]})," ",(0,b.jsx)("div",{className:n.validTill,children:F.toFormat("MM/dd/yyyy HH:mm:ss")})]}):(0,b.jsx)("div",{className:n.invalidDurationText,children:"Please select a valid duration."})})]})})})),j=t(45248),g=t(87995),Z=t(81551),_=t(21639),S=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({shareLinkInfo:{fontSize:14,fontWeight:400},copyShareLink:{display:"flex","@media (max-width: 900px)":{flexFlow:"column",alignItems:"center",justifyContent:"center"}},copyShareLinkInput:{"& div:first-child":{marginTop:0},"@media (max-width: 900px)":{minWidth:250}}},f.ID),f.DF))}))((function(e){var n=e.classes,t=e.open,o=e.closeModalAndRefresh,c=e.bucketName,l=e.dataObject,d=(0,Z.TL)(),f=(0,r.v9)(g.N5),S=(0,a.useState)(""),C=(0,i.Z)(S,2),w=C[0],y=C[1],T=(0,a.useState)(!1),k=(0,i.Z)(T,2),E=k[0],N=k[1],F=(0,a.useState)(!0),I=(0,i.Z)(F,2),O=I[0],L=I[1],B=(0,a.useState)(""),P=(0,i.Z)(B,2),A=P[0],D=P[1],R=(0,a.useState)(!0),U=(0,i.Z)(R,2),z=U[0],M=U[1],G=(0,a.useState)("null"),K=(0,i.Z)(G,2),W=K[0],H=K[1],V=(0,a.useState)(!1),J=(0,i.Z)(V,2),Y=J[0],q=J[1],$=(0,a.useState)([]),X=(0,i.Z)($,2),Q=X[0],ee=X[1],ne=(0,a.useState)(""),te=(0,i.Z)(ne,2),ie=te[0],oe=te[1],ae=(0,a.useState)(""),re=(0,i.Z)(ae,2),se=re[0],ce=re[1],le=(0,a.useState)("acc-list"),de=(0,i.Z)(le,2),ue=de[0],he=de[1],fe=(0,a.useState)(""),me=(0,i.Z)(fe,2),pe=me[0],xe=me[1],be=new Date;(0,a.useEffect)((function(){if(void 0===l.version_id)return f?(m.Z.invoke("GET","/api/v1/buckets/".concat(c,"/objects?prefix=").concat((0,j.LL)(l.name)).concat(f?"&with_versions=true":"")).then((function(e){var n=(e.objects||[]).find((function(e){return e.is_latest}));H(n?"".concat(n.version_id):"null")})).catch((function(e){d((0,g.zb)(e))})),void N(!1)):(H("null"),void N(!1));H(l.version_id||"null"),N(!1)}),[c,l,f,d]),(0,a.useEffect)((function(){if(z&&E){y("");var e=new Date("".concat(A)),n=new Date,t=Math.ceil((e.getTime()-n.getTime())/1e3),i="acc-list"===ue?ie:pe;t>0&&m.Z.invoke("POST","/api/v1/buckets/".concat(c,"/objects/share"),{prefix:(0,j.LL)(l.name),version_id:W,expires:""!==A?"".concat(t,"s"):"",access_key:i,secret_key:se}).then((function(e){y(e),N(!1),q(!0)})).catch((function(e){d((0,g.zb)(e)),y(""),N(!1),q(!1)}))}}),[se,ie,l,A,c,z,y,d,f,W,E,ue,pe]),(0,a.useEffect)((function(){if(O){var e=localStorage.getItem("userLoggedIn");m.Z.invoke("GET","/api/v1/user/".concat((0,j.LL)(e),"/service-accounts")).then((function(e){0===e.length&&he("acc-other");var n=e.sort(_.V2).map((function(e){return{value:e,label:e}}));L(!1),ee(n),oe(n[0].value)})).catch((function(e){d((0,g.Ih)(e)),L(!1)}))}}),[O,d]);return(0,b.jsx)(p.Z,{title:"Share File",titleIcon:(0,b.jsx)(s.aAc,{style:{fill:"#4CCB92"}}),modalOpen:t,onClose:function(){o()},children:Y?(0,b.jsxs)(a.Fragment,{children:[(0,b.jsxs)(s.rjZ,{item:!0,xs:12,className:n.shareLinkInfo,children:["This is a temporary URL with integrated access credentials for sharing ",(0,b.jsx)("strong",{children:l.name})," until"," ",(0,b.jsx)("strong",{children:x.ou.fromISO(A).toFormat("ccc, LLL dd yyyy HH:mm (ZZZZ)")}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),"This temporary URL will expiry after this time."]}),(0,b.jsx)(s.rjZ,{item:!0,xs:12,className:"".concat(n.copyShareLink," ").concat(n.formFieldRow," "),sx:{marginTop:12},children:(0,b.jsx)(s.bSr,{actionButton:(0,b.jsx)(u(),{text:w,children:(0,b.jsx)(s.zxk,{id:"copy-path",variant:"regular",onClick:function(){d((0,g.MK)("Share URL Copied to clipboard"))},disabled:""===w||E,style:{marginRight:"5px",width:"28px",height:"28px",padding:"0px"},icon:(0,b.jsx)(s.TIy,{})})}),children:w})}),(0,b.jsx)(s.rjZ,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,b.jsx)(s.zxk,{id:"generate-link",variant:"callAction",type:"button",onClick:function(){N(!1),q(!1),D(""),y("")},children:"Generate Another Link"})})]}):(0,b.jsxs)(a.Fragment,{children:[(0,b.jsxs)(s.rjZ,{item:!0,xs:12,className:n.shareLinkInfo,children:["To generate a temporary URL, please provide a set of credentials, this link can ve valid up to 7 days.",(0,b.jsx)("br",{}),(0,b.jsx)("br",{})]}),(0,b.jsxs)(s.ltY,{sx:{border:0,padding:0},children:[Q.length>0&&(0,b.jsx)(s.Eep,{id:"sign-selector-kind",selectorOptions:[{label:"Account's Access Key",value:"acc-list"},{label:"Custom Access Key",value:"acc-other"}],label:"",name:"sign-selector-kind",onChange:function(e){he(e.target.value)},currentValue:ue}),"acc-other"===ue?(0,b.jsx)(s.Wzg,{id:"other-ak",value:pe,onChange:function(e){xe(e.target.value)},label:"Access Key"}):(0,b.jsx)(s.PhF,{options:Q,value:ie,id:"select-ak",onChange:function(e){oe(e)},label:"Access Key"}),(0,b.jsx)(s.Wzg,{id:"secret-key",type:"password",value:se,onChange:function(e){ce(e.target.value)},label:"Secret Key"})]}),(0,b.jsx)(s.rjZ,{item:!0,xs:12,className:n.dateContainer,children:(0,b.jsx)(v,{initialDate:be,id:"date",label:"Link Duration",maxDays:7,onChange:function(e,n){M(n),n?D(e):(D(""),y(""))},entity:"Link"})}),E&&(0,b.jsx)(s.rjZ,{item:!0,xs:12,children:(0,b.jsx)(h.Z,{})}),(0,b.jsx)(s.rjZ,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,b.jsx)(s.zxk,{id:"generate-link",variant:"callAction",type:"button",onClick:function(){N(!0)},disabled:""===se||!z,children:"Generate Link"})})]})})}))},78562:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var i=t(72791),o=t(56028),a=t(4942),r=t(29439),s=t(11135),c=t(25787),l=t(61889),d=t(40986),u=t(47922),h=t(45248),f=t(28182),m=t(80184),p=(0,c.Z)((function(){return(0,s.Z)({iframeContainer:{border:"0px",flex:"1 1 auto",width:"100%",height:250,backgroundColor:"transparent",borderRadius:5,"&.image":{height:500},"&.text":{height:700},"&.audio":{height:150},"&.video":{height:350},"&.fullHeight":{height:"calc(100vh - 185px)"}},iframeBase:{backgroundColor:"#fff"},iframeHidden:{display:"none"}})}))((function(e){var n=e.bucketName,t=e.object,o=e.isFullscreen,s=void 0!==o&&o,c=e.classes,p=(0,i.useState)(!0),x=(0,r.Z)(p,2),b=x[0],v=x[1],j="";if(t){var g=(0,h.LL)(t.name),Z=document.baseURI.replace(window.location.origin,"");j="".concat(window.location.origin).concat(Z,"api/v1/buckets/").concat(n,"/objects/download?preview=true&prefix=").concat(g),t.version_id&&(j=j.concat("&version_id=".concat(t.version_id)))}var _=(0,u.Bg)((null===t||void 0===t?void 0:t.name)||""),S=function(){v(!1)};return(0,m.jsxs)(i.Fragment,{children:[b&&(0,m.jsx)(l.ZP,{item:!0,xs:12,children:(0,m.jsx)(d.Z,{})}),(0,m.jsxs)("div",{style:{textAlign:"center"},children:["video"===_&&(0,m.jsx)("video",{style:{width:"auto",height:"auto",maxWidth:"calc(100vw - 100px)",maxHeight:"calc(100vh - 200px)"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:S,children:(0,m.jsx)("source",{src:j,type:"video/mp4"})}),"audio"===_&&(0,m.jsx)("audio",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:S,children:(0,m.jsx)("source",{src:j,type:"audio/mpeg"})}),"image"===_&&(0,m.jsx)("img",{style:{width:"auto",height:"auto",maxWidth:"100vw",maxHeight:"100vh"},src:j,alt:"preview",onLoad:S}),"video"!==_&&"audio"!==_&&"image"!==_&&(0,m.jsx)("div",{className:(0,f.Z)(c.iframeBase,(0,a.Z)({},c.iframeHidden,b)),children:(0,m.jsx)("iframe",{src:j,title:"File Preview",allowTransparency:!0,className:"".concat(c.iframeContainer," ").concat(s?"fullHeight":_),onLoad:S,children:"File couldn't be loaded. Please try Download instead"})})]})]})})),x=t(29945),b=function(e){var n=e.open,t=e.bucketName,a=e.object,r=e.onClosePreview;return(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(o.Z,{modalOpen:n,title:"Preview - ".concat(null===a||void 0===a?void 0:a.name),onClose:r,wideLimit:!1,titleIcon:(0,m.jsx)(x.$30,{}),children:(0,m.jsx)(p,{bucketName:t,object:a})})})}},47922:function(e,n,t){t.d(n,{Bg:function(){return p},LR:function(){return f},P_:function(){return x},kh:function(){return b}});var i=t(1413),o=t(74165),a=t(15861),r=t(15671),s=t(43144),c=t(45248),l=t(76610),d=t(90344),u=t.n(d),h=t(81551),f=function(e,n,t,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,f=document.createElement("a");document.body.appendChild(f);var p=document.baseURI.replace(window.location.origin,""),x=h.ZP.getState().system.anonymousMode,b="".concat(window.location.origin).concat(p,"api/v1/buckets/").concat(e,"/objects/download?prefix=").concat(n).concat(null!==o&&""!==o.trim()?"&override_file_name=".concat((0,c.LL)(o||"")):"");return t&&(b=b.concat("&version_id=".concat(t))),new m(b,a,x,i,r,s,l,d,u)},m=function(){function e(n,t,i,o,a,s,c,l,d){(0,r.Z)(this,e),this.aborter=void 0,this.path=void 0,this.id=void 0,this.filename="",this.anonymousMode=void 0,this.fileSize=0,this.writer=null,this.progressCallback=void 0,this.completeCallback=void 0,this.errorCallback=void 0,this.abortCallback=void 0,this.toastCallback=void 0,this.aborter=new AbortController,this.path=n,this.id=t,this.anonymousMode=i,this.fileSize=o,this.progressCallback=a,this.completeCallback=s,this.errorCallback=c,this.abortCallback=l,this.toastCallback=d}return(0,s.Z)(e,[{key:"abort",value:function(){this.aborter.abort(),this.abortCallback(),this.writer&&this.writer.abort()}},{key:"send",value:function(){/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(this.toastCallback(),this.downloadSafari()):this.download({url:this.path,chunkSize:1610612736})}},{key:"getRangeContent",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n,t,i){var a,r,s,c,l,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.getRequestInfo(t,i),e.next=3,fetch(n,a);case 3:if(!(r=e.sent).ok||!r.body){e.next=22;break}this.filename||(this.filename=this.getFilename(r)),this.writer||(this.writer=u().createWriteStream(this.filename).getWriter()),s=r.body.getReader();case 8:if(c){e.next=20;break}return e.next=11,s.read();case 11:if(d=e.sent,l=d.value,!(c=d.done)){e.next=16;break}return e.abrupt("break",20);case 16:return e.next=18,this.writer.write(l);case 18:e.next=8;break;case 20:e.next=23;break;case 22:throw new Error("Unexpected response status code (".concat(r.status,")."));case 23:case"end":return e.stop()}}),e,this)})));return function(n,t,i){return e.apply(this,arguments)}}()},{key:"getRequestInfo",value:function(e,n){var t={signal:this.aborter.signal,headers:{range:"bytes=".concat(e,"-").concat(n)}};return this.anonymousMode&&(t.headers=(0,i.Z)((0,i.Z)({},t.headers),{},{"X-Anonymous":"1"})),t}},{key:"getFilename",value:function(e){var n=e.headers.get("Content-Disposition");return n?decodeURIComponent(n).split('"')[1]:"download"}},{key:"download",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n){var t,i,a,r,s,c,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.url,i=n.chunkSize,a=Math.ceil(this.fileSize/i),this.progressCallback(0),e.prev=3,r=0;case 5:if(!(r<a)){e.next=15;break}return s=r*i,c=r+1===a?this.fileSize-1:(r+1)*i-1,e.next=10,this.getRangeContent(t,s,c);case 10:d=Math.round((r+1)/a*100),this.progressCallback(d);case 12:r++,e.next=5;break;case 15:this.writer.close(),this.completeCallback(),(0,l.GM)(this.id),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),this.errorCallback(e.t0.message);case 23:case"end":return e.stop()}}),e,this,[[3,20]])})));return function(n){return e.apply(this,arguments)}}()},{key:"downloadSafari",value:function(){var e=document.createElement("a");e.href=this.path,document.body.appendChild(e),e.click(),document.body.removeChild(e),this.completeCallback(),(0,l.GM)(this.id)}}]),e}(),p=function(e){var n=e.split(".").pop();return n?(n=n.toLowerCase(),["jif","jfif","apng","avif","svg","webp","bmp","ico","jpg","jpe","jpeg","gif","png","heic"].includes(n)?"image":["pdf"].includes(n)?"text":["wav","mp3","alac","aiff","dsd","pcm"].includes(n)?"audio":["mp4","avi","mpg","webm","mov","flv","mkv","wmv","avchd","mpeg-4"].includes(n)?"video":"none"):"none"},x=function(e){switch(e){case"name":return function(e,n){return e.name.localeCompare(n.name)};case"last_modified":return function(e,n){return new Date(e.last_modified).getTime()-new Date(n.last_modified).getTime()};case"size":return function(e,n){return(e.size||-1)-(n.size||-1)}}},b=function(e,n,t){if(0===t.length)return null;var i=t.filter((function(n){return n.resource.endsWith(":".concat(e))||n.resource.includes(":".concat(e,"/"))}));if(0===i.length)return null;var o=[],a=n.split("/");return i.forEach((function(e){var n=(e.resource.split(":").pop()||"").split("/");n.length>1&&n.every((function(e,n){return"*"!==e&&((!a[n]||a[n]===e)&&(a[n]||o.push({name:"".concat(e,"/"),size:0,last_modified:"",version_id:""}),!0))})),"StringEquals"!==e.conditionOperator&&"StringLike"!==e.conditionOperator||e.prefixes.forEach((function(e){if(""!==e){var n=e.split("/"),t=[];n.every((function(e,n){return!e.includes("*")&&""!==e&&(e!==a[n]?(o.push({name:"".concat(t.join("/")).concat(t.length>0?"/":"").concat(e,"/"),size:0,last_modified:"",version_id:""}),!1):(""!==e&&t.push(e),!0))}))}}))})),o}},75578:function(e,n,t){var i=t(1413),o=t(72791),a=t(80184);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t){return(0,a.jsx)(o.Suspense,{fallback:n,children:(0,a.jsx)(e,(0,i.Z)({},t))})}}},34866:function(e,n,t){var i=t(1413),o=t(72791),a=t(61889),r=t(94454),s=t(30829),c=t(20068),l=t(11135),d=t(25787),u=t(23814),h=t(29945),f=t(80184);n.Z=(0,d.Z)((function(e){return(0,l.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u.YI),u.Hr),u.lM),{},{fieldContainer:(0,i.Z)((0,i.Z)({},u.YI.fieldContainer),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",margin:"15px 0",marginBottom:0,flexBasis:"initial",flexWrap:"nowrap"}),noTopMargin:{marginTop:0}}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,l=e.id,d=e.name,u=e.checked,m=void 0!==u&&u,p=e.disabled,x=void 0!==p&&p,b=e.noTopMargin,v=void 0!==b&&b,j=e.tooltip,g=void 0===j?"":j,Z=e.overrideLabelClasses,_=void 0===Z?"":Z,S=e.overrideCheckboxStyles,C=e.classes,w=e.className;return(0,f.jsx)(o.Fragment,{children:(0,f.jsxs)(a.ZP,{item:!0,xs:12,className:"".concat(C.fieldContainer," ").concat(v?C.noTopMargin:""," ").concat(w||""),children:[(0,f.jsx)("div",{children:(0,f.jsx)(r.Z,{name:d,id:l,value:i,color:"primary",inputProps:{"aria-label":"secondary checkbox"},checked:m,onChange:t,checkedIcon:(0,f.jsx)("span",{className:C.checkedIcon}),icon:(0,f.jsx)("span",{className:C.unCheckedIcon}),disabled:x,disableRipple:!0,disableFocusRipple:!0,focusRipple:!1,centerRipple:!1,disableTouchRipple:!0,style:S||{}})}),""!==n&&(0,f.jsxs)(s.Z,{htmlFor:l,className:"".concat(C.noMinWidthLabel," ").concat(_),children:[(0,f.jsx)("span",{children:n}),""!==g&&(0,f.jsx)("div",{className:C.tooltipContainer,children:(0,f.jsx)(c.Z,{title:g,placement:"top-start",children:(0,f.jsx)("div",{className:C.tooltip,children:(0,f.jsx)(h.byK,{})})})})]})]})})}))},81159:function(e,n,t){var i=t(4942),o=t(1413),a=t(72791),r=t(11135),s=t(25787),c=t(9955),l=t(30829),d=t(20068),u=t(20890),h=t(61889),f=t(23814),m=t(29945),p=t(28182),x=t(80184),b=(0,s.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(c.Z);n.Z=(0,s.Z)((function(e){return(0,r.Z)((0,o.Z)((0,o.Z)({indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},f.OR),f.YI))}))((function(e){var n=e.label,t=void 0===n?"":n,r=e.onChange,s=e.value,c=e.id,f=e.name,v=e.checked,j=void 0!==v&&v,g=e.disabled,Z=void 0!==g&&g,_=e.switchOnly,S=void 0!==_&&_,C=e.tooltip,w=void 0===C?"":C,y=e.description,T=void 0===y?"":y,k=e.classes,E=e.indicatorLabels,N=e.extraInputProps,F=void 0===N?{}:N,I=(0,x.jsxs)(a.Fragment,{children:[!S&&(0,x.jsx)("span",{className:(0,p.Z)(k.indicatorLabel,(0,i.Z)({},k.indicatorLabelOn,!j)),children:E&&E.length>1?E[1]:"OFF"}),(0,x.jsx)(b,{checked:j,onChange:r,color:"primary",name:f,inputProps:(0,o.Z)({"aria-label":"primary checkbox"},F),disabled:Z,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:s,id:c}),!S&&(0,x.jsx)("span",{className:(0,p.Z)(k.indicatorLabel,(0,i.Z)({},k.indicatorLabelOn,j)),children:E?E[0]:"ON"})]});return S?I:(0,x.jsx)("div",{children:(0,x.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,x.jsx)(h.ZP,{item:!0,xs:12,sm:8,md:8,children:""!==t&&(0,x.jsxs)(l.Z,{htmlFor:c,className:k.inputLabel,children:[(0,x.jsx)("span",{children:t}),""!==w&&(0,x.jsx)("div",{className:k.tooltipContainer,children:(0,x.jsx)(d.Z,{title:w,placement:"top-start",children:(0,x.jsx)("div",{className:k.tooltip,children:(0,x.jsx)(m.byK,{})})})})]})}),(0,x.jsx)(h.ZP,{item:!0,xs:12,sm:""!==t?4:12,md:""!==t?4:12,textAlign:"right",justifyContent:"end",className:k.switchContainer,children:I}),""!==T&&(0,x.jsx)(h.ZP,{item:!0,xs:12,textAlign:"left",children:(0,x.jsx)(u.Z,{component:"p",className:k.fieldDescription,children:T})})]})})}))},21435:function(e,n,t){var i=t(29439),o=t(1413),a=t(72791),r=t(27391),s=t(61889),c=t(30829),l=t(20068),d=t(13400),u=t(20165),h=t(3579),f=t(11135),m=t(72455),p=t(25787),x=t(23814),b=t(29945),v=t(28182),j=t(80184),g=(0,m.Z)((function(e){return(0,f.Z)((0,o.Z)({},x.gM))}));function Z(e){var n=g();return(0,j.jsx)(r.Z,(0,o.Z)({InputProps:{classes:n}},e))}n.Z=(0,p.Z)((function(e){return(0,f.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},x.YI),x.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var n=e.label,t=e.onChange,r=e.value,f=e.id,m=e.name,p=e.type,x=void 0===p?"text":p,g=e.autoComplete,_=void 0===g?"off":g,S=e.disabled,C=void 0!==S&&S,w=e.multiline,y=void 0!==w&&w,T=e.tooltip,k=void 0===T?"":T,E=e.index,N=void 0===E?0:E,F=e.error,I=void 0===F?"":F,O=e.required,L=void 0!==O&&O,B=e.placeholder,P=void 0===B?"":B,A=e.min,D=e.max,R=e.overlayId,U=e.overlayIcon,z=void 0===U?null:U,M=e.overlayObject,G=void 0===M?null:M,K=e.extraInputProps,W=void 0===K?{}:K,H=e.overlayAction,V=e.noLabelMinWidth,J=void 0!==V&&V,Y=e.pattern,q=void 0===Y?"":Y,$=e.autoFocus,X=void 0!==$&&$,Q=e.classes,ee=e.className,ne=void 0===ee?"":ee,te=e.onKeyPress,ie=e.onFocus,oe=e.onPaste,ae=(0,o.Z)({"data-index":N},W),re=(0,a.useState)(!1),se=(0,i.Z)(re,2),ce=se[0],le=se[1];"number"===x&&A&&(ae.min=A),"number"===x&&D&&(ae.max=D),""!==q&&(ae.pattern=q);var de=z,ue=x;return"password"===x&&null===z&&(de=ce?(0,j.jsx)(u.Z,{}):(0,j.jsx)(h.Z,{}),ue=ce?"text":"password"),(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)(s.ZP,{container:!0,className:(0,v.Z)(""!==ne?ne:"",""!==I?Q.errorInField:Q.inputBoxContainer),children:[""!==n&&(0,j.jsxs)(c.Z,{htmlFor:f,className:J?Q.noMinWidthLabel:Q.inputLabel,children:[(0,j.jsxs)("span",{children:[n,L?"*":""]}),""!==k&&(0,j.jsx)("div",{className:Q.tooltipContainer,children:(0,j.jsx)(l.Z,{title:k,placement:"top-start",children:(0,j.jsx)("div",{className:Q.tooltip,children:(0,j.jsx)(b.byK,{})})})})]}),(0,j.jsxs)("div",{className:Q.textBoxContainer,children:[(0,j.jsx)(Z,{id:f,name:m,fullWidth:!0,value:r,autoFocus:X,disabled:C,onChange:t,type:ue,multiline:y,autoComplete:_,inputProps:ae,error:""!==I,helperText:I,placeholder:P,className:Q.inputRebase,onKeyPress:te,onFocus:ie,onPaste:oe}),de&&(0,j.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,j.jsx)(d.Z,{onClick:H?function(){H()}:function(){return le(!ce)},id:R,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:de})}),G&&(0,j.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==n?"withLabel":""),children:G})]})]})})}))},90673:function(e,n,t){var i=t(1413),o=t(72791),a=t(61889),r=t(76098),s=t(30829),c=t(20068),l=t(68096),d=t(58406),u=t(77865),h=t(11135),f=t(25787),m=t(23814),p=t(29945),x=t(80184),b=(0,f.Z)((function(e){return(0,h.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(r.ZP);n.Z=(0,f.Z)((function(e){return(0,h.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},m.YI),m.Hr),{},{fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var n=e.classes,t=e.id,i=e.name,r=e.onChange,h=e.options,f=e.label,m=e.tooltip,v=void 0===m?"":m,j=e.value,g=e.disabled,Z=void 0!==g&&g;return(0,x.jsx)(o.Fragment,{children:(0,x.jsxs)(a.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==f&&(0,x.jsxs)(s.Z,{htmlFor:t,className:n.inputLabel,children:[(0,x.jsx)("span",{children:f}),""!==v&&(0,x.jsx)("div",{className:n.tooltipContainer,children:(0,x.jsx)(c.Z,{title:v,placement:"top-start",children:(0,x.jsx)("div",{className:n.tooltip,children:(0,x.jsx)(p.byK,{})})})})]}),(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)(d.Z,{id:t,name:i,value:j,onChange:r,input:(0,x.jsx)(b,{}),disabled:Z,children:h.map((function(e){return(0,x.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(i,"-").concat(e.label))}))})})]})})}))},73669:function(e,n,t){var i=t(29439),o=t(72791),a=t(64554),r=t(29945),s=t(21435),c=t(80184);n.Z=function(e){var n=e.value,t=(0,o.useState)(!1),l=(0,i.Z)(t,2),d=l[0],u=l[1];return(0,c.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",flexFlow:{sm:"row",xs:"column"}},children:[(0,c.jsx)(s.Z,{id:"inspect-dec-key",name:"inspect-dec-key",placeholder:"",label:"",type:d?"text":"password",onChange:function(){},value:n,overlayIcon:(0,c.jsx)(r.TIy,{}),extraInputProps:{readOnly:!0},overlayAction:function(){return navigator.clipboard.writeText(n)}}),(0,c.jsx)(r.zxk,{id:"show-hide-key",style:{marginLeft:"10px"},variant:"callAction",onClick:function(){return u(!d)},label:"Show/Hide"})]})}},21639:function(e,n,t){t.d(n,{KE:function(){return r},LQ:function(){return i},V2:function(){return a},g4:function(){return o}});var i=function(e,n){return e.accessKey>n.accessKey?1:e.accessKey<n.accessKey?-1:0},o=function(e,n){return e.name>n.name?1:e.name<n.name?-1:0},a=function(e,n){return e>n?1:e<n?-1:0},r=function(e,n){return e.policy>n.policy?1:e.policy<n.policy?-1:0}},26824:function(e,n,t){t.d(n,{HE:function(){return a},V9:function(){return i},ci:function(){return o},x2:function(){return r}});var i=1006,o=1008,a=1011,r=function(e){var n="ws";return"https:"===e&&(n="wss"),n}}}]);
//# sourceMappingURL=5708.6a38ebfa.chunk.js.map