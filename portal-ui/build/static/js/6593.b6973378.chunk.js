"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6593],{24065:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var s=t(29439),o=t(1413),a=t(72791),i=t(75952),l=t(78687),r=t(57689),c=t(11135),d=t(61889),u=t(81207),x=t(64554),p=t(92983),h=t(21639),m=t(23814),f=t(25787),v=t(56028),Z=t(21435),j=t(40986),g=t(3579),b=t(20165),y=t(87995),w=t(81551),C=t(80184),S=(0,f.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},m.ID),m.DF),m.bK),m.Bz))}))((function(e){var n=e.classes,t=e.open,o=e.closeModal,l=(0,w.TL)(),r=(0,a.useState)(""),c=(0,s.Z)(r,2),x=c[0],p=c[1],h=(0,a.useState)(""),m=(0,s.Z)(h,2),f=m[0],S=m[1],P=(0,a.useState)(""),A=(0,s.Z)(P,2),k=A[0],N=A[1],F=(0,a.useState)(!1),I=(0,s.Z)(F,2),M=I[0],z=I[1],R=(0,a.useState)(!1),L=(0,s.Z)(R,2),T=L[0],K=L[1],E=localStorage.getItem("userLoggedIn")||"";return t?(0,C.jsxs)(v.Z,{title:"Change Password for ".concat(E),modalOpen:t,onClose:function(){S(""),N(""),p(""),o()},titleIcon:(0,C.jsx)(i.IaT,{}),children:[(0,C.jsx)("div",{children:"This will change your Console password. Please note your new password down, as it will be required to log into Console after this session."}),(0,C.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),f===k){if(f.length<8)l((0,y.zb)({errorMessage:"Passwords must be at least 8 characters long",detailedError:""}));else if(!M){z(!0);var n={current_secret_key:x,new_secret_key:f};u.Z.invoke("POST","/api/v1/account/change-password",n).then((function(){z(!1),S(""),N(""),p(""),o()})).catch((function(e){z(!1),S(""),N(""),p(""),l((0,y.zb)(e))}))}}else l((0,y.zb)({errorMessage:"New passwords don't match",detailedError:""}))}(e)},children:(0,C.jsxs)(d.ZP,{container:!0,children:[(0,C.jsxs)(d.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,C.jsx)(d.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,C.jsx)(Z.Z,{id:"current-password",name:"current-password",onChange:function(e){p(e.target.value)},label:"Current Password",type:T?"text":"password",value:x,overlayAction:function(){return K(!T)},overlayIcon:T?(0,C.jsx)(b.Z,{}):(0,C.jsx)(g.Z,{})})}),(0,C.jsx)(d.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,C.jsx)(Z.Z,{id:"new-password",name:"new-password",onChange:function(e){S(e.target.value)},label:"New Password",type:T?"text":"password",value:f,overlayAction:function(){return K(!T)},overlayIcon:T?(0,C.jsx)(b.Z,{}):(0,C.jsx)(g.Z,{})})}),(0,C.jsx)(d.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,C.jsx)(Z.Z,{id:"re-new-password",name:"re-new-password",onChange:function(e){N(e.target.value)},label:"Type New Password Again",type:T?"text":"password",value:k,overlayAction:function(){return K(!T)},overlayIcon:T?(0,C.jsx)(b.Z,{}):(0,C.jsx)(g.Z,{})})})]}),(0,C.jsx)(d.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:(0,C.jsx)(i.zxk,{id:"save-password-modal",type:"submit",variant:"callAction",color:"primary",disabled:M||!(x.length>0&&f.length>0&&k.length>0),label:"Save"})}),M&&(0,C.jsx)(d.ZP,{item:!0,xs:12,children:(0,C.jsx)(j.Z,{})})]})})]}):null})),P=t(59114),A=t(75578),k=t(56087),N=t(38442),F=t(58493),I=t(18303),M=t(14048),z=t(72455),R=t(46078),L=t(27454),T=t(47974),K=(0,A.Z)(a.lazy((function(){return t.e(3956).then(t.bind(t,23956))}))),E=(0,z.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},m.OR),m.qg),{},{searchField:(0,o.Z)((0,o.Z)({},m.qg.searchField),{},{marginRight:"auto",maxWidth:380})},m.VX))})),_=function(){var e=(0,w.TL)(),n=(0,r.s0)(),t=E(),o=(0,l.v9)(R.$4),c=(0,a.useState)([]),m=(0,s.Z)(c,2),f=m[0],v=m[1],Z=(0,a.useState)(!1),j=(0,s.Z)(Z,2),g=j[0],b=j[1],A=(0,a.useState)(""),z=(0,s.Z)(A,2),_=z[0],O=z[1],D=(0,a.useState)(!1),B=(0,s.Z)(D,2),H=B[0],W=B[1],q=(0,a.useState)(null),V=(0,s.Z)(q,2),Y=V[0],X=V[1],G=(0,a.useState)(!1),U=(0,s.Z)(G,2),J=U[0],$=U[1],Q=(0,a.useState)([]),ee=(0,s.Z)(Q,2),ne=ee[0],te=ee[1],se=(0,a.useState)(!1),oe=(0,s.Z)(se,2),ae=oe[0],ie=oe[1],le=(0,a.useState)(!1),re=(0,s.Z)(le,2),ce=re[0],de=re[1],ue=o&&o.includes("external-idp")||!1;(0,a.useEffect)((function(){xe()}),[]),(0,a.useEffect)((function(){g&&u.Z.invoke("GET","/api/v1/service-accounts").then((function(e){var n=e.sort(h.V2);b(!1),v(n)})).catch((function(n){e((0,y.Ih)(n)),b(!1)}))}),[g,b,v,e]);var xe=function(){b(!0)},pe=[{type:"view",onClick:function(e){X(e),de(!0)}},{type:"delete",onClick:function(e){X(e),W(!0)}}],he=f.filter((function(e){return e.toLowerCase().includes(_.toLowerCase())}));return(0,C.jsxs)(a.Fragment,{children:[H&&(0,C.jsx)(K,{deleteOpen:H,selectedServiceAccount:Y,closeDeleteModalAndRefresh:function(e){!function(e){W(!1),e&&xe()}(e)}}),ae&&(0,C.jsx)(I.Z,{deleteOpen:ae,selectedSAs:ne,closeDeleteModalAndRefresh:function(n){ie(!1),n&&(e((0,y.y1)("Access keys deleted successfully.")),te([]),b(!0))}}),ce&&(0,C.jsx)(M.Z,{open:ce,selectedAccessKey:Y,closeModalAndRefresh:function(){de(!1),b(!0)}}),(0,C.jsx)(S,{open:J,closeModal:function(){return $(!1)}}),(0,C.jsx)(T.Z,{label:"Access Keys"}),(0,C.jsx)(i.Xgh,{children:(0,C.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,C.jsxs)(d.ZP,{item:!0,xs:12,className:t.actionsTray,children:[(0,C.jsx)(P.Z,{placeholder:"Search Access Keys",onChange:O,overrideClass:t.searchField,value:_}),(0,C.jsxs)(x.Z,{sx:{display:"flex"},children:[" ",(0,C.jsx)(L.Z,{tooltip:"Delete Selected",children:(0,C.jsx)(i.zxk,{id:"delete-selected-accounts",onClick:function(){ie(!0)},label:"Delete Selected",icon:(0,C.jsx)(i.pJl,{}),disabled:0===ne.length,variant:"secondary"})}),(0,C.jsx)(N.s,{scopes:[k.Ft.ADMIN_CREATE_USER],resource:k.C3,matchAll:!0,errorProps:{disabled:!0},children:(0,C.jsx)(i.zxk,{id:"change-password",onClick:function(){return $(!0)},label:"Change Password",icon:(0,C.jsx)(i.tvm,{}),variant:"regular",disabled:ue})}),(0,C.jsx)(i.zxk,{id:"create-service-account",onClick:function(){n("".concat(k.gA.ACCOUNT_ADD))},label:"Create access key",icon:(0,C.jsx)(i.dtP,{}),variant:"callAction"})]})]}),(0,C.jsx)(d.ZP,{item:!0,xs:12,className:t.tableBlock,children:(0,C.jsx)(p.Z,{isLoading:g,records:he,entityName:"Access Keys",idField:"",columns:[{label:"Access Key",elementKey:""}],itemActions:pe,selectedItems:ne,onSelect:function(e){return(0,F._0)(e,te,ne)},onSelectAll:function(){ne.length!==f.length?te(f):te([])}})}),(0,C.jsx)(d.ZP,{item:!0,xs:12,marginTop:"15px",children:(0,C.jsx)(i.KfX,{title:"Learn more about ACCESS KEYS",iconComponent:(0,C.jsx)(i.frP,{}),help:(0,C.jsxs)(a.Fragment,{children:["MinIO access keys are child identities of an authenticated MinIO user, including externally managed identities. Each access key inherits its privileges based on the policies attached to it\u2019s parent user or those groups in which the parent user has membership. Access Keys also support an optional inline policy which further restricts access to a subset of actions and resources available to the parent user.",(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),"You can learn more at our"," ",(0,C.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/identity-access-management/minio-user-management.html?ref=con#service-accounts",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})})]})})]})}},92217:function(e,n,t){var s=t(1413),o=t(72791),a=t(61889),i=t(30829),l=t(20068),r=t(64554),c=t(11135),d=t(25787),u=t(75952),x=t(23814),p=t(78029),h=t.n(p),m=t(9534),f=t(27454),v=t(80184);n.Z=(0,d.Z)((function(e){return(0,c.Z)((0,s.Z)({},x.YI))}))((function(e){var n=e.value,t=e.label,s=void 0===t?"":t,c=e.tooltip,d=void 0===c?"":c,x=e.mode,p=void 0===x?"json":x,Z=e.classes,j=e.onBeforeChange,g=(e.readOnly,e.editorHeight),b=void 0===g?"250px":g;return(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(a.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,v.jsxs)(i.Z,{className:Z.inputLabel,children:[(0,v.jsx)("span",{children:s}),""!==d&&(0,v.jsx)("div",{className:Z.tooltipContainer,children:(0,v.jsx)(l.Z,{title:d,placement:"top-start",children:(0,v.jsx)("div",{className:Z.tooltip,children:(0,v.jsx)(u.byK,{})})})})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:12,style:{maxHeight:b,overflow:"auto",border:"1px solid #eaeaea"},children:(0,v.jsx)(m.Z,{value:n,language:p,onChange:function(e){j(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:b||"initial",color:"#000000"}})}),(0,v.jsx)(a.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,v.jsx)(r.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,v.jsx)(f.Z,{tooltip:"Copy to Clipboard",children:(0,v.jsx)(h(),{text:n,children:(0,v.jsx)(u.zxk,{type:"button",id:"copy-code-mirror",icon:(0,v.jsx)(u.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},21435:function(e,n,t){var s=t(29439),o=t(1413),a=t(72791),i=t(27391),l=t(61889),r=t(30829),c=t(20068),d=t(13400),u=t(20165),x=t(3579),p=t(11135),h=t(72455),m=t(25787),f=t(23814),v=t(75952),Z=t(28182),j=t(80184),g=(0,h.Z)((function(e){return(0,p.Z)((0,o.Z)({},f.gM))}));function b(e){var n=g();return(0,j.jsx)(i.Z,(0,o.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,p.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},f.YI),f.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,p=e.id,h=e.name,m=e.type,f=void 0===m?"text":m,g=e.autoComplete,y=void 0===g?"off":g,w=e.disabled,C=void 0!==w&&w,S=e.multiline,P=void 0!==S&&S,A=e.tooltip,k=void 0===A?"":A,N=e.index,F=void 0===N?0:N,I=e.error,M=void 0===I?"":I,z=e.required,R=void 0!==z&&z,L=e.placeholder,T=void 0===L?"":L,K=e.min,E=e.max,_=e.overlayId,O=e.overlayIcon,D=void 0===O?null:O,B=e.overlayObject,H=void 0===B?null:B,W=e.extraInputProps,q=void 0===W?{}:W,V=e.overlayAction,Y=e.noLabelMinWidth,X=void 0!==Y&&Y,G=e.pattern,U=void 0===G?"":G,J=e.autoFocus,$=void 0!==J&&J,Q=e.classes,ee=e.className,ne=void 0===ee?"":ee,te=e.onKeyPress,se=e.onFocus,oe=e.onPaste,ae=(0,o.Z)({"data-index":F},q),ie=(0,a.useState)(!1),le=(0,s.Z)(ie,2),re=le[0],ce=le[1];"number"===f&&K&&(ae.min=K),"number"===f&&E&&(ae.max=E),""!==U&&(ae.pattern=U);var de=D,ue=f;return"password"===f&&null===D&&(de=re?(0,j.jsx)(u.Z,{}):(0,j.jsx)(x.Z,{}),ue=re?"text":"password"),(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)(l.ZP,{container:!0,className:(0,Z.Z)(""!==ne?ne:"",""!==M?Q.errorInField:Q.inputBoxContainer),children:[""!==n&&(0,j.jsxs)(r.Z,{htmlFor:p,className:X?Q.noMinWidthLabel:Q.inputLabel,children:[(0,j.jsxs)("span",{children:[n,R?"*":""]}),""!==k&&(0,j.jsx)("div",{className:Q.tooltipContainer,children:(0,j.jsx)(c.Z,{title:k,placement:"top-start",children:(0,j.jsx)("div",{className:Q.tooltip,children:(0,j.jsx)(v.byK,{})})})})]}),(0,j.jsxs)("div",{className:Q.textBoxContainer,children:[(0,j.jsx)(b,{id:p,name:h,fullWidth:!0,value:i,autoFocus:$,disabled:C,onChange:t,type:ue,multiline:P,autoComplete:y,inputProps:ae,error:""!==M,helperText:M,placeholder:T,className:Q.inputRebase,onKeyPress:te,onFocus:se,onPaste:oe}),de&&(0,j.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,j.jsx)(d.Z,{onClick:V?function(){V()}:function(){return ce(!re)},id:_,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:de})}),H&&(0,j.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==n?"withLabel":""),children:H})]})]})})}))},3579:function(e,n,t){var s=t(64836);n.Z=void 0;var o=s(t(45649)),a=t(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");n.Z=i},20165:function(e,n,t){var s=t(64836);n.Z=void 0;var o=s(t(45649)),a=t(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");n.Z=i}}]);
//# sourceMappingURL=6593.b6973378.chunk.js.map