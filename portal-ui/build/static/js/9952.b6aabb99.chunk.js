"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9952],{99952:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var a=n(29439),i=n(1413),o=n(72791),s=n(61889),r=n(40986),l=n(29945),c=n(11135),d=n(25787),u=n(23814),p=n(81207),m=n(56028),v=n(90673),x=n(87995),f=n(81551),h=n(56087),Z=n(38442),b=n(27454),g=n(51691),y=n(21435),j=n(9505),C=n(23508),k=n(40214),S=n(80184),P=function(e){var t=e.closeAddModalAndRefresh,n=e.addOpen,i=(0,f.TL)(),r=(0,j.Z)((function(){return t(!0)}),(function(e){t(!1),i((0,x.Ih)(e))})),l=(0,a.Z)(r,2),c=l[0],d=l[1],u=(0,o.useState)(""),p=(0,a.Z)(u,2),m=p[0],v=p[1];return(0,S.jsx)(C.Z,{title:"",confirmText:"Create",isOpen:n,isLoading:c,onConfirm:function(){d("POST","/api/v1/kms/keys/",{key:m})},onClose:function(){return t(!1)},confirmButtonProps:{disabled:-1!==m.indexOf(" ")||""===m||c,variant:"callAction"},confirmationContent:(0,S.jsxs)(g.Z,{children:[(0,S.jsx)(k.Z,{helpText:"Create Key",contents:["Create a new cryptographic key in the Key Management Service server connected to MINIO."]}),(0,S.jsx)(s.ZP,{item:!0,xs:12,marginTop:3,children:(0,S.jsx)(y.Z,{id:"key-name",name:"key-name",label:"Key Name",autoFocus:!0,value:m,error:-1!==m.indexOf(" ")?"Key name cannot contain spaces":"",onChange:function(e){v(e.target.value)}})})]})})},F=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)({},u.ID),u.DF))}))((function(e){var t=e.classes,n=e.open,i=e.encryptionCfg,c=e.selectedBucket,d=e.closeModalAndRefresh,u=(0,f.TL)(),g=(0,o.useState)(!1),y=(0,a.Z)(g,2),j=y[0],C=y[1],k=(0,o.useState)(""),F=(0,a.Z)(k,2),I=F[0],w=F[1],O=(0,o.useState)("disabled"),N=(0,a.Z)(O,2),M=N[0],T=N[1],R=(0,o.useState)([]),B=(0,a.Z)(R,2),A=B[0],K=B[1],L=(0,o.useState)(!1),z=(0,a.Z)(L,2),D=z[0],E=z[1],V=(0,o.useState)(!1),G=(0,a.Z)(V,2),W=G[0],H=G[1];(0,o.useEffect)((function(){i&&("AES256"===i.algorithm?T("sse-s3"):(T("sse-kms"),w(i.kmsMasterKeyID)))}),[i]),(0,o.useEffect)((function(){"sse-kms"===M&&p.Z.invoke("GET","/api/v1/kms/keys").then((function(e){K(e.results),E(!1)})).catch((function(e){E(!1),u((0,x.zb)(e))}))}),[M,D,u]);return(0,S.jsxs)(o.Fragment,{children:[W&&(0,S.jsx)(P,{addOpen:W,closeAddModalAndRefresh:function(e){H(!1),E(!0)}}),(0,S.jsx)(m.Z,{modalOpen:n,onClose:function(){d()},title:"Enable Bucket Encryption",titleIcon:(0,S.jsx)(l.Xn4,{}),children:(0,S.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j||("disabled"===M?p.Z.invoke("POST","/api/v1/buckets/".concat(c,"/encryption/disable")).then((function(){C(!1),d()})).catch((function(e){C(!1),u((0,x.zb)(e))})):p.Z.invoke("POST","/api/v1/buckets/".concat(c,"/encryption/enable"),{encType:M,kmsKeyID:I}).then((function(){C(!1),d()})).catch((function(e){C(!1),u((0,x.zb)(e))})))},children:(0,S.jsxs)(s.ZP,{container:!0,children:[(0,S.jsxs)(s.ZP,{item:!0,xs:12,className:t.modalFormScrollable,children:[(0,S.jsx)(s.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,S.jsx)(v.Z,{onChange:function(e){T(e.target.value)},id:"select-encryption-type",name:"select-encryption-type",label:"Encryption Type",value:M,options:[{label:"Disabled",value:"disabled"},{label:"SSE-S3",value:"sse-s3"},{label:"SSE-KMS",value:"sse-kms"}]})}),"sse-kms"===M&&(0,S.jsxs)(s.ZP,{item:!0,xs:12,className:t.formFieldRow,display:"flex",children:[(0,S.jsx)(v.Z,{onChange:function(e){w(e.target.value)},id:"select-kms-key-id",name:"select-kms-key-id",label:"KMS Key ID",value:I,options:A.map((function(e){return{label:e.name,value:e.name}}))}),(0,S.jsx)(s.ZP,{marginLeft:1,children:(0,S.jsx)(Z.s,{scopes:[h.Ft.KMS_IMPORT_KEY],resource:h.C3,errorProps:{disabled:!0},children:(0,S.jsx)(b.Z,{tooltip:"Add key",children:(0,S.jsx)(l.zxk,{id:"import-key",variant:"regular",icon:(0,S.jsx)(l.dtP,{}),onClick:function(e){H(!0),e.preventDefault()}})})})})]})]}),(0,S.jsxs)(s.ZP,{item:!0,xs:12,className:t.modalButtonBar,children:[(0,S.jsx)(l.zxk,{id:"cancel",type:"submit",variant:"regular",onClick:function(){d()},disabled:j,label:"Cancel"}),(0,S.jsx)(l.zxk,{id:"save",type:"submit",variant:"callAction",disabled:j,label:"Save"})]}),j&&(0,S.jsx)(s.ZP,{item:!0,xs:12,children:(0,S.jsx)(r.Z,{})})]})})})]})}))},21435:function(e,t,n){var a=n(29439),i=n(1413),o=n(72791),s=n(27391),r=n(61889),l=n(30829),c=n(20068),d=n(13400),u=n(20165),p=n(3579),m=n(11135),v=n(72455),x=n(25787),f=n(23814),h=n(29945),Z=n(28182),b=n(80184),g=(0,v.Z)((function(e){return(0,m.Z)((0,i.Z)({},f.gM))}));function y(e){var t=g();return(0,b.jsx)(s.Z,(0,i.Z)({InputProps:{classes:t}},e))}t.Z=(0,x.Z)((function(e){return(0,m.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},f.YI),f.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,n=e.onChange,s=e.value,m=e.id,v=e.name,x=e.type,f=void 0===x?"text":x,g=e.autoComplete,j=void 0===g?"off":g,C=e.disabled,k=void 0!==C&&C,S=e.multiline,P=void 0!==S&&S,F=e.tooltip,I=void 0===F?"":F,w=e.index,O=void 0===w?0:w,N=e.error,M=void 0===N?"":N,T=e.required,R=void 0!==T&&T,B=e.placeholder,A=void 0===B?"":B,K=e.min,L=e.max,z=e.overlayId,D=e.overlayIcon,E=void 0===D?null:D,V=e.overlayObject,G=void 0===V?null:V,W=e.extraInputProps,H=void 0===W?{}:W,q=e.overlayAction,_=e.noLabelMinWidth,Y=void 0!==_&&_,X=e.pattern,J=void 0===X?"":X,Q=e.autoFocus,U=void 0!==Q&&Q,$=e.classes,ee=e.className,te=void 0===ee?"":ee,ne=e.onKeyPress,ae=e.onFocus,ie=e.onPaste,oe=(0,i.Z)({"data-index":O},H),se=(0,o.useState)(!1),re=(0,a.Z)(se,2),le=re[0],ce=re[1];"number"===f&&K&&(oe.min=K),"number"===f&&L&&(oe.max=L),""!==J&&(oe.pattern=J);var de=E,ue=f;return"password"===f&&null===E&&(de=le?(0,b.jsx)(u.Z,{}):(0,b.jsx)(p.Z,{}),ue=le?"text":"password"),(0,b.jsx)(o.Fragment,{children:(0,b.jsxs)(r.ZP,{container:!0,className:(0,Z.Z)(""!==te?te:"",""!==M?$.errorInField:$.inputBoxContainer),children:[""!==t&&(0,b.jsxs)(l.Z,{htmlFor:m,className:Y?$.noMinWidthLabel:$.inputLabel,children:[(0,b.jsxs)("span",{children:[t,R?"*":""]}),""!==I&&(0,b.jsx)("div",{className:$.tooltipContainer,children:(0,b.jsx)(c.Z,{title:I,placement:"top-start",children:(0,b.jsx)("div",{className:$.tooltip,children:(0,b.jsx)(h.byK,{})})})})]}),(0,b.jsxs)("div",{className:$.textBoxContainer,children:[(0,b.jsx)(y,{id:m,name:v,fullWidth:!0,value:s,autoFocus:U,disabled:k,onChange:n,type:ue,multiline:P,autoComplete:j,inputProps:oe,error:""!==M,helperText:M,placeholder:A,className:$.inputRebase,onKeyPress:ne,onFocus:ae,onPaste:ie}),de&&(0,b.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==t?"withLabel":""),children:(0,b.jsx)(d.Z,{onClick:q?function(){q()}:function(){return ce(!le)},id:z,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:de})}),G&&(0,b.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==t?"withLabel":""),children:G})]})]})})}))},90673:function(e,t,n){var a=n(1413),i=n(72791),o=n(61889),s=n(76098),r=n(30829),l=n(20068),c=n(68096),d=n(58406),u=n(77865),p=n(11135),m=n(25787),v=n(23814),x=n(29945),f=n(80184),h=(0,m.Z)((function(e){return(0,p.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(s.ZP);t.Z=(0,m.Z)((function(e){return(0,p.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},v.YI),v.Hr),{},{fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var t=e.classes,n=e.id,a=e.name,s=e.onChange,p=e.options,m=e.label,v=e.tooltip,Z=void 0===v?"":v,b=e.value,g=e.disabled,y=void 0!==g&&g;return(0,f.jsx)(i.Fragment,{children:(0,f.jsxs)(o.ZP,{item:!0,xs:12,className:t.fieldContainer,children:[""!==m&&(0,f.jsxs)(r.Z,{htmlFor:n,className:t.inputLabel,children:[(0,f.jsx)("span",{children:m}),""!==Z&&(0,f.jsx)("div",{className:t.tooltipContainer,children:(0,f.jsx)(l.Z,{title:Z,placement:"top-start",children:(0,f.jsx)("div",{className:t.tooltip,children:(0,f.jsx)(x.byK,{})})})})]}),(0,f.jsx)(c.Z,{fullWidth:!0,children:(0,f.jsx)(d.Z,{id:n,name:a,value:b,onChange:s,input:(0,f.jsx)(h,{}),disabled:y,children:p.map((function(e){return(0,f.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(a,"-").concat(e.label))}))})})]})})}))},40214:function(e,t,n){n(72791);var a=n(64554),i=n(29945),o=n(80184);t.Z=function(e){var t=e.helpText,n=e.contents;return(0,o.jsxs)(a.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px"},children:[(0,o.jsxs)(a.Z,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px",paddingBottom:"20px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,o.jsx)(i.M9A,{}),(0,o.jsx)("div",{children:t})]}),(0,o.jsx)(a.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:n.map((function(e){return(0,o.jsx)(a.Z,{sx:{paddingBottom:"20px"},children:e})}))})]})}},77865:function(e,t,n){n.d(t,{Z:function(){return P}});var a=n(4942),i=n(63366),o=n(87462),s=n(72791),r=n(28182),l=n(94419),c=n(12065),d=n(66934),u=n(31402),p=n(66199),m=n(95080),v=n(40162),x=n(42071),f=n(75878);var h=(0,f.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Z=n(96014),b=n(29849),g=n(21217);function y(e){return(0,g.Z)("MuiMenuItem",e)}var j=(0,f.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),C=n(80184),k=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],S=(0,d.ZP)(m.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,o.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,a.Z)(t,"&.".concat(j.selected),(0,a.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(j.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,a.Z)(t,"&.".concat(j.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,a.Z)(t,"&.".concat(j.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,a.Z)(t,"&.".concat(j.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,a.Z)(t,"& + .".concat(h.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,a.Z)(t,"& + .".concat(h.inset),{marginLeft:52}),(0,a.Z)(t,"& .".concat(b.Z.root),{marginTop:0,marginBottom:0}),(0,a.Z)(t,"& .".concat(b.Z.inset),{paddingLeft:36}),(0,a.Z)(t,"& .".concat(Z.Z.root),{minWidth:36}),t),!i.dense&&(0,a.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),i.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,a.Z)({},"& .".concat(Z.Z.root," svg"),{fontSize:"1.25rem"})))})),P=s.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiMenuItem"}),a=n.autoFocus,c=void 0!==a&&a,d=n.component,m=void 0===d?"li":d,f=n.dense,h=void 0!==f&&f,Z=n.divider,b=void 0!==Z&&Z,g=n.disableGutters,j=void 0!==g&&g,P=n.focusVisibleClassName,F=n.role,I=void 0===F?"menuitem":F,w=n.tabIndex,O=n.className,N=(0,i.Z)(n,k),M=s.useContext(p.Z),T=s.useMemo((function(){return{dense:h||M.dense||!1,disableGutters:j}}),[M.dense,h,j]),R=s.useRef(null);(0,v.Z)((function(){c&&R.current&&R.current.focus()}),[c]);var B,A=(0,o.Z)({},n,{dense:T.dense,divider:b,disableGutters:j}),K=function(e){var t=e.disabled,n=e.dense,a=e.divider,i=e.disableGutters,s=e.selected,r=e.classes,c={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",a&&"divider",s&&"selected"]},d=(0,l.Z)(c,y,r);return(0,o.Z)({},r,d)}(n),L=(0,x.Z)(R,t);return n.disabled||(B=void 0!==w?w:-1),(0,C.jsx)(p.Z.Provider,{value:T,children:(0,C.jsx)(S,(0,o.Z)({ref:L,role:I,tabIndex:B,component:m,focusVisibleClassName:(0,r.Z)(K.focusVisible,P),className:(0,r.Z)(K.root,O)},N,{ownerState:A,classes:K}))})}))}}]);
//# sourceMappingURL=9952.b6aabb99.chunk.js.map