"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5588],{23804:function(e,n,t){t(72791);var r=t(11135),i=t(25787),a=t(61889),u=t(80184);n.Z=(0,i.Z)((function(e){return(0,r.Z)({root:{border:"1px solid #E2E2E2",borderRadius:2,backgroundColor:"#FBFAFA",paddingLeft:25,paddingTop:31,paddingBottom:21,paddingRight:30},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:15,display:"flex",alignItems:"center","& .min-icon":{marginRight:15,height:28,width:38}},helpText:{fontSize:16,paddingLeft:5}})}))((function(e){var n=e.classes,t=e.iconComponent,r=e.title,i=e.help;return(0,u.jsx)("div",{className:n.root,children:(0,u.jsxs)(a.ZP,{container:!0,children:[(0,u.jsxs)(a.ZP,{item:!0,xs:12,className:n.leftItems,children:[t,r]}),(0,u.jsx)(a.ZP,{item:!0,xs:12,className:n.helpText,children:i})]})})}))},45588:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(29439),i=t(1413),a=t(72791),u=t(61889),c=t(36151),o=t(40986),s=t(11135),l=t(25787),d=t(23814),b=t(81207),f=t(21435),h=t(83679),m=t(45248),x=t(62666),g=t(60364);function p(e,n){return e===n}function v(e){return"function"===typeof e?function(){return e}:e}function j(e,n,t){var r=t&&t.equalityFn||p,i=function(e){var n=(0,a.useState)(v(e)),t=n[0],r=n[1];return[t,(0,a.useCallback)((function(e){return r(v(e))}),[])]}(e),u=i[0],c=i[1],o=function(e,n,t){var r=this,i=(0,a.useRef)(null),u=(0,a.useRef)(0),c=(0,a.useRef)(null),o=(0,a.useRef)([]),s=(0,a.useRef)(),l=(0,a.useRef)(),d=(0,a.useRef)(e),b=(0,a.useRef)(!0);d.current=e;var f=!n&&0!==n&&"undefined"!==typeof window;if("function"!==typeof e)throw new TypeError("Expected a function");n=+n||0;var h=!!(t=t||{}).leading,m=!("trailing"in t)||!!t.trailing,x="maxWait"in t,g=x?Math.max(+t.maxWait||0,n):null;(0,a.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var p=(0,a.useMemo)((function(){var e=function(e){var n=o.current,t=s.current;return o.current=s.current=null,u.current=e,l.current=d.current.apply(t,n)},t=function(e,n){f&&cancelAnimationFrame(c.current),c.current=f?requestAnimationFrame(e):setTimeout(e,n)},a=function(e){if(!b.current)return!1;var t=e-i.current,r=e-u.current;return!i.current||t>=n||t<0||x&&r>=g},p=function(n){return c.current=null,m&&o.current?e(n):(o.current=s.current=null,l.current)},v=function e(){var r=Date.now();if(a(r))return p(r);if(b.current){var c=r-i.current,o=r-u.current,s=n-c,l=x?Math.min(s,g-o):s;t(e,l)}},j=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var m=Date.now(),g=a(m);if(o.current=d,s.current=r,i.current=m,g){if(!c.current&&b.current)return u.current=i.current,t(v,n),h?e(i.current):l.current;if(x)return t(v,n),e(i.current)}return c.current||t(v,n),l.current};return j.cancel=function(){c.current&&(f?cancelAnimationFrame(c.current):clearTimeout(c.current)),u.current=0,o.current=i.current=s.current=c.current=null},j.isPending=function(){return!!c.current},j.flush=function(){return c.current?p(Date.now()):l.current},j}),[h,x,n,g,m,f]);return p}((0,a.useCallback)((function(e){return c(e)}),[c]),n,t),s=(0,a.useRef)(e);return r(s.current,e)||(o(e),s.current=e),[u,o]}var k=t(37516),Z=t(32291),y=t(84669),C=t(62410),B=t(74794),_=t(56578),P=t(25739),R=t(23804),F=t(50896),w=t(87995),N=t(21266),T=t(80184),E=(0,l.Z)((function(e){return(0,s.Z)((0,i.Z)({buttonContainer:{marginTop:24,textAlign:"right","& .MuiButton-root":{marginLeft:8}},error:{color:"#b53b4b",border:"1px solid #b53b4b",padding:8,borderRadius:3},alertVersioning:{border:"#E2E2E2 1px solid",backgroundColor:"#FBFAFA",borderRadius:3,display:"flex",alignItems:"center",padding:"10px",color:"#767676","& > .min-icon ":{width:20,height:20,marginRight:10}},title:{marginBottom:8},headTitle:{fontWeight:"bold",fontSize:16,paddingLeft:8},h6title:{fontWeight:"bold",color:"#000000",fontSize:20}},(0,d.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,g.I0)(),i=(0,g.v9)((function(e){return e.buckets.addBucketName})),s=(0,g.v9)((function(e){return e.buckets.addBucketVersioningEnabled})),l=(0,g.v9)((function(e){return e.buckets.addBucketLockingEnabled})),d=(0,g.v9)((function(e){return e.buckets.addBucketQuotaEnabled})),p=(0,g.v9)((function(e){return e.buckets.addBucketQuotaType})),v=(0,g.v9)((function(e){return e.buckets.addBucketQuotaSize})),E=(0,g.v9)((function(e){return e.buckets.addBucketQuotaUnit})),S=(0,g.v9)((function(e){return e.buckets.addBucketRetentionEnabled})),q=(0,g.v9)((function(e){return e.buckets.addBucketRetentionMode})),z=(0,g.v9)((function(e){return e.buckets.addBucketRetentionUnit})),M=(0,g.v9)((function(e){return e.buckets.addBucketRetentionValidity})),A=(0,g.v9)(w.N5),O=(0,g.v9)(w.gw),I=(0,a.useState)(!1),L=(0,r.Z)(I,2),V=L[0],Q=L[1],D=(0,a.useState)(!1),W=(0,r.Z)(D,2),K=W[0],U=W[1],Y=(0,a.useState)(!1),X=(0,r.Z)(Y,2),G=X[0],H=X[1],J=j(i,1e3),$=(0,r.Z)(J,1)[0];(0,a.useEffect)((function(){t((0,N.pK)($))}),[$,t]);var ee=function(){t((0,N.pK)("")),t((0,N.Og)(!1)),t((0,N.YP)(!1)),t((0,N.hN)(!1)),t((0,N.i9)("hard")),t((0,N._X)("1")),t((0,N.FB)("Ti")),t((0,N._n)(!1)),t((0,N.Tv)("compliance")),t((0,N.Mf)("days")),t((0,N.bC)(180))};return(0,a.useEffect)((function(){var e=!1;""!==i.trim()&&(e=!0),d&&e&&(""!==v.trim()&&0!==parseInt(v)||(e=!1)),s&&S||(t((0,N._n)(!1)),t((0,N.Tv)("compliance")),t((0,N.Mf)("days")),t((0,N.bC)(180))),S?(t((0,N.YP)(!0)),H(!0)):H(!1),S&&(Number.isNaN(M)||M<1)&&(e=!1),U(e)}),[i,S,l,p,v,E,d,t,M,s]),(0,T.jsxs)(a.Fragment,{children:[(0,T.jsx)(Z.Z,{label:(0,T.jsx)(y.Z,{to:"/buckets",label:"Buckets"})}),(0,T.jsx)(B.Z,{children:(0,T.jsx)(P.Z,{title:"Create Bucket",icon:(0,T.jsx)(C.wNb,{}),helpbox:(0,T.jsx)(R.Z,{iconComponent:(0,T.jsx)(C.wNb,{}),title:"Buckets",help:(0,T.jsxs)(a.Fragment,{children:["MinIO uses buckets to organize objects. A bucket is similar to a folder or directory in a filesystem, where each bucket can hold an arbitrary number of objects.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),(0,T.jsx)("b",{children:"Versioning"})," allows to keep multiple versions of the same object under the same key.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),(0,T.jsx)("b",{children:"Object Locking"})," prevents objects from being deleted. Required to support retention and legal hold. Can only be enabled at bucket creation.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),(0,T.jsx)("b",{children:"Quota"})," limits the amount of data in the bucket.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),(0,T.jsx)("b",{children:"Retention"})," imposes rules to prevent object deletion for a period of time."]})}),children:(0,T.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!V){Q(!0);var n={name:i,versioning:!(!A||O.enabled)&&s,locking:!!A&&l};if(A){if(d){var r=(0,m.Pw)(v,E,!0);n.quota={enabled:!0,quota_type:p,amount:parseInt(r)}}S&&(n.retention={mode:q,unit:z,validity:M})}b.Z.invoke("POST","/api/v1/buckets",n).then((function(e){Q(!1);var n="".concat(i);ee(),x.Z.push("/buckets/".concat(n,"/browse"))})).catch((function(e){Q(!1),t((0,w.Ih)(e))}))}}(e)},children:[(0,T.jsxs)(u.ZP,{container:!0,marginTop:1,spacing:2,children:[(0,T.jsx)(u.ZP,{item:!0,xs:12,children:(0,T.jsx)(f.Z,{id:"bucket-name",name:"bucket-name",autoFocus:!0,onChange:function(e){t((0,N.pK)(e.target.value))},label:"Bucket Name",value:i})}),(0,T.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,T.jsx)(F.Z,{children:"Features"}),!A&&(0,T.jsxs)(a.Fragment,{children:[(0,T.jsxs)("div",{className:n.error,children:["These features are unavailable in a single-disk setup.",(0,T.jsx)("br",{}),"Please deploy a server in"," ",(0,T.jsx)("a",{href:"https://docs.min.io/minio/baremetal/installation/deploy-minio-distributed.html?ref=con",target:"_blank",rel:"noreferrer",children:"Distributed Mode"})," ","to use these features."]}),(0,T.jsx)("br",{}),(0,T.jsx)("br",{})]})]}),(0,T.jsxs)(u.ZP,{item:!0,xs:12,children:[O.enabled&&(0,T.jsxs)(a.Fragment,{children:[(0,T.jsx)("br",{}),(0,T.jsxs)("div",{className:n.alertVersioning,children:[(0,T.jsx)(C.szr,{})," Versioning setting cannot be changed as cluster replication is enabled for this site."]}),(0,T.jsx)("br",{})]}),(0,T.jsx)(k.Z,{value:"versioned",id:"versioned",name:"versioned",checked:s,onChange:function(e){t((0,N.Og)(e.target.checked))},label:"Versioning",disabled:!A||l||O.enabled})]}),(0,T.jsx)(u.ZP,{item:!0,xs:12,children:(0,T.jsx)(k.Z,{value:"locking",id:"locking",name:"locking",disabled:G||!A,checked:l,onChange:function(e){t((0,N.YP)(e.target.checked)),e.target.checked&&!O.enabled&&t((0,N.Og)(!0))},label:"Object Locking"})}),(0,T.jsx)(u.ZP,{item:!0,xs:12,children:(0,T.jsx)(k.Z,{value:"bucket_quota",id:"bucket_quota",name:"bucket_quota",checked:d,onChange:function(e){t((0,N.hN)(e.target.checked))},label:"Quota",disabled:!A})}),d&&A&&(0,T.jsx)(a.Fragment,{children:(0,T.jsx)(u.ZP,{item:!0,xs:12,children:(0,T.jsx)(f.Z,{type:"number",id:"quota_size",name:"quota_size",onChange:function(e){e.target.validity.valid&&t((0,N._X)(e.target.value))},label:"Capacity",value:v,required:!0,min:"1",pattern:"[0-9]*",overlayObject:(0,T.jsx)(_.Z,{id:"quota_unit",onUnitChange:function(e){t((0,N.FB)(e))},unitSelected:E,unitsList:(0,m.zQ)(["Ki"]),disabled:!1})})})}),s&&A&&(0,T.jsx)(u.ZP,{item:!0,xs:12,children:(0,T.jsx)(k.Z,{value:"bucket_retention",id:"bucket_retention",name:"bucket_retention",checked:S,onChange:function(e){t((0,N._n)(e.target.checked))},label:"Retention"})}),S&&A&&(0,T.jsxs)(a.Fragment,{children:[(0,T.jsx)(u.ZP,{item:!0,xs:12,children:(0,T.jsx)(h.Z,{currentSelection:q,id:"retention_mode",name:"retention_mode",label:"Mode",onChange:function(e){t((0,N.Tv)(e.target.value))},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}]})}),(0,T.jsx)(u.ZP,{item:!0,xs:12,children:(0,T.jsx)(f.Z,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){t((0,N.bC)(e.target.valueAsNumber))},label:"Validity",value:String(M),required:!0,overlayObject:(0,T.jsx)(_.Z,{id:"retention_unit",onUnitChange:function(e){t((0,N.Mf)(e))},unitSelected:z,unitsList:[{value:"days",label:"Days"},{value:"years",label:"Years"}],disabled:!1})})})]})]}),(0,T.jsxs)(u.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,T.jsx)(c.Z,{type:"button",variant:"outlined",className:n.clearButton,onClick:ee,children:"Clear"}),(0,T.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",disabled:V||!K,children:"Create Bucket"})]}),V&&(0,T.jsx)(u.ZP,{item:!0,xs:12,children:(0,T.jsx)(o.Z,{})})]})})})]})}))},25739:function(e,n,t){t(72791);var r=t(64554),i=t(50896),a=t(80184);n.Z=function(e){var n=e.children,t=e.title,u=e.helpbox,c=e.icon;return(0,a.jsxs)(r.Z,{sx:{display:"grid",padding:"25px",gap:"25px",gridTemplateColumns:{md:"2fr 1.2fr",xs:"1fr"},border:"1px solid #eaeaea"},children:[(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(i.Z,{icon:c,children:t}),n]}),u]})}}}]);
//# sourceMappingURL=5588.41daab44.chunk.js.map