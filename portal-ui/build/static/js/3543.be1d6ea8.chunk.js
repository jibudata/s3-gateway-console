"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3543],{63856:function(e,t,n){n(72791);var i=n(29945),o=n(64554),r=n(27197),a=n(32686),s=n(80705),l=n(80184),c=function(){return(0,l.jsx)(o.Z,{sx:{display:"flex",alignItems:"center","& .min-icon":{width:"10px",height:"10px"}},children:(0,l.jsx)(i.Q2V,{})})};t.Z=function(e){var t=e.timeStart,n=e.setTimeStart,d=e.timeEnd,u=e.setTimeEnd,p=e.triggerSync,h=e.label,x=void 0===h?"Filter:":h,m=e.startLabel,g=void 0===m?"Start Time:":m,f=e.endLabel,b=void 0===f?"End Time:":f;return(0,l.jsx)(i.rjZ,{item:!0,xs:12,sx:{"& .filter-date-input-label, .end-time-input-label":{display:"none"},"& .MuiInputBase-adornedEnd.filter-date-date-time-input":{width:"100%",border:"1px solid #eaeaea",paddingLeft:"8px",paddingRight:"8px",borderRadius:"1px"},"& .MuiInputAdornment-root button":{height:"20px",width:"20px",marginRight:"5px"},"& .filter-date-input-wrapper":{height:"30px",width:"100%","& .MuiTextField-root":{height:"30px",width:"90%","& input.Mui-disabled":{color:"#000000",WebkitTextFillColor:"#101010"}}}},children:(0,l.jsxs)(o.Z,{sx:{display:"grid",height:{md:"40px",xs:"auto"},alignItems:"center",gridTemplateColumns:{md:"auto 2fr auto",sm:"1fr"},padding:{md:"0",xs:" 5px"},gap:"5px"},children:[(0,l.jsx)(o.Z,{sx:{fontSize:"14px",fontWeight:500,marginRight:"5px"},children:x}),(0,l.jsxs)(o.Z,{sx:{display:"grid",height:{md:"40px",xs:"auto"},border:{md:"1px solid #eaeaea"},alignItems:"center",gridTemplateColumns:{md:"1fr 1fr",sm:"1fr"},gap:"8px",paddingLeft:"8px",paddingRight:"8px"},children:[(0,l.jsxs)(o.Z,{sx:{display:"grid",height:"30px",alignItems:"center",gridTemplateColumns:{xs:"12px auto 1fr"},gap:"5px"},children:[(0,l.jsx)(o.Z,{sx:{display:"flex",alignItems:"center","& .min-icon":{width:"10px",height:"10px",fill:"#B4B5B4"}},children:(0,l.jsx)(r.Z,{className:"min-icon"})}),(0,l.jsx)(o.Z,{sx:{fontSize:"12px",marginLeft:"8px"},children:g}),(0,l.jsx)(o.Z,{children:(0,l.jsx)(s.Z,{value:t,onChange:n,id:"stTime",classNamePrefix:"filter-date-",forFilterContained:!0,noInputIcon:!0,openPickerIcon:c})})]}),(0,l.jsxs)(o.Z,{sx:{display:"grid",height:"30px",alignItems:"center",gridTemplateColumns:{xs:"12px auto 1fr"},gap:"5px"},children:[(0,l.jsx)(o.Z,{sx:{display:"flex",alignItems:"center","& .min-icon":{width:"10px",height:"10px",fill:"#B4B5B4"}},children:(0,l.jsx)(a.Z,{className:"min-icon"})}),(0,l.jsx)(o.Z,{sx:{fontSize:"12px",marginLeft:"8px"},children:b}),(0,l.jsx)(o.Z,{children:(0,l.jsx)(s.Z,{value:d,onChange:u,id:"endTime",classNamePrefix:"filter-date-",forFilterContained:!0,noInputIcon:!0,openPickerIcon:c})})]})]}),p&&(0,l.jsx)(o.Z,{sx:{alignItems:"flex-end",display:"flex",justifyContent:"flex-end"},children:(0,l.jsx)(i.zxk,{id:"sync",type:"button",variant:"callAction",onClick:p,icon:(0,l.jsx)(i.bnu,{}),label:"Sync"})})]})})}},80705:function(e,t,n){var i=n(1413),o=n(72791),r=n(29945),a=n(27391),s=n(36571),l=n(56131),c=n(36612),d=n(63466),u=n(27197),p=n(11135),h=n(25787),x=n(23814),m=n(80184);t.Z=(0,h.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)({dateSelectorOverride:{height:40,border:"#EAEDEE 1px solid",marginLeft:15,backgroundColor:"#fff",padding:"0 16px",borderRadius:5,"&.MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:0},"&:hover":{borderColor:"#000","&:before, &:after":{borderColor:"transparent",borderBottom:0}},"&:before, &:after":{borderColor:"transparent",borderBottom:0},"& input":{fontSize:12,fontWeight:600,color:"#393939"}},dateSelectorFilterOverride:{width:180,height:42,marginLeft:20,padding:0,borderRadius:5,"&.MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:0},"&:hover":{"&:before, &:after":{borderColor:"transparent",borderBottom:0}},"&:before, &:after":{borderColor:"transparent",borderBottom:0},"& input":{fontSize:12,fontWeight:"bold",color:"#081C42"},"@media (max-width: 900px)":{width:103}},dateSelectorFormOverride:{width:"100%",maxWidth:840},parentDateOverride:{flexGrow:1},textBoxContainer:{width:"calc(100% - 190px)"},openListIcon:{color:"#9D9E9D",width:8,marginTop:2},paperOverride:{"& .MuiCalendarPicker-root":{padding:"0 22px","& > div":{padding:0,"& > div > div.PrivatePickersFadeTransitionGroup-root:first-of-type":{color:"#0A224C",fontWeight:"bold"},"& > div > div.PrivatePickersFadeTransitionGroup-root:last-of-type":{color:"#9D9E9D","& +  button.MuiButtonBase-root":{color:"#9D9E9D"}},"& > div:nth-child(2)":{"& > div":{width:0},"& > button.MuiButtonBase-root":{color:"#0A224C"}}}},"& .MuiTypography-root.MuiTypography-caption":{width:26,height:26,margin:5,color:"#BCBCBC",fontSize:10},"& button.MuiPickersDay-root":{fontWeight:"bold",width:26,height:26,margin:5,textAlign:"center","&.Mui-selected":{backgroundColor:e.palette.primary.main,color:"#fff"}},"& div.MuiPickersDay-hiddenDaySpacingFiller":{width:26,height:26,margin:5},"& div.PrivatePickersSlideTransition-root":{minHeight:240},"& div.MuiCalendarPicker-viewTransitionContainer":{borderTop:"#F0F3F5 1px solid"},"& .MuiClockPicker-arrowSwitcher":{marginRight:10,marginTop:-1,"& > div":{width:0},"& > button.MuiButtonBase-root":{color:"#0A224C"},"& + div > div":{width:255,height:255,backgroundColor:"#fff",marginTop:30,marginBottom:14,border:"#F0F3F5 3px solid","& > div:nth-child(2)":{backgroundColor:"#B4B5B4",width:12,height:12,"&::before":{content:"' '",width:35,height:35,display:"block",position:"absolute",border:"#F0F3F5 3px solid",top:-12,left:-12,borderRadius:"100%"}},"& > div:nth-child(3)":{backgroundColor:"#B4B5B4",width:4},"& > div:last-of-type":{marginTop:15,"& > span":{color:"#0A224C","&.Mui-selected":{color:"#fff"},"&[aria-label='1 hours'], &[aria-label='2 hours'], &[aria-label='3 hours'], &[aria-label='4 hours'], &[aria-label='5 hours'], &[aria-label='6 hours'], &[aria-label='7 hours'], &[aria-label='8 hours'], &[aria-label='9 hours'], &[aria-label='10 hours'], &[aria-label='11 hours'], &[aria-label='12 hours']":{fontWeight:"bold",fontSize:20,marginTop:-1}}}}}}},x.YI),x.Hr))}))((function(e){var t=e.value,n=e.onChange,p=e.classes,h=e.forSearchBlock,x=void 0!==h&&h,g=e.forFilterContained,f=void 0!==g&&g,b=e.label,j=e.tooltip,v=void 0===j?"":j,C=e.required,y=e.id,_=e.disabled,Z=void 0!==_&&_,S=e.noInputIcon,k=void 0!==S&&S,w=e.classNamePrefix,F=void 0===w?"":w,I=e.openPickerIcon,B={};k||(B={startAdornment:(0,m.jsx)(d.Z,{position:"start",children:(0,m.jsx)(u.Z,{})})}),f&&(B={endAdornment:(0,m.jsx)(d.Z,{position:"end",children:(0,m.jsx)(r.Q2V,{className:p.openListIcon})})});var T="".concat(F,"date-time-input  ").concat(x?p.dateSelectorOverride:""," ").concat(f&&!x?p.dateSelectorFilterOverride:""),A=x?p.parentDateOverride:p.dateSelectorFormOverride,P=(0,m.jsx)(s._,{dateAdapter:c.Z,children:(0,m.jsx)(l.x,{value:t,onChange:n,InputProps:(0,i.Z)((0,i.Z)({},B),{},{className:T}),components:{OpenPickerIcon:I},label:"",className:A,disabled:Z,renderInput:function(e){return(0,m.jsx)(a.Z,(0,i.Z)((0,i.Z)({id:y,variant:"standard"},e),{},{disabled:!0}))},ampm:!1,PopperProps:{className:p.paperOverride},inputFormat:"LL/dd/yyyy HH:mm"})});if(x)return P;var E=f?"":p.fieldContainer;return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(r.rjZ,{item:!0,xs:12,className:"".concat(E," ").concat(F,"input-field-container"),sx:{display:"grid",gridAutoColumns:"max-content"},children:[""!==b&&(0,m.jsxs)(r.AZs,{htmlFor:y,children:[(0,m.jsxs)("span",{children:[b,C?"*":""]}),""!==v&&(0,m.jsx)("div",{className:p.tooltipContainer,children:(0,m.jsx)(r.ua7,{tooltip:v,placement:"top",children:(0,m.jsx)("div",{className:p.tooltip,children:(0,m.jsx)(r.byK,{})})})})]}),(0,m.jsx)(r.xuv,{className:"".concat(p.textBoxContainer," ").concat(F,"input-wrapper"),children:P})]})})}))},33543:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var i=n(4942),o=n(93433),r=n(29439),a=n(72791),s=n(26181),l=n.n(s),c=n(78687),d=n(29945),u=n(45248),p={time:"Timestamp",api_name:"API Name",access_key:"Access Key",bucket:"Bucket",object:"Object",remote_host:"Remote Host",request_id:"Request ID",user_agent:"User Agent",response_status:"Response Status",response_status_code:"Response Status Code",request_content_length:"Request Content Length",response_content_length:"Response Content Length",time_to_response_ns:"Time to Response NS"},h=n(56087),x=n(87995),m=n(46078),g=n(81551),f=n(38442),b=n(81207),j=n(80184),v=function(e){var t=e.label,n=e.onChange,i=e.value,o=e.placeholder,r=void 0===o?"":o,s=e.id,l=e.name;return(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)(d.xuv,{sx:{flexGrow:1,margin:"0 15px"},children:[(0,j.jsx)(d.AZs,{children:t}),(0,j.jsx)(d.Wzg,{placeholder:r,id:s,name:l,label:"",onChange:function(e){n(e.target.value)},sx:{"& input":{height:30}},value:i})]})})},C=n(56028),y=function(e){var t=e.modalOpen,n=e.logSearchElement,i=e.onClose,o=Object.keys(n);return(0,j.jsx)(a.Fragment,{children:(0,j.jsx)(C.Z,{modalOpen:t,title:"Full Log Information",onClose:function(){i()},children:(0,j.jsxs)(d.rjZ,{container:!0,children:[(0,j.jsx)(d.rjZ,{item:!0,xs:12,children:(0,j.jsx)("table",{children:(0,j.jsx)("tbody",{children:o.map((function(e,t){return(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{style:{fontWeight:700,paddingRight:"10px",textAlign:"left"},children:l()(p,e,"".concat(e))}),(0,j.jsx)("td",{children:l()(n,e,"")})]},"logSearch-".concat(t.toString()))}))})})}),(0,j.jsx)(d.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,j.jsx)(d.zxk,{id:"close-log-search",variant:"callAction",color:"primary",onClick:i,label:"Close"})})]})})})},_=n(63856),Z=n(61889),S=function(e){var t=e.iconComponent,n=e.entity,i=e.documentationLink;return(0,j.jsx)(Z.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,j.jsx)(Z.ZP,{item:!0,xs:8,children:(0,j.jsx)(d.KfX,{title:"".concat(n," not available"),iconComponent:t,help:(0,j.jsxs)(a.Fragment,{children:["This feature is not available.",(0,j.jsx)("br",{}),"Please configure"," ",(0,j.jsx)("a",{href:i,target:"_blank",rel:"noopener",children:n})," ","first to use this feature."]})})})})},k=n(47974),w=n(99670),F={display:"flex",justifyContent:"space-between",marginBottom:12},I=function(){var e=(0,g.TL)(),t=(0,c.v9)(m.$4),n=(0,a.useState)(!0),s=(0,r.Z)(n,2),C=s[0],Z=s[1],I=(0,a.useState)(null),B=(0,r.Z)(I,2),T=B[0],A=B[1],P=(0,a.useState)(null),E=(0,r.Z)(P,2),L=E[0],M=E[1],D=(0,a.useState)(!1),O=(0,r.Z)(D,2),N=O[0],R=O[1],q=(0,a.useState)([]),K=(0,r.Z)(q,2),z=K[0],W=K[1],H=(0,a.useState)(""),G=(0,r.Z)(H,2),Y=G[0],Q=G[1],U=(0,a.useState)(""),V=(0,r.Z)(U,2),X=V[0],$=V[1],J=(0,a.useState)(""),ee=(0,r.Z)(J,2),te=ee[0],ne=ee[1],ie=(0,a.useState)(""),oe=(0,r.Z)(ie,2),re=oe[0],ae=oe[1],se=(0,a.useState)(""),le=(0,r.Z)(se,2),ce=le[0],de=le[1],ue=(0,a.useState)(""),pe=(0,r.Z)(ue,2),he=pe[0],xe=pe[1],me=(0,a.useState)(""),ge=(0,r.Z)(me,2),fe=ge[0],be=ge[1],je=(0,a.useState)("DESC"),ve=(0,r.Z)(je,2),Ce=ve[0],ye=ve[1],_e=(0,a.useState)(["time","api_name","access_key","bucket","object","remote_host","request_id","user_agent","response_status"]),Ze=(0,r.Z)(_e,2),Se=Ze[0],ke=Ze[1],we=(0,a.useState)(0),Fe=(0,r.Z)(we,2),Ie=Fe[0],Be=Fe[1],Te=(0,a.useState)(!1),Ae=(0,r.Z)(Te,2),Pe=Ae[0],Ee=Ae[1],Le=(0,a.useState)(!1),Me=(0,r.Z)(Le,2),De=Me[0],Oe=Me[1],Ne=(0,a.useState)(null),Re=(0,r.Z)(Ne,2),qe=Re[0],Ke=Re[1],ze=null,We=t&&t.includes("log-search"),He=(0,a.useCallback)((function(){if(!Pe&&We){Ee(!0);var t="".concat(""!==Y?"&fp=bucket:".concat(Y):"").concat(""!==ce?"&fp=object:".concat(ce):"").concat(""!==X?"&fp=api_name:".concat(X):"").concat(""!==te?"&fp=access_key:".concat(te):"").concat(""!==he?"&fp=request_id:".concat(he):"").concat(""!==re?"&fp=user_agent:".concat(re):"").concat(""!==fe?"&fp=response_status:".concat(fe):"");(t=t.trim()).endsWith(",")&&(t=t.slice(0,-1)),b.Z.invoke("GET","/api/v1/logs/search?q=reqinfo".concat(""!==t?"".concat(t):"","&pageSize=100&pageNo=").concat(Ie,"&order=").concat("DESC"===Ce?"timeDesc":"timeAsc").concat(null!==T?"&timeStart=".concat(T.toISO()):"").concat(null!==L?"&timeEnd=".concat(L.toISO()):"")).then((function(e){var t=e.results||[];Z(!1),Ee(!1),W(t),Be(Ie+1),null!==ze&&ze()})).catch((function(t){Z(!1),Ee(!1),e((0,x.Ih)(t))}))}else Z(!1),Ee(!1)}),[Pe,We,Y,ce,X,te,he,re,fe,Ie,Ce,T,L,ze,e]);(0,a.useEffect)((function(){C&&(W([]),He())}),[C,Ce,He]);return(0,a.useEffect)((function(){e((0,x.Sc)("audit_logs"))}),[]),(0,j.jsxs)(a.Fragment,{children:[De&&null!==qe&&(0,j.jsx)(y,{logSearchElement:qe,modalOpen:De,onClose:function(){Ke(null),Oe(!1)}}),(0,j.jsx)(k.Z,{label:"Audit Logs",actions:(0,j.jsx)(w.Z,{})}),(0,j.jsx)(d.Xgh,{children:We?(0,j.jsxs)(a.Fragment,{children:[" ",(0,j.jsxs)(d.xuv,{withBorders:!0,sx:{marginBottom:15},children:[(0,j.jsxs)(d.rjZ,{item:!0,xs:12,sx:(0,i.Z)({display:"flex",padding:15},"@media (max-width: ".concat(d.Egj.lg,"px)"),{flexFlow:"column"}),children:[(0,j.jsx)(d.xuv,{children:(0,j.jsx)(_.Z,{setTimeEnd:function(e){return M(e)},setTimeStart:function(e){return A(e)},timeEnd:L,timeStart:T})}),(0,j.jsx)(d.xuv,{sx:{display:"flex",alignItems:"center"},children:(0,j.jsx)(d.cvr,{label:"".concat(N?"Hide":"Show"," advanced Filters"),open:N,onClick:function(){R(!N)}})})]}),(0,j.jsxs)(d.rjZ,{item:!0,xs:12,sx:{display:N?"block":"none",overflowY:"hidden",marginBottom:N?12:0},children:[(0,j.jsxs)(d.xuv,{sx:{marginLeft:15,marginBottom:15,fontSize:12,color:"#9C9C9C"},children:["Enable your preferred options to get filtered records.",(0,j.jsx)("br",{}),"You can use '*' to match any character, '.' to signify a single character or '\\' to scape an special character (E.g. mybucket-*)"]}),(0,j.jsxs)(d.xuv,{sx:F,children:[(0,j.jsx)(v,{onChange:Q,value:Y,label:"Bucket",id:"bucket",name:"bucket"}),(0,j.jsx)(v,{onChange:$,value:X,label:"API Name",id:"api_name",name:"api_name"}),(0,j.jsx)(v,{onChange:ne,value:te,label:"Access Key",id:"access_key",name:"access_key"}),(0,j.jsx)(v,{onChange:ae,value:re,label:"User Agent",id:"user_agent",name:"user_agent"})]}),(0,j.jsxs)(d.xuv,{sx:F,children:[(0,j.jsx)(v,{onChange:de,value:ce,label:"Object",id:"object",name:"object"}),(0,j.jsx)(v,{onChange:xe,value:he,label:"Request ID",id:"request_id",name:"request_id"}),(0,j.jsx)(v,{onChange:be,value:fe,label:"Response Status",id:"response_status",name:"response_status"})]})]}),(0,j.jsx)(d.rjZ,{item:!0,xs:12,sx:{marginBottom:15,padding:"0 15px 0 15px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(0,j.jsx)(d.zxk,{id:"get-information",type:"button",variant:"callAction",onClick:function(){Be(0),Z(!0)},label:"Get Information"})})]}),(0,j.jsx)(d.rjZ,{item:!0,xs:12,children:(0,j.jsx)(f.s,{scopes:[h.Ft.ADMIN_HEALTH_INFO],resource:h.C3,errorProps:{disabled:!0},children:(0,j.jsx)(d.wQF,{columns:[{label:p.time,elementKey:"time",enableSort:!0},{label:p.api_name,elementKey:"api_name"},{label:p.access_key,elementKey:"access_key"},{label:p.bucket,elementKey:"bucket"},{label:p.object,elementKey:"object"},{label:p.remote_host,elementKey:"remote_host"},{label:p.request_id,elementKey:"request_id"},{label:p.user_agent,elementKey:"user_agent"},{label:p.response_status,elementKey:"response_status",renderFunction:function(e){return(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)("span",{children:[e.response_status_code," (",e.response_status,")"]})})},renderFullObject:!0},{label:p.request_content_length,elementKey:"request_content_length",renderFunction:u.ae},{label:p.response_content_length,elementKey:"response_content_length",renderFunction:u.ae},{label:p.time_to_response_ns,elementKey:"time_to_response_ns",renderFunction:u.Yj,contentTextAlign:"right"}],isLoading:C,records:z,entityName:"Logs",customEmptyMessage:"There is no information with this criteria",idField:"request_id",columnsSelector:!0,columnsShown:Se,onColumnChange:function(e){var t;t=Se.findIndex((function(t){return t===e}))>=0?Se.filter((function(t){return t!==e})):[].concat((0,o.Z)(Se),[e]),ke(t)},customPaperHeight:N?"calc(100vh - 520px)":"calc(100vh - 320px)",sortConfig:{currentSort:"time",currentDirection:Ce,triggerSort:function(e){var t=l()(e,"sortDirection","DESC");ye(t),Be(0),Z(!0)}},infiniteScrollConfig:{recordsCount:1e6,loadMoreRecords:function(e){return He(),new Promise((function(e){ze=e}))}},itemActions:[{type:"view",onClick:function(e){Ke(e),Oe(!0)}}],textSelectable:!0})})})]}):(0,j.jsx)(S,{entity:"Audit Logs",iconComponent:(0,j.jsx)(d.W1M,{}),documentationLink:"https://min.io/docs/minio/windows/operations/monitoring/minio-logging.html?ref=con"})})]})}}}]);
//# sourceMappingURL=3543.be1d6ea8.chunk.js.map