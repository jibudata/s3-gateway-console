"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2483],{82483:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i,r=t(29439),a=t(1413),o=t(72791),s=t(60364),l=t(63466),c=t(40986),d=t(64554),m=t(13967),h=t(11135),g=t(72455),u=t(25787),p=t(36151),x=t(27391),f=t(61889);!function(e){e.unknown="unknown",e.form="form",e.redirect="redirect",e.serviceAccount="service-account",e.redirectServiceAccount="redirect-service-account"}(i||(i={}));var v=t(42649),j=t(81207),Z=t(62666),b=t(28789),w=t(28057),y=t(45248),S=t(62410),P=t(23814),L=t(4708),k=t(80184),A=function(e){return(0,k.jsx)("svg",(0,a.Z)((0,a.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 12 12"},e),{},{children:(0,k.jsx)("path",{id:"Path_7819","data-name":"Path 7819",d:"M9.884,3.523H8.537V2.27A2.417,2.417,0,0,0,6,0,2.417,2.417,0,0,0,3.463,2.27V3.523H2.116A2.019,2.019,0,0,0,0,5.423V9.413a2.012,2.012,0,0,0,2.062,1.9L6,12l3.938-.688A2.012,2.012,0,0,0,12,9.413V5.423a2.019,2.019,0,0,0-2.116-1.9M6.5,7.658v.724a.474.474,0,0,1-.472.474H5.971A.474.474,0,0,1,5.5,8.381V7.658a.9.9,0,0,1-.394-.744h0a.894.894,0,1,1,1.4.744m.985-4.135H4.514V2.27A1.416,1.416,0,0,1,6,.94,1.416,1.416,0,0,1,7.486,2.27Z",fill:"#071d43"})}))},N=function(e){return(0,k.jsxs)("svg",(0,a.Z)((0,a.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 9.008 12"},e),{},{children:[(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"clip-path",children:(0,k.jsx)("rect",{id:"Rectangle_991","data-name":"Rectangle 991",width:"9.008",height:"12",fill:"#071d43"})})}),(0,k.jsxs)("g",{id:"Group_2365","data-name":"Group 2365",children:[(0,k.jsx)("path",{id:"Path_7088","data-name":"Path 7088",d:"M26.843,6.743a3.4,3.4,0,0,0,3.411-3.372,3.411,3.411,0,0,0-6.822,0,3.4,3.4,0,0,0,3.411,3.372",transform:"translate(-22.334)",fill:"#071d43"}),(0,k.jsx)("path",{id:"Path_7089","data-name":"Path 7089",d:"M8.639,157.057a5.164,5.164,0,0,0-1.957-1.538,5.438,5.438,0,0,0-1.083-.362,5.2,5.2,0,0,0-1.117-.123c-.075,0-.151,0-.225.005H4.231a4.928,4.928,0,0,0-.549.059,5.236,5.236,0,0,0-3.276,1.92c-.029.039-.059.078-.086.116h0a1.723,1.723,0,0,0-.134,1.784,1.583,1.583,0,0,0,.255.356,1.559,1.559,0,0,0,.337.267,1.613,1.613,0,0,0,.4.167,1.742,1.742,0,0,0,.449.058H7.389a1.747,1.747,0,0,0,.452-.058,1.593,1.593,0,0,0,.4-.169,1.524,1.524,0,0,0,.335-.271,1.548,1.548,0,0,0,.251-.361,1.761,1.761,0,0,0-.191-1.85",transform:"translate(0.001 -147.766)",fill:"#071d43"})]})]}))},E=t(25183),I=function(e){return(0,k.jsx)("svg",(0,a.Z)((0,a.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 7.819 7.621"},e),{},{children:(0,k.jsx)("path",{id:"github",d:"M8.543,4.917a4.146,4.146,0,0,1-.038.424,3.8,3.8,0,0,1-.8,1.816,3.982,3.982,0,0,1-.514.542,3.72,3.72,0,0,1-.8.531,4.287,4.287,0,0,1-.471.2.286.286,0,0,1-.149.02.174.174,0,0,1-.153-.163c0-.028,0-.056,0-.084V7.214A1.867,1.867,0,0,0,5.6,6.94a.794.794,0,0,0-.239-.477l.229-.035a2.168,2.168,0,0,0,.821-.291,1.347,1.347,0,0,0,.572-.691,2.291,2.291,0,0,0,.14-.592,2.689,2.689,0,0,0,.01-.488,1.44,1.44,0,0,0-.341-.824L6.747,3.49a.076.076,0,0,1-.007-.013A1.352,1.352,0,0,0,6.7,2.445a.478.478,0,0,0-.317.019,2.726,2.726,0,0,0-.62.289l-.137.086a4.467,4.467,0,0,0-.645-.114,4.047,4.047,0,0,0-.663,0,4.241,4.241,0,0,0-.651.115l-.126-.08a2.786,2.786,0,0,0-.643-.3.5.5,0,0,0-.311-.022,1.364,1.364,0,0,0-.038,1.031l-.154.206a1.392,1.392,0,0,0-.227.6,2.519,2.519,0,0,0,0,.578,2.17,2.17,0,0,0,.178.675,1.356,1.356,0,0,0,.609.65,2.294,2.294,0,0,0,.84.258l.131.02a.874.874,0,0,0-.243.515.793.793,0,0,1-.254.085c-.071.012-.141.014-.212.019a.623.623,0,0,1-.495-.2A1.545,1.545,0,0,1,2.578,6.7c-.047-.061-.084-.128-.135-.185a.8.8,0,0,0-.432-.256.347.347,0,0,0-.189.005.389.389,0,0,0-.048.025.126.126,0,0,0,.049.121.521.521,0,0,0,.112.091.712.712,0,0,1,.188.165,1.542,1.542,0,0,1,.233.41.721.721,0,0,0,.585.456,1.773,1.773,0,0,0,.424.032l.212-.022.083-.01.005.069,0,.527,0,.152a.176.176,0,0,1-.2.165.344.344,0,0,1-.1-.021,3.873,3.873,0,0,1-.74-.341,3.772,3.772,0,0,1-.838-.681,4.309,4.309,0,0,1-.445-.57A3.833,3.833,0,0,1,1,6.16a3.936,3.936,0,0,1-.216-.793L.749,5.079a4.242,4.242,0,0,1,0-.7,3.848,3.848,0,0,1,.57-1.705A3.9,3.9,0,0,1,3.053,1.159,3.716,3.716,0,0,1,4,.878,4.223,4.223,0,0,1,4.768.831a4.158,4.158,0,0,1,.523.047,3.674,3.674,0,0,1,.862.246,3.964,3.964,0,0,1,.975.59,3.793,3.793,0,0,1,.609.629,3.933,3.933,0,0,1,.585,1.066,4.2,4.2,0,0,1,.23,1.136l-.011.372h0Z",transform:"translate(-0.734 -0.829)"})}))},C=t(28182),F=t(72401),T=(0,g.Z)((function(e){return(0,h.Z)({root:{"& .MuiOutlinedInput-root":{paddingLeft:0,"& svg":{marginLeft:4,height:14,color:e.palette.primary.main},"& input":{padding:10,fontSize:14,paddingLeft:0,"&::placeholder":{fontSize:12},"@media (max-width: 900px)":{padding:10}},"& fieldset":{},"& fieldset:hover":{borderBottom:"2px solid #000000",borderRadius:0}}}})}));function _(e){var n=T();return(0,k.jsx)(x.Z,(0,a.Z)({classes:{root:n.root},variant:"standard"},e))}var B=(0,s.$j)((function(e){return{loggedIn:e.loggedIn}}),{userLoggedIn:v.nD,setErrorSnackMessage:v.Ih})((0,u.Z)((function(e){return(0,h.Z)((0,a.Z)({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"auto"},form:{width:"100%"},submit:{margin:"30px 0px 8px",height:40,width:"100%",boxShadow:"none",padding:"16px 30px"},learnMore:{textAlign:"center",fontSize:10,"& a":{color:"#2781B0"},"& .min-icon":{marginLeft:12,marginTop:2,width:10}},separator:{marginLeft:8,marginRight:8},linkHolder:{marginTop:20,font:"normal normal normal 14px/16px Lato"},miniLinks:{margin:"auto",textAlign:"center",color:"#B2DEF5","& a":{color:"#B2DEF5",textDecoration:"none"},"& .min-icon":{width:10,color:"#B2DEF5"}},miniLogo:{marginTop:8,"& .min-icon":{height:12,paddingTop:2,marginRight:2}},loginPage:{height:"100%",margin:"auto"},loginContainer:{flexDirection:"column",maxWidth:400,margin:"auto","& .right-items":{backgroundColor:"white",padding:40},"& .consoleTextBanner":{fontWeight:300,fontSize:"calc(3vw + 3vh + 1.5vmin)",lineHeight:1.15,color:e.palette.primary.main,flex:1,height:"100%",display:"flex",justifyContent:"flex-start",margin:"auto","& .logoLine":{display:"flex",alignItems:"center",fontSize:18},"& .left-items":{marginTop:100,background:"transparent linear-gradient(180deg, #FBFAFA 0%, #E4E4E4 100%) 0% 0% no-repeat padding-box",padding:40},"& .left-logo":{"& .min-icon":{color:e.palette.primary.main,width:108},marginBottom:10},"& .text-line1":{font:" 100 44px 'Lato'"},"& .text-line2":{fontSize:80,fontWeight:100,textTransform:"uppercase"},"& .text-line3":{fontSize:14,fontWeight:"bold"},"& .logo-console":{display:"flex",alignItems:"center","@media (max-width: 900px)":{marginTop:20,flexFlow:"column","& svg":{width:"50%"}}}}},"@media (max-width: 900px)":{loginContainer:{display:"flex",flexFlow:"column","& .consoleTextBanner":{margin:0,flex:2,"& .left-items":{alignItems:"center",textAlign:"center"},"& .logoLine":{justifyContent:"center"}}}},loadingLoginStrategy:{textAlign:"center",width:40,height:40},submitContainer:{textAlign:"right"},linearPredef:{height:10},loaderAlignment:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"},retryButton:{alignSelf:"flex-end"},iconLogo:{"& .min-icon":{width:"100%"}}},P.bK))}))((function(e){var n=e.classes,t=e.userLoggedIn,a=e.setErrorSnackMessage,s=(0,o.useState)(""),h=(0,r.Z)(s,2),g=h[0],u=h[1],x=(0,o.useState)(""),v=(0,r.Z)(x,2),P=v[0],T=v[1],B=(0,o.useState)(""),M=(0,r.Z)(B,2),z=M[0],R=M[1],D=(0,o.useState)({loginStrategy:i.unknown,redirect:""}),H=(0,r.Z)(D,2),O=H[0],V=H[1],W=(0,o.useState)(!1),G=(0,r.Z)(W,2),K=G[0],Y=G[1],q=(0,o.useState)(!0),J=(0,r.Z)(q,2),U=J[0],X=J[1],$=(0,o.useState)(""),Q=(0,r.Z)($,2),ee=Q[0],ne=Q[1],te=(0,o.useState)(!0),ie=(0,r.Z)(te,2),re=ie[0],ae=ie[1],oe={form:"/api/v1/login","service-account":"/api/v1/login/operator"},se={form:{accessKey:g,secretKey:z},"service-account":{jwt:P}},le=function(e){e.preventDefault(),Y(!0),j.Z.invoke("POST",oe[O.loginStrategy]||"/api/v1/login",se[O.loginStrategy]).then((function(){t(!0),O.loginStrategy===i.form&&localStorage.setItem("userLoggedIn",(0,y.ug)(g));var e="/";localStorage.getItem("redirect-path")&&""!==localStorage.getItem("redirect-path")&&(e="".concat(localStorage.getItem("redirect-path")),localStorage.setItem("redirect-path","")),Z.Z.push(e)})).catch((function(e){Y(!1),a(e)}))};(0,o.useEffect)((function(){U&&j.Z.invoke("GET","/api/v1/login").then((function(e){V(e),X(!1)})).catch((function(e){a(e),X(!1)}))}),[U,a]),(0,o.useEffect)((function(){re&&j.Z.invoke("GET","/api/v1/check-version").then((function(e){e.current_version;var n=e.latest_version;ne(n),ae(!1)})).catch((function(e){j.Z.invoke("GET","/api/v1/check-operator-version").then((function(e){e.current_version;var n=e.latest_version;ne(n),ae(!1)})).catch((function(e){ae(!1)}))}))}),[re,ae,ne]);var ce=null;switch(O.loginStrategy){case i.form:ce=(0,k.jsx)(o.Fragment,{children:(0,k.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:le,children:[(0,k.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,k.jsx)(f.ZP,{item:!0,xs:12,className:n.spacerBottom,children:(0,k.jsx)(_,{fullWidth:!0,id:"accessKey",className:n.inputField,value:g,onChange:function(e){return u(e.target.value)},placeholder:"Username",name:"accessKey",autoComplete:"username",disabled:K,variant:"outlined",InputProps:{startAdornment:(0,k.jsx)(l.Z,{position:"start",className:n.iconColor,children:(0,k.jsx)(N,{})})}})}),(0,k.jsx)(f.ZP,{item:!0,xs:12,children:(0,k.jsx)(_,{fullWidth:!0,className:n.inputField,value:z,onChange:function(e){return R(e.target.value)},name:"secretKey",type:"password",id:"secretKey",autoComplete:"current-password",disabled:K,placeholder:"Password",variant:"outlined",InputProps:{startAdornment:(0,k.jsx)(l.Z,{position:"start",className:n.iconColor,children:(0,k.jsx)(A,{})})}})})]}),(0,k.jsx)(f.ZP,{item:!0,xs:12,className:n.submitContainer,children:(0,k.jsx)(p.Z,{type:"submit",variant:"contained",color:"primary",id:"do-login",className:n.submit,disabled:""===z||""===g||K,children:"Login"})}),(0,k.jsx)(f.ZP,{item:!0,xs:12,className:n.linearPredef,children:K&&(0,k.jsx)(c.Z,{})})]})});break;case i.redirect:case i.redirectServiceAccount:ce=(0,k.jsx)(o.Fragment,{children:(0,k.jsx)(p.Z,{component:"a",href:O.redirect,type:"submit",variant:"contained",color:"primary",id:"sso-login",className:n.submit,children:"Login with SSO"})});break;case i.serviceAccount:ce=(0,k.jsx)(o.Fragment,{children:(0,k.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:le,children:[(0,k.jsx)(f.ZP,{container:!0,spacing:2,children:(0,k.jsx)(f.ZP,{item:!0,xs:12,children:(0,k.jsx)(_,{required:!0,className:n.inputField,fullWidth:!0,id:"jwt",value:P,onChange:function(e){return T(e.target.value)},name:"jwt",autoComplete:"off",disabled:K,placeholder:"Enter JWT",variant:"outlined",InputProps:{startAdornment:(0,k.jsx)(l.Z,{position:"start",children:(0,k.jsx)(S.mBM,{})})}})})}),(0,k.jsx)(f.ZP,{item:!0,xs:12,className:n.submitContainer,children:(0,k.jsx)(p.Z,{type:"submit",variant:"contained",color:"primary",id:"do-login",className:n.submit,disabled:""===P||K,children:"Login"})}),(0,k.jsx)(f.ZP,{item:!0,xs:12,className:n.linearPredef,children:K&&(0,k.jsx)(c.Z,{})})]})});break;default:ce=(0,k.jsx)("div",{className:n.loaderAlignment,children:U?(0,k.jsx)(F.Z,{className:n.loadingLoginStrategy}):(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)("div",{children:(0,k.jsxs)("p",{style:{color:"#000",textAlign:"center"},children:["An error has occurred",(0,k.jsx)("br",{}),"The backend cannot be reached."]})}),(0,k.jsx)("div",{children:(0,k.jsx)(p.Z,{onClick:function(){X(!0)},endIcon:(0,k.jsx)(b.default,{}),color:"primary",variant:"outlined",id:"retry",className:n.retryButton,children:"Retry"})})]})})}var de=O.loginStrategy===i.serviceAccount||O.loginStrategy===i.redirectServiceAccount,me=de?(0,k.jsx)(S.mGz,{}):(0,k.jsx)(S.ZFe,{}),he=de?"https://docs.min.io/minio/k8s/operator-console/operator-console.html?ref=con":"https://docs.min.io/minio/baremetal/console/minio-console.html?ref=con",ge=(0,m.Z)();return(0,k.jsxs)("div",{className:n.root,children:[(0,k.jsx)(L.ZP,{}),(0,k.jsx)(w.Z,{}),(0,k.jsx)("div",{className:n.loginPage,children:(0,k.jsxs)(f.ZP,{container:!0,style:{maxWidth:400,margin:"auto"},children:[(0,k.jsxs)(f.ZP,{xs:12,style:{background:"transparent linear-gradient(180deg, #FBFAFA 0%, #E4E4E4 100%) 0% 0% no-repeat padding-box",padding:40,color:ge.palette.primary.main},sx:{marginTop:{md:16,sm:8,xs:3}},children:[(0,k.jsx)(d.Z,{className:n.iconLogo,children:me}),(0,k.jsx)(d.Z,{style:{font:"normal normal normal 20px/24px Lato"},children:"Multicloud Object Storage"})]}),(0,k.jsxs)(f.ZP,{xs:12,style:{backgroundColor:"white",padding:40,color:ge.palette.primary.main},children:[ce,(0,k.jsxs)(d.Z,{style:{textAlign:"center",marginTop:20},children:[(0,k.jsxs)("a",{href:he,target:"_blank",rel:"noreferrer",style:{color:ge.colors.link,font:"normal normal normal 12px/15px Lato"},children:["Learn more about ",de?"OPERATOR CONSOLE":"CONSOLE"]}),(0,k.jsx)("a",{href:he,target:"_blank",rel:"noreferrer",style:{color:ge.colors.link,font:"normal normal normal 12px/15px Lato",textDecoration:"none",fontWeight:"bold",paddingLeft:4},children:"\u2794"})]})]}),(0,k.jsxs)(f.ZP,{item:!0,xs:12,className:n.linkHolder,children:[(0,k.jsxs)("div",{className:n.miniLinks,children:[(0,k.jsxs)("a",{href:"https://docs.min.io/?ref=con",target:"_blank",rel:"noreferrer",children:[(0,k.jsx)(S.cYX,{})," Documentation"]}),(0,k.jsx)("span",{className:n.separator,children:"|"}),(0,k.jsxs)("a",{href:"https://github.com/minio/minio",target:"_blank",rel:"noreferrer",children:[(0,k.jsx)(I,{})," Github"]}),(0,k.jsx)("span",{className:n.separator,children:"|"}),(0,k.jsxs)("a",{href:"https://subnet.min.io/?ref=con",target:"_blank",rel:"noreferrer",children:[(0,k.jsx)(E.aw,{})," Support"]}),(0,k.jsx)("span",{className:n.separator,children:"|"}),(0,k.jsxs)("a",{href:"https://min.io/download/?ref=con",target:"_blank",rel:"noreferrer",children:[(0,k.jsx)(S._8t,{})," Download"]})]}),(0,k.jsx)("div",{className:(0,C.Z)(n.miniLinks,n.miniLogo),children:(0,k.jsxs)("a",{href:"https://github.com/minio/minio/releases",target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:20},children:[(0,k.jsx)(S.YEz,{})," ",(0,k.jsx)("b",{children:"Latest Version:"}),"\xa0",!re&&""!==ee&&(0,k.jsx)(o.Fragment,{children:ee})]})})]})]})})]})})))},63466:function(e,n,t){t.d(n,{Z:function(){return w}});var i=t(4942),r=t(63366),a=t(87462),o=t(72791),s=t(28182),l=t(90767),c=t(14036),d=t(20890),m=t(93840),h=t(52930),g=t(47630),u=t(95159);function p(e){return(0,u.Z)("MuiInputAdornment",e)}var x,f=(0,t(30208).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),v=t(93736),j=t(80184),Z=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,g.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["position".concat((0,c.Z)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:n.palette.action.active},"filled"===t.variant&&(0,i.Z)({},"&.".concat(f.positionStart,"&:not(.").concat(f.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),w=o.forwardRef((function(e,n){var t=(0,v.Z)({props:e,name:"MuiInputAdornment"}),i=t.children,g=t.className,u=t.component,f=void 0===u?"div":u,w=t.disablePointerEvents,y=void 0!==w&&w,S=t.disableTypography,P=void 0!==S&&S,L=t.position,k=t.variant,A=(0,r.Z)(t,Z),N=(0,h.Z)()||{},E=k;k&&N.variant,N&&!E&&(E=N.variant);var I=(0,a.Z)({},t,{hiddenLabel:N.hiddenLabel,size:N.size,disablePointerEvents:y,position:L,variant:E}),C=function(e){var n=e.classes,t=e.disablePointerEvents,i=e.hiddenLabel,r=e.position,a=e.size,o=e.variant,s={root:["root",t&&"disablePointerEvents",r&&"position".concat((0,c.Z)(r)),o,i&&"hiddenLabel",a&&"size".concat((0,c.Z)(a))]};return(0,l.Z)(s,p,n)}(I);return(0,j.jsx)(m.Z.Provider,{value:null,children:(0,j.jsx)(b,(0,a.Z)({as:f,ownerState:I,className:(0,s.Z)(C.root,g),ref:n},A,{children:"string"!==typeof i||P?(0,j.jsxs)(o.Fragment,{children:["start"===L?x||(x=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,j.jsx)(d.Z,{color:"text.secondary",children:i})}))})}))}}]);
//# sourceMappingURL=2483.e17e0c84.chunk.js.map