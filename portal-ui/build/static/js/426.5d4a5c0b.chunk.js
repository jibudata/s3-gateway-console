"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[426],{426:function(n,e,t){t.r(e);var r=t(29439),o=t(1413),a=t(72791),s=t(78687),i=t(57689),c=t(11135),l=t(25787),u=t(23814),d=t(61889),Z=t(45248),f=t(81207),v=t(25469),h=t(5450),x=t(87995),p=t(80184),j=(0,s.$j)((function(n){return{loadingTenant:n.tenants.loadingTenant}}),null);e.default=(0,l.Z)((function(n){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.OR),u.qg),u.VX),u.Bz))}))(j((function(n){var e=n.classes,t=(0,v.TL)(),o=(0,i.UO)(),c=(0,s.v9)((function(n){return n.tenants.loadingTenant})),l=(0,a.useState)([]),u=(0,r.Z)(l,2),j=u[0],m=u[1],g=(0,a.useState)(!0),b=(0,r.Z)(g,2),T=b[0],w=b[1],k=o.tenantName||"",C=o.tenantNamespace||"";return(0,a.useEffect)((function(){c&&w(!0)}),[c]),(0,a.useEffect)((function(){T&&f.Z.invoke("GET","/api/v1/namespaces/".concat(C,"/tenants/").concat(k,"/events")).then((function(n){for(var e=0;e<n.length;e++){var t=Date.now()/1e3|0;n[e].seen=(0,Z.v1)((t-n[e].last_seen).toString())}m(n),w(!1)})).catch((function(n){t((0,x.Ih)(n)),w(!1)}))}),[T,C,k,t]),(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)("h1",{className:e.sectionTitle,children:"Events"}),(0,p.jsx)(d.ZP,{item:!0,xs:12,children:(0,p.jsx)(h.Z,{events:j,loading:T})})]})})))},5450:function(n,e,t){var r=t(29439),o=t(72791),a=t(40986),s=t(79836),i=t(53382),c=t(53994),l=t(56890),u=t(35855),d=t(64554),Z=t(56125),f=t(20890),v=t(85172),h=t(95678),x=t(39281),p=t(35527),j=t(80184),m=function(n){var e=n.event,t=o.useState(!1),a=(0,r.Z)(t,2),s=a[0],i=a[1];return(0,j.jsxs)(o.Fragment,{children:[(0,j.jsxs)(u.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,j.jsx)(c.Z,{component:"th",scope:"row",onClick:function(){return i(!s)},children:e.event_type}),(0,j.jsx)(c.Z,{onClick:function(){return i(!s)},children:e.reason}),(0,j.jsx)(c.Z,{onClick:function(){return i(!s)},children:e.seen}),(0,j.jsx)(c.Z,{onClick:function(){return i(!s)},children:e.message.length>=30?"".concat(e.message.slice(0,30),"..."):e.message}),(0,j.jsx)(c.Z,{onClick:function(){return i(!s)},children:s?(0,j.jsx)(h.Z,{}):(0,j.jsx)(v.Z,{})})]}),(0,j.jsx)(u.Z,{children:(0,j.jsx)(c.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,j.jsx)(Z.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)(d.Z,{sx:{margin:1},children:(0,j.jsx)(f.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:e.message})})})})})]})};e.Z=function(n){var e=n.events;return n.loading?(0,j.jsx)(a.Z,{}):(0,j.jsx)(x.Z,{component:p.Z,children:(0,j.jsxs)(s.Z,{"aria-label":"collapsible table",children:[(0,j.jsx)(l.Z,{children:(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(c.Z,{children:"Type"}),(0,j.jsx)(c.Z,{children:"Reason"}),(0,j.jsx)(c.Z,{children:"Age"}),(0,j.jsx)(c.Z,{children:"Message"}),(0,j.jsx)(c.Z,{})]})}),(0,j.jsx)(i.Z,{children:e.map((function(n){return(0,j.jsx)(m,{event:n},"".concat(n.event_type,"-").concat(n.seen))}))})]})})}},85172:function(n,e,t){var r=t(64836);e.Z=void 0;var o=r(t(45649)),a=t(80184),s=(0,o.default)((0,a.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");e.Z=s},95678:function(n,e,t){var r=t(64836);e.Z=void 0;var o=r(t(45649)),a=t(80184),s=(0,o.default)((0,a.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");e.Z=s},39281:function(n,e,t){t.d(e,{Z:function(){return x}});var r=t(87462),o=t(63366),a=t(72791),s=t(28182),i=t(94419),c=t(31402),l=t(66934),u=t(75878),d=t(21217);function Z(n){return(0,d.Z)("MuiTableContainer",n)}(0,u.Z)("MuiTableContainer",["root"]);var f=t(80184),v=["className","component"],h=(0,l.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(n,e){return e.root}})({width:"100%",overflowX:"auto"}),x=a.forwardRef((function(n,e){var t=(0,c.Z)({props:n,name:"MuiTableContainer"}),a=t.className,l=t.component,u=void 0===l?"div":l,d=(0,o.Z)(t,v),x=(0,r.Z)({},t,{component:u}),p=function(n){var e=n.classes;return(0,i.Z)({root:["root"]},Z,e)}(x);return(0,f.jsx)(h,(0,r.Z)({ref:e,as:u,className:(0,s.Z)(p.root,a),ownerState:x},d))}))},56890:function(n,e,t){t.d(e,{Z:function(){return m}});var r=t(87462),o=t(63366),a=t(72791),s=t(28182),i=t(94419),c=t(829),l=t(31402),u=t(66934),d=t(75878),Z=t(21217);function f(n){return(0,Z.Z)("MuiTableHead",n)}(0,d.Z)("MuiTableHead",["root"]);var v=t(80184),h=["className","component"],x=(0,u.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(n,e){return e.root}})({display:"table-header-group"}),p={variant:"head"},j="thead",m=a.forwardRef((function(n,e){var t=(0,l.Z)({props:n,name:"MuiTableHead"}),a=t.className,u=t.component,d=void 0===u?j:u,Z=(0,o.Z)(t,h),m=(0,r.Z)({},t,{component:d}),g=function(n){var e=n.classes;return(0,i.Z)({root:["root"]},f,e)}(m);return(0,v.jsx)(c.Z.Provider,{value:p,children:(0,v.jsx)(x,(0,r.Z)({as:d,className:(0,s.Z)(g.root,a),ref:e,role:d===j?null:"rowgroup",ownerState:m},Z))})}))}}]);
//# sourceMappingURL=426.5d4a5c0b.chunk.js.map