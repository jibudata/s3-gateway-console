(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6686],{86686:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var o=n(29439),r=n(1413),i=n(72791),a=n(29945),l=n(57689),s=n(11135),c=n(25787),u=n(82460),d=n(37267),p=n(61757),f=n(23814),m=n(81806),h=n(59114),g=n(56087),y=n(87995),b=n(44690),v=n(23508),S=n(80184),T=function(e){var t=e.onConfirm,n=e.onClose,o=e.serviceName,r=e.status;return(0,S.jsx)(v.Z,{title:"Delete Endpoint",confirmText:"Delete",isOpen:!0,titleIcon:(0,S.jsx)(a.EjK,{}),isLoading:!1,onConfirm:t,onClose:n,confirmationContent:(0,S.jsxs)(i.Fragment,{children:["Are you sure you want to delete the event destination ?",(0,S.jsx)("br",{}),(0,S.jsx)("b",{children:o})," which is ",(0,S.jsx)("b",{children:r})]})})},_=n(27454),x=n(78687),k=n(53669),E=n(31776),A=n(82342),j=(0,c.Z)((function(e){return(0,s.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},f.OR),f.Je),f.Bz),{},{tableBlock:(0,r.Z)({},f.VX.tableBlock),rightActionItems:{display:"flex",alignItems:"center","& button":{whiteSpace:"nowrap"}},searchField:(0,r.Z)((0,r.Z)({},f.qg.searchField),{},{maxWidth:380})}))}))((function(e){var t=e.classes,n=(0,b.TL)(),r=(0,l.s0)(),s=(0,x.v9)((function(e){return e.destination.loading})),c=(0,i.useState)([]),f=(0,o.Z)(c,2),v=f[0],j=f[1],Z=(0,i.useState)(""),C=(0,o.Z)(Z,2),w=C[0],L=C[1],q=(0,i.useState)(!1),N=(0,o.Z)(q,2),I=N[0],P=N[1],D=(0,i.useState)(),Q=(0,o.Z)(D,2),M=Q[0],K=Q[1];(0,i.useEffect)((function(){if(s){E.h.admin.notificationEndpointList().then((function(e){var t=[];e.data.notification_endpoints&&(t=e.data.notification_endpoints),j((0,p.fk)(t)),n((0,k.iP)(!1))})).catch((function(e){n((0,y.Ih)((0,A.g)(e.error))),n((0,k.iP)(!1))}))}}),[s,n]),(0,i.useEffect)((function(){n((0,k.iP)(!0))}),[n]);var F=[{type:"delete",onClick:function(e){K(e),P(!0)}}],R=v.filter((function(e){return""===w||e.service_name.indexOf(w)>=0}));return(0,S.jsx)(i.Fragment,{children:(0,S.jsx)(a.Xgh,{children:(0,S.jsxs)(a.rjZ,{container:!0,sx:{width:"100%"},children:[(0,S.jsxs)(a.rjZ,{item:!0,xs:12,className:t.actionsTray,children:[(0,S.jsx)(h.Z,{placeholder:"Search target",onChange:L,overrideClass:t.searchField,value:w}),(0,S.jsxs)("div",{className:t.rightActionItems,children:[(0,S.jsx)(_.Z,{tooltip:"Refresh List",children:(0,S.jsx)(a.zxk,{id:"reload-event-destinations",label:"Refresh",variant:"regular",icon:(0,S.jsx)(a.DuK,{}),onClick:function(){n((0,k.iP)(!0))}})}),(0,S.jsx)(_.Z,{tooltip:"Add Event Destination",children:(0,S.jsx)(a.zxk,{id:"add-notification-target",label:"Add Event Destination",variant:"callAction",icon:(0,S.jsx)(a.dtP,{}),onClick:function(){r(g.gA.EVENT_DESTINATIONS_ADD)}})})]})]}),s&&(0,S.jsx)(a.kod,{}),!s&&(0,S.jsxs)(i.Fragment,{children:[v.length>0&&(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(a.rjZ,{item:!0,xs:12,className:t.tableBlock,children:(0,S.jsx)(a.xuv,{sx:{width:"100%"},children:(0,S.jsx)(a.wQF,{itemActions:F,columns:[{label:"Status",elementKey:"status",renderFunction:function(e){return(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,S.jsx)(d.Z,{style:"Offline"===e?{color:u.Z[500]}:{}}),e]})},width:150},{label:"Service",elementKey:"service_name"}],isLoading:s,records:R,entityName:"Event Destinations",idField:"service_name",customPaperHeight:"400px"})})}),(0,S.jsx)(a.rjZ,{item:!0,xs:12,sx:{marginTop:15},children:(0,S.jsx)(a.KfX,{title:"Event Destinations",iconComponent:(0,S.jsx)(a.cCG,{}),help:(0,S.jsxs)(i.Fragment,{children:["MinIO bucket notifications allow administrators to send notifications to supported external services on certain object or bucket events. MinIO supports bucket and object-level S3 events similar to the Amazon S3 Event Notifications.",(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),"You can learn more at our"," ",(0,S.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/monitoring/bucket-notifications.html?ref=con",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})})]}),0===v.length&&(0,S.jsx)(a.rjZ,{container:!0,sx:{justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,S.jsx)(a.rjZ,{item:!0,xs:8,children:(0,S.jsx)(a.KfX,{title:"Event Destinations",iconComponent:(0,S.jsx)(a.cCG,{}),help:(0,S.jsxs)(i.Fragment,{children:["MinIO bucket notifications allow administrators to send notifications to supported external services on certain object or bucket events. MinIO supports bucket and object-level S3 events similar to the Amazon S3 Event Notifications.",(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),"To get started,"," ",(0,S.jsx)(m.Z,{onClick:function(){r(g.gA.EVENT_DESTINATIONS_ADD)},children:"Add an Event Destination"}),"."]})})})})]}),I?(0,S.jsx)(T,{onConfirm:function(){!function(e){if(null!==e&&void 0!==e&&e.name){var t=(0,p.L)(e.name),o=":".concat(e.account_id);t?E.h.configs.resetConfig("".concat(t).concat(o)).then((function(){n((0,y.cN)(!0)),K(null),P(!1),n((0,k.iP)(!0))})).catch((function(e){P(!1),n((0,y.Ih)((0,A.g)(e.error)))})):(K(null),P(!1),console.log("Unable to find Config key for ".concat(e.name)))}}(M)},status:"".concat(null===M||void 0===M?void 0:M.status),serviceName:"".concat(null===M||void 0===M?void 0:M.service_name),onClose:function(){P(!1)}}):null]})})})}))},61757:function(e,t,n){"use strict";n.d(t,{BI:function(){return v},DD:function(){return T},L:function(){return k},dM:function(){return s},ee:function(){return l},fk:function(){return y},oj:function(){return _},z5:function(){return b}});var o,r=n(4942),i=n(43144),a=n(15671),l="notify_postgres",s="notify_mysql",c="notify_kafka",u="notify_amqp",d="notify_mqtt",p="notify_redis",f="notify_nats",m="notify_elasticsearch",h="notify_webhook",g="notify_nsq",y=function(e){return e.map((function(e){return{service_name:"".concat(e.service,":").concat(e.account_id),name:e.service,account_id:e.account_id,status:e.status}}))},b=(0,i.Z)((function e(){(0,a.Z)(this,e)}));b.DB="database",b.Queue="queue",b.Func="functions";var v=[{actionTrigger:l,targetTitle:"PostgreSQL",logo:"/postgres-logo.svg",category:b.DB},{actionTrigger:c,targetTitle:"Kafka",logo:"/kafka-logo.svg",category:b.Queue},{actionTrigger:u,targetTitle:"AMQP",logo:"/amqp-logo.svg",category:b.Queue},{actionTrigger:d,targetTitle:"MQTT",logo:"/mqtt-logo.svg",category:b.Queue},{actionTrigger:p,targetTitle:"Redis",logo:"/redis-logo.svg",category:b.Queue},{actionTrigger:f,targetTitle:"NATS",logo:"/nats-logo.svg",category:b.Queue},{actionTrigger:s,targetTitle:"Mysql",logo:"/mysql-logo.svg",category:b.DB},{actionTrigger:m,targetTitle:"Elastic Search",logo:"/elasticsearch-logo.svg",category:b.DB},{actionTrigger:h,targetTitle:"Webhook",logo:"/webhooks-logo.svg",category:b.Func},{actionTrigger:g,targetTitle:"NSQ",logo:"/nsq-logo.svg",category:b.Queue}],S=[{name:"queue_dir",label:"Queue Directory",required:!1,tooltip:"Staging directory for undelivered messages e.g. '/home/events'",type:"string",placeholder:"Enter Queue Directory"},{name:"queue_limit",label:"Queue Limit",required:!1,tooltip:"Maximum limit for undelivered messages, defaults to '10000'",type:"number",placeholder:"Enter Queue Limit"},{name:"comment",label:"Comment",required:!1,type:"comment",placeholder:"Enter custom notes if any"}],T=function(e){return e.filter((function(e){return""!==e.value}))},_=(o={},(0,r.Z)(o,c,[{name:"brokers",label:"Brokers",required:!0,tooltip:"Comma separated list of Kafka broker addresses",type:"string",placeholder:"Enter Brokers"},{name:"topic",label:"Topic",tooltip:"Kafka topic used for bucket notifications",type:"string",placeholder:"Enter Topic"},{name:"sasl_username",label:"SASL Username",tooltip:"Username for SASL/PLAIN or SASL/SCRAM authentication",type:"string",placeholder:"Enter SASL Username"},{name:"sasl_password",label:"SASL Password",tooltip:"Password for SASL/PLAIN or SASL/SCRAM authentication",type:"string",placeholder:"Enter SASL Password"},{name:"sasl_mechanism",label:"SASL Mechanism",tooltip:"SASL authentication mechanism, default 'PLAIN'",type:"string"},{name:"tls_client_auth",label:"TLS Client Auth",tooltip:"Client Auth determines the Kafka server's policy for TLS client authorization",type:"string",placeholder:"Enter TLS Client Auth"},{name:"sasl",label:"SASL",tooltip:"Set to 'on' to enable SASL authentication",type:"on|off"},{name:"tls",label:"TLS",tooltip:"Set to 'on' to enable TLS",type:"on|off"},{name:"tls_skip_verify",label:"TLS skip verify",tooltip:'Trust server TLS without verification, defaults to "on" (verify)',type:"on|off"},{name:"client_tls_cert",label:"client TLS cert",tooltip:"Path to client certificate for mTLS authorization",type:"path",placeholder:"Enter TLS Client Cert"},{name:"client_tls_key",label:"client TLS key",tooltip:"Path to client key for mTLS authorization",type:"path",placeholder:"Enter TLS Client Key"},{name:"version",label:"Version",tooltip:"Specify the version of the Kafka cluster e.g '2.2.0'",type:"string",placeholder:"Enter Kafka Version"}].concat(S)),(0,r.Z)(o,u,[{name:"url",required:!0,label:"URL",tooltip:"AMQP server endpoint e.g. `amqp://myuser:mypassword@localhost:5672`",type:"url"},{name:"exchange",label:"Exchange",tooltip:"Name of the AMQP exchange",type:"string",placeholder:"Enter Exchange"},{name:"exchange_type",label:"Exchange Type",tooltip:"AMQP exchange type",type:"string",placeholder:"Enter Exchange Type"},{name:"routing_key",label:"Routing Key",tooltip:"Routing key for publishing",type:"string",placeholder:"Enter Routing Key"},{name:"mandatory",label:"Mandatory",tooltip:"Quietly ignore undelivered messages when set to 'off', default is 'on'",type:"on|off"},{name:"durable",label:"Durable",tooltip:"Persist queue across broker restarts when set to 'on', default is 'off'",type:"on|off"},{name:"no_wait",label:"No Wait",tooltip:"Non-blocking message delivery when set to 'on', default is 'off'",type:"on|off"},{name:"internal",label:"Internal",tooltip:"Set to 'on' for exchange to be not used directly by publishers, but only when bound to other exchanges",type:"on|off"},{name:"auto_deleted",label:"Auto Deleted",tooltip:"Auto delete queue when set to 'on', when there are no consumers",type:"on|off"},{name:"delivery_mode",label:"Delivery Mode",tooltip:"Set to '1' for non-persistent or '2' for persistent queue",type:"number",placeholder:"Enter Delivery Mode"}].concat(S)),(0,r.Z)(o,p,[{name:"address",required:!0,label:"Address",tooltip:"Redis server's address e.g. `localhost:6379`",type:"address",placeholder:"Enter Address"},{name:"key",required:!0,label:"Key",tooltip:"Redis key to store/update events, key is auto-created",type:"string",placeholder:"Enter Key"},{name:"password",label:"Password",tooltip:"Redis server password",type:"string",placeholder:"Enter Password"}].concat(S)),(0,r.Z)(o,d,[{name:"broker",required:!0,label:"Broker",tooltip:"MQTT server endpoint e.g. `tcp://localhost:1883`",type:"uri",placeholder:"Enter Brokers"},{name:"topic",required:!0,label:"Topic",tooltip:"Name of the MQTT topic to publish",type:"string",placeholder:"Enter Topic"},{name:"username",label:"Username",tooltip:"MQTT username",type:"string",placeholder:"Enter Username"},{name:"password",label:"Password",tooltip:"MQTT password",type:"string",placeholder:"Enter Password"},{name:"qos",label:"QOS",tooltip:"Set the quality of service priority, defaults to '0'",type:"number",placeholder:"Enter QOS"},{name:"keep_alive_interval",label:"Keep Alive Interval",tooltip:"Keep-alive interval for MQTT connections in s,m,h,d",type:"duration",placeholder:"Enter Keep Alive Interval"},{name:"reconnect_interval",label:"Reconnect Interval",tooltip:"Reconnect interval for MQTT connections in s,m,h,d",type:"duration",placeholder:"Enter Reconnect Interval"}].concat(S)),(0,r.Z)(o,f,[{name:"address",required:!0,label:"Address",tooltip:"NATS server address e.g. '0.0.0.0:4222'",type:"address",placeholder:"Enter Address"},{name:"subject",required:!0,label:"Subject",tooltip:"NATS subscription subject",type:"string",placeholder:"Enter NATS Subject"},{name:"username",label:"Username",tooltip:"NATS username",type:"string",placeholder:"Enter NATS Username"},{name:"password",label:"Password",tooltip:"NATS password",type:"string",placeholder:"Enter NATS password"},{name:"token",label:"Token",tooltip:"NATS token",type:"string",placeholder:"Enter NATS token"},{name:"tls",label:"TLS",tooltip:"Set to 'on' to enable TLS",type:"on|off"},{name:"tls_skip_verify",label:"TLS Skip Verify",tooltip:'Trust server TLS without verification, defaults to "on" (verify)',type:"on|off"},{name:"ping_interval",label:"Ping Interval",tooltip:"Client ping commands interval in s,m,h,d. Disabled by default",type:"duration",placeholder:"Enter Ping Interval"},{name:"streaming",label:"Streaming",tooltip:"Set to 'on' to use streaming NATS server",type:"on|off"},{name:"streaming_async",label:"Streaming async",tooltip:"Set to 'on' to enable asynchronous publish",type:"on|off"},{name:"streaming_max_pub_acks_in_flight",label:"Streaming max publish ACKS in flight",tooltip:"Number of messages to publish without waiting for ACKs",type:"number",placeholder:"Enter Streaming in flight value"},{name:"streaming_cluster_id",label:"Streaming Cluster ID",tooltip:"Unique ID for NATS streaming cluster",type:"string",placeholder:"Enter Streaming Cluster ID"},{name:"cert_authority",label:"Cert Authority",tooltip:"Path to certificate chain of the target NATS server",type:"string",placeholder:"Enter Cert Authority"},{name:"client_cert",label:"Client Cert",tooltip:"Client cert for NATS mTLS auth",type:"string",placeholder:"Enter Client Cert"},{name:"client_key",label:"Client Key",tooltip:"Client cert key for NATS mTLS authorization",type:"string",placeholder:"Enter Client Key"}].concat(S)),(0,r.Z)(o,m,[{name:"url",required:!0,label:"URL",tooltip:"Elasticsearch server's address, with optional authentication info",type:"url",placeholder:"Enter URL"},{name:"index",required:!0,label:"Index",tooltip:"Elasticsearch index to store/update events, index is auto-created",type:"string",placeholder:"Enter Index"},{name:"format",required:!0,label:"Format",tooltip:"'namespace' reflects current bucket/object list and 'access' reflects a journal of object operations, defaults to 'namespace'",type:"enum",placeholder:"Enter Format"}].concat(S)),(0,r.Z)(o,h,[{name:"endpoint",required:!0,label:"Endpoint",tooltip:"Webhook server endpoint e.g. http://localhost:8080/minio/events",type:"url",placeholder:"Enter Endpoint"},{name:"auth_token",label:"Auth Token",tooltip:"Opaque string or JWT authorization token",type:"string",placeholder:"Enter auth_token"}].concat(S)),(0,r.Z)(o,g,[{name:"nsqd_address",required:!0,label:"NSQD Address",tooltip:"NSQ server address e.g. '127.0.0.1:4150'",type:"address",placeholder:"Enter nsqd_address"},{name:"topic",required:!0,label:"Topic",tooltip:"NSQ topic",type:"string",placeholder:"Enter Topic"},{name:"tls",label:"TLS",tooltip:"Set to 'on' to enable TLS",type:"on|off"},{name:"tls_skip_verify",label:"TLS Skip Verify",tooltip:'Trust server TLS without verification, defaults to "on" (verify)',type:"on|off"}].concat(S)),o),x={webhook:"notify_webhook",amqp:"notify_amqp",kafka:"notify_kafka",mqtt:"notify_mqtt",nats:"notify_nats",nsq:"notify_nsq",mysql:"notify_mysql",postgresql:"notify_postgres",elasticsearch:"notify_elasticsearch",redis:"notify_redis"},k=function(e){return x[e]}},37267:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(45649)),i=n(80184),a=(0,r.default)((0,i.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");t.Z=a},45649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=n(28610)},31260:function(e,t,n){"use strict";var o=n(78949);t.Z=o.Z},28610:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return a.Z},debounce:function(){return l.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return c.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return p},setRef:function(){return f},unstable_ClassNameGenerator:function(){return T},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return h.Z},unsupportedProp:function(){return g},useControlled:function(){return y.Z},useEventCallback:function(){return b.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return S.Z}});var o=n(55902),r=n(14036),i=n(31260),a=n(76189),l=n(83199);var s=function(e,t){return function(){return null}},c=n(19103),u=n(98301),d=n(17602);n(87462);var p=function(e,t){return function(){return null}},f=n(62971).Z,m=n(40162),h=n(67384);var g=function(e,t,n,o,r){return null},y=n(98278),b=n(89683),v=n(42071),S=n(23031),T={configure:function(e){o.Z.configure(e)}}},19103:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var o=n(72791);var r=function(e,t){var n,r;return o.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)}},78949:function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];e.apply(this,o),t.apply(this,o)}}),(function(){}))}n.d(t,{Z:function(){return o}})},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=6686.3284b22b.chunk.js.map