"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9059],{9059:function(e,t,a){a.r(t);var n=a(29439),l=a(72791),r=a(29945),s=a(80184);t.default=function(e){var t=e.onChange,a=(0,l.useState)(!1),u=(0,n.Z)(a,2),o=u[0],c=u[1],i=(0,l.useState)(""),d=(0,n.Z)(i,2),g=d[0],m=d[1],h=(0,l.useState)(""),p=(0,n.Z)(h,2),v=p[0],f=p[1],b=(0,l.useState)(""),x=(0,n.Z)(b,2),j=x[0],S=x[1],k=(0,l.useState)(""),C=(0,n.Z)(k,2),w=C[0],E=C[1],Z=(0,l.useState)(""),y=(0,n.Z)(Z,2),z=y[0],W=y[1],B=(0,l.useState)(""),_=(0,n.Z)(B,2),q=_[0],D=_[1],N=(0,l.useState)(""),Q=(0,n.Z)(N,2),F=Q[0],I=Q[1],L=(0,l.useState)("namespace"),P=(0,n.Z)(L,2),M=P[0],T=P[1],Y=(0,l.useState)(""),A=(0,n.Z)(Y,2),H=A[0],O=A[1],U=(0,l.useState)(""),V=(0,n.Z)(U,2),$=V[0],G=V[1],J=(0,l.useState)(""),K=(0,n.Z)(J,2),R=K[0],X=K[1],ee=(0,l.useCallback)((function(){return"".concat(z,":").concat(q,"@tcp(").concat(v,":").concat(w,")/").concat(j)}),[z,q,v,w,j]);(0,l.useEffect)((function(){""!==g&&t([{key:"dsn_string",value:g},{key:"table",value:F},{key:"format",value:M},{key:"queue_dir",value:H},{key:"queue_limit",value:$},{key:"comment",value:R}])}),[g,F,M,H,$,R,t]),(0,l.useEffect)((function(){var e=ee();m(e)}),[z,j,q,w,v,m,ee]);return(0,s.jsxs)(r.ltY,{withBorders:!1,containerPadding:!1,children:[(0,s.jsx)(r.rsf,{label:"Enter DNS String",checked:o,id:"checkedB",name:"checkedB",onChange:function(e){if(e.target.checked){var t=ee();m(t)}else{var a=function(e,t){for(var a,n=new Map,l=/(.*?):(.*?)@tcp\((.*?):(.*?)\)\/(.*?)$/gm;null!==(a=l.exec(e));)a.index===l.lastIndex&&l.lastIndex++,n.set("user",a[1]),n.set("password",a[2]),n.set("host",a[3]),n.set("port",a[4]),n.set("dbname",a[5]);return n}(g);f(a.get("host")?a.get("host")+"":""),E(a.get("port")?a.get("port")+"":""),S(a.get("dbname")?a.get("dbname")+"":""),W(a.get("user")?a.get("user")+"":""),D(a.get("password")?a.get("password")+"":"")}c(e.target.checked)},value:"dnsString"}),o?(0,s.jsx)(l.Fragment,{children:(0,s.jsx)(r.xuv,{className:"inputItem",children:(0,s.jsx)(r.Wzg,{id:"dsn-string",name:"dsn_string",label:"DSN String",value:g,onChange:function(e){m(e.target.value)}})})}):(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(r.xuv,{children:(0,s.jsxs)(r.xuv,{withBorders:!0,useBackground:!0,sx:{overflowY:"auto",height:170,marginBottom:12},children:[(0,s.jsx)(r.Wzg,{id:"host",name:"host",label:"",placeholder:"Enter Host",value:v,onChange:function(e){f(e.target.value)}}),(0,s.jsx)(r.Wzg,{id:"db-name",name:"db-name",label:"",placeholder:"Enter DB Name",value:j,onChange:function(e){S(e.target.value)}}),(0,s.jsx)(r.Wzg,{id:"port",name:"port",label:"",placeholder:"Enter Port",value:w,onChange:function(e){E(e.target.value)}}),(0,s.jsx)(r.Wzg,{id:"user",name:"user",label:"",placeholder:"Enter User",value:z,onChange:function(e){W(e.target.value)}}),(0,s.jsx)(r.Wzg,{id:"password",name:"password",label:"",placeholder:"Enter Password",type:"password",value:q,onChange:function(e){D(e.target.value)}})]})}),(0,s.jsx)(r.rjZ,{item:!0,xs:12,sx:{margin:"12px 0"},children:(0,s.jsx)(r.bSr,{label:"Connection String",multiLine:!0,children:g})})]}),(0,s.jsx)(r.Wzg,{id:"table",name:"table",label:"Table",placeholder:"Enter Table Name",value:F,tooltip:"DB table name to store/update events, table is auto-created",onChange:function(e){I(e.target.value)}}),(0,s.jsx)(r.Eep,{currentValue:M,id:"format",name:"format",label:"Format",onChange:function(e){T(e.target.value)},tooltip:"'namespace' reflects current bucket/object list and 'access' reflects a journal of object operations, defaults to 'namespace'",selectorOptions:[{label:"Namespace",value:"namespace"},{label:"Access",value:"access"}]}),(0,s.jsx)(r.Wzg,{id:"queue-dir",name:"queue_dir",label:"Queue Dir",placeholder:"Enter Queue Dir",value:H,tooltip:"Staging directory for undelivered messages e.g. '/home/events'",onChange:function(e){O(e.target.value)}}),(0,s.jsx)(r.Wzg,{id:"queue-limit",name:"queue_limit",label:"Queue Limit",placeholder:"Enter Queue Limit",type:"number",value:$,tooltip:"Maximum limit for undelivered messages, defaults to '10000'",onChange:function(e){G(e.target.value)}}),(0,s.jsx)(r.q5m,{id:"comment",name:"comment",label:"Comment",placeholder:"Enter custom notes if any",value:R,onChange:function(e){X(e.target.value)}})]})}}}]);
//# sourceMappingURL=9059.bfb04f0e.chunk.js.map