(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6493],{17134:function(e,t,n){"use strict";n.r(t);var s=n(29439),r=n(1413),i=n(61889),o=n(11135),c=n(25787),a=n(29945),l=n(72791),u=n(57689),d=n(81207),f=n(38442),p=n(56087),x=n(81551),h=n(87995),m=n(75578),K=n(23814),j=n(59114),S=n(92983),Z=n(27454),y=n(47974),v=n(27559),C=n(80184),k=(0,m.Z)(l.lazy((function(){return Promise.all([n.e(5994),n.e(2317),n.e(2032)]).then(n.bind(n,62032))})));t.default=(0,c.Z)((function(e){return(0,o.Z)((0,r.Z)((0,r.Z)({},K.qg),K.Bz))}))((function(e){var t=e.classes,n=(0,x.TL)(),r=(0,u.s0)(),o=(0,l.useState)(""),c=(0,s.Z)(o,2),m=c[0],K=c[1],_=(0,l.useState)(!1),E=(0,s.Z)(_,2),b=E[0],g=E[1],M=(0,l.useState)(""),F=(0,s.Z)(M,2),P=F[0],A=F[1],I=(0,l.useState)(!1),z=(0,s.Z)(I,2),T=z[0],Y=z[1],D=(0,l.useState)([]),L=(0,s.Z)(D,2),w=L[0],B=L[1],R=(0,f.F)(p.C3,[p.Ft.KMS_DELETE_KEY]),N=(0,f.F)(p.C3,[p.Ft.KMS_LIST_KEYS]);(0,l.useEffect)((function(){O()}),[]),(0,l.useEffect)((function(){Y(!0)}),[m]),(0,l.useEffect)((function(){if(T)if(N){var e=""===m.trim()?"*":m.trim();d.Z.invoke("GET","/api/v1/kms/keys?pattern=".concat(e)).then((function(e){Y(!1),B(e.results)})).catch((function(e){Y(!1),n((0,h.Ih)(e))}))}else Y(!1)}),[T,Y,B,n,N,m]);var O=function(){Y(!0)},V=[{type:"delete",onClick:function(e){g(!0),A(e)},sendOnlyId:!0,disableButtonFunction:function(){return!R}}];return(0,l.useEffect)((function(){n((0,h.Sc)("list_keys"))}),[n]),(0,C.jsxs)(l.Fragment,{children:[b&&(0,C.jsx)(k,{deleteOpen:b,selectedItem:P,endpoint:"/api/v1/kms/keys/",element:"Key",closeDeleteModalAndRefresh:function(e){g(!1),e&&O()}}),(0,C.jsx)(y.Z,{label:"Key Management Service Keys",actions:(0,C.jsx)(v.Z,{})}),(0,C.jsx)(a.Xgh,{className:t.pageContainer,children:(0,C.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,C.jsxs)(i.ZP,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"flex-end",sx:{"& button":{marginLeft:"8px"}},children:[(0,C.jsx)(f.s,{scopes:[p.Ft.KMS_LIST_KEYS],resource:p.C3,errorProps:{disabled:!0},children:(0,C.jsx)(j.Z,{onChange:K,placeholder:"Search Keys with pattern",value:m})}),(0,C.jsx)(f.s,{scopes:[p.Ft.KMS_LIST_KEYS],resource:p.C3,errorProps:{disabled:!0},children:(0,C.jsx)(Z.Z,{tooltip:"Refresh",children:(0,C.jsx)(a.zxk,{id:"refresh-keys",variant:"regular",icon:(0,C.jsx)(a.DuK,{}),onClick:function(){return Y(!0)}})})}),(0,C.jsx)(f.s,{scopes:[p.Ft.KMS_IMPORT_KEY],resource:p.C3,errorProps:{disabled:!0},children:(0,C.jsx)(Z.Z,{tooltip:"Import Key",children:(0,C.jsx)(a.zxk,{id:"import-key",variant:"regular",icon:(0,C.jsx)(a.rG2,{}),onClick:function(){r(p.gA.KMS_KEYS_IMPORT)}})})}),(0,C.jsx)(f.s,{scopes:[p.Ft.KMS_CREATE_KEY],resource:p.C3,errorProps:{disabled:!0},children:(0,C.jsx)(Z.Z,{tooltip:"Create Key",children:(0,C.jsx)(a.zxk,{id:"create-key",label:"Create Key",variant:"callAction",icon:(0,C.jsx)(a.dtP,{}),onClick:function(){return r(p.gA.KMS_KEYS_ADD)}})})})]}),(0,C.jsx)(i.ZP,{item:!0,xs:12,className:t.tableBlock,children:(0,C.jsx)(f.s,{scopes:[p.Ft.KMS_LIST_KEYS],resource:p.C3,errorProps:{disabled:!0},children:(0,C.jsx)(S.Z,{itemActions:V,columns:[{label:"Name",elementKey:"name"},{label:"Created By",elementKey:"createdBy"},{label:"Created At",elementKey:"createdAt"}],isLoading:T,records:w,entityName:"Keys",idField:"name"})})})]})})]})}))},26759:function(e,t,n){"use strict";var s=n(64836);t.Z=void 0;var r=s(n(45649)),i=n(80184),o=(0,r.default)((0,i.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=o},70366:function(e,t,n){"use strict";var s=n(64836);t.Z=void 0;var r=s(n(45649)),i=n(80184),o=(0,r.default)((0,i.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");t.Z=o},97911:function(e,t,n){"use strict";var s=n(64836);t.Z=void 0;var r=s(n(45649)),i=n(80184),o=(0,r.default)((0,i.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");t.Z=o},26769:function(e,t,n){var s=n(39066),r=n(93629),i=n(43141);e.exports=function(e){return"string"==typeof e||!r(e)&&i(e)&&"[object String]"==s(e)}}}]);
//# sourceMappingURL=6493.c0434e98.chunk.js.map