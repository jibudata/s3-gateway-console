(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4414],{90282:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(29439),a=t(1413),i=t(72791),c=t(26181),o=t.n(c),u=t(29945),s=t(99663),l=t(86711),d=t(11135),f=t(25787),p=t(23814),v=t(20890),m=t(80184),h=(0,f.Z)((function(e){var n;return(0,d.Z)({errorBlock:{color:(null===(n=e.palette)||void 0===n?void 0:n.error.main)||"#C83B51"}})}))((function(e){var n=e.classes,t=e.errorMessage,r=e.withBreak,a=void 0===r||r;return(0,m.jsxs)(i.Fragment,{children:[a&&(0,m.jsx)("br",{}),(0,m.jsx)(v.Z,{component:"p",variant:"body1",className:n.errorBlock,children:t})]})})),x=(0,f.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},p.YI),p.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},p.bV),{},{inputLabel:(0,a.Z)((0,a.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,a.Z)((0,a.Z)({},p.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var n=e.label,t=e.classes,a=e.onChange,c=e.id,d=e.name,f=e.disabled,p=void 0!==f&&f,v=e.tooltip,x=void 0===v?"":v,Z=e.required,g=e.error,j=void 0===g?"":g,b=e.accept,y=void 0===b?"":b,C=e.value,S=void 0===C?"":C,w=(0,i.useState)(!1),F=(0,r.Z)(w,2),z=F[0],k=F[1];return(0,m.jsx)(i.Fragment,{children:(0,m.jsxs)(u.rjZ,{item:!0,xs:12,className:"inputItem ".concat(t.fileInputField," ").concat(t.fieldBottom," ").concat(t.fieldContainer," ").concat(""!==j?t.errorInField:""),children:[""!==n&&(0,m.jsxs)(u.AZs,{htmlFor:c,className:"".concat(""!==j?t.fieldLabelError:""),children:[(0,m.jsxs)("span",{children:[n,Z?"*":""]}),""!==x&&(0,m.jsx)("div",{className:t.tooltipContainer,children:(0,m.jsx)(u.ua7,{tooltip:x,placement:"top",children:(0,m.jsx)("div",{className:t.tooltip,children:(0,m.jsx)(u.byK,{})})})})]}),z||""===S?(0,m.jsxs)("div",{className:t.textBoxContainer,children:[(0,m.jsx)("input",{type:"file",name:d,onChange:function(e){var n=o()(e,"target.files[0].name","");!function(e,n){var t=e.target.files[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(){var e=r.result;if(e){var t=e.toString().split("base64,");2===t.length&&n(t[1])}}}(e,(function(e){a(e,n)}))},accept:y,required:Z,disabled:p,className:t.fileInputField}),""!==S&&(0,m.jsx)(u.hU,{color:"primary","aria-label":"upload picture",onClick:function(){k(!1)},size:"small",children:(0,m.jsx)(l.Z,{})}),""!==j&&(0,m.jsx)(h,{errorMessage:j})]}):(0,m.jsxs)("div",{className:t.fileReselect,children:[(0,m.jsx)("div",{className:t.valueString,children:S}),(0,m.jsx)(u.hU,{color:"primary","aria-label":"upload picture",onClick:function(){k(!0)},size:"small",children:(0,m.jsx)(s.Z,{})})]})]})})}))},34414:function(e,n,t){"use strict";t.r(n);var r=t(29439),a=t(72791),i=t(26181),c=t.n(i),o=t(29945),u=t(31776),s=t(82342),l=t(23814),d=t(87995),f=t(81551),p=t(90282),v=t(56028),m=t(80184);n.default=function(e){var n=e.open,t=e.closeModalAndRefresh,i=e.tierData,h=(0,f.TL)(),x=(0,a.useState)(!1),Z=(0,r.Z)(x,2),g=Z[0],j=Z[1],b=(0,a.useState)(""),y=(0,r.Z)(b,2),C=y[0],S=y[1],w=(0,a.useState)(""),F=(0,r.Z)(w,2),z=F[0],k=F[1],N=(0,a.useState)(""),I=(0,r.Z)(N,2),A=I[0],K=I[1],_=(0,a.useState)(""),B=(0,r.Z)(_,2),E=B[0],M=B[1],V=(0,a.useState)(!0),W=(0,r.Z)(V,2),L=W[0],P=W[1],R=c()(i,"type",""),D=c()(i,"".concat(R,".name"),"");(0,a.useEffect)((function(){var e=!0;"s3"===R||"azure"===R||"minio"===R?""!==A&&""!==E||(e=!1):"gcs"===R&&""===z&&(e=!1),P(e)}),[E,A,z,R]);return(0,m.jsx)(v.Z,{modalOpen:n,titleIcon:(0,m.jsx)(o.mBM,{}),onClose:function(){t(!1)},title:"Update Credentials - ".concat(R," / ").concat(D),children:(0,m.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j(!0),function(){var e={};"s3"===R||"azure"===R||"minio"===R?e={access_key:A,secret_key:E}:"gcs"===R&&(e={creds:z}),""!==D?u.h.admin.editTierCredentials(R,D,e).then((function(){j(!1),t(!0)})).catch((function(e){j(!1),h((0,d.zb)((0,s.g)(e.error)))})):(0,d.zb)({errorMessage:"There was an error retrieving tier information",detailedError:""})}()},children:[(0,m.jsxs)(o.ltY,{withBorders:!1,containerPadding:!1,children:[("s3"===R||"minio"===R)&&(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)(o.Wzg,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:A,onChange:function(e){K(e.target.value)}}),(0,m.jsx)(o.Wzg,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:E,onChange:function(e){M(e.target.value)}})]}),"gcs"===R&&(0,m.jsx)(a.Fragment,{children:(0,m.jsx)(p.Z,{accept:".json",id:"creds",label:"Credentials",name:"creds",onChange:function(e,n){k(e),S(n)},value:C})}),"azure"===R&&(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)(o.Wzg,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:A,onChange:function(e){K(e.target.value)}}),(0,m.jsx)(o.Wzg,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:E,onChange:function(e){M(e.target.value)}})]})]}),g&&(0,m.jsx)(o.rjZ,{item:!0,xs:12,children:(0,m.jsx)(o.kod,{})}),(0,m.jsx)(o.rjZ,{item:!0,xs:12,sx:l.ID.modalButtonBar,children:(0,m.jsx)(o.zxk,{id:"save-credentials",type:"submit",variant:"callAction",disabled:g||!L,label:"Save"})})]})})}},99663:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var a=r(t(45649)),i=t(80184),c=(0,a.default)((0,i.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");n.Z=c},86711:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var a=r(t(45649)),i=t(80184),c=(0,a.default)((0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");n.Z=c},45649:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=t(28610)},31260:function(e,n,t){"use strict";var r=t(78949);n.Z=r.Z},28610:function(e,n,t){"use strict";t.r(n),t.d(n,{capitalize:function(){return a.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return c.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return s.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return p},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return v.Z},unstable_useId:function(){return m.Z},unsupportedProp:function(){return h},useControlled:function(){return x.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return g.Z},useIsFocusVisible:function(){return j.Z}});var r=t(55902),a=t(14036),i=t(31260),c=t(76189),o=t(83199);var u=function(e,n){return function(){return null}},s=t(19103),l=t(98301),d=t(17602);t(87462);var f=function(e,n){return function(){return null}},p=t(62971).Z,v=t(40162),m=t(67384);var h=function(e,n,t,r,a){return null},x=t(98278),Z=t(89683),g=t(42071),j=t(23031),b={configure:function(e){r.Z.configure(e)}}},19103:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(72791);var a=function(e,n){return r.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)}},78949:function(e,n,t){"use strict";function r(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){return null==n?e:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e.apply(this,r),n.apply(this,r)}}),(function(){}))}t.d(n,{Z:function(){return r}})},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=4414.f0324dee.chunk.js.map