"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4515],{29316:function(e,n,a){a(50390);var t=a(6369),i=a(86509),s=a(4285),r=a(52813),l=a(62559);n.Z=(0,s.Z)((function(e){return(0,i.Z)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"300px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center"}})}))((function(e){var n=e.to,a=e.label,i=e.classes,s=e.className;return(0,l.jsxs)(t.rU,{to:n,className:"".concat(i.link," ").concat(s||""),children:[(0,l.jsx)("div",{className:i.icon,children:(0,l.jsx)(r.xN,{})}),(0,l.jsx)("div",{className:i.label,children:a})]})}))},82461:function(e,n,a){a.d(n,{Z:function(){return j}});var t=a(23430),i=a(18489),s=a(50390),r=a(38342),l=a.n(r),o=a(25594),c=a(14602),d=a(94187),u=a(95467),m=a(46529),x=a(94258),p=a(86509),h=a(4285),f=a(72462),g=a(97538),v=a(82981),Z=a(62559),j=(0,h.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},f.YI),f.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},f.bV),{},{inputLabel:(0,i.Z)((0,i.Z)({},f.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,i.Z)((0,i.Z)({},f.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var n=e.label,a=e.classes,i=e.onChange,r=e.id,p=e.name,h=e.disabled,f=void 0!==h&&h,j=e.tooltip,b=void 0===j?"":j,C=e.required,y=e.error,N=void 0===y?"":y,S=e.accept,k=void 0===S?"":S,w=e.value,F=void 0===w?"":w,E=(0,s.useState)(!1),I=(0,t.Z)(E,2),T=I[0],A=I[1];return(0,Z.jsx)(s.Fragment,{children:(0,Z.jsxs)(o.ZP,{item:!0,xs:12,className:"".concat(a.fileInputField," ").concat(a.fieldBottom," ").concat(a.fieldContainer," ").concat(""!==N?a.errorInField:""),children:[""!==n&&(0,Z.jsxs)(c.Z,{htmlFor:r,className:"".concat(""!==N?a.fieldLabelError:""," ").concat(a.inputLabel),children:[(0,Z.jsxs)("span",{children:[n,C?"*":""]}),""!==b&&(0,Z.jsx)("div",{className:a.tooltipContainer,children:(0,Z.jsx)(d.Z,{title:b,placement:"top-start",children:(0,Z.jsx)("div",{className:a.tooltip,children:(0,Z.jsx)(g.Z,{})})})})]}),T||""===F?(0,Z.jsxs)("div",{className:a.textBoxContainer,children:[(0,Z.jsx)("input",{type:"file",name:p,onChange:function(e){var n=l()(e,"target.files[0].name","");!function(e,n){var a=e.target.files[0],t=new FileReader;t.readAsDataURL(a),t.onload=function(){var e=t.result;if(e){var a=e.toString().split("base64,");2===a.length&&n(a[1])}}}(e,(function(e){i(e,n)}))},accept:k,required:C,disabled:f,className:a.fileInputField}),""!==F&&(0,Z.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){A(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,Z.jsx)(x.Z,{})}),""!==N&&(0,Z.jsx)(v.Z,{errorMessage:N})]}):(0,Z.jsxs)("div",{className:a.fileReselect,children:[(0,Z.jsx)("div",{className:a.valueString,children:F}),(0,Z.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){A(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,Z.jsx)(m.Z,{})})]})]})})}))},66964:function(e,n,a){var t=a(18489),i=a(50390),s=a(12066),r=a(25594),l=a(14602),o=a(94187),c=a(95467),d=a(86509),u=a(62449),m=a(4285),x=a(72462),p=a(97538),h=a(44977),f=a(62559),g=(0,u.Z)((function(e){return(0,d.Z)((0,t.Z)({},x.gM))}));function v(e){var n=g();return(0,f.jsx)(s.Z,(0,t.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,d.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},x.YI),x.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,t.Z)((0,t.Z)({},x.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,a=e.onChange,s=e.value,d=e.id,u=e.name,m=e.type,x=void 0===m?"text":m,g=e.autoComplete,Z=void 0===g?"off":g,j=e.disabled,b=void 0!==j&&j,C=e.multiline,y=void 0!==C&&C,N=e.tooltip,S=void 0===N?"":N,k=e.index,w=void 0===k?0:k,F=e.error,E=void 0===F?"":F,I=e.required,T=void 0!==I&&I,A=e.placeholder,B=void 0===A?"":A,R=e.min,L=e.max,P=e.overlayIcon,z=void 0===P?null:P,M=e.overlayObject,W=void 0===M?null:M,K=e.extraInputProps,O=void 0===K?{}:K,D=e.overlayAction,V=e.noLabelMinWidth,Y=void 0!==V&&V,G=e.pattern,H=void 0===G?"":G,X=e.autoFocus,_=void 0!==X&&X,U=e.classes,$=e.className,q=void 0===$?"":$,Q=(0,t.Z)({"data-index":w},O);return"number"===x&&R&&(Q.min=R),"number"===x&&L&&(Q.max=L),""!==H&&(Q.pattern=H),(0,f.jsx)(i.Fragment,{children:(0,f.jsxs)(r.ZP,{container:!0,className:(0,h.Z)(""!==q?q:"",""!==E?U.errorInField:U.inputBoxContainer),children:[""!==n&&(0,f.jsxs)(l.Z,{htmlFor:d,className:Y?U.noMinWidthLabel:U.inputLabel,children:[(0,f.jsxs)("span",{children:[n,T?"*":""]}),""!==S&&(0,f.jsx)("div",{className:U.tooltipContainer,children:(0,f.jsx)(o.Z,{title:S,placement:"top-start",children:(0,f.jsx)("div",{className:U.tooltip,children:(0,f.jsx)(p.Z,{})})})})]}),(0,f.jsxs)("div",{className:U.textBoxContainer,children:[(0,f.jsx)(v,{id:d,name:u,fullWidth:!0,value:s,autoFocus:_,disabled:b,onChange:a,type:x,multiline:y,autoComplete:Z,inputProps:Q,error:""!==E,helperText:E,placeholder:B,className:U.inputRebase}),z&&(0,f.jsx)("div",{className:"".concat(U.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,f.jsx)(c.Z,{onClick:D?function(){D()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:z})}),W&&(0,f.jsx)("div",{className:"".concat(U.overlayAction," ").concat(""!==n?"withLabel":""),children:W})]})]})})}))},25534:function(e,n,a){var t=a(18489),i=(a(50390),a(25594)),s=a(86509),r=a(4285),l=a(72462),o=a(62559);n.Z=(0,r.Z)((function(e){return(0,s.Z)((0,t.Z)({},l.Bw))}))((function(e){var n=e.classes,a=e.className,t=void 0===a?"":a,s=e.children;return(0,o.jsx)("div",{className:n.contentSpacer,children:(0,o.jsx)(i.ZP,{container:!0,children:(0,o.jsx)(i.ZP,{item:!0,xs:12,className:t,children:s})})})}))},35721:function(e,n,a){a(50390);var t=a(34424),i=a(56805),s=a(25594),r=a(86509),l=a(4285),o=a(35477),c=a(95467),d=a(26805),u=a(44078),m=a(5265),x=a(52813),p=a(62559),h={toggleList:m.kQ},f=(0,t.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),h);n.Z=f((0,l.Z)((function(e){return(0,r.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var n=e.classes,a=e.label,t=e.actions,r=e.sidebarOpen,l=e.operatorMode,m=e.managerObjects,h=e.toggleList;return(0,p.jsxs)(s.ZP,{container:!0,className:"".concat(n.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,p.jsx)(i.Z,{display:{xs:"block",sm:"block",md:"none"},children:(0,p.jsx)(s.ZP,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),(0,p.jsxs)(s.ZP,{item:!0,xs:12,sm:12,md:6,className:n.label,children:[!r&&(0,p.jsx)("div",{className:n.logo,children:l?(0,p.jsx)(d.Z,{}):(0,p.jsx)(u.Z,{})}),(0,p.jsx)(o.Z,{variant:"h4",className:n.labelStyle,children:a})]}),(0,p.jsxs)(s.ZP,{item:!0,xs:12,sm:12,md:6,className:n.rightMenu,children:[t&&t,m&&m.length>0&&(0,p.jsx)(c.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){h()},size:"large",children:(0,p.jsx)(x.gx,{})})]})]})})))},24515:function(e,n,a){a.r(n);var t=a(23430),i=a(18489),s=a(50390),r=a(34424),l=a(38342),o=a.n(l),c=a(25594),d=a(86509),u=a(4285),m=a(56805),x=a(66946),p=a(44149),h=a(72462),f=a(30324),g=a(66964),v=a(82461),Z=a(35721),j=a(51444),b=a(29316),C=a(25534),y=a(49495),N=a(62559),S={setErrorSnackMessage:p.Ih},k=(0,r.$j)(null,S);n.default=(0,u.Z)((function(e){return(0,d.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.oO),h.Je),h.DF),{},{lambdaNotifTitle:{color:"#07193E",fontSize:16,fontFamily:"Lato,sans-serif",paddingLeft:18},fileInputFieldCss:{margin:"0"},fileTextBoxContainer:{maxWidth:" 100%",flex:1},fileReselectCss:{maxWidth:" 100%",flex:1}},h.bV))}))(k((function(e){var n=e.classes,a=e.setErrorSnackMessage,r=e.match,l=e.history,d=(0,s.useState)(!1),u=(0,t.Z)(d,2),p=u[0],h=u[1],S=(0,s.useState)(""),k=(0,t.Z)(S,2),w=k[0],F=k[1],E=(0,s.useState)(""),I=(0,t.Z)(E,2),T=I[0],A=I[1],B=(0,s.useState)(""),R=(0,t.Z)(B,2),L=R[0],P=R[1],z=(0,s.useState)(""),M=(0,t.Z)(z,2),W=M[0],K=M[1],O=(0,s.useState)(""),D=(0,t.Z)(O,2),V=D[0],Y=D[1],G=(0,s.useState)(""),H=(0,t.Z)(G,2),X=H[0],_=H[1],U=(0,s.useState)(""),$=(0,t.Z)(U,2),q=$[0],Q=$[1],J=(0,s.useState)(""),ee=(0,t.Z)(J,2),ne=ee[0],ae=ee[1],te=(0,s.useState)(""),ie=(0,t.Z)(te,2),se=ie[0],re=ie[1],le=(0,s.useState)(""),oe=(0,t.Z)(le,2),ce=oe[0],de=oe[1],ue=(0,s.useState)(""),me=(0,t.Z)(ue,2),xe=me[0],pe=me[1],he=(0,s.useState)(""),fe=(0,t.Z)(he,2),ge=fe[0],ve=fe[1],Ze=(0,s.useState)(""),je=(0,t.Z)(Ze,2),be=je[0],Ce=je[1],ye=o()(r,"params.service","s3"),Ne=(0,s.useState)(!0),Se=(0,t.Z)(Ne,2),ke=Se[0],we=Se[1],Fe=(0,s.useState)(""),Ee=(0,t.Z)(Fe,2),Ie=Ee[0],Te=Ee[1],Ae=(0,s.useCallback)((function(){return/^[A-Z0-9-_]+$/.test(w)?(Te(""),!0):(Te("Please verify that string is uppercase only and contains valid characters (numbers, dashes & underscores)."),!1)}),[w]);(0,s.useEffect)((function(){if(p){var e={},n={name:w,endpoint:T,bucket:L,prefix:W,region:V},t=ye;switch("minio"===ye&&(t="s3"),ye){case"minio":case"s3":e={s3:(0,i.Z)((0,i.Z)({},n),{},{accesskey:q,secretkey:ne,storageclass:X})};break;case"gcs":e={gcs:(0,i.Z)((0,i.Z)({},n),{},{creds:ce})};break;case"azure":e={azure:(0,i.Z)((0,i.Z)({},n),{},{accountname:xe,accountkey:ge})}}var s=(0,i.Z)({type:t},e);f.Z.invoke("POST","/api/v1/admin/tiers",s).then((function(){h(!1),l.push(y.gA.TIERS_ADD)})).catch((function(e){h(!1),a(e)}))}}),[q,ge,xe,L,ce,T,l,w,W,V,p,ne,a,X,ye]),(0,s.useEffect)((function(){var e=!0;""===ye&&(e=!1),""!==w&&Ae()||(e=!1),""===T&&(e=!1),""===L&&(e=!1),""===W&&(e=!1),""===V&&(e=!1),"s3"!==ye&&"minio"!==ye||(""===q&&(e=!1),""===ne&&(e=!1)),"gcs"===ye&&""===ce&&(e=!1),"azure"===ye&&(""===xe&&(e=!1),""===ge&&(e=!1)),we(e)}),[q,ge,xe,L,ce,T,ke,w,W,V,ne,X,ye,Ae]),(0,s.useEffect)((function(){switch(ye){case"gcs":A("https://storage.googleapis.com/"),Ce("Google Cloud");break;case"s3":A("https://s3.amazonaws.com"),Ce("Amazon S3");break;case"azure":A("http://blob.core.windows.net"),Ce("Azure");break;case"minio":A(""),Ce("MinIO")}}),[ye]);var Be=j.Bh.find((function(e){return e.serviceName===ye}));return(0,N.jsxs)(s.Fragment,{children:[(0,N.jsx)(Z.Z,{label:"Tiers"}),(0,N.jsx)(b.Z,{to:y.gA.TIERS_ADD,label:"Back To Tier Type Selection"}),(0,N.jsx)(C.Z,{children:(0,N.jsx)(c.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea",padding:"25px"},children:(0,N.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),h(!0)},children:[""!==ye&&Be?(0,N.jsxs)(c.ZP,{item:!0,xs:12,sx:{display:"flex",alignItems:"center",justifyContent:"start",marginBottom:"20px"},children:[Be.logo?(0,N.jsx)(m.Z,{sx:{"& .min-icon":{height:"60px",width:"60px"}},children:Be.logo}):null,(0,N.jsx)("div",{className:n.lambdaNotifTitle,children:(0,N.jsxs)("b",{children:[be||""," - Add Tier Configuration"]})})]},"icon-".concat(Be.targetTitle)):null,(0,N.jsx)(c.ZP,{item:!0,xs:12,sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gridRowGap:25,gridColumnGap:50},children:""!==ye&&(0,N.jsxs)(s.Fragment,{children:[(0,N.jsx)(g.Z,{id:"name",name:"name",label:"Name",placeholder:"Enter Name (Eg. REMOTE-TIER)",value:w,onChange:function(e){F(e.target.value.toUpperCase())},error:Ie}),(0,N.jsx)(g.Z,{id:"endpoint",name:"endpoint",label:"Endpoint",placeholder:"Enter Endpoint",value:T,onChange:function(e){A(e.target.value)}}),(ye===j.b2||ye===j.Pp)&&(0,N.jsxs)(s.Fragment,{children:[(0,N.jsx)(g.Z,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:q,onChange:function(e){Q(e.target.value)}}),(0,N.jsx)(g.Z,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:ne,onChange:function(e){ae(e.target.value)}})]}),ye===j.f0&&(0,N.jsx)(v.Z,{accept:".json",classes:{fileInputField:n.fileInputFieldCss,textBoxContainer:n.fileTextBoxContainer,fileReselect:n.fileReselectCss},id:"creds",label:"Credentials",name:"creds",onChange:function(e,n){de(e),re(n)},value:se}),ye===j.vB&&(0,N.jsxs)(s.Fragment,{children:[(0,N.jsx)(g.Z,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:xe,onChange:function(e){pe(e.target.value)}}),(0,N.jsx)(g.Z,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:ge,onChange:function(e){ve(e.target.value)}})]}),(0,N.jsx)(g.Z,{id:"bucket",name:"bucket",label:"Bucket",placeholder:"Enter Bucket",value:L,onChange:function(e){P(e.target.value)}}),(0,N.jsx)(g.Z,{id:"prefix",name:"prefix",label:"Prefix",placeholder:"Enter Prefix",value:W,onChange:function(e){K(e.target.value)}}),(0,N.jsx)(g.Z,{id:"region",name:"region",label:"Region",placeholder:"Enter Region",value:V,onChange:function(e){Y(e.target.value)}}),ye===j.b2||ye===j.Pp&&(0,N.jsx)(g.Z,{id:"storageClass",name:"storageClass",label:"Storage Class",placeholder:"Enter Storage Class",value:X,onChange:function(e){_(e.target.value)}})]})}),(0,N.jsx)(c.ZP,{item:!0,xs:12,className:n.settingsButtonContainer,children:(0,N.jsx)(x.Z,{type:"submit",variant:"contained",color:"primary",disabled:p||!ke,children:"Save Tier Configuration"})})]})})})]})})))},51444:function(e,n,a){a.d(n,{Pp:function(){return s},f0:function(){return r},b2:function(){return l},vB:function(){return o},Bh:function(){return c}});var t=a(52813),i=a(62559),s="minio",r="gcs",l="s3",o="azure",c=[{serviceName:s,targetTitle:"MinIO",logo:(0,i.jsx)(t.$E,{}),logoXs:(0,i.jsx)(t.YE,{})},{serviceName:r,targetTitle:"Google Cloud Storage",logo:(0,i.jsx)(t.UQ,{}),logoXs:(0,i.jsx)(t.Vw,{})},{serviceName:l,targetTitle:"AWS S3",logo:(0,i.jsx)(t.fe,{}),logoXs:(0,i.jsx)(t.Xj,{})},{serviceName:o,targetTitle:"Azure",logo:(0,i.jsx)(t.jz,{}),logoXs:(0,i.jsx)(t.nA,{})}]},82981:function(e,n,a){var t=a(50390),i=a(35477),s=a(86509),r=a(4285),l=a(62559);n.Z=(0,r.Z)((function(e){var n;return(0,s.Z)({errorBlock:{color:(null===(n=e.palette)||void 0===n?void 0:n.error.main)||"#C83B51"}})}))((function(e){var n=e.classes,a=e.errorMessage,s=e.withBreak,r=void 0===s||s;return(0,l.jsxs)(t.Fragment,{children:[r&&(0,l.jsx)("br",{}),(0,l.jsx)(i.Z,{component:"p",variant:"body1",className:n.errorBlock,children:a})]})}))},46529:function(e,n,a){var t=a(64119);n.Z=void 0;var i=t(a(66830)),s=a(62559),r=(0,i.default)((0,s.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");n.Z=r},94258:function(e,n,a){var t=a(64119);n.Z=void 0;var i=t(a(66830)),s=a(62559),r=(0,i.default)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");n.Z=r}}]);
//# sourceMappingURL=4515.fb4bb451.chunk.js.map