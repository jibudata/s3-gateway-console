"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8270,4619],{94619:function(e,t,n){n.r(t);var i=n(29439),o=n(72791),r=n(56028),a=n(29945),s=n(31776),l=n(82342),c=n(23814),d=n(87995),u=n(44690),h=n(80184);t.default=function(e){var t=e.modalOpen,n=e.onClose,f=e.bucket,m=e.prefilledRoute,x=(0,u.TL)(),p=(0,o.useState)(""),b=(0,i.Z)(p,2),v=b[0],j=b[1],g=(0,o.useState)("readonly"),_=(0,i.Z)(g,2),S=_[0],T=_[1];(0,o.useEffect)((function(){m&&j(m)}),[m]);return(0,h.jsx)(r.Z,{modalOpen:t,title:"Add Anonymous Access Rule",onClose:n,titleIcon:(0,h.jsx)(a.sR0,{}),children:(0,h.jsxs)(a.ltY,{withBorders:!1,containerPadding:!1,children:[(0,h.jsx)(a.Wzg,{value:v,label:"Prefix",id:"prefix",name:"prefix",placeholder:"Enter Prefix",onChange:function(e){j(e.target.value)},tooltip:"Enter '/' to apply the rule to all prefixes and objects at the bucket root. Do not include the wildcard asterisk '*' as part of the prefix *unless* it is an explicit part of the prefix name. The Console automatically appends an asterisk to the appropriate sections of the resulting IAM policy."}),(0,h.jsx)(a.PhF,{id:"access",name:"Access",onChange:function(e){T(e)},label:"Access",value:S,options:[{label:"readonly",value:"readonly"},{label:"writeonly",value:"writeonly"},{label:"readwrite",value:"readwrite"}],disabled:!1}),(0,h.jsxs)(a.rjZ,{item:!0,xs:12,sx:c.ID.modalButtonBar,children:[(0,h.jsx)(a.zxk,{id:"clear",type:"button",variant:"regular",onClick:function(){j(""),T("readonly")},label:"Clear"}),(0,h.jsx)(a.zxk,{id:"add-access-save",type:"submit",variant:"callAction",disabled:""===v.trim(),onClick:function(){s.h.bucket.setAccessRuleWithBucket(f,{prefix:v,access:S}).then((function(e){x((0,d.y1)("Access Rule added successfully")),n()})).catch((function(e){x((0,d.Ih)((0,l.g)(e.error))),n()}))},label:"Save"})]})]})})}},98270:function(e,t,n){n.r(t),n.d(t,{default:function(){return yt}});var i=n(72791),o=n(78687),r=n(57689),a=n(31776),s=n(44690),l=n(56087),c=n(45248),d=n(54756),u=n(1413),h=n(93433),f=n(29439),m=n(26181),x=n.n(m),p=n(29945),b=n(29472),v=n(82342),j=n(43954),g=n(99779),_=n(78029),S=n.n(_),T=n(11135),C=n(72455),w=n(11087),Z=n(23814),y=n(38442),N=n(75578),F=n(87995),I=function(e){return(e.match(/\.([^.]*?)(?=\?|#|$)/)||[])[1]},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.keys(e).reduce((function(n,i){return I(i)&&i.includes(t)&&(n[i]=e[i]),n}),{});return Object.keys(i).filter((function(e){var o=i[e].some((function(e){return n.find((function(t){var n=!1;if(-1!==t.indexOf("*")){var i=t.substring(0,t.length-1);n=e.includes(i)}return n||e===t}))})),r=e.substring(0,e.indexOf("/*."))==="arn:aws:s3:::".concat(t);return o&&(r&&"arn:aws:s3:::*"!==e)}))},O=n(80184),k=(0,N.Z)(i.lazy((function(){return n.e(2185).then(n.bind(n,62185))}))),L=(0,C.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)({},Z.cx),{},{slashSpacingStyle:{margin:"0 5px"}}))})),B=function(e){var t=e.bucketName,n=e.internalPaths,a=e.hidePathButton,u=e.additionalOptions,m=(0,s.TL)(),x=(0,r.s0)(),b=L(),v=(0,o.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),j=(0,o.v9)((function(e){return e.objectBrowser.versionsMode})),g=(0,o.v9)((function(e){return e.objectBrowser.versionedFile})),_=(0,o.v9)((function(e){return e.system.anonymousMode})),T=(0,i.useState)(!1),C=(0,f.Z)(T,2),Z=C[0],N=C[1],I=[l.Ft.S3_PUT_OBJECT,l.Ft.S3_PUT_ACTIONS],B=(0,o.v9)((function(e){return e.console.session&&e.console.session.permissions||{}})),P=n;""!==n&&(P="/".concat(n));var A=P.split("/").filter((function(e){return""!==e})),D=A.length-1,R=t+P||t,M=E(B,R,I),U=(0,y.F)([R].concat((0,h.Z)(M)),I)||_,z=A.map((function(e,n){var o="".concat(A.slice(0,n+1).join("/"),"/"),r="/browser/".concat(t,"/").concat(o?"".concat((0,c.LL)(o)):"");return n===D&&e===g?null:(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)("span",{className:b.slashSpacingStyle,children:"/"}),n===D?(0,O.jsx)("span",{style:{cursor:"default",whiteSpace:"pre"},children:(0,c.eC)(e)}):(0,O.jsx)(w.rU,{style:{whiteSpace:"pre"},to:r,onClick:function(){m((0,d.db)({status:!1,objectName:""}))},children:(0,c.eC)(e)})]},"breadcrumbs-".concat(n.toString()))})),G=[];j&&(G=[(0,O.jsx)(i.Fragment,{children:(0,O.jsxs)("span",{children:[(0,O.jsx)("span",{className:b.slashSpacingStyle,children:"/"}),g," - Versions"]})},"breadcrumbs-versionedItem")]);var K=[(0,O.jsx)(i.Fragment,{children:(0,O.jsx)(w.rU,{to:"/browser/".concat(t),onClick:function(){m((0,d.db)({status:!1,objectName:""}))},children:t})},"breadcrumbs-root-path")].concat((0,h.Z)(z),(0,h.Z)(G));return(0,O.jsxs)(i.Fragment,{children:[(0,O.jsxs)("div",{className:b.breadcrumbsMain,children:[Z&&(0,O.jsx)(k,{modalOpen:Z,bucketName:t,folderName:n,onClose:function(){N(!1)}}),(0,O.jsx)(p.OoM,{sx:{whiteSpace:"pre"},goBackFunction:function(){if(j)m((0,d.db)({status:!1,objectName:""}));else{if(0===A.length)return void x("/browser");var e=A.slice(0,-1);x("/browser/".concat(t).concat(e.length>0?"/".concat((0,c.LL)("".concat(e.join("/"),"/"))):""))}},additionalOptions:(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(S(),{text:"".concat(t,"/").concat(A.join("/")),children:(0,O.jsx)(p.zxk,{id:"copy-path",icon:(0,O.jsx)(p.TIy,{style:{width:"12px",height:"12px",fill:"#969FA8",marginTop:-1}}),variant:"regular",onClick:function(){m((0,F.y1)("Path copied to clipboard"))},style:{width:"28px",height:"28px",color:"#969FA8",border:"#969FA8 1px solid",marginRight:5}})}),(0,O.jsx)("div",{className:b.additionalOptions,children:u})]}),children:K}),!a&&(0,O.jsx)(p.ua7,{tooltip:U?"Choose or create a new path":(0,l.MK)([l.Ft.S3_PUT_OBJECT,l.Ft.S3_PUT_ACTIONS],"create a new path"),children:(0,O.jsx)(p.zxk,{id:"new-path",onClick:function(){N(!0)},disabled:!_&&(v||!U),icon:(0,O.jsx)(p.N$q,{style:{fill:"#969FA8"}}),style:{whiteSpace:"nowrap"},variant:"regular",label:"Create new path"})})]}),(0,O.jsx)("div",{className:b.breadcrumbsSecond,children:u})]})},P=n(47922),A=function(e){return"Enabled"===e||"Suspended"===e},D=n(76610),R=n(9859),M=n(74165),U=n(15861),z=n(96382),G=(0,z.hg)("objectBrowser/downloadSelected",function(){var e=(0,U.Z)((0,M.Z)().mark((function e(t,n){var i,o,r,a,s,l,u,h;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.getState,n.rejectWithValue,o=n.dispatch,r=i(),a=function(e){var n=(0,c.LL)("".concat(t,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),i=(0,D.YO)(8),r=(0,P.LR)(t,(0,c.LL)(e.name),e.version_id,e.size,null,i,(function(e){o((0,d.RO)({instanceID:n,progress:e}))}),(function(){o((0,d.oK)(n))}),(function(e){o((0,d.qJ)({instanceID:n,msg:e}))}),(function(){o((0,d.Im)(n))}),(function(){o((0,F.y1)("File download will be handled directly by the browser."))}));(0,D.EN)(i,r),o((0,d.Mc)({ID:i,bucketName:t,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1,errorMessage:""}))},0===r.objectBrowser.selectedObjects.length){e.next=26;break}if(s=[],l=function(e){return r.objectBrowser.selectedObjects.includes(e.name)},1!==(s=r.objectBrowser.records.filter(l)).length){e.next=16;break}if(!(s[0].name.length>200&&(0,c.mv)().toLowerCase().includes("win"))){e.next=13;break}return o((0,d.$y)(s[0])),e.abrupt("return");case 13:a(s[0]);case 14:e.next=26;break;case 16:if(1!==s.length){e.next=20;break}a(s[0]),e.next=26;break;case 20:if(!(s.length>1)){e.next=26;break}return u="".concat(g.ou.now().toFormat("LL-dd-yyyy-HH-mm-ss"),"_files_list.zip"),h=s.reduce((function(e,t){var n=null===t||void 0===t?void 0:t.delete_flag;return t&&!n?e.push(t.name):console.log("Skipping ".concat(null===t||void 0===t?void 0:t.name," from download.")),e}),[]),e.next=25,(0,P.Sv)(t,h,u);case 25:return e.abrupt("return");case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),K=(0,z.hg)("objectBrowser/openPreview",function(){var e=(0,U.Z)((0,M.Z)().mark((function e(t,n){var i,o,r,a,s;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.getState,n.rejectWithValue,o=n.dispatch,1===(r=i()).objectBrowser.selectedObjects.length&&(s=function(e){return r.objectBrowser.selectedObjects.includes(e.name)},(a=r.objectBrowser.records.find(s))&&(o((0,d.eP)(a)),o((0,d.ei)(!0))));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),W=(0,z.hg)("objectBrowser/openShare",function(){var e=(0,U.Z)((0,M.Z)().mark((function e(t,n){var i,o,r,a,s;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.getState,n.rejectWithValue,o=n.dispatch,1===(r=i()).objectBrowser.selectedObjects.length&&(s=function(e){return r.objectBrowser.selectedObjects.includes(e.name)},(a=r.objectBrowser.records.find(s))&&(o((0,d.eP)(a)),o((0,d.Qf)(!0))));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),H=(0,z.hg)("objectBrowser/openAnonymousAccess",function(){var e=(0,U.Z)((0,M.Z)().mark((function e(t,n){var i,o,r;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.getState,o=n.dispatch,1===(r=i()).objectBrowser.selectedObjects.length&&r.objectBrowser.selectedObjects[0].endsWith("/")&&o((0,d.xV)(!0));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),V=n(80911),J=n(77865),Y=n(25787),q=n(49900),$=n(57064),X=n(27454),Q=(0,Y.Z)((function(e){return(0,T.Z)({listUploadIcons:{height:20,"& .min-icon":{width:18,fill:"rgba(0,0,0,0.87)"}}})}))((function(e){var t=e.uploadPath,n=e.bucketName,r=e.forceDisable,a=void 0!==r&&r,s=e.uploadFileFunction,c=e.uploadFolderFunction,d=e.classes,u=e.overrideStyles,m=void 0===u?{}:u,x=(0,o.v9)((function(e){return e.system.anonymousMode})),b=(0,o.v9)((function(e){return e.console.session&&e.console.session.permissions||{}})),v=[l.Ft.S3_PUT_OBJECT,l.Ft.S3_PUT_ACTIONS],j=E(b,t,v),g=(0,i.useState)(null),_=(0,f.Z)(g,2),S=_[0],T=_[1],C=Boolean(S),w=function(){T(null)},Z=(0,y.F)([t].concat((0,h.Z)(j)),v)||x,N=(0,y.F)([n].concat((0,h.Z)(j)),v,!1,!0),F=Z||N;return(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(X.Z,{tooltip:F?"Upload Files":(0,l.MK)([l.Ft.S3_PUT_OBJECT,l.Ft.S3_PUT_ACTIONS],"upload files to this bucket"),children:(0,O.jsx)(p.zxk,{id:"upload-main","aria-controls":"upload-main-menu","aria-haspopup":"true","aria-expanded":C?"true":void 0,onClick:function(e){T(e.currentTarget)},label:"Upload",icon:(0,O.jsx)(p.rG2,{}),variant:"callAction",disabled:a||!F,sx:m})}),(0,O.jsxs)(V.Z,{id:"upload-main-menu","aria-labelledby":"upload-main",anchorEl:S,open:C,onClose:function(){w()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,O.jsxs)(J.Z,{onClick:function(){s(w)},disabled:!Z||a,children:[(0,O.jsx)($.Z,{className:d.listUploadIcons,children:(0,O.jsx)(p.rG2,{})}),(0,O.jsx)(q.Z,{children:"Upload File"})]}),(0,O.jsxs)(J.Z,{onClick:function(){c(w)},disabled:!N||a,children:[(0,O.jsx)($.Z,{className:d.listUploadIcons,children:(0,O.jsx)(p.oXh,{})}),(0,O.jsx)(q.Z,{children:"Upload Folder"})]})]})]})})),ee=function(e){var t=e.open,n=e.closePanel,i=e.className,o=void 0===i?"":i,r=e.children;return(0,O.jsxs)(p.xuv,{id:"details-panel",sx:{borderColor:"#EAEDEE",borderWidth:0,borderStyle:"solid",borderRadius:3,borderBottomLeftRadius:0,borderBottomRightRadius:0,width:0,transitionDuration:"0.3s",overflowX:"hidden",overflowY:"auto",position:"relative",opacity:0,marginLeft:-1,"&.open":{width:300,minWidth:300,borderLeftWidth:1,opacity:1},"@media (max-width: 799px)":{"&.open":{width:"100%",minWidth:"100%",borderLeftWidth:0}}},className:"".concat(t?"open":""," ").concat(o),children:[(0,O.jsx)(p.zxk,{variant:"text",id:"close-details-list",onClick:n,icon:(0,O.jsx)(p.oto,{}),sx:{position:"absolute",right:5,top:18,padding:0,height:14,"&:hover:not(:disabled)":{backgroundColor:"transparent"}}}),r]})},te=function(e,t,n,i){var o,r=(0,c.LL)("".concat(t,"-").concat(i.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),a=(0,c.mv)().toLowerCase().includes("win");if(((null===(o=i.name)||void 0===o?void 0:o.length)||0)>200&&a)e((0,d.Hg)(!0));else{var s=(0,D.YO)(8),l=(0,P.LR)(t,n,i.version_id,i.size||0,null,s,(function(t){e((0,d.RO)({instanceID:r,progress:t}))}),(function(){e((0,d.oK)(r))}),(function(t){e((0,d.qJ)({instanceID:r,msg:t}))}),(function(){e((0,d.Im)(r))}),(function(){e((0,F.y1)("File download will be handled directly by the browser."))}));(0,D.EN)(s,l),e((0,d.Mc)({ID:s,bucketName:t,done:!1,instanceID:r,percentage:0,prefix:i.name||"",type:"download",waitingForFile:!0,failed:!1,cancelled:!1,errorMessage:""}))}},ne=n(37762),ie=(0,Y.Z)((function(e){return(0,T.Z)({fileName:{display:"flex",alignItems:"center","& .min-icon":{width:16,height:16,marginRight:4,minWidth:16,minHeight:16}},fileNameText:{whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"}})}))((function(e){var t=e.classes,n=e.icon,i=e.strings;return(0,O.jsxs)("div",{className:t.fileName,children:[n,(0,O.jsx)("span",{className:t.fileNameText,children:(0,c.e3)(i[i.length-1])})]})})),oe=[{icon:(0,O.jsx)(p.n9O,{}),extensions:["mp4","mov","avi","mpeg","mpg"]},{icon:(0,O.jsx)(p.mYf,{}),extensions:["mp3","m4a","aac"]},{icon:(0,O.jsx)(p.UU9,{}),extensions:["pdf"]},{icon:(0,O.jsx)(p.hjP,{}),extensions:["ppt","pptx"]},{icon:(0,O.jsx)(p.hz9,{}),extensions:["xls","xlsx"]},{icon:(0,O.jsx)(p.xDw,{}),extensions:["cer","crt","pem"]},{icon:(0,O.jsx)(p.jG9,{}),extensions:["html","xml","css","py","go","php","cpp","h","java"]},{icon:(0,O.jsx)(p.NqG,{}),extensions:["cfg","yaml"]},{icon:(0,O.jsx)(p.OkY,{}),extensions:["sql"]},{icon:(0,O.jsx)(p.ZAy,{}),extensions:["ttf","otf"]},{icon:(0,O.jsx)(p.p2x,{}),extensions:["doc","docx","txt","rtf"]},{icon:(0,O.jsx)(p.xhr,{}),extensions:["zip","rar","tar","gz"]},{icon:(0,O.jsx)(p.rtI,{}),extensions:["epub","mobi","azw","azw3"]},{icon:(0,O.jsx)(p.q$4,{}),extensions:["jpeg","jpg","gif","tiff","png","heic","dng"]}],re=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,i=(0,O.jsx)(p.MoH,{});e.endsWith("/")&&(i=(0,O.jsx)(p.BI,{}),n=e.slice(0,-1));for(var o=e.toLowerCase(),r=0,a=oe;r<a.length;r++){var s,l=a[r],c=(0,ne.Z)(l.extensions);try{for(c.s();!(s=c.n()).done;){var d=s.value;o.endsWith(".".concat(d))&&(i=l.icon)}}catch(h){c.e(h)}finally{c.f()}}!e.endsWith("/")&&e.indexOf(".")<0&&(i=(0,O.jsx)(p.lrl,{}));var u=n.split("/");return t?i:(0,O.jsx)(ie,{icon:i,strings:u})},ae=n(78562),se=n(61889),le=n(64554),ce=n(79836),de=n(53382),ue=n(35855),he=n(53994),fe=function(e){return Array.isArray(e)?e.map(c.eC).join(", "):(0,c.eC)(e)},me=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)({titleItem:{width:"35%"}},Z.bK),Z.$b))}))((function(e){var t=e.metaData,n=e.classes,o=e.linear,r=void 0!==o&&o,a=Object.keys(t);return r?(0,O.jsx)(i.Fragment,{children:a.map((function(e,i){var o=fe(t[e]);return(0,O.jsxs)(le.Z,{className:n.metadataLinear,children:[(0,O.jsx)("strong",{children:e}),(0,O.jsx)("br",{}),o]},"box-meta-".concat(e,"-").concat(i.toString()))}))}):(0,O.jsxs)(se.ZP,{container:!0,children:[(0,O.jsx)(se.ZP,{item:!0,xs:12,sx:{marginTop:"25px",marginBottom:"5px"},children:(0,O.jsx)("h3",{style:{marginTop:"0",marginBottom:"0"},children:"Object Metadata"})}),(0,O.jsx)(se.ZP,{item:!0,xs:12,children:(0,O.jsx)(ce.Z,{className:n.table,"aria-label":"simple table",children:(0,O.jsx)(de.Z,{children:a.map((function(e,i){var o=fe(t[e]);return(0,O.jsxs)(ue.Z,{children:[(0,O.jsx)(he.Z,{component:"th",scope:"row",className:n.titleItem,children:e}),(0,O.jsx)(he.Z,{align:"right",children:o})]},"tRow-".concat(i.toString()))}))})})})]})})),xe=n(34433),pe=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],be=Array.from(Array(31),(function(e,t){return{value:(t+1).toString(),label:(t+1).toString()}})),ve=(new Date).getFullYear(),je=Array.from(Array(50),(function(e,t){return{value:(t+ve).toString(),label:(t+ve).toString()}})),ge=n(56028),_e=n(4942),Se=n(63733),Te=(0,i.forwardRef)((function(e,t){var n=e.classes,o=e.id,r=e.label,a=e.disableOptions,s=void 0!==a&&a,l=e.addSwitch,c=void 0!==l&&l,d=e.tooltip,u=void 0===d?"":d,m=e.borderBottom,x=void 0!==m&&m,b=e.onDateChange,v=e.value,j=void 0===v?"":v;(0,i.useImperativeHandle)(t,(function(){return{resetDate:A}}));var g=(0,i.useState)(!1),_=(0,f.Z)(g,2),S=_[0],T=_[1],C=(0,i.useState)(""),w=(0,f.Z)(C,2),Z=w[0],y=w[1],N=(0,i.useState)(""),F=(0,f.Z)(N,2),I=F[0],E=F[1],k=(0,i.useState)(""),L=(0,f.Z)(k,2),B=L[0],P=L[1];(0,i.useEffect)((function(){if(""!==j){var e=j.split("-");P(e[0]),y(e[1]),E("".concat(parseInt(e[2])))}}),[j]),(0,i.useEffect)((function(){var e=function(e,t,n){var i=Date.parse("".concat(e,"-").concat(t,"-").concat(n));if(isNaN(i))return[!1,""];var o=parseInt(t),r=parseInt(n),a=o<10?"0".concat(o):o,s=r<10?"0".concat(r):r,l=new Date(i).toISOString().split("T")[0],c="".concat(e,"-").concat(a,"-").concat(s);return[l===c,c]}(B,Z,I),t=(0,f.Z)(e,2),n=t[0],i=t[1];b(i,n)}),[Z,I,B,b]);var A=function(){y(""),E(""),P("")},D=function(){return s||!!c&&!S},R=[{value:"",label:"<Month>"}].concat((0,h.Z)(pe)),M=[{value:"",label:"<Day>"}].concat((0,h.Z)(be)),U=[{value:"",label:"<Year>"}].concat((0,h.Z)(je));return(0,O.jsxs)(p.rjZ,{item:!0,xs:12,className:(0,Se.Z)(n.fieldContainer,(0,_e.Z)({},n.fieldContainerBorder,x)),children:[(0,O.jsx)("div",{className:n.labelContainer,children:(0,O.jsxs)(p.rjZ,{container:!0,children:[(0,O.jsxs)(p.AZs,{htmlFor:o,children:[(0,O.jsx)("span",{children:r}),""!==u&&(0,O.jsx)("div",{className:n.tooltipContainer,children:(0,O.jsx)(p.ua7,{tooltip:u,placement:"top",children:(0,O.jsx)("div",{className:n.tooltip,children:(0,O.jsx)(p.byK,{})})})})]}),c&&(0,O.jsx)(p.rsf,{indicatorLabels:["Specific Date","Default (7 Days)"],checked:S,value:"date_enabled",id:"date-status",name:"date-status",onChange:function(e){T(e.target.checked),e.target.checked||b("",!0)},switchOnly:!0})]})}),(0,O.jsxs)(p.xuv,{sx:{display:"flex",gap:12},children:[(0,O.jsx)(p.PhF,{id:"".concat(o,"-month"),name:"".concat(o,"-month"),value:Z,onChange:function(e){y(e)},options:R,label:"",disabled:D()}),(0,O.jsx)(p.PhF,{id:"".concat(o,"-day"),name:"".concat(o,"-day"),value:I,onChange:function(e){E(e)},options:M,label:"",disabled:D()}),(0,O.jsx)(p.PhF,{id:"".concat(o,"-year"),name:"".concat(o,"-year"),value:B,onChange:function(e){P(e)},options:U,label:"",disabled:D()})]})]})})),Ce=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)((0,u.Z)({},Z.YI),Z.Hr),{},{fieldContainer:(0,u.Z)((0,u.Z)({},Z.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6})}))}))(Te),we=n(66315),Ze=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)((0,u.Z)({},Z.DF),Z.ID),Z.bK))}))((function(e){var t=e.classes,n=e.open,r=e.closeModalAndRefresh,l=e.objectName,d=e.objectInfo,u=e.bucketName,h=(0,s.TL)(),m=(0,o.v9)((function(e){return e.objectBrowser.retentionConfig})),x=(0,i.useState)(!0),b=(0,f.Z)(x,2),j=b[0],g=b[1],_=(0,i.useState)(""),S=(0,f.Z)(_,2),T=S[0],C=S[1],w=(0,i.useState)(""),Z=(0,f.Z)(w,2),y=Z[0],N=Z[1],I=(0,i.useState)(!1),E=(0,f.Z)(I,2),k=E[0],L=E[1],B=(0,i.useState)(!1),P=(0,f.Z)(B,2),A=P[0],D=P[1],R=(0,i.useState)(!1),M=(0,f.Z)(R,2),U=M[0],z=M[1];(0,i.useEffect)((function(){if(d.retention_mode&&(C((null===m||void 0===m?void 0:m.mode)||we.oO.Governance),z(!0)),d.retention_until_date){var e=new Date(d.retention_until_date);if("Invalid Date"!==e.toString()){var t=e.getFullYear(),n=(o=e.getMonth()+1)<10?"0".concat(o):"".concat(o),i=e.getDate();isNaN(i)||"NaN"===n||isNaN(t)||N("".concat(t,"-").concat(n,"-").concat(i))}z(!0)}var o}),[d,null===m||void 0===m?void 0:m.mode]);var G=(0,i.useRef)(null),K=function(){g(!1),C(we.oO.Governance),G.current&&G.current.resetDate()},W=U&&("governance"===T||""===T);return(0,O.jsxs)(ge.Z,{title:"Set Retention Policy",modalOpen:n,onClose:function(){K(),r(!1)},children:[(0,O.jsxs)("div",{className:t.spacerBottom,children:[(0,O.jsx)("strong",{children:"Selected Object"}),": ",l]}),(0,O.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:[W&&(0,O.jsx)(p.rjZ,{item:!0,xs:12,className:t.formFieldRow,children:(0,O.jsx)(p.rsf,{value:"status",id:"status",name:"status",checked:j,onChange:function(e){g(!j)},label:"Status",indicatorLabels:["Enabled","Disabled"]})}),(0,O.jsx)(p.rjZ,{item:!0,xs:12,className:t.formFieldRow,children:(0,O.jsx)(p.Eep,{currentValue:T,id:"type",name:"type",label:"Type",disableOptions:!j||U&&""!==T,onChange:function(e){C(e.target.value)},selectorOptions:[{label:"Governance",value:we.oO.Governance},{label:"Compliance",value:we.oO.Compliance}]})}),(0,O.jsx)(p.rjZ,{item:!0,xs:12,className:"".concat(t.dateSelector," "),children:(0,O.jsx)(Ce,{id:"date",label:"Date",disableOptions:!(j&&("governance"===T||"compliance"===T)),ref:G,value:y,borderBottom:!0,onDateChange:function(e,t){L(t),t&&N(e)}})}),(0,O.jsxs)(p.rjZ,{item:!0,xs:12,className:t.modalButtonBar,children:[(0,O.jsx)(p.zxk,{id:"reset",type:"button",variant:"regular",onClick:K,label:"Reset"}),(0,O.jsx)(p.zxk,{id:"save",type:"submit",variant:"callAction",disabled:j&&""===T||j&&!k||A,onClick:function(){D(!0);var e=d.name||"",t=d.version_id||null,n=j||"governance"!==T?"".concat(y,"T23:59:59Z"):"";j||"governance"!==T?function(e,t,n){a.h.buckets.putObjectRetention(u,{prefix:(0,c.LL)(e),version_id:t||""},{expires:n,mode:T}).then((function(){D(!1),r(!0)})).catch((function(e){h((0,F.zb)((0,v.g)(e.error))),D(!1)}))}(e,t,n):function(e,t){a.h.buckets.deleteObjectRetention(u,{prefix:(0,c.LL)(e),version_id:t||""}).then((function(){D(!1),r(!0)})).catch((function(e){h((0,F.zb)((0,v.g)(e.error))),D(!1)}))}(e,t)},label:"Save"})]})]})]})})),ye=n(23508),Ne=n(9505),Fe=function(e){var t=e.closeDeleteModalAndRefresh,n=e.deleteOpen,r=e.selectedBucket,a=e.selectedObject,d=e.versioningInfo,u=e.selectedVersion,h=void 0===u?"":u,m=(0,s.TL)(),x=(0,Ne.Z)((function(){return t(!0)}),(function(e){m((0,F.Ih)(e)),"Access Denied."===e.detailedError&&t(!0)})),b=(0,f.Z)(x,2),v=b[0],j=b[1],g=(0,i.useState)(!1),_=(0,f.Z)(g,2),S=_[0],T=_[1],C=(0,i.useState)(!1),w=(0,f.Z)(C,2),Z=w[0],N=w[1],I=(0,o.v9)((function(e){return e.objectBrowser.retentionConfig})),E=(0,y.F)([r],[l.Ft.S3_BYPASS_GOVERNANCE_RETENTION])&&"governance"===(null===I||void 0===I?void 0:I.mode);if(!a)return null;return(0,O.jsx)(ye.Z,{title:"Delete Object",confirmText:"Delete",isOpen:n,titleIcon:(0,O.jsx)(p.NvT,{}),isLoading:v,onConfirm:function(){var e=(0,c.IO)(a).endsWith("/");j("DELETE","/api/v1/buckets/".concat(r,"/objects?path=").concat(a).concat(""!==h?"&version_id=".concat(h):"&recursive=".concat(e,"&all_versions=").concat(S)).concat(Z?"&bypass=true":""))},onClose:function(){return t(!1)},confirmationContent:(0,O.jsxs)(i.Fragment,{children:["Are you sure you want to delete: ",(0,O.jsx)("br",{}),(0,O.jsx)("b",{children:(0,c.IO)(a)})," ",""!==h?(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)("br",{}),(0,O.jsx)("br",{}),"Version ID:",(0,O.jsx)("br",{}),(0,O.jsx)("strong",{children:h})]}):"","? ",(0,O.jsx)("br",{}),(0,O.jsx)("br",{}),A(null===d||void 0===d?void 0:d.status)&&""===h&&(0,O.jsx)(i.Fragment,{children:(0,O.jsx)(p.rsf,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:S,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){T(!S)},description:""})}),E&&(S||""!==h)&&(0,O.jsx)(i.Fragment,{children:(0,O.jsx)("div",{style:{marginTop:10},children:(0,O.jsx)(p.rsf,{label:"Bypass Governance Mode",indicatorLabels:["Yes","No"],checked:Z,value:"bypass_governance",id:"bypass_governance",name:"bypass_governance",onChange:function(e){N(!Z)},description:""})})}),S&&(0,O.jsxs)(i.Fragment,{children:[(0,O.jsxs)("div",{style:{marginTop:10,border:"#c83b51 1px solid",borderRadius:3,padding:5,backgroundColor:"#c83b5120",color:"#c83b51"},children:["This will remove the object as well as all of its versions,"," ",(0,O.jsx)("br",{}),"This action is irreversible."]}),(0,O.jsx)("br",{}),"Are you sure you want to continue?"]})]})})},Ie=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)((0,u.Z)({},Z.DF),Z.ID),Z.bK))}))((function(e){var t=e.classes,n=e.open,o=e.closeModalAndRefresh,r=e.objectName,l=e.bucketName,d=e.actualInfo,u=(0,s.TL)(),h=(0,i.useState)(!1),m=(0,f.Z)(h,2),b=m[0],j=m[1],g=(0,i.useState)(!1),_=(0,f.Z)(g,2),S=_[0],T=_[1],C=d.version_id;(0,i.useEffect)((function(){var e=x()(d,"legal_hold_status","OFF");j("ON"===e)}),[d]);var w=function(){j(!1)};return(0,O.jsxs)(ge.Z,{title:"Set Legal Hold",modalOpen:n,onClose:function(){w(),o(!1)},children:[(0,O.jsxs)(p.rjZ,{item:!0,xs:12,className:t.spacerBottom,children:["Object: ",l]}),(0,O.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),T(!0),a.h.buckets.putObjectLegalHold(l,{prefix:(0,c.LL)(r),version_id:C||""},{status:b?we.nY.Enabled:we.nY.Disabled}).then((function(){T(!1),o(!0)})).catch((function(e){u((0,F.zb)((0,v.g)(e.error))),T(!1)}))}(e)},children:[(0,O.jsx)(p.rjZ,{item:!0,xs:12,className:t.formFieldRow,children:(0,O.jsx)(p.rsf,{value:"legalhold",id:"legalhold",name:"legalhold",checked:b,onChange:function(e){j(!b)},label:"Legal Hold Status",indicatorLabels:["Enabled","Disabled"],tooltip:"To enable this feature you need to enable versioning on the bucket before creation"})}),(0,O.jsxs)(p.rjZ,{item:!0,xs:12,className:t.modalButtonBar,children:[(0,O.jsx)(p.zxk,{id:"clear",type:"button",variant:"regular",onClick:w,label:"Clear"}),(0,O.jsx)(p.zxk,{id:"save",type:"submit",variant:"callAction",disabled:S,label:" Save"})]})]})]})})),Ee=n(81918),Oe=n(29823),ke=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)((0,u.Z)({newTileHeader:{fontSize:18,fontWeight:"bold",color:"#000",margin:"35px 0",paddingBottom:15,display:"flex",alignItems:"center","& > svg":{marginRight:10}},tagsForLabel:{fontSize:16,margin:"20px 0 30px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},currentTagsContainer:{fontSize:14,fontWeight:"normal"},noTagsForObject:{color:"#858585"},deleteTag:{color:"#C83B51",marginLeft:5}},Z.DF),Z.ID),Z.bK))}))((function(e){var t,n=e.modalOpen,r=e.onCloseAndUpdate,d=e.bucketName,h=e.actualInfo,m=e.classes,b=(0,s.TL)(),j=(0,o.v9)(F.N5),g=(0,i.useState)(""),_=(0,f.Z)(g,2),S=_[0],T=_[1],C=(0,i.useState)(""),w=(0,f.Z)(C,2),Z=w[0],N=w[1],I=(0,i.useState)(!1),E=(0,f.Z)(I,2),k=E[0],L=E[1],B=(0,i.useState)(!1),P=(0,f.Z)(B,2),A=P[0],D=P[1],R=(0,i.useState)(""),M=(0,f.Z)(R,2),U=M[0],z=M[1],G=(0,i.useState)(""),K=(0,f.Z)(G,2),W=K[0],H=K[1],V=(0,c.LL)(h.name||""),J=h.tags,Y=Object.keys(J||{}),q=null===(t=h.name)||void 0===t?void 0:t.split("/"),$=(null===q||void 0===q?void 0:q.pop())||"",X=function(e){return(0,O.jsxs)("div",{className:m.tagsForLabel,children:["Tag",e?"s":""," for: ",(0,O.jsx)("strong",{children:$})]})};return(0,O.jsx)(i.Fragment,{children:(0,O.jsx)(ge.Z,{modalOpen:n,title:A?"Delete Tag":"Edit Tags",onClose:function(){r(!0)},titleIcon:A?(0,O.jsx)(p.dRf,{style:{fill:"#C83B51"}}):(0,O.jsx)(p.T0F,{}),children:A?(0,O.jsx)(i.Fragment,{children:(0,O.jsxs)(se.ZP,{container:!0,children:[X(!1),"Are you sure you want to delete the tag"," ",(0,O.jsxs)("b",{className:m.deleteTag,children:[U," : ",W]})," ","?",(0,O.jsxs)(se.ZP,{item:!0,xs:12,className:m.modalButtonBar,children:[(0,O.jsx)(p.zxk,{id:"cancel",type:"button",variant:"regular",onClick:function(){z(""),H(""),D(!1)},label:"Cancel"}),(0,O.jsx)(p.zxk,{type:"submit",variant:"secondary",onClick:function(){var e=(0,u.Z)({},J);delete e[U];var t=j?h.version_id||"":"null";a.h.buckets.putObjectTags(d,{prefix:V,version_id:t},{tags:e}).then((function(){r(!0),L(!1)})).catch((function(e){b((0,F.zb)((0,v.g)(e.error))),L(!1)}))},id:"deleteTag",label:"Delete Tag"})]})]})}):(0,O.jsxs)(se.ZP,{container:!0,children:[(0,O.jsx)(y.s,{scopes:[l.Ft.S3_GET_OBJECT_TAGGING,l.Ft.S3_GET_ACTIONS],resource:d,children:(0,O.jsxs)(le.Z,{sx:{display:"flex",flexFlow:"column",width:"100%"},children:[X(!0),(0,O.jsxs)("div",{className:m.currentTagsContainer,children:["Current Tags:",(0,O.jsx)("br",{}),0===Y.length?(0,O.jsx)("span",{className:m.noTagsForObject,children:"There are no tags for this object"}):(0,O.jsx)(i.Fragment,{}),(0,O.jsx)(le.Z,{sx:{marginTop:"5px",marginBottom:"15px"},children:Y.map((function(e,t){var n=x()(J,"".concat(e),"");return""!==n?(0,O.jsx)(y.s,{scopes:[l.Ft.S3_DELETE_OBJECT_TAGGING],resource:d,errorProps:{deleteIcon:null,onDelete:null},children:(0,O.jsx)(Ee.Z,{style:{textTransform:"none",marginRight:"5px",marginBottom:"5px"},size:"small",label:"".concat(e," : ").concat(n),color:"primary",deleteIcon:(0,O.jsx)(Oe.Z,{}),onDelete:function(){!function(e,t){z(e),H(t),D(!0)}(e,n)}})},"chip-".concat(t)):null}))})]})]})}),(0,O.jsx)(y.s,{scopes:[l.Ft.S3_PUT_OBJECT_TAGGING,l.Ft.S3_PUT_ACTIONS],resource:d,errorProps:{disabled:!0,onClick:null},children:(0,O.jsxs)(se.ZP,{container:!0,children:[(0,O.jsx)(p.NZf,{icon:(0,O.jsx)(p.OCT,{}),separator:!1,children:"Add New Tag"}),(0,O.jsx)(se.ZP,{item:!0,xs:12,className:m.formFieldRow,children:(0,O.jsx)(p.Wzg,{value:S,label:"Tag Key",id:"newTagKey",name:"newTagKey",placeholder:"Enter Tag Key",onChange:function(e){T(e.target.value)}})}),(0,O.jsx)(se.ZP,{item:!0,xs:12,className:m.formFieldRow,children:(0,O.jsx)(p.Wzg,{value:Z,label:"Tag Label",id:"newTagLabel",name:"newTagLabel",placeholder:"Enter Tag Label",onChange:function(e){N(e.target.value)}})}),(0,O.jsxs)(se.ZP,{item:!0,xs:12,className:m.modalButtonBar,children:[(0,O.jsx)(p.zxk,{id:"clear",type:"button",variant:"regular",color:"primary",onClick:function(){N(""),T("")},label:"Clear"}),(0,O.jsx)(p.zxk,{type:"submit",variant:"callAction",disabled:""===Z.trim()||""===S.trim()||k,onClick:function(){L(!0);var e={};e[S]=Z;var t=(0,u.Z)((0,u.Z)({},J),e),n=j?h.version_id||"":"null";a.h.buckets.putObjectTags(d,{prefix:V,version_id:n},{tags:t}).then((function(){r(!0),L(!1)})).catch((function(e){b((0,F.zb)((0,v.g)(e.error))),L(!1)}))},id:"saveTag",label:"Save"})]})]})})]})})})})),Le=n(51691),Be=n(73669),Pe=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)((0,u.Z)({},Z.DF),Z.ID),Z.bK))}))((function(e){var t=e.classes,n=e.closeInspectModalAndRefresh,o=e.inspectOpen,r=e.inspectPath,a=e.volumeName,l=(0,s.TL)(),d=function(){return n(!1)},u=(0,i.useState)(!0),h=(0,f.Z)(u,2),m=h[0],x=h[1],b=(0,i.useState)(""),v=(0,f.Z)(b,2),j=v[0],g=v[1],_=(0,i.useState)(""),S=(0,f.Z)(_,2),T=S[0],C=S[1];if(!r)return null;var w=function(){var e=(0,U.Z)((0,M.Z)().mark((function e(t){return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,U.Z)((0,M.Z)().mark((function e(){var t,n,i;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,c.LL)(r+"/xl.meta"),n=(0,c.LL)(a),i="/api/v1/admin/inspect?volume=".concat(n,"&file=").concat(t,"&encrypt=").concat(m),w(i).then(function(){var e=(0,U.Z)((0,M.Z)().mark((function e(t){var n,i,o,r;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:n=e.sent,l((0,F.Ih)({errorMessage:n.message,detailedError:n.code}));case 5:return e.next=7,t.blob();case 7:if(i=e.sent,o=t.headers.get("content-disposition").split('"')[1],r=(0,c.Do)(o)||"",(0,c.zZ)(i,o),C(o),""!==r){e.next=15;break}return d(),e.abrupt("return");case 15:g(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){l((0,F.Ih)(e))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,O.jsxs)(i.Fragment,{children:[!j&&(0,O.jsx)(ge.Z,{modalOpen:o,titleIcon:(0,O.jsx)(p.Gp8,{}),title:"Inspect Object",onClose:d,children:(0,O.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:["Would you like to encrypt ",(0,O.jsx)("b",{children:(0,c.IO)(r)}),"?"," ",(0,O.jsx)("br",{}),(0,O.jsx)(p.rsf,{label:"Encrypt",indicatorLabels:["Yes","No"],checked:m,value:"encrypt",id:"encrypt",name:"encrypt",onChange:function(e){x(!m)},description:""}),(0,O.jsx)(p.rjZ,{item:!0,xs:12,className:t.modalButtonBar,children:(0,O.jsx)(p.zxk,{id:"inspect",type:"submit",variant:"callAction",color:"primary",onClick:Z,label:"Inspect"})})]})}),j?(0,O.jsx)(ge.Z,{modalOpen:o,title:"Inspect Decryption Key",onClose:function(){(0,c.kT)(T),d(),g("")},titleIcon:(0,O.jsx)(p.tvm,{}),children:(0,O.jsxs)(Le.Z,{children:[(0,O.jsxs)(p.xuv,{children:["This will be displayed only once. It cannot be recovered.",(0,O.jsx)("br",{}),"Use secure medium to share this key."]}),(0,O.jsx)(p.xuv,{children:(0,O.jsx)(Be.Z,{value:j})})]})}):null]})})),Ae=n(21435),De=n(81159),Re=(0,C.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({},Z.ID),Z.DF),Z.bK),Z.Bz))})),Me=function(e){var t=e.open,n=e.closeModal,o=e.currentItem,r=e.internalPaths,a=e.actualInfo,l=e.bucketName,c=Re(),d=(0,s.TL)(),u=(0,i.useState)(o),h=(0,f.Z)(u,2),m=h[0],x=h[1],b=(0,i.useState)(!1),v=(0,f.Z)(b,2),j=v[0],g=v[1];return(0,O.jsxs)(ge.Z,{title:"Rename Download",modalOpen:t,onClose:n,titleIcon:(0,O.jsx)(p.dY8,{}),children:[(0,O.jsxs)("div",{children:["The file you are trying to download has a long name.",(0,O.jsx)("br",{}),"This can cause issues on Windows Systems by trimming the file name after download.",(0,O.jsx)("br",{}),(0,O.jsx)("br",{})," We recommend to rename the file download"]}),(0,O.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),te(d,l,r,a),n()}(e)},children:(0,O.jsxs)(se.ZP,{container:!0,children:[(0,O.jsxs)(se.ZP,{item:!0,xs:12,className:c.modalFormScrollable,children:[(0,O.jsx)(se.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,O.jsx)(Ae.Z,{id:"download-filename",name:"download-filename",onChange:function(e){x(e.target.value)},label:"",type:"text",value:m,error:m.length>200&&!j?"Filename should be less than 200 characters long.":""})}),(0,O.jsx)(se.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,O.jsx)(De.Z,{value:"acceptLongName",id:"acceptLongName",name:"acceptLongName",checked:j,onChange:function(e){g(e.target.checked),e.target.checked&&x(o)},label:"Use Original Name"})})]}),(0,O.jsx)(se.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:(0,O.jsx)(p.zxk,{id:"download-file",type:"submit",variant:"callAction",color:"primary",disabled:m.length>200&&!j,label:"Download File"})})]})})]})},Ue={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:0,tags:{},version_id:void 0},ze=function(e){var t=e.internalPaths,n=e.bucketName,r=e.versioningInfo,u=e.locking,h=e.onClosePanel,m=(0,s.TL)(),b=(0,o.v9)(F.N5),v=(0,o.v9)((function(e){return e.objectBrowser.versionsMode})),j=(0,o.v9)((function(e){return e.objectBrowser.selectedVersion})),g=(0,o.v9)((function(e){return e.objectBrowser.loadingObjectInfo})),_=(0,i.useState)(!1),S=(0,f.Z)(_,2),T=S[0],C=S[1],w=(0,i.useState)(!1),Z=(0,f.Z)(w,2),N=Z[0],I=Z[1],E=(0,i.useState)(!1),k=(0,f.Z)(E,2),L=k[0],B=k[1],A=(0,i.useState)(!1),D=(0,f.Z)(A,2),R=D[0],M=D[1],U=(0,i.useState)(!1),z=(0,f.Z)(U,2),G=z[0],K=z[1],W=(0,i.useState)(null),H=(0,f.Z)(W,2),V=H[0],J=H[1],Y=(0,i.useState)([]),q=(0,f.Z)(Y,2),$=q[0],Q=q[1],ee=(0,i.useState)(null),ne=(0,f.Z)(ee,2),ie=ne[0],oe=ne[1],se=(0,i.useState)([]),le=(0,f.Z)(se,2),ce=le[0],de=le[1],ue=(0,i.useState)(!1),he=(0,f.Z)(ue,2),fe=he[0],pe=he[1],be=(0,i.useState)(!1),ve=(0,f.Z)(be,2),je=ve[0],ge=ve[1],_e=(0,i.useState)(0),Se=(0,f.Z)(_e,2),Te=Se[0],Ce=Se[1],we=(0,i.useState)(!1),ye=(0,f.Z)(we,2),Ne=ye[0],Ee=ye[1],Oe=(0,i.useState)(null),Le=(0,f.Z)(Oe,2),Be=Le[0],Ae=Le[1],De=(0,i.useState)(!1),Re=(0,f.Z)(De,2),ze=Re[0],Ge=Re[1],Ke=((0,c.IO)(t)||"").split("/").pop()||"",We=[];V&&V.name&&(We=V.name.split("/")),(0,i.useEffect)((function(){if(b&&$&&$.length>=1){var e=$.find((function(e){return e.is_latest}))||Ue;""!==j&&(e=$.find((function(e){return e.version_id===j}))||Ue),e.is_delete_marker||Ge(!0),J(e)}}),[j,b,$]),(0,i.useEffect)((function(){g&&""!==t&&a.h.buckets.listObjects(n,{prefix:t,with_versions:b}).then((function(e){var t=e.data.objects||[];if(b){Q(t),de(t);var n=t.reduce((function(e,t){return null!==t&&void 0!==t&&t.size?e+t.size:e}),0);Ce(n)}else{var i=t[0];J(i),de([]),i.is_delete_marker||Ge(!0)}m((0,d.vH)(!1))})).catch((function(e){console.error("Error loading object details",e.error),m((0,d.vH)(!1))}))}),[g,n,t,m,b,j]),(0,i.useEffect)((function(){ze&&""!==t&&a.h.buckets.getObjectMetadata(n,{prefix:t}).then((function(e){var t=x()(e.data,"objectMetadata",{});Ae(t),Ge(!1)})).catch((function(e){console.error("Error Getting Metadata Status: ",e.detailedError),Ge(!1)}))}),[n,t,ze]);var He=[];V&&V.tags&&(He=Object.keys(V.tags));var Ve=(0,O.jsx)("div",{style:{textAlign:"center",marginTop:35},children:(0,O.jsx)(p.aNw,{})});if(!V)return g?Ve:null;var Je=We.length>0?We[We.length-1]:V.name,Ye=[n,Ke,[n,V.name].join("/")],qe=(0,y.F)(n,[l.Ft.S3_PUT_OBJECT_LEGAL_HOLD,l.Ft.S3_PUT_ACTIONS]),$e=(0,y.F)(Ye,[l.Ft.S3_PUT_OBJECT_TAGGING,l.Ft.S3_PUT_ACTIONS]),Xe=(0,y.F)(Ye,[l.Ft.S3_GET_OBJECT_RETENTION,l.Ft.S3_PUT_OBJECT_RETENTION,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS],!0),Qe=(0,y.F)(Ye,[l.Ft.ADMIN_INSPECT_DATA]),et=(0,y.F)(Ye,[l.Ft.S3_GET_BUCKET_VERSIONING,l.Ft.S3_PUT_BUCKET_VERSIONING,l.Ft.S3_GET_OBJECT_VERSION,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),tt=(0,y.F)(Ye,[l.Ft.S3_GET_OBJECT,l.Ft.S3_GET_ACTIONS]),nt=(0,y.F)([n,Ke,[n,V.name].join("/")],[l.Ft.S3_DELETE_OBJECT]),it=(0,P.s7)(Be,Ke),ot=[{action:function(){te(m,n,t,V)},label:"Download",disabled:!!V.is_delete_marker||!tt,icon:(0,O.jsx)(p._8t,{}),tooltip:tt?"Download this Object":(0,l.MK)([l.Ft.S3_GET_OBJECT,l.Ft.S3_GET_ACTIONS],"download this object")},{action:function(){C(!0)},label:"Share",disabled:!!V.is_delete_marker||!tt,icon:(0,O.jsx)(p.aAc,{}),tooltip:tt?"Share this File":(0,l.MK)([l.Ft.S3_GET_OBJECT,l.Ft.S3_GET_ACTIONS],"share this object")},{action:function(){ge(!0)},label:"Preview",disabled:!!V.is_delete_marker||"none"===it&&!tt,icon:(0,O.jsx)(p.P99,{}),tooltip:tt?"Preview this File":(0,l.MK)([l.Ft.S3_GET_OBJECT,l.Ft.S3_GET_ACTIONS],"preview this object")},{action:function(){M(!0)},label:"Legal Hold",disabled:!u||!b||!!V.is_delete_marker||!qe||""!==j,icon:(0,O.jsx)(p.fNL,{}),tooltip:qe?u?"Change Legal Hold rules for this File":"Object Locking must be enabled on this bucket in order to set Legal Hold":(0,l.MK)([l.Ft.S3_PUT_OBJECT_LEGAL_HOLD,l.Ft.S3_PUT_ACTIONS],"change legal hold settings for this object")},{action:function(){I(!0)},label:"Retention",disabled:!b||!!V.is_delete_marker||!Xe||""!==j||!u,icon:(0,O.jsx)(p.E9d,{}),tooltip:Xe?u?"Change Retention rules for this File":"Object Locking must be enabled on this bucket in order to set Retention Rules":(0,l.MK)([l.Ft.S3_GET_OBJECT_RETENTION,l.Ft.S3_PUT_OBJECT_RETENTION,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS],"change Retention Rules for this object")},{action:function(){B(!0)},label:"Tags",disabled:!!V.is_delete_marker||""!==j||!$e,icon:(0,O.jsx)(p.DgT,{}),tooltip:$e?"Change Tags for this File":(0,l.MK)([l.Ft.S3_PUT_OBJECT_TAGGING,l.Ft.S3_GET_OBJECT_TAGGING,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS],"set Tags on this object")},{action:function(){K(!0)},label:"Inspect",disabled:!b||!!V.is_delete_marker||""!==j||!Qe,icon:(0,O.jsx)(p.Gp8,{}),tooltip:Qe?"Inspect this file":(0,l.MK)([l.Ft.ADMIN_INSPECT_DATA],"inspect this file")},{action:function(){m((0,d.db)({status:!v,objectName:Je}))},label:v?"Hide Object Versions":"Display Object Versions",icon:(0,O.jsx)(p.cRd,{}),disabled:!b||!(V.version_id&&"null"!==V.version_id)||!et,tooltip:et?V.version_id&&"null"!==V.version_id?"Display Versions for this file":"":(0,l.MK)([l.Ft.S3_GET_BUCKET_VERSIONING,l.Ft.S3_PUT_BUCKET_VERSIONING,l.Ft.S3_GET_OBJECT_VERSION,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS],"display all versions of this object")}];return(0,O.jsxs)(i.Fragment,{children:[T&&V&&(0,O.jsx)(xe.default,{open:T,closeModalAndRefresh:function(){oe(null),C(!1)},bucketName:n,dataObject:ie||V}),N&&V&&(0,O.jsx)(Ze,{open:N,closeModalAndRefresh:function(e){I(!1),e&&m((0,d.vH)(!0))},objectName:Ke,objectInfo:V,bucketName:n}),fe&&(0,O.jsx)(Fe,{deleteOpen:fe,selectedBucket:n,selectedObject:t,closeDeleteModalAndRefresh:function(e){pe(!1),e&&""===j?h(!0):(m((0,d.Eq)(!0)),m((0,d.M3)("")),m((0,d.vH)(!0)))},versioningInfo:b?r:void 0,selectedVersion:j}),R&&V&&(0,O.jsx)(Ie,{open:R,closeModalAndRefresh:function(e){M(!1),e&&m((0,d.vH)(!0))},objectName:V.name||"",bucketName:n,actualInfo:V}),je&&V&&(0,O.jsx)(ae.default,{open:je,bucketName:n,object:{name:V.name||"",version_id:V.version_id||"null",size:V.size||0,content_type:"",last_modified:V.last_modified||""},onClosePreview:function(){ge(!1)}}),L&&V&&(0,O.jsx)(ke,{modalOpen:L,bucketName:n,actualInfo:V,onCloseAndUpdate:function(e){B(!1),e&&m((0,d.vH)(!0))}}),G&&V&&(0,O.jsx)(Pe,{inspectOpen:G,volumeName:n,inspectPath:V.name||"",closeInspectModalAndRefresh:function(e){K(!1),e&&m((0,d.vH)(!0))}}),Ne&&V&&(0,O.jsx)(Me,{open:Ne,closeModal:function(){Ee(!1)},currentItem:Ke,bucketName:n,internalPaths:t,actualInfo:V}),g?(0,O.jsx)(i.Fragment,{children:Ve}):(0,O.jsxs)(p.xuv,{sx:{"& .ObjectDetailsTitle":{display:"flex",alignItems:"center","& .min-icon":{width:26,height:26,minWidth:26,minHeight:26}},"& .objectNameContainer":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",alignItems:"center",marginLeft:10},"& .capitalizeFirst":{textTransform:"capitalize"},"& .detailContainer":{padding:"0 22px",marginBottom:10,fontSize:14}},children:[(0,O.jsx)(p.Wk,{title:(0,O.jsxs)("div",{className:"ObjectDetailsTitle",children:[re(Je||"",!0),(0,O.jsx)("span",{className:"objectNameContainer",children:Je})]}),items:ot}),(0,O.jsx)(X.Z,{tooltip:nt?"":(0,l.MK)([l.Ft.S3_DELETE_OBJECT],"delete this object"),children:(0,O.jsx)(p.rjZ,{item:!0,xs:12,sx:{justifyContent:"center",display:"flex"},children:(0,O.jsx)(y.s,{resource:[n,Ke,[n,V.name].join("/")],scopes:[l.Ft.S3_DELETE_OBJECT],errorProps:{disabled:!0},children:(0,O.jsx)(p.zxk,{id:"delete-element-click",icon:(0,O.jsx)(p.pJl,{}),iconLocation:"start",fullWidth:!0,variant:"secondary",onClick:function(){pe(!0)},disabled:""===j&&V.is_delete_marker,sx:{width:"calc(100% - 44px)",margin:"8px 0"},label:"Delete".concat(""!==j?" version":"")})})})}),(0,O.jsx)(p.AG2,{icon:(0,O.jsx)(p.Gvh,{}),label:"Object Info"}),(0,O.jsxs)(p.xuv,{className:"detailContainer",children:[(0,O.jsx)("strong",{children:"Name:"}),(0,O.jsx)("br",{}),(0,O.jsx)("div",{style:{overflowWrap:"break-word"},children:Je})]}),""!==j&&(0,O.jsxs)(p.xuv,{className:"detailContainer",children:[(0,O.jsx)("strong",{children:"Version ID:"}),(0,O.jsx)("br",{}),j]}),(0,O.jsxs)(p.xuv,{className:"detailContainer",children:[(0,O.jsx)("strong",{children:"Size:"}),(0,O.jsx)("br",{}),(0,c.ae)("".concat(V.size||"0"))]}),V.version_id&&"null"!==V.version_id&&""===j&&(0,O.jsxs)(p.xuv,{className:"detailContainer",children:[(0,O.jsx)("strong",{children:"Versions:"}),(0,O.jsx)("br",{}),ce.length," version",1!==ce.length?"s":"",","," ",(0,c.l5)(Te)]}),""===j&&(0,O.jsxs)(p.xuv,{className:"detailContainer",children:[(0,O.jsx)("strong",{children:"Last Modified:"}),(0,O.jsx)("br",{}),function(e){var t=new Date,n=new Date(e),i=t.getTime()-n.getTime(),o=(0,c.nF)(i,"ms");return""!==o.trim()?"".concat(o," ago"):"Just now"}(V.last_modified||"")]}),(0,O.jsxs)(p.xuv,{className:"detailContainer",children:[(0,O.jsx)("strong",{children:"ETAG:"}),(0,O.jsx)("br",{}),V.etag||"N/A"]}),(0,O.jsxs)(p.xuv,{className:"detailContainer",children:[(0,O.jsx)("strong",{children:"Tags:"}),(0,O.jsx)("br",{}),0===He.length?"N/A":He.map((function(e,t){return(0,O.jsxs)("span",{children:[e,":",x()(V,"tags.".concat(e),""),t<He.length-1?", ":""]},"key-vs-".concat(t.toString()))}))]}),(0,O.jsx)(p.xuv,{className:"detailContainer",children:(0,O.jsx)(y.s,{scopes:[l.Ft.S3_GET_OBJECT_LEGAL_HOLD,l.Ft.S3_GET_ACTIONS],resource:n,children:(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)("strong",{children:"Legal Hold:"}),(0,O.jsx)("br",{}),V.legal_hold_status?"On":"Off"]})})}),(0,O.jsx)(p.xuv,{className:"detailContainer",children:(0,O.jsx)(y.s,{scopes:[l.Ft.S3_GET_OBJECT_RETENTION,l.Ft.S3_GET_ACTIONS],resource:n,children:(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)("strong",{children:"Retention Policy:"}),(0,O.jsx)("br",{}),(0,O.jsx)("span",{className:"capitalizeFirst",children:(V.version_id&&V.version_id,(0,O.jsx)(i.Fragment,{children:V.retention_mode?V.retention_mode.toLowerCase():"None"}))})]})})}),!V.is_delete_marker&&(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(p.AG2,{label:"Metadata",icon:(0,O.jsx)(p.fRO,{})}),(0,O.jsx)(p.xuv,{className:"detailContainer",children:V&&Be?(0,O.jsx)(me,{metaData:Be,linear:!0}):null})]})]})]})},Ge=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)({},Z.oO))}))((function(e){var t=e.classes,n=e.versionToRestore,o=e.bucketName,r=e.objectPath,l=e.restoreOpen,u=e.onCloseAndUpdate,h=(0,s.TL)(),m=(0,i.useState)(!1),x=(0,f.Z)(m,2),b=x[0],j=x[1];return(0,O.jsx)(ye.Z,{title:"Restore File Version",confirmText:"Restore",isOpen:l,isLoading:b,titleIcon:(0,O.jsx)(p.D7Y,{}),onConfirm:function(){j(!0),a.h.buckets.putObjectRestore(o,{prefix:(0,c.LL)(r),version_id:n.version_id||""}).then((function(){j(!1),u(!0),h((0,d.rI)({prefix:r,objectInfo:n}))})).catch((function(e){h((0,F.Ih)((0,v.g)(e.error))),j(!1)}))},confirmButtonProps:{variant:"secondary",disabled:b},onClose:function(){u(!1)},confirmationContent:(0,O.jsxs)(p.xuv,{id:"alert-dialog-description",children:["Are you sure you want to restore ",(0,O.jsx)("br",{}),(0,O.jsx)("b",{children:r})," ",(0,O.jsx)("br",{})," with Version ID:",(0,O.jsx)("br",{}),(0,O.jsx)("b",{className:t.wrapText,children:n.version_id}),"?"]})})})),Ke=n(17691),We=function(e){var t="#000",n="";switch(e.type){case"null":t="#07193E",n="NULL VERSION";break;case"deleted":t="#868686",n="DELETED";break;default:t="#174551",n="CURRENT VERSION"}return(0,O.jsx)("span",{style:{backgroundColor:t,padding:"0 5px",display:"inline-block",color:"#FFF",fontWeight:"bold",fontSize:12,borderRadius:2,whiteSpace:"nowrap",margin:"0 10px"},children:n})},He=n(94454),Ve=n(30829),Je=n(20068),Ye=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({},Z.YI),Z.Hr),Z.lM),{},{fieldContainer:(0,u.Z)((0,u.Z)({},Z.YI.fieldContainer),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",margin:"15px 0",marginBottom:0,flexBasis:"initial",flexWrap:"nowrap"}),noTopMargin:{marginTop:0}}))}))((function(e){var t=e.label,n=e.onChange,o=e.value,r=e.id,a=e.name,s=e.checked,l=void 0!==s&&s,c=e.disabled,d=void 0!==c&&c,u=e.noTopMargin,h=void 0!==u&&u,f=e.tooltip,m=void 0===f?"":f,x=e.overrideLabelClasses,b=void 0===x?"":x,v=e.overrideCheckboxStyles,j=e.classes,g=e.className;return(0,O.jsx)(i.Fragment,{children:(0,O.jsxs)(se.ZP,{item:!0,xs:12,className:"".concat(j.fieldContainer," ").concat(h?j.noTopMargin:""," ").concat(g||""),children:[(0,O.jsx)("div",{children:(0,O.jsx)(He.Z,{name:a,id:r,value:o,color:"primary",inputProps:{"aria-label":"secondary checkbox"},checked:l,onChange:n,checkedIcon:(0,O.jsx)("span",{className:j.checkedIcon}),icon:(0,O.jsx)("span",{className:j.unCheckedIcon}),disabled:d,disableRipple:!0,disableFocusRipple:!0,focusRipple:!1,centerRipple:!1,disableTouchRipple:!0,style:v||{}})}),""!==t&&(0,O.jsxs)(Ve.Z,{htmlFor:r,className:"".concat(j.noMinWidthLabel," ").concat(b),children:[(0,O.jsx)("span",{children:t}),""!==m&&(0,O.jsx)("div",{className:j.tooltipContainer,children:(0,O.jsx)(Je.Z,{title:m,placement:"top-start",children:(0,O.jsx)("div",{className:j.tooltip,children:(0,O.jsx)(p.byK,{})})})})]})]})})})),qe=Ke.ZP.div((function(e){var t=e.theme;return{"&:before":{content:"' '",display:"block",position:"absolute",width:"2px",height:"calc(100% + 2px)",backgroundColor:x()(t,"borderColor","#F8F8F8"),left:"24px"},"& .mainFileVersionItem":{borderBottom:"".concat(x()(t,"borderColor","#F8F8F8")," 1px solid"),padding:"1rem 0",margin:"0 0.5rem 0 2.5rem",cursor:"pointer","&.deleted":{color:"#868686"}},"& .intermediateLayer":{margin:"0 1.5rem 0 1.5rem","&:hover, &.selected":{backgroundColor:x()(t,"boxBackground","#F8F8F8"),"& > div":{borderBottomColor:x()(t,"boxBackground","#F8F8F8")}}},"& .versionContainer":{fontSize:16,fontWeight:"bold",display:"flex",alignItems:"center","& svg.min-icon":{width:18,height:18,minWidth:18,minHeight:18,marginRight:10}},"& .buttonContainer":{textAlign:"right","& button":{marginLeft:"1.5rem"}},"& .versionID":{fontSize:"12px",margin:"2px 0",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"95%",overflow:"hidden"},"& .versionData":{marginRight:"10px",fontSize:12,color:"#868686"},"@media (max-width: 600px)":{"& .buttonContainer":{"& button":{marginLeft:"5px"}}},"@media (max-width: 799px)":{"&:before":{display:"none"},"& .mainFileVersionItem":{padding:"5px 0px",margin:0},"& .intermediateLayer":{margin:0,"&:hover, &.selected":{backgroundColor:"transparent","& > div":{borderBottomColor:x()(t,"boxBackground","#F8F8F8")}}},"& .versionContainer":{fontSize:14,"& svg.min-icon":{display:"none"}},"& .versionData":{textOverflow:"ellipsis",maxWidth:"95%",overflow:"hidden",whiteSpace:"nowrap"},"& .collapsableInfo":{display:"flex",flexDirection:"column"},"& .versionItem":{display:"none"}}}})),$e=function(e){var t=e.fileName,n=e.versionInfo,i=e.isSelected,o=e.checkable,r=e.isChecked,a=e.onCheck,s=e.onShare,l=e.onDownload,d=e.onRestore,u=e.onPreview,h=e.globalClick,f=e.index,m=e.key,x=e.style,b=n.is_delete_marker,v=[{icon:(0,O.jsx)(p.P99,{}),action:u,tooltip:"Preview"},{icon:(0,O.jsx)(p._8t,{}),action:l,tooltip:"Download this version"},{icon:(0,O.jsx)(p.aAc,{}),action:s,tooltip:"Share this version"},{icon:(0,O.jsx)(p.D7Y,{}),action:d,tooltip:"Restore this version"}],j=null;n.is_delete_marker?j="deleted":n.is_latest?j="current":"null"===n.version_id&&(j="null");var _=g.ou.now();return n.last_modified&&(_=g.ou.fromISO(n.last_modified)),(0,O.jsx)(qe,{children:(0,O.jsx)(p.rjZ,{container:!0,className:"ctrItem",onClick:function(){h(n)},style:x,children:(0,O.jsx)(p.rjZ,{item:!0,xs:12,className:"intermediateLayer".concat(" ",i?"selected":""),children:(0,O.jsxs)(p.rjZ,{item:!0,xs:!0,className:"mainFileVersionItem ".concat(n.is_delete_marker?"deleted":""),children:[(0,O.jsx)(p.rjZ,{item:!0,xs:12,children:(0,O.jsxs)(p.rjZ,{container:!0,children:[(0,O.jsxs)(p.rjZ,{item:!0,xs:!0,md:4,className:"versionContainer",children:[o&&(0,O.jsx)(Ye,{checked:r,id:"select-".concat(n.version_id),label:"",name:"select-".concat(n.version_id),onChange:function(e){e.stopPropagation(),e.preventDefault(),a(n.version_id||"")},value:n.version_id||"",disabled:n.is_delete_marker,overrideCheckboxStyles:{paddingLeft:0,height:34,width:25},noTopMargin:!0}),re(t,!0)," v",f.toString(),(0,O.jsx)("span",{className:"versionItem",children:j&&(0,O.jsx)(We,{type:j})})]}),(0,O.jsx)(p.rjZ,{item:!0,xs:10,md:8,className:"buttonContainer",children:v.map((function(e,t){return(0,O.jsx)(p.ua7,{tooltip:e.tooltip,children:(0,O.jsx)(p.hU,{size:"small",id:"version-action-".concat(e.tooltip,"-").concat(t.toString()),className:"spacing".concat(" ",b?"buttonDisabled":""),disabled:b,onClick:function(t){t.stopPropagation(),b?t.preventDefault():e.action(n)},sx:{backgroundColor:"#F8F8F8",borderRadius:"100%",width:"28px",height:"28px",padding:"5px","& .min-icon":{width:"14px",height:"14px"}},children:e.icon})},"version-action-".concat(e.tooltip,"-").concat(t.toString()))}))})]})}),(0,O.jsx)(p.rjZ,{item:!0,xs:12,className:"versionID",children:"null"!==n.version_id?n.version_id:"-"}),(0,O.jsxs)(p.rjZ,{item:!0,xs:12,className:"collapsableInfo",children:[(0,O.jsxs)("span",{className:"versionData",children:[(0,O.jsx)("strong",{children:"Last modified:"})," ",_.toFormat("ccc, LLL dd yyyy HH:mm:ss (ZZZZ)")]}),(0,O.jsxs)("span",{className:"versionData",children:[(0,O.jsx)("strong",{children:"Size:"})," ",(0,c.ae)("".concat(n.size||"0"))]})]})]})})},m)})},Xe=function(e){var t=e.closeDeleteModalAndRefresh,n=e.deleteOpen,r=e.selectedBucket,d=e.selectedObject,u=(0,s.TL)(),h=(0,i.useState)(!1),m=(0,f.Z)(h,2),x=m[0],b=m[1],j=(0,i.useState)(""),g=(0,f.Z)(j,2),_=g[0],S=g[1],T=(0,i.useState)(!1),C=(0,f.Z)(T,2),w=C[0],Z=C[1],N=(0,o.v9)((function(e){return e.objectBrowser.retentionConfig})),I=(0,y.F)([r],[l.Ft.S3_BYPASS_GOVERNANCE_RETENTION])&&"governance"===(null===N||void 0===N?void 0:N.mode);if((0,i.useEffect)((function(){x&&a.h.buckets.deleteObject(r,{path:d,non_current_versions:!0,bypass:w}).then((function(){t(!0)})).catch((function(e){u((0,F.Ih)((0,v.g)(e.error))),b(!1)}))}),[x,t,u,d,r,w]),!d)return null;return(0,O.jsx)(ye.Z,{title:"Delete Non-Current versions",confirmText:"Delete",isOpen:n,titleIcon:(0,O.jsx)(p.NvT,{}),isLoading:x,onConfirm:function(){b(!0)},onClose:function(){return t(!1)},confirmButtonProps:{disabled:"YES, PROCEED"!==_||x},confirmationContent:(0,O.jsxs)(i.Fragment,{children:["Are you sure you want to delete all the non-current versions for:"," ",(0,O.jsx)("b",{children:(0,c.IO)(d)}),"? ",(0,O.jsx)("br",{}),I&&(0,O.jsx)(i.Fragment,{children:(0,O.jsx)("div",{style:{marginTop:10},children:(0,O.jsx)(p.rsf,{label:"Bypass Governance Mode",indicatorLabels:["Yes","No"],checked:w,value:"bypass_governance",id:"bypass_governance",name:"bypass_governance",onChange:function(e){Z(!w)},description:""})})}),(0,O.jsx)("br",{}),"To continue please type ",(0,O.jsx)("b",{children:"YES, PROCEED"})," in the box.",(0,O.jsx)("br",{}),(0,O.jsx)("br",{}),(0,O.jsx)(p.rjZ,{item:!0,xs:12,children:(0,O.jsx)(p.Wzg,{id:"type-confirm",name:"retype-tenant",onChange:function(e){S(e.target.value)},label:"",value:_})})]})})},Qe=function(e){var t=e.closeDeleteModalAndRefresh,n=e.deleteOpen,r=e.selectedBucket,c=e.selectedVersions,d=e.selectedObject,u=(0,s.TL)(),h=(0,i.useState)(!1),m=(0,f.Z)(h,2),x=m[0],b=m[1],j=(0,i.useState)(!1),g=(0,f.Z)(j,2),_=g[0],S=g[1],T=(0,o.v9)((function(e){return e.objectBrowser.retentionConfig})),C=(0,y.F)([r],[l.Ft.S3_BYPASS_GOVERNANCE_RETENTION])&&"governance"===(null===T||void 0===T?void 0:T.mode);return(0,i.useEffect)((function(){if(x){var e=c.map((function(e){return{path:d,versionID:e,recursive:!1}}));e.length>0&&a.h.buckets.deleteMultipleObjects(r,e,{all_versions:!1,bypass:_}).then((function(){b(!1),t(!0)})).catch((function(e){u((0,F.Ih)((0,v.g)(e.error))),b(!1)}))}}),[x,t,r,d,c,_,u]),c?(0,O.jsx)(ye.Z,{title:"Delete Selected Versions",confirmText:"Delete",isOpen:n,titleIcon:(0,O.jsx)(p.NvT,{}),isLoading:x,onConfirm:function(){b(!0)},onClose:function(){return t(!1)},confirmationContent:(0,O.jsxs)(i.Fragment,{children:["Are you sure you want to delete the selected ",c.length," ","versions for ",(0,O.jsx)("strong",{children:d}),"?",C&&(0,O.jsx)(i.Fragment,{children:(0,O.jsx)("div",{style:{marginTop:10},children:(0,O.jsx)(p.rsf,{label:"Bypass Governance Mode",indicatorLabels:["Yes","No"],checked:_,value:"bypass_governance",id:"bypass_governance",name:"bypass_governance",onChange:function(e){S(!_)},description:""})})})]})}):null},et=n(53128),tt={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:0,tags:{},version_id:void 0},nt=(0,Y.Z)((function(e){return(0,T.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({versionsContainer:{padding:10,"@media (max-width: 799px)":{minHeight:800}},noBottomBorder:{borderBottom:0},versionsVirtualPanel:{flexGrow:1,height:"calc(100% - 120px)",overflow:"auto","@media (max-width: 799px)":{height:600}},screenTitleContainer:{position:"relative","@media (max-width: 799px)":{"&::before":{display:"none"}}},sortByLabel:{color:"#838383",fontWeight:"bold",whiteSpace:"nowrap",marginRight:12,fontSize:14,"@media (max-width: 600px)":{display:"none"}}},Z.OR),Z.VX),Z.bK),Z.VI),Z.cx),Z.C4),Z.Bz))}))((function(e){var t=e.classes,n=e.internalPaths,r=e.bucketName,l=(0,s.TL)(),u=(0,o.v9)((function(e){return e.objectBrowser.searchVersions})),m=(0,o.v9)((function(e){return e.objectBrowser.loadingVersions})),b=(0,o.v9)((function(e){return e.objectBrowser.selectedVersion})),j=(0,o.v9)(F.N5),g=(0,i.useState)(!1),_=(0,f.Z)(g,2),S=_[0],T=_[1],C=(0,i.useState)(null),w=(0,f.Z)(C,2),Z=w[0],y=w[1],N=(0,i.useState)(null),I=(0,f.Z)(N,2),E=I[0],k=I[1],L=(0,i.useState)([]),P=(0,f.Z)(L,2),A=P[0],D=P[1],R=(0,i.useState)(!1),M=(0,f.Z)(R,2),U=M[0],z=M[1],G=(0,i.useState)(null),K=(0,f.Z)(G,2),W=K[0],H=K[1],V=(0,i.useState)("date"),J=(0,f.Z)(V,2),Y=J[0],q=J[1],$=(0,i.useState)(!1),Q=(0,f.Z)($,2),ee=Q[0],ne=Q[1],ie=(0,i.useState)(!1),oe=(0,f.Z)(ie,2),re=oe[0],le=oe[1],ce=(0,i.useState)(!1),de=(0,f.Z)(ce,2),ue=de[0],he=de[1],fe=(0,i.useState)([]),me=(0,f.Z)(fe,2),pe=me[0],be=me[1],ve=(0,i.useState)(!1),je=(0,f.Z)(ve,2),ge=je[0],_e=je[1],Se=[];Z&&Z.name&&(Se=Z.name.split("/")),(0,i.useEffect)((function(){m||Z||l((0,d.Eq)(!0))}),[m,Z,l]),(0,i.useEffect)((function(){m&&""!==n&&a.h.buckets.listObjects(r,{prefix:n,with_versions:j}).then((function(e){var t=x()(e.data,"objects",[]),i=(0,c.IO)(n),o=t.filter((function(e){return e.name===i}));j?(y(o.find((function(e){return e.is_latest}))||tt),D(o)):(y(o[0]),D([])),l((0,d.Eq)(!1))})).catch((function(e){l((0,F.Ih)((0,v.g)(e.error))),l((0,d.Eq)(!1))}))}),[m,r,n,l,j]);var Te=function(e){k(e),T(!0)},Ce=function(e){k(e),ne(!0)},we=function(e){H(e),z(!0)},Ze=function(e){te(l,r,n,e)},ye=function(e){l((0,d.M3)(e.version_id||""))},Ne=A.filter((function(e){return!!e.version_id&&e.version_id.includes(u)})),Fe=A.reduce((function(e,t){return t.size?e+t.size:e}),0);Ne.sort((function(e,t){if("size"===Y)return e.size&&t.size?e.size<t.size?-1:e.size>t.size?1:0:0;var n=new Date(e.last_modified||"").getTime(),i=new Date(t.last_modified||"").getTime();return n<i?1:n>i?-1:0}));var Ie=function(e){if(pe.includes(e)){var t=pe.filter((function(t){return t!==e}));be(t)}else{var n=(0,h.Z)(pe);n.push(e),be(n)}};return(0,O.jsxs)(i.Fragment,{children:[S&&Z&&(0,O.jsx)(xe.default,{open:S,closeModalAndRefresh:function(){k(null),T(!1),ne(!1)},bucketName:r,dataObject:E||Z}),U&&Z&&W&&(0,O.jsx)(Ge,{restoreOpen:U,bucketName:r,versionToRestore:W,objectPath:Z.name||"",onCloseAndUpdate:function(e){z(!1),H(null),e&&(l((0,d.Eq)(!0)),l((0,d.vH)(!0)))}}),ee&&Z&&(0,O.jsx)(ae.default,{open:ee,bucketName:r,object:{name:Z.name||"",version_id:E&&E.version_id?E.version_id:"null",size:E&&E.size?E.size:0,content_type:"",last_modified:Z.last_modified||""},onClosePreview:function(){ne(!1)}}),re&&(0,O.jsx)(Xe,{deleteOpen:re,closeDeleteModalAndRefresh:function(e){le(!1),e&&(l((0,d.Eq)(!0)),l((0,d.M3)("")),l((0,d.vH)(!0)))},selectedBucket:r,selectedObject:n}),ge&&(0,O.jsx)(Qe,{selectedBucket:r,selectedObject:(0,c.IO)(n),deleteOpen:ge,selectedVersions:pe,closeDeleteModalAndRefresh:function(e){_e(!1),e&&(l((0,d.Eq)(!0)),l((0,d.M3)("")),l((0,d.vH)(!0)),be([]))}}),(0,O.jsxs)(se.ZP,{container:!0,className:t.versionsContainer,children:[!Z&&(0,O.jsx)(se.ZP,{item:!0,xs:12,children:(0,O.jsx)(p.kod,{})}),Z&&(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(se.ZP,{item:!0,xs:12,children:(0,O.jsx)(B,{bucketName:r,internalPaths:(0,c.IO)(n),hidePathButton:!0})}),(0,O.jsx)(se.ZP,{item:!0,xs:12,className:t.screenTitleContainer,children:(0,O.jsx)(p.UHn,{icon:(0,O.jsx)("span",{className:t.listIcon,children:(0,O.jsx)(p.cRd,{})}),title:"".concat(Se.length>0?Se[Se.length-1]:Z.name," Versions"),subTitle:(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)("span",{className:t.detailsSpacer,children:(0,O.jsxs)("strong",{children:[A.length," Version",1===A.length?"":"s","\xa0\xa0\xa0"]})}),(0,O.jsx)("span",{className:t.detailsSpacer,children:(0,O.jsx)("strong",{children:(0,c.l5)(Fe)})})]}),actions:(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(X.Z,{tooltip:"Select Multiple Versions",children:(0,O.jsx)(p.zxk,{id:"select-multiple-versions",onClick:function(){he(!ue)},icon:(0,O.jsx)(p.amE,{}),variant:ue?"callAction":"regular",style:{marginRight:8}})}),ue&&(0,O.jsx)(X.Z,{tooltip:"Delete Selected Versions",children:(0,O.jsx)(p.zxk,{id:"delete-multiple-versions",onClick:function(){_e(!0)},icon:(0,O.jsx)(p.pJl,{}),variant:"secondary",style:{marginRight:8},disabled:0===pe.length})}),(0,O.jsx)(X.Z,{tooltip:"Delete Non Current Versions",children:(0,O.jsx)(p.zxk,{id:"delete-non-current",onClick:function(){le(!0)},icon:(0,O.jsx)(p.utM,{}),variant:"secondary",style:{marginRight:15},disabled:A.length<=1})}),(0,O.jsx)(p.PhF,{id:"sort-by",options:[{label:"Date",value:"date"},{label:"Size",value:"size"}],value:Y,label:"Sort by",onChange:function(e){q(e)},noLabelMinWidth:!0})]}),bottomBorder:!1})}),(0,O.jsx)(se.ZP,{item:!0,xs:12,className:t.versionsVirtualPanel,children:Z.version_id&&"null"!==Z.version_id&&(0,O.jsx)(et.aV,{style:{width:"100%"},containerStyle:{width:"100%",maxWidth:"100%"},width:1,height:800,rowCount:Ne.length,rowHeight:108,rowRenderer:function(e){var t=e.key,n=e.index,i=(e.isScrolling,e.isVisible,e.style),o=A.length-n;return(0,O.jsx)($e,{style:i,fileName:(null===Z||void 0===Z?void 0:Z.name)||"",versionInfo:Ne[n],index:o,onDownload:Ze,onRestore:we,onShare:Te,onPreview:Ce,globalClick:ye,isSelected:b===Ne[n].version_id,checkable:ue,onCheck:Ie,isChecked:pe.includes(Ne[n].version_id||"")},t)}})})]})]})]})})),it=function(e){if(e.name.endsWith("/"))return"";var t=g.ou.now(),n=g.ou.fromISO(e.last_modified);return t.hasSame(n,"day")&&t.hasSame(n,"month")&&t.hasSame(n,"year")?"Today, ".concat(n.toFormat("HH:mm")):n.toFormat("ccc, LLL dd yyyy HH:mm (ZZZZ)")},ot=function(e){return e.name.endsWith("/")||!e.size?"-":(0,c.ae)(String(e.size))},rt=[{label:"Name",elementKey:"name",renderFunction:re,enableSort:!0},{label:"Last Modified",elementKey:"last_modified",renderFunction:it,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:ot,renderFullObject:!0,width:100,enableSort:!0}],at=[{label:"Name",elementKey:"name",renderFunction:re,enableSort:!0},{label:"Object Date",elementKey:"last_modified",renderFunction:it,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:ot,renderFullObject:!0,width:100,enableSort:!0},{label:"Deleted",elementKey:"delete_flag",renderFunction:function(e){return e?"Yes":"No"},width:60}],st=n(46078),lt=(0,C.Z)((function(e){return(0,T.Z)({browsePaper:{border:0,"@media (max-width: 800px)":{width:800}},parentWrapper:{position:"relative",height:"calc(100% - 60px)","@media (max-width: 800px)":{overflowX:"auto"},"@media (max-width: 1060px)":{height:"calc(100% - 115px)"}},"@global":{".rowLine:hover  .iconFileElm":{backgroundImage:"url(/images/ob_file_filled.svg)"},".rowLine:hover  .iconFolderElm":{backgroundImage:"url(/images/ob_folder_filled.svg)"}}})})),ct=function(){var e=lt(),t=(0,s.TL)(),n=(0,r.UO)(),a=(0,r.s0)(),u=(0,i.useState)("ASC"),m=(0,f.Z)(u,2),b=m[0],v=m[1],j=(0,i.useState)("name"),g=(0,f.Z)(j,2),_=g[0],S=g[1],T=n.bucketName||"",C=(0,o.v9)((function(e){return e.objectBrowser.objectDetailsOpen})),w=(0,o.v9)((function(e){return e.objectBrowser.requestInProgress})),Z=(0,o.v9)(st.$4),N=!(null===Z||void 0===Z||!Z.includes("object-browser-only")),F=(0,o.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),I=(0,o.v9)((function(e){return e.objectBrowser.records})),E=(0,o.v9)((function(e){return e.objectBrowser.searchObjects})),k=(0,o.v9)((function(e){return e.objectBrowser.selectedObjects})),L=(0,o.v9)((function(e){return e.objectBrowser.connectionError})),B=(0,o.v9)((function(e){return e.system.anonymousMode})),A=(0,y.F)(T,[l.Ft.S3_LIST_BUCKET,l.Ft.S3_ALL_LIST_BUCKET]),D=I.filter((function(e){return""===E||e.name.toLowerCase().indexOf(E.toLowerCase())>=0})).sort((0,P.P_)(_)),R=[];R="ASC"===b?D:D.reverse();var M=[{type:"view",tooltip:"View",onClick:function(e){var n,i=e.name||"",o="/browser/".concat(T).concat(i?"/".concat((0,c.LL)(i)):"");!B||null!==(n=e.name)&&void 0!==n&&n.endsWith("/")?(t((0,d.S2)([])),a(o),B||(t((0,d.vb)(!0)),t((0,d.Eq)(!0))),t((0,d.EE)("".concat(i?"".concat((0,c.LL)(i)):"")))):te(t,T,"".concat((0,c.LL)(i)),e)},sendOnlyId:!1}],U=A||B?"This location is empty".concat(F?"":", please try uploading a new file"):(0,l.MK)([l.Ft.S3_LIST_BUCKET,l.Ft.S3_ALL_LIST_BUCKET],"view Objects in this bucket");L&&(U="Objects List unavailable. Please review your WebSockets configuration and try again");var z="calc(100vh - 290px)";return N&&(z="calc(100vh - 315px)"),(0,O.jsx)(p.wQF,{itemActions:M,columns:F?at:rt,isLoading:w,entityName:"Objects",idField:"name",records:R,customPaperHeight:z,selectedItems:k,onSelect:B?void 0:function(e){var n=e.target,i=n.value,o=n.checked,r=(0,h.Z)(k);return o?r.push(i):r=r.filter((function(e){return e!==i})),t((0,d.S2)(r)),t((0,d.EE)(null)),r},customEmptyMessage:U,sortConfig:{currentSort:_,currentDirection:b,triggerSort:function(e){var n=x()(e,"sortDirection","DESC");S(e.sortBy),v(n),t((0,d.$3)(!0))}},onSelectAll:function(){if(t((0,d.EE)(null)),k.length!==R.length){var e=R.map((function(e){return e.name}));t((0,d.S2)(e))}else t((0,d.S2)([]))},rowStyle:function(e){var t,n=e.index;return null!==(t=R[n])&&void 0!==t&&t.delete_flag?"deleted":""},parentClassName:e.parentWrapper,sx:{minHeight:C?"100%":"initial"},noBackground:!0})},dt=n(59114),ut=function(){var e=(0,s.TL)(),t=(0,o.v9)((function(e){return e.objectBrowser.searchObjects}));return(0,O.jsx)(dt.Z,{placeholder:"Start typing to filter objects in the bucket",onChange:function(t){e((0,d.G4)(t))},value:t})},ht=n(94619),ft=(0,N.Z)(i.lazy((function(){return n.e(711).then(n.bind(n,50711))}))),mt=(0,N.Z)(i.lazy((function(){return Promise.resolve().then(n.bind(n,34433))}))),xt=(0,N.Z)(i.lazy((function(){return Promise.all([n.e(2193),n.e(6901)]).then(n.bind(n,26901))}))),pt=(0,N.Z)(i.lazy((function(){return Promise.resolve().then(n.bind(n,78562))}))),bt={borderWidth:2,borderRadius:2,borderColor:"transparent",outline:"none"},vt={borderStyle:"dashed",backgroundColor:"transparent",borderColor:"#2196f3"},jt={borderStyle:"dashed",backgroundColor:"transparent",borderColor:"#00e676"},gt=function(){var e,t=(0,s.TL)(),n=(0,r.UO)(),m=(0,r.s0)(),_=(0,r.TH)(),S=(0,o.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),T=(0,o.v9)((function(e){return e.objectBrowser.rewind.bucketToRewind})),C=(0,o.v9)((function(e){return e.objectBrowser.versionsMode})),w=(0,o.v9)((function(e){return e.objectBrowser.showDeleted})),Z=(0,o.v9)((function(e){return e.objectBrowser.objectDetailsOpen})),N=(0,o.v9)((function(e){return e.objectBrowser.selectedInternalPaths})),k=(0,o.v9)((function(e){return e.objectBrowser.requestInProgress})),L=(0,o.v9)((function(e){return e.objectBrowser.simplePath})),M=(0,o.v9)((function(e){return e.objectBrowser.versionInfo})),U=(0,o.v9)((function(e){return e.objectBrowser.lockingEnabled})),z=(0,o.v9)((function(e){return e.objectBrowser.downloadRenameModal})),V=(0,o.v9)((function(e){return e.objectBrowser.selectedPreview})),J=(0,o.v9)((function(e){return e.objectBrowser.shareFileModalOpen})),Y=(0,o.v9)((function(e){return e.objectBrowser.previewOpen})),q=(0,o.v9)((function(e){return e.objectBrowser.selectedBucket})),$=(0,o.v9)((function(e){return e.system.anonymousMode})),te=(0,o.v9)((function(e){return e.objectBrowser.anonymousAccessOpen})),ne=(0,o.v9)(R.HQ),ie=(0,o.v9)(R.G6),oe=(0,i.useState)(!1),re=(0,f.Z)(oe,2),ae=re[0],se=re[1],le=(0,i.useState)(!1),ce=(0,f.Z)(le,2),de=ce[0],ue=ce[1],he=(0,i.useState)(!1),fe=(0,f.Z)(he,2),me=fe[0],xe=fe[1],pe=(0,i.useState)(!1),be=(0,f.Z)(pe,2),ve=be[0],je=be[1],ge=(0,i.useState)(!1),_e=(0,f.Z)(ge,2),Se=_e[0],Te=_e[1],Ce=(0,i.useState)(null),we=(0,f.Z)(Ce,2),Ze=we[0],ye=we[1],Ne=(0,i.useState)(null),Fe=(0,f.Z)(Ne,2),Ie=Fe[0],Ee=Fe[1],Oe=(0,i.useState)(!1),ke=(0,f.Z)(Oe,2),Le=ke[0],Be=ke[1],Pe=A(M.status),Ae=n.bucketName||"",De=_.pathname.split("/browser/".concat(Ae,"/")),Re=2===De.length?De[1]:"",Ue=(0,c.IO)(Re),Ge=Ue.split("/").filter((function(e){return""!==e})),Ke=[Ae];Ge.length>0&&(Ke=Ke.concat(Ge));var We=(0,i.useRef)(null),He=(0,i.useRef)(null),Ve=(0,o.v9)((function(e){return e.console.session&&e.console.session.permissions||{}})),Je=[l.Ft.S3_PUT_OBJECT,l.Ft.S3_PUT_ACTIONS],Ye=Ke.join("/"),qe=function(e,t){var n=E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).reduce((function(e,t){var n=I(t);return n&&e.push(".".concat(n)),e}),[]);return(0,h.Z)(new Set(n)).join(",")}(Ve,Ye,Je),$e=E(Ve,Ye,Je),Xe=(0,y.F)([Ye].concat((0,h.Z)($e)),[l.Ft.S3_GET_OBJECT,l.Ft.S3_GET_ACTIONS]),Qe=(0,y.F)([Ye].concat((0,h.Z)($e)),[l.Ft.S3_DELETE_OBJECT]),et=(0,y.F)([Ye].concat((0,h.Z)($e)),Je)||$,tt=(0,y.F)(Ae,[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_PUT_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),it=(0,o.v9)((function(e){return e.objectBrowser.selectedObjects})),ot=(0,i.useCallback)((function(){var e=it[0];if(!Le){var t=(0,c.LL)(e);a.h.buckets.getObjectMetadata(Ae,{prefix:t}).then((function(e){var t=x()(e.data,"objectMetadata",{});Be(!0),Ee(t)})).catch((function(e){console.error("Error Getting Metadata Status: ",e,null===e||void 0===e?void 0:e.detailedError),Be(!0)}))}}),[Ae,it,Le]);(0,i.useEffect)((function(){Ae&&1===it.length&&ot()}),[Ae,it,ot]),(0,i.useEffect)((function(){S&&T!==Ae&&t((0,d._w)())}),[S,T,Ae,t]),(0,i.useEffect)((function(){null!==He.current&&(He.current.setAttribute("directory",""),He.current.setAttribute("webkitdirectory",""))}),[He]),(0,i.useEffect)((function(){if(1===it.length){var e=it[0],t=(0,P.s7)(Ie,e);Te(!("none"===t||!Xe)),e.endsWith("/")||Xe?je(!0):je(!1)}else je(!1),Te(!1)}),[it,Xe,Ie]),(0,i.useEffect)((function(){Ze||$||a.h.buckets.getBucketQuota(Ae).then((function(e){var t=null;e.data.quota&&(t=e.data),ye(t)})).catch((function(e){console.error("Error Getting Quota Status: ",e.error.detailedMessage),ye(null)}))}),[Ze,Ae,$]),(0,i.useEffect)((function(){it.length>0?t((0,d.vb)(!0)):0!==it.length||null!==N||k||t((0,d.vb)(!1))}),[it,N,t,k]),(0,i.useEffect)((function(){me||(t((0,R.d5)(!0)),xe(!0))}),[me,t,xe]),(0,i.useEffect)((function(){!k&&!ne||$||a.h.buckets.bucketInfo(Ae).then((function(e){t((0,R.d5)(!1)),t((0,R.f4)(e.data))})).catch((function(e){t((0,R.d5)(!1)),t((0,F.Ih)((0,v.g)(e)))}))}),[Ae,ne,t,$,k]),(0,i.useEffect)((function(){""!==q&&a.h.buckets.getBucketRetentionConfig(q).then((function(e){t((0,d.c8)(e.data))})).catch((function(){t((0,d.c8)(null))}))}),[q,t]);var rt=function(e){if(null!==e&&void 0!==e&&null!==e.target.files&&void 0!==e.target.files){e.preventDefault();for(var t=[],n=0;n<e.target.files.length;n++)t.push(e.target.files[n]);at(t,""),e.target.value=""}},at=(0,i.useCallback)((function(e,n){var i="";L&&(i=L.endsWith("/")?L:L+"/");!function(e,n,i,o){var r=function(r){return new Promise((function(a,s){var l="api/v1/buckets/".concat(n,"/objects/upload"),u=r.name,h=new Blob([r],{type:r.type}),f="",m=x()(r,"path",""),p=x()(r,"webkitRelativePath",""),b=o,v=(0,D.YO)(8);if(""!==m?b=m:""!==p&&(b=p),""!==i||""!==b){var j=b.split("/").slice(0,-1).join("/"),g=i.endsWith("/")?i.slice(0,-1):i;f=(0,c.LL)("".concat(g).concat(g.endsWith("/")||""===j||j.startsWith("/")?"":"/").concat(j).concat(!j.endsWith("/")||""===j.trim()&&!i.endsWith("/")?"/":""))}""!==f&&(l="".concat(l,"?prefix=").concat(f));var _=(0,c.LL)("".concat(n,"-").concat(f,"-").concat((new Date).getTime(),"-").concat(Math.random())),S=new XMLHttpRequest;S.open("POST",l,!0),$&&S.setRequestHeader("X-Anonymous","1");var T=e.length>1,C="An error occurred while uploading the file".concat(T?"s":"","."),w={413:"Error - File size too large"};S.withCredentials=!1,S.onload=function(){if(S.status>=200&&S.status<300)t((0,d.oK)(_)),a({status:S.status}),(0,D.GM)(v);else{if(w[S.status])C=w[S.status];else if(S.response)try{var e=JSON.parse(S.response);C=e.detailedMessage}catch(n){C="something went wrong"}t((0,d.qJ)({instanceID:_,msg:C})),s({status:S.status,message:C}),(0,D.GM)(v)}},S.upload.addEventListener("error",(function(){s(C),t((0,d.qJ)({instanceID:_,msg:"A network error occurred."}))})),S.upload.addEventListener("progress",(function(e){var n=Math.floor(100*e.loaded/e.total);t((0,d.RO)({instanceID:_,progress:n}))})),S.onerror=function(){s(C),t((0,d.qJ)({instanceID:_,msg:"A network error occurred."}))},S.onloadend=function(){0===e.length&&t((0,d.$3)(!0))},S.onabort=function(){t((0,d.Im)(_))};var Z=new FormData;void 0!==r.size&&(Z.append(r.size.toString(),h,u),(0,D.EN)(v,S),t((0,d.Mc)({ID:v,bucketName:n,done:!1,instanceID:_,percentage:0,prefix:"".concat((0,c.IO)(f)).concat(u),type:"upload",waitingForFile:!1,failed:!1,cancelled:!1,errorMessage:""})),(0,D.N5)(v,Z))}))},a=[];t((0,d.LD)());for(var s=0;s<e.length;s++){var l=e[s];a.push(r(l))}Promise.allSettled(a).then((function(e){var n=e.filter((function(e){return"rejected"===e.status}));if(n.length>0){var i=a.length,o=a.length-n.length,r={errorMessage:"There were some errors during file upload",detailedError:"Uploaded files ".concat(o,"/").concat(i)};t((0,F.Ih)(r))}t((0,d.$3)(!0))}))}(e,Ae,i,n)}),[Ae,t,L,$]),st=(0,i.useCallback)((function(e){if(e&&e.length>0&&et){var n,i,o=e[0].path,r=e;if(qe.length>0&&(r=e.filter((function(e){var t=I(e.name);return qe.includes(t)}))),r.length)at(r,o),(n=console).log.apply(n,["".concat(r.length," Allowed Files Processed out of ").concat(e.length,"."),Ye].concat((0,h.Z)($e))),r.length!==e.length&&t((0,F.Ih)({errorMessage:"Upload is restricted.",detailedError:(0,l.MK)([l.Ft.S3_PUT_OBJECT,l.Ft.S3_PUT_ACTIONS],"upload objects to this location")}));else t((0,F.Ih)({errorMessage:"Could not process drag and drop.",detailedError:(0,l.MK)([l.Ft.S3_PUT_OBJECT,l.Ft.S3_PUT_ACTIONS],"upload objects to this location")})),(i=console).error.apply(i,["Could not process drag and drop . upload may be restricted.",Ye].concat((0,h.Z)($e)))}et||t((0,F.Ih)({errorMessage:"Upload not allowed",detailedError:(0,l.MK)([l.Ft.S3_PUT_OBJECT,l.Ft.S3_PUT_ACTIONS],"upload objects to this location")}))}),[at]),lt=(0,j.uI)({noClick:!0,onDrop:st}),dt=lt.getRootProps,gt=lt.getInputProps,_t=lt.isDragActive,St=lt.isDragAccept,Tt=(0,i.useMemo)((function(){return(0,u.Z)((0,u.Z)((0,u.Z)({},bt),_t?vt:{}),St?jt:{})}),[_t,St]),Ct=function(e){if(t((0,d.EE)(null)),t((0,d.db)({status:!1})),Z&&null!==N){var n=(0,c.IO)(Re).split("/");n.pop();var i="";n&&n.length>0&&(i="".concat(n.join("/"),"/")),m("/browser/".concat(Ae,"/").concat((0,c.LL)(i)))}t((0,d.vb)(!1)),e&&t((0,d.$3)(!0))},wt=g.ou.now();null!==ie&&void 0!==ie&&ie.creation_date&&(wt=g.ou.fromISO(ie.creation_date));var Zt=(null===it||void 0===it?void 0:it.length)<=1?"Download Selected":" Download selected objects as Zip. Any Deleted objects in the selection would be skipped from download.",yt=[{action:function(){t(G(Ae))},label:"Download",disabled:!Xe||0===(null===it||void 0===it?void 0:it.length),icon:(0,O.jsx)(p._8t,{}),tooltip:Xe?Zt:(0,l.MK)([l.Ft.S3_GET_OBJECT,l.Ft.S3_GET_ACTIONS],"download objects from this bucket")},{action:function(){t(W())},label:"Share",disabled:1!==it.length||!ve,icon:(0,O.jsx)(p.aAc,{}),tooltip:ve?"Share Selected File":"Sharing unavailable"},{action:function(){t(K())},label:"Preview",disabled:1!==it.length||!Se,icon:(0,O.jsx)(p.P99,{}),tooltip:Se?"Preview Selected File":"Preview unavailable"},{action:function(){t(H())},label:"Anonymous Access",disabled:1!==it.length||!it[0].endsWith("/")||!tt,icon:(0,O.jsx)(p.cuP,{}),tooltip:1===it.length&&it[0].endsWith("/")?"Set Anonymous Access to this Folder":"Anonymous Access unavailable"},{action:function(){se(!0)},label:"Delete",icon:(0,O.jsx)(p.pJl,{}),disabled:!Qe||0===it.length,tooltip:Qe?"Delete Selected Files":(0,l.MK)([l.Ft.S3_DELETE_OBJECT],"delete objects in this bucket")}];return(0,O.jsxs)(i.Fragment,{children:[J&&V&&(0,O.jsx)(mt,{open:J,closeModalAndRefresh:function(){t((0,d.Qf)(!1)),t((0,d.eP)(null))},bucketName:Ae,dataObject:{name:V.name,last_modified:"",version_id:V.version_id}}),ae&&(0,O.jsx)(ft,{deleteOpen:ae,selectedBucket:Ae,selectedObjects:it,closeDeleteModalAndRefresh:function(e){se(!1),e&&(t((0,F.y1)("Objects deleted successfully.")),t((0,d.S2)([])),t((0,d.$3)(!0)))},versioning:M}),de&&(0,O.jsx)(xt,{open:de,closeModalAndRefresh:function(){ue(!1)},bucketName:Ae}),Y&&(0,O.jsx)(pt,{open:Y,bucketName:Ae,object:V,onClosePreview:function(){t((0,d.ei)(!1)),t((0,d.eP)(null))}}),!!z&&(0,O.jsx)(Me,{open:!!z,closeModal:function(){t((0,d.$y)(null))},currentItem:(null===(e=z.name.split("/"))||void 0===e?void 0:e.pop())||"",bucketName:Ae,internalPaths:Re,actualInfo:{name:z.name,last_modified:"",version_id:z.version_id,size:z.size}}),te&&(0,O.jsx)(ht.default,{onClose:function(){t((0,d.xV)(!1))},bucket:Ae,modalOpen:te,prefilledRoute:"".concat(it[0],"*")}),(0,O.jsxs)(p.Xgh,{variant:"full",children:[$&&(0,O.jsx)("div",{style:{paddingBottom:16},children:(0,O.jsx)(ut,{})}),(0,O.jsx)(p.xuv,{withBorders:!0,sx:{padding:"0 5px"},children:(0,O.jsx)(p.UHn,{icon:(0,O.jsx)("span",{children:(0,O.jsx)(p.wNb,{style:{width:30}})}),title:Ae,subTitle:$?null:(0,O.jsxs)(p.xuv,{sx:{"& .detailsSpacer":{marginRight:18,"@media (max-width: 600px)":{marginRight:0}}},children:[(0,O.jsxs)("span",{className:"detailsSpacer",children:["Created on:\xa0",(0,O.jsx)("strong",{children:null!==ie&&void 0!==ie&&ie.creation_date?wt.toFormat("ccc, LLL dd yyyy HH:mm:ss (ZZZZ)"):""})]}),(0,O.jsxs)("span",{className:"detailsSpacer",children:["Access:\xa0\xa0",(0,O.jsx)("strong",{children:(null===ie||void 0===ie?void 0:ie.access)||""})]}),ie&&(0,O.jsx)(i.Fragment,{children:(0,O.jsxs)("span",{className:"detailsSpacer",children:[ie.size&&(0,O.jsx)(i.Fragment,{children:(0,c.l5)(ie.size)}),ie.size&&Ze&&(0,O.jsxs)(i.Fragment,{children:[" ","/ ",(0,c.l5)(Ze.quota||0)]}),ie.size&&ie.objects?" - ":"",ie.objects&&(0,O.jsxs)(i.Fragment,{children:[ie.objects,"\xa0Object",ie.objects&&1!==ie.objects?"s":""]})]})})]}),actions:(0,O.jsxs)(i.Fragment,{children:[!$&&(0,O.jsx)(X.Z,{tooltip:"Rewind Bucket",children:(0,O.jsx)(p.zxk,{id:"rewind-objects-list",label:"Rewind",icon:(0,O.jsx)(b.Z,{badgeContent:" ",color:"secondary",variant:"dot",invisible:!S,className:"",sx:{height:16},children:(0,O.jsx)(p.F_y,{style:{minWidth:16,minHeight:16,width:16,height:16,marginTop:-3}})}),variant:"regular",onClick:function(){ue(!0)},disabled:!Pe||!(0,y.F)(Ae,[l.Ft.S3_GET_OBJECT,l.Ft.S3_GET_ACTIONS])})}),(0,O.jsx)(X.Z,{tooltip:"Reload List",children:(0,O.jsx)(p.zxk,{id:"refresh-objects-list",label:"Refresh",icon:(0,O.jsx)(p.DuK,{}),variant:"regular",onClick:function(){C?t((0,d.Eq)(!0)):(t((0,d.o_)()),t((0,d.$3)(!0)))},disabled:!$&&(!(0,y.F)(Ae,[l.Ft.S3_LIST_BUCKET,l.Ft.S3_ALL_LIST_BUCKET])||S)})}),(0,O.jsx)("input",{type:"file",multiple:!0,accept:qe||void 0,onChange:rt,style:{display:"none"},ref:We}),(0,O.jsx)("input",{type:"file",multiple:!0,onChange:rt,style:{display:"none"},ref:He}),(0,O.jsx)(Q,{bucketName:Ae,uploadPath:Ye,uploadFileFunction:function(e){We&&We.current&&We.current.click(),e()},uploadFolderFunction:function(e){He&&He.current&&He.current.click(),e()}})]}),bottomBorder:!1})}),(0,O.jsxs)("div",(0,u.Z)((0,u.Z)({id:"object-list-wrapper"},dt({style:(0,u.Z)({},Tt)})),{},{children:[(0,O.jsx)("input",(0,u.Z)({},gt())),(0,O.jsxs)(p.xuv,{withBorders:!0,sx:{display:"flex",borderTop:0,padding:0,"& .hideListOnSmall":{"@media (max-width: 799px)":{display:"none"}}},children:[C?(0,O.jsx)(i.Fragment,{children:null!==N&&(0,O.jsx)(nt,{internalPaths:N,bucketName:Ae})}):(0,O.jsx)(y.s,{scopes:[l.Ft.S3_LIST_BUCKET,l.Ft.S3_ALL_LIST_BUCKET],resource:Ae,errorProps:{disabled:!0},children:(0,O.jsxs)(p.rjZ,{item:!0,xs:12,sx:{width:"100%",position:"relative","&.detailsOpen":{"@media (max-width: 799px)":{display:"none"}}},className:Z?"detailsOpen":"",children:[!$&&(0,O.jsx)(p.rjZ,{item:!0,xs:12,sx:{padding:"12px 14px 5px"},children:(0,O.jsx)(B,{bucketName:Ae,internalPaths:Ue,additionalOptions:!Pe||S?null:(0,O.jsx)(p.XZJ,{name:"deleted_objects",id:"showDeletedObjects",value:"deleted_on",label:"Show deleted objects",onChange:function(){t((0,d.o_)()),t((0,d.mz)(!w)),Ct(!0)},checked:w,sx:{marginLeft:5,"@media (max-width: 600px)":{marginLeft:0,flexDirection:"row"}}}),hidePathButton:!1})}),(0,O.jsx)(ct,{})]})}),!$&&(0,O.jsx)(y.s,{scopes:[l.Ft.S3_LIST_BUCKET,l.Ft.S3_ALL_LIST_BUCKET],resource:Ae,errorProps:{disabled:!0},children:(0,O.jsxs)(ee,{open:Z,closePanel:function(){Ct(!1)},className:"".concat(C?"hideListOnSmall":""),children:[it.length>0&&(0,O.jsx)(p.Wk,{items:yt,title:"Selected Objects:"}),null!==N&&(0,O.jsx)(ze,{internalPaths:N,bucketName:Ae,onClosePanel:Ct,versioningInfo:M,locking:U})]})})]})]}))]})]})},_t=n(49535),St=n(73996),Tt=n(47974),Ct=n(4677),wt=n(99670),Zt=function(e){var t=e.bucketName,n=(0,s.TL)(),a=(0,o.v9)(st.$4),c=(0,o.v9)((function(e){return e.objectBrowser.versionsMode})),u=(0,o.v9)((function(e){return e.objectBrowser.versionedFile})),h=(0,o.v9)((function(e){return e.objectBrowser.searchVersions})),f=!(null===a||void 0===a||!a.includes("object-browser-only")),m=(0,r.s0)(),x=(0,_t.Z)(t,[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_PUT_BUCKET_POLICY,l.Ft.S3_GET_BUCKET_VERSIONING,l.Ft.S3_PUT_BUCKET_VERSIONING,l.Ft.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,l.Ft.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,l.Ft.S3_DELETE_BUCKET,l.Ft.S3_GET_BUCKET_NOTIFICATIONS,l.Ft.S3_PUT_BUCKET_NOTIFICATIONS,l.Ft.S3_GET_REPLICATION_CONFIGURATION,l.Ft.S3_PUT_REPLICATION_CONFIGURATION,l.Ft.S3_GET_LIFECYCLE_CONFIGURATION,l.Ft.S3_PUT_LIFECYCLE_CONFIGURATION,l.Ft.ADMIN_GET_BUCKET_QUOTA,l.Ft.ADMIN_SET_BUCKET_QUOTA,l.Ft.S3_PUT_BUCKET_TAGGING,l.Ft.S3_GET_BUCKET_TAGGING,l.Ft.S3_LIST_BUCKET_VERSIONS,l.Ft.S3_GET_BUCKET_POLICY_STATUS,l.Ft.S3_DELETE_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),b=(0,O.jsx)(i.Fragment,{children:c?(0,O.jsx)(i.Fragment,{children:(0,O.jsx)(dt.Z,{placeholder:"Start typing to filter versions of ".concat(u),onChange:function(e){n((0,d.Pr)(e))},value:h})}):(0,O.jsx)(y.s,{scopes:[l.Ft.S3_LIST_BUCKET,l.Ft.S3_ALL_LIST_BUCKET],resource:t,errorProps:{disabled:!0},children:(0,O.jsx)(ut,{})})});return(0,i.useEffect)((function(){n((0,F.Sc)("object_browser"))}),[]),(0,O.jsx)(i.Fragment,{children:f?(0,O.jsxs)(p.rjZ,{container:!0,sx:{padding:"20px 32px 0"},children:[(0,O.jsx)(p.rjZ,{children:(0,O.jsx)(St.Z,{marginRight:30,marginTop:10})}),(0,O.jsxs)(p.rjZ,{item:!0,xs:!0,sx:{display:"flex",gap:10},children:[b,(0,O.jsx)(Ct.Z,{})]})]}):(0,O.jsx)(Tt.Z,{label:(0,O.jsx)(p.hbI,{label:"Object Browser",onClick:function(){m(l.gA.OBJECT_BROWSER_VIEW)}}),actions:(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(y.s,{scopes:l.D[l.EI.BUCKET_ADMIN],resource:t,errorProps:{disabled:!0},children:(0,O.jsx)(X.Z,{tooltip:x?"Configure Bucket":"You do not have the required permissions to configure this bucket. Please contact your MinIO administrator to request "+l.EI.BUCKET_ADMIN+" permisions.",children:(0,O.jsx)(p.zxk,{id:"configure-bucket-main",color:"primary","aria-label":"Configure Bucket",onClick:function(){return m("/buckets/".concat(t,"/admin"))},icon:(0,O.jsx)(p.ewm,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"}})})}),(0,O.jsx)(wt.Z,{})]}),middleComponent:b})})},yt=function(){var e=(0,s.TL)(),t=(0,r.UO)(),n=(0,r.TH)(),u=(0,o.v9)((function(e){return e.objectBrowser.loadingVersioning})),h=(0,o.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),f=(0,o.v9)((function(e){return e.objectBrowser.rewind.dateToRewind})),m=(0,o.v9)((function(e){return e.objectBrowser.showDeleted})),x=(0,o.v9)((function(e){return e.objectBrowser.requestInProgress})),p=(0,o.v9)((function(e){return e.objectBrowser.loadingLocking})),b=(0,o.v9)((function(e){return e.objectBrowser.reloadObjectsList})),v=(0,o.v9)((function(e){return e.objectBrowser.simplePath})),j=(0,o.v9)((function(e){return e.system.anonymousMode})),g=(0,o.v9)((function(e){return e.objectBrowser.selectedBucket})),_=(0,o.v9)((function(e){return e.objectBrowser.records})),S=t.bucketName||"",T=n.pathname.split("/browser/".concat(S,"/")),C=2===T.length?T[1]:"",w=(0,i.useCallback)((function(t){var n=(new Date).toISOString();null!==f&&h&&(n=f),e({type:"socket/OBRequest",payload:{bucketName:S,path:t,rewindMode:h||m,date:n}})}),[S,m,f,h,e]),Z=(0,i.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,c.IO)(C);e((0,d.db)({status:!1}));var i=n;n.endsWith("/")||""===n||(i="".concat(n.split("/").slice(0,-1).join("/"),"/")),"/"===i&&(i=""),(i!==v||S!==g||t)&&(e((0,d.zD)(!0)),w(i))}),[C,e,v,g,S,w]);(0,i.useEffect)((function(){return function(){e({type:"socket/OBCancelLast"})}}),[e]),(0,i.useEffect)((function(){var t=(0,c.IO)(C);e((0,d.IJ)(!0)),t.endsWith("/")||""===t?(e((0,d.vb)(!1)),e((0,d.EE)(null)),e((0,d.Jn)(!0))):(e((0,d.vH)(!0)),e((0,d.vb)(!0)),e((0,d.Eq)(!0)),e((0,d.EE)("".concat(t?"".concat((0,c.LL)(t)):""))))}),[S,C,f,h,e]),(0,i.useEffect)((function(){Z(!1)}),[Z]),(0,i.useEffect)((function(){b&&0===_.length&&!x&&Z(!0)}),[b,_,x,Z]);var y=(0,_t.Z)(S,[l.Ft.S3_LIST_BUCKET,l.Ft.S3_ALL_LIST_BUCKET])||j;return(0,i.useEffect)((function(){u&&!j&&(y?a.h.buckets.getBucketVersioning(S).then((function(t){e((0,d.lS)(t.data)),e((0,d.IJ)(!1))})).catch((function(t){console.error("Error Getting Object Versioning Status: ",t.error.detailedMessage),e((0,d.IJ)(!1))})):(e((0,d.IJ)(!1)),e((0,d.o_)())))}),[S,u,e,y,j]),(0,i.useEffect)((function(){p&&(y?a.h.buckets.getBucketObjectLockingStatus(S).then((function(t){e((0,d.lY)(t.data.object_locking_enabled)),e((0,d.Jn)(!1))})).catch((function(t){console.error("Error Getting Object Locking Status: ",t.error.detailedMessage),e((0,d.Jn)(!1))})):(e((0,d.o_)()),e((0,d.Jn)(!1))))}),[S,p,e,y]),(0,O.jsxs)(i.Fragment,{children:[!j&&(0,O.jsx)(Zt,{bucketName:S}),(0,O.jsx)(gt,{})]})}},34433:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var i=n(29439),o=n(72791),r=n(78687),a=n(29945),s=n(78029),l=n.n(s),c=n(56028),d=n(1413),u=n(99779),h=n(11135),f=n(25787),m=n(23814),x=n(80184),p=(0,f.Z)((function(e){return(0,h.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},m.YI),m.Hr),{},{labelContainer:{display:"flex",alignItems:"center",marginBottom:15},fieldContainer:(0,d.Z)((0,d.Z)({},m.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),durationInputs:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",gap:10},validityIndicator:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:25,marginLeft:10},invalidDurationText:{marginTop:15,display:"flex",color:"red",fontSize:11},reverseInput:{flexFlow:"row-reverse","& > label":{fontWeight:400,marginLeft:15,marginRight:25}},validityText:{fontSize:14,marginTop:15,display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{flexFlow:"column"},"& > .min-icon":{color:"#5E5E5E",width:15,height:15,marginRight:10}},validTill:{fontWeight:"bold",marginLeft:15}}))}))((function(e){var t=e.classes,n=e.id,r=e.initialDate,s=e.label,l=e.maxDays,c=e.entity,d=e.onChange,h=(0,o.useState)(7),f=(0,i.Z)(h,2),m=f[0],p=f[1],b=(0,o.useState)(0),v=(0,i.Z)(b,2),j=v[0],g=v[1],_=(0,o.useState)(0),S=(0,i.Z)(_,2),T=S[0],C=S[1],w=(0,o.useState)(!0),Z=(0,i.Z)(w,2),y=Z[0],N=Z[1],F=(0,o.useState)(u.ou.now()),I=(0,i.Z)(F,2),E=I[0],O=I[1];(0,o.useEffect)((function(){isNaN(j)||isNaN(m)||isNaN(T)||O(function(e,t,n,i){return u.ou.fromJSDate(e).plus({days:t,hours:n,minutes:i})}(r,m,j,T))}),[r,m,j,T]),(0,o.useEffect)((function(){if(y){var e=E.toFormat("yyyy-MM-dd HH:mm:ss");d(e.split(" ").join("T"),!0)}else d("0000-00-00",!1)}),[E,d,y]),(0,o.useEffect)((function(){var e=!0;(m<0||l&&m>l||isNaN(m))&&(e=!1),(j<0||j>23||isNaN(j))&&(e=!1),(T<0||T>59||isNaN(T))&&(e=!1),!l||m!==l||0===j&&0===T||(e=!1),m<=0&&j<=0&&T<=0&&(e=!1),N(e)}),[E,l,d,m,j,T]);var k={"& .textBoxContainer":{minWidth:0},"& input":{textAlign:"center",paddingRight:10,paddingLeft:10,width:40}};return(0,x.jsx)(o.Fragment,{children:(0,x.jsxs)(a.rjZ,{container:!0,className:t.fieldContainer,children:[(0,x.jsx)(a.rjZ,{item:!0,xs:12,className:t.labelContainer,children:(0,x.jsx)(a.AZs,{htmlFor:n,children:s})}),(0,x.jsxs)(a.rjZ,{item:!0,xs:12,className:t.durationInputs,children:[(0,x.jsx)(a.rjZ,{item:!0,xs:!0,className:t.dateInputContainer,children:(0,x.jsx)(a.Wzg,{id:n,className:"".concat(t.reverseInput," removeArrows"),type:"number",min:"0",max:l?l.toString():"999",label:"Days",name:n,onChange:function(e){p(parseInt(e.target.value))},value:m.toString(),sx:k,noLabelMinWidth:!0})}),(0,x.jsx)(a.rjZ,{item:!0,xs:!0,className:t.dateInputContainer,children:(0,x.jsx)(a.Wzg,{id:n,className:"".concat(t.reverseInput," removeArrows"),type:"number",min:"0",max:"23",label:"Hours",name:n,onChange:function(e){g(parseInt(e.target.value))},value:j.toString(),sx:k,noLabelMinWidth:!0})}),(0,x.jsx)(a.rjZ,{item:!0,xs:!0,className:t.dateInputContainer,children:(0,x.jsx)(a.Wzg,{id:n,className:"".concat(t.reverseInput," removeArrows"),type:"number",min:"0",max:"59",label:"Minutes",name:n,onChange:function(e){C(parseInt(e.target.value))},value:T.toString(),sx:k,noLabelMinWidth:!0})})]}),(0,x.jsx)(a.rjZ,{item:!0,xs:12,className:"".concat(t.validityIndicator," ").concat(t.formFieldRow),children:y?(0,x.jsxs)("div",{className:t.validityText,children:[(0,x.jsx)(a.xPt,{}),(0,x.jsxs)("div",{className:t.validityLabel,children:[c," will be available until:"]})," ",(0,x.jsx)("div",{className:t.validTill,children:E.toFormat("MM/dd/yyyy HH:mm:ss")})]}):(0,x.jsx)("div",{className:t.invalidDurationText,children:"Please select a valid duration."})})]})})})),b=n(45248),v=n(87995),j=n(44690),g=n(31776),_=n(82342),S=function(e){var t=e.open,n=e.closeModalAndRefresh,s=e.bucketName,d=e.dataObject,u=(0,j.TL)(),h=(0,r.v9)(v.N5),f=(0,o.useState)(""),m=(0,i.Z)(f,2),S=m[0],T=m[1],C=(0,o.useState)(!0),w=(0,i.Z)(C,2),Z=w[0],y=w[1],N=(0,o.useState)(!1),F=(0,i.Z)(N,2),I=F[0],E=F[1],O=(0,o.useState)(""),k=(0,i.Z)(O,2),L=k[0],B=k[1],P=(0,o.useState)(!0),A=(0,i.Z)(P,2),D=A[0],R=A[1],M=(0,o.useState)("null"),U=(0,i.Z)(M,2),z=U[0],G=U[1],K=new Date;return(0,o.useEffect)((function(){if(void 0===d.version_id)return h?(g.h.buckets.listObjects(s,{prefix:(0,b.LL)(d.name||""),with_versions:h}).then((function(e){var t=(e.data.objects||[]).find((function(e){return e.is_latest}));G(t?"".concat(t.version_id):"null")})).catch((function(e){u((0,v.zb)((0,_.g)(e.error)))})),void y(!1)):(G("null"),void y(!1));G(d.version_id||"null"),y(!1)}),[s,d,h,u]),(0,o.useEffect)((function(){if(D&&!Z){E(!0),T("");var e=new Date("".concat(L)),t=new Date,n=Math.ceil((e.getTime()-t.getTime())/1e3);n>0&&g.h.buckets.shareObject(s,{prefix:(0,b.LL)(d.name||""),version_id:z,expires:""!==L?"".concat(n,"s"):""}).then((function(e){T(e.data),E(!1)})).catch((function(e){u((0,v.zb)((0,_.g)(e.error))),T(""),E(!1)}))}}),[d,L,s,D,T,u,h,Z,z]),(0,x.jsx)(o.Fragment,{children:(0,x.jsxs)(c.Z,{title:"Share File",titleIcon:(0,x.jsx)(a.aAc,{style:{fill:"#4CCB92"}}),modalOpen:t,onClose:function(){n()},children:[Z&&(0,x.jsx)(a.rjZ,{item:!0,xs:12,children:(0,x.jsx)(a.kod,{})}),!Z&&(0,x.jsxs)(o.Fragment,{children:[(0,x.jsxs)(a.rjZ,{item:!0,xs:12,sx:{fontSize:14,fontWeight:400},children:["This is a temporary URL with integrated access credentials for sharing objects valid for up to 7 days.",(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),"The temporary URL expires after the configured time limit."]}),(0,x.jsx)("br",{}),(0,x.jsx)(a.rjZ,{item:!0,xs:12,children:(0,x.jsx)(p,{initialDate:K,id:"date",label:"Active for",maxDays:7,onChange:function(e,t){R(t),t?B(e):(B(""),T(""))},entity:"Link"})}),(0,x.jsx)(a.rjZ,{item:!0,xs:12,sx:{marginBottom:10},children:(0,x.jsx)(a.bSr,{actionButton:(0,x.jsx)(l(),{text:S,children:(0,x.jsx)(a.zxk,{id:"copy-path",variant:"regular",onClick:function(){u((0,v.MK)("Share URL Copied to clipboard"))},disabled:""===S||I,style:{width:"28px",height:"28px",padding:"0px"},icon:(0,x.jsx)(a.TIy,{})})}),children:S})})]})]})})}},78562:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var i=n(72791),o=n(56028),r=n(4942),a=n(29439),s=n(11135),l=n(25787),c=n(61889),d=n(47922),u=n(45248),h=n(63733),f=n(16502),m=n(31776),x=n(26181),p=n.n(x),b=n(29945),v=n(80184),j=(0,l.Z)((function(){return(0,s.Z)({iframeContainer:{border:"0px",flex:"1 1 auto",width:"100%",height:250,backgroundColor:"transparent",borderRadius:5,"&.image":{height:500},"&.text":{height:700},"&.audio":{height:150},"&.video":{height:350},"&.fullHeight":{height:"calc(100vh - 185px)"}},iframeBase:{backgroundColor:"#fff"},iframeHidden:{display:"none"}})}))((function(e){var t=e.bucketName,n=e.object,o=e.isFullscreen,s=void 0!==o&&o,l=e.classes,x=(0,i.useState)(!0),j=(0,a.Z)(x,2),g=j[0],_=j[1],S=(0,i.useState)(null),T=(0,a.Z)(S,2),C=T[0],w=T[1],Z=(0,i.useState)(!1),y=(0,a.Z)(Z,2),N=y[0],F=y[1],I=(null===n||void 0===n?void 0:n.name)||"",E=(0,i.useCallback)((function(){if(!N){var e=(0,u.LL)(I);m.h.buckets.getObjectMetadata(t,{prefix:e}).then((function(e){var t=p()(e.data,"objectMetadata",{});F(!0),w(t)})).catch((function(e){console.error("Error Getting Metadata Status: ",e,null===e||void 0===e?void 0:e.detailedError),F(!0)}))}}),[t,I,N]);(0,i.useEffect)((function(){t&&I&&E()}),[t,I,E]);var O="";if(n){var k=(0,u.LL)(n.name),L=document.baseURI.replace(window.location.origin,"");O="".concat(window.location.origin).concat(L,"api/v1/buckets/").concat(t,"/objects/download?preview=true&prefix=").concat(k),n.version_id&&(O=O.concat("&version_id=".concat(n.version_id)))}var B=(0,d.s7)(C,I),P=function(){_(!1)};return(0,v.jsxs)(i.Fragment,{children:["none"!==B&&g&&(0,v.jsx)(c.ZP,{item:!0,xs:12,children:(0,v.jsx)(b.kod,{})}),N?(0,v.jsxs)("div",{style:{textAlign:"center"},children:["video"===B&&(0,v.jsx)("video",{style:{width:"auto",height:"auto",maxWidth:"calc(100vw - 100px)",maxHeight:"calc(100vh - 200px)"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:P,children:(0,v.jsx)("source",{src:O,type:"video/mp4"})}),"audio"===B&&(0,v.jsx)("audio",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:P,children:(0,v.jsx)("source",{src:O,type:"audio/mpeg"})}),"image"===B&&(0,v.jsx)("img",{style:{width:"auto",height:"auto",maxWidth:"100vw",maxHeight:"100vh"},src:O,alt:"preview",onLoad:P}),"none"===B&&(0,v.jsx)("div",{children:(0,v.jsx)(f.Z,{label:" File couldn't be previewed using file extension or mime type. Please try Download instead",title:"Preview unavailable "})}),"none"!==B&&"video"!==B&&"audio"!==B&&"image"!==B&&(0,v.jsx)("div",{className:(0,h.Z)(l.iframeBase,(0,r.Z)({},l.iframeHidden,g)),children:(0,v.jsx)("iframe",{src:O,title:"File Preview",allowTransparency:!0,className:"".concat(l.iframeContainer," ").concat(s?"fullHeight":B),onLoad:P,children:"File couldn't be loaded. Please try Download instead"})})]}):null]})})),g=function(e){var t=e.open,n=e.bucketName,r=e.object,a=e.onClosePreview;return(0,v.jsx)(i.Fragment,{children:(0,v.jsx)(o.Z,{modalOpen:t,title:"Preview - ".concat(null===r||void 0===r?void 0:r.name),onClose:a,wideLimit:!1,titleIcon:(0,v.jsx)(b.$30,{}),children:(0,v.jsx)(j,{bucketName:n,object:r})})})}},75578:function(e,t,n){var i=n(1413),o=n(72791),r=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return(0,r.jsx)(o.Suspense,{fallback:t,children:(0,r.jsx)(e,(0,i.Z)({},n))})}}},81159:function(e,t,n){var i=n(4942),o=n(1413),r=n(72791),a=n(11135),s=n(25787),l=n(9955),c=n(30829),d=n(20068),u=n(20890),h=n(61889),f=n(23814),m=n(29945),x=n(63733),p=n(80184),b=(0,s.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(l.Z);t.Z=(0,s.Z)((function(e){return(0,a.Z)((0,o.Z)((0,o.Z)({indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},f.OR),f.YI))}))((function(e){var t=e.label,n=void 0===t?"":t,a=e.onChange,s=e.value,l=e.id,f=e.name,v=e.checked,j=void 0!==v&&v,g=e.disabled,_=void 0!==g&&g,S=e.switchOnly,T=void 0!==S&&S,C=e.tooltip,w=void 0===C?"":C,Z=e.description,y=void 0===Z?"":Z,N=e.classes,F=e.indicatorLabels,I=e.extraInputProps,E=void 0===I?{}:I,O=(0,p.jsxs)(r.Fragment,{children:[!T&&(0,p.jsx)("span",{className:(0,x.Z)(N.indicatorLabel,(0,i.Z)({},N.indicatorLabelOn,!j)),children:F&&F.length>1?F[1]:"OFF"}),(0,p.jsx)(b,{checked:j,onChange:a,color:"primary",name:f,inputProps:(0,o.Z)({"aria-label":"primary checkbox"},E),disabled:_,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:s,id:l}),!T&&(0,p.jsx)("span",{className:(0,x.Z)(N.indicatorLabel,(0,i.Z)({},N.indicatorLabelOn,j)),children:F?F[0]:"ON"})]});return T?O:(0,p.jsx)("div",{children:(0,p.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(h.ZP,{item:!0,xs:12,sm:8,md:8,children:""!==n&&(0,p.jsxs)(c.Z,{htmlFor:l,className:N.inputLabel,children:[(0,p.jsx)("span",{children:n}),""!==w&&(0,p.jsx)("div",{className:N.tooltipContainer,children:(0,p.jsx)(d.Z,{title:w,placement:"top-start",children:(0,p.jsx)("div",{className:N.tooltip,children:(0,p.jsx)(m.byK,{})})})})]})}),(0,p.jsx)(h.ZP,{item:!0,xs:12,sm:""!==n?4:12,md:""!==n?4:12,textAlign:"right",justifyContent:"end",className:N.switchContainer,children:O}),""!==y&&(0,p.jsx)(h.ZP,{item:!0,xs:12,textAlign:"left",children:(0,p.jsx)(u.Z,{component:"p",className:N.fieldDescription,children:y})})]})})}))},21435:function(e,t,n){var i=n(29439),o=n(1413),r=n(72791),a=n(20817),s=n(61889),l=n(30829),c=n(20068),d=n(13400),u=n(20165),h=n(3579),f=n(11135),m=n(72455),x=n(25787),p=n(23814),b=n(29945),v=n(63733),j=n(80184),g=(0,m.Z)((function(e){return(0,f.Z)((0,o.Z)({},p.gM))}));function _(e){var t=g();return(0,j.jsx)(a.Z,(0,o.Z)({InputProps:{classes:t}},e))}t.Z=(0,x.Z)((function(e){return(0,f.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,n=e.onChange,a=e.value,f=e.id,m=e.name,x=e.type,p=void 0===x?"text":x,g=e.autoComplete,S=void 0===g?"off":g,T=e.disabled,C=void 0!==T&&T,w=e.multiline,Z=void 0!==w&&w,y=e.tooltip,N=void 0===y?"":y,F=e.index,I=void 0===F?0:F,E=e.error,O=void 0===E?"":E,k=e.required,L=void 0!==k&&k,B=e.placeholder,P=void 0===B?"":B,A=e.min,D=e.max,R=e.overlayId,M=e.overlayIcon,U=void 0===M?null:M,z=e.overlayObject,G=void 0===z?null:z,K=e.extraInputProps,W=void 0===K?{}:K,H=e.overlayAction,V=e.noLabelMinWidth,J=void 0!==V&&V,Y=e.pattern,q=void 0===Y?"":Y,$=e.autoFocus,X=void 0!==$&&$,Q=e.classes,ee=e.className,te=void 0===ee?"":ee,ne=e.onKeyPress,ie=e.onFocus,oe=e.onPaste,re=(0,o.Z)({"data-index":I},W),ae=(0,r.useState)(!1),se=(0,i.Z)(ae,2),le=se[0],ce=se[1];"number"===p&&A&&(re.min=A),"number"===p&&D&&(re.max=D),""!==q&&(re.pattern=q);var de=U,ue=p;return"password"===p&&null===U&&(de=le?(0,j.jsx)(u.Z,{}):(0,j.jsx)(h.Z,{}),ue=le?"text":"password"),(0,j.jsx)(r.Fragment,{children:(0,j.jsxs)(s.ZP,{container:!0,className:(0,v.Z)(""!==te?te:"",""!==O?Q.errorInField:Q.inputBoxContainer),children:[""!==t&&(0,j.jsxs)(l.Z,{htmlFor:f,className:J?Q.noMinWidthLabel:Q.inputLabel,children:[(0,j.jsxs)("span",{children:[t,L?"*":""]}),""!==N&&(0,j.jsx)("div",{className:Q.tooltipContainer,children:(0,j.jsx)(c.Z,{title:N,placement:"top-start",children:(0,j.jsx)("div",{className:Q.tooltip,children:(0,j.jsx)(b.byK,{})})})})]}),(0,j.jsxs)("div",{className:Q.textBoxContainer,children:[(0,j.jsx)(_,{id:f,name:m,fullWidth:!0,value:a,autoFocus:X,disabled:C,onChange:n,type:ue,multiline:Z,autoComplete:S,inputProps:re,error:""!==O,helperText:O,placeholder:P,className:Q.inputRebase,onKeyPress:ne,onFocus:ie,onPaste:oe}),de&&(0,j.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==t?"withLabel":""),children:(0,j.jsx)(d.Z,{onClick:H?function(){H()}:function(){return ce(!le)},id:R,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:de})}),G&&(0,j.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==t?"withLabel":""),children:G})]})]})})}))},16502:function(e,t,n){n(72791);var i=n(11135),o=n(25787),r=n(80184);t.Z=(0,o.Z)((function(e){return(0,i.Z)({headerContainer:{backgroundColor:"#e78794",borderRadius:3,marginBottom:20,padding:1,paddingBottom:15},labelHeadline:{color:"#000000",fontSize:14,marginLeft:20},labelText:{color:"#000000",fontSize:14,marginLeft:20,marginRight:40}})}))((function(e){var t=e.classes,n=e.label,i=e.title;return(0,r.jsxs)("div",{className:t.headerContainer,children:[(0,r.jsx)("h4",{className:t.labelHeadline,children:i}),(0,r.jsx)("div",{className:t.labelText,children:n})]})}))},73669:function(e,t,n){var i=n(29439),o=n(72791),r=n(64554),a=n(29945),s=n(21435),l=n(80184);t.Z=function(e){var t=e.value,n=(0,o.useState)(!1),c=(0,i.Z)(n,2),d=c[0],u=c[1];return(0,l.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",flexFlow:{sm:"row",xs:"column"}},children:[(0,l.jsx)(s.Z,{id:"inspect-dec-key",name:"inspect-dec-key",placeholder:"",label:"",type:d?"text":"password",onChange:function(){},value:t,overlayIcon:(0,l.jsx)(a.TIy,{}),extraInputProps:{readOnly:!0},overlayAction:function(){return navigator.clipboard.writeText(t)}}),(0,l.jsx)(a.zxk,{id:"show-hide-key",style:{marginLeft:"10px"},variant:"callAction",onClick:function(){return u(!d)},label:"Show/Hide"})]})}}}]);
//# sourceMappingURL=8270.47bda2ac.chunk.js.map