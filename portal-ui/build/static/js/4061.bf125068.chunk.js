"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4061,9031,9134],{64163:function(e,n,t){var i=t(1413),s=t(72791),r=t(61889),o=t(11135),l=t(25787),a=t(23814),c=t(80184);n.Z=(0,l.Z)((function(e){return(0,o.Z)((0,i.Z)({},a.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,o=e.content,l=e.multiLine,a=void 0!==l&&l,u=e.actionButton;return(0,c.jsx)(s.Fragment,{children:(0,c.jsxs)(r.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,c.jsx)(r.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,c.jsxs)(r.ZP,{item:!0,xs:12,className:"".concat(n.predefinedList," ").concat(u?n.includesActionButton:""),children:[(0,c.jsx)(r.ZP,{item:!0,xs:12,className:a?n.innerContentMultiline:n.innerContent,children:o}),u&&(0,c.jsx)("div",{className:n.overlayShareOption,children:u})]})]})})}))},60680:function(e,n,t){t(72791);var i=t(11135),s=t(25787),r=t(80184);n.Z=(0,s.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,r.jsx)("h1",{className:n.root,children:t})}))},14662:function(e,n,t){t.d(n,{Z:function(){return F}});var i=t(1413),s=t(29439),r=t(72791),o=t(64554),l=t(43896),a=t(80184),c=r.createContext(null);function u(e){var n=e.children,t=e.value,i=function(){var e=r.useState(null),n=(0,s.Z)(e,2),t=n[0],i=n[1];return r.useEffect((function(){i("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),o=r.useMemo((function(){return{idPrefix:i,value:t}}),[i,t]);return(0,a.jsx)(c.Provider,{value:o,children:n})}function d(){return r.useContext(c)}function f(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function h(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}var m=t(87462),x=t(63366),p=t(18073),v=["children"],Z=r.forwardRef((function(e,n){var t=e.children,i=(0,x.Z)(e,v),s=d();if(null===s)throw new TypeError("No TabContext provided");var o=r.Children.map(t,(function(e){return r.isValidElement(e)?r.cloneElement(e,{"aria-controls":f(s,e.props.value),id:h(s,e.props.value)}):null}));return(0,a.jsx)(p.Z,(0,m.Z)({},i,{ref:n,value:s.value,children:o}))})),b=t(28182),g=t(66934),j=t(31402),P=t(94419),y=t(21217);function C(e){return(0,y.Z)("MuiTabPanel",e)}(0,t(75878).Z)("MuiTabPanel",["root"]);var S=["children","className","value"],k=(0,g.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),N=r.forwardRef((function(e,n){var t=(0,j.Z)({props:e,name:"MuiTabPanel"}),i=t.children,s=t.className,r=t.value,o=(0,x.Z)(t,S),l=(0,m.Z)({},t),c=function(e){var n=e.classes;return(0,P.Z)({root:["root"]},C,n)}(l),u=d();if(null===u)throw new TypeError("No TabContext provided");var p=f(u,r),v=h(u,r);return(0,a.jsx)(k,(0,m.Z)({"aria-labelledby":v,className:(0,b.Z)(c.root,s),hidden:r!==u.value,id:p,ref:n,role:"tabpanel",ownerState:l},o,{children:r===u.value&&i}))})),w=t(25787),T=t(13967),M=t(11135),E=t(95193),A=t(57689),L={minHeight:60},F=(0,w.Z)((function(e){return(0,M.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,c=e.selectedTab,d=void 0===c?"0":c,f=e.routes,h=e.isRouteTabs,m=(0,T.Z)(),x=(0,A.TH)().pathname,p=void 0===x?"":x,v=(0,E.Z)(m.breakpoints.down("md")),b=(0,r.useState)(d),g=(0,s.Z)(b,2),j=g[0],P=g[1],y=[],C=[];if((0,r.useEffect)((function(){if(h){var e=n.find((function(e){return e.tabConfig.to===p}));e&&P(e.tabConfig.value)}}),[h,n,p]),!n)return null;n.forEach((function(e){y.push(e.tabConfig),C.push(e.content)}));return(0,a.jsx)(u,{value:"".concat(j),children:(0,a.jsxs)(o.Z,{className:t.tabsContainer,children:[(0,a.jsx)(o.Z,{className:t.tabsHeaderContainer,children:(0,a.jsx)(Z,{onChange:function(e,n){P(n)},orientation:v?"horizontal":"vertical",variant:v?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:y.map((function(e,n){return e?(0,a.jsx)(l.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:L},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,a.jsxs)(o.Z,{className:t.tabContentContainer,children:[h?null:C.map((function(e,n){return(0,a.jsx)(N,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),h?(0,a.jsx)("div",{className:t.tabPanel,children:f}):null]})]})})}))},88896:function(e,n,t){t.r(n);var i=t(37762),s=t(29439),r=(t(72791),t(51691)),o=t(23508),l=t(9505),a=t(75952),c=t(45248),u=t(87995),d=t(25469),f=t(80184);n.default=function(e){var n=e.selectedGroups,t=e.deleteOpen,h=e.closeDeleteModalAndRefresh,m=(0,d.TL)(),x=(0,l.Z)((function(){return h(!0)}),(function(e){m((0,u.Ih)(e)),h(!1)})),p=(0,s.Z)(x,2),v=p[0],Z=p[1];if(!n)return null;var b=n.map((function(e){return(0,f.jsx)("div",{children:(0,f.jsx)("b",{children:e})},e)}));return(0,f.jsx)(o.Z,{title:"Delete Group".concat(n.length>1?"s":""),confirmText:"Delete",isOpen:t,titleIcon:(0,f.jsx)(a.NvT,{}),isLoading:v,onConfirm:function(){var e,t=(0,i.Z)(n);try{for(t.s();!(e=t.n()).done;){var s=e.value;Z("DELETE","/api/v1/group/".concat((0,c.LL)(s)))}}catch(r){t.e(r)}finally{t.f()}},onClose:function(){return h(!1)},confirmationContent:(0,f.jsxs)(r.Z,{children:["Are you sure you want to delete the following ",n.length," ","group",n.length>1?"s?":"?",b]})})}},94061:function(e,n,t){t.r(n),t.d(n,{default:function(){return U},formatPolicy:function(){return R}});var i=t(29439),s=t(1413),r=t(72791),o=t(57689),l=t(75952),a=t(11135),c=t(23814),u=t(25787),d=t(61889),f=t(14917),h=t(92983),m=t(81207),x=t(39134),p=t(40228),v=t(56028),Z=t(64163),b=t(45248),g=t(87995),j=t(25469),P=t(80184),y=(0,u.Z)((function(e){return(0,a.Z)((0,s.Z)((0,s.Z)((0,s.Z)({userSelector:{"& .MuiPaper-root":{padding:0,marginBottom:15}}},c.ID),c.DF),c.oO))}))((function(e){var n=e.classes,t=e.title,s=void 0===t?"":t,o=e.groupStatus,a=void 0===o?"enabled":o,c=e.preSelectedUsers,u=void 0===c?[]:c,f=e.selectedGroup,h=void 0===f?"":f,x=e.open,y=e.onClose,C=(0,j.TL)(),S=(0,r.useState)(u),k=(0,i.Z)(S,2),N=k[0],w=k[1];return(0,P.jsxs)(v.Z,{modalOpen:x,onClose:y,title:s,titleIcon:(0,P.jsx)(l.ZmA,{}),children:[(0,P.jsx)(d.ZP,{container:!0,children:(0,P.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,P.jsx)("div",{className:n.formFieldRow,children:(0,P.jsx)(Z.Z,{label:"Selected Group",content:h})}),(0,P.jsx)("div",{className:n.userSelector,children:(0,P.jsx)(p.Z,{selectedUsers:N,setSelectedUsers:w,editMode:!h})})]})}),(0,P.jsxs)(d.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,P.jsx)(l.zxk,{id:"reset-add-group-member",type:"button",variant:"regular",onClick:function(){w(u)},label:"Reset"}),(0,P.jsx)(l.zxk,{id:"save-add-group-member",type:"button",variant:"callAction",onClick:function(){m.Z.invoke("PUT","/api/v1/group/".concat((0,b.LL)(h)),{group:h,members:N,status:a}).then((function(e){y()})).catch((function(e){y(),C((0,g.zb)(e))}))},label:"Save"})]})]})})),C=t(88896),S=t(14662),k=t(37516),N=t(74794),w=t(60680),T=t(59114),M=t(56087),E=t(38442),A=t(47974),L=function(){var e=(0,o.s0)();return(0,P.jsx)(A.Z,{label:(0,P.jsx)(r.Fragment,{children:(0,P.jsx)(l.hbI,{label:"Groups",onClick:function(){return e(M.gA.GROUPS)}})}),actions:(0,P.jsx)(r.Fragment,{})})},F=t(74616),B=t(27454),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length<=0?[]:e.split(",")},U=(0,u.Z)((function(e){return(0,a.Z)((0,s.Z)((0,s.Z)((0,s.Z)({pageContainer:{border:"1px solid #EAEAEA",width:"100%"},statusLabel:{fontSize:".8rem",marginRight:".7rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".7rem"},searchField:(0,s.Z)((0,s.Z)({},c.qg.searchField),{},{maxWidth:280})},c.VX),c.bK),{},{actionsTray:(0,s.Z)((0,s.Z)({},c.OR.actionsTray),{},{alignItems:"center","& h1":{flex:1},"& button":{marginLeft:".8rem"},"@media (max-width: 900px)":{justifyContent:"flex-end","& h1":{display:"none"},"& button":{whiteSpace:"nowrap",textOverflow:"ellipsis"}}})},c.Bz))}))((function(e){var n=e.classes,t=(0,j.TL)(),s=(0,o.s0)(),a=(0,o.UO)(),c=(0,r.useState)({}),u=(0,i.Z)(c,2),p=u[0],v=u[1],Z=(0,r.useState)(!1),A=(0,i.Z)(Z,2),U=A[0],G=A[1],z=(0,r.useState)(!1),K=(0,i.Z)(z,2),O=K[0],I=K[1],D=(0,r.useState)(!1),H=(0,i.Z)(D,2),V=H[0],X=H[1],W=(0,r.useState)(""),_=(0,i.Z)(W,2),q=_[0],Q=_[1],Y=(0,b.IO)(a.groupName||""),J=p.members,$=void 0===J?[]:J,ee=p.policy,ne=void 0===ee?"":ee,te=p.status,ie=$.filter((function(e){return e.includes(q)})),se=(0,E.F)(M.C3,M.iw,!0);(0,r.useEffect)((function(){Y&&fe()}),[Y]);var re=R(ne),oe="enabled"===te,le=$.length>0?"Edit Members":"Add Members",ae=(0,E.F)(M.C3,M.k_),ce=(0,E.F)(M.C3,M.kt,!0),ue=(0,E.F)(M.C3,M.UA,!0),de=(0,E.F)(M.C3,M.GD,!0);function fe(){ae&&m.Z.invoke("GET","/api/v1/group/".concat((0,b.LL)(Y))).then((function(e){v(e)})).catch((function(e){t((0,g.zb)(e)),v({})}))}var he=(0,P.jsxs)(r.Fragment,{children:[(0,P.jsxs)("div",{className:n.actionsTray,children:[(0,P.jsx)(w.Z,{children:"Members"}),(0,P.jsx)(T.Z,{placeholder:"Search members",onChange:function(e){Q(e)},overrideClass:n.searchField,value:q}),(0,P.jsx)(E.s,{resource:M.C3,scopes:M.uH,errorProps:{disabled:!0},children:(0,P.jsx)(B.Z,{tooltip:ce?le:(0,M.MK)(M.vN,"edit Group membership"),children:(0,P.jsx)(l.zxk,{id:"add-user-group",label:le,variant:"callAction",icon:(0,P.jsx)(l.dtP,{}),onClick:function(){I(!0)},disabled:!ce})})})]}),(0,P.jsx)("div",{className:n.tableBlock,children:(0,P.jsx)(E.s,{resource:M.C3,scopes:M.Rs,errorProps:{disabled:!0},children:(0,P.jsx)(h.Z,{itemActions:[{type:"view",onClick:function(e){s("".concat(M.gA.USERS,"/").concat((0,b.LL)(e)))},disableButtonFunction:function(){return!se}}],columns:[{label:"Access Key",elementKey:""}],selectedItems:[],isLoading:!1,records:ie,entityName:"Users",idField:"",tooltip:se?"":(0,M.MK)(M.iw,"view User details")})})})]}),me=(0,P.jsxs)(r.Fragment,{children:[(0,P.jsxs)("div",{className:n.actionsTray,children:[(0,P.jsx)(w.Z,{children:"Policies"}),(0,P.jsx)(B.Z,{tooltip:ue?"Set Policies":(0,M.MK)(M.UA,"assign Policies"),children:(0,P.jsx)(l.zxk,{id:"set-policies",label:"Set Policies",variant:"callAction",icon:(0,P.jsx)(l.v42,{}),onClick:function(){G(!0)},disabled:!ue})})]}),(0,P.jsx)("div",{className:n.tableBlock,children:(0,P.jsx)(h.Z,{itemActions:[{type:"view",onClick:function(e){s("".concat(M.gA.POLICIES,"/").concat((0,b.LL)(e)))},disableButtonFunction:function(){return!de}}],columns:[{label:"Policy",elementKey:""}],isLoading:!1,records:re,entityName:"Policies",idField:"",tooltip:de?"":(0,M.MK)(M.GD,"view Policy details")})})]});return(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(L,{}),(0,P.jsxs)(N.Z,{className:n.pageContainer,children:[(0,P.jsx)(d.ZP,{item:!0,xs:12,children:(0,P.jsx)(f.Z,{icon:(0,P.jsx)(r.Fragment,{children:(0,P.jsx)(l.wws,{width:40})}),title:Y,subTitle:null,actions:(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)("span",{className:n.statusLabel,children:"Group Status:"}),(0,P.jsx)("span",{id:"group-status",className:n.statusValue,children:oe?"Enabled":"Disabled"}),(0,P.jsx)(B.Z,{tooltip:(0,E.F)(M.C3,M.xh,!0)?"":(0,M.MK)(M.xh,"enable or disable Groups"),children:(0,P.jsx)(E.s,{resource:M.C3,scopes:M.xh,errorProps:{disabled:!0},matchAll:!0,children:(0,P.jsx)(k.Z,{indicatorLabels:["Enabled","Disabled"],checked:oe,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;e=!oe,m.Z.invoke("PUT","/api/v1/group/".concat((0,b.LL)(Y)),{group:Y,members:$,status:e?"enabled":"disabled"}).then((function(e){fe()})).catch((function(e){t((0,g.zb)(e))}))},switchOnly:!0})})}),(0,P.jsx)("div",{className:n.spacerLeft,children:(0,P.jsx)(B.Z,{tooltip:"Delete Group",children:(0,P.jsx)(l.zxk,{id:"delete-user-group",variant:"secondary",icon:(0,P.jsx)(l.XHJ,{}),onClick:function(){X(!0)}})})})]})})}),(0,P.jsx)(d.ZP,{item:!0,xs:12,children:(0,P.jsxs)(S.Z,{children:[{tabConfig:{label:"Members"},content:he},{tabConfig:{label:"Policies"},content:me}]})})]}),U?(0,P.jsx)(x.default,{open:U,selectedGroups:[Y],selectedUser:null,closeModalAndRefresh:function(){G(!1),fe(),t((0,F.ue)([]))}}):null,O?(0,P.jsx)(y,{selectedGroup:Y,onSaveClick:function(){},title:le,groupStatus:te,preSelectedUsers:$,open:O,onClose:function(){I(!1),fe()}}):null,V&&(0,P.jsx)(C.default,{deleteOpen:V,selectedGroups:[Y],closeDeleteModalAndRefresh:function(e){X(!1),e&&s(M.gA.GROUPS)}})]})}))},40228:function(e,n,t){var i=t(93433),s=t(29439),r=t(1413),o=t(72791),l=t(11135),a=t(25787),c=t(40986),u=t(26181),d=t.n(u),f=t(35527),h=t(61889),m=t(21639),x=t(23814),p=t(81207),v=t(92983),Z=t(59114),b=t(87995),g=t(25469),j=t(80184);n.Z=(0,a.Z)((function(e){return(0,l.Z)((0,r.Z)((0,r.Z)({paper:{display:"flex",overflow:"auto",flexDirection:"column",boxShadow:"none",border:0},tableBlock:(0,r.Z)({},x.VX.tableBlock),searchBox:{flex:1}},x.OR),{},{actionsTitle:{fontSize:14,alignSelf:"center",minWidth:160,marginRight:10},noFound:{textAlign:"center",padding:e.spacing(3),border:"1px solid #EAEAEA",fontSize:".9rem"}},x.jY))}))((function(e){var n=e.classes,t=e.selectedUsers,r=e.setSelectedUsers,l=e.editMode,a=void 0!==l&&l,u=(0,g.TL)(),x=(0,o.useState)([]),P=(0,s.Z)(x,2),y=P[0],C=P[1],S=(0,o.useState)(!1),k=(0,s.Z)(S,2),N=k[0],w=k[1],T=(0,o.useState)(""),M=(0,s.Z)(T,2),E=M[0],A=M[1],L=(0,o.useCallback)((function(){p.Z.invoke("GET","/api/v1/users").then((function(e){var n=d()(e,"users",[]);n||(n=[]),C(n.sort(m.LQ)),w(!1)})).catch((function(e){u((0,b.zb)(e)),w(!1)}))}),[u]);(0,o.useEffect)((function(){w(!0)}),[]),(0,o.useEffect)((function(){N&&L()}),[N,L]);var F=t||[],B=y.filter((function(e){return e.accessKey.includes(E)}));return(0,j.jsx)(o.Fragment,{children:(0,j.jsx)(h.ZP,{item:!0,xs:12,children:(0,j.jsxs)(f.Z,{className:n.paper,children:[N&&(0,j.jsx)(c.Z,{}),null!==y&&y.length>0?(0,j.jsxs)(o.Fragment,{children:[(0,j.jsxs)(h.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,j.jsx)("label",{className:n.actionsTitle,children:a?"Edit Members":"Assign Users"}),(0,j.jsx)("div",{className:n.searchBox,children:(0,j.jsx)(Z.Z,{placeholder:"Filter Users",adornmentPosition:"end",onChange:A,value:E})})]}),(0,j.jsx)(h.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,j.jsx)(v.Z,{columns:[{label:"Access Key",elementKey:"accessKey"}],onSelect:function(e){var n=e.target,t=n.value,s=n.checked,o=(0,i.Z)(F);return s?o.push(t):o=o.filter((function(e){return e!==t})),r(o),o},selectedItems:F,isLoading:N,records:B,entityName:"Users",idField:"accessKey",customPaperHeight:n.multiSelectTable})})]}):(0,j.jsx)("div",{className:n.noFound,children:"No Users to display"})]})})})}))},58400:function(e,n,t){var i=t(93433),s=t(29439),r=t(1413),o=t(72791),l=t(11135),a=t(25787),c=t(40986),u=t(61889),d=t(21639),f=t(23814),h=t(81207),m=t(92983),x=t(59114),p=t(87995),v=t(25469),Z=t(74616),b=t(78687),g=t(80184);n.Z=(0,a.Z)((function(e){return(0,l.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,r.Z)({},f.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},f.qg),f.VX),f.OR),f.jY))}))((function(e){var n=e.classes,t=(e.selectedPolicy,(0,v.TL)()),r=(0,o.useState)([]),l=(0,s.Z)(r,2),a=l[0],f=l[1],j=(0,o.useState)(!1),P=(0,s.Z)(j,2),y=P[0],C=P[1],S=(0,o.useState)(""),k=(0,s.Z)(S,2),N=k[0],w=k[1],T=(0,b.v9)((function(e){return e.createUser.selectedPolicies})),M=(0,o.useCallback)((function(){C(!0),h.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;C(!1),f(n.sort(d.g4))})).catch((function(e){C(!1),t((0,p.zb)(e))}))}),[t]);(0,o.useEffect)((function(){C(!0)}),[]),(0,o.useEffect)((function(){y&&M()}),[y,M]);var E=a.filter((function(e){return e.name.includes(N)}));return(0,g.jsx)(u.ZP,{container:!0,children:(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[y&&(0,g.jsx)(c.Z,{}),a.length>0?(0,g.jsxs)(o.Fragment,{children:[(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,g.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,g.jsx)("div",{className:n.searchBox,children:(0,g.jsx)(x.Z,{placeholder:"Start typing to search for a Policy",onChange:function(e){w(e)},value:N})})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,style:{paddingBottom:16},children:(0,g.jsx)(m.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,s=n.value,r=n.checked,o=(0,i.Z)(T);r?o.push(s):o=o.filter((function(e){return e!==s})),o=o.filter((function(e){return""!==e})),t((0,Z.ue)(o))},selectedItems:T,isLoading:y,records:E,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,g.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})}))},39134:function(e,n,t){t.r(n);var i=t(29439),s=t(1413),r=t(72791),o=t(26181),l=t.n(o),a=t(75952),c=t(11135),u=t(25787),d=t(40986),f=t(61889),h=t(23814),m=t(56028),x=t(81207),p=t(58400),v=t(64163),Z=t(45248),b=t(87995),g=t(25469),j=t(78687),P=t(74616),y=t(80184);n.default=(0,u.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},h.oO),h.bK),{},{tableBlock:(0,s.Z)((0,s.Z)({},h.VX.tableBlock),{},{marginTop:15}),buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:".9rem","& button":{marginLeft:8}}}))}))((function(e){var n=e.classes,t=e.closeModalAndRefresh,s=e.selectedUser,o=e.selectedGroups,c=e.open,u=(0,g.TL)(),h=(0,r.useState)(!1),C=(0,i.Z)(h,2),S=C[0],k=C[1],N=(0,r.useState)([]),w=(0,i.Z)(N,2),T=w[0],M=w[1],E=(0,r.useState)([]),A=(0,i.Z)(E,2),L=A[0],F=A[1],B=(0,j.v9)((function(e){return e.createUser.selectedPolicies}));(0,r.useEffect)((function(){if(c){if(1===(null===o||void 0===o?void 0:o.length))return void(1===(null===o||void 0===o?void 0:o.length)&&x.Z.invoke("GET","/api/v1/group/".concat((0,Z.LL)(o[0]))).then((function(e){var n=l()(e,"policy","");M(n.split(",")),F(n.split(",")),u((0,P.ue)(n.split(",")))})).catch((function(e){u((0,b.zb)(e)),k(!1)})));var e=l()(s,"policy",[]);M(e),F(e),u((0,P.ue)(e))}}),[c,null===o||void 0===o?void 0:o.length,s]);var R=l()(s,"accessKey","");return(0,y.jsxs)(m.Z,{onClose:function(){t()},modalOpen:c,title:"Set Policies",children:[(0,y.jsxs)(f.ZP,{container:!0,children:[(1===(null===o||void 0===o?void 0:o.length)||null!=s)&&(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(f.ZP,{item:!0,xs:12,children:(0,y.jsx)(v.Z,{label:"Selected ".concat(null!==o?"Group":"User"),content:null!==o?o[0]:R})}),(0,y.jsx)(f.ZP,{item:!0,xs:12,children:(0,y.jsx)(v.Z,{label:"Current Policy",content:T.join(", ")})})]}),o&&(null===o||void 0===o?void 0:o.length)>1&&(0,y.jsx)(v.Z,{label:"Selected Groups",content:o.join(", ")}),(0,y.jsx)(f.ZP,{item:!0,xs:12,children:(0,y.jsx)("div",{className:n.tableBlock,children:(0,y.jsx)(p.Z,{selectedPolicy:L})})})]}),(0,y.jsxs)(f.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,y.jsx)(a.zxk,{id:"reset",type:"button",variant:"regular",className:n.spacerRight,onClick:function(){F(T),u((0,P.ue)(T))},label:"Reset"}),(0,y.jsx)(a.zxk,{id:"save",type:"button",variant:"callAction",color:"primary",disabled:S,onClick:function(){var e=null,n=null;null!==o?n=o:null!==s&&(e=[s.accessKey]||0),k(!0),x.Z.invoke("PUT","/api/v1/set-policy-multi",{name:B,groups:n,users:e}).then((function(){k(!1),t()})).catch((function(e){k(!1),u((0,b.zb)(e))}))},label:"Save"})]}),S&&(0,y.jsx)(f.ZP,{item:!0,xs:12,children:(0,y.jsx)(d.Z,{})})]})}))},95193:function(e,n,t){var i;t.d(n,{Z:function(){return f}});var s=t(29439),r=t(72791),o=t(69120),l=t(33073),a=t(40162);function c(e,n,t,i,o){var l="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,c=r.useState((function(){return o&&l?t(e).matches:i?i(e).matches:n})),u=(0,s.Z)(c,2),d=u[0],f=u[1];return(0,a.Z)((function(){var n=!0;if(l){var i=t(e),s=function(){n&&f(i.matches)};return s(),i.addListener(s),function(){n=!1,i.removeListener(s)}}}),[e,t,l]),d}var u=(i||(i=t.t(r,2))).useSyncExternalStore;function d(e,n,t,i){var o=r.useCallback((function(){return n}),[n]),l=r.useMemo((function(){if(null!==i){var n=i(e).matches;return function(){return n}}return o}),[o,e,i]),a=r.useMemo((function(){if(null===t)return[o,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[o,t,e]),c=(0,s.Z)(a,2),d=c[0],f=c[1];return u(f,d,l)}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,o.Z)(),i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,s=(0,l.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),r=s.defaultMatches,a=void 0!==r&&r,f=s.matchMedia,h=void 0===f?i?window.matchMedia:null:f,m=s.ssrMatchMedia,x=void 0===m?null:m,p=s.noSsr;var v="function"===typeof e?e(t):e;v=v.replace(/^@media( ?)/m,"");var Z=void 0!==u?d:c,b=Z(v,a,h,x,p);return b}}}]);
//# sourceMappingURL=4061.bf125068.chunk.js.map