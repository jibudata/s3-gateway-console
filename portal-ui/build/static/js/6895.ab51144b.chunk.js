"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6895],{66895:function(e,t,n){n.r(t);var s=n(29439),i=n(72791),c=n(57689),a=n(29945),l=n(78687),o=n(56087),r=n(38442),u=n(75578),d=n(87995),f=n(9859),b=n(44690),_=n(27454),T=n(47974),x=n(31776),h=n(82342),C=n(99670),I=n(80184),j=(0,u.Z)(i.lazy((function(){return n.e(9968).then(n.bind(n,39968))}))),F=(0,u.Z)(i.lazy((function(){return n.e(7494).then(n.bind(n,47494))}))),S=(0,u.Z)(i.lazy((function(){return n.e(4738).then(n.bind(n,84738))}))),E=(0,u.Z)(i.lazy((function(){return n.e(3989).then(n.bind(n,93989))}))),m=(0,u.Z)(i.lazy((function(){return n.e(5702).then(n.bind(n,25702))}))),p=(0,u.Z)(i.lazy((function(){return n.e(5759).then(n.bind(n,85759))}))),O=(0,u.Z)(i.lazy((function(){return n.e(51).then(n.bind(n,51))})));t.default=function(){var e,t=(0,b.TL)(),n=(0,c.s0)(),u=(0,c.UO)(),k=(0,c.TH)(),A=(0,l.v9)(d.N5),N=(0,l.v9)(f.HQ),y=(0,l.v9)(f.G6),v=(0,l.v9)(d.gw),g=(0,i.useState)(!1),U=(0,s.Z)(g,2),L=U[0],B=U[1],G=(0,i.useState)(!1),Z=(0,s.Z)(G,2),R=Z[0],w=Z[1],P=u.bucketName||"",z=(0,r.F)(P,o.o3),K=(0,r.F)(P,o.B);(0,i.useEffect)((function(){t((0,d.Sc)("bucket_details"))}),[]),(0,i.useEffect)((function(){L||(t((0,f.d5)(!0)),B(!0))}),[L,t,B]),(0,i.useEffect)((function(){N&&x.h.buckets.bucketInfo(P).then((function(e){t((0,f.d5)(!1)),t((0,f.f4)(e.data))})).catch((function(e){t((0,f.d5)(!1)),t((0,d.Ih)((0,h.g)(e)))}))}),[P,N,t]);var D="/buckets/".concat(P),W={events:"/admin/events",replication:"/admin/replication",lifecycle:"/admin/lifecycle",access:"/admin/access",prefix:"/admin/prefix"},M=function(e){var t=W[e];return t=t?"".concat(D).concat(t):"".concat(D).concat("/admin/summary")};return(0,I.jsxs)(i.Fragment,{children:[R&&(0,I.jsx)(j,{deleteOpen:R,selectedBucket:P,closeDeleteModalAndRefresh:function(e){!function(e){w(!1),e&&n("/buckets")}(e)}}),(0,I.jsx)(T.Z,{label:(0,I.jsx)(a.hbI,{label:"Buckets",onClick:function(){return n("/buckets")}}),actions:(0,I.jsxs)(i.Fragment,{children:[(0,I.jsx)(_.Z,{tooltip:K?"Browse Bucket":(0,o.MK)(o.D[o.EI.BUCKET_VIEWER],"browsing this bucket"),children:(0,I.jsx)(a.zxk,{id:"switch-browse-view","aria-label":"Browse Bucket",onClick:function(){n("/browser/".concat(P))},icon:(0,I.jsx)(a.ROc,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"},disabled:!K})}),(0,I.jsx)(C.Z,{})]})}),(0,I.jsxs)(a.Xgh,{children:[(0,I.jsx)(a.UHn,{icon:(0,I.jsx)(i.Fragment,{children:(0,I.jsx)(a.wNb,{width:40})}),title:P,subTitle:(0,I.jsxs)(r.s,{scopes:[o.Ft.S3_GET_BUCKET_POLICY,o.Ft.S3_GET_ACTIONS],resource:P,children:[(0,I.jsx)("span",{style:{fontSize:15},children:"Access: "}),(0,I.jsx)("span",{style:{fontWeight:600,fontSize:15,textTransform:"capitalize"},children:null===y||void 0===y||null===(e=y.access)||void 0===e?void 0:e.toLowerCase()})]}),actions:(0,I.jsxs)(i.Fragment,{children:[(0,I.jsx)(r.s,{scopes:o.o3,resource:P,errorProps:{disabled:!0},children:(0,I.jsx)(_.Z,{tooltip:z?"":(0,o.MK)([o.Ft.S3_DELETE_BUCKET,o.Ft.S3_FORCE_DELETE_BUCKET],"deleting this bucket"),children:(0,I.jsx)(a.zxk,{id:"delete-bucket-button",onClick:function(){w(!0)},label:"Delete Bucket",icon:(0,I.jsx)(a.XHJ,{}),variant:"secondary",disabled:!z})})}),(0,I.jsx)(a.zxk,{id:"refresh-bucket-info",onClick:function(){t((0,f.d5)(!0))},label:"Refresh",icon:(0,I.jsx)(a.DuK,{})})]}),sx:{marginBottom:15}}),(0,I.jsx)(a.xuv,{children:(0,I.jsx)(a.mQc,{currentTabOrPath:k.pathname,useRouteTabs:!0,onTabClick:function(e){n(e)},options:[{tabConfig:{label:"Summary",id:"summary",to:M("summary")}},{tabConfig:{label:"Events",id:"events",disabled:!(0,r.F)(P,[o.Ft.S3_GET_BUCKET_NOTIFICATIONS,o.Ft.S3_PUT_BUCKET_NOTIFICATIONS,o.Ft.S3_GET_ACTIONS,o.Ft.S3_PUT_ACTIONS]),to:M("events")}},{tabConfig:{label:"Replication",id:"replication",disabled:!A||v.enabled&&v.curSite||!(0,r.F)(P,[o.Ft.S3_GET_REPLICATION_CONFIGURATION,o.Ft.S3_PUT_REPLICATION_CONFIGURATION,o.Ft.S3_GET_ACTIONS,o.Ft.S3_PUT_ACTIONS]),to:M("replication")}},{tabConfig:{label:"Lifecycle",id:"lifecycle",disabled:!A||!(0,r.F)(P,[o.Ft.S3_GET_LIFECYCLE_CONFIGURATION,o.Ft.S3_PUT_LIFECYCLE_CONFIGURATION,o.Ft.S3_GET_ACTIONS,o.Ft.S3_PUT_ACTIONS]),to:M("lifecycle")}},{tabConfig:{label:"Access",id:"access",disabled:!(0,r.F)(P,[o.Ft.ADMIN_GET_POLICY,o.Ft.ADMIN_LIST_USER_POLICIES,o.Ft.ADMIN_LIST_USERS]),to:M("access")}},{tabConfig:{label:"Anonymous",id:"anonymous",disabled:!(0,r.F)(P,[o.Ft.S3_GET_BUCKET_POLICY,o.Ft.S3_GET_ACTIONS]),to:M("prefix")}}],routes:(0,I.jsxs)(c.Z5,{children:[(0,I.jsx)(c.AW,{path:"summary",element:(0,I.jsx)(E,{})}),(0,I.jsx)(c.AW,{path:"events",element:(0,I.jsx)(m,{})}),A&&(0,I.jsx)(c.AW,{path:"replication",element:(0,I.jsx)(p,{})}),A&&(0,I.jsx)(c.AW,{path:"lifecycle",element:(0,I.jsx)(O,{})}),(0,I.jsx)(c.AW,{path:"access",element:(0,I.jsx)(S,{})}),(0,I.jsx)(c.AW,{path:"prefix",element:(0,I.jsx)(F,{})}),(0,I.jsx)(c.AW,{path:"*",element:(0,I.jsx)(c.Fg,{to:"/buckets/".concat(P,"/admin/summary")})})]})})})]})]})}},75578:function(e,t,n){var s=n(1413),i=n(72791),c=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return(0,c.jsx)(i.Suspense,{fallback:t,children:(0,c.jsx)(e,(0,s.Z)({},n))})}}}}]);
//# sourceMappingURL=6895.ab51144b.chunk.js.map