"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[711],{50711:function(e,n,s){s.r(n);var t=s(29439),o=s(72791),r=s(51691),i=s(9505),l=s(23508),c=s(75952),a=s(81159),u=s(87995),d=s(81551),v=s(38442),b=s(56087),h=s(78687),p=s(80184);n.default=function(e){var n=e.closeDeleteModalAndRefresh,s=e.deleteOpen,f=e.selectedBucket,j=e.selectedObjects,g=e.versioning,x=(0,d.TL)(),m=(0,i.Z)((function(){return n(!0)}),(function(e){return x((0,u.Ih)(e))})),y=(0,t.Z)(m,2),C=y[0],T=y[1],_=(0,o.useState)(!1),k=(0,t.Z)(_,2),S=k[0],Z=k[1],w=(0,o.useState)(!1),N=(0,t.Z)(w,2),O=N[0],A=N[1],D=(0,h.v9)((function(e){return e.objectBrowser.retentionConfig})),E=(0,v.F)([f],[b.Ft.S3_BYPASS_GOVERNANCE_RETENTION])&&"governance"===(null===D||void 0===D?void 0:D.mode);if(!j)return null;var F="Enabled"===(null===g||void 0===g?void 0:g.Status)||"Suspended"===(null===g||void 0===g?void 0:g.Status);return(0,p.jsx)(l.Z,{title:"Delete Objects",confirmText:"Delete",isOpen:s,titleIcon:(0,p.jsx)(c.NvT,{}),isLoading:C,onConfirm:function(){for(var e=[],n=0;n<j.length;n++)j[n].endsWith("/")?e.push({path:j[n],versionID:"",recursive:!0}):e.push({path:j[n],versionID:"",recursive:!1});e&&T("POST","/api/v1/buckets/".concat(f,"/delete-objects?all_versions=").concat(S).concat(O?"&bypass=true":""),e)},onClose:function(){return n(!1)},confirmationContent:(0,p.jsxs)(r.Z,{children:["Are you sure you want to delete the selected ",j.length," ","objects?"," ",F&&(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(a.Z,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:S,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){Z(!S)},description:""}),E&&S&&(0,p.jsx)(o.Fragment,{children:(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)(a.Z,{label:"Bypass Governance Mode",indicatorLabels:["Yes","No"],checked:O,value:"bypass_governance",id:"bypass_governance",name:"bypass_governance",onChange:function(e){A(!O)},description:""})})}),S&&(0,p.jsxs)(o.Fragment,{children:[(0,p.jsxs)("div",{style:{marginTop:10,border:"#c83b51 1px solid",borderRadius:3,padding:5,backgroundColor:"#c83b5120",color:"#c83b51"},children:["This will remove the objects as well as all of their versions, ",(0,p.jsx)("br",{}),"This action is irreversible."]}),(0,p.jsx)("br",{}),"Are you sure you want to continue?"]})]})]})})}}}]);
//# sourceMappingURL=711.a5499cb1.chunk.js.map