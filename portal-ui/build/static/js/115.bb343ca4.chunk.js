(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[115],{398:function(e,t,a){"use strict";var n,c=a(16),o=a(1),i=a(2),r=a(41),s=a(387),l=a(380),d=a(413),b=a(414),j=a(415),u=a(307),m=a(319),O=a(122),p=a(32),x=a(39),h=a.n(x),f=a(129),v=a.n(f),g=a(128),C=a.n(g),y=a(125),N=a.n(y),S=a(0),k=function(){clearInterval(n)},M={displayErrorMessage:p.h},E=Object(r.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),M)(Object(m.a)((function(e){return Object(u.a)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var t=e.classes,a=e.modalSnackMessage,o=e.displayErrorMessage,r=e.customStyle,s=Object(i.useState)(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],j=Object(i.useState)(!1),u=Object(c.a)(j,2),m=u[0],O=u[1],p=Object(i.useCallback)((function(){O(!1)}),[]);Object(i.useEffect)((function(){m||(o({detailedError:"",errorMessage:""}),b(!1))}),[o,m]),Object(i.useEffect)((function(){""!==a.message&&"error"===a.type&&O(!0)}),[p,a.message,a.type]);var x=h()(a,"message",""),f=h()(a,"detailedErrorMsg","");return"error"!==a.type||""===x?null:Object(S.jsx)(i.Fragment,{children:Object(S.jsxs)("div",{className:"".concat(t.modalErrorContainer," ").concat(m?t.modalErrorShow:""),style:r,onMouseOver:k,onMouseLeave:function(){n=setInterval(p,1e4)},children:[Object(S.jsx)("button",{className:t.closeButton,onClick:p,children:Object(S.jsx)(N.a,{})}),Object(S.jsxs)("div",{className:t.errorTitle,children:[Object(S.jsx)("span",{className:t.messageIcon,children:Object(S.jsx)(C.a,{})}),Object(S.jsx)("span",{className:t.errorLabel,children:x})]}),""!==f&&Object(S.jsxs)(i.Fragment,{children:[Object(S.jsx)("div",{className:t.detailsContainerLink,children:Object(S.jsxs)("button",{className:t.detailsButton,onClick:function(){b(!d)},children:["Details",Object(S.jsx)(v.a,{className:"".concat(t.arrowElement," ").concat(d?t.arrowOpen:"")})]})}),Object(S.jsx)("div",{className:"".concat(t.extraDetailsContainer," ").concat(d?t.extraDetailsOpen:""),children:f})]})]})})}))),L=Object(r.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:p.i});t.a=Object(m.a)((function(e){return Object(u.a)(Object(o.a)(Object(o.a)({},O.h),{},{root:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},O.z))}))(L((function(e){var t=e.onClose,a=e.modalOpen,n=e.title,r=e.children,u=e.classes,m=e.wideLimit,O=void 0===m||m,p=e.modalSnackMessage,x=e.noContentPadding,h=e.setModalSnackMessage,f=Object(i.useState)(!1),v=Object(c.a)(f,2),g=v[0],C=v[1];Object(i.useEffect)((function(){h("")}),[h]),Object(i.useEffect)((function(){if(p){if(""===p.message)return void C(!1);"error"!==p.type&&C(!0)}}),[p]);var y=O?{classes:{paper:u.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},k="";return p&&(k=p.detailedErrorMsg,(""===p.detailedErrorMsg||p.detailedErrorMsg.length<5)&&(k=p.message)),Object(S.jsxs)(d.a,Object(o.a)(Object(o.a)({open:a,classes:u},y),{},{scroll:"paper",onClose:function(e,a){"backdropClick"!==a&&t()},className:u.root,children:[Object(S.jsxs)(b.a,{className:u.title,children:[Object(S.jsx)("div",{className:u.titleText,children:n}),Object(S.jsx)("div",{className:u.closeContainer,children:Object(S.jsx)(s.a,{"aria-label":"close",className:u.closeButton,onClick:t,disableRipple:!0,size:"small",children:Object(S.jsx)(N.a,{})})})]}),Object(S.jsx)(E,{}),Object(S.jsx)(l.a,{open:g,className:u.snackBarModal,onClose:function(){C(!1),h("")},message:k,ContentProps:{className:"".concat(u.snackBar," ").concat(p&&"error"===p.type?u.errorSnackBar:"")},autoHideDuration:p&&"error"===p.type?1e4:5e3}),Object(S.jsx)(j.a,{className:x?"":u.content,children:r})]}))})))},399:function(e,t,a){"use strict";var n=a(1),c=a(2),o=a.n(c),i=a(429),r=a(443),s=a(821),l=a(384),d=a(387),b=a(307),j=a(377),u=a(319),m=a(122),O=a(123),p=a(0),x=Object(j.a)((function(e){return Object(b.a)(Object(n.a)({},m.n))}));function h(e){var t=x();return Object(p.jsx)(i.a,Object(n.a)({InputProps:{classes:t}},e))}t.a=Object(u.a)((function(e){return Object(b.a)(Object(n.a)(Object(n.a)(Object(n.a)({},m.i),m.E),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,c=e.value,i=e.id,b=e.name,j=e.type,u=void 0===j?"text":j,m=e.autoComplete,x=void 0===m?"off":m,f=e.disabled,v=void 0!==f&&f,g=e.multiline,C=void 0!==g&&g,y=e.tooltip,N=void 0===y?"":y,S=e.index,k=void 0===S?0:S,M=e.error,E=void 0===M?"":M,L=e.required,w=void 0!==L&&L,R=e.placeholder,B=void 0===R?"":R,I=e.min,F=e.max,D=e.overlayIcon,z=void 0===D?null:D,W=e.overlayObject,A=void 0===W?null:W,T=e.extraInputProps,P=void 0===T?{}:T,_=e.overlayAction,H=e.noLabelMinWidth,q=void 0!==H&&H,G=e.pattern,U=void 0===G?"":G,J=e.classes,V=Object(n.a)({"data-index":k},P);return"number"===u&&I&&(V.min=I),"number"===u&&F&&(V.max=F),""!==U&&(V.pattern=U),Object(p.jsx)(o.a.Fragment,{children:Object(p.jsxs)(r.a,{container:!0,className:" ".concat(""!==E?J.errorInField:J.inputBoxContainer),children:[""!==t&&Object(p.jsxs)(s.a,{htmlFor:i,className:q?J.noMinWidthLabel:J.inputLabel,children:[Object(p.jsxs)("span",{children:[t,w?"*":""]}),""!==N&&Object(p.jsx)("div",{className:J.tooltipContainer,children:Object(p.jsx)(l.a,{title:N,placement:"top-start",children:Object(p.jsx)("div",{className:J.tooltip,children:Object(p.jsx)(O.a,{})})})})]}),Object(p.jsxs)("div",{className:J.textBoxContainer,children:[Object(p.jsx)(h,{id:i,name:b,fullWidth:!0,value:c,disabled:v,onChange:a,type:u,multiline:C,autoComplete:x,inputProps:V,error:""!==E,helperText:E,placeholder:B,className:J.inputRebase}),z&&Object(p.jsx)("div",{className:"".concat(J.overlayAction," ").concat(""!==t?"withLabel":""),children:Object(p.jsx)(d.a,{onClick:_?function(){_()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:z})}),A&&Object(p.jsx)("div",{className:"".concat(J.overlayAction," ").concat(""!==t?"withLabel":""),children:A})]})]})})}))},465:function(e,t,a){"use strict";var n=a(5),c=a(1),o=(a(2),a(8)),i=a(443),r=a(822),s=a(828),l=a(820),d=a(821),b=a(384),j=a(307),u=a(319),m=a(377),O=a(122),p=a(123),x=a(0),h=Object(m.a)(Object(c.a)({root:{"&:hover":{backgroundColor:"transparent"}}},O.u)),f=function(e){var t=h();return Object(x.jsx)(l.a,Object(c.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(x.jsx)("span",{className:t.radioSelectedIcon}),icon:Object(x.jsx)("span",{className:t.radioUnselectedIcon})},e))};t.a=Object(u.a)((function(e){return Object(j.a)(Object(c.a)(Object(c.a)(Object(c.a)({},O.i),O.E),{},{optionLabel:{"&.Mui-disabled":{"& .MuiFormControlLabel-label":{color:"#9c9c9c"}},"&:last-child":{marginRight:0},"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E"}},checkedOption:{"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E",fontWeight:700}}}))}))((function(e){var t=e.selectorOptions,a=void 0===t?[]:t,c=e.currentSelection,l=e.label,j=e.id,u=e.name,m=e.onChange,O=e.tooltip,h=void 0===O?"":O,v=e.disableOptions,g=void 0!==v&&v,C=e.classes,y=e.displayInColumn,N=void 0!==y&&y;return Object(x.jsxs)(i.a,{container:!0,alignItems:"center",children:[Object(x.jsx)(i.a,{item:!0,xs:!0,children:Object(x.jsxs)(d.a,{htmlFor:j,className:C.inputLabel,children:[Object(x.jsx)("span",{children:l}),""!==h&&Object(x.jsx)("div",{className:C.tooltipContainer,children:Object(x.jsx)(b.a,{title:h,placement:"top-start",children:Object(x.jsx)("div",{children:Object(x.jsx)(p.a,{})})})})]})}),Object(x.jsx)(i.a,{item:!0,xs:!0,className:C.radioOptionsLayout,children:Object(x.jsx)(r.a,{"aria-label":j,id:j,name:u,value:c,onChange:m,row:!N,style:{display:"block",textAlign:"right"},children:a.map((function(e){return Object(x.jsx)(s.a,{value:e.value,control:Object(x.jsx)(f,{}),label:e.label,disabled:g,className:Object(o.a)(C.optionLabel,Object(n.a)({},C.checkedOption,e.value===c))},"rd-".concat(u,"-").concat(e.value))}))})})]})}))},903:function(e,t,a){"use strict";a.r(t);var n=a(16),c=a(1),o=a(2),i=a(41),r=a(482),s=a(385),l=a(374),d=a(307),b=a(319),j=a(443),u=a(122),m=a(32),O=a(52),p=a(398),x=a(465),h=a(399),f=a(0),v=Object(i.b)(null,{setModalErrorSnackMessage:m.h});t.default=Object(b.a)((function(e){return Object(d.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},u.A),u.g),u.k),u.q))}))(v((function(e){var t=e.classes,a=e.open,c=e.bucketName,i=e.closeModalAndRefresh,d=e.setModalErrorSnackMessage,b=Object(o.useState)(!1),u=Object(n.a)(b,2),m=u[0],v=u[1],g=Object(o.useState)(!0),C=Object(n.a)(g,2),y=C[0],N=C[1],S=Object(o.useState)("compliance"),k=Object(n.a)(S,2),M=k[0],E=k[1],L=Object(o.useState)("days"),w=Object(n.a)(L,2),R=w[0],B=w[1],I=Object(o.useState)(1),F=Object(n.a)(I,2),D=F[0],z=F[1],W=Object(o.useState)(!1),A=Object(n.a)(W,2),T=A[0],P=A[1];return Object(o.useEffect)((function(){Number.isNaN(D)||D<1?P(!1):P(!0)}),[D]),Object(o.useEffect)((function(){y&&O.a.invoke("GET","/api/v1/buckets/".concat(c,"/retention")).then((function(e){N(!1),E(e.mode),z(e.validity),B(e.unit)})).catch((function(e){N(!1)}))}),[y,c]),Object(f.jsx)(p.a,{title:"Set Retention Configuration",modalOpen:a,onClose:function(){i()},children:y?Object(f.jsx)(r.a,{color:"primary",size:16,variant:"indeterminate"}):Object(f.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),m||(v(!0),O.a.invoke("PUT","/api/v1/buckets/".concat(c,"/retention"),{mode:M,unit:R,validity:D}).then((function(){v(!1),i()})).catch((function(e){v(!1),d(e)})))},children:Object(f.jsxs)(j.a,{container:!0,children:[Object(f.jsxs)(j.a,{item:!0,xs:12,className:t.modalFormScrollable,children:[Object(f.jsx)(j.a,{item:!0,xs:12,className:t.formFieldRow,children:Object(f.jsx)(x.a,{currentSelection:M,id:"retention_mode",name:"retention_mode",label:"Retention Mode",onChange:function(e){E(e.target.value)},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}]})}),Object(f.jsx)(j.a,{item:!0,xs:12,className:t.formFieldRow,children:Object(f.jsx)(x.a,{currentSelection:R,id:"retention_unit",name:"retention_unit",label:"Retention Unit",onChange:function(e){B(e.target.value)},selectorOptions:[{value:"days",label:"Days"},{value:"years",label:"Years"}]})}),Object(f.jsx)(j.a,{item:!0,xs:12,className:t.formFieldRow,children:Object(f.jsx)(h.a,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){z(e.target.valueAsNumber)},label:"Retention Validity",value:String(D),required:!0,min:"1"})})]}),Object(f.jsxs)(j.a,{item:!0,xs:12,className:t.modalButtonBar,children:[Object(f.jsx)(s.a,{type:"button",variant:"outlined",color:"primary",disabled:m,onClick:function(){i()},children:"Cancel"}),Object(f.jsx)(s.a,{type:"submit",variant:"contained",color:"primary",disabled:m||!T,children:"Set"})]}),m&&Object(f.jsx)(j.a,{item:!0,xs:12,children:Object(f.jsx)(l.a,{})})]})})})})))}}]);
//# sourceMappingURL=115.bb343ca4.chunk.js.map