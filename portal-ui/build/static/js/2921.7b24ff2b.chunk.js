"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2921],{2921:function(e,n,a){a.r(n),a.d(n,{default:function(){return V}});var t=a(29439),i=a(1413),l=a(72791),o=a(61889),s=a(29945),r=a(11135),c=a(25787),u=a(87462),d=a(63366),x=a(28182),p=a(94419),v=a(829),h=a(31402),m=a(66934),f=a(75878),Z=a(21217);function b(e){return(0,Z.Z)("MuiTableHead",e)}(0,f.Z)("MuiTableHead",["root"]);var j=a(80184),g=["className","component"],C=(0,m.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),N={variant:"head"},P="thead",y=l.forwardRef((function(e,n){var a=(0,h.Z)({props:e,name:"MuiTableHead"}),t=a.className,i=a.component,l=void 0===i?P:i,o=(0,d.Z)(a,g),s=(0,u.Z)({},a,{component:l}),r=function(e){var n=e.classes;return(0,p.Z)({root:["root"]},b,n)}(s);return(0,j.jsx)(v.Z.Provider,{value:N,children:(0,j.jsx)(C,(0,u.Z)({as:l,className:(0,x.Z)(r.root,t),ref:n,role:l===P?null:"rowgroup",ownerState:s},o))})})),k=a(35855),F=a(53994),w=a(53382),S=a(94454),L=a(79836),R=a(23814),T=a(56028),I=a(21435),E=a(27391),M=a(30829),H=a(20068),O=a(68096),B=a(72455),A=a(35739),z=(0,B.Z)((function(e){return(0,r.Z)((0,i.Z)({},R.gM))}));function D(e){var n=z();return(0,j.jsx)(E.Z,(0,i.Z)({InputProps:{classes:n}},e))}var W=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({},R.YI),R.Hr))}))((function(e){var n=e.classes,a=e.id,r=e.name,c=e.onChange,u=e.options,d=e.label,x=e.tooltip,p=void 0===x?"":x,v=e.value,h=e.disabled,m=void 0!==h&&h,f=(0,l.useState)(u[0]),Z=(0,t.Z)(f,2),b=Z[0],g=Z[1];return(0,j.jsx)(l.Fragment,{children:(0,j.jsxs)(o.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==d&&(0,j.jsxs)(M.Z,{htmlFor:a,className:n.inputLabel,children:[(0,j.jsx)("span",{children:d}),""!==p&&(0,j.jsx)("div",{className:n.tooltipContainer,children:(0,j.jsx)(H.Z,{title:p,placement:"top-start",children:(0,j.jsx)("div",{className:n.tooltip,children:(0,j.jsx)(s.byK,{})})})})]}),(0,j.jsx)(O.Z,{fullWidth:!0,children:(0,j.jsx)(A.Z,{id:a,options:u,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e){return e.value===v},disabled:m,renderInput:function(e){return(0,j.jsx)(D,(0,i.Z)((0,i.Z)({},e),{},{name:r}))},value:b,onChange:function(e,n){n&&(c(n.value),g(n))},autoHighlight:!0})})]})})})),K=a(87995),G=a(81551),q=a(31776),U=a(66315),V=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({arnField:{"& div div .MuiOutlinedInput-root":{padding:0}}},R.DF),R.ID))}))((function(e){var n=e.classes,a=e.open,i=e.selectedBucket,r=e.closeModalAndRefresh,c=(0,G.TL)(),u=(0,l.useState)(!1),d=(0,t.Z)(u,2),x=d[0],p=d[1],v=(0,l.useState)(""),h=(0,t.Z)(v,2),m=h[0],f=h[1],Z=(0,l.useState)(""),b=(0,t.Z)(Z,2),g=b[0],C=b[1],N=(0,l.useState)(""),P=(0,t.Z)(N,2),R=P[0],E=P[1],M=(0,l.useState)([]),H=(0,t.Z)(M,2),O=H[0],B=H[1],A=(0,l.useState)([]),z=(0,t.Z)(A,2),D=z[0],V=z[1],Y=(0,l.useCallback)((function(){p(!0),q.h.admin.arnList().then((function(e){null!==e.data.arns&&V(e.data.arns),p(!1)})).catch((function(e){p(!1),c((0,K.zb)(e))}))}),[c]);(0,l.useEffect)((function(){Y()}),[Y]);var _=[{label:"PUT - Object Uploaded",value:U.Ln.Put},{label:"GET - Object accessed",value:U.Ln.Get},{label:"DELETE - Object Deleted",value:U.Ln.Delete}],J=function(e,n){var a=O.indexOf(n),t=[];-1===a?t=t.concat(O,n):0===a?t=t.concat(O.slice(1)):a===O.length-1?t=t.concat(O.slice(0,-1)):a>0&&(t=t.concat(O.slice(0,a),O.slice(a+1))),B(t)},Q=null===D||void 0===D?void 0:D.map((function(e){return{label:e,value:e}}));return(0,j.jsx)(T.Z,{modalOpen:a,onClose:function(){r()},title:"Subscribe To Bucket Events",titleIcon:(0,j.jsx)(s.c3W,{}),children:(0,j.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),x||(p(!0),q.h.buckets.createBucketEvent(i,{configuration:{arn:R,events:O,prefix:m,suffix:g},ignoreExisting:!0}).then((function(){p(!1),r()})).catch((function(e){p(!1),c((0,K.zb)(e))})))},children:(0,j.jsxs)(o.ZP,{container:!0,children:[(0,j.jsxs)(o.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,j.jsx)(o.ZP,{item:!0,xs:12,className:"".concat(n.arnField," ").concat(n.formFieldRow),children:(0,j.jsx)(W,{onChange:function(e){E(e)},id:"select-access-policy",name:"select-access-policy",label:"ARN",value:R,options:Q||[]})}),(0,j.jsx)(o.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,j.jsx)(I.Z,{id:"prefix-input",name:"prefix-input",label:"Prefix",value:m,onChange:function(e){f(e.target.value)}})}),(0,j.jsx)(o.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,j.jsx)(I.Z,{id:"suffix-input",name:"suffix-input",label:"Suffix",value:g,onChange:function(e){C(e.target.value)}})}),(0,j.jsx)(o.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,j.jsxs)(L.Z,{size:"medium",children:[(0,j.jsx)(y,{className:n.minTableHeader,children:(0,j.jsxs)(k.Z,{children:[(0,j.jsx)(F.Z,{children:"Select"}),(0,j.jsx)(F.Z,{children:"Event"})]})}),(0,j.jsx)(w.Z,{children:_.map((function(e){return(0,j.jsxs)(k.Z,{onClick:function(n){return J(0,e.value)},children:[(0,j.jsx)(F.Z,{padding:"checkbox",children:(0,j.jsx)(S.Z,{value:e.value,color:"primary",inputProps:{"aria-label":"secondary checkbox"},onChange:function(n){return J(0,e.value)},checked:O.includes(e.value)})}),(0,j.jsx)(F.Z,{className:n.wrapCell,children:e.label})]},"group-".concat(e.value))}))})]})})]}),(0,j.jsxs)(o.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,j.jsx)(s.zxk,{id:"cancel-add-event",type:"button",variant:"regular",disabled:x,onClick:function(){r()},label:"Cancel"}),(0,j.jsx)(s.zxk,{id:"save-event",type:"submit",variant:"callAction",disabled:x,label:"Save"})]})]})})})}))},21435:function(e,n,a){var t=a(29439),i=a(1413),l=a(72791),o=a(27391),s=a(61889),r=a(30829),c=a(20068),u=a(13400),d=a(20165),x=a(3579),p=a(11135),v=a(72455),h=a(25787),m=a(23814),f=a(29945),Z=a(28182),b=a(80184),j=(0,v.Z)((function(e){return(0,p.Z)((0,i.Z)({},m.gM))}));function g(e){var n=j();return(0,b.jsx)(o.Z,(0,i.Z)({InputProps:{classes:n}},e))}n.Z=(0,h.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},m.YI),m.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var n=e.label,a=e.onChange,o=e.value,p=e.id,v=e.name,h=e.type,m=void 0===h?"text":h,j=e.autoComplete,C=void 0===j?"off":j,N=e.disabled,P=void 0!==N&&N,y=e.multiline,k=void 0!==y&&y,F=e.tooltip,w=void 0===F?"":F,S=e.index,L=void 0===S?0:S,R=e.error,T=void 0===R?"":R,I=e.required,E=void 0!==I&&I,M=e.placeholder,H=void 0===M?"":M,O=e.min,B=e.max,A=e.overlayId,z=e.overlayIcon,D=void 0===z?null:z,W=e.overlayObject,K=void 0===W?null:W,G=e.extraInputProps,q=void 0===G?{}:G,U=e.overlayAction,V=e.noLabelMinWidth,Y=void 0!==V&&V,_=e.pattern,J=void 0===_?"":_,Q=e.autoFocus,X=void 0!==Q&&Q,$=e.classes,ee=e.className,ne=void 0===ee?"":ee,ae=e.onKeyPress,te=e.onFocus,ie=e.onPaste,le=(0,i.Z)({"data-index":L},q),oe=(0,l.useState)(!1),se=(0,t.Z)(oe,2),re=se[0],ce=se[1];"number"===m&&O&&(le.min=O),"number"===m&&B&&(le.max=B),""!==J&&(le.pattern=J);var ue=D,de=m;return"password"===m&&null===D&&(ue=re?(0,b.jsx)(d.Z,{}):(0,b.jsx)(x.Z,{}),de=re?"text":"password"),(0,b.jsx)(l.Fragment,{children:(0,b.jsxs)(s.ZP,{container:!0,className:(0,Z.Z)(""!==ne?ne:"",""!==T?$.errorInField:$.inputBoxContainer),children:[""!==n&&(0,b.jsxs)(r.Z,{htmlFor:p,className:Y?$.noMinWidthLabel:$.inputLabel,children:[(0,b.jsxs)("span",{children:[n,E?"*":""]}),""!==w&&(0,b.jsx)("div",{className:$.tooltipContainer,children:(0,b.jsx)(c.Z,{title:w,placement:"top-start",children:(0,b.jsx)("div",{className:$.tooltip,children:(0,b.jsx)(f.byK,{})})})})]}),(0,b.jsxs)("div",{className:$.textBoxContainer,children:[(0,b.jsx)(g,{id:p,name:v,fullWidth:!0,value:o,autoFocus:X,disabled:P,onChange:a,type:de,multiline:k,autoComplete:C,inputProps:le,error:""!==T,helperText:T,placeholder:H,className:$.inputRebase,onKeyPress:ae,onFocus:te,onPaste:ie}),ue&&(0,b.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,b.jsx)(u.Z,{onClick:U?function(){U()}:function(){return ce(!re)},id:A,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:ue})}),K&&(0,b.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:K})]})]})})}))}}]);
//# sourceMappingURL=2921.7b24ff2b.chunk.js.map