"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7233],{33690:function(e,n,i){i.r(n);var t=i(29439),l=i(1413),o=i(72791),a=i(75952),s=i(11135),r=i(25787),c=i(61889),d=i(23814),u=i(81207),x=i(56028),p=i(90673),f=i(92217),m=i(87995),h=i(81551),b=i(19859),Z=i(80184);(0,s.Z)((0,l.Z)((0,l.Z)({},d.ID),d.bK));n.default=(0,r.Z)((function(e){return(0,s.Z)((0,l.Z)((0,l.Z)((0,l.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},d.DF),d.ID),d.bK))}))((function(e){var n=e.classes,i=e.open,l=e.bucketName,s=e.actualPolicy,r=e.actualDefinition,d=e.closeModalAndRefresh,g=(0,h.TL)(),j=(0,o.useState)(!1),v=(0,t.Z)(j,2),C=v[0],y=v[1],P=(0,o.useState)(""),S=(0,t.Z)(P,2),k=S[0],N=S[1],I=(0,o.useState)(b.L),w=(0,t.Z)(I,2),B=w[0],F=w[1];return(0,o.useEffect)((function(){N(s),F(r?JSON.stringify(JSON.parse(r),null,4):b.L)}),[N,s,F,r]),(0,Z.jsx)(x.Z,{title:"Change Access Policy",modalOpen:i,onClose:function(){d()},titleIcon:(0,Z.jsx)(a.QXQ,{}),children:(0,Z.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),C||(y(!0),u.Z.invoke("PUT","/api/v1/buckets/".concat(l,"/set-policy"),{access:k,definition:B}).then((function(e){y(!1),d()})).catch((function(e){y(!1),g((0,m.zb)(e))})))},children:(0,Z.jsxs)(c.ZP,{container:!0,children:[(0,Z.jsxs)(c.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,Z.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,Z.jsx)(p.Z,{value:k,label:"Access Policy",id:"select-access-policy",name:"select-access-policy",onChange:function(e){N(e.target.value)},options:[{value:"PRIVATE",label:"Private"},{value:"PUBLIC",label:"Public"},{value:"CUSTOM",label:"Custom"}]})}),"PUBLIC"===k&&(0,Z.jsx)("div",{style:{marginTop:"25px",fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:"* Warning: With Public access anyone will be able to upload, download and delete files from this Bucket *"}),"CUSTOM"===k&&(0,Z.jsx)(c.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:(0,Z.jsx)(f.Z,{label:"Write Policy",value:B,onBeforeChange:function(e,n,i){F(i)},editorHeight:"350px"})})]}),(0,Z.jsxs)(c.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,Z.jsx)(a.zxk,{id:"cancel",type:"button",variant:"regular",onClick:function(){d()},disabled:C,label:"Cancel"}),(0,Z.jsx)(a.zxk,{id:"set",type:"submit",variant:"callAction",disabled:C||"CUSTOM"===k&&!B,label:"Set"})]})]})})})}))},92217:function(e,n,i){var t=i(1413),l=i(72791),o=i(61889),a=i(30829),s=i(20068),r=i(64554),c=i(11135),d=i(25787),u=i(75952),x=i(23814),p=i(78029),f=i.n(p),m=i(9534),h=i(27454),b=i(80184);n.Z=(0,d.Z)((function(e){return(0,c.Z)((0,t.Z)({},x.YI))}))((function(e){var n=e.value,i=e.label,t=void 0===i?"":i,c=e.tooltip,d=void 0===c?"":c,x=e.mode,p=void 0===x?"json":x,Z=e.classes,g=e.onBeforeChange,j=(e.readOnly,e.editorHeight),v=void 0===j?"250px":j;return(0,b.jsxs)(l.Fragment,{children:[(0,b.jsx)(o.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,b.jsxs)(a.Z,{className:Z.inputLabel,children:[(0,b.jsx)("span",{children:t}),""!==d&&(0,b.jsx)("div",{className:Z.tooltipContainer,children:(0,b.jsx)(s.Z,{title:d,placement:"top-start",children:(0,b.jsx)("div",{className:Z.tooltip,children:(0,b.jsx)(u.byK,{})})})})]})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,style:{maxHeight:v,overflow:"auto",border:"1px solid #eaeaea"},children:(0,b.jsx)(m.Z,{value:n,language:p,onChange:function(e){g(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:v||"initial",color:"#000000"}})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,b.jsx)(r.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,b.jsx)(h.Z,{tooltip:"Copy to Clipboard",children:(0,b.jsx)(f(),{text:n,children:(0,b.jsx)(u.zxk,{type:"button",id:"copy-code-mirror",icon:(0,b.jsx)(u.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},90673:function(e,n,i){var t=i(1413),l=i(72791),o=i(61889),a=i(4834),s=i(30829),r=i(20068),c=i(68096),d=i(58406),u=i(77865),x=i(11135),p=i(25787),f=i(23814),m=i(75952),h=i(80184),b=(0,p.Z)((function(e){return(0,x.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(a.ZP);n.Z=(0,p.Z)((function(e){return(0,x.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},f.YI),f.Hr),{},{fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var n=e.classes,i=e.id,t=e.name,a=e.onChange,x=e.options,p=e.label,f=e.tooltip,Z=void 0===f?"":f,g=e.value,j=e.disabled,v=void 0!==j&&j;return(0,h.jsx)(l.Fragment,{children:(0,h.jsxs)(o.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==p&&(0,h.jsxs)(s.Z,{htmlFor:i,className:n.inputLabel,children:[(0,h.jsx)("span",{children:p}),""!==Z&&(0,h.jsx)("div",{className:n.tooltipContainer,children:(0,h.jsx)(r.Z,{title:Z,placement:"top-start",children:(0,h.jsx)("div",{className:n.tooltip,children:(0,h.jsx)(m.byK,{})})})})]}),(0,h.jsx)(c.Z,{fullWidth:!0,children:(0,h.jsx)(d.Z,{id:i,name:t,value:g,onChange:a,input:(0,h.jsx)(b,{}),disabled:v,children:x.map((function(e){return(0,h.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(t,"-").concat(e.label))}))})})]})})}))},19859:function(e,n,i){i.d(n,{L:function(){return t}});var t='{\n    "Version": "2012-10-17",\n    "Statement": [\n        \n    ]\n}'}}]);
//# sourceMappingURL=7233.38b9bfcf.chunk.js.map