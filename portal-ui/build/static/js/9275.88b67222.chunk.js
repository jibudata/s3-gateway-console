"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9275],{29316:function(e,n,t){t(50390);var i=t(6369),o=t(86509),r=t(4285),a=t(77138),s=t(62559);n.Z=(0,r.Z)((function(e){return(0,o.Z)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"300px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center"}})}))((function(e){var n=e.to,t=e.label,o=e.classes,r=e.className;return(0,s.jsxs)(i.rU,{to:n,className:"".concat(o.link," ").concat(r||""),children:[(0,s.jsx)("div",{className:o.icon,children:(0,s.jsx)(a.xN,{})}),(0,s.jsx)("div",{className:o.label,children:t})]})}))},53224:function(e,n,t){var i=t(18489),o=t(83738),r=(t(50390),t(70758)),a=t(62449),s=t(62559),l=["onClick","text","disabled","tooltip","icon"],c=(0,a.Z)((function(e){return{root:{padding:"7px",color:function(n){return function(n){var t=n.variant,i=n.color,o=e.palette.primary.main;return"primary"===i&&"contained"===t?o=e.palette.primary.contrastText:"primary"===i&&"outlined"===t?o=e.palette.primary.main:"secondary"===i&&(o=e.palette.secondary.main),o}(n)},borderColor:function(n){return"secondary"===n.color?e.palette.secondary.main:e.palette.primary.main},"& svg.min-icon":{width:12,marginLeft:function(e){return e.text?"5px":"0px"},"@media (max-width: 900px)":{width:16,marginLeft:"0px !important"}}}}}));n.Z=function(e){var n=c(e),t=e.onClick,a=e.text,d=void 0===a?"":a,u=e.disabled,m=void 0!==u&&u,p=e.tooltip,h=e.icon,x=void 0===h?null:h,f=(0,o.Z)(e,l);return(0,s.jsxs)(r.Z,(0,i.Z)((0,i.Z)({classes:n,tooltip:p||d,variant:"outlined",onClick:t,disabled:m,color:"secondary",size:"medium",sx:{border:"1px solid #f44336","& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}}}},f),{},{children:[(0,s.jsx)("span",{children:d})," ",x]}))}},70758:function(e,n,t){var i=t(18489),o=t(36222),r=t(83738),a=(t(50390),t(86509)),s=t(4285),l=t(95467),c=t(94187),d=t(44977),u=t(62559),m=["classes","children","variant","tooltip"];n.Z=(0,s.Z)((function(e){return(0,a.Z)({root:{padding:8,marginLeft:8,borderWidth:1,borderColor:"#696969",color:"#696969",borderStyle:"solid",borderRadius:3,"& .min-icon":{width:20},"& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.main,borderRadius:3,opacity:.3},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}},contained:{borderColor:e.palette.primary.main,background:e.palette.primary.main,color:"white","& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.dark,borderRadius:3,opacity:.3},"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"}}})}))((function(e){var n=e.classes,t=e.children,a=e.variant,s=void 0===a?"outlined":a,p=e.tooltip,h=(0,r.Z)(e,m),x=(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({},h),{},{className:(0,d.Z)(n.root,(0,o.Z)({},n.contained,"contained"===s)),children:t}));return p&&""!==p?(0,u.jsx)(c.Z,{title:p,children:(0,u.jsx)("span",{children:x})}):x}))},21639:function(e,n,t){var i=t(23430),o=t(50390),r=t(30324);n.Z=function(e,n){var t=(0,o.useState)(!1),a=(0,i.Z)(t,2),s=a[0],l=a[1];return[s,function(t,i,o){l(!0),r.Z.invoke(t,i,o).then((function(n){l(!1),e(n)})).catch((function(e){l(!1),n(e)}))}]}},25534:function(e,n,t){var i=t(18489),o=(t(50390),t(25594)),r=t(86509),a=t(4285),s=t(72462),l=t(62559);n.Z=(0,a.Z)((function(e){return(0,r.Z)((0,i.Z)({},s.Bw))}))((function(e){var n=e.classes,t=e.className,i=void 0===t?"":t,r=e.children;return(0,l.jsx)("div",{className:n.contentSpacer,children:(0,l.jsx)(o.ZP,{container:!0,children:(0,l.jsx)(o.ZP,{item:!0,xs:12,className:i,children:r})})})}))},60656:function(e,n,t){var i=t(18489),o=t(50390),r=t(84402),a=t(78426),s=t(93085),l=t(7887),c=t(66946),d=t(14476),u=t(95467),m=t(21278),p=t(86509),h=t(4285),x=t(72462),f=t(62559);n.Z=(0,h.Z)((function(e){return(0,p.Z)((0,i.Z)({},x.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,p=e.onClose,h=e.onCancel,x=e.onConfirm,Z=e.classes,g=void 0===Z?{}:Z,b=e.title,j=void 0===b?"":b,v=e.isLoading,y=e.confirmationContent,C=e.cancelText,N=void 0===C?"Cancel":C,S=e.confirmText,k=void 0===S?"Confirm":S,P=e.confirmButtonProps,E=void 0===P?{}:P,M=e.cancelButtonProps,R=void 0===M?{}:M,A=e.titleIcon,w=void 0===A?null:A;return(0,f.jsxs)(r.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&p()},className:g.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,f.jsxs)(a.Z,{className:g.title,children:[(0,f.jsxs)("div",{className:g.titleText,children:[w," ",j]}),(0,f.jsx)("div",{className:g.closeContainer,children:(0,f.jsx)(u.Z,{"aria-label":"close",className:g.closeButton,onClick:p,disableRipple:!0,size:"small",children:(0,f.jsx)(m.Z,{})})})]}),(0,f.jsx)(s.Z,{className:g.content,children:y}),(0,f.jsxs)(l.Z,{className:g.actions,children:[(0,f.jsx)(c.Z,(0,i.Z)((0,i.Z)({className:g.cancelButton,onClick:h||p,disabled:v,type:"button"},R),{},{variant:"outlined",color:"primary",children:N})),(0,f.jsx)(d.Z,(0,i.Z)((0,i.Z)({className:g.confirmButton,type:"button",onClick:x,loading:v,disabled:v,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,f.jsx)(o.Fragment,{}),autoFocus:!0},E),{},{children:k}))]})]})}))},35721:function(e,n,t){t(50390);var i=t(34424),o=t(56805),r=t(25594),a=t(86509),s=t(4285),l=t(35477),c=t(95467),d=t(26805),u=t(44078),m=t(5265),p=t(77138),h=t(62559),x={toggleList:m.kQ},f=(0,i.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),x);n.Z=f((0,s.Z)((function(e){return(0,a.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var n=e.classes,t=e.label,i=e.actions,a=e.sidebarOpen,s=e.operatorMode,m=e.managerObjects,x=e.toggleList;return(0,h.jsxs)(r.ZP,{container:!0,className:"".concat(n.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,h.jsx)(o.Z,{display:{xs:"block",sm:"block",md:"none"},children:(0,h.jsx)(r.ZP,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),(0,h.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:6,className:n.label,children:[!a&&(0,h.jsx)("div",{className:n.logo,children:s?(0,h.jsx)(d.Z,{}):(0,h.jsx)(u.Z,{})}),(0,h.jsx)(l.Z,{variant:"h4",className:n.labelStyle,children:t})]}),(0,h.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:6,className:n.rightMenu,children:[i&&i,m&&m.length>0&&(0,h.jsx)(c.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){x()},size:"large",children:(0,h.jsx)(p.gx,{})})]})]})})))},48122:function(e,n,t){t(50390);var i=t(86509),o=t(4285),r=t(62559);n.Z=(0,o.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,r.jsx)("h1",{className:n.root,children:t})}))},62702:function(e,n,t){t(50390);var i=t(25594),o=t(86509),r=t(4285),a=t(62559);n.Z=(0,r.Z)((function(e){return(0,o.Z)({headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},screenTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column"}},rightItems:{display:"flex",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.icon,o=e.title,r=e.subTitle,s=e.actions,l=e.className;return(0,a.jsx)(i.ZP,{container:!0,children:(0,a.jsxs)(i.ZP,{item:!0,xs:12,className:"".concat(n.screenTitle," ").concat(l||""),children:[(0,a.jsxs)("div",{className:n.leftItems,children:[t?(0,a.jsx)("div",{className:n.headerBarIcon,children:t}):null,(0,a.jsxs)("div",{className:n.titleColumn,children:[(0,a.jsx)("h1",{style:{margin:0},children:o}),(0,a.jsx)("span",{className:n.headerBarSubheader,children:r})]})]}),(0,a.jsx)("div",{className:n.rightItems,children:s})]})})}))},23165:function(e,n,t){var i=t(36222),o=t(18489),r=(t(50390),t(65771)),a=t(13336),s=t(12066),l=t(4285),c=t(86509),d=t(72462),u=t(62559);n.Z=(0,l.Z)((function(e){return(0,c.Z)({searchField:(0,o.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,o=e.classes,l=e.onChange,c=e.adornmentPosition,d=void 0===c?"end":c,m=e.overrideClass,p=(0,i.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(r.Z,{position:d,className:o.adornment,children:(0,u.jsx)(a.Z,{})}));return(0,u.jsx)(s.Z,{placeholder:t,className:m||o.searchField,id:"search-resource",label:"",InputProps:p,onChange:function(e){l(e.target.value)},variant:"standard"})}))},57647:function(e,n,t){var i=t(18489),o=t(23430),r=t(50390),a=t(56805),s=t(49044),l=t(97227),c=t(74564),d=t(669),u=t(4285),m=t(88669),p=t(86509),h=t(13512),x=t(62559),f={minHeight:60};n.Z=(0,u.Z)((function(e){return(0,p.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,u=e.selectedTab,p=void 0===u?"0":u,Z=e.routes,g=e.isRouteTabs,b=r.useState(p),j=(0,o.Z)(b,2),v=j[0],y=j[1],C=(0,m.Z)(),N=(0,h.Z)(C.breakpoints.down("md")),S=[],k=[];return n?(n.forEach((function(e){S.push(e.tabConfig),k.push(e.content)})),(0,x.jsx)(l.ZP,{value:"".concat(v),children:(0,x.jsxs)(a.Z,{className:t.tabsContainer,children:[(0,x.jsx)(a.Z,{className:t.tabsHeaderContainer,children:(0,x.jsx)(c.Z,{onChange:function(e,n){y(n)},orientation:N?"horizontal":"vertical",variant:N?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:S.map((function(e,n){return e?(0,x.jsx)(s.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:f},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,x.jsxs)(a.Z,{className:t.tabContentContainer,children:[g?null:k.map((function(e,n){return(0,x.jsx)(d.Z,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,x.jsx)("div",{className:t.tabPanel,children:Z}):null]})]})})):null}))},65284:function(e,n,t){t.r(n);var i=t(23430),o=(t(50390),t(34424)),r=t(23473),a=t(44149),s=t(60656),l=t(21639),c=t(77138),d=t(62559),u={setErrorSnackMessage:a.Ih},m=(0,o.$j)(null,u);n.default=m((function(e){var n=e.selectedGroup,t=e.deleteOpen,o=e.closeDeleteModalAndRefresh,a=e.setErrorSnackMessage,u=(0,l.Z)((function(){return o(!0)}),(function(e){return a(e)})),m=(0,i.Z)(u,2),p=m[0],h=m[1];if(!n)return null;return(0,d.jsx)(s.Z,{title:"Delete Group",confirmText:"Delete",isOpen:t,titleIcon:(0,d.jsx)(c.Nv,{}),isLoading:p,onConfirm:function(){h("DELETE","/api/v1/group?name=".concat(encodeURI(n)))},onClose:function(){return o(!1)},confirmationContent:(0,d.jsxs)(r.Z,{children:["Are you sure you want to delete group",(0,d.jsx)("br",{}),(0,d.jsx)("b",{children:n}),"?"]})})}))},39275:function(e,n,t){t.r(n),t.d(n,{default:function(){return K},formatPolicy:function(){return G},getPoliciesAsString:function(){return D}});var i=t(23430),o=t(18489),r=t(50390),a=t(70971),s=t(86509),l=t(72462),c=t(44149),d=t(34424),u=t(4285),m=t(25594),p=t(62702),h=t(77138),x=t(17777),f=t(24442),Z=t(30324),g=t(16549),b=t(71094),j=t(76352),v=t(50280),y=t(66946),C=t(62559),N={setModalErrorSnackMessage:c.zb},S=(0,d.$j)(null,N),k=(0,u.Z)((function(e){return(0,s.Z)((0,o.Z)((0,o.Z)((0,o.Z)({buttonContainer:{textAlign:"right",marginTop:"1rem"},userSelector:{"& .MuiPaper-root":{padding:0,marginBottom:15}}},l.ID),l.DF),l.oO))}))(S((function(e){var n=e.classes,t=e.title,o=void 0===t?"":t,a=e.groupStatus,s=void 0===a?"enabled":a,l=e.preSelectedUsers,d=void 0===l?[]:l,u=e.selectedGroup,p=void 0===u?"":u,x=e.open,f=e.onClose,g=(0,r.useState)(d),N=(0,i.Z)(g,2),S=N[0],k=N[1];return(0,C.jsxs)(j.Z,{modalOpen:x,onClose:f,title:o,titleIcon:(0,C.jsx)(h.Zm,{}),children:[(0,C.jsx)("div",{className:n.formFieldRow,children:(0,C.jsx)(v.Z,{label:"Selected Group",content:p})}),(0,C.jsx)("div",{className:n.userSelector,children:(0,C.jsx)(b.Z,{selectedUsers:S,setSelectedUsers:k,editMode:!p})}),(0,C.jsxs)(m.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,C.jsx)(y.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){k(d)},children:"Reset"}),(0,C.jsx)(y.Z,{type:"button",variant:"contained",color:"primary",onClick:function(){Z.Z.invoke("PUT","/api/v1/group?name=".concat(encodeURI(p)),{group:p,members:S,status:s}).then((function(e){f()})).catch((function(e){f(),(0,c.zb)(e)}))},children:"Save"})]})]})}))),P=t(65284),E=t(57647),M=t(92440),R=t(25534),A=t(29316),w=t(48122),B=t(23165),F=t(49495),I=t(15607),T=t(35721),U=t(6369),L=(0,u.Z)((function(e){return(0,s.Z)({breadcrumLink:{textDecoration:"none",color:"black"}})}))((function(e){var n=e.classes;return(0,C.jsx)(T.Z,{label:(0,C.jsx)(r.Fragment,{children:(0,C.jsx)(U.rU,{to:F.gA.GROUPS,className:n.breadcrumLink,children:"Groups"})}),actions:(0,C.jsx)(r.Fragment,{})})})),O=t(53224),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length<=0?[]:e.split(",")},D=function(e){return e.join(", ")},_={setErrorSnackMessage:c.Ih},z=(0,d.$j)(null,_),K=(0,u.Z)((function(e){return(0,s.Z)((0,o.Z)((0,o.Z)((0,o.Z)({pageContainer:{border:"1px solid #EAEAEA",width:"100%"},breadcrumLink:{textDecoration:"none",color:"black"},statusLabel:{fontSize:".8rem",marginRight:".7rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".7rem"},searchField:(0,o.Z)((0,o.Z)({},l.qg.searchField),{},{maxWidth:280})},l.VX),l.bK),{},{actionsTray:(0,o.Z)((0,o.Z)({},l.OR.actionsTray),{},{alignItems:"center","& h1":{flex:1},"& button":{marginLeft:".8rem"},"@media (max-width: 900px)":{justifyContent:"flex-end","& h1":{display:"none"},"& button":{whiteSpace:"nowrap",textOverflow:"ellipsis"}}})},(0,l.Bz)(e.spacing(4))))}))(z((function(e){var n=e.classes,t=(0,r.useState)({}),o=(0,i.Z)(t,2),s=o[0],l=o[1],d=(0,r.useState)(!1),u=(0,i.Z)(d,2),b=u[0],j=u[1],v=(0,r.useState)(!1),y=(0,i.Z)(v,2),N=y[0],S=y[1],T=(0,r.useState)(!1),U=(0,i.Z)(T,2),D=U[0],_=U[1],z=(0,r.useState)(""),K=(0,i.Z)(z,2),V=K[0],W=K[1],H=(0,a.UO)().groupName,$=void 0===H?"":H,X=s.members,q=void 0===X?[]:X,Q=s.policy,Y=void 0===Q?"":Q,J=s.status,ee=q.filter((function(e){return e.includes(V)}));(0,r.useEffect)((function(){$&&re()}),[$]);var ne=G(Y),te="enabled"===J,ie=q.length>0?"Edit Members":"Add Members",oe=(0,I.F)(F.C3,[F.Ft.ADMIN_GET_GROUP]);function re(){oe&&Z.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI($))).then((function(e){l(e)})).catch((function(e){(0,c.zb)(e),l({})}))}var ae=(0,C.jsxs)(r.Fragment,{children:[(0,C.jsxs)("div",{className:n.actionsTray,children:[(0,C.jsx)(w.Z,{children:"Members"}),(0,C.jsx)(B.Z,{placeholder:"Search members",onChange:function(e){W(e)},overrideClass:n.searchField}),(0,C.jsx)(I.Z,{resource:F.C3,scopes:[F.Ft.ADMIN_ADD_USER_TO_GROUP],errorProps:{disabled:!0},children:(0,C.jsx)(O.Z,{tooltip:ie,text:ie,variant:"contained",color:"primary",icon:(0,C.jsx)(h.dt,{}),onClick:function(){S(!0)}})})]}),(0,C.jsx)("div",{className:n.tableBlock,children:(0,C.jsx)(I.Z,{resource:F.C3,scopes:[F.Ft.ADMIN_LIST_USERS],errorProps:{disabled:!0},children:(0,C.jsx)(x.Z,{itemActions:[{type:"view",onClick:function(e){f.Z.push("".concat(F.gA.USERS_VIEW,"/").concat(e))}}],columns:[{label:"Access Key",elementKey:""}],selectedItems:[],isLoading:!1,records:ee,entityName:"Users",idField:""})})})]}),se=(0,C.jsxs)(r.Fragment,{children:[(0,C.jsxs)("div",{className:n.actionsTray,children:[(0,C.jsx)(w.Z,{children:"Policies"}),(0,C.jsx)(O.Z,{tooltip:"Set Policies",text:"Set Policies",variant:"contained",color:"primary",icon:(0,C.jsx)(h.v4,{}),onClick:function(){j(!0)}})]}),(0,C.jsx)("div",{className:n.tableBlock,children:(0,C.jsx)(x.Z,{itemActions:[{type:"view",onClick:function(e){f.Z.push("".concat(F.gA.POLICIES,"/").concat(e))}}],columns:[{label:"Policy",elementKey:""}],isLoading:!1,records:ne,entityName:"Policies",idField:""})})]});return(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(L,{}),(0,C.jsx)(A.Z,{to:F.gA.GROUPS,label:"Return to Groups"}),(0,C.jsxs)(R.Z,{className:n.pageContainer,children:[(0,C.jsx)(m.ZP,{item:!0,xs:12,children:(0,C.jsx)(p.Z,{icon:(0,C.jsx)(r.Fragment,{children:(0,C.jsx)(h.ww,{width:40})}),title:$,subTitle:null,actions:(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)("span",{className:n.statusLabel,children:"Group Status:"}),(0,C.jsx)("span",{id:"group-status",className:n.statusValue,children:te?"Enabled":"Disabled"}),(0,C.jsx)(I.Z,{resource:F.C3,scopes:[F.Ft.ADMIN_ENABLE_GROUP,F.Ft.ADMIN_DISABLE_GROUP],errorProps:{disabled:!0},matchAll:!0,children:(0,C.jsx)(M.Z,{indicatorLabels:["Enabled","Disabled"],checked:te,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;e=!te,Z.Z.invoke("PUT","/api/v1/group?name=".concat(encodeURI($)),{group:$,members:q,status:e?"enabled":"disabled"}).then((function(e){re()})).catch((function(e){(0,c.zb)(e)}))},switchOnly:!0})}),(0,C.jsx)(I.Z,{resource:F.C3,scopes:[F.Ft.ADMIN_REMOVE_USER_FROM_GROUP],errorProps:{disabled:!0},children:(0,C.jsx)("div",{className:n.spacerLeft,children:(0,C.jsx)(O.Z,{tooltip:"Delete Group",text:"",variant:"outlined",color:"secondary",icon:(0,C.jsx)(h.XH,{}),onClick:function(){_(!0)}})})})]})})}),(0,C.jsx)(m.ZP,{item:!0,xs:12,children:(0,C.jsxs)(E.Z,{children:[{tabConfig:{label:"Members"},content:ae},{tabConfig:{label:"Policies"},content:se}]})})]}),b?(0,C.jsx)(g.default,{open:b,selectedGroup:$,selectedUser:null,closeModalAndRefresh:function(){j(!1),re()}}):null,N?(0,C.jsx)(k,{selectedGroup:$,onSaveClick:function(){},title:ie,groupStatus:J,preSelectedUsers:q,open:N,onClose:function(){S(!1),re()}}):null,D&&(0,C.jsx)(P.default,{deleteOpen:D,selectedGroup:$,closeDeleteModalAndRefresh:function(e){_(!1),e&&f.Z.push(F.gA.GROUPS)}})]})})))},59176:function(e,n,t){var i=t(35531),o=t(23430),r=t(18489),a=t(50390),s=t(34424),l=t(86509),c=t(4285),d=t(81378),u=t(25594),m=t(25233),p=t(72462),h=t(44149),x=t(30324),f=t(17777),Z=t(23165),g=t(62559),b=(0,s.$j)(null,{setModalErrorSnackMessage:h.zb});n.Z=(0,c.Z)((function(e){return(0,l.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,r.Z)({},p.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},p.qg),p.VX),p.OR),p.jY))}))(b((function(e){var n=e.classes,t=e.selectedPolicy,r=void 0===t?[]:t,s=e.setSelectedPolicy,l=e.setModalErrorSnackMessage,c=(0,a.useState)([]),p=(0,o.Z)(c,2),h=p[0],b=p[1],j=(0,a.useState)(!1),v=(0,o.Z)(j,2),y=v[0],C=v[1],N=(0,a.useState)(""),S=(0,o.Z)(N,2),k=S[0],P=S[1],E=(0,a.useCallback)((function(){C(!0),x.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;C(!1),b(n.sort(m.g4))})).catch((function(e){C(!1),l(e)}))}),[l]);(0,a.useEffect)((function(){C(!0)}),[]),(0,a.useEffect)((function(){y&&E()}),[y,E]);var M=h.filter((function(e){return e.name.includes(k)}));return(0,g.jsx)(a.Fragment,{children:(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[y&&(0,g.jsx)(d.Z,{}),h.length>0?(0,g.jsxs)(a.Fragment,{children:[(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,g.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,g.jsx)("div",{className:n.searchBox,children:(0,g.jsx)(Z.Z,{placeholder:"Filter Policy",onChange:function(e){P(e)}})})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,g.jsx)(f.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,o=n.checked,a=(0,i.Z)(r);o?a.push(t):a=a.filter((function(e){return e!==t})),a=a.filter((function(e){return""!==e})),s(a)},selectedItems:r,isLoading:y,records:M,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,g.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})})))},16549:function(e,n,t){t.r(n);var i=t(23430),o=t(18489),r=t(50390),a=t(34424),s=t(38342),l=t.n(s),c=t(86509),d=t(4285),u=t(66946),m=t(81378),p=t(25594),h=t(72462),x=t(44149),f=t(76352),Z=t(30324),g=t(59176),b=t(50280),j=t(62559),v={setModalErrorSnackMessage:x.zb},y=(0,a.$j)(null,v);n.default=(0,d.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},h.oO),h.bK),{},{tableBlock:(0,o.Z)((0,o.Z)({},h.VX.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(y((function(e){var n=e.classes,t=e.closeModalAndRefresh,o=e.selectedUser,a=e.selectedGroup,s=e.setModalErrorSnackMessage,c=e.open,d=(0,r.useState)(!1),h=(0,i.Z)(d,2),x=h[0],v=h[1],y=(0,r.useState)([]),C=(0,i.Z)(y,2),N=C[0],S=C[1],k=(0,r.useState)([]),P=(0,i.Z)(k,2),E=P[0],M=P[1];(0,r.useEffect)((function(){if(c){if(null!==a)return void(a&&Z.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(a))).then((function(e){var n=l()(e,"policy","");S(n.split(",")),M(n.split(","))})).catch((function(e){s(e),v(!1)})));var e=l()(o,"policy",[]);S(e),M(e)}}),[c,a,o]);var R=l()(o,"accessKey","");return(0,j.jsxs)(f.Z,{onClose:function(){t()},modalOpen:c,title:"Set Policies",children:[(0,j.jsx)(p.ZP,{item:!0,xs:12,children:(0,j.jsx)(b.Z,{label:"Selected ".concat(null!==a?"Group":"User"),content:null!==a?a:R})}),(0,j.jsx)(p.ZP,{item:!0,xs:12,children:(0,j.jsx)(b.Z,{label:"Current Policy",content:N.join(", ")})}),(0,j.jsx)("div",{className:n.tableBlock,children:(0,j.jsx)(g.Z,{selectedPolicy:E,setSelectedPolicy:M})}),(0,j.jsxs)(p.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,j.jsx)(u.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){M(N)},children:"Reset"}),(0,j.jsx)(u.Z,{type:"button",variant:"contained",color:"primary",disabled:x,onClick:function(){var e="user",n=null;null!==a?(e="group",n=a):null!==o&&(n=o.accessKey),v(!0),Z.Z.invoke("PUT","/api/v1/set-policy",{name:E,entityName:n,entityType:e}).then((function(){v(!1),t()})).catch((function(e){v(!1),s(e)}))},children:"Save"})]}),x&&(0,j.jsx)(p.ZP,{item:!0,xs:12,children:(0,j.jsx)(m.Z,{})})]})})))},25233:function(e,n,t){t.d(n,{LQ:function(){return i},g4:function(){return o},V2:function(){return r}});var i=function(e,n){return e.accessKey>n.accessKey?1:e.accessKey<n.accessKey?-1:0},o=function(e,n){return e.name>n.name?1:e.name<n.name?-1:0},r=function(e,n){return e>n?1:e<n?-1:0}}}]);
//# sourceMappingURL=9275.88b67222.chunk.js.map