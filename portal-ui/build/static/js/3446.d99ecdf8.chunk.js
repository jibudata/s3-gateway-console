(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3446],{21435:function(e,t,a){"use strict";var n=a(29439),o=a(1413),c=a(72791),l=a(27391),s=a(61889),r=a(30829),i=a(20068),d=a(13400),u=a(20165),h=a(3579),p=a(11135),x=a(72455),f=a(25787),m=a(23814),b=a(29945),v=a(28182),g=a(80184),Z=(0,x.Z)((function(e){return(0,p.Z)((0,o.Z)({},m.gM))}));function C(e){var t=Z();return(0,g.jsx)(l.Z,(0,o.Z)({InputProps:{classes:t}},e))}t.Z=(0,f.Z)((function(e){return(0,p.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},m.YI),m.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,l=e.value,p=e.id,x=e.name,f=e.type,m=void 0===f?"text":f,Z=e.autoComplete,k=void 0===Z?"off":Z,j=e.disabled,y=void 0!==j&&j,w=e.multiline,I=void 0!==w&&w,S=e.tooltip,N=void 0===S?"":S,_=e.index,F=void 0===_?0:_,z=e.error,T=void 0===z?"":z,L=e.required,P=void 0!==L&&L,A=e.placeholder,M=void 0===A?"":A,O=e.min,E=e.max,W=e.overlayId,B=e.overlayIcon,R=void 0===B?null:B,K=e.overlayObject,D=void 0===K?null:K,H=e.extraInputProps,V=void 0===H?{}:H,U=e.overlayAction,q=e.noLabelMinWidth,G=void 0!==q&&q,J=e.pattern,X=void 0===J?"":J,Y=e.autoFocus,Q=void 0!==Y&&Y,$=e.classes,ee=e.className,te=void 0===ee?"":ee,ae=e.onKeyPress,ne=e.onFocus,oe=e.onPaste,ce=(0,o.Z)({"data-index":F},V),le=(0,c.useState)(!1),se=(0,n.Z)(le,2),re=se[0],ie=se[1];"number"===m&&O&&(ce.min=O),"number"===m&&E&&(ce.max=E),""!==X&&(ce.pattern=X);var de=R,ue=m;return"password"===m&&null===R&&(de=re?(0,g.jsx)(u.Z,{}):(0,g.jsx)(h.Z,{}),ue=re?"text":"password"),(0,g.jsx)(c.Fragment,{children:(0,g.jsxs)(s.ZP,{container:!0,className:(0,v.Z)(""!==te?te:"",""!==T?$.errorInField:$.inputBoxContainer),children:[""!==t&&(0,g.jsxs)(r.Z,{htmlFor:p,className:G?$.noMinWidthLabel:$.inputLabel,children:[(0,g.jsxs)("span",{children:[t,P?"*":""]}),""!==N&&(0,g.jsx)("div",{className:$.tooltipContainer,children:(0,g.jsx)(i.Z,{title:N,placement:"top-start",children:(0,g.jsx)("div",{className:$.tooltip,children:(0,g.jsx)(b.byK,{})})})})]}),(0,g.jsxs)("div",{className:$.textBoxContainer,children:[(0,g.jsx)(C,{id:p,name:x,fullWidth:!0,value:l,autoFocus:Q,disabled:y,onChange:a,type:ue,multiline:I,autoComplete:k,inputProps:ce,error:""!==T,helperText:T,placeholder:M,className:$.inputRebase,onKeyPress:ae,onFocus:ne,onPaste:oe}),de&&(0,g.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==t?"withLabel":""),children:(0,g.jsx)(d.Z,{onClick:U?function(){U()}:function(){return ie(!re)},id:W,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:de})}),D&&(0,g.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==t?"withLabel":""),children:D})]})]})})}))},59121:function(e,t,a){"use strict";a.r(t);var n=a(29439),o=a(1413),c=a(72791),l=a(99779),s=a(61889),r=a(64554),i=a(95087),d=a(29945),u=a(81551),h=a(78687),p=a(11135),x=a(25787),f=a(45248),m=a(26824),b=a(23814),v=a(92983),g=a(34866),Z=a(21435),C=a(5172),k=a(27454),j=a(47974),y=a(27559),w=a(87995),I=a(80184),S=null;t.default=(0,x.Z)((function(e){return(0,p.Z)((0,o.Z)((0,o.Z)((0,o.Z)({sizeItem:{width:150},timeItem:{width:100}},b.OR),b.VX),{},{tableWrapper:{height:"calc(100vh - 292px)"},formBox:{border:"1px solid #EAEAEA",padding:25,marginBottom:15},traceCheckedIcon:{width:"14px",height:"14px",marginLeft:"0px"},unCheckedIcon:{width:"14px",height:"14px"}},b.Bz))}))((function(e){var t=e.classes,a=(0,u.TL)(),o=(0,h.v9)((function(e){return e.trace.messages})),p=(0,h.v9)((function(e){return e.trace.traceStarted})),x=(0,c.useState)(""),b=(0,n.Z)(x,2),N=b[0],_=b[1],F=(0,c.useState)(""),z=(0,n.Z)(F,2),T=z[0],L=z[1],P=(0,c.useState)(""),A=(0,n.Z)(P,2),M=A[0],O=A[1],E=(0,c.useState)(""),W=(0,n.Z)(E,2),B=W[0],R=W[1],K=(0,c.useState)(0),D=(0,n.Z)(K,2),H=D[0],V=D[1],U=(0,c.useState)(!1),q=(0,n.Z)(U,2),G=q[0],J=q[1],X=(0,c.useState)(!0),Y=(0,n.Z)(X,2),Q=Y[0],$=Y[1],ee=(0,c.useState)(!1),te=(0,n.Z)(ee,2),ae=te[0],ne=te[1],oe=(0,c.useState)(!1),ce=(0,n.Z)(oe,2),le=ce[0],se=ce[1],re=(0,c.useState)(!1),ie=(0,n.Z)(re,2),de=ie[0],ue=ie[1],he=(0,c.useState)(!1),pe=(0,n.Z)(he,2),xe=pe[0],fe=pe[1],me=(0,c.useState)(!1),be=(0,n.Z)(me,2),ve=be[0],ge=be[1];return(0,c.useEffect)((function(){a((0,w.Sc)("trace"))}),[]),(0,I.jsxs)(c.Fragment,{children:[(0,I.jsx)(j.Z,{label:"Trace",actions:(0,I.jsx)(y.Z,{})}),(0,I.jsx)(d.Xgh,{children:(0,I.jsxs)(s.ZP,{container:!0,spacing:1,className:t.formBox,children:[(0,I.jsxs)(s.ZP,{item:!0,xs:12,sx:{display:"flex",flexFlow:"column","& .trace-checkbox-label":{fontSize:"14px",fontWeight:"normal"}},children:[(0,I.jsx)(r.Z,{sx:{fontSize:"16px",fontWeight:600,padding:"20px 0px 20px 0"},children:"Calls to Trace"}),(0,I.jsxs)(r.Z,{className:"".concat(p?"inactive-state":""),sx:{display:"flex",alignItems:"center",justifyContent:"space-between","&.inactive-state .trace-checkbox-label":{color:"#a6a5a5"}},children:[(0,I.jsxs)(r.Z,{sx:{display:"flex",flexFlow:"row",gap:{md:"30px"},"& .trace-checked-icon":{border:"1px solid red"}},children:[(0,I.jsx)(g.Z,{checked:G,id:"all_calls",name:"all_calls",label:"All",onChange:function(e){J(e.target.checked)},value:"all",disabled:p,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}}),(0,I.jsx)(g.Z,{checked:Q||G,id:"s3_calls",name:"s3_calls",label:"S3",onChange:function(e){$(e.target.checked)},value:"s3",disabled:p,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}}),(0,I.jsx)(g.Z,{checked:ae||G,id:"internal_calls",name:"internal_calls",label:"Internal",onChange:function(e){ne(e.target.checked)},value:"internal",disabled:G||p,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}}),(0,I.jsx)(g.Z,{checked:le||G,id:"storage_calls",name:"storage_calls",label:"Storage",onChange:function(e){se(e.target.checked)},value:"storage",disabled:G||p,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}}),(0,I.jsx)(g.Z,{checked:de||G,id:"os_calls",name:"os_calls",label:"OS",onChange:function(e){ue(e.target.checked)},value:"os",disabled:G||p,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}})]}),(0,I.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"15px"},children:[(0,I.jsx)(k.Z,{tooltip:"More filter options",children:(0,I.jsx)(d.zxk,{id:"filter-toggle",onClick:function(){ge(!ve)},label:"Filters",icon:(0,I.jsx)(d.k1n,{}),variant:"regular",className:"filters-toggle-button",style:{width:"118px",background:ve?"rgba(8, 28, 66, 0.04)":""}})}),!p&&(0,I.jsx)(d.zxk,{id:"start-trace",label:"Start","data-test-id":"trace-start-button",variant:"callAction",onClick:function(){a((0,C.At)());var e=new URL(window.location.toString()),t=e.port,n="".concat(Q?"s3,":"").concat(ae?"internal,":"").concat(le?"storage,":"").concat(de?"os,":"");G&&(n="all");var o=new URL(document.baseURI).pathname,c=(0,m.x2)(e.protocol);S=new i.w3cwebsocket("".concat(c,"://").concat(e.hostname,":").concat(t).concat(o,"ws/trace?calls=").concat(n,"&threshold=").concat(H,"&onlyErrors=").concat(xe?"yes":"no","&statusCode=").concat(N,"&method=").concat(T,"&funcname=").concat(M,"&path=").concat(B));var s=null;if(null!==S)return S.onopen=function(){console.log("WebSocket Client Connected"),a((0,C.qv)(!0)),S.send("ok"),s=setInterval((function(){S.send("ok")}),1e4)},S.onmessage=function(e){var t=JSON.parse(e.data.toString());t.ptime=l.ou.fromISO(t.time).toJSDate(),t.key=Math.random(),a((0,C.ho)(t))},S.onclose=function(){clearInterval(s),console.log("connection closed by server"),a((0,C.qv)(!1))},function(){S.close(1e3),clearInterval(s),console.log("closing websockets"),(0,C.qv)(!1)}},style:{width:"118px"}}),p&&(0,I.jsx)(d.zxk,{id:"stop-trace",label:"Stop Trace","data-test-id":"trace-stop-button",variant:"callAction",onClick:function(){S.close(1e3),a((0,C.qv)(!1))},style:{width:"118px"}})]})]})]}),ve?(0,I.jsxs)(s.ZP,{item:!0,className:"".concat(p?"inactive-state":""),xs:12,sx:{marginTop:"25px",display:"flex",flexFlow:"column",background:"#FBFAFA",padding:"30px","&.inactive-state label":{color:"#a6a5a5"},"& .orient-vertical":{flexFlow:"column","& label":{marginBottom:"10px",fontWeight:600}},"& .trace-checkbox-label":{fontSize:"14px",fontWeight:"normal"}},children:[(0,I.jsxs)(r.Z,{sx:{gap:"30px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",width:"100%"},children:[(0,I.jsx)(Z.Z,{className:"orient-vertical",id:"trace-status-code",name:"trace-status-code",label:"Status Code",classes:{},placeholder:"e.g. 503",value:N,onChange:function(e){_(e.target.value)},disabled:p}),(0,I.jsx)(Z.Z,{className:"orient-vertical",id:"trace-function-name",name:"trace-function-name",label:"Function Name",classes:{},placeholder:"e.g. FunctionName2055",value:M,onChange:function(e){O(e.target.value)},disabled:p}),(0,I.jsx)(Z.Z,{className:"orient-vertical",id:"trace-method",name:"trace-method",label:"Method",classes:{},placeholder:"e.g. Method 2056",value:T,onChange:function(e){L(e.target.value)},disabled:p})]}),(0,I.jsxs)(r.Z,{sx:{gap:"30px",display:"grid",gridTemplateColumns:"2fr 1fr",width:"100%",marginTop:"33px"},children:[(0,I.jsx)(r.Z,{flex:"2",style:{width:"calc( 100% + 10px)"},children:(0,I.jsx)(Z.Z,{className:"orient-vertical",id:"trace-path",name:"trace-path",label:"Path",classes:{},placeholder:"e.g. my-bucket/my-prefix/*",value:B,onChange:function(e){R(e.target.value)},disabled:p})}),(0,I.jsx)(r.Z,{sx:{marginLeft:"15px"},children:(0,I.jsx)(Z.Z,{className:"orient-vertical",id:"trace-fthreshold",name:"trace-fthreshold",label:"Response Threshold",type:"number",classes:{},placeholder:"e.g. website.io.3249.114.12",value:"".concat(H),onChange:function(e){V(parseInt(e.target.value))},disabled:p})})]}),(0,I.jsx)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:"40px"},children:(0,I.jsx)(g.Z,{checked:xe,id:"only_errors",name:"only_errors",label:"Display only Errors",onChange:function(e){fe(e.target.checked)},value:"only_errors",disabled:p,overrideLabelClasses:"trace-checkbox-label",classes:{checkedIcon:t.traceCheckedIcon,unCheckedIcon:t.unCheckedIcon}})})]}):null,(0,I.jsx)(s.ZP,{item:!0,xs:12,children:(0,I.jsx)(r.Z,{sx:{fontSize:"16px",fontWeight:600,marginBottom:"30px",marginTop:"30px"},children:"Trace Results"})}),(0,I.jsx)(s.ZP,{item:!0,xs:12,className:t.tableBlock,children:(0,I.jsx)(v.Z,{itemActions:[],columns:[{label:"Time",elementKey:"ptime",renderFunction:function(e){var t=new Date(e);return(0,f.zk)(t)},globalClass:t.timeItem},{label:"Name",elementKey:"api"},{label:"Status",elementKey:"",renderFunction:function(e){return"".concat(e.statusCode," ").concat(e.statusMsg)},renderFullObject:!0},{label:"Location",elementKey:"configuration_id",renderFunction:function(e){return"".concat(e.host," ").concat(e.client)},renderFullObject:!0},{label:"Load Time",elementKey:"callStats.duration",globalClass:t.timeItem},{label:"Upload",elementKey:"callStats.rx",renderFunction:f.ae,globalClass:t.sizeItem},{label:"Download",elementKey:"callStats.tx",renderFunction:f.ae,globalClass:t.sizeItem}],isLoading:!1,records:o,entityName:"Traces",idField:"api",customEmptyMessage:p?"No Traced elements received yet":"Trace is not started yet",customPaperHeight:t.tableWrapper,autoScrollToBottom:!0})})]})})]})}))},26824:function(e,t,a){"use strict";a.d(t,{HE:function(){return c},V9:function(){return n},ci:function(){return o},x2:function(){return l}});var n=1006,o=1008,c=1011,l=function(e){var t="ws";return"https:"===e&&(t="wss"),t}},26759:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var o=n(a(45649)),c=a(80184),l=(0,o.default)((0,c.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=l},70366:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var o=n(a(45649)),c=a(80184),l=(0,o.default)((0,c.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");t.Z=l},3579:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var o=n(a(45649)),c=a(80184),l=(0,o.default)((0,c.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");t.Z=l},97911:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var o=n(a(45649)),c=a(80184),l=(0,o.default)((0,c.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");t.Z=l},20165:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var o=n(a(45649)),c=a(80184),l=(0,o.default)((0,c.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.Z=l},94210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},26769:function(e,t,a){var n=a(39066),o=a(93629),c=a(43141);e.exports=function(e){return"string"==typeof e||!o(e)&&c(e)&&"[object String]"==n(e)}},95087:function(e,t,a){var n;if("object"===typeof globalThis)n=globalThis;else try{n=a(94210)}catch(s){}finally{if(n||"undefined"===typeof window||(n=window),!n)throw new Error("Could not determine global this")}var o=n.WebSocket||n.MozWebSocket,c=a(51496);function l(e,t){return t?new o(e,t):new o(e)}o&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(l,e,{get:function(){return o[e]}})})),e.exports={w3cwebsocket:o?l:null,version:c}},51496:function(e,t,a){e.exports=a(19794).version},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=3446.d99ecdf8.chunk.js.map