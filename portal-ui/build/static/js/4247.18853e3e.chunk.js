(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4247],{25534:function(e,t,n){"use strict";var i=n(18489),o=(n(50390),n(25594)),r=n(86509),a=n(4285),s=n(72462),c=n(62559);t.Z=(0,a.Z)((function(e){return(0,r.Z)((0,i.Z)({},s.Bw))}))((function(e){var t=e.classes,n=e.className,i=void 0===n?"":n,r=e.children;return(0,c.jsx)("div",{className:t.contentSpacer,children:(0,c.jsx)(o.ZP,{container:!0,children:(0,c.jsx)(o.ZP,{item:!0,xs:12,className:i,children:r})})})}))},35721:function(e,t,n){"use strict";n(50390);var i=n(34424),o=n(56805),r=n(25594),a=n(86509),s=n(4285),c=n(35477),l=n(95467),u=n(26805),d=n(44078),f=n(5265),p=n(77138),b=n(62559),m={toggleList:f.kQ},g=(0,i.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),m);t.Z=g((0,s.Z)((function(e){return(0,a.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var t=e.classes,n=e.label,i=e.actions,a=e.sidebarOpen,s=e.operatorMode,f=e.managerObjects,m=e.toggleList;return(0,b.jsxs)(r.ZP,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,b.jsx)(o.Z,{display:{xs:"block",sm:"block",md:"none"},children:(0,b.jsx)(r.ZP,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),(0,b.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:6,className:t.label,children:[!a&&(0,b.jsx)("div",{className:t.logo,children:s?(0,b.jsx)(u.Z,{}):(0,b.jsx)(d.Z,{})}),(0,b.jsx)(c.Z,{variant:"h4",className:t.labelStyle,children:n})]}),(0,b.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:6,className:t.rightMenu,children:[i&&i,f&&f.length>0&&(0,b.jsx)(l.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){m()},size:"large",children:(0,b.jsx)(p.gx,{})})]})]})})))},79661:function(e,t,n){"use strict";n.r(t);var i=n(23430),o=n(18489),r=n(50390),a=n(46413),s=n(25594),c=n(47554),l=n(43965),u=n(31680),d=n(12066),f=n(66946),p=n(69686),b=n(34424),m=n(86509),g=n(4285),h=n(49255),v=n(28948),Z=n(51774),x=n(72462),y=n(17777),w=n(35721),j=n(30324),k=n(25534),C=n(62559),S=(0,g.Z)((function(e){return(0,m.Z)({root:{lineHeight:"50px","label + &":{marginTop:e.spacing(3)},"& .MuiSelect-select:focus":{backgroundColor:"transparent"}},input:{height:50,fontSize:13,lineHeight:"50px"}})}))(a.ZP),O=(0,b.$j)((function(e){return{messages:e.watch.messages}}),{watchMessageReceived:h.pG,watchResetMessages:h.uE});t.default=O((0,g.Z)((function(e){return(0,m.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({searchPrefix:{flexGrow:1,marginLeft:15},watchTableHeight:{height:"calc(100vh - 270px)"},bucketField:{flexGrow:2,minWidth:200}},x.VX),x.OR),x.qg),(0,x.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,n=e.watchMessageReceived,o=e.watchResetMessages,a=e.messages,b=(0,r.useState)(!1),m=(0,i.Z)(b,2),g=m[0],h=m[1],x=(0,r.useState)("Select Bucket"),O=(0,i.Z)(x,2),P=O[0],M=O[1],N=(0,r.useState)(""),T=(0,i.Z)(N,2),I=T[0],F=T[1],_=(0,r.useState)(""),L=(0,i.Z)(_,2),E=L[0],G=L[1],R=(0,r.useState)([]),V=(0,i.Z)(R,2),B=V[0],z=V[1];(0,r.useEffect)((function(){j.Z.invoke("GET","/api/v1/buckets").then((function(e){var t=[];null!==e.buckets&&(t=e.buckets),z(t)})).catch((function(e){console.log(e)}))}),[]),(0,r.useEffect)((function(){if(o(),g&&B.some((function(e){return e.name===P}))){var e=new URL(window.location.toString()),t=e.port,i=(0,Z.x2)(e.protocol),r=new p.w3cwebsocket("".concat(i,"://").concat(e.hostname,":").concat(t,"/ws/watch/").concat(P,"?prefix=").concat(I,"&suffix=").concat(E)),a=null;if(null!==r)return r.onopen=function(){console.log("WebSocket Client Connected"),r.send("ok"),a=setInterval((function(){r.send("ok")}),1e4)},r.onmessage=function(e){var t=JSON.parse(e.data.toString());t.Time=new Date(t.Time.toString()),t.key=Math.random(),n(t)},r.onclose=function(){clearInterval(a),console.log("connection closed by server"),h(!1)},function(){r.close(1e3),clearInterval(a),console.log("closing websockets")}}else h(!1)}),[n,g,B,P,I,E,o]);var H=B.map((function(e){return{label:e.name,value:e.name}}));return(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(w.Z,{label:"Watch"}),(0,C.jsx)(k.Z,{children:(0,C.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,C.jsxs)(s.ZP,{item:!0,xs:12,className:t.actionsTray,children:[(0,C.jsx)(c.Z,{variant:"outlined",className:t.bucketField,children:(0,C.jsxs)(l.Z,{id:"bucket-name",name:"bucket-name",value:P,onChange:function(e){M(e.target.value)},className:t.searchField,disabled:g,input:(0,C.jsx)(S,{}),children:[(0,C.jsx)(u.Z,{value:P,disabled:!0,children:"Select Bucket"},"select-bucket-name-default"),H.map((function(e){return(0,C.jsx)(u.Z,{value:e.value,children:e.label},"select-bucket-name-".concat(e.label))}))]})}),(0,C.jsx)(d.Z,{className:"".concat(t.searchField," ").concat(t.searchPrefix),id:"prefix-resource",label:"Prefix",disabled:g,InputProps:{disableUnderline:!0},onChange:function(e){F(e.target.value)},variant:"standard"}),(0,C.jsx)(d.Z,{className:"".concat(t.searchField," ").concat(t.searchPrefix),id:"suffix-resource",label:"Suffix",disabled:g,InputProps:{disableUnderline:!0},onChange:function(e){G(e.target.value)},variant:"standard"}),(0,C.jsx)(f.Z,{type:"submit",variant:"contained",color:"primary",disabled:g,onClick:function(){return h(!0)},children:"Start"})]}),(0,C.jsx)("div",{className:t.tableBlock,children:(0,C.jsx)(y.Z,{columns:[{label:"Time",elementKey:"Time",renderFunction:v.zk},{label:"Size",elementKey:"Size",renderFunction:v.ae},{label:"Type",elementKey:"Type"},{label:"Path",elementKey:"Path"}],records:a,entityName:"Watch",customEmptyMessage:"No Changes at this time",idField:"watch_table",isLoading:!1,customPaperHeight:t.watchTableHeight})})]})})]})})))},51774:function(e,t,n){"use strict";n.d(t,{V9:function(){return i},ci:function(){return o},HE:function(){return r},x2:function(){return a}});var i=1006,o=1008,r=1011,a=function(e){var t="ws";return"https:"===e&&(t="wss"),t}},4247:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var i=n(10594);function o(e){return(0,i.Z)("MuiDivider",e)}var r=(0,n(43349).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=r},31680:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var i=n(36222),o=n(1048),r=n(32793),a=n(50390),s=n(44977),c=n(50076),l=n(36128),u=n(8208),d=n(15573),f=n(57308),p=n(86875),b=n(40839),m=n(3299),g=n(4247),h=n(2198),v=n(23586),Z=n(10594);function x(e){return(0,Z.Z)("MuiMenuItem",e)}var y=(0,n(43349).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),w=n(62559),j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],k=(0,u.ZP)(p.Z,{shouldForwardProp:function(e){return(0,u.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,o=e.ownerState;return(0,r.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,i.Z)(t,"&.".concat(y.selected),(0,i.Z)({backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(y.focusVisible),{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,i.Z)(t,"&.".concat(y.selected,":hover"),{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,i.Z)(t,"&.".concat(y.focusVisible),{backgroundColor:n.palette.action.focus}),(0,i.Z)(t,"&.".concat(y.disabled),{opacity:n.palette.action.disabledOpacity}),(0,i.Z)(t,"& + .".concat(g.Z.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,i.Z)(t,"& + .".concat(g.Z.inset),{marginLeft:52}),(0,i.Z)(t,"& .".concat(v.Z.root),{marginTop:0,marginBottom:0}),(0,i.Z)(t,"& .".concat(v.Z.inset),{paddingLeft:36}),(0,i.Z)(t,"& .".concat(h.Z.root),{minWidth:36}),t),!o.dense&&(0,i.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),o.dense&&(0,r.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,i.Z)({},"& .".concat(h.Z.root," svg"),{fontSize:"1.25rem"})))})),C=a.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiMenuItem"}),i=n.autoFocus,l=void 0!==i&&i,u=n.component,p=void 0===u?"li":u,g=n.dense,h=void 0!==g&&g,v=n.divider,Z=void 0!==v&&v,y=n.disableGutters,C=void 0!==y&&y,S=n.focusVisibleClassName,O=n.role,P=void 0===O?"menuitem":O,M=n.tabIndex,N=(0,o.Z)(n,j),T=a.useContext(f.Z),I={dense:h||T.dense||!1,disableGutters:C},F=a.useRef(null);(0,b.Z)((function(){l&&F.current&&F.current.focus()}),[l]);var _,L=(0,r.Z)({},n,{dense:I.dense,divider:Z,disableGutters:C}),E=function(e){var t=e.disabled,n=e.dense,i=e.divider,o=e.disableGutters,a=e.selected,s=e.classes,l={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",i&&"divider",a&&"selected"]},u=(0,c.Z)(l,x,s);return(0,r.Z)({},s,u)}(n),G=(0,m.Z)(F,t);return n.disabled||(_=void 0!==M?M:-1),(0,w.jsx)(f.Z.Provider,{value:I,children:(0,w.jsx)(k,(0,r.Z)({ref:G,role:P,tabIndex:_,component:p,focusVisibleClassName:(0,s.Z)(E.focusVisible,S)},N,{ownerState:L,classes:E}))})}))},3930:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},69686:function(e,t,n){var i;if("object"===typeof globalThis)i=globalThis;else try{i=n(3930)}catch(s){}finally{if(i||"undefined"===typeof window||(i=window),!i)throw new Error("Could not determine global this")}var o=i.WebSocket||i.MozWebSocket,r=n(84994);function a(e,t){return t?new o(e,t):new o(e)}o&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(a,e,{get:function(){return o[e]}})})),e.exports={w3cwebsocket:o?a:null,version:r}},84994:function(e,t,n){e.exports=n(19794).version},83738:function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{Z:function(){return i}})},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=4247.18853e3e.chunk.js.map