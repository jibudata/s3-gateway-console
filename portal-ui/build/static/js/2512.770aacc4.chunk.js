"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2512],{32512:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var i=n(93433),a=n(29439),l=n(1413),s=n(72791),o=n(78687),r=n(29945),c=n(11135),d=n(25787),u=n(61889),p=n(23814),h=n(38442),x=n(56087),m=n(81207),f=n(92983),Z=n(60680),v=n(75578),g=n(56028),b=n(21435),j=n(17420),N=n(64163),S=n(81159),C=n(87995),R=n(81551),y=n(31776),k=n(82342),P=n(80184),F=(0,d.Z)((function(e){return(0,c.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},p.bK),p.QV),p.DF),p.ID),{},{modalFormScrollable:(0,l.Z)((0,l.Z)({},p.ID.modalFormScrollable),{},{paddingRight:10})}))}))((function(e){var t=e.closeModalAndRefresh,n=e.open,i=e.classes,l=e.bucketName,o=e.ruleID,c=(0,R.TL)(),d=(0,s.useState)(!0),p=(0,a.Z)(d,2),h=p[0],x=p[1],m=(0,s.useState)(!1),f=(0,a.Z)(m,2),Z=f[0],v=f[1],F=(0,s.useState)("1"),I=(0,a.Z)(F,2),A=I[0],T=I[1],w=(0,s.useState)(""),O=(0,a.Z)(w,2),E=O[0],_=O[1],D=(0,s.useState)(""),L=(0,a.Z)(D,2),B=L[0],M=L[1],U=(0,s.useState)(!1),G=(0,a.Z)(U,2),z=G[0],K=G[1],H=(0,s.useState)(!1),W=(0,a.Z)(H,2),Y=W[0],V=W[1],q=(0,s.useState)(""),$=(0,a.Z)(q,2),X=$[0],Q=$[1],J=(0,s.useState)(""),ee=(0,a.Z)(J,2),te=ee[0],ne=ee[1],ie=(0,s.useState)(""),ae=(0,a.Z)(ie,2),le=ae[0],se=ae[1],oe=(0,s.useState)(!1),re=(0,a.Z)(oe,2),ce=re[0],de=re[1],ue=(0,s.useState)(!1),pe=(0,a.Z)(ue,2),he=pe[0],xe=pe[1],me=(0,s.useState)(!1),fe=(0,a.Z)(me,2),Ze=fe[0],ve=fe[1];return(0,s.useEffect)((function(){h&&y.h.buckets.getBucketReplicationRule(l,o).then((function(e){var t;T(e.data.priority?e.data.priority.toString():"");var n=e.data.prefix||"",i=e.data.tags||"";M(n),Q(i),ne(i),_((null===(t=e.data.destination)||void 0===t?void 0:t.bucket)||""),K(e.data.delete_marker_replication||!1),se(e.data.storageClass||""),de(!!e.data.existingObjects),xe(!!e.data.deletes_replication),ve("Enabled"===e.data.status),V(!!e.data.metadata_replication),x(!1)})).catch((function(e){c((0,C.zb)((0,k.g)(e.error))),x(!1)}))}),[h,c,l,o]),(0,s.useEffect)((function(){if(Z){var e={arn:E,ruleState:Ze,prefix:B,tags:te,replicateDeleteMarkers:z,replicateDeletes:he,replicateExistingObjects:ce,replicateMetadata:Y,priority:parseInt(A),storageClass:le};y.h.buckets.updateMultiBucketReplication(l,o,e).then((function(){v(!1),t(!0)})).catch((function(e){c((0,C.zb)((0,k.g)(e.error))),v(!1)}))}}),[Z,l,o,E,B,te,z,A,he,ce,Ze,Y,le,t,c]),(0,P.jsx)(g.Z,{modalOpen:n,onClose:function(){t(!1)},title:"Edit Bucket Replication",titleIcon:(0,P.jsx)(r.xRg,{}),children:(0,P.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),v(!0)},children:(0,P.jsxs)(u.ZP,{container:!0,children:[(0,P.jsxs)(u.ZP,{item:!0,xs:12,className:i.modalFormScrollable,children:[(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(S.Z,{checked:Ze,id:"ruleState",name:"ruleState",label:"Rule State",onChange:function(e){ve(e.target.checked)},value:Ze})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(N.Z,{label:"Destination",content:E})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(b.Z,{id:"priority",name:"priority",onChange:function(e){e.target.validity.valid&&T(e.target.value)},label:"Priority",value:A,pattern:"[0-9]*"})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:"".concat(i.spacerTop," ").concat(i.formFieldRow),children:(0,P.jsx)(b.Z,{id:"storageClass",name:"storageClass",onChange:function(e){se(e.target.value)},placeholder:"STANDARD_IA,REDUCED_REDUNDANCY etc",label:"Storage Class",value:le})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsxs)("fieldset",{className:i.fieldGroup,children:[(0,P.jsx)("legend",{className:i.descriptionText,children:"Object Filters"}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(b.Z,{id:"prefix",name:"prefix",onChange:function(e){M(e.target.value)},placeholder:"prefix",label:"Prefix",value:B})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(j.Z,{name:"tags",label:"Tags",elements:X,onChange:function(e){ne(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0})})]})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsxs)("fieldset",{className:i.fieldGroup,children:[(0,P.jsx)("legend",{className:i.descriptionText,children:"Replication Options"}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(S.Z,{checked:ce,id:"repExisting",name:"repExisting",label:"Existing Objects",onChange:function(e){de(e.target.checked)},value:ce,description:"Replicate existing objects"})}),(0,P.jsx)(S.Z,{checked:Y,id:"metadatataSync",name:"metadatataSync",label:"Metadata Sync",onChange:function(e){V(e.target.checked)},value:Y,description:"Metadata Sync"}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(S.Z,{checked:z,id:"deleteMarker",name:"deleteMarker",label:"Delete Marker",onChange:function(e){K(e.target.checked)},value:z,description:"Replicate soft deletes"})}),(0,P.jsx)(u.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,P.jsx)(S.Z,{checked:he,id:"repDelete",name:"repDelete",label:"Deletes",onChange:function(e){xe(e.target.checked)},value:he,description:"Replicate versioned deletes"})})]})})]}),(0,P.jsxs)(u.ZP,{item:!0,xs:12,className:i.modalButtonBar,children:[(0,P.jsx)(r.zxk,{id:"cancel-edit-replication",type:"button",variant:"regular",disabled:h||Z,onClick:function(){t(!1)},label:"Cancel"}),(0,P.jsx)(r.zxk,{id:"save-replication",type:"submit",variant:"callAction",disabled:h||Z,label:"Save"})]})]})})})})),I=n(9859),A=n(57689),T=n(27454),w=(0,v.Z)(s.lazy((function(){return n.e(889).then(n.bind(n,20889))}))),O=(0,v.Z)(s.lazy((function(){return n.e(9088).then(n.bind(n,69088))}))),E=(0,d.Z)((function(e){return(0,c.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},p.qg),p.OR),{},{twHeight:{minHeight:400}}))}))((function(e){var t=e.classes,n=(0,R.TL)(),l=(0,A.UO)(),c=(0,o.v9)(I.HQ),d=(0,s.useState)(!0),p=(0,a.Z)(d,2),v=p[0],g=p[1],b=(0,s.useState)([]),j=(0,a.Z)(b,2),N=j[0],S=j[1],y=(0,s.useState)(!1),k=(0,a.Z)(y,2),E=k[0],_=k[1],D=(0,s.useState)(!1),L=(0,a.Z)(D,2),B=L[0],M=L[1],U=(0,s.useState)(!1),G=(0,a.Z)(U,2),z=G[0],K=G[1],H=(0,s.useState)(""),W=(0,a.Z)(H,2),Y=W[0],V=W[1],q=(0,s.useState)([]),$=(0,a.Z)(q,2),X=$[0],Q=$[1],J=(0,s.useState)(!1),ee=(0,a.Z)(J,2),te=ee[0],ne=ee[1],ie=l.bucketName||"",ae=(0,h.F)(ie,[x.Ft.S3_GET_REPLICATION_CONFIGURATION,x.Ft.S3_GET_ACTIONS]);(0,s.useEffect)((function(){n((0,C.Sc)("bucket_detail_replication"))}),[]),(0,s.useEffect)((function(){c&&g(!0)}),[c,g]),(0,s.useEffect)((function(){v&&(ae?m.Z.invoke("GET","/api/v1/buckets/".concat(ie,"/replication")).then((function(e){var t=e.rules?e.rules:[];t.sort((function(e,t){return e.priority-t.priority})),S(t),g(!1)})).catch((function(e){n((0,C.Ih)(e)),g(!1)})):g(!1))}),[v,n,ie,ae]);var le=function(){M(arguments.length>0&&void 0!==arguments[0]&&arguments[0])},se=[{type:"delete",onClick:function(e){V(e.id),ne(!1),_(!0)}},{type:"view",onClick:function(e){V(e.id),K(!0)},disableButtonFunction:!(0,h.F)(ie,[x.Ft.S3_PUT_REPLICATION_CONFIGURATION,x.Ft.S3_PUT_ACTIONS],!0)}];return(0,P.jsxs)(s.Fragment,{children:[B&&(0,P.jsx)(w,{closeModalAndRefresh:function(){le(!1),g(!0)},open:B,bucketName:ie,setReplicationRules:N}),E&&(0,P.jsx)(O,{deleteOpen:E,selectedBucket:ie,closeDeleteModalAndRefresh:function(e){_(!1),e&&g(!0)},ruleToDelete:Y,rulesToDelete:X,remainingRules:N.length,allSelected:X.length===N.length,deleteSelectedRules:te}),z&&(0,P.jsx)(F,{closeModalAndRefresh:function(e){K(!1),e&&g(!0)},open:z,bucketName:ie,ruleID:Y}),(0,P.jsxs)(u.ZP,{container:!0,children:[(0,P.jsxs)(u.ZP,{item:!0,xs:12,className:t.actionsTray,children:[(0,P.jsx)(Z.Z,{children:"Replication"}),(0,P.jsxs)("div",{style:{display:"flex"},children:[(0,P.jsx)(h.s,{scopes:[x.Ft.S3_PUT_REPLICATION_CONFIGURATION,x.Ft.S3_PUT_ACTIONS],resource:ie,matchAll:!0,errorProps:{disabled:!0},children:(0,P.jsx)(T.Z,{tooltip:"Remove Selected Replication Rules",children:(0,P.jsx)(r.zxk,{id:"remove-bucket-replication-rule",onClick:function(){V("selectedRules"),ne(!0),_(!0)},label:"Remove Selected Rules",icon:(0,P.jsx)(r.XHJ,{}),color:"secondary",disabled:0===X.length,variant:"secondary"})})}),(0,P.jsx)(h.s,{scopes:[x.Ft.S3_PUT_REPLICATION_CONFIGURATION,x.Ft.S3_PUT_ACTIONS],resource:ie,matchAll:!0,errorProps:{disabled:!0},children:(0,P.jsx)(T.Z,{tooltip:"Add Replication Rule",children:(0,P.jsx)(r.zxk,{id:"add-bucket-replication-rule",onClick:function(){le(!0)},label:"Add Replication Rule",icon:(0,P.jsx)(r.dtP,{}),variant:"callAction"})})})]})]}),(0,P.jsx)(u.ZP,{item:!0,xs:12,children:(0,P.jsx)(h.s,{scopes:[x.Ft.S3_GET_REPLICATION_CONFIGURATION,x.Ft.S3_GET_ACTIONS],resource:ie,errorProps:{disabled:!0},children:(0,P.jsx)(f.Z,{itemActions:se,columns:[{label:"Priority",elementKey:"priority",width:55,contentTextAlign:"center"},{label:"Destination",elementKey:"destination",renderFunction:function(e){return(0,P.jsx)(s.Fragment,{children:e.bucket.replace("arn:aws:s3:::","")})}},{label:"Prefix",elementKey:"prefix",width:200},{label:"Tags",elementKey:"tags",renderFunction:function(e){return(0,P.jsx)(s.Fragment,{children:e&&""!==e.tags?"Yes":"No"})},width:60},{label:"Status",elementKey:"status",width:100}],isLoading:v,records:N,entityName:"Replication Rules",idField:"id",customPaperHeight:t.twHeight,textSelectable:!0,selectedItems:X,onSelect:function(e){return function(e){var t=e.target,n=t.value,a=t.checked,l=(0,i.Z)(X);return a?l.push(n):l=l.filter((function(e){return e!==n})),Q(l),l}(e)},onSelectAll:function(){X.length!==N.length?Q(N.map((function(e){return e.id}))):Q([])}})})}),(0,P.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,P.jsx)("br",{}),(0,P.jsx)(r.KfX,{title:"Replication",iconComponent:(0,P.jsx)(r.wNb,{}),help:(0,P.jsxs)(s.Fragment,{children:["MinIO supports server-side and client-side replication of objects between source and destination buckets.",(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),"You can learn more at our"," ",(0,P.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/bucket-replication.html?ref=con",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})]})]})]})}))},81159:function(e,t,n){var i=n(4942),a=n(1413),l=n(72791),s=n(11135),o=n(25787),r=n(9955),c=n(30829),d=n(20068),u=n(20890),p=n(61889),h=n(23814),x=n(29945),m=n(28182),f=n(80184),Z=(0,o.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(r.Z);t.Z=(0,o.Z)((function(e){return(0,s.Z)((0,a.Z)((0,a.Z)({indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},h.OR),h.YI))}))((function(e){var t=e.label,n=void 0===t?"":t,s=e.onChange,o=e.value,r=e.id,h=e.name,v=e.checked,g=void 0!==v&&v,b=e.disabled,j=void 0!==b&&b,N=e.switchOnly,S=void 0!==N&&N,C=e.tooltip,R=void 0===C?"":C,y=e.description,k=void 0===y?"":y,P=e.classes,F=e.indicatorLabels,I=e.extraInputProps,A=void 0===I?{}:I,T=(0,f.jsxs)(l.Fragment,{children:[!S&&(0,f.jsx)("span",{className:(0,m.Z)(P.indicatorLabel,(0,i.Z)({},P.indicatorLabelOn,!g)),children:F&&F.length>1?F[1]:"OFF"}),(0,f.jsx)(Z,{checked:g,onChange:s,color:"primary",name:h,inputProps:(0,a.Z)({"aria-label":"primary checkbox"},A),disabled:j,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:o,id:r}),!S&&(0,f.jsx)("span",{className:(0,m.Z)(P.indicatorLabel,(0,i.Z)({},P.indicatorLabelOn,g)),children:F?F[0]:"ON"})]});return S?T:(0,f.jsx)("div",{children:(0,f.jsxs)(p.ZP,{container:!0,alignItems:"center",children:[(0,f.jsx)(p.ZP,{item:!0,xs:12,sm:8,md:8,children:""!==n&&(0,f.jsxs)(c.Z,{htmlFor:r,className:P.inputLabel,children:[(0,f.jsx)("span",{children:n}),""!==R&&(0,f.jsx)("div",{className:P.tooltipContainer,children:(0,f.jsx)(d.Z,{title:R,placement:"top-start",children:(0,f.jsx)("div",{className:P.tooltip,children:(0,f.jsx)(x.byK,{})})})})]})}),(0,f.jsx)(p.ZP,{item:!0,xs:12,sm:""!==n?4:12,md:""!==n?4:12,textAlign:"right",justifyContent:"end",className:P.switchContainer,children:T}),""!==k&&(0,f.jsx)(p.ZP,{item:!0,xs:12,textAlign:"left",children:(0,f.jsx)(u.Z,{component:"p",className:P.fieldDescription,children:k})})]})})}))},21435:function(e,t,n){var i=n(29439),a=n(1413),l=n(72791),s=n(27391),o=n(61889),r=n(30829),c=n(20068),d=n(13400),u=n(20165),p=n(3579),h=n(11135),x=n(72455),m=n(25787),f=n(23814),Z=n(29945),v=n(28182),g=n(80184),b=(0,x.Z)((function(e){return(0,h.Z)((0,a.Z)({},f.gM))}));function j(e){var t=b();return(0,g.jsx)(s.Z,(0,a.Z)({InputProps:{classes:t}},e))}t.Z=(0,m.Z)((function(e){return(0,h.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},f.YI),f.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,n=e.onChange,s=e.value,h=e.id,x=e.name,m=e.type,f=void 0===m?"text":m,b=e.autoComplete,N=void 0===b?"off":b,S=e.disabled,C=void 0!==S&&S,R=e.multiline,y=void 0!==R&&R,k=e.tooltip,P=void 0===k?"":k,F=e.index,I=void 0===F?0:F,A=e.error,T=void 0===A?"":A,w=e.required,O=void 0!==w&&w,E=e.placeholder,_=void 0===E?"":E,D=e.min,L=e.max,B=e.overlayId,M=e.overlayIcon,U=void 0===M?null:M,G=e.overlayObject,z=void 0===G?null:G,K=e.extraInputProps,H=void 0===K?{}:K,W=e.overlayAction,Y=e.noLabelMinWidth,V=void 0!==Y&&Y,q=e.pattern,$=void 0===q?"":q,X=e.autoFocus,Q=void 0!==X&&X,J=e.classes,ee=e.className,te=void 0===ee?"":ee,ne=e.onKeyPress,ie=e.onFocus,ae=e.onPaste,le=(0,a.Z)({"data-index":I},H),se=(0,l.useState)(!1),oe=(0,i.Z)(se,2),re=oe[0],ce=oe[1];"number"===f&&D&&(le.min=D),"number"===f&&L&&(le.max=L),""!==$&&(le.pattern=$);var de=U,ue=f;return"password"===f&&null===U&&(de=re?(0,g.jsx)(u.Z,{}):(0,g.jsx)(p.Z,{}),ue=re?"text":"password"),(0,g.jsx)(l.Fragment,{children:(0,g.jsxs)(o.ZP,{container:!0,className:(0,v.Z)(""!==te?te:"",""!==T?J.errorInField:J.inputBoxContainer),children:[""!==t&&(0,g.jsxs)(r.Z,{htmlFor:h,className:V?J.noMinWidthLabel:J.inputLabel,children:[(0,g.jsxs)("span",{children:[t,O?"*":""]}),""!==P&&(0,g.jsx)("div",{className:J.tooltipContainer,children:(0,g.jsx)(c.Z,{title:P,placement:"top-start",children:(0,g.jsx)("div",{className:J.tooltip,children:(0,g.jsx)(Z.byK,{})})})})]}),(0,g.jsxs)("div",{className:J.textBoxContainer,children:[(0,g.jsx)(j,{id:h,name:x,fullWidth:!0,value:s,autoFocus:Q,disabled:C,onChange:n,type:ue,multiline:y,autoComplete:N,inputProps:le,error:""!==T,helperText:T,placeholder:_,className:J.inputRebase,onKeyPress:ne,onFocus:ie,onPaste:ae}),de&&(0,g.jsx)("div",{className:"".concat(J.overlayAction," ").concat(""!==t?"withLabel":""),children:(0,g.jsx)(d.Z,{onClick:W?function(){W()}:function(){return ce(!re)},id:B,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:de})}),z&&(0,g.jsx)("div",{className:"".concat(J.overlayAction," ").concat(""!==t?"withLabel":""),children:z})]})]})})}))},64163:function(e,t,n){var i=n(1413),a=n(72791),l=n(61889),s=n(11135),o=n(25787),r=n(23814),c=n(80184);t.Z=(0,o.Z)((function(e){return(0,s.Z)((0,i.Z)({},r.xx))}))((function(e){var t=e.classes,n=e.label,i=void 0===n?"":n,s=e.content,o=e.multiLine,r=void 0!==o&&o,d=e.actionButton;return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)(l.ZP,{className:t.prefinedContainer,children:[""!==i&&(0,c.jsx)(l.ZP,{item:!0,xs:12,className:t.predefinedTitle,children:i}),(0,c.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(t.predefinedList," ").concat(d?t.includesActionButton:""),children:[(0,c.jsx)(l.ZP,{item:!0,xs:12,className:r?t.innerContentMultiline:t.innerContent,children:s}),d&&(0,c.jsx)("div",{className:t.overlayShareOption,children:d})]})]})})}))},17420:function(e,t,n){var i=n(93433),a=n(29439),l=n(1413),s=n(72791),o=n(26181),r=n.n(o),c=n(48573),d=n.n(c),u=n(11135),p=n(25787),h=n(61889),x=n(77961),m=n(30829),f=n(20068),Z=n(23814),v=n(21435),g=n(29945),b=n(80184);t.Z=(0,p.Z)((function(e){return(0,u.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},Z.YI),Z.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15},lineInputBoxes:{display:"flex",marginBottom:10},queryDiv:{alignSelf:"center",margin:"0 4px",fontWeight:600}}))}))((function(e){var t=e.elements,n=e.name,l=e.label,o=e.tooltip,c=void 0===o?"":o,u=e.keyPlaceholder,p=void 0===u?"":u,Z=e.valuePlaceholder,j=void 0===Z?"":Z,N=e.onChange,S=e.withBorder,C=void 0!==S&&S,R=e.classes,y=(0,s.useState)([""]),k=(0,a.Z)(y,2),P=k[0],F=k[1],I=(0,s.useState)([""]),A=(0,a.Z)(I,2),T=A[0],w=A[1],O=(0,s.createRef)();(0,s.useEffect)((function(){if(1===P.length&&""===P[0]&&1===T.length&&""===T[0]&&t&&""!==t){var e=t.split("&"),n=[],i=[];e.forEach((function(e){var t=e.split("=");2===t.length&&(n.push(t[0]),i.push(t[1]))})),n.push(""),i.push(""),F(n),w(i)}}),[P,T,t]),(0,s.useEffect)((function(){var e=O.current;e&&P.length>1&&e.scrollIntoView(!1)}),[P]);var E=(0,s.useRef)(!0);(0,s.useLayoutEffect)((function(){E.current?E.current=!1:L()}),[P,T]);var _=function(e){e.persist();var t=(0,i.Z)(P),n=r()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,F(t)},D=function(e){e.persist();var t=(0,i.Z)(T),n=r()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,w(t)},L=d()((function(){var e="";P.forEach((function(t,n){if(P[n]&&T[n]){var i="".concat(t,"=").concat(T[n]);0!==n&&(i="&".concat(i)),e="".concat(e).concat(i)}})),N(e)}),500),B=T.map((function(e,t){return(0,b.jsxs)(h.ZP,{item:!0,xs:12,className:R.lineInputBoxes,children:[(0,b.jsx)(v.Z,{id:"".concat(n,"-key-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:P[t],onChange:_,index:t,placeholder:p}),(0,b.jsx)("span",{className:R.queryDiv,children:":"}),(0,b.jsx)(v.Z,{id:"".concat(n,"-value-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:T[t],onChange:D,index:t,placeholder:j,overlayIcon:t===T.length-1?(0,b.jsx)(g.dtP,{}):null,overlayAction:function(){!function(){if(""!==P[P.length-1].trim()&&""!==T[T.length-1].trim()){var e=(0,i.Z)(P),t=(0,i.Z)(T);e.push(""),t.push(""),F(e),w(t)}}()}})]},"query-pair-".concat(n,"-").concat(t.toString()))}));return(0,b.jsx)(s.Fragment,{children:(0,b.jsxs)(h.ZP,{item:!0,xs:12,className:R.fieldContainer,children:[(0,b.jsxs)(m.Z,{className:R.inputLabel,children:[(0,b.jsx)("span",{children:l}),""!==c&&(0,b.jsx)("div",{className:R.tooltipContainer,children:(0,b.jsx)(f.Z,{title:c,placement:"top-start",children:(0,b.jsx)(x.Z,{className:R.tooltip})})})]}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,className:"".concat(C?R.inputWithBorder:""),children:[B,(0,b.jsx)("div",{ref:O})]})]})})}))},60680:function(e,t,n){n(72791);var i=n(11135),a=n(25787),l=n(80184);t.Z=(0,a.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var t=e.classes,n=e.children;return(0,l.jsx)("h1",{className:t.root,children:n})}))}}]);
//# sourceMappingURL=2512.770aacc4.chunk.js.map