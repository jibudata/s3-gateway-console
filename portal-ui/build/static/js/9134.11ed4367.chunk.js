"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9134],{64163:function(e,n,t){var i=t(1413),s=t(72791),l=t(61889),c=t(11135),a=t(25787),o=t(23814),r=t(80184);n.Z=(0,a.Z)((function(e){return(0,c.Z)((0,i.Z)({},o.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,c=e.content,a=e.multiLine,o=void 0!==a&&a,u=e.actionButton;return(0,r.jsx)(s.Fragment,{children:(0,r.jsxs)(l.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,r.jsx)(l.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,r.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(n.predefinedList," ").concat(u?n.includesActionButton:""),children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,className:o?n.innerContentMultiline:n.innerContent,children:c}),u&&(0,r.jsx)("div",{className:n.overlayShareOption,children:u})]})]})})}))},56028:function(e,n,t){var i=t(29439),s=t(1413),l=t(72791),c=t(60364),a=t(13400),o=t(55646),r=t(5574),u=t(65661),d=t(39157),m=t(11135),f=t(25787),Z=t(23814),x=t(29823),h=t(28057),p=t(87995),v=t(80184);n.Z=(0,f.Z)((function(e){return(0,m.Z)((0,s.Z)((0,s.Z)({},Z.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},Z.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,m=e.title,f=e.children,Z=e.classes,j=e.wideLimit,g=void 0===j||j,b=e.noContentPadding,y=e.titleIcon,P=void 0===y?null:y,N=(0,c.I0)(),k=(0,l.useState)(!1),C=(0,i.Z)(k,2),S=C[0],B=C[1],E=(0,c.v9)((function(e){return e.system.modalSnackBar}));(0,l.useEffect)((function(){N((0,p.MK)(""))}),[N]),(0,l.useEffect)((function(){if(E){if(""===E.message)return void B(!1);"error"!==E.type&&B(!0)}}),[E]);var M=g?{classes:{paper:Z.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},T="";return E&&(T=E.detailedErrorMsg,(""===E.detailedErrorMsg||E.detailedErrorMsg.length<5)&&(T=E.message)),(0,v.jsxs)(r.Z,(0,s.Z)((0,s.Z)({open:t,classes:Z},M),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:Z.root,children:[(0,v.jsxs)(u.Z,{className:Z.title,children:[(0,v.jsxs)("div",{className:Z.titleText,children:[P," ",m]}),(0,v.jsx)("div",{className:Z.closeContainer,children:(0,v.jsx)(a.Z,{"aria-label":"close",id:"close",className:Z.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,v.jsx)(x.Z,{})})})]}),(0,v.jsx)(h.Z,{isModal:!0}),(0,v.jsx)(o.Z,{open:S,className:Z.snackBarModal,onClose:function(){B(!1),N((0,p.MK)(""))},message:T,ContentProps:{className:"".concat(Z.snackBar," ").concat(E&&"error"===E.type?Z.errorSnackBar:"")},autoHideDuration:E&&"error"===E.type?1e4:5e3}),(0,v.jsx)(d.Z,{className:b?"":Z.content,children:f})]}))}))},58400:function(e,n,t){var i=t(93433),s=t(29439),l=t(1413),c=t(72791),a=t(60364),o=t(11135),r=t(25787),u=t(40986),d=t(61889),m=t(21639),f=t(23814),Z=t(81207),x=t(92983),h=t(59114),p=t(87995),v=t(80184);n.Z=(0,r.Z)((function(e){return(0,o.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,l.Z)({},f.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},f.qg),f.VX),f.OR),f.jY))}))((function(e){var n=e.classes,t=e.selectedPolicy,l=void 0===t?[]:t,o=e.setSelectedPolicy,r=(0,a.I0)(),f=(0,c.useState)([]),j=(0,s.Z)(f,2),g=j[0],b=j[1],y=(0,c.useState)(!1),P=(0,s.Z)(y,2),N=P[0],k=P[1],C=(0,c.useState)(""),S=(0,s.Z)(C,2),B=S[0],E=S[1],M=(0,c.useCallback)((function(){k(!0),Z.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;k(!1),b(n.sort(m.g4))})).catch((function(e){k(!1),r((0,p.zb)(e))}))}),[r]);(0,c.useEffect)((function(){k(!0)}),[]),(0,c.useEffect)((function(){N&&M()}),[N,M]);var T=g.filter((function(e){return e.name.includes(B)}));return(0,v.jsx)(c.Fragment,{children:(0,v.jsxs)(d.ZP,{item:!0,xs:12,children:[N&&(0,v.jsx)(u.Z,{}),g.length>0?(0,v.jsxs)(c.Fragment,{children:[(0,v.jsxs)(d.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,v.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,v.jsx)("div",{className:n.searchBox,children:(0,v.jsx)(h.Z,{placeholder:"Start typing to search for a Policy",onChange:function(e){E(e)},value:B})})]}),(0,v.jsx)(d.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,v.jsx)(x.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,s=n.checked,c=(0,i.Z)(l);s?c.push(t):c=c.filter((function(e){return e!==t})),c=c.filter((function(e){return""!==e})),o(c)},selectedItems:l,isLoading:N,records:T,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,v.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})}))},39134:function(e,n,t){t.r(n);var i=t(29439),s=t(1413),l=t(72791),c=t(60364),a=t(26181),o=t.n(a),r=t(11135),u=t(25787),d=t(36151),m=t(40986),f=t(61889),Z=t(23814),x=t(56028),h=t(81207),p=t(58400),v=t(64163),j=t(45248),g=t(87995),b=t(80184);n.default=(0,u.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},Z.oO),Z.bK),{},{tableBlock:(0,s.Z)((0,s.Z)({},Z.VX.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))((function(e){var n=e.classes,t=e.closeModalAndRefresh,s=e.selectedUser,a=e.selectedGroup,r=e.open,u=(0,c.I0)(),Z=(0,l.useState)(!1),y=(0,i.Z)(Z,2),P=y[0],N=y[1],k=(0,l.useState)([]),C=(0,i.Z)(k,2),S=C[0],B=C[1],E=(0,l.useState)([]),M=(0,i.Z)(E,2),T=M[0],L=M[1];(0,l.useEffect)((function(){if(r){if(null!==a)return void(a&&h.Z.invoke("GET","/api/v1/group/".concat((0,j.LL)(a))).then((function(e){var n=o()(e,"policy","");B(n.split(",")),L(n.split(","))})).catch((function(e){u((0,g.zb)(e)),N(!1)})));var e=o()(s,"policy",[]);B(e),L(e)}}),[r,a,s]);var z=o()(s,"accessKey","");return(0,b.jsxs)(x.Z,{onClose:function(){t()},modalOpen:r,title:"Set Policies",children:[(0,b.jsxs)(f.ZP,{container:!0,children:[(0,b.jsx)(f.ZP,{item:!0,xs:12,children:(0,b.jsx)(v.Z,{label:"Selected ".concat(null!==a?"Group":"User"),content:null!==a?a:z})}),(0,b.jsx)(f.ZP,{item:!0,xs:12,children:(0,b.jsx)(v.Z,{label:"Current Policy",content:S.join(", ")})}),(0,b.jsx)(f.ZP,{item:!0,xs:12,children:(0,b.jsx)("div",{className:n.tableBlock,children:(0,b.jsx)(p.Z,{selectedPolicy:T,setSelectedPolicy:L})})})]}),(0,b.jsxs)(f.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,b.jsx)(d.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){L(S)},children:"Reset"}),(0,b.jsx)(d.Z,{type:"button",variant:"contained",color:"primary",disabled:P,onClick:function(){var e="user",n=null;null!==a?(e="group",n=a):null!==s&&(n=s.accessKey),N(!0),h.Z.invoke("PUT","/api/v1/set-policy",{name:T,entityName:n,entityType:e}).then((function(){N(!1),t()})).catch((function(e){N(!1),u((0,g.zb)(e))}))},children:"Save"})]}),P&&(0,b.jsx)(f.ZP,{item:!0,xs:12,children:(0,b.jsx)(m.Z,{})})]})}))}}]);
//# sourceMappingURL=9134.11ed4367.chunk.js.map