"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9467],{89467:function(e,t,n){n.r(t),n.d(t,{default:function(){return ie}});var i=n(93433),a=n(29439),s=n(1413),r=n(72791),c=n(57689),l=n(75952),o=n(11135),u=n(25787),d=n(40986),h=n(61889),x=n(23814),m=n(81207),f=n(4942),p=n(26181),g=n.n(p),j=n(20890),Z=n(64554),v=n(45248),b=n(34866),k=n(11087),y=n(56087),S=n(38442),C=n(28182),P=n(72455),_=n(80184),N=(0,P.Z)((function(e){return(0,o.Z)({root:{marginBottom:30,padding:20,color:e.palette.primary.main,border:"#E5E5E5 1px solid",borderRadius:2,textDecoration:"none","&:hover":{backgroundColor:"#fafafa"},"& .min-icon":{height:14,width:14},"& .MuiTypography-body2":{fontSize:14},"& .MuiCardHeader-content":{wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-all",font:"normal normal bold 24px/27px Inter",color:e.palette.primary.main,"& .MuiTypography-root":{fontSize:19,fontWeight:"bold","& .min-icon":{position:"relative",top:4,marginRight:4,height:"24px !important"}}},"& .MuiCardHeader-root":{background:"transparent linear-gradient(0deg, #EEF1F44E 0%, #FFFFFF 100%) 0% 0% no-repeat padding-box"}},checkBoxElement:{width:32,height:32,float:"left",overflow:"hidden","& div":{position:"absolute"}},manageButton:{borderRadius:4,width:111,color:e.palette.grey[700],textTransform:"unset",fontSize:12,fontWeight:"normal","& .MuiButton-endIcon":{"& .min-icon":{fontSize:18}}},metric:{"& .min-icon":{color:"#000000",width:13,marginRight:5}},metricLabel:{fontSize:14,fontWeight:"bold",color:"#000000"},metricText:{fontSize:24,fontWeight:"bold"},unit:{fontSize:12,fontWeight:"normal"},bucketName:{padding:0,margin:0,fontSize:22},bucketIcon:{"& .min-icon":{height:48,width:48,color:e.palette.primary.main}},bucketInfo:{display:"flex","@media (max-width: 900px)":{flexFlow:"column-reverse"}},bucketStats:{marginTop:15,borderTop:"1px solid rgb(234,234,234, .7)",paddingTop:14},bucketActionButtons:{display:"flex",alignItems:"center",justifyContent:"flex-end","& button":{marginLeft:8},"@media (max-width: 900px)":{marginTop:"-33px"}},disabled:{backgroundColor:"red"}})})),w=function(e){var t=e.bucket,n=e.onSelect,i=e.selected,a=e.bulkSelect,s=(e.noManage,N()),o=(0,c.s0)(),u=(0,v.ae)("".concat(t.size)||"0"),d=u.split(" ")[0],x=u.split(" ")[1],m=g()(t,"details.quota.quota","0"),p=(0,v.Am)(m,!0,!1),P=(0,S.F)(t.name,y.D[y.EI.BUCKET_ADMIN])&&!1;return(0,_.jsxs)(h.ZP,{container:!0,className:(0,C.Z)(s.root,"bucket-item",(0,f.Z)({},s.disabled,P)),onClick:function(){o("/buckets/".concat(t.name,"/admin"))},sx:{cursor:"pointer"},id:"manageBucket-".concat(t.name),children:[(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsxs)(h.ZP,{container:!0,justifyContent:"space-between",children:[(0,_.jsx)(h.ZP,{item:!0,xs:12,sm:7,children:(0,_.jsxs)(h.ZP,{container:!0,children:[(0,_.jsxs)(h.ZP,{item:!0,xs:12,children:[a&&(0,_.jsx)("div",{className:s.checkBoxElement,onClick:function(e){e.stopPropagation()},children:(0,_.jsx)(b.Z,{checked:i,id:"select-".concat(t.name),label:"",name:"select-".concat(t.name),onChange:function(e){n(e)},value:t.name})}),(0,_.jsxs)("h1",{className:s.bucketName,children:[t.name," ",P]})]}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsxs)(h.ZP,{container:!0,className:s.bucketInfo,children:[(0,_.jsx)(h.ZP,{item:!0,xs:12,sm:!0,paddingRight:5,children:(0,_.jsxs)(j.Z,{variant:"body2",children:["Created: ",new Date(t.creation_date).toString()]})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,sm:!0,children:(0,_.jsxs)(j.Z,{variant:"body2",children:["Access: ",function(e){var t,n,i,a,s,r;return null===(t=e.rw_access)||void 0===t||!t.read||null!==(n=e.rw_access)&&void 0!==n&&n.write?null!==(i=e.rw_access)&&void 0!==i&&i.read||null===(a=e.rw_access)||void 0===a||!a.write?null!==(s=e.rw_access)&&void 0!==s&&s.read&&null!==(r=e.rw_access)&&void 0!==r&&r.write?"R/W":"":"W":"R"}(t)]})})]})})]})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,sm:5,className:s.bucketActionButtons,children:(0,_.jsx)(Z.Z,{display:{xs:"none",sm:"block"},children:(0,_.jsx)("div",{style:{marginBottom:10}})})})]})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,className:s.bucketStats,children:(0,_.jsxs)(h.ZP,{container:!0,justifyContent:"flex-start",spacing:4,children:[(0,_.jsx)(h.ZP,{item:!0,className:s.bucketIcon,children:(0,_.jsx)(k.rU,{to:"/buckets/".concat(t.name,"/browse"),children:(0,_.jsx)(l.wNb,{})})}),(0,_.jsxs)(h.ZP,{item:!0,textAlign:"left",className:s.metric,children:[(0,_.jsx)(l.rHZ,{}),(0,_.jsx)("span",{className:s.metricLabel,children:"Usage"}),(0,_.jsxs)("div",{className:s.metricText,children:[d,(0,_.jsx)("span",{className:s.unit,children:x}),"0"!==m&&(0,_.jsxs)(r.Fragment,{children:[" ","/ ",p.total,(0,_.jsx)("span",{className:s.unit,children:p.unit})]})]})]}),(0,_.jsxs)(h.ZP,{item:!0,textAlign:"left",className:s.metric,children:[(0,_.jsx)(l.xpX,{}),(0,_.jsx)("span",{className:s.metricLabel,children:"Objects"}),(0,_.jsx)("div",{className:s.metricText,children:t.objects?(0,v.CE)(t.objects):0})]})]})})]})},T=n(20068),E=n(15146),B=n(98946),R=n(21435),I=n(56028),F=n(64163),L=n(28371),A=n(37516),z=n(90673),M=n(56578),K=n(87995),U=n(25469),D=(0,u.Z)((function(e){return(0,o.Z)((0,s.Z)((0,s.Z)({remoteBucketList:{display:"grid",gridTemplateColumns:"auto auto 45px",alignItems:"center",justifyContent:"stretch"},errorIcon:{color:"#C72C48"},successIcon:{color:"#42C91A"},hide:{opacity:0,transitionDuration:"0.3s"}},x.oO),x.AK))}))((function(e){var t=e.open,n=e.closeModalAndRefresh,s=e.classes,c=e.buckets,l=(0,U.TL)(),o=(0,r.useState)([]),u=(0,a.Z)(o,2),d=u[0],x=u[1],f=(0,r.useState)(!1),p=(0,a.Z)(f,2),j=p[0],Z=p[1],b=(0,r.useState)(!1),k=(0,a.Z)(b,2),y=k[0],S=k[1],C=(0,r.useState)(""),P=(0,a.Z)(C,2),N=P[0],w=P[1],D=(0,r.useState)(""),O=(0,a.Z)(D,2),W=O[0],q=O[1],H=(0,r.useState)(""),G=(0,a.Z)(H,2),Q=G[0],V=G[1],Y=(0,r.useState)(""),X=(0,a.Z)(Y,2),$=X[0],J=X[1],ee=(0,r.useState)(!0),te=(0,a.Z)(ee,2),ne=te[0],ie=te[1],ae=(0,r.useState)("async"),se=(0,a.Z)(ae,2),re=se[0],ce=se[1],le=(0,r.useState)("100"),oe=(0,a.Z)(le,2),ue=oe[0],de=oe[1],he=(0,r.useState)("Gi"),xe=(0,a.Z)(he,2),me=xe[0],fe=xe[1],pe=(0,r.useState)("60"),ge=(0,a.Z)(pe,2),je=ge[0],Ze=ge[1],ve=(0,r.useState)([]),be=(0,a.Z)(ve,2),ke=be[0],ye=be[1],Se=(0,r.useState)([]),Ce=(0,a.Z)(Se,2),Pe=Ce[0],_e=Ce[1],Ne=(0,r.useState)([]),we=(0,a.Z)(Ne,2),Te=we[0],Ee=we[1],Be=Pe.map((function(e){return{label:e,value:e}}));(0,r.useEffect)((function(){if(0===ke.length){var e=[],t=[];c.forEach((function(n){e.push(n),t.push("")})),ye(t),x(e)}}),[c,ke.length]);var Re=function(e){var t=e.errString;switch(t){case"":return(0,_.jsx)("div",{className:s.successIcon,children:(0,_.jsx)(B.Z,{})});case"n/a":return null;default:if(t)return(0,_.jsx)("div",{className:s.errorIcon,children:(0,_.jsx)(T.Z,{title:t,placement:"top-start",children:(0,_.jsx)(E.Z,{})})})}return null},Ie=function(e,t){var n=(0,i.Z)(ke);n[e]=t,ye(n)},Fe=function(e){var t=(0,i.Z)(d),n=(0,i.Z)(ke);e.forEach((function(e){var i=g()(e,"errorString","");if(!i||""===i){var a=t.indexOf(e.originBucket);t.splice(a,1),n.splice(a,1)}})),x(t),ye(n)};return(0,_.jsx)(I.Z,{modalOpen:t,onClose:function(){n(!1)},title:"Set Multiple Bucket Replication",children:(0,_.jsx)(L.Z,{loadingStep:j||y,wizardSteps:[{label:"Remote Configuration",componentRender:(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(F.Z,{label:"Local Buckets to replicate",content:d.join(", ")})}),(0,_.jsx)("h4",{children:"Remote Endpoint Configuration"}),(0,_.jsx)("span",{className:s.descriptionText,children:"Please avoid the use of root credentials for this feature"}),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(R.Z,{id:"accessKey",name:"accessKey",onChange:function(e){w(e.target.value)},label:"Access Key",value:N})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(R.Z,{id:"secretKey",name:"secretKey",onChange:function(e){q(e.target.value)},label:"Secret Key",value:W})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(R.Z,{id:"targetURL",name:"targetURL",onChange:function(e){V(e.target.value)},placeholder:"play.min.io:9000",label:"Target URL",value:Q})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(A.Z,{checked:ne,id:"useTLS",name:"useTLS",label:"Use TLS",onChange:function(e){ie(e.target.checked)},value:"yes"})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(R.Z,{id:"region",name:"region",onChange:function(e){J(e.target.value)},label:"Region",value:$})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(z.Z,{id:"replication_mode",name:"replication_mode",onChange:function(e){ce(e.target.value)},label:"Replication Mode",value:re,options:[{label:"Asynchronous",value:"async"},{label:"Synchronous",value:"sync"}]})}),"async"===re&&(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(R.Z,{type:"number",id:"bandwidth_scalar",name:"bandwidth_scalar",onChange:function(e){e.target.validity.valid&&de(e.target.value)},label:"Bandwidth",value:ue,min:"0",pattern:"[0-9]*",overlayObject:(0,_.jsx)(M.Z,{id:"quota_unit",onUnitChange:function(e){fe(e)},unitSelected:me,unitsList:(0,v.zQ)(["Ki"]),disabled:!1})})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(R.Z,{id:"healthCheck",name:"healthCheck",onChange:function(e){Ze(e.target.value)},label:"Health Check Duration",value:je})})]}),buttons:[{type:"custom",label:"Next",enabled:!y,action:function(e){var t={accessKey:N,secretKey:W,targetURL:Q,useTLS:ne};S(!0),m.Z.invoke("POST","/api/v1/list-external-buckets",t).then((function(t){var n=g()(t,"buckets",[]);if(n&&n.length>0){var i=n.map((function(e){return e.name}));_e(i)}e("++"),S(!1)})).catch((function(e){S(!1),l((0,K.zb)(e))}))}}]},{label:"Bucket Assignments",componentRender:(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)("h3",{children:"Remote Bucket Assignments"}),(0,_.jsx)("span",{className:s.descriptionText,children:"Please select / type the desired remote bucket were you want the local data to be replicated."}),(0,_.jsx)("div",{className:s.remoteBucketList,children:d.map((function(e,t){var n,i=function(e){if(Te.length>0){var t=Te.find((function(t){return t.originBucket===e}));if(t)return g()(t,"errorString","")||""}return"n/a"}(e);return(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)("div",{className:""===i?s.hide:"",children:e}),(0,_.jsx)("div",{className:""===i?s.hide:"",children:(n=t,Pe.length>0?(0,_.jsx)(r.Fragment,{children:(0,_.jsx)(z.Z,{label:"",id:"assign-bucket-".concat(n),name:"assign-bucket-".concat(n),value:ke[n],onChange:function(e){Ie(n,e.target.value)},options:Be,disabled:j})}):(0,_.jsx)(r.Fragment,{children:(0,_.jsx)(R.Z,{id:"assign-bucket-".concat(n),name:"assign-bucket-".concat(n),label:"",onChange:function(e){Ie(n,e.target.value)},value:ke[n],disabled:j})}))}),(0,_.jsx)("div",{className:""===i?s.hide:"",children:Te.length>0&&(0,_.jsx)(Re,{errString:i})})]},"buckets-assignation-".concat(t.toString(),"-").concat(e))}))})]}),buttons:[{type:"back",label:"Back",enabled:!0},{type:"next",label:"Create",enabled:!j,action:function(){Z(!0);var e=d.map((function(e,t){return{originBucket:e,destinationBucket:ke[t]}})),t="".concat(ne?"https://":"http://").concat(Q),i=parseInt(je),a={accessKey:N,secretKey:W,targetURL:t,region:$,bucketsRelation:e,syncMode:re,bandwidth:"async"===re?parseInt((0,v.Pw)(ue,me,!0)):0,healthCheckPeriod:i};m.Z.invoke("POST","/api/v1/buckets-replication",a).then((function(e){Z(!1);var t=e.replicationState;Ee(t),0===t.filter((function(e){return e.errorString&&""!==e.errorString})).length?n(!0):setTimeout((function(){Fe(t)}),500)})).catch((function(e){Z(!1),l((0,K.zb)(e))}))}}]}],forModal:!0})})})),O=n(74794),W=n(59114),q=n(98994),H=n(83679),G=n(17420),Q=(0,u.Z)((function(e){return(0,o.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({resultGrid:{display:"grid",gridTemplateColumns:"45px auto",alignItems:"center",justifyContent:"stretch"},errorIcon:{paddingTop:5,color:"#C72C48"},successIcon:{paddingTop:5,color:"#42C91A"}},x.bK),x.ID),x.DF),x.QV))}))((function(e){var t=e.open,n=e.closeModalAndRefresh,i=e.classes,c=e.buckets,l=(0,U.TL)(),o=(0,r.useState)(!1),u=(0,a.Z)(o,2),d=u[0],x=u[1],f=(0,r.useState)(!0),p=(0,a.Z)(f,2),j=p[0],Z=p[1],v=(0,r.useState)([]),b=(0,a.Z)(v,2),k=b[0],y=b[1],S=(0,r.useState)(""),C=(0,a.Z)(S,2),P=C[0],N=C[1],w=(0,r.useState)(""),M=(0,a.Z)(w,2),D=M[0],O=M[1],W=(0,r.useState)(""),q=(0,a.Z)(W,2),Q=q[0],V=q[1],Y=(0,r.useState)(""),X=(0,a.Z)(Y,2),$=X[0],J=X[1],ee=(0,r.useState)(!1),te=(0,a.Z)(ee,2),ne=te[0],ie=te[1],ae=(0,r.useState)("0"),se=(0,a.Z)(ae,2),re=se[0],ce=se[1],le=(0,r.useState)("0"),oe=(0,a.Z)(le,2),ue=oe[0],de=oe[1],he=(0,r.useState)("expiry"),xe=(0,a.Z)(he,2),me=xe[0],fe=xe[1],pe=(0,r.useState)("0"),ge=(0,a.Z)(pe,2),je=ge[0],Ze=ge[1],ve=(0,r.useState)("0"),be=(0,a.Z)(ve,2),ke=be[0],ye=be[1],Se=(0,r.useState)(!1),Ce=(0,a.Z)(Se,2),Pe=Ce[0],_e=Ce[1],Ne=(0,r.useState)(null),we=(0,a.Z)(Ne,2),Te=we[0],Ee=we[1];(0,r.useEffect)((function(){j&&m.Z.invoke("GET","/api/v1/admin/tiers").then((function(e){var t=g()(e,"items",[]);if(null!==t&&t.length>=1){var n=t.map((function(e){var t=e.type,n=g()(e,"".concat(t,".name"),"");return{label:n,value:n}}));y(n),n.length>0&&V(n[0].value)}Z(!1)})).catch((function(e){Z(!1),l((0,K.zb)(e))}))}),[j,l]),(0,r.useEffect)((function(){var e=!0;"expiry"!==me&&""===Q&&(e=!1),_e(e)}),[me,je,ke,Q]);var Be=function(e){var t=e.errString;switch(t){case"":return(0,_.jsx)("div",{className:i.successIcon,children:(0,_.jsx)(B.Z,{})});case"n/a":return null;default:if(t)return(0,_.jsx)("div",{className:i.errorIcon,children:(0,_.jsx)(T.Z,{title:t,placement:"top-start",children:(0,_.jsx)(E.Z,{})})})}return null};return(0,_.jsx)(I.Z,{modalOpen:t,onClose:function(){n(!1)},title:"Set Lifecycle to multiple buckets",children:(0,_.jsx)(L.Z,{loadingStep:d||j,wizardSteps:[{label:"Lifecycle Configuration",componentRender:(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(F.Z,{label:"Local Buckets to replicate",content:c.join(", ")})}),(0,_.jsx)("h4",{children:"Remote Endpoint Configuration"}),(0,_.jsx)(h.ZP,{container:!0,children:(0,_.jsxs)(h.ZP,{item:!0,xs:12,className:i.formScrollable,children:[(0,_.jsx)(h.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,_.jsxs)("fieldset",{className:i.fieldGroup,children:[(0,_.jsx)("legend",{className:i.descriptionText,children:"Lifecycle Configuration"}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(H.Z,{currentSelection:me,id:"quota_type",name:"quota_type",label:"ILM Rule",onChange:function(e){fe(e.target.value)},selectorOptions:[{value:"expiry",label:"Expiry"},{value:"transition",label:"Transition"}]})}),"expiry"===me?(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(h.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,_.jsx)(R.Z,{type:"number",id:"expiry_days",name:"expiry_days",onChange:function(e){Ze(e.target.value)},label:"Expiry Days",value:je,min:"0"})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,_.jsx)(R.Z,{type:"number",id:"noncurrentversion_expiration_days",name:"noncurrentversion_expiration_days",onChange:function(e){ce(e.target.value)},label:"Non-current Expiration Days",value:re,min:"0"})})]}):(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(h.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,_.jsx)(R.Z,{type:"number",id:"transition_days",name:"transition_days",onChange:function(e){ye(e.target.value)},label:"Transition Days",value:ke,min:"0"})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,_.jsx)(R.Z,{type:"number",id:"noncurrentversion_transition_days",name:"noncurrentversion_transition_days",onChange:function(e){de(e.target.value)},label:"Non-current Transition Days",value:ue,min:"0"})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,_.jsx)(R.Z,{id:"noncurrentversion_t_SC",name:"noncurrentversion_t_SC",onChange:function(e){J(e.target.value)},placeholder:"Set Non-current Version Transition Storage Class",label:"Non-current Version Transition Storage Class",value:$})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,_.jsx)(z.Z,{label:"Storage Class",id:"storage_class",name:"storage_class",value:Q,onChange:function(e){V(e.target.value)},options:k})})]})]})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,className:i.formFieldRow,children:(0,_.jsxs)("fieldset",{className:i.fieldGroup,children:[(0,_.jsx)("legend",{className:i.descriptionText,children:"File Configuration"}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(R.Z,{id:"prefix",name:"prefix",onChange:function(e){N(e.target.value)},label:"Prefix",value:P})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(G.Z,{name:"tags",label:"Tags",elements:D,onChange:function(e){O(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0})}),(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(A.Z,{value:"expired_delete_marker",id:"expired_delete_marker",name:"expired_delete_marker",checked:ne,onChange:function(e){ie(e.target.checked)},label:"Expired Object Delete Marker"})})]})})]})})]}),buttons:[{type:"custom",label:"Create Rules",enabled:!j&&!d&&Pe,action:function(e){var t={};if("expiry"===me){var n={expiry_days:parseInt(je)};t=(0,s.Z)((0,s.Z)({},n),{},{noncurrentversion_expiration_days:parseInt(re)})}else{var i={transition_days:parseInt(ke)};t=(0,s.Z)((0,s.Z)({},i),{},{noncurrentversion_transition_days:parseInt(ue),noncurrentversion_transition_storage_class:$,storage_class:Q})}var a=(0,s.Z)({buckets:c,type:me,prefix:P,tags:D,expired_object_delete_marker:ne},t);m.Z.invoke("POST","/api/v1/buckets/multi-lifecycle",a).then((function(t){x(!1),Ee(t),e("++")})).catch((function(e){x(!1),l((0,K.zb)(e))}))}}]},{label:"Results",componentRender:(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)("h3",{children:"Multi Bucket lifecycle Assignments Results"}),(0,_.jsx)(h.ZP,{container:!0,children:(0,_.jsxs)(h.ZP,{item:!0,xs:12,className:i.formScrollable,children:[(0,_.jsx)("h4",{children:"Buckets Results"}),null===Te||void 0===Te?void 0:Te.results.map((function(e){return(0,_.jsxs)("div",{className:i.resultGrid,children:[Be({errString:e.error||""}),(0,_.jsx)("span",{children:e.bucketName})]})}))]})})]}),buttons:[{type:"custom",label:"Done",enabled:!d,action:function(){return n(!0)}}]}],forModal:!0})})})),V=n(49535),Y=n(78687),X=n(46078),$=n(73996),J=n(27454),ee=n(81806),te=n(54756),ne=n(47974),ie=(0,u.Z)((function(e){return(0,o.Z)((0,s.Z)({bucketList:{marginTop:25,height:"calc(100vh - 211px)","&.isEmbedded":{height:"calc(100vh - 128px)"}},searchField:(0,s.Z)((0,s.Z)({},x.qg.searchField),{},{minWidth:380,"@media (max-width: 900px)":{minWidth:220}})},x.Bz))}))((function(e){var t=e.classes,n=(0,U.TL)(),s=(0,c.s0)(),o=(0,r.useState)([]),u=(0,a.Z)(o,2),x=u[0],f=u[1],p=(0,r.useState)(!0),g=(0,a.Z)(p,2),j=g[0],Z=g[1],v=(0,r.useState)(""),b=(0,a.Z)(v,2),k=b[0],C=b[1],P=(0,r.useState)([]),N=(0,a.Z)(P,2),T=N[0],E=N[1],B=(0,r.useState)(!1),R=(0,a.Z)(B,2),I=R[0],F=R[1],L=(0,r.useState)(!1),A=(0,a.Z)(L,2),z=A[0],M=A[1],H=(0,r.useState)(!1),G=(0,a.Z)(H,2),ie=G[0],ae=G[1],se=(0,r.useState)(!1),re=(0,a.Z)(se,2),ce=re[0],le=re[1],oe=(0,Y.v9)(X.$4),ue=!(null===oe||void 0===oe||!oe.includes("object-browser-only"));(0,r.useEffect)((function(){if(j){Z(!0),m.Z.invoke("GET","/api/v1/buckets").then((function(e){Z(!1),f(e.buckets||[]),n((0,te.Cn)(!0))})).catch((function(e){Z(!1),n((0,K.Ih)(e))}))}}),[j,n]);var de=x.filter((function(e){return""===k||e.name.indexOf(k)>=0})),he=x.length>0,xe=function(e){var t=e.target,n=t.value,a=t.checked,s=(0,i.Z)(T);return a?s.push(n):s=s.filter((function(e){return e!==n})),E(s),s};(0,r.useEffect)((function(){var e=!1;T.forEach((function(t){(0,V.Z)(t,y.D[y.EI.BUCKET_LIFECYCLE],!0)?ae(!0):e=!0})),ae(!e)}),[T]);var me=(0,V.Z)("*",[y.Ft.S3_CREATE_BUCKET]),fe=(0,V.Z)("*",[y.Ft.S3_LIST_BUCKET,y.Ft.S3_ALL_LIST_BUCKET]);return(0,_.jsxs)(r.Fragment,{children:[I&&(0,_.jsx)(D,{open:I,buckets:T,closeModalAndRefresh:function(e){F(!1),e&&E([])}}),z&&(0,_.jsx)(Q,{buckets:T,closeModalAndRefresh:function(e){M(!1),e&&E([])},open:z}),!ue&&(0,_.jsx)(ne.Z,{label:"Buckets"}),(0,_.jsxs)(O.Z,{children:[(0,_.jsxs)(h.ZP,{item:!0,xs:12,className:t.actionsTray,display:"flex",children:[ue&&(0,_.jsx)(h.ZP,{item:!0,xs:!0,children:(0,_.jsx)($.Z,{marginRight:15,marginTop:10})}),he&&(0,_.jsx)(W.Z,{onChange:C,placeholder:"Search Buckets",overrideClass:t.searchField,value:k}),(0,_.jsxs)(h.ZP,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"flex-end",sx:{"& button":{marginLeft:"8px"}},children:[!ue&&(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(J.Z,{tooltip:he?ce?"Unselect Buckets":"Select Multiple Buckets":"",children:(0,_.jsx)(l.zxk,{id:"multiple-bucket-seection",onClick:function(){le(!ce),E([])},icon:(0,_.jsx)(l.amE,{}),variant:ce?"callAction":"regular",disabled:!he})}),ce&&(0,_.jsx)(J.Z,{tooltip:he?T.length===de.length?"Unselect All Buckets":"Select All Buckets":"",children:(0,_.jsx)(l.zxk,{id:"select-all-buckets",onClick:function(){if(T.length!==de.length){var e=de.map((function(e){return e.name}));E(e)}else E([])},icon:(0,_.jsx)(l.QQb,{}),variant:"regular"})}),(0,_.jsx)(J.Z,{tooltip:he?ie?0===T.length?ce?"Please select at least one bucket on which to configure Lifecycle":"Use the Select Multiple Buckets button to choose buckets on which to configure Lifecycle":"Set Lifecycle":(0,y.MK)(y.D[y.EI.BUCKET_LIFECYCLE],"configure lifecycle for the selected buckets"):"",children:(0,_.jsx)(l.zxk,{id:"set-lifecycle",onClick:function(){M(!0)},icon:(0,_.jsx)(l.QIv,{}),variant:"regular",disabled:0===T.length||!ie})}),(0,_.jsx)(J.Z,{tooltip:he?0===T.length?ce?"Please select at least one bucket on which to configure Replication":"Use the Select Multiple Buckets button to choose buckets on which to configure Replication":"Set Replication":"",children:(0,_.jsx)(l.zxk,{id:"set-replication",onClick:function(){F(!0)},icon:(0,_.jsx)(l.D6F,{}),variant:"regular",disabled:0===T.length})})]}),(0,_.jsx)(J.Z,{tooltip:"Refresh",children:(0,_.jsx)(l.zxk,{id:"refresh-buckets",onClick:function(){Z(!0)},icon:(0,_.jsx)(l.DuK,{}),variant:"regular"})}),!ue&&(0,_.jsx)(J.Z,{tooltip:me?"":(0,y.MK)([y.Ft.S3_CREATE_BUCKET],"create a bucket"),children:(0,_.jsx)(l.zxk,{id:"create-bucket",onClick:function(){s(y.gA.ADD_BUCKETS)},icon:(0,_.jsx)(l.dtP,{}),variant:"callAction",disabled:!me,label:"Create Bucket"})})]})]}),j&&(0,_.jsx)(d.Z,{}),!j&&(0,_.jsxs)(h.ZP,{item:!0,xs:12,className:"".concat(t.bucketList," ").concat(ue?"isEmbedded":""),children:[0!==de.length&&(0,_.jsx)(q.Z,{rowRenderFunction:function(e){var t=de[e]||null;return t?(0,_.jsx)(w,{bucket:t,onSelect:xe,selected:T.includes(t.name),bulkSelect:ce,noManage:ue}):null},totalItems:de.length}),0===de.length&&""!==k&&(0,_.jsx)(h.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,_.jsx)(h.ZP,{item:!0,xs:8,children:(0,_.jsx)(l.KfX,{iconComponent:(0,_.jsx)(l.wNb,{}),title:"No Results",help:(0,_.jsx)(r.Fragment,{children:"No buckets match the filtering condition"})})})}),!he&&(0,_.jsx)(h.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,_.jsx)(h.ZP,{item:!0,xs:8,children:(0,_.jsx)(l.KfX,{iconComponent:(0,_.jsx)(l.wNb,{}),title:"Buckets",help:(0,_.jsxs)(r.Fragment,{children:["MinIO uses buckets to organize objects. A bucket is similar to a folder or directory in a filesystem, where each bucket can hold an arbitrary number of objects.",(0,_.jsx)("br",{}),fe?"":(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)("br",{}),(0,y.MK)([y.Ft.S3_LIST_BUCKET,y.Ft.S3_ALL_LIST_BUCKET],"view the buckets on this server"),(0,_.jsx)("br",{})]}),(0,_.jsxs)(S.s,{scopes:[y.Ft.S3_CREATE_BUCKET],resource:y.C3,children:[(0,_.jsx)("br",{}),"To get started,\xa0",(0,_.jsx)(ee.Z,{onClick:function(){s(y.gA.ADD_BUCKETS)},children:"Create a Bucket."})]})]})})})})]})]})]})}))},64163:function(e,t,n){var i=n(1413),a=n(72791),s=n(61889),r=n(11135),c=n(25787),l=n(23814),o=n(80184);t.Z=(0,c.Z)((function(e){return(0,r.Z)((0,i.Z)({},l.xx))}))((function(e){var t=e.classes,n=e.label,i=void 0===n?"":n,r=e.content,c=e.multiLine,l=void 0!==c&&c,u=e.actionButton;return(0,o.jsx)(a.Fragment,{children:(0,o.jsxs)(s.ZP,{className:t.prefinedContainer,children:[""!==i&&(0,o.jsx)(s.ZP,{item:!0,xs:12,className:t.predefinedTitle,children:i}),(0,o.jsxs)(s.ZP,{item:!0,xs:12,className:"".concat(t.predefinedList," ").concat(u?t.includesActionButton:""),children:[(0,o.jsx)(s.ZP,{item:!0,xs:12,className:l?t.innerContentMultiline:t.innerContent,children:r}),u&&(0,o.jsx)("div",{className:t.overlayShareOption,children:u})]})]})})}))},17420:function(e,t,n){var i=n(93433),a=n(29439),s=n(1413),r=n(72791),c=n(26181),l=n.n(c),o=n(48573),u=n.n(o),d=n(11135),h=n(25787),x=n(61889),m=n(77961),f=n(30829),p=n(20068),g=n(23814),j=n(21435),Z=n(75952),v=n(80184);t.Z=(0,h.Z)((function(e){return(0,d.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},g.YI),g.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15},lineInputBoxes:{display:"flex",marginBottom:10},queryDiv:{alignSelf:"center",margin:"0 4px",fontWeight:600}}))}))((function(e){var t=e.elements,n=e.name,s=e.label,c=e.tooltip,o=void 0===c?"":c,d=e.keyPlaceholder,h=void 0===d?"":d,g=e.valuePlaceholder,b=void 0===g?"":g,k=e.onChange,y=e.withBorder,S=void 0!==y&&y,C=e.classes,P=(0,r.useState)([""]),_=(0,a.Z)(P,2),N=_[0],w=_[1],T=(0,r.useState)([""]),E=(0,a.Z)(T,2),B=E[0],R=E[1],I=(0,r.createRef)();(0,r.useEffect)((function(){if(1===N.length&&""===N[0]&&1===B.length&&""===B[0]&&t&&""!==t){var e=t.split("&"),n=[],i=[];e.forEach((function(e){var t=e.split("=");2===t.length&&(n.push(t[0]),i.push(t[1]))})),n.push(""),i.push(""),w(n),R(i)}}),[N,B,t]),(0,r.useEffect)((function(){var e=I.current;e&&N.length>1&&e.scrollIntoView(!1)}),[N]);var F=(0,r.useRef)(!0);(0,r.useLayoutEffect)((function(){F.current?F.current=!1:z()}),[N,B]);var L=function(e){e.persist();var t=(0,i.Z)(N),n=l()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,w(t)},A=function(e){e.persist();var t=(0,i.Z)(B),n=l()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,R(t)},z=u()((function(){var e="";N.forEach((function(t,n){if(N[n]&&B[n]){var i="".concat(t,"=").concat(B[n]);0!==n&&(i="&".concat(i)),e="".concat(e).concat(i)}})),k(e)}),500),M=B.map((function(e,t){return(0,v.jsxs)(x.ZP,{item:!0,xs:12,className:C.lineInputBoxes,children:[(0,v.jsx)(j.Z,{id:"".concat(n,"-key-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:N[t],onChange:L,index:t,placeholder:h}),(0,v.jsx)("span",{className:C.queryDiv,children:":"}),(0,v.jsx)(j.Z,{id:"".concat(n,"-value-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:B[t],onChange:A,index:t,placeholder:b,overlayIcon:t===B.length-1?(0,v.jsx)(Z.dtP,{}):null,overlayAction:function(){!function(){if(""!==N[N.length-1].trim()&&""!==B[B.length-1].trim()){var e=(0,i.Z)(N),t=(0,i.Z)(B);e.push(""),t.push(""),w(e),R(t)}}()}})]},"query-pair-".concat(n,"-").concat(t.toString()))}));return(0,v.jsx)(r.Fragment,{children:(0,v.jsxs)(x.ZP,{item:!0,xs:12,className:C.fieldContainer,children:[(0,v.jsxs)(f.Z,{className:C.inputLabel,children:[(0,v.jsx)("span",{children:s}),""!==o&&(0,v.jsx)("div",{className:C.tooltipContainer,children:(0,v.jsx)(p.Z,{title:o,placement:"top-start",children:(0,v.jsx)(m.Z,{className:C.tooltip})})})]}),(0,v.jsxs)(x.ZP,{item:!0,xs:12,className:"".concat(S?C.inputWithBorder:""),children:[M,(0,v.jsx)("div",{ref:I})]})]})})}))},98994:function(e,t,n){var i=n(72791),a=n(22338),s=n(79762),r=n(5171),c=n(80184),l={};t.Z=function(e){var t=e.rowRenderFunction,n=e.totalItems,o=e.defaultHeight,u=function(e){var n=e.index,i=e.style;return(0,c.jsx)("div",{style:i,children:t(n)})};return(0,c.jsx)(i.Fragment,{children:(0,c.jsx)(s.Z,{isItemLoaded:function(e){return!!l[e]},loadMoreItems:function(e,t){for(var n=e;n<=t;n++)l[n]=1;for(var i=e;i<=t;i++)l[i]=2},itemCount:n,children:function(e){var t=e.onItemsRendered,i=e.ref;return(0,c.jsx)(r.qj,{children:function(e){var s=e.width,r=e.height;return(0,c.jsx)(a.t7,{itemSize:o||220,height:r,itemCount:n,width:s,ref:i,onItemsRendered:t,children:u})}})}})})}},98946:function(e,t,n){var i=n(64836);t.Z=void 0;var a=i(n(45649)),s=n(80184),r=(0,a.default)((0,s.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");t.Z=r},15146:function(e,t,n){var i=n(64836);t.Z=void 0;var a=i(n(45649)),s=n(80184),r=(0,a.default)((0,s.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.Z=r},77961:function(e,t,n){var i=n(64836);t.Z=void 0;var a=i(n(45649)),s=n(80184),r=(0,a.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");t.Z=r}}]);
//# sourceMappingURL=9467.84daec09.chunk.js.map