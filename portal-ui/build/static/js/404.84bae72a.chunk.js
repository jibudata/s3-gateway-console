"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[404],{20404:function(e,n,t){t.r(n),t.d(n,{default:function(){return Bn}});var i=t(18489),a=t(50390),o=t(34424),r=t(86509),s=t(4285),c=t(6369),l=t(94187),d=t(95467),u=t(25594),m=t(38342),f=t.n(m),h=t(72462),p=t(5265),x=t(23430),b=t(70971),g=t(87248),j=t.n(g),v=t(44977),Z=t(81378),y=t(18201),k=t(4182),w=t(35044),C=t(29399),S=t(73481),N=t(63020),T=t(12066),F=t(65771),_=t(96152),P=t(21278),E=t(79440),I=t(3662),D=t(24442),M=t(30324),O=t(8174),B=t(44149),L=t(28948),R=t(49495),z=t(66946),A=t(58762),U=t(76352),W=t(92440),G=t(27207),K=t(14905),H=t(62559),J={setModalErrorSnackMessage:B.zb},Y=(0,o.$j)(null,J),$=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.DF),h.ID),h.bK),{},{dateSelector:{"& div":{borderBottom:0,marginBottom:0,"& div:nth-child(2)":{border:"1px solid #EAEAEA",paddingLeft:5,"& div":{border:0}}}}}))}))(Y((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,r=e.objectInfo,s=e.bucketName,c=e.setModalErrorSnackMessage,l=(0,a.useState)(!0),d=(0,x.Z)(l,2),m=d[0],f=d[1],h=(0,a.useState)(""),p=(0,x.Z)(h,2),b=p[0],g=p[1],j=(0,a.useState)(""),v=(0,x.Z)(j,2),Z=v[0],y=v[1],k=(0,a.useState)(!1),w=(0,x.Z)(k,2),C=w[0],S=w[1],N=(0,a.useState)(!1),T=(0,x.Z)(N,2),F=T[0],_=T[1],P=(0,a.useState)(!1),E=(0,x.Z)(P,2),I=E[0],D=E[1];(0,a.useEffect)((function(){if(r.retention_mode&&(g(r.retention_mode.toLowerCase()),D(!0)),r.retention_until_date){var e=new Date(r.retention_until_date);if("Invalid Date"!==e.toString()){var n=e.getFullYear(),t=(0,A.J8)(e.getMonth()+1),i=e.getDate();isNaN(i)||"NaN"===t||isNaN(n)||y("".concat(n,"-").concat(t,"-").concat(i))}D(!0)}}),[r]);var O=(0,a.useRef)(null),B=function(){f(!1),g(""),O.current&&O.current.resetDate()},R=I&&("governance"===b||""===b);return(0,H.jsxs)(U.Z,{title:"Set Retention Policy",modalOpen:t,onClose:function(){B(),i(!1)},children:[(0,H.jsxs)("div",{className:n.spacerBottom,children:[(0,H.jsx)("strong",{children:"Selected Object"}),": ",o]}),(0,H.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:[R&&(0,H.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,H.jsx)(W.Z,{value:"status",id:"status",name:"status",checked:m,onChange:function(e){f(!m)},label:"Status",indicatorLabels:["Enabled","Disabled"]})}),(0,H.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,H.jsx)(G.Z,{currentSelection:b,id:"type",name:"type",label:"Type",disableOptions:!m||I&&""!==b,onChange:function(e){g(e.target.value)},selectorOptions:[{label:"Governance",value:"governance"},{label:"Compliance",value:"compliance"}]})}),(0,H.jsx)(u.ZP,{item:!0,xs:12,className:"".concat(n.dateSelector," "),children:(0,H.jsx)(K.Z,{id:"date",label:"Date",disableOptions:!(m&&("governance"===b||"compliance"===b)),ref:O,value:Z,borderBottom:!0,onDateChange:function(e,n){S(n),n&&y(e)}})}),(0,H.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,H.jsx)(z.Z,{type:"button",variant:"outlined",color:"primary",onClick:B,children:"Reset"}),(0,H.jsx)(z.Z,{type:"submit",variant:"contained",color:"primary",disabled:m&&""===b||m&&!C||F,onClick:function(){_(!0);var e=r.name,n=r.version_id,t=m||"governance"!==b?"".concat(Z,"T23:59:59Z"):"";m||"governance"!==b?function(e,n,t){M.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/retention?prefix=").concat((0,L.ug)(e),"&version_id=").concat(n),{expires:t,mode:b}).then((function(e){_(!1),i(!0)})).catch((function(e){c(e),_(!1)}))}(e,n,t):function(e,n){M.Z.invoke("DELETE","/api/v1/buckets/".concat(s,"/objects/retention?prefix=").concat((0,L.ug)(e),"&version_id=").concat(n)).then((function(){_(!1),i(!0)})).catch((function(e){c(e),_(!1)}))}(e,n)},children:"Save"})]})]})]})}))),V=(0,o.$j)((function(e){var n=e.objectBrowser;return{rewindEnabled:f()(n,"rewind.rewindEnabled",!1),rewindDate:f()(n,"rewind.dateToRewind",null)}}),null),q=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)({},h.cx))}))(V((function(e){var n=e.classes,t=e.bucketName,i=e.internalPaths,o=(e.rewindEnabled,e.rewindDate,i);""!==i&&(o="/".concat(i));var r=o.split("/").filter((function(e){return""!==e})),s=r.map((function(e,n){var i=r.slice(0,n+1).join("/"),o="/buckets/".concat(t,"/browse/").concat(i?"".concat((0,L.ug)(i)):"");return(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(c.rU,{to:o,children:e}),n<r.length-1&&(0,H.jsx)("span",{children:" / "})]},"breadcrumbs-".concat(n.toString()))}));return(0,H.jsxs)(a.Fragment,{children:[!1,(0,H.jsxs)(u.ZP,{item:!0,xs:12,className:n.breadcrumbs,children:[(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(c.rU,{to:"/buckets/".concat(t,"/browse"),children:t}),s.length>0&&(0,H.jsx)("span",{children:" / "})]}),s]})]})}))),X=t(45592),Q=t(66964),ee=t(52813),ne={setModalErrorSnackMessage:B.zb},te=(0,o.$j)((function(e){var n=e.system;return{distributedSetup:f()(n,"distributedSetup",!1)}}),ne),ie=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({pathLabel:{marginTop:0,marginBottom:32}},h.DF),h.ID),h.bK))}))(te((function(e){var n=e.modalOpen,t=e.currentTags,o=e.selectedObject,r=e.onCloseAndUpdate,s=e.bucketName,c=e.versionId,l=e.distributedSetup,d=e.setModalErrorSnackMessage,m=e.classes,f=(0,a.useState)(""),h=(0,x.Z)(f,2),p=h[0],b=h[1],g=(0,a.useState)(""),j=(0,x.Z)(g,2),v=j[0],Z=j[1],y=(0,a.useState)(!1),k=(0,x.Z)(y,2),w=k[0],C=k[1];return(0,H.jsx)(a.Fragment,{children:(0,H.jsx)(U.Z,{modalOpen:n,title:"Add New Tag to the Object",onClose:function(){r(!1)},titleIcon:(0,H.jsx)(ee.OC,{}),children:(0,H.jsxs)(u.ZP,{container:!0,children:[(0,H.jsxs)("div",{className:m.spacerBottom,children:[(0,H.jsx)("strong",{children:"Selected Object"}),": ",(0,L.le)(o)]}),(0,H.jsx)(u.ZP,{item:!0,xs:12,className:m.formFieldRow,children:(0,H.jsx)(Q.Z,{value:p,label:"Tag Key",id:"newTagKey",name:"newTagKey",placeholder:"Enter Tag Key",onChange:function(e){b(e.target.value)}})}),(0,H.jsx)(u.ZP,{item:!0,xs:12,className:m.formFieldRow,children:(0,H.jsx)(Q.Z,{value:v,label:"Tag Label",id:"newTagLabel",name:"newTagLabel",placeholder:"Enter Tag Label",onChange:function(e){Z(e.target.value)}})}),(0,H.jsxs)(u.ZP,{item:!0,xs:12,className:m.modalButtonBar,children:[(0,H.jsx)(z.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){Z(""),b("")},children:"Clear"}),(0,H.jsx)(z.Z,{type:"submit",variant:"contained",color:"primary",disabled:""===v.trim()||""===p.trim()||w,onClick:function(){C(!0);var e={};e[p]=v;var n=(0,i.Z)((0,i.Z)({},t),e),a=l?c:"null";M.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/tags?prefix=").concat(o,"&version_id=").concat(a),{tags:n}).then((function(e){C(!1),r(!0)})).catch((function(e){d(e),C(!1)}))},children:"Save"})]})]})})})}))),ae=t(23473),oe=t(21639),re=t(60656),se={setErrorSnackMessage:B.Ih},ce=(0,o.$j)((function(e){var n=e.system;return{distributedSetup:f()(n,"distributedSetup",!1)}}),se),le=(0,s.Z)((function(e){return(0,r.Z)({})}))(ce((function(e){var n=e.deleteOpen,t=e.currentTags,a=e.selectedObject,o=e.selectedTag,r=e.onCloseAndUpdate,s=e.bucketName,c=e.versionId,l=e.distributedSetup,d=e.setErrorSnackMessage,u=e.classes,m=(0,x.Z)(o,2),f=m[0],h=m[1],p=(0,oe.Z)((function(){return r(!0)}),(function(e){return d(e)})),b=(0,x.Z)(p,2),g=b[0],j=b[1];if(!o)return null;return(0,H.jsx)(re.Z,{title:"Delete Tag",confirmText:"Delete",isOpen:n,titleIcon:(0,H.jsx)(ee.Nv,{}),isLoading:g,onConfirm:function(){var e=(0,i.Z)({},t);delete e[f];var n=l?c:"null";j("PUT","/api/v1/buckets/".concat(s,"/objects/tags?prefix=").concat((0,L.ug)(a),"&version_id=").concat(n),{tags:e})},onClose:function(){return r(!1)},confirmationContent:(0,H.jsxs)(ae.Z,{children:["Are you sure you want to delete the tag"," ",(0,H.jsxs)("b",{className:u.wrapText,children:[f," : ",h]})," ","from ",a,"?"]})})}))),de={setModalErrorSnackMessage:B.zb},ue=(0,o.$j)(null,de),me=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.DF),h.ID),h.bK))}))(ue((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,r=e.bucketName,s=e.actualInfo,c=e.setModalErrorSnackMessage,l=(0,a.useState)(!1),d=(0,x.Z)(l,2),m=d[0],h=d[1],p=(0,a.useState)(!1),b=(0,x.Z)(p,2),g=b[0],j=b[1],v=s.version_id;(0,a.useEffect)((function(){var e=f()(s,"legal_hold_status","OFF");h("ON"===e)}),[s]);var Z=function(){h(!1)};return(0,H.jsxs)(U.Z,{title:"Set Legal Hold",modalOpen:t,onClose:function(){Z(),i(!1)},children:[(0,H.jsxs)(u.ZP,{item:!0,xs:12,className:n.spacerBottom,children:["Object: ",r]}),(0,H.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),j(!0),M.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/legalhold?prefix=").concat((0,L.ug)(o),"&version_id=").concat(v),{status:m?"enabled":"disabled"}).then((function(){j(!1),i(!0)})).catch((function(e){c(e),j(!1)}))}(e)},children:[(0,H.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,H.jsx)(W.Z,{value:"legalhold",id:"legalhold",name:"legalhold",checked:m,onChange:function(e){h(!m)},label:"Legal Hold Status",indicatorLabels:["Enabled","Disabled"],tooltip:"To enable this feature you need to enable versioning on the bucket before creation"})}),(0,H.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,H.jsx)(z.Z,{type:"button",color:"primary",variant:"outlined",onClick:Z,children:"Clear"}),(0,H.jsx)(z.Z,{type:"submit",variant:"contained",color:"primary",disabled:g,children:"Save"})]})]})]})}))),fe=t(62702),he=t(10262),pe=t(84402),xe=t(78426),be=t(93085),ge=t(7887),je={setErrorSnackMessage:B.Ih},ve=(0,o.$j)(null,je),Ze=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)({},h.oO))}))(ve((function(e){var n=e.classes,t=e.versionID,i=e.bucketName,o=e.objectPath,r=e.restoreOpen,s=e.onCloseAndUpdate,c=(0,a.useState)(!1),l=(0,x.Z)(c,2),d=l[0],u=l[1];return(0,H.jsxs)(pe.Z,{open:r,onClose:function(){s(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,H.jsx)(xe.Z,{id:"alert-dialog-title",children:"Restore File Version"}),(0,H.jsx)(be.Z,{children:(0,H.jsxs)(ae.Z,{id:"alert-dialog-description",children:["Are you sure you want to restore ",(0,H.jsx)("b",{children:o})," ",(0,H.jsx)("br",{})," with Version ID: ",(0,H.jsx)("b",{className:n.wrapText,children:t}),"?"]})}),(0,H.jsxs)(ge.Z,{children:[(0,H.jsx)(z.Z,{onClick:function(){s(!1)},color:"primary",disabled:d,children:"Cancel"}),(0,H.jsx)(z.Z,{onClick:function(){u(!0),M.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/objects/restore?prefix=").concat((0,L.ug)(o),"&version_id=").concat(t)).then((function(e){u(!1),s(!0)})).catch((function(e){(0,B.Ih)(e),u(!1)}))},color:"primary",autoFocus:!0,disabled:d,children:"Restore"})]})]})}))),ye=t(25534),ke=t(57647),we=t(15607),Ce=t(53224),Se=a.lazy((function(){return Promise.resolve().then(t.bind(t,11733))})),Ne=a.lazy((function(){return Promise.resolve().then(t.bind(t,35994))})),Te=a.lazy((function(){return Promise.resolve().then(t.bind(t,51420))})),Fe=a.lazy((function(){return Promise.resolve().then(t.bind(t,35336))})),_e=a.lazy((function(){return Promise.resolve().then(t.bind(t,59078))})),Pe=a.lazy((function(){return Promise.resolve().then(t.bind(t,13336))})),Ee=a.lazy((function(){return Promise.resolve().then(t.bind(t,93482))})),Ie={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},De={setErrorSnackMessage:B.Ih,setSnackBarMessage:B.y1,setNewObject:p.Mc,updateProgress:p.RO,completeObject:p.oK},Me=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.system;return{downloadingFiles:f()(n,"downloadingFiles",[]),rewindEnabled:f()(n,"rewind.rewindEnabled",!1),rewindDate:f()(n,"rewind.dateToRewind",null),bucketToRewind:f()(n,"rewind.bucketToRewind",""),distributedSetup:f()(t,"distributedSetup",!1)}}),De),Oe=(0,b.EN)(Me((0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({propertiesIcon:{marginLeft:5,"& .min-icon":{height:12}},tag:{marginRight:6,fontSize:10,fontWeight:700,"&.MuiChip-sizeSmall":{height:18},"& .min-icon":{height:10,width:10}},search:{marginBottom:8,"&.MuiFormControl-root":{marginRight:0}},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleCol:{width:"25%"},titleItem:{width:"35%"},"@global":{".progressDetails":{paddingTop:3,display:"inline-block",position:"relative",width:18,height:18},".progressDetails > .MuiCircularProgress-root":{position:"absolute",left:0,top:3}},tabsContainer:{border:"1px solid #eaeaea",borderTop:0}},h.bp),h.Si),h.OR),h.qg),(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.downloadingFiles,i=(e.rewindEnabled,e.rewindDate,e.distributedSetup),o=e.match,r=(e.bucketToRewind,e.setErrorSnackMessage),s=(e.setSnackBarMessage,e.setNewObject),c=e.updateProgress,l=e.completeObject,m=(0,a.useState)(!0),h=(0,x.Z)(m,2),p=h[0],b=h[1],g=(0,a.useState)(!1),B=(0,x.Z)(g,2),z=B[0],A=B[1],U=(0,a.useState)(!1),W=(0,x.Z)(U,2),G=W[0],K=W[1],J=(0,a.useState)(!1),Y=(0,x.Z)(J,2),V=Y[0],Q=Y[1],ee=(0,a.useState)(!1),ne=(0,x.Z)(ee,2),te=ne[0],ae=ne[1],oe=(0,a.useState)(["",""]),re=(0,x.Z)(oe,2),se=re[0],ce=re[1],de=(0,a.useState)(!1),ue=(0,x.Z)(de,2),pe=ue[0],xe=ue[1],be=(0,a.useState)(null),ge=(0,x.Z)(be,2),je=ge[0],ve=ge[1],De=(0,a.useState)(null),Me=(0,x.Z)(De,2),Oe=Me[0],Be=Me[1],Le=(0,a.useState)([]),Re=(0,x.Z)(Le,2),ze=Re[0],Ae=Re[1],Ue=(0,a.useState)(""),We=(0,x.Z)(Ue,2),Ge=We[0],Ke=We[1],He=(0,a.useState)(!1),Je=(0,x.Z)(He,2),Ye=Je[0],$e=Je[1],Ve=(0,a.useState)(!0),qe=(0,x.Z)(Ve,2),Xe=qe[0],Qe=qe[1],en=(0,a.useState)({}),nn=(0,x.Z)(en,2),tn=nn[0],an=nn[1],on=(0,a.useState)(!1),rn=(0,x.Z)(on,2),sn=rn[0],cn=rn[1],ln=(0,a.useState)(""),dn=(0,x.Z)(ln,2),un=dn[0],mn=dn[1],fn=f()(o.params,"subpaths",""),hn=(0,L.le)(fn)||"",pn=o.params.bucketName,xn=hn.split("/"),bn=xn.pop()||"",gn=[];je&&(gn=je.name.split("/")),(0,a.useEffect)((function(){p&&""!==fn&&M.Z.invoke("GET","/api/v1/buckets/".concat(pn,"/objects?prefix=").concat(fn).concat(i?"&with_versions=true":"")).then((function(e){var n=f()(e,"objects",[]);i?(ve(n.find((function(e){return e.is_latest}))||Ie),Ae(n)):(ve(n[0]),Ae([])),b(!1)})).catch((function(e){r(e),b(!1)}))}),[p,pn,fn,r,i]),(0,a.useEffect)((function(){Xe&&""!==fn&&M.Z.invoke("GET","/api/v1/buckets/".concat(pn,"/objects/metadata?prefix=").concat(fn)).then((function(e){var n=f()(e,"objectMetadata",{});an(n),Qe(!1)})).catch((function(e){Qe(!1)}))}),[pn,Xe,fn]);var jn=[];je&&je.tags&&(jn=Object.keys(je.tags));var vn=function(){A(!0)},Zn=function(e){var n=(0,L.ug)("".concat(pn,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));s({bucketName:pn,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0}),(0,I.LR)(pn,fn,e.version_id,parseInt(e.size||"0"),(function(e){c(n,e)}),(function(){l(n)}))},yn=[{label:"Share",type:"share",onClick:function(e){Be(e),vn()},sendOnlyId:!1,disableButtonFunction:function(e){var n=ze.find((function(n){return n.version_id===e}));return!(!n||!n.is_delete_marker)}},{label:"Download",type:"download",onClick:function(e){Zn(e)},disableButtonFunction:function(e){var n=ze.find((function(n){return n.version_id===e}));return!(!n||!n.is_delete_marker)}},{label:"Restore",type:(0,H.jsx)(Se,{}),onClick:function(e){mn(e.version_id||""),cn(!0)},disableButtonFunction:function(e){var n=ze.find((function(n){return n.version_id===e}));return n&&n.is_delete_marker||!1}}],kn=ze.filter((function(e){return!!e.version_id&&e.version_id.includes(Ge)}));return(0,H.jsxs)(a.Fragment,{children:[z&&je&&(0,H.jsx)(E.default,{open:z,closeModalAndRefresh:function(){Be(null),A(!1)},bucketName:pn,dataObject:Oe||je}),G&&je&&(0,H.jsx)($,{open:G,closeModalAndRefresh:function(e){K(!1),e&&b(!0)},objectName:bn,objectInfo:je,bucketName:pn}),Ye&&(0,H.jsx)(X.default,{deleteOpen:Ye,selectedBucket:pn,selectedObject:fn,closeDeleteModalAndRefresh:function(e){if($e(!1),e){var n=xn.join("/");D.Z.push("/buckets/".concat(pn,"/browse").concat(""===n?"":"/".concat((0,L.ug)(n))))}},versioning:i}),V&&je&&(0,H.jsx)(ie,{modalOpen:V,currentTags:je.tags,selectedObject:fn,versionId:je.version_id,bucketName:pn,onCloseAndUpdate:function(e){Q(!1),e&&b(!0)}}),te&&je&&(0,H.jsx)(le,{deleteOpen:te,currentTags:je.tags,selectedObject:je.name,versionId:je.version_id,bucketName:pn,onCloseAndUpdate:function(e){ae(!1),e&&b(!0)},selectedTag:se}),pe&&je&&(0,H.jsx)(me,{open:pe,closeModalAndRefresh:function(e){xe(!1),e&&b(!0)},objectName:je.name,bucketName:pn,actualInfo:je}),sn&&je&&(0,H.jsx)(Ze,{restoreOpen:sn,bucketName:pn,versionID:un,objectPath:je.name,onCloseAndUpdate:function(e){cn(!1),mn(""),e&&(b(!0),Qe(!0))}}),(0,H.jsxs)(ye.Z,{className:n.pageContainer,children:[!je&&(0,H.jsx)(u.ZP,{item:!0,xs:12,children:(0,H.jsx)(Z.Z,{})}),je&&(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(u.ZP,{item:!0,xs:12,children:(0,H.jsx)(fe.Z,{icon:(0,H.jsx)(a.Fragment,{children:(0,H.jsx)(Ee,{width:40})}),title:gn.length>0?gn[gn.length-1]:je.name,subTitle:(0,H.jsx)(a.Fragment,{children:(0,H.jsx)(q,{bucketName:pn,internalPaths:je.name})}),actions:(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_DELETE_OBJECT],resource:pn,matchAll:!0,errorProps:{disabled:!0},children:(0,H.jsx)(Ce.Z,{tooltip:"Delete Object",onClick:function(){$e(!0)},text:"",icon:(0,H.jsx)(Fe,{}),color:"secondary",disabled:je.is_delete_marker,variant:"outlined"})}),(0,H.jsx)(Ce.Z,{tooltip:"Share",onClick:function(){vn()},text:"",icon:(0,H.jsx)(Ne,{}),color:"primary",disabled:je.is_delete_marker,variant:"outlined"}),t.includes("".concat(pn,"/").concat(je.name))?(0,H.jsx)("div",{className:"progressDetails",children:(0,H.jsx)(y.Z,{color:"primary",size:17,variant:"indeterminate"})}):(0,H.jsx)(Ce.Z,{tooltip:"Download",text:"",icon:(0,H.jsx)(Te,{}),color:"primary",onClick:function(){Zn(je)},disabled:je.is_delete_marker,variant:"outlined"})]})})}),(0,H.jsxs)(ke.Z,{classes:{tabsContainer:n.tabsContainer},children:[{tabConfig:{label:"Details"},content:(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)("div",{className:n.actionsTray,children:(0,H.jsx)("h1",{className:n.sectionTitle,children:"Details"})}),(0,H.jsx)("br",{}),(0,H.jsx)(u.ZP,{item:!0,xs:12,children:(0,H.jsx)("table",{width:"100%",children:(0,H.jsxs)("tbody",{children:[(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_GET_OBJECT_LEGAL_HOLD],resource:pn,children:(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{className:n.titleCol,children:"Legal Hold:"}),(0,H.jsx)("td",{className:n.capitalizeFirst,children:je.version_id&&"null"!==je.version_id?(0,H.jsxs)(a.Fragment,{children:[je.legal_hold_status?je.legal_hold_status.toLowerCase():"Off",(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_PUT_OBJECT_LEGAL_HOLD],resource:pn,matchAll:!0,errorProps:{disabled:!0,onClick:null},children:(0,H.jsx)(d.Z,{color:"primary","aria-label":"legal-hold",size:"small",className:n.propertiesIcon,onClick:function(){xe(!0)},children:(0,H.jsx)(_e,{})})})]}):"Disabled"})]})}),(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_GET_OBJECT_RETENTION],resource:pn,children:(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{className:n.titleCol,children:"Retention:"}),(0,H.jsxs)("td",{className:n.capitalizeFirst,children:[je.retention_mode?je.retention_mode.toLowerCase():"None",(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_PUT_OBJECT_RETENTION],resource:pn,matchAll:!0,children:(0,H.jsx)(d.Z,{color:"primary","aria-label":"retention",size:"small",className:n.propertiesIcon,onClick:function(){K(!0)},children:(0,H.jsx)(_e,{})})})]})]})}),(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_GET_OBJECT_TAGGING],resource:pn,children:(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{className:n.titleCol,children:"Tags:"}),(0,H.jsxs)("td",{children:[jn&&jn.map((function(e,t){var i=f()(je,"tags.".concat(e),"");return""!==i?(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_DELETE_OBJECT_TAGGING],resource:pn,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:(0,H.jsx)(N.Z,{className:n.tag,size:"small",label:"".concat(e," : ").concat(i),color:"primary",deleteIcon:(0,H.jsx)(P.Z,{}),onDelete:function(){!function(e,n){ce([e,n]),ae(!0)}(e,i)}},"chip-".concat(t))}):null})),(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_PUT_OBJECT_TAGGING],resource:pn,matchAll:!0,errorProps:{disabled:!0,onClick:null},children:(0,H.jsx)(N.Z,{className:n.tag,icon:(0,H.jsx)(_.Z,{}),clickable:!0,size:"small",label:"Add tag",color:"primary",variant:"outlined",onClick:function(){Q(!0)}})})]})]})})]})})}),(0,H.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,H.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,H.jsx)("h2",{children:"Object Metadata"}),(0,H.jsx)("hr",{className:n.hr})]}),(0,H.jsx)(u.ZP,{item:!0,xs:12,children:(0,H.jsx)(k.Z,{className:n.table,"aria-label":"simple table",children:(0,H.jsx)(w.Z,{children:Object.keys(tn).map((function(e,t){var i=Array.isArray(tn[e])?tn[e].map(decodeURIComponent).join(", "):decodeURIComponent(tn[e]);return(0,H.jsxs)(C.Z,{children:[(0,H.jsx)(S.Z,{component:"th",scope:"row",className:n.titleItem,children:e}),(0,H.jsx)(S.Z,{align:"right",children:i})]},"tRow-".concat(t.toString()))}))})})})]})]})},{tabConfig:{label:"Versions",disabled:!(je.version_id&&"null"!==je.version_id)},content:(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)("div",{className:n.actionsTray,children:(0,H.jsx)("h1",{className:n.sectionTitle,children:"Versions"})}),(0,H.jsx)("br",{}),(0,H.jsx)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:je.version_id&&"null"!==je.version_id&&(0,H.jsx)(T.Z,{placeholder:"Search ".concat(bn),className:(0,v.Z)(n.search,n.searchField),id:"search-resource",label:"",onChange:function(e){Ke(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,H.jsx)(F.Z,{position:"start",children:(0,H.jsx)(Pe,{})})},variant:"standard"})}),(0,H.jsx)(u.ZP,{item:!0,xs:12,children:je.version_id&&"null"!==je.version_id&&(0,H.jsx)(O.Z,{itemActions:yn,columns:[{label:"",width:40,renderFullObject:!0,renderFunction:function(e){var n=ze.length-ze.indexOf(e);return"v".concat(n)},elementKey:"version_id"},{label:"Version ID",elementKey:"version_id"},{label:"Last Modified",elementKey:"last_modified",renderFunction:function(e){return(0,H.jsx)(j(),{children:e})}},{label:"Deleted",width:60,contentTextAlign:"center",renderFullObject:!0,elementKey:"is_delete_marker",renderFunction:function(e){var n=e.is_delete_marker?"Yes":"No";return"".concat(n)}}],isLoading:!1,entityName:"Versions",idField:"version_id",records:kn,textSelectable:!0})})]})},{tabConfig:{label:"Preview",disabled:"none"===(0,I.Bg)(bn)},content:(0,H.jsx)(a.Fragment,{children:je&&(0,H.jsx)(he.Z,{bucketName:pn,object:{name:je.name,version_id:je.version_id||"null",size:parseInt(je.size||"0"),content_type:"",last_modified:new Date(je.last_modified)},isFullscreen:!0})})}]})]})]})]})})))),Be=t(35531),Le=t(58471),Re=t(35477),ze=t(2857),Ae=t(77130),Ue=t(23165),We=t(37882),Ge=t(89472),Ke=t(93482),He=t(416),Je=(0,s.Z)((function(e){return(0,r.Z)({fileName:{display:"flex",alignItems:"center","& .min-icon":{width:16,height:16,marginRight:4}},fileNameText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})}))((function(e){return(0,H.jsxs)("div",{className:e.classes.fileName,children:[e.icon,(0,H.jsx)("span",{className:e.classes.fileNameText,children:e.strings[e.strings.length-1]})]})})),Ye=a.lazy((function(){return Promise.resolve().then(t.bind(t,30510))})),$e=a.lazy((function(){return Promise.resolve().then(t.bind(t,78162))})),Ve=a.lazy((function(){return Promise.resolve().then(t.bind(t,30272))})),qe=a.lazy((function(){return Promise.resolve().then(t.bind(t,52383))})),Xe=a.lazy((function(){return Promise.resolve().then(t.bind(t,35031))})),Qe=a.lazy((function(){return Promise.resolve().then(t.bind(t,79877))})),en=a.lazy((function(){return Promise.resolve().then(t.bind(t,60317))})),nn=a.lazy((function(){return Promise.resolve().then(t.bind(t,80479))})),tn=a.lazy((function(){return Promise.resolve().then(t.bind(t,37634))})),an=a.lazy((function(){return Promise.resolve().then(t.bind(t,99884))})),on=a.lazy((function(){return Promise.resolve().then(t.bind(t,90474))})),rn=a.lazy((function(){return Promise.resolve().then(t.bind(t,15874))})),sn=a.lazy((function(){return Promise.resolve().then(t.bind(t,58729))})),cn=a.lazy((function(){return Promise.resolve().then(t.bind(t,49653))})),ln=a.lazy((function(){return Promise.resolve().then(t.bind(t,25909))})),dn=t(26936),un=t(31680),mn=t(70902),fn=t(80498),hn=(0,s.Z)((function(e){return(0,r.Z)({listUploadIcons:{"& .min-icon":{width:18,fill:"rgba(0,0,0,0.87)"}}})}))((function(e){var n=e.buttonDisabled,t=void 0!==n&&n,i=e.uploadFileFunction,o=e.uploadFolderFunction,r=e.classes,s=a.useState(null),c=(0,x.Z)(s,2),l=c[0],d=c[1],u=Boolean(l),m=function(){d(null)};return(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(Ce.Z,{id:"upload-main",tooltip:"Upload Files","aria-controls":"upload-main-menu","aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:function(e){d(e.currentTarget)},text:"Upload Files",icon:(0,H.jsx)(ee.rG,{}),color:"primary",variant:"contained",disabled:t}),(0,H.jsxs)(dn.Z,{id:"upload-main-menu","aria-labelledby":"upload-main",anchorEl:l,open:u,onClose:function(){m()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,H.jsxs)(un.Z,{onClick:function(){i(m)},disabled:t,children:[(0,H.jsx)(fn.Z,{className:r.listUploadIcons,children:(0,H.jsx)(ee.rG,{})})," ",(0,H.jsx)(mn.Z,{children:"Upload File"})]}),(0,H.jsxs)(un.Z,{onClick:function(){o(m)},disabled:t,children:[(0,H.jsx)(fn.Z,{className:r.listUploadIcons,children:(0,H.jsx)(ee.oX,{})})," ",(0,H.jsx)(mn.Z,{children:"Upload Folder"})]})]})]})})),pn=a.lazy((function(){return Promise.resolve().then(t.bind(t,71353))})),xn=a.lazy((function(){return Promise.resolve().then(t.bind(t,83842))})),bn=a.lazy((function(){return Promise.resolve().then(t.bind(t,18342))})),gn=a.lazy((function(){return Promise.resolve().then(t.bind(t,18221))})),jn=a.lazy((function(){return Promise.resolve().then(t.bind(t,35336))})),vn=(0,We.Z)(a.lazy((function(){return t.e(9924).then(t.bind(t,39924))}))),Zn=(0,We.Z)(a.lazy((function(){return t.e(9193).then(t.bind(t,49193))}))),yn=(0,We.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,79440))}))),kn=(0,We.Z)(a.lazy((function(){return Promise.all([t.e(4837),t.e(7451)]).then(t.bind(t,97451))}))),wn=(0,We.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,45592))}))),Cn=(0,We.Z)(a.lazy((function(){return t.e(6511).then(t.bind(t,6511))}))),Sn={borderWidth:2,borderRadius:2,borderColor:"#eeeeee",outline:"none"},Nn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#2196f3"},Tn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#00e676"};var Fn=(0,H.jsx)(Re.Z,{component:"h3",children:"Loading..."}),_n={setSnackBarMessage:B.y1,setErrorSnackMessage:B.Ih,setFileModeEnabled:p.WA,resetRewind:p._w,setBucketDetailsLoad:Ae.d5,setBucketInfo:Ae.f4,setNewObject:p.Mc,updateProgress:p.RO,completeObject:p.oK,openList:p.LD},Pn=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.buckets;return{routesList:f()(n,"routesList",[]),downloadingFiles:f()(n,"downloadingFiles",[]),rewindEnabled:f()(n,"rewind.rewindEnabled",!1),rewindDate:f()(n,"rewind.dateToRewind",null),bucketToRewind:f()(n,"rewind.bucketToRewind",""),loadingBucket:t.bucketDetails.loadingBucket,bucketInfo:t.bucketDetails.bucketInfo}}),_n),En=(0,b.EN)(Pn((0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({browsePaper:{height:"calc(100vh - 280px)"},"@global":{".rowLine:hover  .iconFileElm":{backgroundImage:"url(/images/ob_file_filled.svg)"},".rowLine:hover  .iconFolderElm":{backgroundImage:"url(/images/ob_folder_filled.svg)"}},badgeOverlap:{"& .MuiBadge-badge":{top:35,right:10}},screenTitle:{borderBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0}},h.VX),h.OR),h.qg),{},{searchField:(0,i.Z)((0,i.Z)({},h.qg.searchField),{},{maxWidth:380})},h.cx),(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.match,o=e.history,r=e.downloadingFiles,s=e.rewindEnabled,c=e.rewindDate,l=e.bucketToRewind,d=e.setSnackBarMessage,m=e.setErrorSnackMessage,h=e.resetRewind,p=e.setFileModeEnabled,b=e.setBucketDetailsLoad,g=e.loadingBucket,v=e.setBucketInfo,Z=e.bucketInfo,y=e.setNewObject,k=e.updateProgress,w=e.completeObject,C=e.openList,S=(0,a.useState)([]),N=(0,x.Z)(S,2),T=N[0],F=N[1],_=(0,a.useState)(!0),P=(0,x.Z)(_,2),E=P[0],D=P[1],B=(0,a.useState)([]),z=(0,x.Z)(B,2),A=z[0],U=z[1],W=(0,a.useState)(!1),G=(0,x.Z)(W,2),K=G[0],J=G[1],Y=(0,a.useState)(!1),$=(0,x.Z)(Y,2),V=$[0],X=$[1],Q=(0,a.useState)(!1),ne=(0,x.Z)(Q,2),te=ne[0],ie=ne[1],ae=(0,a.useState)(!1),oe=(0,x.Z)(ae,2),re=oe[0],se=oe[1],ce=(0,a.useState)(""),le=(0,x.Z)(ce,2),de=le[0],ue=le[1],me=(0,a.useState)(""),he=(0,x.Z)(me,2),pe=he[0],xe=he[1],be=(0,a.useState)(0),ge=(0,x.Z)(be,2),je=ge[0],ve=ge[1],Ze=(0,a.useState)(Fn),ke=(0,x.Z)(Ze,2),Se=ke[0],Ne=ke[1],Te=(0,a.useState)(!0),Fe=(0,x.Z)(Te,2),_e=Fe[0],Pe=Fe[1],Ee=(0,a.useState)(!1),Ie=(0,x.Z)(Ee,2),De=Ie[0],Me=Ie[1],Oe=(0,a.useState)(!1),Ae=(0,x.Z)(Oe,2),We=Ae[0],dn=Ae[1],un=(0,a.useState)([]),mn=(0,x.Z)(un,2),fn=mn[0],_n=mn[1],Pn=(0,a.useState)(!1),En=(0,x.Z)(Pn,2),In=En[0],Dn=En[1],Mn=(0,a.useState)(null),On=(0,x.Z)(Mn,2),Bn=On[0],Ln=On[1],Rn=(0,a.useState)(!1),zn=(0,x.Z)(Rn,2),An=zn[0],Un=zn[1],Wn=(0,a.useState)("ASC"),Gn=(0,x.Z)(Wn,2),Kn=Gn[0],Hn=Gn[1],Jn=(0,a.useState)("name"),Yn=(0,x.Z)(Jn,2),$n=Yn[0],Vn=Yn[1],qn=(0,a.useState)(!1),Xn=(0,x.Z)(qn,2),Qn=Xn[0],et=Xn[1],nt=f()(t.params,"subpaths",""),tt=t.params.bucketName,it=(0,a.useRef)(null),at=(0,a.useRef)(null);(0,a.useEffect)((function(){null!==at.current&&(at.current.setAttribute("directory",""),at.current.setAttribute("webkitdirectory",""))}),[at]);var ot=(0,we.F)(tt,[R.Ft.S3_DELETE_OBJECT]),rt=(0,we.F)(tt,[R.Ft.S3_LIST_BUCKET]);(0,a.useEffect)((function(){Qn||(b(!0),et(!0))}),[Qn,b,et]),function(e,n){var t=(0,a.useRef)(null);(0,a.useEffect)((function(){t.current=e}),[e]),(0,a.useEffect)((function(){if(null!==n){var e=setInterval((function(){void 0!==t&&t.current&&t.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){E&&function(){var e=Date.now()-je;e/1e3>=6?Ne((0,H.jsx)(a.Fragment,{children:(0,H.jsxs)(Re.Z,{component:"h3",children:["This operation is taking longer than expected... (",Math.ceil(e/1e3),"s)"]})})):e/1e3>=3&&Ne((0,H.jsx)(Re.Z,{component:"h3",children:"This operation is taking longer than expected..."}))}()}),1e3),(0,a.useEffect)((function(){_e&&(rt?M.Z.invoke("GET","/api/v1/buckets/".concat(tt,"/versioning")).then((function(e){Me(e.is_versioned),Pe(!1)})).catch((function(e){m(e),Pe(!1)})):Pe(!1))}),[tt,_e,m,rt]),(0,a.useEffect)((function(){if(s){if(l!==tt)return void h();if(c){J(!0);var e=c.toISOString(),n="";if(nt){var t=(0,L.le)(nt);n=t.endsWith("/")?t:t+"/"}M.Z.invoke("GET","/api/v1/buckets/".concat(tt,"/rewind/").concat(e).concat(n?"?prefix=".concat((0,L.ug)(n)):"")).then((function(e){J(!1),e.objects?U(e.objects):U([])})).catch((function(e){J(!1),m(e)}))}}}),[s,c,l,tt,t,m,h,nt]),(0,a.useEffect)((function(){D(!0)}),[nt]),(0,a.useEffect)((function(){if(E)if(rt){var e="";if(nt){var n=(0,L.le)(nt);e=n.endsWith("/")?n:n+"/"}var t=Date.now();ve(t),Ne(Fn),M.Z.invoke("GET","/api/v1/buckets/".concat(tt,"/objects").concat(e?"?prefix=".concat((0,L.ug)(e)):"")).then((function(n){var t=n.objects||[],i=[],a=[];t.forEach((function(e){e.name.endsWith("/")?i.push(e):a.push(e)}));var o=[].concat(i,a);if(F(o),n.objects||""===e)p(!1),D(!1);else if(s){var r=c.toISOString(),l="";if(nt){var d=(0,L.le)(nt);l=d.endsWith("/")?d:d+"/"}M.Z.invoke("GET","/api/v1/buckets/".concat(tt,"/rewind/").concat(r).concat(l?"?prefix=".concat((0,L.ug)(l)):"")).then((function(e){null===e.objects?(p(!0),J(!1),D(!1)):(J(!1),D(!1),p(!1))})).catch((function(e){J(!1),D(!1),m(e)}))}else M.Z.invoke("GET","/api/v1/buckets/".concat(tt,"/objects").concat(nt?"?prefix=".concat(nt):"")).then((function(n){if(n.objects){for(var t=!1,i=e.slice(0,e.length-1),a=0;a<n.objects.length;a++)n.objects[a].name===i&&(t=!0);1===n.objects.length&&n.objects[0].name.endsWith("/")||!t?p(!1):p(!0),D(!1)}else p(!1),D(!1)})).catch((function(e){D(!1),m(e)}))})).catch((function(e){D(!1),m(e)}))}else J(!1),D(!1)}),[E,t,m,tt,s,c,nt,p,Z,rt]),(0,a.useEffect)((function(){g&&M.Z.invoke("GET","/api/v1/buckets/".concat(tt)).then((function(e){b(!1),v(e)})).catch((function(e){b(!1),m(e)}))}),[tt,g,b,v,m]);var st=function(e){if(null!==e&&void 0!==e&&null!==e.target.files&&void 0!==e.target.files){e.preventDefault();for(var n=[],t=0;t<e.target.files.length;t++)n.push(e.target.files[t]);ut(n,"")}},ct=function(e){return e.name.endsWith("/")?"":(0,H.jsx)(j(),{children:e.last_modified})},lt=function(e){return e.name.endsWith("/")?"":(0,L.ae)(String(e.size))},dt=function(e){var n=(0,L.ug)("".concat(tt,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));y({bucketName:tt,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0}),(0,I.LR)(tt,(0,L.ug)(e.name),e.version_id,e.size,(function(e){k(n,e)}),(function(){w(n)}))},ut=(0,a.useCallback)((function(e,n){var t="";if(nt){var i=(0,L.le)(nt);t=i.endsWith("/")?i:i+"/"}!function(e,n,t,i){if(e.length>0){C();var a=e.pop();a&&function a(o){return new Promise((function(r,s){var c="api/v1/buckets/".concat(n,"/objects/upload"),l=o.name,u=new Blob([o],{type:o.type}),m="",h=""!==f()(o,"webkitRelativePath","")?f()(o,"webkitRelativePath",""):i;if(""!==t||""!==h){var p=h.split("/").slice(0,-1).join("/");m=(0,L.ug)("".concat(t).concat(p).concat(p.endsWith("/")?"":"/"))}""!==m&&(c="".concat(c,"?prefix=").concat(m));var x=(0,L.ug)("".concat(n,"-").concat(m,"-").concat((new Date).getTime(),"-").concat(Math.random()));y({bucketName:n,done:!1,instanceID:x,percentage:0,prefix:"".concat((0,L.le)(m)).concat(l),type:"upload",waitingForFile:!1});var b=new XMLHttpRequest;b.open("POST",c,!0);var g=e.length>1,j="An error occurred while uploading the file".concat(g?"s":"","."),v="Object".concat(g?"s":""," uploaded successfully.");b.withCredentials=!1,b.onload=function(n){if(401!==b.status&&403!==b.status&&400!==b.status&&500!==b.status||d(j),413===b.status&&d("Error - File size too large"),200===b.status&&(w(x),0===e.length&&d(v)),r(b.status),e.length>0){var t=e.pop();if(t)return a(t)}},b.upload.addEventListener("error",(function(e){d(j)})),b.upload.addEventListener("progress",(function(e){var n=Math.floor(100*e.loaded/e.total);k(x,n)})),b.onerror=function(){d(j),s(j)},b.onloadend=function(){0===e.length&&D(!0)};var Z=new FormData;void 0!==o.size&&(Z.append(o.size.toString(),u,l),b.send(Z))}))}(a).then((function(){console.info("done uploading file")})).catch((function(e){console.error("error uploading file,",e)}))}}(e,tt,t,n)}),[tt,w,nt,C,y,d,k]),mt=(0,a.useCallback)((function(e){if(e&&e.length>0){var n=e[0].path;ut(e,n)}}),[ut]),ft=(0,Le.uI)({noClick:!0,onDrop:mt}),ht=ft.getRootProps,pt=ft.getInputProps,xt=ft.isDragActive,bt=ft.isDragAccept,gt=(0,a.useMemo)((function(){return(0,i.Z)((0,i.Z)((0,i.Z)({},Sn),xt?Nn:{}),bt?Tn:{})}),[xt,bt]),jt=[{type:"view",label:"View",onClick:function(e){var n="/buckets/".concat(tt,"/browse").concat(e?"/".concat((0,L.ug)(e)):"");o.push(n)},sendOnlyId:!0},{type:"preview",label:"Preview",onClick:function(e){Ln(e),Dn(!0)},disableButtonFunction:function(e){return"none"===(0,I.Bg)(e)}},{type:"share",label:"Share",onClick:function(e){Ln(e),Un(!0)},disableButtonFunction:function(e){return e.endsWith("/")}},{type:"download",label:"Download",onClick:dt,showLoaderFunction:function(e){return r.includes("".concat(t.params.bucket,"/").concat(e))},disableButtonFunction:function(e){if(s){var n=A.find((function(n){return n.name===e}));if(n&&n.delete_flag)return!0}return!1},sendOnlyId:!1}];ot&&jt.push({type:"delete",label:"Delete",onClick:function(e){X(!0),ue(e.name)},disableButtonFunction:function(){return s}});var vt=T.filter((function(e){return""===pe||e.name.toLowerCase().indexOf(pe.toLowerCase())>=0})),Zt=function(e){return function(e){var n=e,t=(0,H.jsx)(Ke.default,{});e.endsWith("/")&&(t=(0,H.jsx)(He.Z,{}),n=e.substr(0,e.length-1));for(var i=[{icon:(0,H.jsx)(sn,{}),extensions:["mp4","mov","avi","mpeg","mpg"]},{icon:(0,H.jsx)(tn,{}),extensions:["mp3","m4a","aac"]},{icon:(0,H.jsx)(an,{}),extensions:["pdf"]},{icon:(0,H.jsx)(on,{}),extensions:["ppt","pptx"]},{icon:(0,H.jsx)(cn,{}),extensions:["xls","xlsx"]},{icon:(0,H.jsx)(en,{}),extensions:["cer","crt","pem"]},{icon:(0,H.jsx)($e,{}),extensions:["html","xml","css","py","go","php","cpp","h","java"]},{icon:(0,H.jsx)(Ve,{}),extensions:["cfg","yaml"]},{icon:(0,H.jsx)(qe,{}),extensions:["sql"]},{icon:(0,H.jsx)(Xe,{}),extensions:["ttf","otf"]},{icon:(0,H.jsx)(rn,{}),extensions:["txt"]},{icon:(0,H.jsx)(ln,{}),extensions:["zip","rar","tar","gz"]},{icon:(0,H.jsx)(Ye,{}),extensions:["epub","mobi","azw","azw3"]},{icon:(0,H.jsx)(Qe,{}),extensions:["jpeg","jpg","gif","tiff","png","heic","dng"]}],a=e.toLowerCase(),o=0,r=i;o<r.length;o++){var s,c=r[o],l=(0,Ge.Z)(c.extensions);try{for(l.s();!(s=l.n()).done;){var d=s.value;a.endsWith(".".concat(d))&&(t=c.icon)}}catch(m){l.e(m)}finally{l.f()}}!e.endsWith("/")&&e.indexOf(".")<0&&(t=(0,H.jsx)(nn,{}));var u=n.split("/");return(0,H.jsx)(Je,{icon:t,strings:u})}(e)},yt=[{label:"Name",elementKey:"name",renderFunction:Zt,enableSort:!0},{label:"Last Modified",elementKey:"last_modified",renderFunction:ct,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:lt,renderFullObject:!0,width:60,contentTextAlign:"right",enableSort:!0}],kt=[{label:"Name",elementKey:"name",renderFunction:Zt,enableSort:!0},{label:"Object Date",elementKey:"last_modified",renderFunction:ct,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:lt,renderFullObject:!0,width:60,contentTextAlign:"right",enableSort:!0},{label:"Deleted",elementKey:"delete_flag",renderFunction:function(e){return e?"Yes":"No"},width:60,contentTextAlign:"center"}],wt=(0,L.le)(nt),Ct=wt.split("/").filter((function(e){return""!==e})),St=(s?A:vt).sort((0,I.P_)($n)),Nt=[];Nt="ASC"===Kn?St:St.reverse();return(0,H.jsxs)(a.Fragment,{children:[An&&Bn&&(0,H.jsx)(yn,{open:An,closeModalAndRefresh:function(){Un(!1),Ln(null)},bucketName:tt,dataObject:{name:Bn.name,last_modified:"",version_id:Bn.version_id}}),V&&(0,H.jsx)(wn,{deleteOpen:V,selectedBucket:tt,selectedObject:(0,L.ug)(de),closeDeleteModalAndRefresh:function(e){X(!1),e&&(d("Object '".concat(de,"' deleted successfully.")),D(!0))},versioning:De}),te&&(0,H.jsx)(Zn,{deleteOpen:te,selectedBucket:tt,selectedObjects:fn,closeDeleteModalAndRefresh:function(e){ie(!1),e&&(d("Objects deleted successfully."),_n([]),D(!0))},versioning:De}),re&&(0,H.jsx)(vn,{modalOpen:re,bucketName:tt,folderName:nt,onClose:function(){se(!1)},existingFiles:T}),We&&(0,H.jsx)(kn,{open:We,closeModalAndRefresh:function(e){dn(!1)},bucketName:tt}),In&&(0,H.jsx)(Cn,{open:In,bucketName:tt,object:Bn,onClosePreview:function(){Dn(!1),Ln(null)}}),(0,H.jsxs)(ye.Z,{children:[(0,H.jsx)(u.ZP,{item:!0,xs:12,children:(0,H.jsx)(fe.Z,{className:n.screenTitle,icon:(0,H.jsx)(a.Fragment,{children:(0,H.jsx)(bn,{width:40})}),title:Ct.length>0?Ct[Ct.length-1]:"/",subTitle:(0,H.jsx)(a.Fragment,{children:(0,H.jsx)(q,{bucketName:tt,internalPaths:wt})}),actions:(0,H.jsx)(a.Fragment,{children:(0,H.jsx)(we.Z,{resource:tt,scopes:[R.Ft.S3_PUT_OBJECT],errorProps:{disabled:!0},children:(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(hn,{uploadFileFunction:function(e){it&&it.current&&it.current.click(),e()},uploadFolderFunction:function(e){at&&at.current&&at.current.click(),e()}}),(0,H.jsx)("input",{type:"file",multiple:!0,onChange:st,style:{display:"none"},ref:it}),(0,H.jsx)("input",{type:"file",multiple:!0,onChange:st,style:{display:"none"},ref:at})]})})})})}),(0,H.jsxs)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_LIST_BUCKET],resource:tt,errorProps:{disabled:!0},children:(0,H.jsx)(Ue.Z,{onChange:xe,placeholder:"Search Objects",overrideClass:n.searchField})}),(0,H.jsxs)("div",{children:[(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_DELETE_OBJECT],resource:tt,errorProps:{disabled:!0},children:(0,H.jsx)(Ce.Z,{tooltip:"Delete Selected",onClick:function(){ie(!0)},text:"Delete Selected",icon:(0,H.jsx)(jn,{}),color:"secondary",disabled:0===fn.length,variant:"outlined"})}),(0,H.jsx)(Ce.Z,{tooltip:"Download Selected",onClick:function(){if(0!==fn.length){var e=function(e){return fn.includes(e.name)};(s?A.filter(e):vt.filter(e)).forEach((function(e){dt(e)}))}},text:"Download Selected",icon:(0,H.jsx)(ee._8,{}),color:"primary",disabled:0===fn.length,variant:"contained"})]})]}),(0,H.jsx)(u.ZP,{item:!0,xs:12,children:(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(we.Z,{resource:tt,scopes:[R.Ft.S3_PUT_OBJECT],errorProps:{disabled:!0},children:(0,H.jsx)(Ce.Z,{tooltip:"Choose or create a new path",onClick:function(){se(!0)},text:"",icon:(0,H.jsx)(pn,{}),color:"primary",disabled:s,variant:"outlined"})}),(0,H.jsx)(we.Z,{resource:tt,scopes:[R.Ft.S3_PUT_OBJECT],errorProps:{disabled:!0},children:(0,H.jsx)(ze.Z,{badgeContent:" ",color:"secondary",variant:"dot",invisible:!s,className:n.badgeOverlap,children:(0,H.jsx)(Ce.Z,{tooltip:"Rewind",onClick:function(){dn(!0)},text:"",icon:(0,H.jsx)(xn,{}),color:"primary",disabled:!De,variant:"outlined"})})}),(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_LIST_BUCKET],resource:tt,errorProps:{disabled:!0},children:(0,H.jsx)(Ce.Z,{tooltip:"Refresh list",onClick:function(){D(!0)},text:"",icon:(0,H.jsx)(gn,{}),color:"primary",disabled:s,variant:"contained"})})]})}),(0,H.jsx)(u.ZP,{item:!0,xs:12,children:(0,H.jsx)("br",{})}),(0,H.jsxs)("div",(0,i.Z)((0,i.Z)({id:"object-list-wrapper"},ht({style:(0,i.Z)({},gt)})),{},{children:[(0,H.jsx)("input",(0,i.Z)({},pt())),(0,H.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,H.jsx)(we.Z,{scopes:[R.Ft.S3_LIST_BUCKET],resource:tt,errorProps:{disabled:!0},children:(0,H.jsx)(O.Z,{itemActions:jt,columns:s?kt:yt,isLoading:s?K:E,loadingMessage:Se,entityName:"Objects",idField:"name",records:Nt,customPaperHeight:n.browsePaper,selectedItems:fn,onSelect:function(e){var n=e.target,t=n.value,i=n.checked,a=(0,Be.Z)(fn);return i?a.push(t):a=a.filter((function(e){return e!==t})),_n(a),a},customEmptyMessage:"This location is empty".concat(s?"":", please try uploading a new file"),sortConfig:{currentSort:$n,currentDirection:Kn,triggerSort:function(e){var n=f()(e,"sortDirection","DESC");Vn(e.sortBy),Hn(n),D(!0)}},onSelectAll:function(){if(fn.length!==Nt.length){var e=Nt.map((function(e){return e.name}));_n(e)}else _n([])}})})})]}))]})]})})))),In=t(35721),Dn=t(30723),Mn={setFileModeEnabled:p.WA,setErrorSnackMessage:B.Ih},On=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.buckets;return{fileMode:f()(n,"fileMode",!1),bucketToRewind:f()(n,"rewind.bucketToRewind",""),bucketInfo:t.bucketDetails.bucketInfo}}),Mn),Bn=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,h.Bz)(e.spacing(4))))}))(On((function(e){var n=e.fileMode,t=e.match,i=e.history,o=e.classes,r=e.setFileModeEnabled,s=(e.bucketInfo,t.params.bucketName),m=f()(t.params,"subpaths","");(0,a.useEffect)((function(){r(!1)}),[m,r]);return(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(In.Z,{label:(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(c.rU,{to:"/buckets",className:o.breadcrumLink,children:"Buckets"})," ","> ",s]}),actions:(0,H.jsx)(we.Z,{scopes:R.D[R.EI.BUCKET_ADMIN],resource:s,errorProps:{disabled:!0},children:(0,H.jsx)(l.Z,{title:"Configure Bucket",children:(0,H.jsx)(d.Z,{color:"primary","aria-label":"Configure Bucket",component:"span",onClick:function(){i.push("/buckets/".concat(s,"/admin"))},size:"large",children:(0,H.jsx)(Dn.Z,{})})})})}),(0,H.jsx)(u.ZP,{children:n?(0,H.jsx)(Oe,{}):(0,H.jsx)(En,{})})]})})))},53224:function(e,n,t){var i=t(18489),a=t(83738),o=(t(50390),t(70758)),r=t(62449),s=t(62559),c=["onClick","text","disabled","tooltip","icon"],l=(0,r.Z)((function(e){return{root:{padding:"7px",color:function(n){return function(n){var t=n.variant,i=n.color,a=e.palette.primary.main;return"primary"===i&&"contained"===t?a=e.palette.primary.contrastText:"primary"===i&&"outlined"===t?a=e.palette.primary.main:"secondary"===i&&(a=e.palette.secondary.main),a}(n)},borderColor:function(n){return"secondary"===n.color?e.palette.secondary.main:e.palette.primary.main},"& svg.min-icon":{width:12,marginLeft:function(e){return e.text?"5px":"0px"},"@media (max-width: 900px)":{width:16,marginLeft:"0px !important"}}}}}));n.Z=function(e){var n=l(e),t=e.onClick,r=e.text,d=void 0===r?"":r,u=e.disabled,m=void 0!==u&&u,f=e.tooltip,h=e.icon,p=void 0===h?null:h,x=(0,a.Z)(e,c);return(0,s.jsxs)(o.Z,(0,i.Z)((0,i.Z)({classes:n,tooltip:f||d,variant:"outlined",onClick:t,disabled:m,color:"secondary",size:"medium",sx:{border:"1px solid #f44336","& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}}}},x),{},{children:[(0,s.jsx)("span",{children:d})," ",p]}))}},45592:function(e,n,t){t.r(n);var i=t(23430),a=t(50390),o=t(34424),r=t(23473),s=t(44149),c=t(28948),l=t(60656),d=t(21639),u=t(52813),m=t(92440),f=t(62559),h={setErrorSnackMessage:s.Ih},p=(0,o.$j)(null,h);n.default=p((function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,o=e.selectedBucket,s=e.selectedObject,h=e.setErrorSnackMessage,p=e.versioning,x=(0,d.Z)((function(){return n(!0)}),(function(e){return h(e)})),b=(0,i.Z)(x,2),g=b[0],j=b[1],v=(0,a.useState)(!1),Z=(0,i.Z)(v,2),y=Z[0],k=Z[1];if(!s)return null;return(0,f.jsx)(l.Z,{title:"Delete Object",confirmText:"Delete",isOpen:t,titleIcon:(0,f.jsx)(u.Nv,{}),isLoading:g,onConfirm:function(){var e=(0,c.le)(s).endsWith("/");j("DELETE","/api/v1/buckets/".concat(o,"/objects?path=").concat(s,"&recursive=").concat(e,"&all_versions=").concat(y))},onClose:function(){return n(!1)},confirmationContent:(0,f.jsxs)(r.Z,{children:["Are you sure you want to delete:"," ",(0,f.jsx)("b",{children:(0,c.le)(s)}),"? ",(0,f.jsx)("br",{}),p&&(0,f.jsx)(m.Z,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:y,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){k(!y)},description:""})]})})}))},79440:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var i=t(23430),a=t(18489),o=t(50390),r=t(38342),s=t.n(r),c=t(34424),l=t(86509),d=t(4285),u=t(33034),m=t.n(u),f=t(25594),h=t(66946),p=t(81378),x=t(72462),b=t(44149),g=t(30324),j=t(76352),v=t(50280),Z=t(14602),y=t(60606),k=t.n(y),w=t(66964),C=t(62559),S=(0,d.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},x.YI),x.Hr),{},{labelContainer:{display:"flex",alignItems:"center",marginBottom:15},fieldContainer:(0,a.Z)((0,a.Z)({},x.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),dateContainer:{height:20,textAlign:"right",color:"#848484"},dateInputContainer:{margin:"0 10px"},durationInputs:{display:"flex",alignItems:"center",justifyContent:"center"},validityIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},invalidDurationText:{marginTop:15,display:"flex",color:"red",fontSize:11},validityText:{fontSize:14,fontWeight:600,marginTop:15,display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{flexFlow:"column"}}}))}))((function(e){var n=e.classes,t=e.id,a=e.initialDate,r=e.label,s=e.maxDays,c=e.entity,l=e.onChange,d=(0,o.useState)(7),u=(0,i.Z)(d,2),m=u[0],h=u[1],p=(0,o.useState)(0),x=(0,i.Z)(p,2),b=x[0],g=x[1],j=(0,o.useState)(0),v=(0,i.Z)(j,2),y=v[0],S=v[1],N=(0,o.useState)(!0),T=(0,i.Z)(N,2),F=T[0],_=T[1],P=(0,o.useState)(k()()),E=(0,i.Z)(P,2),I=E[0],D=E[1];(0,o.useEffect)((function(){D(function(e,n,t,i){return k()(e).add(n,"days").add(t,"hours").add(i,"minutes")}(a,m,b,y))}),[a,m,b,y]),(0,o.useEffect)((function(){F?l(I.format("YYYY-MM-DDTHH:mm:ss"),!0):l("0000-00-00",!1)}),[I,l,F]),(0,o.useEffect)((function(){var e=!0;(m<0||s&&m>s||isNaN(m))&&(e=!1),(b<0||b>23||isNaN(b))&&(e=!1),(y<0||y>59||isNaN(y))&&(e=!1),!s||m!==s||0===b&&0===y||(e=!1),_(e)}),[I,s,l,m,b,y]);var M={style:{textAlign:"center",paddingRight:10,paddingLeft:10,width:25},className:"removeArrows"};return(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(f.ZP,{container:!0,className:n.fieldContainer,children:[(0,C.jsxs)(f.ZP,{item:!0,xs:12,alignItems:"center",justifyContent:"center",children:[(0,C.jsx)(f.ZP,{item:!0,xs:12,className:n.labelContainer,children:(0,C.jsx)(Z.Z,{htmlFor:t,className:n.inputLabel,children:(0,C.jsx)("span",{children:r})})}),(0,C.jsxs)(f.ZP,{item:!0,xs:12,className:n.durationInputs,children:[(0,C.jsx)(f.ZP,{item:!0,className:n.dateInputContainer,children:(0,C.jsx)(w.Z,{id:t,type:"number",min:"0",max:s?s.toString():"999",label:"Days",name:t,onChange:function(e){h(parseInt(e.target.value))},value:m.toString(),extraInputProps:M,noLabelMinWidth:!0})}),(0,C.jsx)(f.ZP,{item:!0,className:n.dateInputContainer,children:(0,C.jsx)(w.Z,{id:t,type:"number",min:"0",max:"23",label:"Hours",name:t,onChange:function(e){g(parseInt(e.target.value))},value:b.toString(),extraInputProps:M,noLabelMinWidth:!0})}),(0,C.jsx)(f.ZP,{item:!0,className:n.dateInputContainer,children:(0,C.jsx)(w.Z,{id:t,type:"number",min:"0",max:"59",label:"Minutes",name:t,onChange:function(e){S(parseInt(e.target.value))},value:y.toString(),extraInputProps:M,noLabelMinWidth:!0})})]})]}),(0,C.jsx)(f.ZP,{item:!0,xs:12,className:"".concat(n.validityIndicator," ").concat(n.formFieldRow),children:F?(0,C.jsxs)("div",{className:n.validityText,children:[(0,C.jsxs)("div",{className:n.validityLabel,children:[c," will be available until:"]})," ",(0,C.jsx)("div",{className:n.validTill,children:I.format("MM/DD/YYYY HH:mm:ss")})]}):(0,C.jsx)("div",{className:n.invalidDurationText,children:"Please select a valid duration."})})]})})})),N=t(28948),T=o.lazy((function(){return Promise.resolve().then(t.bind(t,24957))})),F=(0,c.$j)((function(e){var n=e.system;return{distributedSetup:s()(n,"distributedSetup",!1)}}),{setModalSnackMessage:b.MK,setModalErrorSnackMessage:b.zb}),_=(0,d.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)({shareLinkInfo:{fontSize:13,fontWeight:400},copyShareLink:{display:"flex","@media (max-width: 900px)":{flexFlow:"column",alignItems:"center",justifyContent:"center"}},copyShareLinkInput:{"& div:first-child":{marginTop:0},"@media (max-width: 900px)":{minWidth:250}},copyShareLinkBtn:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{marginTop:10}}},x.ID),x.DF))}))(F((function(e){var n=e.classes,t=e.open,a=e.closeModalAndRefresh,r=e.bucketName,c=e.dataObject,l=e.distributedSetup,d=e.setModalSnackMessage,u=e.setModalErrorSnackMessage,x=(0,o.useState)(""),b=(0,i.Z)(x,2),Z=b[0],y=b[1],k=(0,o.useState)(!0),w=(0,i.Z)(k,2),F=w[0],_=w[1],P=(0,o.useState)(!1),E=(0,i.Z)(P,2),I=E[0],D=E[1],M=(0,o.useState)(""),O=(0,i.Z)(M,2),B=O[0],L=O[1],R=(0,o.useState)(!0),z=(0,i.Z)(R,2),A=z[0],U=z[1],W=(0,o.useState)("null"),G=(0,i.Z)(W,2),K=G[0],H=G[1],J=new Date;return(0,o.useEffect)((function(){if(void 0===c.version_id)return l?(g.Z.invoke("GET","/api/v1/buckets/".concat(r,"/objects?prefix=").concat((0,N.ug)(c.name)).concat(l?"&with_versions=true":"")).then((function(e){var n=s()(e,"objects",[]).find((function(e){return e.is_latest}));H(n?n.version_id:"null")})).catch((function(e){u(e)})),void _(!1)):(H("null"),void _(!1));H(c.version_id||"null"),_(!1)}),[r,c,l,u]),(0,o.useEffect)((function(){if(A&&!F){D(!0),y("");var e=new Date("".concat(B)),n=new Date,t=Math.ceil((e.getTime()-n.getTime())/1e3);t>0&&g.Z.invoke("GET","/api/v1/buckets/".concat(r,"/objects/share?prefix=").concat((0,N.ug)(c.name),"&version_id=").concat(K).concat(""!==B?"&expires=".concat(t,"s"):"")).then((function(e){y(e),D(!1)})).catch((function(e){u(e),y(""),D(!1)}))}}),[c,B,r,A,y,u,l,F,K]),(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(j.Z,{title:"Share File",modalOpen:t,onClose:function(){a()},children:[F&&(0,C.jsx)(f.ZP,{item:!0,xs:12,children:(0,C.jsx)(p.Z,{})}),!F&&(0,C.jsxs)(o.Fragment,{children:[(0,C.jsxs)(f.ZP,{item:!0,xs:12,className:n.shareLinkInfo,children:["This is a temporary URL with integrated access credentials for sharing objects valid for up to 7 days.",(0,C.jsx)("br",{}),"The temporary URL expires after the configured time limit."]}),(0,C.jsx)(f.ZP,{item:!0,xs:12,className:n.dateContainer,children:(0,C.jsx)(S,{initialDate:J,id:"date",label:"Active for",maxDays:7,onChange:function(e,n){U(n),n?L(e):(L(""),y(""))},entity:"Link"})}),(0,C.jsxs)(f.ZP,{item:!0,xs:12,className:"".concat(n.copyShareLink," ").concat(n.formFieldRow," "),children:[(0,C.jsx)(f.ZP,{item:!0,xs:10,className:n.copyShareLinkInput,children:(0,C.jsx)(v.Z,{content:Z})}),(0,C.jsx)(f.ZP,{item:!0,xs:2,className:n.copyShareLinkBtn,children:(0,C.jsx)(m(),{text:Z,children:(0,C.jsx)(h.Z,{variant:"contained",color:"primary",endIcon:(0,C.jsx)(T,{}),onClick:function(){d("Share URL Copied to clipboard")},disabled:""===Z||I,children:"Copy"})})})]})]})]})})})))},10262:function(e,n,t){var i=t(36222),a=t(23430),o=t(50390),r=t(86509),s=t(4285),c=t(25594),l=t(81378),d=t(3662),u=t(28948),m=t(44977),f=t(62559);n.Z=(0,s.Z)((function(){return(0,r.Z)({iframeContainer:{border:"0px",flex:"1 1 auto",width:"100%",height:250,backgroundColor:"transparent",borderRadius:5,"&.image":{height:500},"&.text":{height:700},"&.audio":{height:150},"&.video":{height:350},"&.fullHeight":{height:"calc(100vh - 185px)"}},iframeBase:{backgroundColor:"#fff"},iframeHidden:{display:"none"}})}))((function(e){var n=e.bucketName,t=e.object,r=e.isFullscreen,s=void 0!==r&&r,h=e.classes,p=(0,o.useState)(!0),x=(0,a.Z)(p,2),b=x[0],g=x[1],j="";if(t){var v=(0,u.ug)(t.name),Z=document.baseURI.replace(window.location.origin,"");j="".concat(window.location.origin).concat(Z,"api/v1/buckets/").concat(n,"/objects/download?preview=true&prefix=").concat(v),t.version_id&&(j=j.concat("&version_id=".concat(t.version_id)))}var y=(0,d.Bg)((null===t||void 0===t?void 0:t.name)||""),k=function(){g(!1)};return(0,f.jsxs)(o.Fragment,{children:[b&&(0,f.jsx)(c.ZP,{item:!0,xs:12,children:(0,f.jsx)(l.Z,{})}),"video"===y&&(0,f.jsx)("video",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:k,children:(0,f.jsx)("source",{src:j,type:"video/mp4"})}),"audio"===y&&(0,f.jsx)("audio",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:k,children:(0,f.jsx)("source",{src:j,type:"audio/mpeg"})}),"image"===y&&(0,f.jsx)("img",{style:{width:"100%",height:"auto"},src:j,alt:"preview",onLoad:k}),"video"!==y&&"audio"!==y&&"image"!==y&&(0,f.jsx)("div",{className:(0,m.Z)(h.iframeBase,(0,i.Z)({},h.iframeHidden,b)),children:(0,f.jsx)("iframe",{src:j,title:"File Preview",allowTransparency:!0,className:"".concat(h.iframeContainer," ").concat(s?"fullHeight":y),onLoad:k,children:"File couldn't be loaded. Please try Download instead"})})]})}))},3662:function(e,n,t){t.d(n,{LR:function(){return i},Bg:function(){return a},P_:function(){return o}});var i=function(e,n,t,i,a,o){var r=document.createElement("a");document.body.appendChild(r);var s="/api/v1/buckets/".concat(e,"/objects/download?prefix=").concat(n);t&&(s=s.concat("&version_id=".concat(t)));var c=new XMLHttpRequest;c.open("GET",s,!0),c.addEventListener("progress",(function(e){var n=Math.round(e.loaded/i*100);a&&a(n)}),!1),c.responseType="blob",c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){var e=c.getResponseHeader("Content-Disposition"),n="download";if(e)n=decodeURIComponent(e).split('"')[1];o&&o();var t=document.createElement("a");t.href=window.URL.createObjectURL(c.response),t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},c.send()},a=function(e){var n=e.split(".").pop();return n?(n=n.toLowerCase(),["jif","jfif","apng","avif","svg","webp","bmp","ico","jpg","jpe","jpeg","gif","png","heic"].includes(n)?"image":["pdf","txt","json"].includes(n)?"text":["wav","mp3","alac","aiff","dsd","pcm"].includes(n)?"audio":["mp4","avi","mpg","webm","mov","flv","mkv","wmv","avchd","mpeg-4"].includes(n)?"video":"none"):"none"},o=function(e){switch(e){case"name":return function(e,n){return e.name.localeCompare(n.name)};case"last_modified":return function(e,n){return new Date(e.last_modified).getTime()-new Date(n.last_modified).getTime()};case"size":return function(e,n){return(e.size||-1)-(n.size||-1)}}}},70758:function(e,n,t){var i=t(18489),a=t(36222),o=t(83738),r=(t(50390),t(86509)),s=t(4285),c=t(95467),l=t(94187),d=t(44977),u=t(62559),m=["classes","children","variant","tooltip"];n.Z=(0,s.Z)((function(e){return(0,r.Z)({root:{padding:8,marginLeft:8,borderWidth:1,borderColor:"#696969",color:"#696969",borderStyle:"solid",borderRadius:3,"& .min-icon":{width:20},"& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.main,borderRadius:3,opacity:.3},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}},contained:{borderColor:e.palette.primary.main,background:e.palette.primary.main,color:"white","& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.dark,borderRadius:3,opacity:.3},"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"}}})}))((function(e){var n=e.classes,t=e.children,r=e.variant,s=void 0===r?"outlined":r,f=e.tooltip,h=(0,o.Z)(e,m),p=(0,u.jsx)(c.Z,(0,i.Z)((0,i.Z)({},h),{},{className:(0,d.Z)(n.root,(0,a.Z)({},n.contained,"contained"===s)),children:t}));return f&&""!==f?(0,u.jsx)(l.Z,{title:f,children:(0,u.jsx)("span",{children:p})}):p}))},37882:function(e,n,t){var i=t(18489),a=t(50390),o=t(62559);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function t(t){return(0,o.jsx)(a.Suspense,{fallback:n,children:(0,o.jsx)(e,(0,i.Z)({},t))})}return t}},50280:function(e,n,t){var i=t(18489),a=t(50390),o=t(25594),r=t(86509),s=t(4285),c=t(72462),l=t(62559);n.Z=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)({},c.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,r=e.content,s=e.multiLine,c=void 0!==s&&s;return(0,l.jsx)(a.Fragment,{children:(0,l.jsxs)(o.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,l.jsx)(o.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,l.jsx)(o.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,l.jsx)(o.ZP,{item:!0,xs:12,className:c?n.innerContentMultiline:n.innerContent,children:r})})]})})}))},21639:function(e,n,t){var i=t(23430),a=t(50390),o=t(30324);n.Z=function(e,n){var t=(0,a.useState)(!1),r=(0,i.Z)(t,2),s=r[0],c=r[1];return[s,function(t,i,a){c(!0),o.Z.invoke(t,i,a).then((function(n){c(!1),e(n)})).catch((function(e){c(!1),n(e)}))}]}},60656:function(e,n,t){var i=t(18489),a=t(50390),o=t(84402),r=t(78426),s=t(93085),c=t(7887),l=t(66946),d=t(14476),u=t(95467),m=t(21278),f=t(86509),h=t(4285),p=t(72462),x=t(62559);n.Z=(0,h.Z)((function(e){return(0,f.Z)((0,i.Z)({},p.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,f=e.onClose,h=e.onCancel,p=e.onConfirm,b=e.classes,g=void 0===b?{}:b,j=e.title,v=void 0===j?"":j,Z=e.isLoading,y=e.confirmationContent,k=e.cancelText,w=void 0===k?"Cancel":k,C=e.confirmText,S=void 0===C?"Confirm":C,N=e.confirmButtonProps,T=void 0===N?{}:N,F=e.cancelButtonProps,_=void 0===F?{}:F,P=e.titleIcon,E=void 0===P?null:P;return(0,x.jsxs)(o.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&f()},className:g.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,x.jsxs)(r.Z,{className:g.title,children:[(0,x.jsxs)("div",{className:g.titleText,children:[E," ",v]}),(0,x.jsx)("div",{className:g.closeContainer,children:(0,x.jsx)(u.Z,{"aria-label":"close",className:g.closeButton,onClick:f,disableRipple:!0,size:"small",children:(0,x.jsx)(m.Z,{})})})]}),(0,x.jsx)(s.Z,{className:g.content,children:y}),(0,x.jsxs)(c.Z,{className:g.actions,children:[(0,x.jsx)(l.Z,(0,i.Z)((0,i.Z)({className:g.cancelButton,onClick:h||f,disabled:Z,type:"button"},_),{},{variant:"outlined",color:"primary",children:w})),(0,x.jsx)(d.Z,(0,i.Z)((0,i.Z)({className:g.confirmButton,type:"button",onClick:p,loading:Z,disabled:Z,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,x.jsx)(a.Fragment,{}),autoFocus:!0},T),{},{children:S}))]})]})}))},35721:function(e,n,t){t(50390);var i=t(34424),a=t(56805),o=t(25594),r=t(86509),s=t(4285),c=t(35477),l=t(95467),d=t(26805),u=t(44078),m=t(5265),f=t(52813),h=t(62559),p={toggleList:m.kQ},x=(0,i.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),p);n.Z=x((0,s.Z)((function(e){return(0,r.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var n=e.classes,t=e.label,i=e.actions,r=e.sidebarOpen,s=e.operatorMode,m=e.managerObjects,p=e.toggleList;return(0,h.jsxs)(o.ZP,{container:!0,className:"".concat(n.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,h.jsx)(a.Z,{display:{xs:"block",sm:"block",md:"none"},children:(0,h.jsx)(o.ZP,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),(0,h.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:6,className:n.label,children:[!r&&(0,h.jsx)("div",{className:n.logo,children:s?(0,h.jsx)(d.Z,{}):(0,h.jsx)(u.Z,{})}),(0,h.jsx)(c.Z,{variant:"h4",className:n.labelStyle,children:t})]}),(0,h.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:6,className:n.rightMenu,children:[i&&i,m&&m.length>0&&(0,h.jsx)(l.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){p()},size:"large",children:(0,h.jsx)(f.gx,{})})]})]})})))},62702:function(e,n,t){t(50390);var i=t(25594),a=t(86509),o=t(4285),r=t(62559);n.Z=(0,o.Z)((function(e){return(0,a.Z)({headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},screenTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column"}},rightItems:{display:"flex",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.icon,a=e.title,o=e.subTitle,s=e.actions,c=e.className;return(0,r.jsx)(i.ZP,{container:!0,children:(0,r.jsxs)(i.ZP,{item:!0,xs:12,className:"".concat(n.screenTitle," ").concat(c||""),children:[(0,r.jsxs)("div",{className:n.leftItems,children:[t?(0,r.jsx)("div",{className:n.headerBarIcon,children:t}):null,(0,r.jsxs)("div",{className:n.titleColumn,children:[(0,r.jsx)("h1",{style:{margin:0},children:a}),(0,r.jsx)("span",{className:n.headerBarSubheader,children:o})]})]}),(0,r.jsx)("div",{className:n.rightItems,children:s})]})})}))},23165:function(e,n,t){var i=t(36222),a=t(18489),o=(t(50390),t(65771)),r=t(13336),s=t(12066),c=t(4285),l=t(86509),d=t(72462),u=t(62559);n.Z=(0,c.Z)((function(e){return(0,l.Z)({searchField:(0,a.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,a=e.classes,c=e.onChange,l=e.adornmentPosition,d=void 0===l?"end":l,m=e.overrideClass,f=(0,i.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(o.Z,{position:d,className:a.adornment,children:(0,u.jsx)(r.default,{})}));return(0,u.jsx)(s.Z,{placeholder:t,className:m||a.searchField,id:"search-resource",label:"",InputProps:f,onChange:function(e){c(e.target.value)},variant:"standard"})}))},57647:function(e,n,t){var i=t(18489),a=t(23430),o=t(50390),r=t(56805),s=t(49044),c=t(97227),l=t(74564),d=t(669),u=t(4285),m=t(88669),f=t(86509),h=t(13512),p=t(62559),x={minHeight:60};n.Z=(0,u.Z)((function(e){return(0,f.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,u=e.selectedTab,f=void 0===u?"0":u,b=e.routes,g=e.isRouteTabs,j=o.useState(f),v=(0,a.Z)(j,2),Z=v[0],y=v[1],k=(0,m.Z)(),w=(0,h.Z)(k.breakpoints.down("md")),C=[],S=[];return n?(n.forEach((function(e){C.push(e.tabConfig),S.push(e.content)})),(0,p.jsx)(c.ZP,{value:"".concat(Z),children:(0,p.jsxs)(r.Z,{className:t.tabsContainer,children:[(0,p.jsx)(r.Z,{className:t.tabsHeaderContainer,children:(0,p.jsx)(l.Z,{onChange:function(e,n){y(n)},orientation:w?"horizontal":"vertical",variant:w?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:C.map((function(e,n){return e?(0,p.jsx)(s.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:x},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,p.jsxs)(r.Z,{className:t.tabContentContainer,children:[g?null:S.map((function(e,n){return(0,p.jsx)(d.Z,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,p.jsx)("div",{className:t.tabPanel,children:b}):null]})]})})):null}))}}]);
//# sourceMappingURL=404.84bae72a.chunk.js.map