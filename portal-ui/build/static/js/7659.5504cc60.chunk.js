(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7659,9478],{57314:function(e,n,t){"use strict";var i=t(1413),o=t(72791),r=t(61889),a=t(30829),s=t(20068),l=t(27391),c=t(11135),u=t(25787),d=t(23814),f=t(84570),p=t(80184);n.Z=(0,u.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},d.YI),d.Hr),{},{inputLabel:(0,i.Z)((0,i.Z)({},d.YI.inputLabel),{},{fontSize:14,margin:0,alignItems:"flex-start",paddingTop:"20px",flexWrap:"wrap",display:"flex"}),textBoxContainer:{flexGrow:1,position:"relative"},cssOutlinedInput:{borderColor:"#EAEAEA",padding:16},rootContainer:{"& .MuiOutlinedInput-inputMultiline":(0,i.Z)((0,i.Z)({},d.YI.inputLabel),{},{fontSize:13,minHeight:150}),"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#07193E",borderWidth:1},"& textarea":{color:"#07193E",fontSize:13,fontWeight:600,"&:placeholder":{color:"#858585",opacity:1,fontWeight:400}}}}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,c=e.id,u=e.name,d=e.disabled,m=void 0!==d&&d,h=e.tooltip,x=void 0===h?"":h,v=e.index,Z=void 0===v?0:v,g=e.error,j=void 0===g?"":g,b=e.required,C=void 0!==b&&b,y=e.placeholder,N=void 0===y?"":y,k=e.classes,w={"data-index":Z};return(0,p.jsx)(o.Fragment,{children:(0,p.jsxs)(r.ZP,{item:!0,xs:12,className:"".concat(k.fieldContainer," ").concat(""!==j?k.errorInField:""),children:[""!==n&&(0,p.jsxs)(a.Z,{htmlFor:c,className:k.inputLabel,children:[(0,p.jsxs)("span",{children:[n,C?"*":""]}),""!==x&&(0,p.jsx)("div",{className:k.tooltipContainer,children:(0,p.jsx)(s.Z,{title:x,placement:"top-start",children:(0,p.jsx)("div",{className:k.tooltip,children:(0,p.jsx)(f.Z,{})})})})]}),(0,p.jsx)("div",{className:k.textBoxContainer,children:(0,p.jsx)(l.Z,{id:c,name:u,fullWidth:!0,value:i,disabled:m,onChange:t,multiline:!0,rows:5,inputProps:w,error:""!==j,helperText:j,placeholder:N,InputLabelProps:{shrink:!0},InputProps:{classes:{notchedOutline:k.cssOutlinedInput,root:k.rootContainer}},variant:"outlined"})})]})})}))},23508:function(e,n,t){"use strict";var i=t(1413),o=t(72791),r=t(5574),a=t(65661),s=t(39157),l=t(97123),c=t(36151),u=t(59860),d=t(13400),f=t(29823),p=t(11135),m=t(25787),h=t(23814),x=t(80184);n.Z=(0,m.Z)((function(e){return(0,p.Z)((0,i.Z)({},h.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,p=e.onClose,m=e.onCancel,h=e.onConfirm,v=e.classes,Z=void 0===v?{}:v,g=e.title,j=void 0===g?"":g,b=e.isLoading,C=e.confirmationContent,y=e.cancelText,N=void 0===y?"Cancel":y,k=e.confirmText,w=void 0===k?"Confirm":k,E=e.confirmButtonProps,I=void 0===E?{}:E,S=e.cancelButtonProps,P=void 0===S?{}:S,T=e.titleIcon,F=void 0===T?null:T;return(0,x.jsxs)(r.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&p()},className:Z.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,x.jsxs)(a.Z,{className:Z.title,children:[(0,x.jsxs)("div",{className:Z.titleText,children:[F," ",j]}),(0,x.jsx)("div",{className:Z.closeContainer,children:(0,x.jsx)(d.Z,{"aria-label":"close",className:Z.closeButton,onClick:p,disableRipple:!0,size:"small",children:(0,x.jsx)(f.Z,{})})})]}),(0,x.jsx)(s.Z,{className:Z.content,children:C}),(0,x.jsxs)(l.Z,{className:Z.actions,children:[(0,x.jsx)(c.Z,(0,i.Z)((0,i.Z)({className:Z.cancelButton,onClick:m||p,disabled:b,type:"button"},P),{},{variant:"outlined",color:"primary",id:"confirm-cancel",children:N})),(0,x.jsx)(u.Z,(0,i.Z)((0,i.Z)({className:Z.confirmButton,type:"button",onClick:h,loading:b,disabled:b,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,x.jsx)(o.Fragment,{}),autoFocus:!0,id:"confirm-ok"},I),{},{children:w}))]})]})}))},67659:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var i=t(72791),o=t(26181),r=t.n(o),a=t(61889),s=t(58493),l=t(29439),c=t(1413),u=t(60364),d=t(11135),f=t(25787),p=t(40986),m=t(64554),h=t(36151),x=t(81207),v=t(29478),Z=t(42649),g=t(23814),j=t(51691),b=t(23508),C=t(93656),y=t(80184),N={setErrorSnackMessage:Z.Ih},k=(0,u.$j)(null,N),w=(0,f.Z)((function(e){return(0,d.Z)((0,c.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},g.Qw))}))(k((function(e){var n=e.classes,t=e.configurationName,o=e.closeResetModalAndRefresh,r=e.setErrorSnackMessage,a=e.resetOpen,s=(0,i.useState)(!1),c=(0,l.Z)(s,2),u=c[0],d=c[1];(0,i.useEffect)((function(){u&&x.Z.invoke("GET","/api/v1/configs/".concat(t,"/reset")).then((function(e){d(!1),o(!0)})).catch((function(e){d(!1),r(e)}))}),[o,t,u,r]);return(0,y.jsx)(b.Z,{title:"Restore Defaults",confirmText:"Yes, Reset Configuration",isOpen:a,titleIcon:(0,y.jsx)(C.Nv,{}),isLoading:u,onConfirm:function(){d(!0)},onClose:function(){o(!1)},confirmationContent:(0,y.jsxs)(i.Fragment,{children:[u&&(0,y.jsx)(p.Z,{}),(0,y.jsxs)(j.Z,{children:["Are you sure you want to restore these configurations to default values?",(0,y.jsx)("br",{}),(0,y.jsx)("b",{className:n.wrapText,children:"Please note that this may cause your system to not be accessible"})]})]})})}))),E={serverNeedsRestart:Z.o8,setErrorSnackMessage:Z.Ih},I=(0,u.$j)(null,E)((0,f.Z)((function(e){return(0,d.Z)((0,c.Z)((0,c.Z)((0,c.Z)({},g.YI),g.Je),{},{settingsFormContainer:{display:"grid",gridTemplateColumns:"1fr",gridGap:"10px"}}))}))((function(e){var n=e.serverNeedsRestart,t=e.selectedConfiguration,o=e.setErrorSnackMessage,c=e.classes,u=e.history,d=e.className,f=void 0===d?"":d,Z=(0,i.useState)([]),g=(0,l.Z)(Z,2),j=g[0],b=g[1],C=(0,i.useState)(!1),N=(0,l.Z)(C,2),k=N[0],E=N[1],I=(0,i.useState)(!0),S=(0,l.Z)(I,2),P=S[0],T=S[1],F=(0,i.useState)([]),R=(0,l.Z)(F,2),B=R[0],M=R[1],O=(0,i.useState)(!1),W=(0,l.Z)(O,2),A=W[0],L=W[1];(0,i.useEffect)((function(){if(P){var e=r()(t,"configuration_id",!1);if(e)return void x.Z.invoke("GET","/api/v1/configs/".concat(e)).then((function(e){var n=r()(e,"key_values",[]);M(n),T(!1)})).catch((function(e){T(!1),o(e)}));T(!1)}}),[P,t,o]),(0,i.useEffect)((function(){if(k){var e={key_values:(0,s.DD)(j)};x.Z.invoke("PUT","/api/v1/configs/".concat(t.configuration_id),e).then((function(e){E(!1),n(e.restart),u.push("/settings")})).catch((function(e){E(!1),o(e)}))}}),[k,u,n,t,j,o]);var _=(0,i.useCallback)((function(e){b(e)}),[b]);return(0,y.jsxs)(i.Fragment,{children:[A&&(0,y.jsx)(w,{configurationName:t.configuration_id,closeResetModalAndRefresh:function(e){L(!1),n(e),e&&T(!0)},resetOpen:A}),P?(0,y.jsx)(a.ZP,{item:!0,xs:12,children:(0,y.jsx)(p.Z,{})}):(0,y.jsx)(m.Z,{sx:{padding:"15px",height:"100%"},children:(0,y.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),E(!0)},className:f,style:{height:"100%",display:"flex",flexFlow:"column"},children:[(0,y.jsx)(a.ZP,{item:!0,xs:12,className:c.settingsFormContainer,children:(0,y.jsx)(v.default,{fields:s.DP[t.configuration_id],onChange:_,defaultVals:B})}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,sx:{paddingTop:"15px ",textAlign:"right",maxHeight:"60px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,y.jsx)(h.Z,{type:"button",variant:"outlined",color:"secondary",sx:{padding:{xs:"3px",md:"20px"}},onClick:function(){L(!0)},children:"Restore Defaults"}),"\xa0 \xa0",(0,y.jsx)(h.Z,{type:"submit",variant:"contained",color:"primary",disabled:k,children:"Save"})]})]})})]})}))),S=function(e){var n=e.match,t=e.history,i=r()(n,"url",""),o=i.substring(i.lastIndexOf("/")+1),l=s.bx.find((function(e){return e.configuration_id===o})),c="".concat(o);return(0,y.jsx)(a.ZP,{item:!0,xs:12,sx:{height:"100%","& .identity_ldap, .api":{"& label":{minWidth:220,marginRight:0}}},children:l&&(0,y.jsx)(I,{className:"".concat(c),selectedConfiguration:l,history:t})})}},29478:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k},valueDef:function(){return N}});var i=t(93433),o=t(29439),r=t(1413),a=t(72791),s=t(11135),l=t(25787),c=t(61889),u=t(23814),d=t(21435),f=t(26181),p=t.n(f),m=t(48573),h=t.n(m),x=t(30829),v=t(20068),Z=t(84570),g=t(47919),j=t(80184),b=(0,l.Z)((function(e){return(0,s.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},u.YI),u.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15,flex:1},inputBoxSpacer:{marginBottom:7},inputLabel:(0,r.Z)((0,r.Z)({},u.YI.inputLabel),{},{margin:0,alignItems:"flex-start",paddingTop:"20px",minWidth:162})}))}))((function(e){var n=e.elements,t=e.name,r=e.label,s=e.tooltip,l=void 0===s?"":s,u=e.commonPlaceholder,f=void 0===u?"":u,m=e.onChange,b=e.withBorder,C=void 0!==b&&b,y=e.classes,N=(0,a.useState)([""]),k=(0,o.Z)(N,2),w=k[0],E=k[1],I=(0,a.createRef)();(0,a.useEffect)((function(){if(1===w.length&&""===w[0]&&n&&""!==n){var e=n.split(",");e.push(""),E(e)}}),[n,w]),(0,a.useEffect)((function(){if(w.length>1){var e=I.current;e&&e.scrollIntoView(!1)}}),[w,I]);var S=(0,a.useRef)(!0);(0,a.useLayoutEffect)((function(){S.current?S.current=!1:T()}),[w]);var P=function(e){e.persist();var n=(0,i.Z)(w);n[p()(e.target,"dataset.index",0)]=e.target.value,E(n)},T=h()((function(){var e=w.filter((function(e){return""!==e.trim()})).join(",");m(e)}),500),F=w.map((function(e,n){return(0,j.jsx)("div",{className:y.inputBoxSpacer,children:(0,j.jsx)(d.Z,{id:"".concat(t,"-").concat(n.toString()),label:"",name:"".concat(t,"-").concat(n.toString()),value:w[n],onChange:P,index:n,placeholder:f,overlayIcon:n===w.length-1?(0,j.jsx)(g.Z,{}):null,overlayAction:function(){!function(e){if(""!==e[e.length-1].trim()){var n=(0,i.Z)(e);n.push(""),E(n)}}(w)}},"csv-".concat(t,"-").concat(n.toString()))})}));return(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)(c.ZP,{item:!0,xs:12,className:y.fieldContainer,children:[(0,j.jsxs)(x.Z,{className:y.inputLabel,children:[(0,j.jsx)("span",{children:r}),""!==l&&(0,j.jsx)("div",{className:y.tooltipContainer,children:(0,j.jsx)(v.Z,{title:l,placement:"top-start",children:(0,j.jsx)("div",{className:y.tooltip,children:(0,j.jsx)(Z.Z,{})})})})]}),(0,j.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(C?y.inputWithBorder:""),children:[F,(0,j.jsx)("div",{ref:I})]})]})})})),C=t(57314),y=t(37516),N=function(e,n,t){var i="on|off"===n?"false":"";if(t.length>0){var o=t.find((function(n){return n.key===e}));o&&(i=o.value)}return i},k=(0,l.Z)((function(e){return(0,s.Z)((0,r.Z)((0,r.Z)({},u.DF),{},{formFieldRow:(0,r.Z)({},u.DF.formFieldRow)},u.oO))}))((function(e){var n=e.onChange,t=e.fields,r=e.defaultVals,s=e.classes,l=(0,a.useState)([]),u=(0,o.Z)(l,2),f=u[0],p=u[1],m=t||[],h=r||[];(0,a.useEffect)((function(){var e=[];t.forEach((function(n){var t={key:n.name,value:N(n.name,n.type,h)};e.push(t)})),p(e)}),[t,r]),(0,a.useEffect)((function(){n(f)}),[f]);var x=function(e,n,t){var o=(0,i.Z)(f);o[t]={key:e,value:n},p(o)},v=function(e,n){switch(e.type){case"on|off":var t=f[n]?f[n].value:"false";return(0,j.jsx)(y.Z,{onChange:function(t){var i=t.target.checked?"true":"false";x(e.name,i,n)},id:e.name,name:e.name,label:e.label,value:"switch_on",tooltip:e.tooltip,checked:"true"===t});case"csv":return(0,j.jsx)(b,{elements:f[n]?f[n].value:"",label:e.label,name:e.name,onChange:function(t){return x(e.name,t,n)},tooltip:e.tooltip,commonPlaceholder:e.placeholder,withBorder:!0});case"comment":return(0,j.jsx)(C.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:f[n]?f[n].value:"",onChange:function(t){return x(e.name,t.target.value,n)},placeholder:e.placeholder});default:return(0,j.jsx)(d.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:f[n]?f[n].value:"",onChange:function(t){return x(e.name,t.target.value,n)},multiline:!!e.multiline,placeholder:e.placeholder})}};return(0,j.jsx)(c.ZP,{container:!0,children:(0,j.jsx)(c.ZP,{xs:12,item:!0,className:s.fieldBox,children:m.map((function(e,n){return(0,j.jsx)(c.ZP,{item:!0,xs:12,className:s.formFieldRow,children:v(e,n)},e.name)}))})})}))},29823:function(e,n,t){"use strict";var i=t(95318);n.Z=void 0;var o=i(t(45649)),r=t(80184),a=(0,o.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=a},20821:function(e,n,t){var i=t(26050),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},26050:function(e){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},48573:function(e,n,t){var i=t(8092),o=t(50072),r=t(42582),a=Math.max,s=Math.min;e.exports=function(e,n,t){var l,c,u,d,f,p,m=0,h=!1,x=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function Z(n){var t=l,i=c;return l=c=void 0,m=n,d=e.apply(i,t)}function g(e){return m=e,f=setTimeout(b,n),h?Z(e):d}function j(e){var t=e-p;return void 0===p||t>=n||t<0||x&&e-m>=u}function b(){var e=o();if(j(e))return C(e);f=setTimeout(b,function(e){var t=n-(e-p);return x?s(t,u-(e-m)):t}(e))}function C(e){return f=void 0,v&&l?Z(e):(l=c=void 0,d)}function y(){var e=o(),t=j(e);if(l=arguments,c=this,p=e,t){if(void 0===f)return g(p);if(x)return clearTimeout(f),f=setTimeout(b,n),Z(p)}return void 0===f&&(f=setTimeout(b,n)),d}return n=r(n)||0,i(t)&&(h=!!t.leading,u=(x="maxWait"in t)?a(r(t.maxWait)||0,n):u,v="trailing"in t?!!t.trailing:v),y.cancel=function(){void 0!==f&&clearTimeout(f),m=0,l=p=c=f=void 0},y.flush=function(){return void 0===f?d:C(o())},y}},50072:function(e,n,t){var i=t(97009);e.exports=function(){return i.Date.now()}},42582:function(e,n,t){var i=t(20821),o=t(8092),r=t(70152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=o(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var t=s.test(e);return t||l.test(e)?c(e.slice(2),t?2:8):a.test(e)?NaN:+e}}}]);
//# sourceMappingURL=7659.5504cc60.chunk.js.map