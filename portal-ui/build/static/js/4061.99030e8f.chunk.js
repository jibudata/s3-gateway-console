"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4061,8896,9134],{64163:function(e,n,t){var s=t(1413),i=t(72791),l=t(61889),o=t(11135),a=t(25787),r=t(23814),c=t(80184);n.Z=(0,a.Z)((function(e){return(0,o.Z)((0,s.Z)({},r.xx))}))((function(e){var n=e.classes,t=e.label,s=void 0===t?"":t,o=e.content,a=e.multiLine,r=void 0!==a&&a,u=e.actionButton;return(0,c.jsx)(i.Fragment,{children:(0,c.jsxs)(l.ZP,{className:n.prefinedContainer,children:[""!==s&&(0,c.jsx)(l.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:s}),(0,c.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(n.predefinedList," ").concat(u?n.includesActionButton:""),children:[(0,c.jsx)(l.ZP,{item:!0,xs:12,className:r?n.innerContentMultiline:n.innerContent,children:o}),u&&(0,c.jsx)("div",{className:n.overlayShareOption,children:u})]})]})})}))},56028:function(e,n,t){var s=t(29439),i=t(1413),l=t(72791),o=t(60364),a=t(13400),r=t(55646),c=t(5574),u=t(65661),d=t(39157),f=t(11135),h=t(25787),m=t(23814),x=t(25469),p=t(29823),Z=t(28057),v=t(87995),b=t(80184);n.Z=(0,h.Z)((function(e){return(0,f.Z)((0,i.Z)((0,i.Z)({},m.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,f=e.title,h=e.children,m=e.classes,g=e.wideLimit,j=void 0===g||g,C=e.noContentPadding,y=e.titleIcon,P=void 0===y?null:y,S=(0,x.TL)(),N=(0,l.useState)(!1),k=(0,s.Z)(N,2),E=k[0],A=k[1],F=(0,o.v9)((function(e){return e.system.modalSnackBar}));(0,l.useEffect)((function(){S((0,v.MK)(""))}),[S]),(0,l.useEffect)((function(){if(F){if(""===F.message)return void A(!1);"error"!==F.type&&A(!0)}}),[F]);var L=j?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},T="";return F&&(T=F.detailedErrorMsg,(""===F.detailedErrorMsg||F.detailedErrorMsg.length<5)&&(T=F.message)),(0,b.jsxs)(c.Z,(0,i.Z)((0,i.Z)({open:t,classes:m},L),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:m.root,children:[(0,b.jsxs)(u.Z,{className:m.title,children:[(0,b.jsxs)("div",{className:m.titleText,children:[P," ",f]}),(0,b.jsx)("div",{className:m.closeContainer,children:(0,b.jsx)(a.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,b.jsx)(p.Z,{})})})]}),(0,b.jsx)(Z.Z,{isModal:!0}),(0,b.jsx)(r.Z,{open:E,className:m.snackBarModal,onClose:function(){A(!1),S((0,v.MK)(""))},message:T,ContentProps:{className:"".concat(m.snackBar," ").concat(F&&"error"===F.type?m.errorSnackBar:"")},autoHideDuration:F&&"error"===F.type?1e4:5e3}),(0,b.jsx)(d.Z,{className:C?"":m.content,children:h})]}))}))},60680:function(e,n,t){t(72791);var s=t(11135),i=t(25787),l=t(80184);n.Z=(0,i.Z)((function(e){return(0,s.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,l.jsx)("h1",{className:n.root,children:t})}))},59114:function(e,n,t){var s=t(4942),i=t(1413),l=(t(72791),t(63466)),o=t(74900),a=t(27391),r=t(25787),c=t(11135),u=t(23814),d=t(80184);n.Z=(0,r.Z)((function(e){return(0,c.Z)({searchField:(0,i.Z)({},u.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,i=e.classes,r=e.onChange,c=e.adornmentPosition,u=void 0===c?"end":c,f=e.overrideClass,h=e.value,m=(0,s.Z)({disableUnderline:!0},"".concat(u,"Adornment"),(0,d.jsx)(l.Z,{position:u,className:i.adornment,children:(0,d.jsx)(o.Z,{})}));return(0,d.jsx)(a.Z,{placeholder:t,className:f||i.searchField,id:"search-resource",label:"",InputProps:m,onChange:function(e){r(e.target.value)},variant:"standard",value:h})}))},27454:function(e,n,t){var s=t(1413),i=t(72791),l=t(20068),o=t(80184);n.Z=function(e){var n=e.tooltip,t=e.children,a=e.errorProps,r=void 0===a?null:a;return(0,o.jsx)(l.Z,{title:n,children:(0,o.jsx)("span",{children:r?(0,i.cloneElement)(t,(0,s.Z)({},r)):t})})}},50276:function(e,n,t){var s=t(1413),i=t(29439),l=t(72791),o=t(64554),a=t(43896),r=t(83449),c=t(47283),u=t(82851),d=t(25787),f=t(13967),h=t(11135),m=t(95193),x=t(16871),p=t(80184),Z={minHeight:60};n.Z=(0,d.Z)((function(e){return(0,h.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,d=e.selectedTab,h=void 0===d?"0":d,v=e.routes,b=e.isRouteTabs,g=(0,f.Z)(),j=(0,x.TH)().pathname,C=void 0===j?"":j,y=(0,m.Z)(g.breakpoints.down("md")),P=(0,l.useState)(h),S=(0,i.Z)(P,2),N=S[0],k=S[1],E=[],A=[];if((0,l.useEffect)((function(){if(b){var e=n.find((function(e){return e.tabConfig.to===C}));e&&k(e.tabConfig.value)}}),[b,n,C]),!n)return null;n.forEach((function(e){E.push(e.tabConfig),A.push(e.content)}));return(0,p.jsx)(r.ZP,{value:"".concat(N),children:(0,p.jsxs)(o.Z,{className:t.tabsContainer,children:[(0,p.jsx)(o.Z,{className:t.tabsHeaderContainer,children:(0,p.jsx)(c.Z,{onChange:function(e,n){k(n)},orientation:y?"horizontal":"vertical",variant:y?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:E.map((function(e,n){return e?(0,p.jsx)(a.Z,(0,s.Z)((0,s.Z)({className:t.tabHeader,value:"".concat(n),style:Z},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,p.jsxs)(o.Z,{className:t.tabContentContainer,children:[b?null:A.map((function(e,n){return(0,p.jsx)(u.Z,{classes:(0,s.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),b?(0,p.jsx)("div",{className:t.tabPanel,children:v}):null]})]})})}))},88896:function(e,n,t){t.r(n);var s=t(37762),i=t(29439),l=(t(72791),t(51691)),o=t(23508),a=t(9505),r=t(38734),c=t(45248),u=t(87995),d=t(25469),f=t(80184);n.default=function(e){var n=e.selectedGroups,t=e.deleteOpen,h=e.closeDeleteModalAndRefresh,m=(0,d.TL)(),x=(0,a.Z)((function(){return h(!0)}),(function(e){m((0,u.Ih)(e)),h(!1)})),p=(0,i.Z)(x,2),Z=p[0],v=p[1];if(!n)return null;var b=n.map((function(e){return(0,f.jsx)("div",{children:(0,f.jsx)("b",{children:e})},e)}));return(0,f.jsx)(o.Z,{title:"Delete Group".concat(n.length>1?"s":""),confirmText:"Delete",isOpen:t,titleIcon:(0,f.jsx)(r.NvT,{}),isLoading:Z,onConfirm:function(){var e,t=(0,s.Z)(n);try{for(t.s();!(e=t.n()).done;){var i=e.value;v("DELETE","/api/v1/group/".concat((0,c.LL)(i)))}}catch(l){t.e(l)}finally{t.f()}},onClose:function(){return h(!1)},confirmationContent:(0,f.jsxs)(l.Z,{children:["Are you sure you want to delete the following ",n.length," ","group",n.length>1?"s?":"?",b]})})}},94061:function(e,n,t){t.r(n),t.d(n,{default:function(){return K},formatPolicy:function(){return z}});var s=t(29439),i=t(1413),l=t(72791),o=t(16871),a=t(75952),r=t(11135),c=t(23814),u=t(25787),d=t(61889),f=t(14917),h=t(38734),m=t(92983),x=t(81207),p=t(39134),Z=t(40228),v=t(56028),b=t(64163),g=t(45248),j=t(87995),C=t(25469),y=t(80184),P=(0,u.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({userSelector:{"& .MuiPaper-root":{padding:0,marginBottom:15}}},c.ID),c.DF),c.oO))}))((function(e){var n=e.classes,t=e.title,i=void 0===t?"":t,o=e.groupStatus,r=void 0===o?"enabled":o,c=e.preSelectedUsers,u=void 0===c?[]:c,f=e.selectedGroup,m=void 0===f?"":f,p=e.open,P=e.onClose,S=(0,C.TL)(),N=(0,l.useState)(u),k=(0,s.Z)(N,2),E=k[0],A=k[1];return(0,y.jsxs)(v.Z,{modalOpen:p,onClose:P,title:i,titleIcon:(0,y.jsx)(h.ZmA,{}),children:[(0,y.jsx)(d.ZP,{container:!0,children:(0,y.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,y.jsx)("div",{className:n.formFieldRow,children:(0,y.jsx)(b.Z,{label:"Selected Group",content:m})}),(0,y.jsx)("div",{className:n.userSelector,children:(0,y.jsx)(Z.Z,{selectedUsers:E,setSelectedUsers:A,editMode:!m})})]})}),(0,y.jsxs)(d.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,y.jsx)(a.z,{id:"reset-add-group-member",type:"button",variant:"regular",onClick:function(){A(u)},label:"Reset"}),(0,y.jsx)(a.z,{id:"save-add-group-member",type:"button",variant:"callAction",onClick:function(){x.Z.invoke("PUT","/api/v1/group/".concat((0,g.LL)(m)),{group:m,members:E,status:r}).then((function(e){P()})).catch((function(e){P(),S((0,j.zb)(e))}))},label:"Save"})]})]})})),S=t(88896),N=t(50276),k=t(37516),E=t(74794),A=t(60680),F=t(59114),L=t(56087),T=t(38442),B=t(32291),w=t(84669),M=(0,u.Z)((function(e){return(0,r.Z)({})}))((function(e){e.classes;return(0,y.jsx)(B.Z,{label:(0,y.jsx)(l.Fragment,{children:(0,y.jsx)(w.Z,{to:L.gA.GROUPS,label:"Groups"})}),actions:(0,y.jsx)(l.Fragment,{})})})),U=t(74616),R=t(27454),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length<=0?[]:e.split(",")},K=(0,u.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({pageContainer:{border:"1px solid #EAEAEA",width:"100%"},statusLabel:{fontSize:".8rem",marginRight:".7rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".7rem"},searchField:(0,i.Z)((0,i.Z)({},c.qg.searchField),{},{maxWidth:280})},c.VX),c.bK),{},{actionsTray:(0,i.Z)((0,i.Z)({},c.OR.actionsTray),{},{alignItems:"center","& h1":{flex:1},"& button":{marginLeft:".8rem"},"@media (max-width: 900px)":{justifyContent:"flex-end","& h1":{display:"none"},"& button":{whiteSpace:"nowrap",textOverflow:"ellipsis"}}})},(0,c.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,C.TL)(),i=(0,o.s0)(),r=(0,o.UO)(),c=(0,l.useState)({}),u=(0,s.Z)(c,2),Z=u[0],v=u[1],b=(0,l.useState)(!1),B=(0,s.Z)(b,2),w=B[0],K=B[1],G=(0,l.useState)(!1),O=(0,s.Z)(G,2),D=O[0],I=O[1],H=(0,l.useState)(!1),V=(0,s.Z)(H,2),W=V[0],X=V[1],_=(0,l.useState)(""),q=(0,s.Z)(_,2),Q=q[0],Y=q[1],J=(0,g.IO)(r.groupName||""),$=Z.members,ee=void 0===$?[]:$,ne=Z.policy,te=void 0===ne?"":ne,se=Z.status,ie=ee.filter((function(e){return e.includes(Q)})),le=(0,T.F)(L.C3,L.iw,!0);(0,l.useEffect)((function(){J&&he()}),[J]);var oe=z(te),ae="enabled"===se,re=ee.length>0?"Edit Members":"Add Members",ce=(0,T.F)(L.C3,L.k_),ue=(0,T.F)(L.C3,L.kt,!0),de=(0,T.F)(L.C3,L.UA,!0),fe=(0,T.F)(L.C3,L.GD,!0);function he(){ce&&x.Z.invoke("GET","/api/v1/group/".concat((0,g.LL)(J))).then((function(e){v(e)})).catch((function(e){t((0,j.zb)(e)),v({})}))}var me=(0,y.jsxs)(l.Fragment,{children:[(0,y.jsxs)("div",{className:n.actionsTray,children:[(0,y.jsx)(A.Z,{children:"Members"}),(0,y.jsx)(F.Z,{placeholder:"Search members",onChange:function(e){Y(e)},overrideClass:n.searchField,value:Q}),(0,y.jsx)(T.s,{resource:L.C3,scopes:L.uH,errorProps:{disabled:!0},children:(0,y.jsx)(R.Z,{tooltip:ue?re:(0,L.MK)(L.vN,"edit Group membership"),children:(0,y.jsx)(a.z,{id:"add-user-group",label:re,variant:"callAction",icon:(0,y.jsx)(h.dtP,{}),onClick:function(){I(!0)},disabled:!ue})})})]}),(0,y.jsx)("div",{className:n.tableBlock,children:(0,y.jsx)(T.s,{resource:L.C3,scopes:L.Rs,errorProps:{disabled:!0},children:(0,y.jsx)(m.Z,{itemActions:[{type:"view",onClick:function(e){i("".concat(L.gA.USERS,"/").concat((0,g.LL)(e)))},disableButtonFunction:function(){return!le}}],columns:[{label:"Access Key",elementKey:""}],selectedItems:[],isLoading:!1,records:ie,entityName:"Users",idField:"",tooltip:le?"":(0,L.MK)(L.iw,"view User details")})})})]}),xe=(0,y.jsxs)(l.Fragment,{children:[(0,y.jsxs)("div",{className:n.actionsTray,children:[(0,y.jsx)(A.Z,{children:"Policies"}),(0,y.jsx)(R.Z,{tooltip:de?"Set Policies":(0,L.MK)(L.UA,"assign Policies"),children:(0,y.jsx)(a.z,{id:"set-policies",label:"Set Policies",variant:"callAction",icon:(0,y.jsx)(h.v42,{}),onClick:function(){K(!0)},disabled:!de})})]}),(0,y.jsx)("div",{className:n.tableBlock,children:(0,y.jsx)(m.Z,{itemActions:[{type:"view",onClick:function(e){i("".concat(L.gA.POLICIES,"/").concat((0,g.LL)(e)))},disableButtonFunction:function(){return!fe}}],columns:[{label:"Policy",elementKey:""}],isLoading:!1,records:oe,entityName:"Policies",idField:"",tooltip:fe?"":(0,L.MK)(L.GD,"view Policy details")})})]});return(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(M,{}),(0,y.jsxs)(E.Z,{className:n.pageContainer,children:[(0,y.jsx)(d.ZP,{item:!0,xs:12,children:(0,y.jsx)(f.Z,{icon:(0,y.jsx)(l.Fragment,{children:(0,y.jsx)(h.wws,{width:40})}),title:J,subTitle:null,actions:(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)("span",{className:n.statusLabel,children:"Group Status:"}),(0,y.jsx)("span",{id:"group-status",className:n.statusValue,children:ae?"Enabled":"Disabled"}),(0,y.jsx)(R.Z,{tooltip:(0,T.F)(L.C3,L.xh,!0)?"":(0,L.MK)(L.xh,"enable or disable Groups"),children:(0,y.jsx)(T.s,{resource:L.C3,scopes:L.xh,errorProps:{disabled:!0},matchAll:!0,children:(0,y.jsx)(k.Z,{indicatorLabels:["Enabled","Disabled"],checked:ae,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;e=!ae,x.Z.invoke("PUT","/api/v1/group/".concat((0,g.LL)(J)),{group:J,members:ee,status:e?"enabled":"disabled"}).then((function(e){he()})).catch((function(e){t((0,j.zb)(e))}))},switchOnly:!0})})}),(0,y.jsx)("div",{className:n.spacerLeft,children:(0,y.jsx)(R.Z,{tooltip:"Delete Group",children:(0,y.jsx)(a.z,{id:"delete-user-group",variant:"secondary",icon:(0,y.jsx)(h.XHJ,{}),onClick:function(){X(!0)}})})})]})})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,children:(0,y.jsxs)(N.Z,{children:[{tabConfig:{label:"Members"},content:me},{tabConfig:{label:"Policies"},content:xe}]})})]}),w?(0,y.jsx)(p.default,{open:w,selectedGroups:[J],selectedUser:null,closeModalAndRefresh:function(){K(!1),he(),t((0,U.ue)([]))}}):null,D?(0,y.jsx)(P,{selectedGroup:J,onSaveClick:function(){},title:re,groupStatus:se,preSelectedUsers:ee,open:D,onClose:function(){I(!1),he()}}):null,W&&(0,y.jsx)(S.default,{deleteOpen:W,selectedGroups:[J],closeDeleteModalAndRefresh:function(e){X(!1),e&&i(L.gA.GROUPS)}})]})}))},40228:function(e,n,t){var s=t(93433),i=t(29439),l=t(1413),o=t(72791),a=t(11135),r=t(25787),c=t(40986),u=t(26181),d=t.n(u),f=t(10703),h=t(61889),m=t(21639),x=t(23814),p=t(81207),Z=t(92983),v=t(59114),b=t(87995),g=t(25469),j=t(80184);n.Z=(0,r.Z)((function(e){return(0,a.Z)((0,l.Z)((0,l.Z)({paper:{display:"flex",overflow:"auto",flexDirection:"column",boxShadow:"none",border:0},tableBlock:(0,l.Z)({},x.VX.tableBlock),searchBox:{flex:1}},x.OR),{},{actionsTitle:{fontSize:14,alignSelf:"center",minWidth:160,marginRight:10},noFound:{textAlign:"center",padding:e.spacing(3),border:"1px solid #EAEAEA",fontSize:".9rem"}},x.jY))}))((function(e){var n=e.classes,t=e.selectedUsers,l=e.setSelectedUsers,a=e.editMode,r=void 0!==a&&a,u=(0,g.TL)(),x=(0,o.useState)([]),C=(0,i.Z)(x,2),y=C[0],P=C[1],S=(0,o.useState)(!1),N=(0,i.Z)(S,2),k=N[0],E=N[1],A=(0,o.useState)(""),F=(0,i.Z)(A,2),L=F[0],T=F[1],B=(0,o.useCallback)((function(){p.Z.invoke("GET","/api/v1/users").then((function(e){var n=d()(e,"users",[]);n||(n=[]),P(n.sort(m.LQ)),E(!1)})).catch((function(e){u((0,b.zb)(e)),E(!1)}))}),[u]);(0,o.useEffect)((function(){E(!0)}),[]),(0,o.useEffect)((function(){k&&B()}),[k,B]);var w=t||[],M=y.filter((function(e){return e.accessKey.includes(L)}));return(0,j.jsx)(o.Fragment,{children:(0,j.jsx)(h.ZP,{item:!0,xs:12,children:(0,j.jsxs)(f.Z,{className:n.paper,children:[k&&(0,j.jsx)(c.Z,{}),null!==y&&y.length>0?(0,j.jsxs)(o.Fragment,{children:[(0,j.jsxs)(h.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,j.jsx)("label",{className:n.actionsTitle,children:r?"Edit Members":"Assign Users"}),(0,j.jsx)("div",{className:n.searchBox,children:(0,j.jsx)(v.Z,{placeholder:"Filter Users",adornmentPosition:"end",onChange:T,value:L})})]}),(0,j.jsx)(h.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,j.jsx)(Z.Z,{columns:[{label:"Access Key",elementKey:"accessKey"}],onSelect:function(e){var n=e.target,t=n.value,i=n.checked,o=(0,s.Z)(w);return i?o.push(t):o=o.filter((function(e){return e!==t})),l(o),o},selectedItems:w,isLoading:k,records:M,entityName:"Users",idField:"accessKey",customPaperHeight:n.multiSelectTable})})]}):(0,j.jsx)("div",{className:n.noFound,children:"No Users to display"})]})})})}))},58400:function(e,n,t){var s=t(93433),i=t(29439),l=t(1413),o=t(72791),a=t(11135),r=t(25787),c=t(40986),u=t(61889),d=t(21639),f=t(23814),h=t(81207),m=t(92983),x=t(59114),p=t(87995),Z=t(25469),v=t(74616),b=t(60364),g=t(80184);n.Z=(0,r.Z)((function(e){return(0,a.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,l.Z)({},f.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},f.qg),f.VX),f.OR),f.jY))}))((function(e){var n=e.classes,t=(e.selectedPolicy,(0,Z.TL)()),l=(0,o.useState)([]),a=(0,i.Z)(l,2),r=a[0],f=a[1],j=(0,o.useState)(!1),C=(0,i.Z)(j,2),y=C[0],P=C[1],S=(0,o.useState)(""),N=(0,i.Z)(S,2),k=N[0],E=N[1],A=(0,b.v9)((function(e){return e.createUser.selectedPolicies})),F=(0,o.useCallback)((function(){P(!0),h.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;P(!1),f(n.sort(d.g4))})).catch((function(e){P(!1),t((0,p.zb)(e))}))}),[t]);(0,o.useEffect)((function(){P(!0)}),[]),(0,o.useEffect)((function(){y&&F()}),[y,F]);var L=r.filter((function(e){return e.name.includes(k)}));return(0,g.jsx)(u.ZP,{container:!0,children:(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[y&&(0,g.jsx)(c.Z,{}),r.length>0?(0,g.jsxs)(o.Fragment,{children:[(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,g.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,g.jsx)("div",{className:n.searchBox,children:(0,g.jsx)(x.Z,{placeholder:"Start typing to search for a Policy",onChange:function(e){E(e)},value:k})})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,style:{paddingBottom:16},children:(0,g.jsx)(m.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,i=n.value,l=n.checked,o=(0,s.Z)(A);l?o.push(i):o=o.filter((function(e){return e!==i})),o=o.filter((function(e){return""!==e})),t((0,v.ue)(o))},selectedItems:A,isLoading:y,records:L,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,g.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})}))},39134:function(e,n,t){t.r(n);var s=t(29439),i=t(1413),l=t(72791),o=t(26181),a=t.n(o),r=t(75952),c=t(11135),u=t(25787),d=t(40986),f=t(61889),h=t(23814),m=t(56028),x=t(81207),p=t(58400),Z=t(64163),v=t(45248),b=t(87995),g=t(25469),j=t(60364),C=t(74616),y=t(80184);n.default=(0,u.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.oO),h.bK),{},{tableBlock:(0,i.Z)((0,i.Z)({},h.VX.tableBlock),{},{marginTop:15}),buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:".9rem","& button":{marginLeft:8}}}))}))((function(e){var n=e.classes,t=e.closeModalAndRefresh,i=e.selectedUser,o=e.selectedGroups,c=e.open,u=(0,g.TL)(),h=(0,l.useState)(!1),P=(0,s.Z)(h,2),S=P[0],N=P[1],k=(0,l.useState)([]),E=(0,s.Z)(k,2),A=E[0],F=E[1],L=(0,l.useState)([]),T=(0,s.Z)(L,2),B=T[0],w=T[1],M=(0,j.v9)((function(e){return e.createUser.selectedPolicies}));(0,l.useEffect)((function(){if(c){if(1===(null===o||void 0===o?void 0:o.length))return void(1===(null===o||void 0===o?void 0:o.length)&&x.Z.invoke("GET","/api/v1/group/".concat((0,v.LL)(o[0]))).then((function(e){var n=a()(e,"policy","");F(n.split(",")),w(n.split(",")),u((0,C.ue)(n.split(",")))})).catch((function(e){u((0,b.zb)(e)),N(!1)})));var e=a()(i,"policy",[]);F(e),w(e),u((0,C.ue)(e))}}),[c,null===o||void 0===o?void 0:o.length,i]);var U=a()(i,"accessKey","");return(0,y.jsxs)(m.Z,{onClose:function(){t()},modalOpen:c,title:"Set Policies",children:[(0,y.jsxs)(f.ZP,{container:!0,children:[(1===(null===o||void 0===o?void 0:o.length)||null!=i)&&(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(f.ZP,{item:!0,xs:12,children:(0,y.jsx)(Z.Z,{label:"Selected ".concat(null!==o?"Group":"User"),content:null!==o?o[0]:U})}),(0,y.jsx)(f.ZP,{item:!0,xs:12,children:(0,y.jsx)(Z.Z,{label:"Current Policy",content:A.join(", ")})})]}),o&&(null===o||void 0===o?void 0:o.length)>1&&(0,y.jsx)(Z.Z,{label:"Selected Groups",content:o.join(", ")}),(0,y.jsx)(f.ZP,{item:!0,xs:12,children:(0,y.jsx)("div",{className:n.tableBlock,children:(0,y.jsx)(p.Z,{selectedPolicy:B})})})]}),(0,y.jsxs)(f.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,y.jsx)(r.z,{id:"reset",type:"button",variant:"regular",className:n.spacerRight,onClick:function(){w(A),u((0,C.ue)(A))},label:"Reset"}),(0,y.jsx)(r.z,{id:"save",type:"button",variant:"callAction",color:"primary",disabled:S,onClick:function(){var e=null,n=null;null!==o?n=o:null!==i&&(e=[i.accessKey]||0),N(!0),x.Z.invoke("PUT","/api/v1/set-policy-multi",{name:M,groups:n,users:e}).then((function(){N(!1),t()})).catch((function(e){N(!1),u((0,b.zb)(e))}))},label:"Save"})]}),S&&(0,y.jsx)(f.ZP,{item:!0,xs:12,children:(0,y.jsx)(d.Z,{})})]})}))},21639:function(e,n,t){t.d(n,{KE:function(){return o},LQ:function(){return s},V2:function(){return l},g4:function(){return i}});var s=function(e,n){return e.accessKey>n.accessKey?1:e.accessKey<n.accessKey?-1:0},i=function(e,n){return e.name>n.name?1:e.name<n.name?-1:0},l=function(e,n){return e>n?1:e<n?-1:0},o=function(e,n){return e.policy>n.policy?1:e.policy<n.policy?-1:0}}}]);
//# sourceMappingURL=4061.99030e8f.chunk.js.map