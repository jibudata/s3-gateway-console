(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[52],{384:function(e,t,a){"use strict";var o=a(2),r=Object(o.createContext)({});t.a=r},387:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));var o=a(70),r=a(94);function n(e){return Object(o.a)("MuiDialog",e)}var i=Object(r.a)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);t.a=i},389:function(e,t,a){"use strict";var o,r=a(15),n=a(1),i=a(2),c=a(39),l=a(378),s=a(372),d=a(406),p=a(407),b=a(408),u=a(300),j=a(310),m=a(120),h=a(31),O=a(46),x=a.n(O),f=a(127),v=a.n(f),g=a(126),C=a.n(g),y=a(123),S=a.n(y),k=a(0),w=function(){clearInterval(o)},N={displayErrorMessage:h.h},M=Object(c.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),N)(Object(j.a)((function(e){return Object(u.a)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var t=e.classes,a=e.modalSnackMessage,n=e.displayErrorMessage,c=e.customStyle,l=Object(i.useState)(!1),s=Object(r.a)(l,2),d=s[0],p=s[1],b=Object(i.useState)(!1),u=Object(r.a)(b,2),j=u[0],m=u[1],h=Object(i.useCallback)((function(){m(!1)}),[]);Object(i.useEffect)((function(){j||(n({detailedError:"",errorMessage:""}),p(!1))}),[n,j]),Object(i.useEffect)((function(){""!==a.message&&"error"===a.type&&m(!0)}),[h,a.message,a.type]);var O=x()(a,"message",""),f=x()(a,"detailedErrorMsg","");return"error"!==a.type||""===O?null:Object(k.jsx)(i.Fragment,{children:Object(k.jsxs)("div",{className:"".concat(t.modalErrorContainer," ").concat(j?t.modalErrorShow:""),style:c,onMouseOver:w,onMouseLeave:function(){o=setInterval(h,1e4)},children:[Object(k.jsx)("button",{className:t.closeButton,onClick:h,children:Object(k.jsx)(S.a,{})}),Object(k.jsxs)("div",{className:t.errorTitle,children:[Object(k.jsx)("span",{className:t.messageIcon,children:Object(k.jsx)(C.a,{})}),Object(k.jsx)("span",{className:t.errorLabel,children:O})]}),""!==f&&Object(k.jsxs)(i.Fragment,{children:[Object(k.jsx)("div",{className:t.detailsContainerLink,children:Object(k.jsxs)("button",{className:t.detailsButton,onClick:function(){p(!d)},children:["Details",Object(k.jsx)(v.a,{className:"".concat(t.arrowElement," ").concat(d?t.arrowOpen:"")})]})}),Object(k.jsx)("div",{className:"".concat(t.extraDetailsContainer," ").concat(d?t.extraDetailsOpen:""),children:f})]})]})})}))),W={content:'" "',borderLeft:"2px solid #9C9C9C",height:33,width:1,position:"absolute"},D=Object(c.b)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:h.i});t.a=Object(j.a)((function(e){return Object(u.a)(Object(n.a)({dialogContainer:{padding:"8px 15px 22px"},closeContainer:{textAlign:"right"},closeButton:{height:16,width:16,padding:0,backgroundColor:"initial","&:hover":{backgroundColor:"initial"},"&:active":{backgroundColor:"initial"}},closeIcon:{"&::before":Object(n.a)(Object(n.a)({},W),{},{transform:"rotate(45deg)",height:12}),"&::after":Object(n.a)(Object(n.a)({},W),{},{transform:"rotate(-45deg)",height:12}),"&:hover::before, &:hover::after":{borderColor:"#9C9C9C"},display:"block",position:"relative",height:12,width:12},titleClass:{padding:"0px 50px 12px",fontSize:"1.2rem",fontWeight:600,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},modalContent:{padding:"0 50px"},customDialogSize:{width:"100%",maxWidth:765}},m.y))}))(D((function(e){var t=e.onClose,a=e.modalOpen,o=e.title,c=e.children,u=e.classes,j=e.wideLimit,m=void 0===j||j,h=e.modalSnackMessage,O=e.noContentPadding,x=e.setModalSnackMessage,f=Object(i.useState)(!1),v=Object(r.a)(f,2),g=v[0],C=v[1];Object(i.useEffect)((function(){x("")}),[x]),Object(i.useEffect)((function(){if(h){if(""===h.message)return void C(!1);"error"!==h.type&&C(!0)}}),[h]);var y=m?{classes:{paper:u.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},S="";return h&&(S=h.detailedErrorMsg,(""===h.detailedErrorMsg||h.detailedErrorMsg.length<5)&&(S=h.message)),Object(k.jsx)(d.a,Object(n.a)(Object(n.a)({open:a,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},y),{},{children:Object(k.jsxs)("div",{className:u.dialogContainer,children:[Object(k.jsx)(M,{}),Object(k.jsx)(s.a,{open:g,className:u.snackBarModal,onClose:function(){C(!1),x("")},message:S,ContentProps:{className:"".concat(u.snackBar," ").concat(h&&"error"===h.type?u.errorSnackBar:"")},autoHideDuration:h&&"error"===h.type?1e4:5e3}),Object(k.jsx)("div",{className:u.closeContainer,children:Object(k.jsx)(l.a,{"aria-label":"close",className:u.closeButton,onClick:t,disableRipple:!0,size:"large",children:Object(k.jsx)("span",{className:u.closeIcon})})}),Object(k.jsx)(p.a,{id:"alert-dialog-title",className:u.titleClass,children:o}),Object(k.jsx)(b.a,{className:O?"":u.modalContent,children:c})]})}))})))},390:function(e,t,a){"use strict";var o=a(1),r=a(2),n=a.n(r),i=a(415),c=a(436),l=a(809),s=a(376),d=a(378),p=a(300),b=a(369),u=a(310),j=a(120),m=a(121),h=a(0),O=Object(b.a)((function(e){return Object(p.a)(Object(o.a)({},j.n))}));function x(e){var t=O();return Object(h.jsx)(i.a,Object(o.a)({InputProps:{classes:t}},e))}t.a=Object(u.a)((function(e){return Object(p.a)(Object(o.a)(Object(o.a)(Object(o.a)({},j.i),j.D),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,r=e.value,i=e.id,p=e.name,b=e.type,u=void 0===b?"text":b,j=e.autoComplete,O=void 0===j?"off":j,f=e.disabled,v=void 0!==f&&f,g=e.multiline,C=void 0!==g&&g,y=e.tooltip,S=void 0===y?"":y,k=e.index,w=void 0===k?0:k,N=e.error,M=void 0===N?"":N,W=e.required,D=void 0!==W&&W,B=e.placeholder,E=void 0===B?"":B,P=e.min,R=e.max,T=e.overlayIcon,I=void 0===T?null:T,L=e.overlayObject,A=void 0===L?null:L,F=e.extraInputProps,z=void 0===F?{}:F,H=e.overlayAction,J=e.noLabelMinWidth,K=void 0!==J&&J,X=e.classes,Y=Object(o.a)({"data-index":w},z);return"number"===u&&P&&(Y.min=P),"number"===u&&R&&(Y.max=R),Object(h.jsx)(n.a.Fragment,{children:Object(h.jsxs)(c.a,{container:!0,className:" ".concat(""!==M?X.errorInField:X.inputBoxContainer),children:[""!==t&&Object(h.jsxs)(l.a,{htmlFor:i,className:K?X.noMinWidthLabel:X.inputLabel,children:[Object(h.jsxs)("span",{children:[t,D?"*":""]}),""!==S&&Object(h.jsx)("div",{className:X.tooltipContainer,children:Object(h.jsx)(s.a,{title:S,placement:"top-start",children:Object(h.jsx)("div",{className:X.tooltip,children:Object(h.jsx)(m.a,{})})})})]}),Object(h.jsxs)("div",{className:X.textBoxContainer,children:[Object(h.jsx)(x,{id:i,name:p,fullWidth:!0,value:r,disabled:v,onChange:a,type:u,multiline:C,autoComplete:O,inputProps:Y,error:""!==M,helperText:M,placeholder:E,className:X.inputRebase}),I&&Object(h.jsx)("div",{className:"".concat(X.overlayAction," ").concat(""!==t?"withLabel":""),children:Object(h.jsx)(d.a,{onClick:H?function(){H()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:I})}),A&&Object(h.jsx)("div",{className:"".concat(X.overlayAction," ").concat(""!==t?"withLabel":""),children:A})]})]})})}))},406:function(e,t,a){"use strict";var o=a(6),r=a(4),n=a(3),i=a(2),c=(a(11),a(7)),l=a(93),s=a(305),d=a(9),p=a(373),b=a(355),u=a(27),j=a(377),m=a(12),h=a(8),O=a(387),x=a(384),f=a(375),v=a(0),g=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],C=Object(h.a)(f.a,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),y=Object(h.a)(p.a,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),S=Object(h.a)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var a=e.ownerState;return[t.container,t["scroll".concat(Object(d.a)(a.scroll))]]}})((function(e){var t=e.ownerState;return Object(n.a)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),k=Object(h.a)(j.a,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var a=e.ownerState;return[t.paper,t["scrollPaper".concat(Object(d.a)(a.scroll))],t["paperWidth".concat(Object(d.a)(String(a.maxWidth)))],a.fullWidth&&t.paperFullWidth,a.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,a=e.ownerState;return Object(n.a)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===a.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===a.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!a.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===a.maxWidth&&Object(o.a)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(O.a.paperScrollBody),Object(o.a)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),"xs"!==a.maxWidth&&Object(o.a)({maxWidth:"".concat(t.breakpoints.values[a.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(O.a.paperScrollBody),Object(o.a)({},t.breakpoints.down(t.breakpoints.values[a.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),a.fullWidth&&{width:"calc(100% - 64px)"},a.fullScreen&&Object(o.a)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(O.a.paperScrollBody),{margin:0,maxWidth:"100%"}))})),w={enter:u.b.enteringScreen,exit:u.b.leavingScreen},N=i.forwardRef((function(e,t){var a=Object(m.a)({props:e,name:"MuiDialog"}),o=a["aria-describedby"],p=a["aria-labelledby"],u=a.BackdropComponent,h=a.BackdropProps,f=a.children,N=a.className,M=a.disableEscapeKeyDown,W=void 0!==M&&M,D=a.fullScreen,B=void 0!==D&&D,E=a.fullWidth,P=void 0!==E&&E,R=a.maxWidth,T=void 0===R?"sm":R,I=a.onBackdropClick,L=a.onClose,A=a.open,F=a.PaperComponent,z=void 0===F?j.a:F,H=a.PaperProps,J=void 0===H?{}:H,K=a.scroll,X=void 0===K?"paper":K,Y=a.TransitionComponent,G=void 0===Y?b.a:Y,q=a.transitionDuration,V=void 0===q?w:q,Z=a.TransitionProps,Q=Object(r.a)(a,g),U=Object(n.a)({},a,{disableEscapeKeyDown:W,fullScreen:B,fullWidth:P,maxWidth:T,scroll:X}),$=function(e){var t=e.classes,a=e.scroll,o=e.maxWidth,r=e.fullWidth,n=e.fullScreen,i={root:["root"],container:["container","scroll".concat(Object(d.a)(a))],paper:["paper","paperScroll".concat(Object(d.a)(a)),"paperWidth".concat(Object(d.a)(String(o))),r&&"paperFullWidth",n&&"paperFullScreen"]};return Object(l.a)(i,O.b,t)}(U),_=i.useRef(),ee=Object(s.a)(p),te=i.useMemo((function(){return{titleId:ee}}),[ee]);return Object(v.jsx)(y,Object(n.a)({className:Object(c.a)($.root,N),BackdropProps:Object(n.a)({transitionDuration:V,as:u},h),closeAfterTransition:!0,BackdropComponent:C,disableEscapeKeyDown:W,onClose:L,open:A,ref:t,onClick:function(e){_.current&&(_.current=null,I&&I(e),L&&L(e,"backdropClick"))},ownerState:U},Q,{children:Object(v.jsx)(G,Object(n.a)({appear:!0,in:A,timeout:V,role:"presentation"},Z,{children:Object(v.jsx)(S,{className:Object(c.a)($.container),onMouseDown:function(e){_.current=e.target===e.currentTarget},ownerState:U,children:Object(v.jsx)(k,Object(n.a)({as:z,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":ee},J,{className:Object(c.a)($.paper,J.className),ownerState:U,children:Object(v.jsx)(x.a.Provider,{value:te,children:f})}))})}))}))}));t.a=N},407:function(e,t,a){"use strict";var o=a(3),r=a(4),n=a(2),i=(a(11),a(7)),c=a(93),l=a(95),s=a(8),d=a(12),p=a(70),b=a(94);function u(e){return Object(p.a)("MuiDialogTitle",e)}Object(b.a)("MuiDialogTitle",["root"]);var j=a(384),m=a(0),h=["className","id"],O=Object(s.a)(l.a,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),x=n.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiDialogTitle"}),l=a.className,s=a.id,p=Object(r.a)(a,h),b=a,x=function(e){var t=e.classes;return Object(c.a)({root:["root"]},u,t)}(b),f=n.useContext(j.a).titleId,v=void 0===f?s:f;return Object(m.jsx)(O,Object(o.a)({component:"h2",className:Object(i.a)(x.root,l),ownerState:b,ref:t,variant:"h6",id:v},p))}));t.a=x},408:function(e,t,a){"use strict";var o=a(4),r=a(3),n=a(2),i=(a(11),a(7)),c=a(93),l=a(8),s=a(12),d=a(70),p=a(94);function b(e){return Object(d.a)("MuiDialogContent",e)}Object(p.a)("MuiDialogContent",["root","dividers"]);var u=a(0),j=["className","dividers"],m=Object(l.a)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dividers&&t.dividers]}})((function(e){var t=e.theme,a=e.ownerState;return Object(r.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}:{".MuiDialogTitle-root + &":{paddingTop:0}})})),h=n.forwardRef((function(e,t){var a=Object(s.a)({props:e,name:"MuiDialogContent"}),n=a.className,l=a.dividers,d=void 0!==l&&l,p=Object(o.a)(a,j),h=Object(r.a)({},a,{dividers:d}),O=function(e){var t=e.classes,a={root:["root",e.dividers&&"dividers"]};return Object(c.a)(a,b,t)}(h);return Object(u.jsx)(m,Object(r.a)({className:Object(i.a)(O.root,n),ownerState:h,ref:t},p))}));t.a=h},522:function(e,t,a){"use strict";var o=a(1),r=a(2),n=a.n(r),i=a(436),c=a(575),l=a(809),s=a(376),d=a(300),p=a(310),b=a(121),u=a(120),j=(a(577),a(578),a(0));a(579);t.a=Object(p.a)((function(e){return Object(d.a)(Object(o.a)({},u.i))}))((function(e){var t=e.value,a=e.label,o=void 0===a?"":a,r=e.tooltip,d=void 0===r?"":r,p=e.mode,u=void 0===p?"yaml":p,m=e.classes,h=e.onChange,O=void 0===h?function(){}:h,x=e.onBeforeChange,f=e.readOnly,v=void 0!==f&&f;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsxs)(l.a,{className:m.inputLabel,children:[Object(j.jsx)("span",{children:o}),""!==d&&Object(j.jsx)("div",{className:m.tooltipContainer,children:Object(j.jsx)(s.a,{title:d,placement:"top-start",children:Object(j.jsx)("div",{className:m.tooltip,children:Object(j.jsx)(b.a,{})})})})]}),Object(j.jsx)(i.a,{item:!0,xs:12,children:Object(j.jsx)("br",{})}),Object(j.jsx)(i.a,{item:!0,xs:12,children:Object(j.jsx)(c.Controlled,{value:t,options:{mode:u,lineNumbers:!0,readOnly:v},onBeforeChange:x,onChange:O})})]})}))},884:function(e,t,a){"use strict";a.r(t);var o=a(15),r=a(1),n=a(2),i=a(39),c=a(436),l=a(380),s=a(366),d=a(300),p=a(310),b=a(52),u=a(31),j=a(120),m=a(389),h=a(390),O=a(522),x=a(0),f={setModalErrorSnackMessage:u.h},v=Object(i.b)(null,f);t.default=Object(p.a)((function(e){return Object(d.a)(Object(r.a)(Object(r.a)(Object(r.a)({buttonContainer:{textAlign:"right"},codeMirrorContainer:{marginBottom:20,marginTop:20,"&:nth-child(2) .MuiGrid-root:nth-child(3)":{border:"1px solid #EAEAEA"},"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},j.z),j.p),j.i))}))(v((function(e){var t=e.classes,a=e.open,r=e.closeModalAndRefresh,i=e.policyEdit,d=e.setModalErrorSnackMessage,p=Object(n.useState)(!1),u=Object(o.a)(p,2),j=u[0],f=u[1],v=Object(n.useState)(""),g=Object(o.a)(v,2),C=g[0],y=g[1],S=Object(n.useState)(""),k=Object(o.a)(S,2),w=k[0],N=k[1];Object(n.useEffect)((function(){i&&(y(i.name),N(i?JSON.stringify(JSON.parse(i.policy),null,4):""))}),[i]);var M=""!==C.trim();return Object(x.jsx)(m.a,{modalOpen:a,onClose:function(){r(!1)},title:"".concat(i?"Info":"Create"," Policy"),children:Object(x.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j||(f(!0),b.a.invoke("POST","/api/v1/policies",{name:C,policy:w}).then((function(e){f(!1),r(!0)})).catch((function(e){f(!1),d(e)})))},children:Object(x.jsxs)(c.a,{container:!0,children:[Object(x.jsxs)(c.a,{item:!0,xs:12,className:t.formScrollable,children:[Object(x.jsx)(c.a,{item:!0,xs:12,className:t.formFieldRow,children:Object(x.jsx)(h.a,{id:"policy-name",name:"policy-name",label:"Policy Name",placeholder:"Enter Policy Name",onChange:function(e){y(e.target.value)},value:C,disabled:!!i})}),Object(x.jsx)(c.a,{item:!0,xs:12,className:t.codeMirrorContainer,children:Object(x.jsx)(O.a,{label:"".concat(i?"Edit":"Write"," Policy"),value:w,onBeforeChange:function(e,t,a){N(a)}})})]}),Object(x.jsxs)(c.a,{item:!0,xs:12,className:t.buttonContainer,children:[!i&&Object(x.jsx)(l.a,{type:"button",variant:"outlined",color:"primary",className:t.spacerRight,onClick:function(){y(""),N("")},children:"Clear"}),Object(x.jsx)(l.a,{type:"submit",variant:"contained",color:"primary",disabled:j||!M,children:"Save"})]}),j&&Object(x.jsx)(c.a,{item:!0,xs:12,children:Object(x.jsx)(s.a,{})})]})})})})))}}]);
//# sourceMappingURL=52.cd881eb0.chunk.js.map