"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8771],{64163:function(e,n,t){var i=t(1413),s=t(72791),c=t(61889),l=t(11135),a=t(25787),o=t(23814),r=t(80184);n.Z=(0,a.Z)((function(e){return(0,l.Z)((0,i.Z)({},o.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,l=e.content,a=e.multiLine,o=void 0!==a&&a,u=e.actionButton;return(0,r.jsx)(s.Fragment,{children:(0,r.jsxs)(c.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,r.jsx)(c.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,r.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(n.predefinedList," ").concat(u?n.includesActionButton:""),children:[(0,r.jsx)(c.ZP,{item:!0,xs:12,className:o?n.innerContentMultiline:n.innerContent,children:l}),u&&(0,r.jsx)("div",{className:n.overlayShareOption,children:u})]})]})})}))},39134:function(e,n,t){t.r(n);var i=t(29439),s=t(1413),c=t(72791),l=t(60364),a=t(26181),o=t.n(a),r=t(11135),u=t(25787),d=t(36151),Z=t(40986),x=t(61889),p=t(23814),h=t(42649),m=t(56028),f=t(81207),j=t(58400),v=t(64163),y=t(80184),b={setModalErrorSnackMessage:h.zb},P=(0,l.$j)(null,b);n.default=(0,u.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},p.oO),p.bK),{},{tableBlock:(0,s.Z)((0,s.Z)({},p.VX.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(P((function(e){var n=e.classes,t=e.closeModalAndRefresh,s=e.selectedUser,l=e.selectedGroup,a=e.setModalErrorSnackMessage,r=e.open,u=(0,c.useState)(!1),p=(0,i.Z)(u,2),h=p[0],b=p[1],P=(0,c.useState)([]),k=(0,i.Z)(P,2),C=k[0],g=k[1],S=(0,c.useState)([]),N=(0,i.Z)(S,2),M=N[0],T=N[1];(0,c.useEffect)((function(){if(r){if(null!==l)return void(l&&f.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(l))).then((function(e){var n=o()(e,"policy","");g(n.split(",")),T(n.split(","))})).catch((function(e){a(e),b(!1)})));var e=o()(s,"policy",[]);g(e),T(e)}}),[r,l,s]);var B=o()(s,"accessKey","");return(0,y.jsxs)(m.Z,{onClose:function(){t()},modalOpen:r,title:"Set Policies",children:[(0,y.jsxs)(x.ZP,{container:!0,children:[(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(v.Z,{label:"Selected ".concat(null!==l?"Group":"User"),content:null!==l?l:B})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(v.Z,{label:"Current Policy",content:C.join(", ")})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)("div",{className:n.tableBlock,children:(0,y.jsx)(j.Z,{selectedPolicy:M,setSelectedPolicy:T})})})]}),(0,y.jsxs)(x.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,y.jsx)(d.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){T(C)},children:"Reset"}),(0,y.jsx)(d.Z,{type:"button",variant:"contained",color:"primary",disabled:h,onClick:function(){var e="user",n=null;null!==l?(e="group",n=l):null!==s&&(n=s.accessKey),b(!0),f.Z.invoke("PUT","/api/v1/set-policy",{name:M,entityName:n,entityType:e}).then((function(){b(!1),t()})).catch((function(e){b(!1),a(e)}))},children:"Save"})]}),h&&(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(Z.Z,{})})]})})))}}]);
//# sourceMappingURL=8771.76ecd3ef.chunk.js.map