"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7494],{47494:function(e,t,n){n.r(t);var c=n(29439),s=n(72791),i=n(29945),o=n(78687),u=n(57689),r=n(31776),a=n(82342),l=n(56087),d=n(38442),f=n(87995),_=n(9859),h=n(44690),p=n(75578),S=n(27454),m=n(80184),C=(0,p.Z)(s.lazy((function(){return n.e(4619).then(n.bind(n,94619))}))),x=(0,p.Z)(s.lazy((function(){return n.e(8990).then(n.bind(n,8990))}))),T=(0,p.Z)(s.lazy((function(){return n.e(8455).then(n.bind(n,58455))})));t.default=function(){var e=(0,h.TL)(),t=(0,u.UO)(),n=(0,o.v9)(_.HQ),p=(0,s.useState)(!0),F=(0,c.Z)(p,2),b=F[0],E=F[1],k=(0,s.useState)([]),A=(0,c.Z)(k,2),O=A[0],j=A[1],P=(0,s.useState)(!1),y=(0,c.Z)(P,2),Z=y[0],I=y[1],B=(0,s.useState)(!1),U=(0,c.Z)(B,2),L=U[0],g=U[1],K=(0,s.useState)(""),N=(0,c.Z)(K,2),w=N[0],Y=N[1],v=(0,s.useState)(!1),G=(0,c.Z)(v,2),R=G[0],z=G[1],D=(0,s.useState)(""),Q=(0,c.Z)(D,2),H=Q[0],W=Q[1],q=(0,s.useState)(""),J=(0,c.Z)(q,2),M=J[0],V=J[1],X=t.bucketName||"",$=(0,d.F)(X,[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS]),ee=(0,d.F)(X,[l.Ft.S3_DELETE_BUCKET_POLICY]),te=(0,d.F)(X,[l.Ft.S3_PUT_BUCKET_POLICY,l.Ft.S3_PUT_ACTIONS]);(0,s.useEffect)((function(){n&&E(!0)}),[n,E]);var ne=[{type:"delete",disableButtonFunction:function(){return!ee},onClick:function(e){g(!0),Y(e.prefix)}},{type:"view",disableButtonFunction:function(){return!te},onClick:function(e){W(e.prefix),V(e.access),z(!0)}}];(0,s.useEffect)((function(){e((0,f.Sc)("bucket_detail_prefix"))}),[]),(0,s.useEffect)((function(){b&&($?r.h.bucket.listAccessRulesWithBucket(X).then((function(e){j(e.data.accessRules),E(!1)})).catch((function(t){e((0,f.Ih)((0,a.g)(t))),E(!1)})):E(!1))}),[b,e,$,X]);return(0,m.jsxs)(s.Fragment,{children:[Z&&(0,m.jsx)(C,{modalOpen:Z,onClose:function(){I(!1),E(!0)},bucket:X}),L&&(0,m.jsx)(x,{modalOpen:L,onClose:function(){g(!1),E(!0)},bucket:X,toDelete:w}),R&&(0,m.jsx)(T,{modalOpen:R,onClose:function(){z(!1),E(!0)},bucket:X,toEdit:H,initial:M}),(0,m.jsx)(i.NZf,{separator:!0,sx:{marginBottom:15},actions:(0,m.jsx)(d.s,{scopes:[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_PUT_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS],resource:X,matchAll:!0,errorProps:{disabled:!0},children:(0,m.jsx)(S.Z,{tooltip:"Add Access Rule",children:(0,m.jsx)(i.zxk,{id:"add-bucket-access-rule",onClick:function(){I(!0)},label:"Add Access Rule",icon:(0,m.jsx)(i.dtP,{}),variant:"callAction"})})}),children:(0,m.jsx)(i.SYi,{content:(0,m.jsxs)(s.Fragment,{children:["Setting an"," ",(0,m.jsx)("a",{href:"https://min.io/docs/minio/linux/reference/minio-mc/mc-anonymous-set.html",target:"blank",children:"Anonymous"})," ","policy allows clients to access the Bucket or prefix contents and perform actions consistent with the specified policy without authentication."]}),placement:"right",children:"Anonymous Access"})}),(0,m.jsx)(d.s,{scopes:[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS],resource:X,errorProps:{disabled:!0},children:(0,m.jsx)(i.wQF,{itemActions:ne,columns:[{label:"Prefix",elementKey:"prefix",renderFunction:function(e){return e||"/"}},{label:"Access",elementKey:"access"}],isLoading:b,records:O||[],entityName:"Access Rules",idField:"prefix"})})]})}}}]);
//# sourceMappingURL=7494.8d3127b2.chunk.js.map