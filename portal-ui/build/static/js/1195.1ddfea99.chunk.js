"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1195,3956],{23956:function(e,n,t){t.r(n);var s=t(29439),i=(t(72791),t(11135)),r=t(25787),a=t(51691),c=t(9505),o=t(23508),l=t(75952),u=t(45248),d=t(87995),x=t(81551),h=t(80184);n.default=(0,r.Z)((function(e){return(0,i.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}})}))((function(e){var n=e.classes,t=e.closeDeleteModalAndRefresh,i=e.deleteOpen,r=e.selectedServiceAccount,f=(0,x.TL)(),m=(0,c.Z)((function(){return t(!0)}),(function(e){return f((0,d.Ih)(e))})),p=(0,s.Z)(m,2),j=p[0],g=p[1];if(!r)return null;return(0,h.jsx)(o.Z,{title:"Delete Access Key",confirmText:"Delete",isOpen:i,titleIcon:(0,h.jsx)(l.NvT,{}),isLoading:j,onConfirm:function(){g("DELETE","/api/v1/service-accounts/".concat((0,u.LL)(r)))},onClose:function(){return t(!1)},confirmationContent:(0,h.jsxs)(a.Z,{children:["Are you sure you want to delete Access Key"," ",(0,h.jsx)("b",{className:n.wrapText,children:r}),"?"]})})}))},14917:function(e,n,t){t(72791);var s=t(61889),i=t(72455),r=t(80184),a=(0,i.Z)((function(e){return{headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44},"@media (max-width: 600px)":{display:"none"}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},stContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:8,borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column",width:"100%"}},rightItems:{display:"flex",alignItems:"center","& button":{marginLeft:8},"@media (max-width: 600px)":{width:"100%"}}}}));n.Z=function(e){var n=e.icon,t=e.title,i=e.subTitle,c=e.actions,o=e.className,l=a();return(0,r.jsx)(s.ZP,{container:!0,children:(0,r.jsxs)(s.ZP,{item:!0,xs:12,className:"".concat(l.stContainer," ").concat(o||""),children:[(0,r.jsxs)("div",{className:l.leftItems,children:[n?(0,r.jsx)("div",{className:l.headerBarIcon,children:n}):null,(0,r.jsxs)("div",{className:l.titleColumn,children:[(0,r.jsx)("h1",{style:{margin:0},children:t}),(0,r.jsx)("span",{className:l.headerBarSubheader,children:i})]})]}),(0,r.jsx)("div",{className:l.rightItems,children:c})]})})}},50276:function(e,n,t){var s=t(1413),i=t(29439),r=t(72791),a=t(64554),c=t(43896),o=t(83449),l=t(47283),u=t(82851),d=t(25787),x=t(13967),h=t(11135),f=t(95193),m=t(57689),p=t(80184),j={minHeight:60};n.Z=(0,d.Z)((function(e){return(0,h.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,d=e.selectedTab,h=void 0===d?"0":d,g=e.routes,Z=e.isRouteTabs,v=(0,x.Z)(),b=(0,m.TH)().pathname,y=void 0===b?"":b,S=(0,f.Z)(v.breakpoints.down("md")),A=(0,r.useState)(h),C=(0,i.Z)(A,2),P=C[0],E=C[1],w=[],N=[];if((0,r.useEffect)((function(){if(Z){var e=n.find((function(e){return e.tabConfig.to===y}));e&&E(e.tabConfig.value)}}),[Z,n,y]),!n)return null;n.forEach((function(e){w.push(e.tabConfig),N.push(e.content)}));return(0,p.jsx)(o.ZP,{value:"".concat(P),children:(0,p.jsxs)(a.Z,{className:t.tabsContainer,children:[(0,p.jsx)(a.Z,{className:t.tabsHeaderContainer,children:(0,p.jsx)(l.Z,{onChange:function(e,n){E(n)},orientation:S?"horizontal":"vertical",variant:S?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:w.map((function(e,n){return e?(0,p.jsx)(c.Z,(0,s.Z)((0,s.Z)({className:t.tabHeader,value:"".concat(n),style:j},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,p.jsxs)(a.Z,{className:t.tabContentContainer,children:[Z?null:N.map((function(e,n){return(0,p.jsx)(u.Z,{classes:(0,s.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),Z?(0,p.jsx)("div",{className:t.tabPanel,children:g}):null]})]})})}))},16502:function(e,n,t){t(72791);var s=t(11135),i=t(25787),r=t(80184);n.Z=(0,i.Z)((function(e){return(0,s.Z)({headerContainer:{backgroundColor:"#e78794",borderRadius:3,marginBottom:20,padding:1,paddingBottom:15},labelHeadline:{color:"#000000",fontSize:14,marginLeft:20},labelText:{color:"#000000",fontSize:14,marginLeft:20,marginRight:40}})}))((function(e){var n=e.classes,t=e.label,s=e.title;return(0,r.jsxs)("div",{className:n.headerContainer,children:[(0,r.jsx)("h4",{className:n.labelHeadline,children:s}),(0,r.jsx)("div",{className:n.labelText,children:t})]})}))},58400:function(e,n,t){var s=t(93433),i=t(29439),r=t(1413),a=t(72791),c=t(11135),o=t(25787),l=t(40986),u=t(61889),d=t(21639),x=t(23814),h=t(92983),f=t(59114),m=t(87995),p=t(81551),j=t(74616),g=t(78687),Z=t(25043),v=t(80184);n.Z=(0,o.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,r.Z)({},x.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},x.qg),x.VX),x.OR),x.jY))}))((function(e){var n=e.classes,t=e.noTitle,r=void 0!==t&&t,c=(0,p.TL)(),o=(0,a.useState)([]),x=(0,i.Z)(o,2),b=x[0],y=x[1],S=(0,a.useState)(!1),A=(0,i.Z)(S,2),C=A[0],P=A[1],E=(0,a.useState)(""),w=(0,i.Z)(E,2),N=w[0],I=w[1],T=(0,g.v9)((function(e){return e.createUser.selectedPolicies})),k=(0,a.useCallback)((function(){P(!0),Z.h.policies.listPolicies().then((function(e){var n,t=null!==(n=e.data.policies)&&void 0!==n?n:[];P(!1),y(t.sort(d.g4))})).catch((function(e){P(!1),c((0,m.zb)(e))}))}),[c]);(0,a.useEffect)((function(){P(!0)}),[]),(0,a.useEffect)((function(){C&&k()}),[C,k]);var R=b.filter((function(e){return e.name.includes(N)}));return(0,v.jsx)(u.ZP,{container:!0,children:(0,v.jsxs)(u.ZP,{item:!0,xs:12,children:[C&&(0,v.jsx)(l.Z,{}),b.length>0?(0,v.jsxs)(a.Fragment,{children:[(0,v.jsxs)(u.ZP,{item:!0,xs:12,className:n.filterBox,children:[!r&&(0,v.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,v.jsx)("div",{className:n.searchBox,children:(0,v.jsx)(f.Z,{placeholder:"Start typing to search for a Policy",onChange:function(e){I(e)},value:N})})]}),(0,v.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,style:{paddingBottom:16},children:(0,v.jsx)(h.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,i=n.checked,r=(0,s.Z)(T);i?r.push(t):r=r.filter((function(e){return e!==t})),r=r.filter((function(e){return""!==e})),c((0,j.ue)(r))},selectedItems:T,isLoading:C,records:R,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,v.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})}))},49076:function(e,n,t){t.r(n);var s=t(37762),i=t(29439),r=t(72791),a=t(78687),c=t(51691),o=t(57689),l=t(87995),u=t(75952),d=t(45248),x=t(56087),h=t(9505),f=t(23508),m=t(16502),p=t(92983),j=t(81207),g=t(80184),Z={setErrorSnackMessage:l.Ih},v=(0,a.$j)(null,Z);n.default=v((function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,a=e.selectedUsers,l=e.setErrorSnackMessage,Z=(0,o.s0)(),v=function(){return n(!1)},b=(0,h.Z)((function(){return n(!0)}),(function(e){return l(e)})),y=(0,i.Z)(b,2),S=y[0],A=y[1],C=(0,r.useState)(!0),P=(0,i.Z)(C,2),E=P[0],w=P[1],N=(0,r.useState)(!1),I=(0,i.Z)(N,2),T=I[0],k=I[1],R=(0,r.useState)([]),F=(0,i.Z)(R,2),L=F[0],M=F[1],U=localStorage.getItem("userLoggedIn")||"";if((0,r.useEffect)((function(){a&&j.Z.invoke("POST","/api/v1/users/service-accounts",a).then((function(e){M(e.userServiceAccountList),e.hasSA&&k(!0),w(!1)})).catch((function(e){l(e),w(!1)}))}),[a,l]),!a)return null;var _=a.map((function(e){return(0,g.jsx)("div",{children:(0,g.jsx)("b",{children:e})},e)})),O=[{type:"view",onClick:function(e){Z("".concat(x.gA.USERS,"/").concat((0,d.LL)(e.userName))),v()}}],K="Are you sure you want to delete the following "+a.length+" user"+(a.length>1?"s?":"?");return E?(0,g.jsx)(u.aNw,{}):(0,g.jsx)(f.Z,{title:"Delete User".concat(a.length>1?"s":""),confirmText:"Delete",isOpen:t,titleIcon:(0,g.jsx)(u.NvT,{}),isLoading:S,onConfirm:function(){var e,t=(0,s.Z)(a);try{for(t.s();!(e=t.n()).done;){var i=e.value;i===U?(l({errorMessage:"Cannot delete currently logged in user",detailedError:"Cannot delete currently logged in user ".concat(U)}),n(!0)):(A("DELETE","/api/v1/user/".concat((0,d.LL)(i))),n(!0),Z("".concat(x.gA.USERS)))}}catch(r){t.e(r)}finally{t.f()}},onClose:v,confirmationContent:(0,g.jsx)(c.Z,{children:T?(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(m.Z,{label:"Click on a user to view the full listing of asociated Access Keys. All Access Keys associated with a user will be deleted along with the user. Are you sure you want to continue?",title:"Warning: One or more users selected has associated Access Keys. "}),(0,g.jsx)(p.Z,{itemActions:O,columns:[{label:"Username",elementKey:"userName"},{label:"# Associated Access Keys",elementKey:"numSAs"}],isLoading:E,records:L,entityName:"User Access Keys",idField:"userName",customPaperHeight:"250"})]}):(0,g.jsxs)(r.Fragment,{children:[K,_]})})})}))},83658:function(e,n,t){var s=t(93433),i=t(29439),r=t(1413),a=t(72791),c=t(11135),o=t(25787),l=t(40986),u=t(26181),d=t.n(u),x=t(61889),h=t(21639),f=t(23814),m=t(81207),p=t(92983),j=t(59114),g=t(87995),Z=t(81551),v=t(80184);n.Z=(0,o.Z)((function(e){return(0,c.Z)((0,r.Z)((0,r.Z)((0,r.Z)({noFound:{textAlign:"center",padding:"10px 0"},actionsTitle:{fontWeight:400,color:"#000",fontSize:14,alignSelf:"center",marginRight:48,"@media (max-width: 900px)":{marginRight:0}},searchBox:{flex:1,marginLeft:"2rem"}},f.VX),f.OR),f.jY))}))((function(e){var n=e.classes,t=e.selectedGroups,r=e.setSelectedGroups,c=(0,Z.TL)(),o=(0,a.useState)([]),u=(0,i.Z)(o,2),f=u[0],b=u[1],y=(0,a.useState)(!1),S=(0,i.Z)(y,2),A=S[0],C=S[1],P=(0,a.useState)(""),E=(0,i.Z)(P,2),w=E[0],N=E[1],I=(0,a.useCallback)((function(){m.Z.invoke("GET","/api/v1/groups").then((function(e){var n=d()(e,"groups",[]);n||(n=[]),b(n.sort(h.V2)),C(!1)})).catch((function(e){c((0,g.zb)(e)),C(!1)}))}),[c]);(0,a.useEffect)((function(){C(!0)}),[]),(0,a.useEffect)((function(){A&&I()}),[A,I]);var T=t||[],k=f.filter((function(e){return e.includes(w)}));return(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(x.ZP,{item:!0,xs:12,children:[A&&(0,v.jsx)(l.Z,{}),null!==f&&f.length>0?(0,v.jsxs)(a.Fragment,{children:[(0,v.jsxs)(x.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,v.jsx)("label",{className:n.actionsTitle,children:"Assign Groups"}),(0,v.jsx)("div",{className:n.searchBox,children:(0,v.jsx)(j.Z,{placeholder:"Start typing to search for Groups",adornmentPosition:"end",onChange:N,value:w})})]}),(0,v.jsx)(x.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,v.jsx)(p.Z,{columns:[{label:"Group",elementKey:""}],onSelect:function(e){var n=e.target,t=n.value,i=n.checked,a=(0,s.Z)(T);return i?a.push(t):a=a.filter((function(e){return e!==t})),r(a),a},selectedItems:T,isLoading:A,records:k,entityName:"Groups",idField:"",customPaperHeight:n.multiSelectTable})})]}):(0,v.jsx)("div",{className:n.noFound,children:"No Groups Available"})]})})}))},98202:function(e,n,t){t.r(n),t.d(n,{default:function(){return fe}});var s=t(72791),i=t(57689),r=t(50099),a=t(93433),c=t(29439),o=t(1413),l=t(75952),u=t(11135),d=t(25787),x=t(81207),h=t(61889),f=t(40986),m=t(21639),p=t(23814),j=t(92983),g=t(45248),Z=t(81806),v=t(59114),b=t(75578),y=t(56087),S=t(38442),A=t(87995),C=t(81551),P=t(27454),E=t(47974),w=t(80184),N=(0,b.Z)(s.lazy((function(){return Promise.resolve().then(t.bind(t,49076))}))),I=(0,b.Z)(s.lazy((function(){return t.e(9221).then(t.bind(t,49221))}))),T=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},p.OR),p.qg),{},{searchField:(0,o.Z)((0,o.Z)({},p.qg.searchField),{},{marginRight:"auto",maxWidth:380})},p.VX),p.Bz))}))((function(e){var n=e.classes,t=(0,C.TL)(),r=(0,i.s0)(),o=(0,s.useState)([]),u=(0,c.Z)(o,2),d=u[0],p=u[1],b=(0,s.useState)(!0),T=(0,c.Z)(b,2),k=T[0],R=T[1],F=(0,s.useState)(!1),L=(0,c.Z)(F,2),M=L[0],U=L[1],_=(0,s.useState)(!1),O=(0,c.Z)(_,2),K=O[0],D=O[1],B=(0,s.useState)(""),z=(0,c.Z)(B,2),G=z[0],V=z[1],Y=(0,s.useState)([]),W=(0,c.Z)(Y,2),H=W[0],X=W[1],Q=(0,S.F)(y.C3,y.Rs),q=(0,S.F)(y.C3,y.iw),J=(0,S.F)(y.C3,y.uH),$=(0,S.F)(y.C3,y.Yj);(0,s.useEffect)((function(){k&&(Q?x.Z.invoke("GET","/api/v1/users").then((function(e){var n=null===e.users?[]:e.users;R(!1),p(n.sort(m.LQ))})).catch((function(e){R(!1),t((0,A.Ih)(e))})):R(!1))}),[k,t,Q]);var ee=d.filter((function(e){return e.accessKey.includes(G)})),ne=function(e){r("".concat(y.gA.USERS,"/").concat((0,g.LL)(e.accessKey)))},te=[{type:"view",onClick:ne,disableButtonFunction:function(){return!q}},{type:"edit",onClick:ne,disableButtonFunction:function(){return!q}}];return(0,w.jsxs)(s.Fragment,{children:[M&&(0,w.jsx)(N,{deleteOpen:M,selectedUsers:H,closeDeleteModalAndRefresh:function(e){!function(e){U(!1),e&&R(!0),X([])}(e)}}),K&&(0,w.jsx)(I,{open:K,checkedUsers:H,closeModalAndRefresh:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];D(!1),e&&X([])}(e)}}),(0,w.jsx)(E.Z,{label:"Users"}),(0,w.jsx)(l.Xgh,{children:(0,w.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,w.jsxs)(h.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,w.jsx)(v.Z,{placeholder:"Search Users",onChange:V,overrideClass:n.searchField,value:G}),(0,w.jsx)(S.s,{resource:y.C3,scopes:[y.Ft.ADMIN_DELETE_USER],matchAll:!0,errorProps:{disabled:!0},children:(0,w.jsx)(P.Z,{tooltip:(0,S.F)("console",[y.Ft.ADMIN_DELETE_USER])?0===H.length?"Select Users to delete":"Delete Selected":(0,y.MK)([y.Ft.ADMIN_DELETE_USER],"delete users"),children:(0,w.jsx)(l.zxk,{id:"delete-selected-users",onClick:function(){U(!0)},label:"Delete Selected",icon:(0,w.jsx)(l.pJl,{}),disabled:0===H.length,variant:"secondary","aria-label":"delete-selected-users"})})}),(0,w.jsx)(S.s,{scopes:[y.Ft.ADMIN_ADD_USER_TO_GROUP],resource:y.C3,errorProps:{disabled:!0},children:(0,w.jsx)(P.Z,{tooltip:(0,S.F)("console",[y.Ft.ADMIN_ADD_USER_TO_GROUP])?0===H.length?"Select Users to group":"Add to Group":(0,y.MK)([y.Ft.ADMIN_ADD_USER_TO_GROUP],"add users to groups"),children:(0,w.jsx)(l.zxk,{id:"add-to-group",label:"Add to Group",icon:(0,w.jsx)(l.wws,{}),disabled:H.length<=0,onClick:function(){H.length>0&&D(!0)},variant:"regular"})})}),(0,w.jsx)(S.s,{scopes:[y.Ft.ADMIN_CREATE_USER,y.Ft.ADMIN_LIST_USER_POLICIES,y.Ft.ADMIN_LIST_GROUPS],resource:y.HQ,matchAll:!0,errorProps:{disabled:!0},children:(0,w.jsx)(P.Z,{tooltip:(0,S.F)("console",[y.Ft.ADMIN_CREATE_USER,y.Ft.ADMIN_LIST_USER_POLICIES,y.Ft.ADMIN_LIST_GROUPS,y.Ft.ADMIN_ATTACH_USER_OR_GROUP_POLICY],!0)?"Create User":(0,y.MK)([y.Ft.ADMIN_CREATE_USER,y.Ft.ADMIN_LIST_USER_POLICIES,y.Ft.ADMIN_LIST_GROUPS,y.Ft.ADMIN_ATTACH_USER_OR_GROUP_POLICY],"create users"),children:(0,w.jsx)(l.zxk,{id:"create-user",label:"Create User",icon:(0,w.jsx)(l.dtP,{}),onClick:function(){r("".concat(y.gA.USER_ADD))},variant:"callAction",disabled:!(0,S.F)("console",[y.Ft.ADMIN_CREATE_USER,y.Ft.ADMIN_LIST_USER_POLICIES,y.Ft.ADMIN_LIST_GROUPS,y.Ft.ADMIN_ATTACH_USER_OR_GROUP_POLICY],!0)})})})]}),k&&(0,w.jsx)(f.Z,{}),!k&&(0,w.jsxs)(s.Fragment,{children:[d.length>0&&(0,w.jsxs)(s.Fragment,{children:[(0,w.jsx)(h.ZP,{item:!0,xs:12,className:n.tableBlock,marginBottom:"15px",children:(0,w.jsx)(S.s,{scopes:[y.Ft.ADMIN_LIST_USERS],resource:y.C3,errorProps:{disabled:!0},children:(0,w.jsx)(j.Z,{itemActions:te,columns:[{label:"Access Key",elementKey:"accessKey"}],onSelect:J||$?function(e){var n=e.target,t=void 0===n?{}:n,s=t.value,i=void 0===s?"":s,r=t.checked,c=void 0!==r&&r,o=(0,a.Z)(H);return c?o.push(i):o=o.filter((function(e){return e!==i})),X(o),o}:void 0,selectedItems:H,isLoading:k,records:ee,entityName:"Users",idField:"accessKey"})})}),(0,w.jsx)(l.KfX,{title:"Users",iconComponent:(0,w.jsx)(l.oyc,{}),help:(0,w.jsxs)(s.Fragment,{children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,w.jsx)("br",{}),"Groups provide a simplified method for managing shared permissions among users with common access patterns and workloads.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"Users inherit access permissions to data and resources through the groups they belong to.",(0,w.jsx)("br",{}),"MinIO uses Policy-Based Access Control (PBAC) to define the authorized actions and resources to which an authenticated user has access. Each policy describes one or more actions and conditions that outline the permissions of a user or group of users.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"Each user can access only those resources and operations which are explicitly granted by the built-in role. MinIO denies access to any other resource or action by default.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"You can learn more at our"," ",(0,w.jsx)("a",{href:"https://min.io/docs/minio/kubernetes/upstream/administration/identity-access-management/minio-user-management.html?ref=con",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})]}),0===d.length&&(0,w.jsx)(h.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"start",children:(0,w.jsx)(h.ZP,{item:!0,xs:8,children:(0,w.jsx)(l.KfX,{title:"Users",iconComponent:(0,w.jsx)(l.oyc,{}),help:(0,w.jsxs)(s.Fragment,{children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,w.jsx)("br",{}),"Groups provide a simplified method for managing shared permissions among users with common access patterns and workloads.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"Users inherit access permissions to data and resources through the groups they belong to.",(0,w.jsx)("br",{}),"MinIO uses Policy-Based Access Control (PBAC) to define the authorized actions and resources to which an authenticated user has access. Each policy describes one or more actions and conditions that outline the permissions of a user or group of users.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"Each user can access only those resources and operations which are explicitly granted by the built-in role. MinIO denies access to any other resource or action by default.",(0,w.jsxs)(S.s,{scopes:[y.Ft.ADMIN_CREATE_USER,y.Ft.ADMIN_LIST_USER_POLICIES,y.Ft.ADMIN_LIST_GROUPS],matchAll:!0,resource:y.C3,children:[(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"To get started,"," ",(0,w.jsx)(Z.Z,{onClick:function(){r("".concat(y.gA.USER_ADD))},children:"Create a User"}),"."]})]})})})})]})]})})]})})),k=t(83658),R=t(56028),F=t(64554),L=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)({},p.bK),p.oO))}))((function(e){var n=e.classes,t=e.closeModalAndRefresh,i=e.selectedUser,r=e.open,a=(0,C.TL)(),o=(0,s.useState)(!1),u=(0,c.Z)(o,2),d=u[0],m=u[1],p=(0,s.useState)(""),j=(0,c.Z)(p,2),Z=j[0],v=j[1],b=(0,s.useState)(""),y=(0,c.Z)(b,2),S=y[0],P=y[1],E=(0,s.useState)(!1),N=(0,c.Z)(E,2),I=N[0],T=N[1],L=(0,s.useState)([]),M=(0,c.Z)(L,2),U=M[0],_=M[1],O=(0,s.useCallback)((function(){if(!i)return null;x.Z.invoke("GET","/api/v1/user/".concat((0,g.LL)(i))).then((function(e){m(!1),v(e.accessKey),_(e.memberOf||[]),T("enabled"===e.status)})).catch((function(e){m(!1),a((0,A.zb)(e))}))}),[i,a]);(0,s.useEffect)((function(){null===i?(v(""),P(""),_([])):O()}),[i,O]);var K=""!==Z.trim()&&(""!==S.trim()&&null===i||null!==i);return(0,w.jsx)(R.Z,{onClose:function(){t()},modalOpen:r,title:"Set Groups",titleIcon:(0,w.jsx)(l.ZmA,{}),children:(0,w.jsx)(s.Fragment,{children:(0,w.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),d||(m(!0),null!==i?x.Z.invoke("PUT","/api/v1/user/".concat((0,g.LL)(i)),{status:I?"enabled":"disabled",groups:U}).then((function(e){m(!1),t()})).catch((function(e){m(!1),a((0,A.zb)(e))})):x.Z.invoke("POST","/api/v1/users",{accessKey:Z,secretKey:S,groups:U}).then((function(e){m(!1),t()})).catch((function(e){m(!1),a((0,A.zb)(e))})))},children:(0,w.jsxs)(h.ZP,{container:!0,children:[(0,w.jsx)(h.ZP,{item:!0,xs:12,className:n.formScrollable,children:(0,w.jsx)(k.Z,{selectedGroups:U,setSelectedGroups:function(e){_(e)}})}),(0,w.jsxs)(F.Z,{sx:{display:"flex",gap:2,alignItems:"center",justifyContent:"flex-end",width:"100%"},children:[(0,w.jsx)(l.zxk,{id:"clear-change-user-groups",type:"button",variant:"regular",onClick:function(){null===i?(v(""),P(""),_([])):_([])},label:"Clear"}),(0,w.jsx)(l.zxk,{id:"save-user-groups",type:"submit",variant:"callAction",disabled:d||!K,label:"Save"})]}),d&&(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(f.Z,{})})]})})})})})),M=t(78687),U=t(58400),_=t(74616),O=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)({},p.oO),{},{buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:".9rem","& button":{marginLeft:8}}}))}))((function(e){var n=e.classes,t=e.closeModalAndRefresh,i=e.selectedUser,r=e.currentPolicies,a=e.open,o=(0,C.TL)(),u=(0,s.useState)(!1),d=(0,c.Z)(u,2),m=d[0],p=d[1],j=(0,s.useState)([]),g=(0,c.Z)(j,2),Z=g[0],v=g[1],b=(0,M.v9)((function(e){return e.createUser.selectedPolicies}));return(0,s.useEffect)((function(){if(a){var e=r.map((function(e){return e.policy}));v(e),o((0,_.ue)(e))}}),[a,i]),(0,w.jsxs)(R.Z,{onClose:function(){t()},modalOpen:a,title:"Set Policies",children:[(0,w.jsx)(h.ZP,{container:!0,children:(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(U.Z,{selectedPolicy:b})})}),(0,w.jsxs)(h.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,w.jsx)(l.zxk,{id:"reset-user-policies",type:"button",variant:"regular",color:"primary",className:n.clearButton,onClick:function(){o((0,_.ue)(Z))},label:"Reset"}),(0,w.jsx)(l.zxk,{id:"save-user-policy",type:"button",variant:"callAction",color:"primary",disabled:m,onClick:function(){var e=i;p(!0),x.Z.invoke("PUT","/api/v1/set-policy",{name:b,entityName:e,entityType:"user"}).then((function(){p(!1),o((0,_.ue)([])),t()})).catch((function(e){p(!1),o((0,A.zb)(e))}))},label:"Save"})]}),m&&(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(f.Z,{})})]})})),K=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)({},p.bl),p.ID))}))((function(e){e.classes,e.open,e.closeModalAndRefresh,e.user;return(0,w.jsx)(s.Fragment,{})})),D=t(23956),B=t(37798),z=t(60680),G=t(18303),V=t(58493),Y=t(14048),W=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},p.qg),p.OR),{},{actionsTray:(0,o.Z)({},p.OR.actionsTray)},p.VX))}))((function(e){var n=e.classes,t=e.user,r=e.hasPolicy,a=(0,C.TL)(),o=(0,i.s0)(),u=(0,s.useState)([]),d=(0,c.Z)(u,2),h=d[0],f=d[1],p=(0,s.useState)(!1),Z=(0,c.Z)(p,2),v=Z[0],b=Z[1],E=(0,s.useState)(!1),N=(0,c.Z)(E,2),I=N[0],T=N[1],k=(0,s.useState)(!1),R=(0,c.Z)(k,2),L=R[0],M=R[1],U=(0,s.useState)(null),_=(0,c.Z)(U,2),O=_[0],W=_[1],H=(0,s.useState)(!1),X=(0,c.Z)(H,2),Q=X[0],q=X[1],J=(0,s.useState)(null),$=(0,c.Z)(J,2),ee=$[0],ne=$[1],te=(0,s.useState)([]),se=(0,c.Z)(te,2),ie=se[0],re=se[1],ae=(0,s.useState)(!1),ce=(0,c.Z)(ae,2),oe=ce[0],le=ce[1],ue=(0,s.useState)(!1),de=(0,c.Z)(ue,2),xe=de[0],he=de[1];(0,s.useEffect)((function(){fe()}),[]),(0,s.useEffect)((function(){v&&x.Z.invoke("GET","/api/v1/user/".concat((0,g.LL)(t),"/service-accounts")).then((function(e){var n=e.sort(m.V2);b(!1),f(n)})).catch((function(e){a((0,A.Ih)(e)),b(!1)}))}),[v,b,f,t,a]);var fe=function(){b(!0)},me=[{type:"view",onClick:function(e){W(e),he(!0)}},{type:"delete",onClick:function(e){W(e),M(!0)}}];return(0,w.jsxs)(s.Fragment,{children:[I&&(0,w.jsx)(K,{open:I,closeModalAndRefresh:function(e){!function(e){if(T(!1),fe(),null!==e){var n={console:{accessKey:"".concat(e.accessKey),secretKey:"".concat(e.secretKey),url:"".concat(e.url)}};ne(n),q(!0)}}(e)},user:t}),L&&(0,w.jsx)(D.default,{deleteOpen:L,selectedServiceAccount:O,closeDeleteModalAndRefresh:function(e){!function(e){M(!1),e&&fe()}(e)}}),oe&&(0,w.jsx)(G.Z,{deleteOpen:oe,selectedSAs:ie,closeDeleteModalAndRefresh:function(e){le(!1),e&&(a((0,A.y1)("Access Keys deleted successfully.")),re([]),b(!0))}}),Q&&(0,w.jsx)(B.Z,{newServiceAccount:ee,open:Q,closeModal:function(){q(!1),ne(null)},entity:"Access Key"}),xe&&(0,w.jsx)(Y.Z,{open:xe,selectedAccessKey:O,closeModalAndRefresh:function(){he(!1),b(!0)}}),(0,w.jsxs)("div",{className:n.actionsTray,children:[(0,w.jsx)(z.Z,{children:"Access Keys"}),(0,w.jsxs)(F.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,w.jsx)(P.Z,{tooltip:"Delete Selected",children:(0,w.jsx)(l.zxk,{id:"delete-selected",onClick:function(){le(!0)},label:"Delete Selected",icon:(0,w.jsx)(l.pJl,{}),disabled:0===ie.length,variant:"secondary"})}),(0,w.jsx)(S.s,{scopes:[y.Ft.ADMIN_CREATE_SERVICEACCOUNT,y.Ft.ADMIN_UPDATE_SERVICEACCOUNT,y.Ft.ADMIN_REMOVE_SERVICEACCOUNT,y.Ft.ADMIN_LIST_SERVICEACCOUNTS],resource:y.C3,matchAll:!0,errorProps:{disabled:!0},children:(0,w.jsx)(P.Z,{tooltip:"Create Access Key",children:(0,w.jsx)(l.zxk,{id:"create-service-account",label:"Create Access Key",variant:"callAction",icon:(0,w.jsx)(l.dtP,{}),onClick:function(){o("/identity/users/new-user-sa/".concat((0,g.LL)(t)))},disabled:!r})})})]})]}),(0,w.jsx)("div",{className:n.tableBlock,children:(0,w.jsx)(j.Z,{isLoading:v,records:h,entityName:"Access Keys",idField:"",columns:[{label:"Access Key",elementKey:""}],itemActions:me,selectedItems:ie,onSelect:function(e){return(0,V._0)(e,re,ie)},onSelectAll:function(){ie.length!==h.length?re(h):re([])}})})]})})),H=t(21435),X=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({buttonContainer:{textAlign:"right"}},p.ID),p.DF),p.bK),p.Bz))}))((function(e){var n=e.classes,t=e.open,i=e.userName,r=e.closeModal,a=(0,C.TL)(),o=(0,s.useState)(""),u=(0,c.Z)(o,2),d=u[0],m=u[1],p=(0,s.useState)(""),j=(0,c.Z)(p,2),g=j[0],Z=j[1],v=(0,s.useState)(!1),b=(0,c.Z)(v,2),y=b[0],S=b[1];return t?(0,w.jsx)(R.Z,{title:"Change User Password",modalOpen:t,onClose:function(){m(""),Z(""),r()},titleIcon:(0,w.jsx)(l.IaT,{}),children:(0,w.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!y){if(S(!0),d.length<8)return a((0,A.zb)({errorMessage:"Passwords must be at least 8 characters long",detailedError:""})),void S(!1);var n={selectedUser:i,newSecretKey:d};x.Z.invoke("POST","/api/v1/account/change-user-password",n).then((function(e){S(!1),m(""),Z(""),r()})).catch((function(e){S(!1),m(""),Z(""),a((0,A.zb)(e))}))}}(e)},children:(0,w.jsxs)(h.ZP,{container:!0,children:[(0,w.jsxs)(h.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,w.jsxs)("div",{className:n.spacerBottom,children:["Change password for: ",i]}),(0,w.jsx)(h.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,w.jsx)(H.Z,{id:"new-password",name:"new-password",onChange:function(e){m(e.target.value)},label:"New Password",type:"password",value:d})}),(0,w.jsx)(h.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,w.jsx)(H.Z,{id:"re-new-password",name:"re-new-password",onChange:function(e){Z(e.target.value)},label:"Type New Password Again",type:"password",value:g})})]}),(0,w.jsx)(h.ZP,{item:!0,xs:12,className:n.buttonContainer,children:(0,w.jsx)(l.zxk,{id:"save-user-password",type:"submit",variant:"callAction",color:"primary",disabled:y||!(g.length>0&&d===g),label:"Save"})}),y&&(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(f.Z,{})})]})})}):null})),Q=t(49076),q=t(14917),J=t(50276),$=t(81159),ee=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({pageContainer:{border:"1px solid #EAEAEA"},statusLabel:{fontSize:".8rem",marginRight:".5rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".5rem"}},p.OR),p.qg),p.VX),p.Bz))}))((function(e){var n=e.classes,t=(0,C.TL)(),r=(0,i.UO)(),a=(0,i.s0)(),o=(0,s.useState)(!1),u=(0,c.Z)(o,2),d=u[0],f=u[1],p=(0,s.useState)(!1),Z=(0,c.Z)(p,2),v=Z[0],b=Z[1],N=(0,s.useState)(!1),I=(0,c.Z)(N,2),T=I[0],k=I[1],R=(0,s.useState)(!1),F=(0,c.Z)(R,2),M=F[0],U=F[1],_=(0,s.useState)(!1),K=(0,c.Z)(_,2),D=K[0],B=K[1],G=(0,s.useState)([]),V=(0,c.Z)(G,2),Y=V[0],H=V[1],ee=(0,s.useState)([]),ne=(0,c.Z)(ee,2),te=ne[0],se=ne[1],ie=(0,s.useState)([]),re=(0,c.Z)(ie,2),ae=re[0],ce=re[1],oe=(0,s.useState)(!1),le=(0,c.Z)(oe,2),ue=le[0],de=le[1],xe=(0,s.useState)(!1),he=(0,c.Z)(xe,2),fe=he[0],me=he[1],pe=(0,s.useState)(!1),je=(0,c.Z)(pe,2),ge=je[0],Ze=je[1],ve=(0,S.F)(y.C3,y.cI)&&!D,be=(0,S.F)(y.C3,y.kZ)&&D,ye=(0,g.IO)(r.userName||""),Se=localStorage.getItem("userLoggedIn")||"",Ae=(0,S.F)(y.C3,y.W2,!0),Ce=(0,S.F)(y.C3,y.ck,!0),Pe=(0,S.F)(y.C3,y.k_),Ee=(0,s.useCallback)((function(){if(""===ye)return null;f(!0),x.Z.invoke("GET","/api/v1/user/".concat((0,g.LL)(ye))).then((function(e){U(!1);var n=e.memberOf||[];H(n);var t=n.map((function(e){return{group:e}}));se(t);var s=e.policy.map((function(e){return{policy:e}}));s.sort(m.KE),ce(s),B("enabled"===e.status),Ze(e.hasPolicy),f(!1)})).catch((function(e){U(!1),f(!1),t((0,A.zb)(e))}))}),[ye,t]);(0,s.useEffect)((function(){Ee()}),[Ee]);var we=[{type:"view",onClick:function(e){a("".concat(y.gA.GROUPS,"/").concat((0,g.LL)(e.group)))},disableButtonFunction:function(){return!Pe}}];return(0,w.jsxs)(s.Fragment,{children:[(0,w.jsx)(E.Z,{label:(0,w.jsx)(s.Fragment,{children:(0,w.jsx)(l.hbI,{label:"Users",onClick:function(){return a(y.gA.USERS)}})}),actions:(0,w.jsx)(s.Fragment,{})}),v&&(0,w.jsx)(L,{open:v,selectedUser:ye,closeModalAndRefresh:function(){b(!1),Ee()}}),T&&(0,w.jsx)(O,{open:T,selectedUser:ye,currentPolicies:ae,closeModalAndRefresh:function(){k(!1),Ee()}}),fe&&(0,w.jsx)(Q.default,{deleteOpen:fe,selectedUsers:[ye],closeDeleteModalAndRefresh:function(e){!function(e){me(!1),e&&Ee()}(e)}}),ue&&(0,w.jsx)(X,{open:ue,userName:ye,closeModal:function(){return de(!1)}}),(0,w.jsx)(l.Xgh,{className:n.pageContainer,children:(0,w.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(q.Z,{icon:(0,w.jsx)(s.Fragment,{children:(0,w.jsx)(l.oyc,{width:40})}),title:ye,actions:(0,w.jsxs)(s.Fragment,{children:[(0,w.jsx)("span",{className:n.statusLabel,children:"User Status:"}),(0,w.jsx)("span",{className:n.statusValue,children:D?"Enabled":"Disabled"}),(0,w.jsx)(P.Z,{tooltip:ve||be?"":(0,S.F)(y.C3,y.cI)?(0,y.MK)(y.kZ,"disable users"):(0,S.F)(y.C3,y.kZ)?(0,y.MK)(y.cI,"enable users"):(0,y.MK)(y.xQ,"enable or disable users"),children:(0,w.jsx)($.Z,{indicatorLabels:["Enabled","Disabled"],checked:D,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;B(!D),e=!D,M||(U(!0),x.Z.invoke("PUT","/api/v1/user/".concat((0,g.LL)(ye)),{status:e?"enabled":"disabled",groups:Y}).then((function(e){U(!1)})).catch((function(e){U(!1),t((0,A.zb)(e))})))},switchOnly:!0,disabled:!ve&&!be})}),(0,w.jsx)(P.Z,{tooltip:(0,S.F)(y.C3,y.Yj)?Se===ye?"You cannot delete the currently logged in User":"Delete User":(0,y.MK)(y.Yj,"delete user"),children:(0,w.jsx)(l.zxk,{id:"delete-user",onClick:function(){me(!0)},icon:(0,w.jsx)(l.XHJ,{}),variant:"secondary",disabled:!(0,S.F)(y.C3,y.Yj)||Se===ye})}),(0,w.jsx)(P.Z,{tooltip:"Change Password",children:(0,w.jsx)(l.zxk,{id:"change-user-password",onClick:function(){de(!0)},icon:(0,w.jsx)(l.tvm,{}),variant:"regular"})})]})})}),(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsxs)(J.Z,{children:[{tabConfig:{label:"Groups",disabled:!Ce},content:(0,w.jsxs)(s.Fragment,{children:[(0,w.jsxs)("div",{className:n.actionsTray,children:[(0,w.jsx)(z.Z,{children:"Groups"}),(0,w.jsx)(P.Z,{tooltip:Ce?"Assign groups":(0,y.MK)(y.ck,"add users to groups"),children:(0,w.jsx)(l.zxk,{id:"add-groups",label:"Add to Groups",onClick:function(){b(!0)},icon:(0,w.jsx)(l.dtP,{}),variant:"callAction",disabled:!Ce})})]}),(0,w.jsx)(h.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,w.jsx)(j.Z,{itemActions:we,columns:[{label:"Name",elementKey:"group"}],isLoading:d,records:te,entityName:"Groups",idField:"group"})})]})},{tabConfig:{label:"Service Accounts",disabled:!(0,S.F)(y.C3,y.LE)},content:(0,w.jsx)(W,{user:ye,hasPolicy:ge})},{tabConfig:{label:"Policies",disabled:!Ae},content:(0,w.jsxs)(s.Fragment,{children:[(0,w.jsxs)("div",{className:n.actionsTray,children:[(0,w.jsx)(z.Z,{children:"Policies"}),(0,w.jsx)(P.Z,{tooltip:Ae?"Assign Policies":(0,y.MK)(y.W2,"assign policies"),children:(0,w.jsx)(l.zxk,{id:"assign-policies",label:"Assign Policies",onClick:function(){k(!0)},icon:(0,w.jsx)(l.v42,{}),variant:"callAction",disabled:!Ae})})]}),(0,w.jsx)("div",{className:n.tableBlock,children:(0,w.jsx)(j.Z,{itemActions:[{type:"view",onClick:function(e){a("".concat(y.gA.POLICIES,"/").concat((0,g.LL)(e.policy)))}}],columns:[{label:"Name",elementKey:"policy"}],isLoading:d,records:ae,entityName:"Policies",idField:"policy"})})]})}]})})]})})]})})),ne=function(e){var n=e.classes,t=(0,C.TL)(),i=(0,M.v9)((function(e){return e.createUser.userName}));return(0,w.jsx)(s.Fragment,{children:(0,w.jsx)(H.Z,{className:n.spacerBottom,classes:{inputLabel:n.sizedLabel},id:"accesskey-input",name:"accesskey-input",label:"User Name",value:i,autoFocus:!0,onChange:function(e){t((0,_.b4)(e.target.value))}})})},te=t(20165),se=t(3579),ie=function(e){var n=e.classes,t=(0,C.TL)(),s=(0,M.v9)((function(e){return e.createUser.showPassword})),i=(0,M.v9)((function(e){return e.createUser.secretKey}));return(0,w.jsx)(H.Z,{className:n.spacerBottom,classes:{inputLabel:n.sizedLabel},id:"standard-multiline-static",name:"standard-multiline-static",label:"Password",type:s?"text":"password",value:i,onChange:function(e){t((0,_.xz)(e.target.value))},autoComplete:"current-password",overlayIcon:s?(0,w.jsx)(te.Z,{}):(0,w.jsx)(se.Z,{}),overlayAction:function(){return t((0,_.R5)(!s))}})},re=t(58429),ae=function(e){var n=e.icon,t=e.description;return(0,w.jsxs)(F.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[n," ",(0,w.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:t})]})},ce=function(){return(0,w.jsxs)(F.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:[(0,w.jsxs)(F.Z,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,w.jsx)(l.M9A,{}),(0,w.jsx)("div",{children:"Learn more about the Users feature"})]}),(0,w.jsxs)(F.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"Each user can have one or more assigned policies that explicitly list the actions and resources to which that user has access. Users can also inherit policies from the groups in which they have membership.",(0,w.jsx)("br",{})]}),(0,w.jsxs)(F.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,w.jsx)(ae,{icon:(0,w.jsx)(l.oyc,{}),description:"Create Users"}),(0,w.jsx)(ae,{icon:(0,w.jsx)(l.wws,{}),description:"Manage Groups"}),(0,w.jsx)(ae,{icon:(0,w.jsx)(l.QXQ,{}),description:"Assign Policies"})]})]})},oe=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)({},p.DF),p.ID))}))((function(e){var n=e.classes,t=(0,C.TL)(),r=(0,M.v9)((function(e){return e.createUser.selectedPolicies})),a=(0,M.v9)((function(e){return e.createUser.selectedGroups})),c=(0,M.v9)((function(e){return e.createUser.addLoading})),o=(0,M.v9)((function(e){return e.createUser.sendEnabled})),u=(0,M.v9)((function(e){return e.createUser.secretKeylength})),d=(0,i.s0)();t((0,_.B$)());return(0,w.jsx)(s.Fragment,{children:(0,w.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,w.jsx)(E.Z,{label:(0,w.jsx)(l.hbI,{label:"Users",onClick:function(){return d(y.gA.USERS)}})}),(0,w.jsx)(l.Xgh,{children:(0,w.jsx)(l.ltY,{title:"Create User",icon:(0,w.jsx)(l.P3B,{}),helpBox:(0,w.jsx)(ce,{}),children:(0,w.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),u<8)return t((0,A.Ih)({errorMessage:"Passwords must be at least 8 characters long",detailedError:""})),void t((0,_.NV)(!1));c||(t((0,_.NV)(!0)),t((0,re.h)()).unwrap().then((function(){return d("".concat(y.gA.USERS))})))}(e)},children:(0,w.jsxs)(h.ZP,{container:!0,children:[(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)("div",{className:n.formFieldRow,children:(0,w.jsx)(ne,{classes:n})})}),(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)("div",{className:n.formFieldRow,children:(0,w.jsx)(ie,{classes:n})})}),(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(U.Z,{selectedPolicy:r})}),(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(k.Z,{selectedGroups:a,setSelectedGroups:function(e){t((0,_.wY)(e))}})}),c&&(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(f.Z,{})}),(0,w.jsxs)(h.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,w.jsx)(l.zxk,{id:"clear-add-user",type:"button",variant:"regular",onClick:function(e){t((0,re.S)())},label:"Clear"}),(0,w.jsx)(l.zxk,{id:"save-user",type:"submit",variant:"callAction",color:"primary",disabled:c||!o,label:"Save"})]})]})})})})]})})})),le=t(92217),ue=t(50896),de=function(e){var n=e.icon,t=e.description;return(0,w.jsxs)(F.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[n," ",(0,w.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:t})]})},xe=function(){return(0,w.jsxs)(F.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:[(0,w.jsxs)(F.Z,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px",paddingBottom:"20px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,w.jsx)(l.M9A,{}),(0,w.jsx)("div",{children:"Learn more about Access Keys"})]}),(0,w.jsxs)(F.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:[(0,w.jsxs)(F.Z,{sx:{paddingBottom:"20px"},children:[(0,w.jsx)(de,{icon:(0,w.jsx)(l.nO6,{}),description:"Create Access Keys"}),(0,w.jsx)(F.Z,{sx:{paddingTop:"20px"},children:"Access Keys inherit the policies explicitly attached to the parent user, and the policies attached to each group in which the parent user has membership."})]}),(0,w.jsxs)(F.Z,{sx:{paddingBottom:"20px"},children:[(0,w.jsx)(de,{icon:(0,w.jsx)(l.tvm,{}),description:"Assign Custom Credentials"}),(0,w.jsx)(F.Z,{sx:{paddingTop:"10px"},children:"Randomized access credentials are recommended, and provided by default. You may use your own custom Access Key and Secret Key by replacing the default values. After creation of any Access Key, you will be given the opportunity to view and download the account credentials."}),(0,w.jsx)(F.Z,{sx:{paddingTop:"10px"},children:"Access Keys support programmatic access by applications. You cannot use a Access Key to log into the MinIO Console."})]}),(0,w.jsxs)(F.Z,{sx:{paddingBottom:"20px"},children:[(0,w.jsx)(de,{icon:(0,w.jsx)(l.v42,{}),description:"Assign Access Policies"}),(0,w.jsx)(F.Z,{sx:{paddingTop:"10px"},children:"You can specify an optional JSON-formatted IAM policy to further restrict Access Key access to a subset of the actions and resources explicitly allowed for the parent user. Additional access beyond that of the parent user cannot be implemented through these policies."}),(0,w.jsx)(F.Z,{sx:{paddingTop:"10px"},children:"You cannot modify the optional Access Key IAM policy after saving."})]})]}),(0,w.jsx)(F.Z,{sx:{display:"flex",flexFlow:"column"}})]})},he=(0,d.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)({},p.DF),p.ID))}))((function(e){var n=e.classes,t=(0,C.TL)(),r=(0,i.UO)(),a=(0,i.s0)(),o=(0,s.useState)(!1),u=(0,c.Z)(o,2),d=u[0],f=u[1],m=(0,s.useState)((0,g.zO)(16)),p=(0,c.Z)(m,2),j=p[0],Z=p[1],v=(0,s.useState)((0,g.zO)(32)),b=(0,c.Z)(v,2),S=b[0],P=b[1],N=(0,s.useState)(!1),I=(0,c.Z)(N,2),T=I[0],k=I[1],R=(0,s.useState)(null),L=(0,c.Z)(R,2),M=L[0],U=L[1],_=(0,s.useState)(!1),O=(0,c.Z)(_,2),K=O[0],D=O[1],z=(0,s.useState)(""),G=(0,c.Z)(z,2),V=G[0],Y=G[1],W=(0,g.IO)(r.userName||"");(0,s.useEffect)((function(){d&&x.Z.invoke("POST","/api/v1/user/".concat((0,g.LL)(W),"/service-account-credentials"),{policy:V,accessKey:j,secretKey:S}).then((function(e){f(!1),U({accessKey:e.accessKey||"",secretKey:e.secretKey||"",url:e.url||""})})).catch((function(e){f(!1),t((0,A.Ih)(e))}))}),[d,f,t,V,W,j,S]),(0,s.useEffect)((function(){T&&x.Z.invoke("GET","/api/v1/user/".concat((0,g.LL)(W),"/policies")).then((function(e){Y(JSON.stringify(JSON.parse(e.policy),null,4))})).catch((function(e){(0,A.Ih)(e)}))}),[T,W]);return(0,w.jsxs)(s.Fragment,{children:[M&&(0,w.jsx)(B.Z,{newServiceAccount:M,open:!0,closeModal:function(){U(null),a("".concat(y.gA.USERS,"/").concat((0,g.LL)(W)))},entity:"Access Key"}),(0,w.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,w.jsx)(E.Z,{label:(0,w.jsx)(l.hbI,{onClick:function(){return a("".concat(y.gA.USERS,"/").concat((0,g.LL)(W)))},label:"User Details - "+W})}),(0,w.jsx)(l.Xgh,{children:(0,w.jsxs)(F.Z,{sx:{display:"grid",padding:"25px",gap:"25px",gridTemplateColumns:{md:"2fr 1.2fr",xs:"1fr"},border:"1px solid #eaeaea"},children:[(0,w.jsxs)(F.Z,{children:[(0,w.jsx)(ue.Z,{icon:(0,w.jsx)(l.tVY,{}),children:"Create Access Key for ".concat(W)}),(0,w.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),f(!0)}(e)},children:(0,w.jsxs)(h.ZP,{container:!0,item:!0,spacing:"20",sx:{marginTop:1},children:[(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)(h.ZP,{container:!0,item:!0,spacing:"20",children:(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsxs)(h.ZP,{container:!0,children:[(0,w.jsx)(h.ZP,{item:!0,xs:1,children:(0,w.jsx)(l.tvm,{})}),(0,w.jsx)(h.ZP,{item:!0,children:(0,w.jsxs)(h.ZP,{container:!0,item:!0,spacing:"20",children:[(0,w.jsxs)(h.ZP,{item:!0,xs:12,children:[" ",(0,w.jsx)("div",{className:n.stackedInputs,children:(0,w.jsx)(H.Z,{value:j,label:"Access Key",id:"accessKey",name:"accessKey",placeholder:"Enter Access Key",onChange:function(e){Z(e.target.value)}})})]}),(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsx)("div",{className:n.stackedInputs,children:(0,w.jsx)(H.Z,{value:S,label:"Secret Key",id:"secretKey",name:"secretKey",type:K?"text":"password",placeholder:"Enter Secret Key",onChange:function(e){P(e.target.value)},overlayIcon:K?(0,w.jsx)(te.Z,{}):(0,w.jsx)(se.Z,{}),overlayAction:function(){return D(!K)}})})})]})})]})})})}),(0,w.jsxs)(h.ZP,{container:!0,item:!0,spacing:"20",children:[(0,w.jsx)(h.ZP,{item:!0,xs:12,children:(0,w.jsxs)(h.ZP,{container:!0,children:[(0,w.jsx)(h.ZP,{item:!0,xs:1,children:(0,w.jsx)(l.v42,{})}),(0,w.jsx)(h.ZP,{item:!0,xs:11,children:(0,w.jsx)($.Z,{value:"serviceAccountPolicy",id:"serviceAccountPolicy",name:"serviceAccountPolicy",checked:T,onChange:function(e){k(e.target.checked)},label:"Restrict beyond user policy",tooltip:"You can specify an optional JSON-formatted IAM policy to further restrict Access Key access to a subset of the actions and resources explicitly allowed for the parent user. Additional access beyond that of the parent user cannot be implemented through these policies."})})]})}),T&&(0,w.jsx)(h.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:(0,w.jsx)(h.ZP,{item:!0,xs:12,className:n.formScrollable,children:(0,w.jsx)(le.Z,{label:"Policy",value:V,onBeforeChange:function(e,n,t){Y(t)}})})})]}),(0,w.jsxs)(h.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,w.jsx)(l.zxk,{id:"clear-add-sa",type:"button",variant:"regular",onClick:function(){U(null),Z(""),P(""),D(!1)},label:"Clear"}),(0,w.jsx)(l.zxk,{id:"create-sa",type:"submit",variant:"callAction",label:"Create"})]})]})})]}),(0,w.jsx)(xe,{})]})})]})]})})),fe=function(){return(0,w.jsxs)(i.Z5,{children:[(0,w.jsx)(i.AW,{path:"add-user",element:(0,w.jsx)(oe,{})}),(0,w.jsx)(i.AW,{path:":userName",element:(0,w.jsx)(ee,{})}),(0,w.jsx)(i.AW,{path:"new-user-sa/:userName",element:(0,w.jsx)(he,{})}),(0,w.jsx)(i.AW,{path:"/",element:(0,w.jsx)(T,{})}),(0,w.jsx)(i.AW,{element:(0,w.jsx)(r.Z,{})})]})}},83449:function(e,n,t){t.d(n,{ZP:function(){return c},_i:function(){return o},pQ:function(){return u},uU:function(){return l}});var s=t(29439),i=t(72791),r=t(80184),a=i.createContext(null);function c(e){var n=e.children,t=e.value,c=function(){var e=i.useState(null),n=(0,s.Z)(e,2),t=n[0],r=n[1];return i.useEffect((function(){r("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),o=i.useMemo((function(){return{idPrefix:c,value:t}}),[c,t]);return(0,r.jsx)(a.Provider,{value:o,children:n})}function o(){return i.useContext(a)}function l(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function u(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}},47283:function(e,n,t){var s=t(87462),i=t(63366),r=t(72791),a=t(18073),c=t(83449),o=t(80184),l=["children"],u=r.forwardRef((function(e,n){var t=e.children,u=(0,i.Z)(e,l),d=(0,c._i)();if(null===d)throw new TypeError("No TabContext provided");var x=r.Children.map(t,(function(e){return r.isValidElement(e)?r.cloneElement(e,{"aria-controls":(0,c.uU)(d,e.props.value),id:(0,c.pQ)(d,e.props.value)}):null}));return(0,o.jsx)(a.Z,(0,s.Z)({},u,{ref:n,value:d.value,children:x}))}));n.Z=u},82851:function(e,n,t){t.d(n,{Z:function(){return p}});var s=t(87462),i=t(63366),r=t(72791),a=t(28182),c=t(66934),o=t(31402),l=t(94419),u=t(21217);function d(e){return(0,u.Z)("MuiTabPanel",e)}(0,t(75878).Z)("MuiTabPanel",["root"]);var x=t(83449),h=t(80184),f=["children","className","value"],m=(0,c.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),p=r.forwardRef((function(e,n){var t=(0,o.Z)({props:e,name:"MuiTabPanel"}),r=t.children,c=t.className,u=t.value,p=(0,i.Z)(t,f),j=(0,s.Z)({},t),g=function(e){var n=e.classes;return(0,l.Z)({root:["root"]},d,n)}(j),Z=(0,x._i)();if(null===Z)throw new TypeError("No TabContext provided");var v=(0,x.uU)(Z,u),b=(0,x.pQ)(Z,u);return(0,h.jsx)(m,(0,s.Z)({"aria-labelledby":b,className:(0,a.Z)(g.root,c),hidden:u!==Z.value,id:v,ref:n,role:"tabpanel",ownerState:j},p,{children:u===Z.value&&r}))}))},95193:function(e,n,t){var s;t.d(n,{Z:function(){return x}});var i=t(29439),r=t(72791),a=t(69120),c=t(33073),o=t(40162);function l(e,n,t,s,a){var c=r.useState((function(){return a&&t?t(e).matches:s?s(e).matches:n})),l=(0,i.Z)(c,2),u=l[0],d=l[1];return(0,o.Z)((function(){var n=!0;if(t){var s=t(e),i=function(){n&&d(s.matches)};return i(),s.addListener(i),function(){n=!1,s.removeListener(i)}}}),[e,t]),u}var u=(s||(s=t.t(r,2))).useSyncExternalStore;function d(e,n,t,s,a){var c=r.useCallback((function(){return n}),[n]),o=r.useMemo((function(){if(a&&t)return function(){return t(e).matches};if(null!==s){var n=s(e).matches;return function(){return n}}return c}),[c,e,s,a,t]),l=r.useMemo((function(){if(null===t)return[c,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[c,t,e]),d=(0,i.Z)(l,2),x=d[0],h=d[1];return u(h,x,o)}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,a.Z)(),s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,i=(0,c.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),r=i.defaultMatches,o=void 0!==r&&r,x=i.matchMedia,h=void 0===x?s?window.matchMedia:null:x,f=i.ssrMatchMedia,m=void 0===f?null:f,p=i.noSsr,j=void 0!==p&&p;var g="function"===typeof e?e(t):e;return g=g.replace(/^@media( ?)/m,""),(void 0!==u?d:l)(g,o,h,m,j)}}}]);
//# sourceMappingURL=1195.1ddfea99.chunk.js.map