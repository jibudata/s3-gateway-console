"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[671],{70671:function(e,n,t){t.r(n),t.d(n,{default:function(){return Wn}});var i=t(18489),a=t(50390),o=t(34424),s=t(86509),r=t(4285),l=t(6369),c=t(94187),d=t(95467),u=t(25594),m=t(38342),f=t.n(m),h=t(72462),p=t(5265),x=t(23430),b=t(87248),g=t.n(b),j=t(81378),v=t(18201),Z=t(56805),y=t(79440),k=t(3662),C=t(24442),w=t(30324),S=t(17777),N=t(44149),T=t(28948),_=t(49495),E=t(66946),P=t(58762),F=t(76352),I=t(92440),O=t(27207),L=t(14905),D=t(62559),B={setModalErrorSnackMessage:N.zb},R=(0,o.$j)(null,B),M=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.DF),h.ID),h.bK),{},{dateSelector:{"& div":{borderBottom:0,marginBottom:0,"& div:nth-child(2)":{border:"1px solid #EAEAEA",paddingLeft:5,"& div":{border:0}}}}}))}))(R((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,s=e.objectInfo,r=e.bucketName,l=e.setModalErrorSnackMessage,c=(0,a.useState)(!0),d=(0,x.Z)(c,2),m=d[0],f=d[1],h=(0,a.useState)(""),p=(0,x.Z)(h,2),b=p[0],g=p[1],j=(0,a.useState)(""),v=(0,x.Z)(j,2),Z=v[0],y=v[1],k=(0,a.useState)(!1),C=(0,x.Z)(k,2),S=C[0],N=C[1],_=(0,a.useState)(!1),B=(0,x.Z)(_,2),R=B[0],M=B[1],A=(0,a.useState)(!1),z=(0,x.Z)(A,2),U=z[0],W=z[1];(0,a.useEffect)((function(){if(s.retention_mode&&(g(s.retention_mode.toLowerCase()),W(!0)),s.retention_until_date){var e=new Date(s.retention_until_date);if("Invalid Date"!==e.toString()){var n=e.getFullYear(),t=(0,P.J8)(e.getMonth()+1),i=e.getDate();isNaN(i)||"NaN"===t||isNaN(n)||y("".concat(n,"-").concat(t,"-").concat(i))}W(!0)}}),[s]);var G=(0,a.useRef)(null),K=function(){f(!1),g(""),G.current&&G.current.resetDate()},H=U&&("governance"===b||""===b);return(0,D.jsxs)(F.Z,{title:"Set Retention Policy",modalOpen:t,onClose:function(){K(),i(!1)},children:[(0,D.jsxs)("div",{className:n.spacerBottom,children:[(0,D.jsx)("strong",{children:"Selected Object"}),": ",o]}),(0,D.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:[H&&(0,D.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,D.jsx)(I.Z,{value:"status",id:"status",name:"status",checked:m,onChange:function(e){f(!m)},label:"Status",indicatorLabels:["Enabled","Disabled"]})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,D.jsx)(O.Z,{currentSelection:b,id:"type",name:"type",label:"Type",disableOptions:!m||U&&""!==b,onChange:function(e){g(e.target.value)},selectorOptions:[{label:"Governance",value:"governance"},{label:"Compliance",value:"compliance"}]})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,className:"".concat(n.dateSelector," "),children:(0,D.jsx)(L.Z,{id:"date",label:"Date",disableOptions:!(m&&("governance"===b||"compliance"===b)),ref:G,value:Z,borderBottom:!0,onDateChange:function(e,n){N(n),n&&y(e)}})}),(0,D.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,D.jsx)(E.Z,{type:"button",variant:"outlined",color:"primary",onClick:K,children:"Reset"}),(0,D.jsx)(E.Z,{type:"submit",variant:"contained",color:"primary",disabled:m&&""===b||m&&!S||R,onClick:function(){M(!0);var e=s.name,n=s.version_id,t=m||"governance"!==b?"".concat(Z,"T23:59:59Z"):"";m||"governance"!==b?function(e,n,t){w.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/retention?prefix=").concat((0,T.ug)(e),"&version_id=").concat(n),{expires:t,mode:b}).then((function(e){M(!1),i(!0)})).catch((function(e){l(e),M(!1)}))}(e,n,t):function(e,n){w.Z.invoke("DELETE","/api/v1/buckets/".concat(r,"/objects/retention?prefix=").concat((0,T.ug)(e),"&version_id=").concat(n)).then((function(){M(!1),i(!0)})).catch((function(e){l(e),M(!1)}))}(e,n)},children:"Save"})]})]})]})}))),A=(0,o.$j)((function(e){var n=e.objectBrowser;return{rewindEnabled:f()(n,"rewind.rewindEnabled",!1),rewindDate:f()(n,"rewind.dateToRewind",null)}}),null),z=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({},h.cx))}))(A((function(e){var n=e.classes,t=e.bucketName,i=e.internalPaths,o=(e.rewindEnabled,e.rewindDate,i);""!==i&&(o="/".concat(i));var s=o.split("/").filter((function(e){return""!==e})),r=s.map((function(e,n){var i=s.slice(0,n+1).join("/"),o="/buckets/".concat(t,"/browse/").concat(i?"".concat((0,T.ug)(i)):"");return(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(l.rU,{to:o,children:e}),n<s.length-1&&(0,D.jsx)("span",{children:" / "})]},"breadcrumbs-".concat(n.toString()))}));return(0,D.jsxs)(a.Fragment,{children:[!1,(0,D.jsxs)(u.ZP,{item:!0,xs:12,className:n.breadcrumbs,children:[(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(l.rU,{to:"/buckets/".concat(t,"/browse"),children:t}),r.length>0&&(0,D.jsx)("span",{children:" / "})]}),r]})]})}))),U=t(23473),W=t(60656),G=t(21639),K=t(77138),H={setErrorSnackMessage:N.Ih},J=(0,o.$j)(null,H)((function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,o=e.selectedObject,s=e.setErrorSnackMessage,r=e.versioning,l=(0,G.Z)((function(){return n(!0)}),(function(e){return s(e)})),c=(0,x.Z)(l,2),d=c[0],u=c[1],m=(0,a.useState)(!1),f=(0,x.Z)(m,2),h=f[0],p=f[1];if(!o)return null;return(0,D.jsx)(W.Z,{title:"Delete Object",confirmText:"Delete",isOpen:t,titleIcon:(0,D.jsx)(K.Nv,{}),isLoading:d,onConfirm:function(){var e=(0,T.le)(o).endsWith("/");u("DELETE","/api/v1/buckets/".concat(i,"/objects?path=").concat(o,"&recursive=").concat(e,"&all_versions=").concat(h))},onClose:function(){return n(!1)},confirmationContent:(0,D.jsxs)(U.Z,{children:["Are you sure you want to delete:"," ",(0,D.jsx)("b",{children:(0,T.le)(o)}),"? ",(0,D.jsx)("br",{}),r&&(0,D.jsx)(I.Z,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:h,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){p(!h)},description:""})]})})})),V=t(66964),$={setModalErrorSnackMessage:N.zb},Y=(0,o.$j)((function(e){var n=e.system;return{distributedSetup:f()(n,"distributedSetup",!1)}}),$),q=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)({pathLabel:{marginTop:0,marginBottom:32}},h.DF),h.ID),h.bK))}))(Y((function(e){var n=e.modalOpen,t=e.currentTags,o=e.selectedObject,s=e.onCloseAndUpdate,r=e.bucketName,l=e.versionId,c=e.distributedSetup,d=e.setModalErrorSnackMessage,m=e.classes,f=(0,a.useState)(""),h=(0,x.Z)(f,2),p=h[0],b=h[1],g=(0,a.useState)(""),j=(0,x.Z)(g,2),v=j[0],Z=j[1],y=(0,a.useState)(!1),k=(0,x.Z)(y,2),C=k[0],S=k[1];return(0,D.jsx)(a.Fragment,{children:(0,D.jsx)(F.Z,{modalOpen:n,title:"Add New Tag to the Object",onClose:function(){s(!0)},titleIcon:(0,D.jsx)(K.OC,{}),children:(0,D.jsxs)(u.ZP,{container:!0,children:[(0,D.jsxs)("div",{className:m.spacerBottom,children:[(0,D.jsx)("strong",{children:"Selected Object"}),": ",(0,T.le)(o)]}),(0,D.jsx)(u.ZP,{item:!0,xs:12,className:m.formFieldRow,children:(0,D.jsx)(V.Z,{value:p,label:"Tag Key",id:"newTagKey",name:"newTagKey",placeholder:"Enter Tag Key",onChange:function(e){b(e.target.value)}})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,className:m.formFieldRow,children:(0,D.jsx)(V.Z,{value:v,label:"Tag Label",id:"newTagLabel",name:"newTagLabel",placeholder:"Enter Tag Label",onChange:function(e){Z(e.target.value)}})}),(0,D.jsxs)(u.ZP,{item:!0,xs:12,className:m.modalButtonBar,children:[(0,D.jsx)(E.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){Z(""),b("")},children:"Clear"}),(0,D.jsx)(E.Z,{type:"submit",variant:"contained",color:"primary",disabled:""===v.trim()||""===p.trim()||C,onClick:function(){S(!0);var e={};e[p]=v;var n=(0,i.Z)((0,i.Z)({},t),e),a=c?l:"null";w.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/tags?prefix=").concat(o,"&version_id=").concat(a),{tags:n}).then((function(e){s(!0),S(!1)})).catch((function(e){d(e),S(!1)}))},children:"Save"})]})]})})})}))),X={setErrorSnackMessage:N.Ih},Q=(0,o.$j)((function(e){var n=e.system;return{distributedSetup:f()(n,"distributedSetup",!1)}}),X),ee=(0,r.Z)((function(e){return(0,s.Z)({})}))(Q((function(e){var n=e.deleteOpen,t=e.currentTags,a=e.selectedObject,o=e.selectedTag,s=e.onCloseAndUpdate,r=e.bucketName,l=e.versionId,c=e.distributedSetup,d=e.setErrorSnackMessage,u=e.classes,m=(0,x.Z)(o,2),f=m[0],h=m[1],p=(0,G.Z)((function(){return s(!0)}),(function(e){return d(e)})),b=(0,x.Z)(p,2),g=b[0],j=b[1];if(!o)return null;return(0,D.jsx)(W.Z,{title:"Delete Tag",confirmText:"Delete",isOpen:n,titleIcon:(0,D.jsx)(K.Nv,{}),isLoading:g,onConfirm:function(){var e=(0,i.Z)({},t);delete e[f];var n=c?l:"null";j("PUT","/api/v1/buckets/".concat(r,"/objects/tags?prefix=").concat((0,T.ug)(a),"&version_id=").concat(n),{tags:e})},onClose:function(){return s(!1)},confirmationContent:(0,D.jsxs)(U.Z,{children:["Are you sure you want to delete the tag"," ",(0,D.jsxs)("b",{className:u.wrapText,children:[f," : ",h]})," ","from ",a,"?"]})})}))),ne={setModalErrorSnackMessage:N.zb},te=(0,o.$j)(null,ne),ie=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.DF),h.ID),h.bK))}))(te((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,s=e.bucketName,r=e.actualInfo,l=e.setModalErrorSnackMessage,c=(0,a.useState)(!1),d=(0,x.Z)(c,2),m=d[0],h=d[1],p=(0,a.useState)(!1),b=(0,x.Z)(p,2),g=b[0],j=b[1],v=r.version_id;(0,a.useEffect)((function(){var e=f()(r,"legal_hold_status","OFF");h("ON"===e)}),[r]);var Z=function(){h(!1)};return(0,D.jsxs)(F.Z,{title:"Set Legal Hold",modalOpen:t,onClose:function(){Z(),i(!1)},children:[(0,D.jsxs)(u.ZP,{item:!0,xs:12,className:n.spacerBottom,children:["Object: ",s]}),(0,D.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),j(!0),w.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/legalhold?prefix=").concat((0,T.ug)(o),"&version_id=").concat(v),{status:m?"enabled":"disabled"}).then((function(){j(!1),i(!0)})).catch((function(e){l(e),j(!1)}))}(e)},children:[(0,D.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,D.jsx)(I.Z,{value:"legalhold",id:"legalhold",name:"legalhold",checked:m,onChange:function(e){h(!m)},label:"Legal Hold Status",indicatorLabels:["Enabled","Disabled"],tooltip:"To enable this feature you need to enable versioning on the bucket before creation"})}),(0,D.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,D.jsx)(E.Z,{type:"button",color:"primary",variant:"outlined",onClick:Z,children:"Clear"}),(0,D.jsx)(E.Z,{type:"submit",variant:"contained",color:"primary",disabled:g,children:"Save"})]})]})]})}))),ae=t(62702),oe=t(10262),se=t(11733),re={setErrorSnackMessage:N.Ih},le=(0,o.$j)(null,re),ce=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({},h.oO))}))(le((function(e){var n=e.classes,t=e.versionID,i=e.bucketName,o=e.objectPath,s=e.restoreOpen,r=e.onCloseAndUpdate,l=(0,a.useState)(!1),c=(0,x.Z)(l,2),d=c[0],u=c[1];return(0,D.jsx)(W.Z,{title:"Restore File Version",confirmText:"Restore",isOpen:s,isLoading:d,titleIcon:(0,D.jsx)(se.default,{}),onConfirm:function(){u(!0),w.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/objects/restore?prefix=").concat((0,T.ug)(o),"&version_id=").concat(t)).then((function(e){u(!1),r(!0)})).catch((function(e){(0,N.Ih)(e),u(!1)}))},confirmButtonProps:{color:"secondary",variant:"outlined",disabled:d},onClose:function(){r(!1)},confirmationContent:(0,D.jsxs)(U.Z,{id:"alert-dialog-description",children:["Are you sure you want to restore ",(0,D.jsx)("br",{}),(0,D.jsx)("b",{children:o})," ",(0,D.jsx)("br",{})," with Version ID:",(0,D.jsx)("br",{}),(0,D.jsx)("b",{className:n.wrapText,children:t}),"?"]})})}))),de=t(25534),ue=t(57647),me=t(15607),fe=t(53224),he=t(23165),pe=t(63020),xe=t(21278),be=t(96152),ge=function(e){var n=e.tagKeys,t=e.bucketName,i=e.onDeleteTag,o=e.onAddTagClick,s=e.objectInfo;return(0,D.jsx)(a.Fragment,{children:(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_GET_OBJECT_TAGGING],resource:t,children:(0,D.jsxs)(Z.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,D.jsx)(Z.Z,{children:n&&n.map((function(e,n){var a=f()(s,"tags.".concat(e),"");return""!==a?(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_DELETE_OBJECT_TAGGING],resource:t,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:(0,D.jsx)(pe.Z,{style:{textTransform:"none",marginRight:"5px"},size:"small",label:"".concat(e," : ").concat(a),color:"primary",deleteIcon:(0,D.jsx)(xe.Z,{}),onDelete:function(){i(e,a)}})},"chip-".concat(n)):null}))}),(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_PUT_OBJECT_TAGGING],resource:t,errorProps:{disabled:!0,onClick:null},children:(0,D.jsx)(pe.Z,{style:{maxWidth:80,marginTop:"10px"},icon:(0,D.jsx)(be.Z,{}),clickable:!0,size:"small",label:"Add tag",color:"primary",variant:"outlined",onClick:o})})]})})})},je=t(70971),ve=t(1589),Ze=a.lazy((function(){return Promise.resolve().then(t.bind(t,11733))})),ye=a.lazy((function(){return Promise.resolve().then(t.bind(t,35994))})),ke=a.lazy((function(){return Promise.resolve().then(t.bind(t,51420))})),Ce=a.lazy((function(){return Promise.resolve().then(t.bind(t,35336))})),we=a.lazy((function(){return Promise.resolve().then(t.bind(t,93482))})),Se=a.lazy((function(){return Promise.resolve().then(t.bind(t,52910))})),Ne=a.lazy((function(){return Promise.resolve().then(t.bind(t,94113))})),Te=a.lazy((function(){return Promise.resolve().then(t.bind(t,86458))})),_e={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},Ee={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},Pe={setErrorSnackMessage:N.Ih,setSnackBarMessage:N.y1,setNewObject:p.Mc,updateProgress:p.RO,completeObject:p.oK},Fe=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.system;return{downloadingFiles:f()(n,"downloadingFiles",[]),rewindEnabled:f()(n,"rewind.rewindEnabled",!1),rewindDate:f()(n,"rewind.dateToRewind",null),bucketToRewind:f()(n,"rewind.bucketToRewind",""),distributedSetup:f()(t,"distributedSetup",!1)}}),Pe),Ie=(0,je.EN)(Fe((0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({propertiesIcon:{marginLeft:5,"& .min-icon":{height:12}},tag:{marginRight:6,fontSize:10,fontWeight:700,"&.MuiChip-sizeSmall":{height:18},"& .min-icon":{height:10,width:10}},search:{marginBottom:8,"&.MuiFormControl-root":{marginRight:0}},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleCol:{width:"25%"},titleItem:{width:"35%"},"@global":{".progressDetails":{paddingTop:3,display:"inline-block",position:"relative",width:18,height:18},".progressDetails > .MuiCircularProgress-root":{position:"absolute",left:0,top:3}},tabsContainer:{border:"1px solid #eaeaea",borderTop:0}},h.bp),h.Si),h.OR),h.VX),h.bK),h.VI),(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.downloadingFiles,o=e.distributedSetup,s=e.setErrorSnackMessage,r=e.setNewObject,l=e.updateProgress,c=e.completeObject,d=e.match,m=(0,a.useState)(!0),h=(0,x.Z)(m,2),p=h[0],b=h[1],N=(0,a.useState)(!1),E=(0,x.Z)(N,2),P=E[0],F=E[1],I=(0,a.useState)(!1),O=(0,x.Z)(I,2),L=O[0],B=O[1],R=(0,a.useState)(!1),A=(0,x.Z)(R,2),U=A[0],W=A[1],G=(0,a.useState)(!1),H=(0,x.Z)(G,2),V=H[0],$=H[1],Y=(0,a.useState)(["",""]),X=(0,x.Z)(Y,2),Q=X[0],ne=X[1],te=(0,a.useState)(!1),se=(0,x.Z)(te,2),re=se[0],le=se[1],pe=(0,a.useState)(null),xe=(0,x.Z)(pe,2),be=xe[0],je=xe[1],Pe=(0,a.useState)(null),Fe=(0,x.Z)(Pe,2),Ie=Fe[0],Oe=Fe[1],Le=(0,a.useState)([]),De=(0,x.Z)(Le,2),Be=De[0],Re=De[1],Me=(0,a.useState)(""),Ae=(0,x.Z)(Me,2),ze=Ae[0],Ue=Ae[1],We=(0,a.useState)(!1),Ge=(0,x.Z)(We,2),Ke=Ge[0],He=Ge[1],Je=(0,a.useState)(!1),Ve=(0,x.Z)(Je,2),$e=Ve[0],Ye=Ve[1],qe=(0,a.useState)(""),Xe=(0,x.Z)(qe,2),Qe=Xe[0],en=Xe[1],nn=f()(d.params,"subpaths",""),tn=(0,T.le)(nn)||"",an=d.params.bucketName,on=tn.split("/"),sn=on.pop()||"",rn=[];be&&(rn=be.name.split("/")),(0,a.useEffect)((function(){p&&""!==nn&&w.Z.invoke("GET","/api/v1/buckets/".concat(an,"/objects?prefix=").concat(nn).concat(o?"&with_versions=true":"")).then((function(e){var n=f()(e,"objects",[]);o?(je(n.find((function(e){return e.is_latest}))||_e),Re(n)):(je(n[0]),Re([])),b(!1)})).catch((function(e){s(e),b(!1)}))}),[p,an,nn,s,o]);var ln=[];be&&be.tags&&(ln=Object.keys(be.tags));var cn=function(){F(!0)},dn=function(e){var n=(0,T.ug)("".concat(an,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));r({bucketName:an,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0}),(0,k.LR)(an,nn,e.version_id,parseInt(e.size||"0"),(function(e){l(n,e)}),(function(){c(n)}))},un=[{label:"Share",type:"share",onClick:function(e){Oe(e),cn()},sendOnlyId:!1,disableButtonFunction:function(e){var n=Be.find((function(n){return n.version_id===e}));return!(!n||!n.is_delete_marker)}},{label:"Download",type:"download",onClick:function(e){dn(e)},disableButtonFunction:function(e){var n=Be.find((function(n){return n.version_id===e}));return!(!n||!n.is_delete_marker)}},{label:"Restore",type:(0,D.jsx)(Ze,{}),onClick:function(e){en(e.version_id||""),Ye(!0)},disableButtonFunction:function(e){var n=Be.find((function(n){return n.version_id===e}));return n&&n.is_delete_marker||!1}}],mn=Be.filter((function(e){return!!e.version_id&&e.version_id.includes(ze)}));return(0,D.jsxs)(a.Fragment,{children:[P&&be&&(0,D.jsx)(y.default,{open:P,closeModalAndRefresh:function(){Oe(null),F(!1)},bucketName:an,dataObject:Ie||be}),L&&be&&(0,D.jsx)(M,{open:L,closeModalAndRefresh:function(e){B(!1),e&&b(!0)},objectName:sn,objectInfo:be,bucketName:an}),Ke&&(0,D.jsx)(J,{deleteOpen:Ke,selectedBucket:an,selectedObject:nn,closeDeleteModalAndRefresh:function(e){if(He(!1),e){var n=on.join("/");C.Z.push("/buckets/".concat(an,"/browse").concat(""===n?"":"/".concat((0,T.ug)(n))))}},versioning:o}),U&&be&&(0,D.jsx)(q,{modalOpen:U,currentTags:be.tags,selectedObject:nn,versionId:be.version_id,bucketName:an,onCloseAndUpdate:function(e){W(!1),e&&b(!0)}}),V&&be&&(0,D.jsx)(ee,{deleteOpen:V,currentTags:be.tags,selectedObject:be.name,versionId:be.version_id,bucketName:an,onCloseAndUpdate:function(e){$(!1),e&&b(!0)},selectedTag:Q}),re&&be&&(0,D.jsx)(ie,{open:re,closeModalAndRefresh:function(e){le(!1),e&&b(!0)},objectName:be.name,bucketName:an,actualInfo:be}),$e&&be&&(0,D.jsx)(ce,{restoreOpen:$e,bucketName:an,versionID:Qe,objectPath:be.name,onCloseAndUpdate:function(e){Ye(!1),en(""),e&&b(!0)}}),(0,D.jsxs)(de.Z,{className:n.pageContainer,children:[!be&&(0,D.jsx)(u.ZP,{item:!0,xs:12,children:(0,D.jsx)(j.Z,{})}),be&&(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(u.ZP,{item:!0,xs:12,children:(0,D.jsx)(ae.Z,{icon:(0,D.jsx)(a.Fragment,{children:(0,D.jsx)(we,{width:40})}),title:rn.length>0?rn[rn.length-1]:be.name,subTitle:(0,D.jsx)(a.Fragment,{children:(0,D.jsx)(z,{bucketName:an,internalPaths:be.name})}),actions:(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_DELETE_OBJECT],resource:an,matchAll:!0,errorProps:{disabled:!0},children:(0,D.jsx)(fe.Z,{tooltip:"Delete Object",onClick:function(){He(!0)},text:"",icon:(0,D.jsx)(Ce,{}),color:"secondary",disabled:be.is_delete_marker,variant:"outlined"})}),(0,D.jsx)(fe.Z,{tooltip:"Share",onClick:function(){cn()},text:"",icon:(0,D.jsx)(ye,{}),color:"primary",disabled:be.is_delete_marker,variant:"outlined"}),t.includes("".concat(an,"/").concat(be.name))?(0,D.jsx)("div",{className:"progressDetails",children:(0,D.jsx)(v.Z,{color:"primary",size:17,variant:"indeterminate"})}):(0,D.jsx)(fe.Z,{tooltip:"Download",text:"",icon:(0,D.jsx)(ke,{}),color:"primary",onClick:function(){dn(be)},disabled:be.is_delete_marker,variant:"outlined"})]})})}),(0,D.jsxs)(ue.Z,{classes:{tabsContainer:n.tabsContainer},children:[{tabConfig:{label:"Details"},content:(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("div",{className:n.actionsTray,children:(0,D.jsx)("h1",{className:n.sectionTitle,children:"Details"})}),(0,D.jsx)("br",{}),(0,D.jsx)(Z.Z,{sx:(0,i.Z)({},Ee),children:(0,D.jsxs)(Z.Z,{sx:(0,i.Z)({},Ee),children:[(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_GET_OBJECT_LEGAL_HOLD],resource:an,children:(0,D.jsx)(Te,{label:"",value:be.version_id&&"null"!==be.version_id?(0,D.jsx)(Ne,{iamScopes:[_.Ft.S3_PUT_OBJECT_LEGAL_HOLD],secureCmpProps:{matchAll:!1,errorProps:{disabled:!0,onClick:null}},resourceName:an,property:"Legal Hold:",value:be.legal_hold_status?be.legal_hold_status.toLowerCase():"Off",onEdit:function(){le(!0)},isLoading:!1}):(0,D.jsx)(Te,{label:"Legal Hold:",value:(0,D.jsx)(ve.Z,{icon:(0,D.jsx)(K.dR,{}),label:(0,D.jsx)("label",{className:n.textMuted,children:"Disabled"})})})})}),(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_GET_OBJECT_RETENTION],resource:an,children:(0,D.jsx)(Te,{label:"",value:be.version_id&&"null"!==be.version_id?(0,D.jsx)(Ne,{iamScopes:[_.Ft.S3_PUT_OBJECT_RETENTION],secureCmpProps:{matchAll:!1},resourceName:an,property:"Retention:",value:be.retention_mode?be.retention_mode.toLowerCase():"None",onEdit:function(){B(!0)},isLoading:!1}):(0,D.jsx)(Te,{label:"Retention:",value:(0,D.jsx)(ve.Z,{icon:(0,D.jsx)(K.dR,{}),label:(0,D.jsx)("label",{className:n.textMuted,children:"Disabled"})})})})})]})}),(0,D.jsx)(Z.Z,{className:n.spacerTop,children:(0,D.jsx)(Te,{label:"Tags:",value:(0,D.jsx)(ge,{objectInfo:be,tagKeys:ln,bucketName:an,onDeleteTag:function(e,n){ne([e,n]),$(!0)},onAddTagClick:function(){W(!0)}})})}),be?(0,D.jsx)(Se,{bucketName:an,internalPaths:nn,actualInfo:be}):null]})},{tabConfig:{label:"Versions",disabled:!(be.version_id&&"null"!==be.version_id)},content:(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("div",{className:n.actionsTray,children:(0,D.jsx)("h1",{className:n.sectionTitle,children:"Versions"})}),(0,D.jsx)("br",{}),(0,D.jsx)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:be.version_id&&"null"!==be.version_id&&(0,D.jsx)(he.Z,{placeholder:"Search ".concat(sn),onChange:Ue})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:be.version_id&&"null"!==be.version_id&&(0,D.jsx)(S.Z,{itemActions:un,columns:[{label:"",width:40,renderFullObject:!0,renderFunction:function(e){var n=Be.length-Be.indexOf(e);return"v".concat(n)},elementKey:"version_id"},{label:"Version ID",elementKey:"version_id"},{label:"Last Modified",elementKey:"last_modified",renderFunction:function(e){return(0,D.jsx)(g(),{children:e})}},{label:"Deleted",width:60,contentTextAlign:"center",renderFullObject:!0,elementKey:"is_delete_marker",renderFunction:function(e){var n=e.is_delete_marker?"Yes":"No";return"".concat(n)}}],isLoading:!1,entityName:"Versions",idField:"version_id",records:mn,textSelectable:!0})})]})},{tabConfig:{label:"Preview",disabled:"none"===(0,k.Bg)(sn)},content:(0,D.jsx)(a.Fragment,{children:be&&(0,D.jsx)(oe.Z,{bucketName:an,object:{name:be.name,version_id:be.version_id||"null",size:parseInt(be.size||"0"),content_type:"",last_modified:new Date(be.last_modified)},isFullscreen:!0})})}]})]})]})]})})))),Oe=t(35531),Le=t(58471),De=t(35477),Be=t(2857),Re=t(77130),Me=t(37882),Ae=t(89472),ze=t(93482),Ue=t(416),We=(0,r.Z)((function(e){return(0,s.Z)({fileName:{display:"flex",alignItems:"center","& .min-icon":{width:16,height:16,marginRight:4}},fileNameText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})}))((function(e){return(0,D.jsxs)("div",{className:e.classes.fileName,children:[e.icon,(0,D.jsx)("span",{className:e.classes.fileNameText,children:e.strings[e.strings.length-1]})]})})),Ge=a.lazy((function(){return Promise.resolve().then(t.bind(t,30510))})),Ke=a.lazy((function(){return Promise.resolve().then(t.bind(t,78162))})),He=a.lazy((function(){return Promise.resolve().then(t.bind(t,30272))})),Je=a.lazy((function(){return Promise.resolve().then(t.bind(t,52383))})),Ve=a.lazy((function(){return Promise.resolve().then(t.bind(t,35031))})),$e=a.lazy((function(){return Promise.resolve().then(t.bind(t,79877))})),Ye=a.lazy((function(){return Promise.resolve().then(t.bind(t,60317))})),qe=a.lazy((function(){return Promise.resolve().then(t.bind(t,80479))})),Xe=a.lazy((function(){return Promise.resolve().then(t.bind(t,37634))})),Qe=a.lazy((function(){return Promise.resolve().then(t.bind(t,99884))})),en=a.lazy((function(){return Promise.resolve().then(t.bind(t,90474))})),nn=a.lazy((function(){return Promise.resolve().then(t.bind(t,15874))})),tn=a.lazy((function(){return Promise.resolve().then(t.bind(t,58729))})),an=a.lazy((function(){return Promise.resolve().then(t.bind(t,49653))})),on=a.lazy((function(){return Promise.resolve().then(t.bind(t,25909))})),sn=t(26936),rn=t(31680),ln=t(70902),cn=t(80498),dn=(0,r.Z)((function(e){return(0,s.Z)({listUploadIcons:{height:20,"& .min-icon":{width:18,fill:"rgba(0,0,0,0.87)"}}})}))((function(e){var n=e.uploadPath,t=e.bucketName,i=e.forceDisable,o=void 0!==i&&i,s=e.uploadFileFunction,r=e.uploadFolderFunction,l=e.classes,c=a.useState(null),d=(0,x.Z)(c,2),u=d[0],m=d[1],f=Boolean(u),h=function(){m(null)},p=(0,me.F)(n,[_.Ft.S3_PUT_OBJECT]),b=(0,me.F)(t,[_.Ft.S3_PUT_OBJECT],!1,!0),g=p||b;return(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(fe.Z,{id:"upload-main",tooltip:"Upload Files","aria-controls":"upload-main-menu","aria-haspopup":"true","aria-expanded":f?"true":void 0,onClick:function(e){m(e.currentTarget)},text:"Upload Files",icon:(0,D.jsx)(K.rG,{}),color:"primary",variant:"contained",disabled:o||!g}),(0,D.jsxs)(sn.Z,{id:"upload-main-menu","aria-labelledby":"upload-main",anchorEl:u,open:f,onClose:function(){h()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,D.jsx)(me.Z,{resource:n,scopes:[_.Ft.S3_PUT_OBJECT],errorProps:{disabled:!0},children:(0,D.jsxs)(rn.Z,{onClick:function(){s(h)},disabled:o,children:[(0,D.jsx)(cn.Z,{className:l.listUploadIcons,children:(0,D.jsx)(K.rG,{})}),(0,D.jsx)(ln.Z,{children:"Upload File"})]})}),(0,D.jsx)(me.Z,{resource:t,containsResource:!0,scopes:[_.Ft.S3_PUT_OBJECT],errorProps:{disabled:!0},children:(0,D.jsxs)(rn.Z,{onClick:function(){r(h)},disabled:o,children:[(0,D.jsx)(cn.Z,{className:l.listUploadIcons,children:(0,D.jsx)(K.oX,{})}),(0,D.jsx)(ln.Z,{children:"Upload Folder"})]})})]})]})})),un=(0,r.Z)((function(e){return(0,s.Z)({detailsList:{borderColor:"#EAEDEE",backgroundColor:"#fff",borderWidth:0,borderStyle:"solid",borderRadius:3,borderBottomLeftRadius:0,borderBottomRightRadius:0,width:0,transitionDuration:"0.3s",overflowX:"hidden",overflowY:"auto",position:"relative",opacity:0,marginLeft:-1,"&.open":{width:400,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:1,borderLeftWidth:1,opacity:1}},closePanel:{position:"absolute",right:0,top:8,"& .min-icon":{width:14}}})}))((function(e){var n=e.classes,t=e.open,i=e.closePanel,a=e.children;return(0,D.jsxs)(u.ZP,{item:!0,className:"".concat(n.detailsList," ").concat(t?"open":""),children:[(0,D.jsx)(d.Z,{onClick:i,className:n.closePanel,children:(0,D.jsx)(K.ot,{})}),a]})})),mn=t(6511),fn=t(83738),hn=["disabled","onClick","icon","label","classes"],pn=(0,r.Z)((function(e){return(0,s.Z)({root:{padding:"0 15px",height:22,margin:0,color:"#5E5E5E",fontWeight:"normal",fontSize:14,whiteSpace:"nowrap",width:"100%",justifyContent:"flex-start","&:hover":{backgroundColor:"transparent",color:"#000"},"& .min-icon":{width:11},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}}})}))((function(e){e.disabled;var n=e.onClick,t=e.icon,a=e.label,o=e.classes,s=(0,fn.Z)(e,hn);return(0,D.jsx)(E.Z,(0,i.Z)((0,i.Z)({},s),{},{onClick:n,className:o.root,startIcon:t,children:(0,D.jsx)("span",{className:"buttonItem",children:a})}))})),xn=t(52910),bn=t(94113),gn=t(86458),jn={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},vn={setErrorSnackMessage:N.Ih,setSnackBarMessage:N.y1,setNewObject:p.Mc,updateProgress:p.RO,completeObject:p.oK},Zn=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.system;return{rewindEnabled:f()(n,"rewind.rewindEnabled",!1),rewindDate:f()(n,"rewind.dateToRewind",null),bucketToRewind:f()(n,"rewind.bucketToRewind",""),distributedSetup:f()(t,"distributedSetup",!1)}}),vn)((0,r.Z)((function(){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({tag:{marginRight:6,fontSize:10,fontWeight:700,"&.MuiChip-sizeSmall":{height:18},"& .min-icon":{height:10,width:10}},"@global":{".progressDetails":{paddingTop:3,display:"inline-block",position:"relative",width:18,height:18},".progressDetails > .MuiCircularProgress-root":{position:"absolute",left:0,top:3}}},h.Si),h.OR),h.bK),h.VI),h.$b))}))((function(e){var n=e.classes,t=e.internalPaths,i=e.bucketName,o=e.distributedSetup,s=e.setErrorSnackMessage,r=e.setNewObject,l=e.updateProgress,c=e.completeObject,d=(0,a.useState)(!0),m=(0,x.Z)(d,2),h=m[0],p=m[1],b=(0,a.useState)(!1),g=(0,x.Z)(b,2),v=g[0],S=g[1],N=(0,a.useState)(!1),E=(0,x.Z)(N,2),P=E[0],F=E[1],I=(0,a.useState)(!1),O=(0,x.Z)(I,2),L=O[0],B=O[1],R=(0,a.useState)(!1),A=(0,x.Z)(R,2),z=A[0],U=A[1],W=(0,a.useState)(["",""]),G=(0,x.Z)(W,2),H=G[0],V=G[1],$=(0,a.useState)(!1),Y=(0,x.Z)($,2),X=Y[0],Q=Y[1],ne=(0,a.useState)(null),te=(0,x.Z)(ne,2),ae=te[0],oe=te[1],se=(0,a.useState)(null),re=(0,x.Z)(se,2),le=re[0],de=re[1],ue=(0,a.useState)([]),fe=(0,x.Z)(ue,2),he=fe[0],pe=fe[1],xe=(0,a.useState)(!1),be=(0,x.Z)(xe,2),je=be[0],Ze=be[1],ye=(0,a.useState)(!1),ke=(0,x.Z)(ye,2),Ce=ke[0],we=ke[1],Se=(0,a.useState)(!1),Ne=(0,x.Z)(Se,2),Te=Ne[0],_e=Ne[1],Ee=(0,a.useState)(""),Pe=(0,x.Z)(Ee,2),Fe=Pe[0],Ie=Pe[1],Oe=(0,a.useState)(0),Le=(0,x.Z)(Oe,2),De=Le[0],Be=Le[1],Re=((0,T.le)(t)||"").split("/"),Me=Re.pop()||"",Ae=[];ae&&(Ae=ae.name.split("/")),(0,a.useEffect)((function(){""!==i&&t&&p(!0)}),[t,i]),(0,a.useEffect)((function(){h&&""!==t&&w.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects?prefix=").concat(t).concat(o?"&with_versions=true":"")).then((function(e){var n=f()(e,"objects",[]);if(o){oe(n.find((function(e){return e.is_latest}))||jn),pe(n);var t=n.reduce((function(e,n){return null!==n&&void 0!==n&&n.size?e+n.size:e}),0);Be(t)}else oe(n[0]),pe([]);p(!1)})).catch((function(e){s(e),p(!1)}))}),[h,i,t,s,o]);var ze=[];ae&&ae.tags&&(ze=Object.keys(ae.tags));return ae?(0,D.jsxs)(a.Fragment,{children:[v&&ae&&(0,D.jsx)(y.default,{open:v,closeModalAndRefresh:function(){de(null),S(!1)},bucketName:i,dataObject:le||ae}),P&&ae&&(0,D.jsx)(M,{open:P,closeModalAndRefresh:function(e){F(!1),e&&p(!0)},objectName:Me,objectInfo:ae,bucketName:i}),je&&(0,D.jsx)(J,{deleteOpen:je,selectedBucket:i,selectedObject:t,closeDeleteModalAndRefresh:function(e){if(Ze(!1),e){var n=Re.join("/");C.Z.push("/buckets/".concat(i,"/browse").concat(""===n?"":"/".concat((0,T.ug)(n))))}},versioning:o}),L&&ae&&(0,D.jsx)(q,{modalOpen:L,currentTags:ae.tags,selectedObject:t,versionId:ae.version_id,bucketName:i,onCloseAndUpdate:function(e){B(!1),e&&p(!0)}}),z&&ae&&(0,D.jsx)(ee,{deleteOpen:z,currentTags:ae.tags,selectedObject:ae.name,versionId:ae.version_id,bucketName:i,onCloseAndUpdate:function(e){U(!1),e&&p(!0)},selectedTag:H}),X&&ae&&(0,D.jsx)(ie,{open:X,closeModalAndRefresh:function(e){Q(!1),e&&p(!0)},objectName:ae.name,bucketName:i,actualInfo:ae}),Ce&&ae&&(0,D.jsx)(ce,{restoreOpen:Ce,bucketName:i,versionID:Fe,objectPath:ae.name,onCloseAndUpdate:function(e){we(!1),Ie(""),e&&p(!0)}}),Te&&ae&&(0,D.jsx)(mn.default,{open:Te,bucketName:i,object:{name:ae.name,version_id:ae.version_id||"null",size:parseInt(ae.size||"0"),content_type:"",last_modified:new Date(ae.last_modified)},onClosePreview:function(){_e(!1)}}),!ae&&(0,D.jsx)(u.ZP,{item:!0,xs:12,children:(0,D.jsx)(j.Z,{})}),(0,D.jsx)("div",{className:n.titleLabel,children:Ae.length>0?Ae[Ae.length-1]:ae.name}),(0,D.jsxs)("ul",{className:n.objectActions,children:[(0,D.jsx)("li",{children:"Object Actions:"}),(0,D.jsx)("li",{children:(0,D.jsx)(pn,{label:"Download",icon:(0,D.jsx)(K._8,{}),onClick:function(){!function(e){var n=(0,T.ug)("".concat(i,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));r({bucketName:i,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0}),(0,k.LR)(i,t,e.version_id,parseInt(e.size||"0"),(function(e){l(n,e)}),(function(){c(n)}))}(ae)},disabled:ae.is_delete_marker})}),(0,D.jsx)("li",{children:(0,D.jsx)(pn,{label:"Share",icon:(0,D.jsx)(K.aA,{}),onClick:function(){S(!0)},disabled:ae.is_delete_marker})}),(0,D.jsx)("li",{children:(0,D.jsx)(pn,{label:"Preview",icon:(0,D.jsx)(K.P9,{}),onClick:function(){_e(!0)},disabled:ae.is_delete_marker})}),(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_DELETE_OBJECT],resource:i,matchAll:!0,errorProps:{disabled:!0},children:(0,D.jsx)("li",{children:(0,D.jsx)(pn,{label:"Delete",icon:(0,D.jsx)(K.pJ,{}),onClick:function(){Ze(!0)},disabled:ae.is_delete_marker})})}),(0,D.jsx)("li",{children:(0,D.jsx)(pn,{label:"Expand Details",icon:(0,D.jsx)(K.hF,{}),onClick:function(){!function(){var e="/buckets/".concat(i,"/browse").concat(""!==t?"/".concat(t):"");C.Z.push(e)}()}})})]}),(0,D.jsx)("div",{className:n.actionsTray,children:(0,D.jsx)("h1",{className:n.sectionTitle,children:"Details"})}),(0,D.jsx)(Z.Z,{className:n.detailContainer,children:(0,D.jsx)(gn.default,{label:"Tags:",value:(0,D.jsx)(ge,{objectInfo:ae,tagKeys:ze,bucketName:i,onDeleteTag:function(e,n){V([e,n]),U(!0)},onAddTagClick:function(){B(!0)}})})}),(0,D.jsxs)(Z.Z,{className:n.detailContainer,children:[(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_GET_OBJECT_LEGAL_HOLD],resource:i,children:(0,D.jsx)(gn.default,{label:"",value:ae.version_id&&"null"!==ae.version_id?(0,D.jsx)(bn.default,{iamScopes:[_.Ft.S3_PUT_OBJECT_LEGAL_HOLD],secureCmpProps:{matchAll:!1,errorProps:{disabled:!0,onClick:null}},resourceName:i,property:"Legal Hold:",value:ae.legal_hold_status?ae.legal_hold_status.toLowerCase():"Off",onEdit:function(){Q(!0)},isLoading:!1}):(0,D.jsx)(gn.default,{label:"Legal Hold:",value:(0,D.jsx)(ve.Z,{icon:(0,D.jsx)(K.dR,{}),label:(0,D.jsx)("label",{className:n.textMuted,children:"Disabled"})})})})}),(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_GET_OBJECT_RETENTION],resource:i,children:(0,D.jsx)(gn.default,{label:"",value:ae.version_id&&"null"!==ae.version_id?(0,D.jsx)(bn.default,{iamScopes:[_.Ft.S3_PUT_OBJECT_RETENTION],secureCmpProps:{matchAll:!1},resourceName:i,property:"Retention:",value:ae.retention_mode?ae.retention_mode.toLowerCase():"None",onEdit:function(){F(!0)},isLoading:!1}):(0,D.jsx)(gn.default,{label:"Retention:",value:(0,D.jsx)(ve.Z,{icon:(0,D.jsx)(K.dR,{}),label:(0,D.jsx)("label",{className:n.textMuted,children:"Disabled"})})})})})]}),(0,D.jsx)("hr",{className:n.hrClass}),(0,D.jsx)("div",{className:n.actionsTray,children:(0,D.jsx)("h1",{className:n.sectionTitle,children:"Object Metadata"})}),(0,D.jsx)(Z.Z,{className:n.detailContainer,children:ae?(0,D.jsx)(xn.default,{bucketName:i,internalPaths:t,actualInfo:ae,linear:!0}):null}),(0,D.jsx)("hr",{className:n.hrClass}),ae.version_id&&"null"!==ae.version_id&&(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("div",{className:n.actionsTray,children:(0,D.jsx)("h1",{className:n.sectionTitle,children:"Versions"})}),(0,D.jsxs)(Z.Z,{className:n.detailContainer,children:[(0,D.jsxs)(Z.Z,{className:n.metadataLinear,children:[(0,D.jsx)("strong",{children:"Total available versions"}),(0,D.jsx)("br",{}),he.length]}),(0,D.jsxs)(Z.Z,{className:n.metadataLinear,children:[(0,D.jsx)("strong",{children:"Versions Stored size:"}),(0,D.jsx)("br",{}),(0,T.l5)(De)]})]})]})]}):null}))),yn=a.lazy((function(){return Promise.resolve().then(t.bind(t,71353))})),kn=a.lazy((function(){return Promise.resolve().then(t.bind(t,83842))})),Cn=a.lazy((function(){return Promise.resolve().then(t.bind(t,18342))})),wn=a.lazy((function(){return Promise.resolve().then(t.bind(t,18221))})),Sn=a.lazy((function(){return Promise.resolve().then(t.bind(t,35336))})),Nn=(0,Me.Z)(a.lazy((function(){return t.e(9924).then(t.bind(t,39924))}))),Tn=(0,Me.Z)(a.lazy((function(){return t.e(9193).then(t.bind(t,49193))}))),_n=(0,Me.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,79440))}))),En=(0,Me.Z)(a.lazy((function(){return Promise.all([t.e(4837),t.e(7451)]).then(t.bind(t,97451))}))),Pn=(0,Me.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,6511))}))),Fn={borderWidth:2,borderRadius:2,borderColor:"#eeeeee",outline:"none"},In={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#2196f3"},On={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#00e676"};var Ln=(0,D.jsx)(De.Z,{component:"h3",children:"Loading..."}),Dn={setSnackBarMessage:N.y1,setErrorSnackMessage:N.Ih,setFileModeEnabled:p.WA,resetRewind:p._w,setBucketDetailsLoad:Re.d5,setBucketInfo:Re.f4,setNewObject:p.Mc,updateProgress:p.RO,completeObject:p.oK,openList:p.LD},Bn=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.buckets;return{routesList:f()(n,"routesList",[]),downloadingFiles:f()(n,"downloadingFiles",[]),rewindEnabled:f()(n,"rewind.rewindEnabled",!1),rewindDate:f()(n,"rewind.dateToRewind",null),bucketToRewind:f()(n,"rewind.bucketToRewind",""),loadingBucket:t.bucketDetails.loadingBucket,bucketInfo:t.bucketDetails.bucketInfo}}),Dn),Rn=(0,je.EN)(Bn((0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({browsePaper:{height:"calc(100vh - 280px)","&.actionsPanelOpen":{height:"100%"}},"@global":{".rowLine:hover  .iconFileElm":{backgroundImage:"url(/images/ob_file_filled.svg)"},".rowLine:hover  .iconFolderElm":{backgroundImage:"url(/images/ob_folder_filled.svg)"}},badgeOverlap:{"& .MuiBadge-badge":{top:10,right:1,width:5,height:5,minWidth:5}},screenTitle:{borderBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0}},h.VX),h.OR),h.qg),{},{searchField:(0,i.Z)((0,i.Z)({},h.qg.searchField),{},{maxWidth:380})},h.cx),(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.match,o=(e.history,e.rewindEnabled),s=e.rewindDate,r=e.bucketToRewind,l=e.setSnackBarMessage,c=e.setErrorSnackMessage,d=e.resetRewind,m=e.setFileModeEnabled,h=e.setBucketDetailsLoad,p=e.loadingBucket,b=e.setBucketInfo,j=e.bucketInfo,v=e.setNewObject,Z=e.updateProgress,y=e.completeObject,C=e.openList,N=(0,a.useState)([]),E=(0,x.Z)(N,2),P=E[0],F=E[1],I=(0,a.useState)(!0),O=(0,x.Z)(I,2),L=O[0],B=O[1],R=(0,a.useState)([]),M=(0,x.Z)(R,2),A=M[0],U=M[1],W=(0,a.useState)(!1),G=(0,x.Z)(W,2),H=G[0],J=G[1],V=(0,a.useState)(!1),$=(0,x.Z)(V,2),Y=$[0],q=$[1],X=(0,a.useState)(!1),Q=(0,x.Z)(X,2),ee=Q[0],ne=Q[1],te=(0,a.useState)(""),ie=(0,x.Z)(te,2),oe=ie[0],se=ie[1],re=(0,a.useState)(0),le=(0,x.Z)(re,2),ce=le[0],ue=le[1],fe=(0,a.useState)(Ln),pe=(0,x.Z)(fe,2),xe=pe[0],be=pe[1],ge=(0,a.useState)(!0),je=(0,x.Z)(ge,2),ve=je[0],Ze=je[1],ye=(0,a.useState)(!1),ke=(0,x.Z)(ye,2),Ce=ke[0],we=ke[1],Se=(0,a.useState)(!1),Ne=(0,x.Z)(Se,2),Te=Ne[0],_e=Ne[1],Ee=(0,a.useState)([]),Pe=(0,x.Z)(Ee,2),Fe=Pe[0],Ie=Pe[1],Re=(0,a.useState)(!1),Me=(0,x.Z)(Re,2),sn=Me[0],rn=Me[1],ln=(0,a.useState)(null),cn=(0,x.Z)(ln,2),mn=cn[0],fn=cn[1],hn=(0,a.useState)(!1),pn=(0,x.Z)(hn,2),xn=pn[0],bn=pn[1],gn=(0,a.useState)("ASC"),jn=(0,x.Z)(gn,2),vn=jn[0],Dn=jn[1],Bn=(0,a.useState)("name"),Rn=(0,x.Z)(Bn,2),Mn=Rn[0],An=Rn[1],zn=(0,a.useState)(!1),Un=(0,x.Z)(zn,2),Wn=Un[0],Gn=Un[1],Kn=(0,a.useState)(!1),Hn=(0,x.Z)(Kn,2),Jn=Hn[0],Vn=Hn[1],$n=(0,a.useState)(!1),Yn=(0,x.Z)($n,2),qn=Yn[0],Xn=Yn[1],Qn=(0,a.useState)(!1),et=(0,x.Z)(Qn,2),nt=et[0],tt=et[1],it=(0,a.useState)(null),at=(0,x.Z)(it,2),ot=at[0],st=at[1],rt=f()(t.params,"subpaths",""),lt=t.params.bucketName,ct=(0,a.useRef)(null),dt=(0,a.useRef)(null);(0,a.useEffect)((function(){null!==dt.current&&(dt.current.setAttribute("directory",""),dt.current.setAttribute("webkitdirectory",""))}),[dt]),(0,a.useEffect)((function(){if(1===Fe.length){var e=Fe[0];"none"!==(0,k.Bg)(e)?Xn(!0):Xn(!1),e.endsWith("/")?Vn(!1):Vn(!0)}else Vn(!1),Xn(!1)}),[Fe]);var ut=(0,me.F)(lt,[_.Ft.S3_DELETE_OBJECT]),mt=(0,me.F)(lt,[_.Ft.S3_LIST_BUCKET]);(0,a.useEffect)((function(){Wn||(h(!0),Gn(!0))}),[Wn,h,Gn]),function(e,n){var t=(0,a.useRef)(null);(0,a.useEffect)((function(){t.current=e}),[e]),(0,a.useEffect)((function(){if(null!==n){var e=setInterval((function(){void 0!==t&&t.current&&t.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){L&&function(){var e=Date.now()-ce;e/1e3>=6?be((0,D.jsx)(a.Fragment,{children:(0,D.jsxs)(De.Z,{component:"h3",children:["This operation is taking longer than expected... (",Math.ceil(e/1e3),"s)"]})})):e/1e3>=3&&be((0,D.jsx)(De.Z,{component:"h3",children:"This operation is taking longer than expected..."}))}()}),1e3),(0,a.useEffect)((function(){ve&&(mt?w.Z.invoke("GET","/api/v1/buckets/".concat(lt,"/versioning")).then((function(e){we(e.is_versioned),Ze(!1)})).catch((function(e){c(e),Ze(!1)})):Ze(!1))}),[lt,ve,c,mt]),(0,a.useEffect)((function(){if(o){if(r!==lt)return void d();if(s){J(!0);var e=s.toISOString(),n="";if(rt){var t=(0,T.le)(rt);n=t.endsWith("/")?t:t+"/"}w.Z.invoke("GET","/api/v1/buckets/".concat(lt,"/rewind/").concat(e).concat(n?"?prefix=".concat((0,T.ug)(n)):"")).then((function(e){J(!1),e.objects?U(e.objects):U([])})).catch((function(e){J(!1),c(e)}))}}}),[o,s,r,lt,t,c,d,rt]),(0,a.useEffect)((function(){B(!0)}),[rt]),(0,a.useEffect)((function(){if(L)if(mt){var e="";if(rt){var n=(0,T.le)(rt);e=n.endsWith("/")?n:n+"/"}var t=Date.now();ue(t),be(Ln),w.Z.invoke("GET","/api/v1/buckets/".concat(lt,"/objects").concat(e?"?prefix=".concat((0,T.ug)(e)):"")).then((function(n){var t=n.objects||[],i=[],a=[];t.forEach((function(e){e.name.endsWith("/")?i.push(e):a.push(e)}));var r=[].concat(i,a);if(F(r),n.objects||""===e)m(!1),B(!1);else if(o){var l=s.toISOString(),d="";if(rt){var u=(0,T.le)(rt);d=u.endsWith("/")?u:u+"/"}w.Z.invoke("GET","/api/v1/buckets/".concat(lt,"/rewind/").concat(l).concat(d?"?prefix=".concat((0,T.ug)(d)):"")).then((function(e){null===e.objects?(m(!0),J(!1),B(!1)):(J(!1),B(!1),m(!1))})).catch((function(e){J(!1),B(!1),c(e)}))}else w.Z.invoke("GET","/api/v1/buckets/".concat(lt,"/objects").concat(rt?"?prefix=".concat(rt):"")).then((function(n){if(n.objects){for(var t=!1,i=e.slice(0,e.length-1),a=0;a<n.objects.length;a++)n.objects[a].name===i&&(t=!0);1===n.objects.length&&n.objects[0].name.endsWith("/")||!t?m(!1):m(!0),B(!1)}else m(!1),B(!1)})).catch((function(e){B(!1),c(e)}))})).catch((function(e){B(!1),c(e)}))}else J(!1),B(!1)}),[L,t,c,lt,o,s,rt,m,j,mt]),(0,a.useEffect)((function(){p&&w.Z.invoke("GET","/api/v1/buckets/".concat(lt)).then((function(e){h(!1),b(e)})).catch((function(e){h(!1),c(e)}))}),[lt,p,h,b,c]);var ft=function(e){if(null!==e&&void 0!==e&&null!==e.target.files&&void 0!==e.target.files){e.preventDefault();for(var n=[],t=0;t<e.target.files.length;t++)n.push(e.target.files[t]);xt(n,"")}},ht=function(e){return e.name.endsWith("/")?"":(0,D.jsx)(g(),{children:e.last_modified})},pt=function(e){return e.name.endsWith("/")?"":(0,T.ae)(String(e.size))},xt=(0,a.useCallback)((function(e,n){var t="";if(rt){var i=(0,T.le)(rt);t=i.endsWith("/")?i:i+"/"}!function(e,n,t,i){if(e.length>0){C();var a=e.pop();a&&function a(o){return new Promise((function(s,r){var c="api/v1/buckets/".concat(n,"/objects/upload"),d=o.name,u=new Blob([o],{type:o.type}),m="",h=""!==f()(o,"webkitRelativePath","")?f()(o,"webkitRelativePath",""):i;if(""!==t||""!==h){var p=h.split("/").slice(0,-1).join("/");m=(0,T.ug)("".concat(t).concat(p).concat(p.endsWith("/")?"":"/"))}""!==m&&(c="".concat(c,"?prefix=").concat(m));var x=(0,T.ug)("".concat(n,"-").concat(m,"-").concat((new Date).getTime(),"-").concat(Math.random()));v({bucketName:n,done:!1,instanceID:x,percentage:0,prefix:"".concat((0,T.le)(m)).concat(d),type:"upload",waitingForFile:!1});var b=new XMLHttpRequest;b.open("POST",c,!0);var g=e.length>1,j="An error occurred while uploading the file".concat(g?"s":"","."),k="Object".concat(g?"s":""," uploaded successfully.");b.withCredentials=!1,b.onload=function(n){if(401===b.status||403===b.status||400===b.status||500===b.status)if(b.response){var t=JSON.parse(b.response);l(t.detailedMessage)}else l(j);if(413===b.status&&l("Error - File size too large"),200===b.status&&(y(x),0===e.length&&l(k)),s(b.status),e.length>0){var i=e.pop();if(i)return a(i)}},b.upload.addEventListener("error",(function(e){l(j)})),b.upload.addEventListener("progress",(function(e){var n=Math.floor(100*e.loaded/e.total);Z(x,n)})),b.onerror=function(){l(j),r(j)},b.onloadend=function(){0===e.length&&B(!0)};var C=new FormData;void 0!==o.size&&(C.append(o.size.toString(),u,d),b.send(C))}))}(a).then((function(){console.info("done uploading file")})).catch((function(e){console.error("error uploading file,",e)}))}}(e,lt,t,n)}),[lt,y,rt,C,v,l,Z]),bt=(0,a.useCallback)((function(e){if(e&&e.length>0){var n=e[0].path;xt(e,n)}}),[xt]),gt=(0,Le.uI)({noClick:!0,onDrop:bt}),jt=gt.getRootProps,vt=gt.getInputProps,Zt=gt.isDragActive,yt=gt.isDragAccept,kt=(0,a.useMemo)((function(){return(0,i.Z)((0,i.Z)((0,i.Z)({},Fn),Zt?In:{}),yt?On:{})}),[Zt,yt]),Ct=[{type:"view",label:"View",onClick:function(e){tt(!0),st("".concat(e?"".concat((0,T.ug)(e)):""))},sendOnlyId:!0}],wt=P.filter((function(e){return""===oe||e.name.toLowerCase().indexOf(oe.toLowerCase())>=0})),St=function(e){return function(e){var n=e,t=(0,D.jsx)(ze.default,{});e.endsWith("/")&&(t=(0,D.jsx)(Ue.Z,{}),n=e.substr(0,e.length-1));for(var i=[{icon:(0,D.jsx)(tn,{}),extensions:["mp4","mov","avi","mpeg","mpg"]},{icon:(0,D.jsx)(Xe,{}),extensions:["mp3","m4a","aac"]},{icon:(0,D.jsx)(Qe,{}),extensions:["pdf"]},{icon:(0,D.jsx)(en,{}),extensions:["ppt","pptx"]},{icon:(0,D.jsx)(an,{}),extensions:["xls","xlsx"]},{icon:(0,D.jsx)(Ye,{}),extensions:["cer","crt","pem"]},{icon:(0,D.jsx)(Ke,{}),extensions:["html","xml","css","py","go","php","cpp","h","java"]},{icon:(0,D.jsx)(He,{}),extensions:["cfg","yaml"]},{icon:(0,D.jsx)(Je,{}),extensions:["sql"]},{icon:(0,D.jsx)(Ve,{}),extensions:["ttf","otf"]},{icon:(0,D.jsx)(nn,{}),extensions:["txt"]},{icon:(0,D.jsx)(on,{}),extensions:["zip","rar","tar","gz"]},{icon:(0,D.jsx)(Ge,{}),extensions:["epub","mobi","azw","azw3"]},{icon:(0,D.jsx)($e,{}),extensions:["jpeg","jpg","gif","tiff","png","heic","dng"]}],a=e.toLowerCase(),o=0,s=i;o<s.length;o++){var r,l=s[o],c=(0,Ae.Z)(l.extensions);try{for(c.s();!(r=c.n()).done;){var d=r.value;a.endsWith(".".concat(d))&&(t=l.icon)}}catch(m){c.e(m)}finally{c.f()}}!e.endsWith("/")&&e.indexOf(".")<0&&(t=(0,D.jsx)(qe,{}));var u=n.split("/");return(0,D.jsx)(We,{icon:t,strings:u})}(e)},Nt=[{label:"Name",elementKey:"name",renderFunction:St,enableSort:!0},{label:"Last Modified",elementKey:"last_modified",renderFunction:ht,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:pt,renderFullObject:!0,width:60,contentTextAlign:"right",enableSort:!0}],Tt=[{label:"Name",elementKey:"name",renderFunction:St,enableSort:!0},{label:"Object Date",elementKey:"last_modified",renderFunction:ht,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:pt,renderFullObject:!0,width:60,contentTextAlign:"right",enableSort:!0},{label:"Deleted",elementKey:"delete_flag",renderFunction:function(e){return e?"Yes":"No"},width:60,contentTextAlign:"center"}],_t=(0,T.le)(rt),Et=_t.split("/").filter((function(e){return""!==e})),Pt=(o?A:wt).sort((0,k.P_)(Mn)),Ft=[];Ft="ASC"===vn?Pt:Pt.reverse();var It=[lt];return Et.length>0&&(It=It.concat(Et)),(0,D.jsxs)(a.Fragment,{children:[xn&&mn&&(0,D.jsx)(_n,{open:xn,closeModalAndRefresh:function(){bn(!1),fn(null)},bucketName:lt,dataObject:{name:mn.name,last_modified:"",version_id:mn.version_id}}),Y&&(0,D.jsx)(Tn,{deleteOpen:Y,selectedBucket:lt,selectedObjects:Fe,closeDeleteModalAndRefresh:function(e){q(!1),e&&(l("Objects deleted successfully."),Ie([]),B(!0))},versioning:Ce}),ee&&(0,D.jsx)(Nn,{modalOpen:ee,bucketName:lt,folderName:rt,onClose:function(){ne(!1)},existingFiles:P}),Te&&(0,D.jsx)(En,{open:Te,closeModalAndRefresh:function(e){_e(!1)},bucketName:lt}),sn&&(0,D.jsx)(Pn,{open:sn,bucketName:lt,object:mn,onClosePreview:function(){rn(!1),fn(null)}}),(0,D.jsxs)(de.Z,{children:[(0,D.jsx)(u.ZP,{item:!0,xs:12,children:(0,D.jsx)(ae.Z,{className:n.screenTitle,icon:(0,D.jsx)(a.Fragment,{children:(0,D.jsx)(Cn,{width:40})}),title:Et.length>0?Et[Et.length-1]:"/",subTitle:(0,D.jsx)(a.Fragment,{children:(0,D.jsx)(z,{bucketName:lt,internalPaths:_t})}),actions:(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("input",{type:"file",multiple:!0,onChange:ft,style:{display:"none"},ref:ct}),(0,D.jsx)("input",{type:"file",multiple:!0,onChange:ft,style:{display:"none"},ref:dt}),(0,D.jsx)(dn,{bucketName:lt,uploadPath:It.join("/"),uploadFileFunction:function(e){ct&&ct.current&&ct.current.click(),e()},uploadFolderFunction:function(e){dt&&dt.current&&dt.current.click(),e()}})]})})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:(0,D.jsx)(me.Z,{scopes:[_.Ft.S3_LIST_BUCKET],resource:lt,errorProps:{disabled:!0},children:(0,D.jsx)(he.Z,{onChange:se,placeholder:"Search Objects",overrideClass:n.searchField})})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,children:(0,D.jsx)("br",{})}),(0,D.jsxs)("div",(0,i.Z)((0,i.Z)({id:"object-list-wrapper"},jt({style:(0,i.Z)({},kt)})),{},{children:[(0,D.jsx)("input",(0,i.Z)({},vt())),(0,D.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,D.jsxs)(me.Z,{scopes:[_.Ft.S3_LIST_BUCKET],resource:lt,errorProps:{disabled:!0},children:[(0,D.jsx)(S.Z,{itemActions:Ct,columns:o?Tt:Nt,isLoading:o?H:L,loadingMessage:xe,entityName:"Objects",idField:"name",records:Ft,customPaperHeight:"".concat(n.browsePaper," ").concat(nt?"actionsPanelOpen":""),selectedItems:Fe,onSelect:function(e){var n=e.target,t=n.value,i=n.checked,a=(0,Oe.Z)(Fe);return i?a.push(t):a=a.filter((function(e){return e!==t})),Ie(a),a},customEmptyMessage:"This location is empty".concat(o?"":", please try uploading a new file"),sortConfig:{currentSort:Mn,currentDirection:vn,triggerSort:function(e){var n=f()(e,"sortDirection","DESC");An(e.sortBy),Dn(n),B(!0)}},onSelectAll:function(){if(Fe.length!==Ft.length){var e=Ft.map((function(e){return e.name}));Ie(e)}else Ie([])},actionButtons:[{action:function(){if(0!==Fe.length){var e=function(e){return Fe.includes(e.name)};(o?A.filter(e):wt.filter(e)).forEach((function(e){!function(e){var n=(0,T.ug)("".concat(lt,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));v({bucketName:lt,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0}),(0,k.LR)(lt,(0,T.ug)(e.name),e.version_id,e.size,(function(e){Z(n,e)}),(function(){y(n)}))}(e)}))}},label:"Download",disabled:0===Fe.length,icon:(0,D.jsx)(K._8,{}),tooltip:"Download Selected"},{action:function(){if(1===Fe.length){var e;(e=wt.find((function(e){return Fe.includes(e.name)})))&&(fn(e),bn(!0))}},label:"Share",disabled:1!==Fe.length||!Jn,icon:(0,D.jsx)(K.aA,{}),tooltip:"Share Selected File"},{action:function(){if(1===Fe.length){var e;(e=wt.find((function(e){return Fe.includes(e.name)})))&&(fn(e),rn(!0))}},label:"Preview",disabled:1!==Fe.length||!qn,icon:(0,D.jsx)(K.P9,{}),tooltip:"Preview Selected File"},{action:function(){q(!0)},label:"Delete",icon:(0,D.jsx)(Sn,{}),disabled:!(0,me.F)(lt,[_.Ft.S3_DELETE_OBJECT])||0===Fe.length||!ut,tooltip:"Delete Selected Files"},{action:function(){_e(!0)},label:"Rewind",disabled:!Ce||!(0,me.F)(lt,[_.Ft.S3_PUT_OBJECT]),icon:(0,D.jsx)(Be.Z,{badgeContent:" ",color:"secondary",variant:"dot",invisible:!o,className:n.badgeOverlap,children:(0,D.jsx)(kn,{})}),tooltip:"Rewind Bucket"},{action:function(){ne(!0)},label:"New Path",icon:(0,D.jsx)(yn,{}),disabled:o||!(0,me.F)(lt,[_.Ft.S3_PUT_OBJECT]),tooltip:"Choose or create a new path"}],globalActions:[{action:function(){B(!0)},label:"Reload",icon:(0,D.jsx)(wn,{}),disabled:!(0,me.F)(lt,[_.Ft.S3_LIST_BUCKET])||o,tooltip:"Reload List"}]}),(0,D.jsx)(un,{open:nt,closePanel:function(){tt(!1),st(null)},children:null!==ot&&(0,D.jsx)(Zn,{internalPaths:ot,bucketName:lt})})]})})]}))]})]})})))),Mn=t(35721),An=t(30723),zn={setFileModeEnabled:p.WA,setErrorSnackMessage:N.Ih},Un=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.buckets;return{fileMode:f()(n,"fileMode",!1),bucketToRewind:f()(n,"rewind.bucketToRewind",""),bucketInfo:t.bucketDetails.bucketInfo}}),zn),Wn=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,h.Bz)(e.spacing(4))))}))(Un((function(e){var n=e.fileMode,t=e.match,i=e.history,o=e.classes,s=e.setFileModeEnabled,r=(e.bucketInfo,t.params.bucketName),m=f()(t.params,"subpaths","");(0,a.useEffect)((function(){s(!1)}),[m,s]);return(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(Mn.Z,{label:(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(l.rU,{to:"/buckets",className:o.breadcrumLink,children:"Buckets"})," ","> ",r]}),actions:(0,D.jsx)(me.Z,{scopes:_.D[_.EI.BUCKET_ADMIN],resource:r,errorProps:{disabled:!0},children:(0,D.jsx)(c.Z,{title:"Configure Bucket",children:(0,D.jsx)(d.Z,{color:"primary","aria-label":"Configure Bucket",component:"span",onClick:function(){i.push("/buckets/".concat(r,"/admin"))},size:"large",children:(0,D.jsx)(An.Z,{})})})})}),(0,D.jsx)(u.ZP,{children:n?(0,D.jsx)(Ie,{}):(0,D.jsx)(Rn,{})})]})})))},94113:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var i=t(18489),a=(t(50390),t(86458)),o=t(15607),s=t(83738),r=t(66946),l=t(18201),c=t(62559),d=["isLoading","onClick","label"],u=function(e){var n=e.isLoading,t=e.onClick,a=e.label,o=(0,s.Z)(e,d);return(0,c.jsx)(r.Z,(0,i.Z)((0,i.Z)({color:"primary",onClick:t,variant:"text",sx:{padding:0,margin:0,alignItems:"flex-start",justifyContent:"flex-start",display:"inline-flex",height:"auto",textDecoration:"underline",color:"#2781B0","&:hover":{background:"#ffffff",textDecoration:"underline"}},disableRipple:!0,disableFocusRipple:!0},o),{},{children:n?(0,c.jsx)(l.Z,{color:"primary",size:16,variant:"indeterminate"}):a}))},m=t(56805),f=t(95467),h=t(59078),p=t(86509),x=t(4285),b=["disabled","onClick"],g=(0,x.Z)((function(e){return(0,p.Z)({root:{"&:hover":{backgroundColor:"#E2E2E2"}}})}))((function(e){var n=e.disabled,t=e.onClick,a=(0,s.Z)(e,b);return(0,c.jsx)(f.Z,(0,i.Z)((0,i.Z)({size:"small",disabled:n,onClick:t},a),{},{children:(0,c.jsx)(h.Z,{})}))})),j=function(e){var n=e.resourceName,t=e.iamScopes,a=e.secureCmpProps,s=void 0===a?{}:a,r=e.children;return(0,c.jsx)(o.Z,(0,i.Z)((0,i.Z)({scopes:t,resource:n,errorProps:{disabled:!0}},s),{},{children:r}))},v=function(e){var n=e.isLoading,t=void 0===n||n,i=e.resourceName,o=void 0===i?"":i,s=e.iamScopes,r=e.secureCmpProps,l=void 0===r?{}:r,d=e.property,f=void 0===d?null:d,h=e.value,p=void 0===h?null:h,x=e.onEdit;return(0,c.jsxs)(m.Z,{sx:{display:"flex",alignItems:"baseline",justifyContent:"flex-start"},children:[(0,c.jsx)(a.default,{label:f,value:(0,c.jsx)(j,{resourceName:o,iamScopes:s,secureCmpProps:l,children:(0,c.jsx)(u,{isLoading:t,onClick:x,label:p})})}),(0,c.jsx)(j,{resourceName:o,iamScopes:s,secureCmpProps:l,children:(0,c.jsx)(g,{onClick:x,sx:{background:"#f8f8f8",marginLeft:"3px",top:3,"& .min-icon":{width:"16px",height:"16px"}}})})]})}},1589:function(e,n,t){t(50390);var i=t(56805),a=t(62559);n.Z=function(e){var n=e.icon,t=void 0===n?null:n,o=e.label,s=void 0===o?null:o;return(0,a.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,a.jsx)("div",{style:{height:16,width:16,display:"flex",alignItems:"center",marginTop:5},children:t}),(0,a.jsx)("div",{style:{marginLeft:t?5:"none"},children:s})]})}},53224:function(e,n,t){var i=t(18489),a=t(83738),o=(t(50390),t(70758)),s=t(62449),r=t(62559),l=["onClick","text","disabled","tooltip","icon"],c=(0,s.Z)((function(e){return{root:{padding:"7px",color:function(n){return function(n){var t=n.variant,i=n.color,a=e.palette.primary.main;return"primary"===i&&"contained"===t?a=e.palette.primary.contrastText:"primary"===i&&"outlined"===t?a=e.palette.primary.main:"secondary"===i&&(a=e.palette.secondary.main),a}(n)},borderColor:function(n){return"secondary"===n.color?e.palette.secondary.main:e.palette.primary.main},"& svg.min-icon":{width:12,marginLeft:function(e){return e.text?"5px":"0px"},"@media (max-width: 900px)":{width:16,marginLeft:"0px !important"}}}}}));n.Z=function(e){var n=c(e),t=e.onClick,s=e.text,d=void 0===s?"":s,u=e.disabled,m=void 0!==u&&u,f=e.tooltip,h=e.icon,p=void 0===h?null:h,x=(0,a.Z)(e,l);return(0,r.jsxs)(o.Z,(0,i.Z)((0,i.Z)({classes:n,tooltip:f||d,variant:"outlined",onClick:t,disabled:m,color:"secondary",size:"medium",sx:{border:"1px solid #f44336","& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}}}},x),{},{children:[(0,r.jsx)("span",{children:d})," ",p]}))}},52910:function(e,n,t){t.r(n);var i=t(23430),a=t(18489),o=t(50390),s=t(21639),r=t(38342),l=t.n(r),c=t(25594),d=t(56805),u=t(4182),m=t(35044),f=t(29399),h=t(73481),p=t(86509),x=t(72462),b=t(4285),g=t(62559);n.default=(0,b.Z)((function(e){return(0,p.Z)((0,a.Z)((0,a.Z)({propertiesIcon:{marginLeft:5,"& .min-icon":{height:12}},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleCol:{width:"25%"},titleItem:{width:"35%"}},x.bK),x.$b))}))((function(e){var n=e.bucketName,t=e.internalPaths,a=e.classes,r=e.actualInfo,p=e.linear,x=void 0!==p&&p,b=(0,o.useState)({}),j=(0,i.Z)(b,2),v=j[0],Z=j[1],y=(0,s.Z)((function(e){var n=l()(e,"objectMetadata",{});Z(n)}),(function(e){return!1})),k=(0,i.Z)(y,2)[1],C=Object.keys(v),w=(0,o.useCallback)((function(){k("GET","/api/v1/buckets/".concat(n,"/objects/metadata?prefix=").concat(t))}),[n,t,r]);return(0,o.useEffect)((function(){r&&w()}),[r,w]),x?(0,g.jsx)(o.Fragment,{children:C.map((function(e,n){var t=Array.isArray(v[e])?v[e].map(decodeURIComponent).join(", "):decodeURIComponent(v[e]);return(0,g.jsxs)(d.Z,{className:a.metadataLinear,children:[(0,g.jsx)("strong",{children:e}),(0,g.jsx)("br",{}),t]})}))}):(0,g.jsxs)(c.ZP,{container:!0,children:[(0,g.jsx)(c.ZP,{item:!0,xs:12,sx:{marginTop:"25px",marginBottom:"5px"},children:(0,g.jsx)("h3",{style:{marginTop:"0",marginBottom:"0"},children:"Object Metadata"})}),(0,g.jsx)(c.ZP,{item:!0,xs:12,children:(0,g.jsx)(u.Z,{className:a.table,"aria-label":"simple table",children:(0,g.jsx)(m.Z,{children:C.map((function(e,n){var t=Array.isArray(v[e])?v[e].map(decodeURIComponent).join(", "):decodeURIComponent(v[e]);return(0,g.jsxs)(f.Z,{children:[(0,g.jsx)(h.Z,{component:"th",scope:"row",className:a.titleItem,children:e}),(0,g.jsx)(h.Z,{align:"right",children:t})]},"tRow-".concat(n.toString()))}))})})})]})}))},79440:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var i=t(23430),a=t(18489),o=t(50390),s=t(38342),r=t.n(s),l=t(34424),c=t(86509),d=t(4285),u=t(33034),m=t.n(u),f=t(25594),h=t(66946),p=t(81378),x=t(72462),b=t(44149),g=t(30324),j=t(76352),v=t(50280),Z=t(14602),y=t(60606),k=t.n(y),C=t(66964),w=t(62559),S=(0,d.Z)((function(e){return(0,c.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},x.YI),x.Hr),{},{labelContainer:{display:"flex",alignItems:"center",marginBottom:15},fieldContainer:(0,a.Z)((0,a.Z)({},x.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),dateContainer:{height:20,textAlign:"right",color:"#848484"},dateInputContainer:{margin:"0 10px"},durationInputs:{display:"flex",alignItems:"center",justifyContent:"center"},validityIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},invalidDurationText:{marginTop:15,display:"flex",color:"red",fontSize:11},validityText:{fontSize:14,fontWeight:600,marginTop:15,display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{flexFlow:"column"}}}))}))((function(e){var n=e.classes,t=e.id,a=e.initialDate,s=e.label,r=e.maxDays,l=e.entity,c=e.onChange,d=(0,o.useState)(7),u=(0,i.Z)(d,2),m=u[0],h=u[1],p=(0,o.useState)(0),x=(0,i.Z)(p,2),b=x[0],g=x[1],j=(0,o.useState)(0),v=(0,i.Z)(j,2),y=v[0],S=v[1],N=(0,o.useState)(!0),T=(0,i.Z)(N,2),_=T[0],E=T[1],P=(0,o.useState)(k()()),F=(0,i.Z)(P,2),I=F[0],O=F[1];(0,o.useEffect)((function(){O(function(e,n,t,i){return k()(e).add(n,"days").add(t,"hours").add(i,"minutes")}(a,m,b,y))}),[a,m,b,y]),(0,o.useEffect)((function(){_?c(I.format("YYYY-MM-DDTHH:mm:ss"),!0):c("0000-00-00",!1)}),[I,c,_]),(0,o.useEffect)((function(){var e=!0;(m<0||r&&m>r||isNaN(m))&&(e=!1),(b<0||b>23||isNaN(b))&&(e=!1),(y<0||y>59||isNaN(y))&&(e=!1),!r||m!==r||0===b&&0===y||(e=!1),E(e)}),[I,r,c,m,b,y]);var L={style:{textAlign:"center",paddingRight:10,paddingLeft:10,width:25},className:"removeArrows"};return(0,w.jsx)(o.Fragment,{children:(0,w.jsxs)(f.ZP,{container:!0,className:n.fieldContainer,children:[(0,w.jsxs)(f.ZP,{item:!0,xs:12,alignItems:"center",justifyContent:"center",children:[(0,w.jsx)(f.ZP,{item:!0,xs:12,className:n.labelContainer,children:(0,w.jsx)(Z.Z,{htmlFor:t,className:n.inputLabel,children:(0,w.jsx)("span",{children:s})})}),(0,w.jsxs)(f.ZP,{item:!0,xs:12,className:n.durationInputs,children:[(0,w.jsx)(f.ZP,{item:!0,className:n.dateInputContainer,children:(0,w.jsx)(C.Z,{id:t,type:"number",min:"0",max:r?r.toString():"999",label:"Days",name:t,onChange:function(e){h(parseInt(e.target.value))},value:m.toString(),extraInputProps:L,noLabelMinWidth:!0})}),(0,w.jsx)(f.ZP,{item:!0,className:n.dateInputContainer,children:(0,w.jsx)(C.Z,{id:t,type:"number",min:"0",max:"23",label:"Hours",name:t,onChange:function(e){g(parseInt(e.target.value))},value:b.toString(),extraInputProps:L,noLabelMinWidth:!0})}),(0,w.jsx)(f.ZP,{item:!0,className:n.dateInputContainer,children:(0,w.jsx)(C.Z,{id:t,type:"number",min:"0",max:"59",label:"Minutes",name:t,onChange:function(e){S(parseInt(e.target.value))},value:y.toString(),extraInputProps:L,noLabelMinWidth:!0})})]})]}),(0,w.jsx)(f.ZP,{item:!0,xs:12,className:"".concat(n.validityIndicator," ").concat(n.formFieldRow),children:_?(0,w.jsxs)("div",{className:n.validityText,children:[(0,w.jsxs)("div",{className:n.validityLabel,children:[l," will be available until:"]})," ",(0,w.jsx)("div",{className:n.validTill,children:I.format("MM/DD/YYYY HH:mm:ss")})]}):(0,w.jsx)("div",{className:n.invalidDurationText,children:"Please select a valid duration."})})]})})})),N=t(28948),T=o.lazy((function(){return Promise.resolve().then(t.bind(t,24957))})),_=(0,l.$j)((function(e){var n=e.system;return{distributedSetup:r()(n,"distributedSetup",!1)}}),{setModalSnackMessage:b.MK,setModalErrorSnackMessage:b.zb}),E=(0,d.Z)((function(e){return(0,c.Z)((0,a.Z)((0,a.Z)({shareLinkInfo:{fontSize:13,fontWeight:400},copyShareLink:{display:"flex","@media (max-width: 900px)":{flexFlow:"column",alignItems:"center",justifyContent:"center"}},copyShareLinkInput:{"& div:first-child":{marginTop:0},"@media (max-width: 900px)":{minWidth:250}},copyShareLinkBtn:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{marginTop:10}}},x.ID),x.DF))}))(_((function(e){var n=e.classes,t=e.open,a=e.closeModalAndRefresh,s=e.bucketName,l=e.dataObject,c=e.distributedSetup,d=e.setModalSnackMessage,u=e.setModalErrorSnackMessage,x=(0,o.useState)(""),b=(0,i.Z)(x,2),Z=b[0],y=b[1],k=(0,o.useState)(!0),C=(0,i.Z)(k,2),_=C[0],E=C[1],P=(0,o.useState)(!1),F=(0,i.Z)(P,2),I=F[0],O=F[1],L=(0,o.useState)(""),D=(0,i.Z)(L,2),B=D[0],R=D[1],M=(0,o.useState)(!0),A=(0,i.Z)(M,2),z=A[0],U=A[1],W=(0,o.useState)("null"),G=(0,i.Z)(W,2),K=G[0],H=G[1],J=new Date;return(0,o.useEffect)((function(){if(void 0===l.version_id)return c?(g.Z.invoke("GET","/api/v1/buckets/".concat(s,"/objects?prefix=").concat((0,N.ug)(l.name)).concat(c?"&with_versions=true":"")).then((function(e){var n=r()(e,"objects",[]).find((function(e){return e.is_latest}));H(n?n.version_id:"null")})).catch((function(e){u(e)})),void E(!1)):(H("null"),void E(!1));H(l.version_id||"null"),E(!1)}),[s,l,c,u]),(0,o.useEffect)((function(){if(z&&!_){O(!0),y("");var e=new Date("".concat(B)),n=new Date,t=Math.ceil((e.getTime()-n.getTime())/1e3);t>0&&g.Z.invoke("GET","/api/v1/buckets/".concat(s,"/objects/share?prefix=").concat((0,N.ug)(l.name),"&version_id=").concat(K).concat(""!==B?"&expires=".concat(t,"s"):"")).then((function(e){y(e),O(!1)})).catch((function(e){u(e),y(""),O(!1)}))}}),[l,B,s,z,y,u,c,_,K]),(0,w.jsx)(o.Fragment,{children:(0,w.jsxs)(j.Z,{title:"Share File",modalOpen:t,onClose:function(){a()},children:[_&&(0,w.jsx)(f.ZP,{item:!0,xs:12,children:(0,w.jsx)(p.Z,{})}),!_&&(0,w.jsxs)(o.Fragment,{children:[(0,w.jsxs)(f.ZP,{item:!0,xs:12,className:n.shareLinkInfo,children:["This is a temporary URL with integrated access credentials for sharing objects valid for up to 7 days.",(0,w.jsx)("br",{}),"The temporary URL expires after the configured time limit."]}),(0,w.jsx)(f.ZP,{item:!0,xs:12,className:n.dateContainer,children:(0,w.jsx)(S,{initialDate:J,id:"date",label:"Active for",maxDays:7,onChange:function(e,n){U(n),n?R(e):(R(""),y(""))},entity:"Link"})}),(0,w.jsxs)(f.ZP,{item:!0,xs:12,className:"".concat(n.copyShareLink," ").concat(n.formFieldRow," "),children:[(0,w.jsx)(f.ZP,{item:!0,xs:10,className:n.copyShareLinkInput,children:(0,w.jsx)(v.Z,{content:Z})}),(0,w.jsx)(f.ZP,{item:!0,xs:2,className:n.copyShareLinkBtn,children:(0,w.jsx)(m(),{text:Z,children:(0,w.jsx)(h.Z,{variant:"contained",color:"primary",endIcon:(0,w.jsx)(T,{}),onClick:function(){d("Share URL Copied to clipboard")},disabled:""===Z||I,children:"Copy"})})})]})]})]})})})))},10262:function(e,n,t){var i=t(36222),a=t(23430),o=t(50390),s=t(86509),r=t(4285),l=t(25594),c=t(81378),d=t(3662),u=t(28948),m=t(44977),f=t(62559);n.Z=(0,r.Z)((function(){return(0,s.Z)({iframeContainer:{border:"0px",flex:"1 1 auto",width:"100%",height:250,backgroundColor:"transparent",borderRadius:5,"&.image":{height:500},"&.text":{height:700},"&.audio":{height:150},"&.video":{height:350},"&.fullHeight":{height:"calc(100vh - 185px)"}},iframeBase:{backgroundColor:"#fff"},iframeHidden:{display:"none"}})}))((function(e){var n=e.bucketName,t=e.object,s=e.isFullscreen,r=void 0!==s&&s,h=e.classes,p=(0,o.useState)(!0),x=(0,a.Z)(p,2),b=x[0],g=x[1],j="";if(t){var v=(0,u.ug)(t.name),Z=document.baseURI.replace(window.location.origin,"");j="".concat(window.location.origin).concat(Z,"api/v1/buckets/").concat(n,"/objects/download?preview=true&prefix=").concat(v),t.version_id&&(j=j.concat("&version_id=".concat(t.version_id)))}var y=(0,d.Bg)((null===t||void 0===t?void 0:t.name)||""),k=function(){g(!1)};return(0,f.jsxs)(o.Fragment,{children:[b&&(0,f.jsx)(l.ZP,{item:!0,xs:12,children:(0,f.jsx)(c.Z,{})}),"video"===y&&(0,f.jsx)("video",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:k,children:(0,f.jsx)("source",{src:j,type:"video/mp4"})}),"audio"===y&&(0,f.jsx)("audio",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:k,children:(0,f.jsx)("source",{src:j,type:"audio/mpeg"})}),"image"===y&&(0,f.jsx)("img",{style:{width:"100%",height:"auto"},src:j,alt:"preview",onLoad:k}),"video"!==y&&"audio"!==y&&"image"!==y&&(0,f.jsx)("div",{className:(0,m.Z)(h.iframeBase,(0,i.Z)({},h.iframeHidden,b)),children:(0,f.jsx)("iframe",{src:j,title:"File Preview",allowTransparency:!0,className:"".concat(h.iframeContainer," ").concat(r?"fullHeight":y),onLoad:k,children:"File couldn't be loaded. Please try Download instead"})})]})}))},6511:function(e,n,t){t.r(n);var i=t(50390),a=t(76352),o=t(10262),s=t(77138),r=t(62559);n.default=function(e){var n=e.open,t=e.bucketName,l=e.object,c=e.onClosePreview;return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(a.Z,{modalOpen:n,title:"Preview - ".concat(null===l||void 0===l?void 0:l.name),onClose:c,wideLimit:!1,titleIcon:(0,r.jsx)(s.$3,{}),children:(0,r.jsx)(o.Z,{bucketName:t,object:l})})})}},3662:function(e,n,t){t.d(n,{LR:function(){return i},Bg:function(){return a},P_:function(){return o}});var i=function(e,n,t,i,a,o){var s=document.createElement("a");document.body.appendChild(s);var r="/api/v1/buckets/".concat(e,"/objects/download?prefix=").concat(n);t&&(r=r.concat("&version_id=".concat(t)));var l=new XMLHttpRequest;l.open("GET",r,!0),l.addEventListener("progress",(function(e){var n=Math.round(e.loaded/i*100);a&&a(n)}),!1),l.responseType="blob",l.onreadystatechange=function(){if(4===l.readyState&&200===l.status){var e=l.getResponseHeader("Content-Disposition"),n="download";if(e)n=decodeURIComponent(e).split('"')[1];o&&o();var t=document.createElement("a");t.href=window.URL.createObjectURL(l.response),t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},l.send()},a=function(e){var n=e.split(".").pop();return n?(n=n.toLowerCase(),["jif","jfif","apng","avif","svg","webp","bmp","ico","jpg","jpe","jpeg","gif","png","heic"].includes(n)?"image":["pdf","txt","json"].includes(n)?"text":["wav","mp3","alac","aiff","dsd","pcm"].includes(n)?"audio":["mp4","avi","mpg","webm","mov","flv","mkv","wmv","avchd","mpeg-4"].includes(n)?"video":"none"):"none"},o=function(e){switch(e){case"name":return function(e,n){return e.name.localeCompare(n.name)};case"last_modified":return function(e,n){return new Date(e.last_modified).getTime()-new Date(n.last_modified).getTime()};case"size":return function(e,n){return(e.size||-1)-(n.size||-1)}}}},70758:function(e,n,t){var i=t(18489),a=t(36222),o=t(83738),s=(t(50390),t(86509)),r=t(4285),l=t(95467),c=t(94187),d=t(44977),u=t(62559),m=["classes","children","variant","tooltip"];n.Z=(0,r.Z)((function(e){return(0,s.Z)({root:{padding:8,marginLeft:8,borderWidth:1,borderColor:"#696969",color:"#696969",borderStyle:"solid",borderRadius:3,"& .min-icon":{width:20},"& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.main,borderRadius:3,opacity:.3},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}},contained:{borderColor:e.palette.primary.main,background:e.palette.primary.main,color:"white","& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.dark,borderRadius:3,opacity:.3},"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"}}})}))((function(e){var n=e.classes,t=e.children,s=e.variant,r=void 0===s?"outlined":s,f=e.tooltip,h=(0,o.Z)(e,m),p=(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({},h),{},{className:(0,d.Z)(n.root,(0,a.Z)({},n.contained,"contained"===r)),children:t}));return f&&""!==f?(0,u.jsx)(c.Z,{title:f,children:(0,u.jsx)("span",{children:p})}):p}))},37882:function(e,n,t){var i=t(18489),a=t(50390),o=t(62559);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function t(t){return(0,o.jsx)(a.Suspense,{fallback:n,children:(0,o.jsx)(e,(0,i.Z)({},t))})}return t}},50280:function(e,n,t){var i=t(18489),a=t(50390),o=t(25594),s=t(86509),r=t(4285),l=t(72462),c=t(62559);n.Z=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({},l.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,s=e.content,r=e.multiLine,l=void 0!==r&&r;return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)(o.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,c.jsx)(o.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,c.jsx)(o.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,c.jsx)(o.ZP,{item:!0,xs:12,className:l?n.innerContentMultiline:n.innerContent,children:s})})]})})}))},21639:function(e,n,t){var i=t(23430),a=t(50390),o=t(30324);n.Z=function(e,n){var t=(0,a.useState)(!1),s=(0,i.Z)(t,2),r=s[0],l=s[1];return[r,function(t,i,a){l(!0),o.Z.invoke(t,i,a).then((function(n){l(!1),e(n)})).catch((function(e){l(!1),n(e)}))}]}},60656:function(e,n,t){var i=t(18489),a=t(50390),o=t(84402),s=t(78426),r=t(93085),l=t(7887),c=t(66946),d=t(14476),u=t(95467),m=t(21278),f=t(86509),h=t(4285),p=t(72462),x=t(62559);n.Z=(0,h.Z)((function(e){return(0,f.Z)((0,i.Z)({},p.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,f=e.onClose,h=e.onCancel,p=e.onConfirm,b=e.classes,g=void 0===b?{}:b,j=e.title,v=void 0===j?"":j,Z=e.isLoading,y=e.confirmationContent,k=e.cancelText,C=void 0===k?"Cancel":k,w=e.confirmText,S=void 0===w?"Confirm":w,N=e.confirmButtonProps,T=void 0===N?{}:N,_=e.cancelButtonProps,E=void 0===_?{}:_,P=e.titleIcon,F=void 0===P?null:P;return(0,x.jsxs)(o.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&f()},className:g.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,x.jsxs)(s.Z,{className:g.title,children:[(0,x.jsxs)("div",{className:g.titleText,children:[F," ",v]}),(0,x.jsx)("div",{className:g.closeContainer,children:(0,x.jsx)(u.Z,{"aria-label":"close",className:g.closeButton,onClick:f,disableRipple:!0,size:"small",children:(0,x.jsx)(m.Z,{})})})]}),(0,x.jsx)(r.Z,{className:g.content,children:y}),(0,x.jsxs)(l.Z,{className:g.actions,children:[(0,x.jsx)(c.Z,(0,i.Z)((0,i.Z)({className:g.cancelButton,onClick:h||f,disabled:Z,type:"button"},E),{},{variant:"outlined",color:"primary",children:C})),(0,x.jsx)(d.Z,(0,i.Z)((0,i.Z)({className:g.confirmButton,type:"button",onClick:p,loading:Z,disabled:Z,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,x.jsx)(a.Fragment,{}),autoFocus:!0},T),{},{children:S}))]})]})}))},35721:function(e,n,t){t(50390);var i=t(34424),a=t(56805),o=t(25594),s=t(86509),r=t(4285),l=t(35477),c=t(95467),d=t(26805),u=t(44078),m=t(5265),f=t(77138),h=t(62559),p={toggleList:m.kQ},x=(0,i.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),p);n.Z=x((0,r.Z)((function(e){return(0,s.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var n=e.classes,t=e.label,i=e.actions,s=e.sidebarOpen,r=e.operatorMode,m=e.managerObjects,p=e.toggleList;return(0,h.jsxs)(o.ZP,{container:!0,className:"".concat(n.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,h.jsx)(a.Z,{display:{xs:"block",sm:"block",md:"none"},children:(0,h.jsx)(o.ZP,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),(0,h.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:6,className:n.label,children:[!s&&(0,h.jsx)("div",{className:n.logo,children:r?(0,h.jsx)(d.Z,{}):(0,h.jsx)(u.Z,{})}),(0,h.jsx)(l.Z,{variant:"h4",className:n.labelStyle,children:t})]}),(0,h.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:6,className:n.rightMenu,children:[i&&i,m&&m.length>0&&(0,h.jsx)(c.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){p()},size:"large",children:(0,h.jsx)(f.gx,{})})]})]})})))},62702:function(e,n,t){t(50390);var i=t(25594),a=t(86509),o=t(4285),s=t(62559);n.Z=(0,o.Z)((function(e){return(0,a.Z)({headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},screenTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column"}},rightItems:{display:"flex",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.icon,a=e.title,o=e.subTitle,r=e.actions,l=e.className;return(0,s.jsx)(i.ZP,{container:!0,children:(0,s.jsxs)(i.ZP,{item:!0,xs:12,className:"".concat(n.screenTitle," ").concat(l||""),children:[(0,s.jsxs)("div",{className:n.leftItems,children:[t?(0,s.jsx)("div",{className:n.headerBarIcon,children:t}):null,(0,s.jsxs)("div",{className:n.titleColumn,children:[(0,s.jsx)("h1",{style:{margin:0},children:a}),(0,s.jsx)("span",{className:n.headerBarSubheader,children:o})]})]}),(0,s.jsx)("div",{className:n.rightItems,children:r})]})})}))},23165:function(e,n,t){var i=t(36222),a=t(18489),o=(t(50390),t(65771)),s=t(13336),r=t(12066),l=t(4285),c=t(86509),d=t(72462),u=t(62559);n.Z=(0,l.Z)((function(e){return(0,c.Z)({searchField:(0,a.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,a=e.classes,l=e.onChange,c=e.adornmentPosition,d=void 0===c?"end":c,m=e.overrideClass,f=(0,i.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(o.Z,{position:d,className:a.adornment,children:(0,u.jsx)(s.Z,{})}));return(0,u.jsx)(r.Z,{placeholder:t,className:m||a.searchField,id:"search-resource",label:"",InputProps:f,onChange:function(e){l(e.target.value)},variant:"standard"})}))},86458:function(e,n,t){t.r(n);var i=t(18489),a=(t(50390),t(19787)),o=t(62559);n.default=function(e){var n=e.label,t=void 0===n?null:n,s=e.value,r=void 0===s?"-":s,l=e.orientation,c=void 0===l?"column":l,d=e.stkProps,u=void 0===d?{}:d,m=e.lblProps,f=void 0===m?{}:m,h=e.valProps,p=void 0===h?{}:h;return(0,o.jsxs)(a.Z,(0,i.Z)((0,i.Z)({direction:{xs:"column",sm:c}},u),{},{children:[(0,o.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:600}},f),{},{children:t})),(0,o.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:500}},p),{},{children:r}))]}))}},57647:function(e,n,t){var i=t(18489),a=t(23430),o=t(50390),s=t(56805),r=t(49044),l=t(97227),c=t(74564),d=t(669),u=t(4285),m=t(88669),f=t(86509),h=t(13512),p=t(62559),x={minHeight:60};n.Z=(0,u.Z)((function(e){return(0,f.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,u=e.selectedTab,f=void 0===u?"0":u,b=e.routes,g=e.isRouteTabs,j=o.useState(f),v=(0,a.Z)(j,2),Z=v[0],y=v[1],k=(0,m.Z)(),C=(0,h.Z)(k.breakpoints.down("md")),w=[],S=[];return n?(n.forEach((function(e){w.push(e.tabConfig),S.push(e.content)})),(0,p.jsx)(l.ZP,{value:"".concat(Z),children:(0,p.jsxs)(s.Z,{className:t.tabsContainer,children:[(0,p.jsx)(s.Z,{className:t.tabsHeaderContainer,children:(0,p.jsx)(c.Z,{onChange:function(e,n){y(n)},orientation:C?"horizontal":"vertical",variant:C?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:w.map((function(e,n){return e?(0,p.jsx)(r.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:x},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,p.jsxs)(s.Z,{className:t.tabContentContainer,children:[g?null:S.map((function(e,n){return(0,p.jsx)(d.Z,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,p.jsx)("div",{className:t.tabPanel,children:b}):null]})]})})):null}))}}]);
//# sourceMappingURL=671.42c159df.chunk.js.map