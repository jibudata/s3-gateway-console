"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6645],{46645:function(e,n,t){t.r(n);var r=t(23430),o=t(18489),a=t(50390),s=t(34424),i=t(86509),c=t(4285),l=t(72462),u=t(25594),d=t(44149),Z=t(28948),f=t(30324),p=t(13089),h=t(62559),v=(0,s.$j)((function(e){return{loadingTenant:e.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:d.Ih});n.default=(0,c.Z)((function(e){return(0,i.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({tableWrapper:{height:"450px"}},l.OR),l.qg),l.VX),(0,l.Bz)(e.spacing(4))))}))(v((function(e){var n=e.classes,t=e.match,o=e.loadingTenant,s=e.setErrorSnackMessage,i=(0,a.useState)([]),c=(0,r.Z)(i,2),l=c[0],d=c[1],v=(0,a.useState)(!0),x=(0,r.Z)(v,2),m=x[0],j=x[1],g=t.params.tenantName,b=t.params.tenantNamespace;return(0,a.useEffect)((function(){o&&j(!0)}),[o]),(0,a.useEffect)((function(){m&&f.Z.invoke("GET","/api/v1/namespaces/".concat(b,"/tenants/").concat(g,"/events")).then((function(e){for(var n=0;n<e.length;n++){var t=Date.now()/1e3|0;e[n].seen=(0,Z.v1)((t-e[n].last_seen).toString())}d(e),j(!1)})).catch((function(e){s(e),j(!1)}))}),[m,b,g,s]),(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)("h1",{className:n.sectionTitle,children:"Events"}),(0,h.jsx)(u.ZP,{item:!0,xs:12,children:(0,h.jsx)(p.Z,{events:l,loading:m})})]})})))},13089:function(e,n,t){t.d(n,{Z:function(){return z}});var r=t(23430),o=t(50390),a=t(86509),s=t(4285),i=t(81378),c=t(4182),l=t(35044),u=t(73481),d=t(77555),Z=t(29399),f=t(56805),p=t(55600),h=t(35477),v=t(33967),x=t(49535),m=t(32793),j=t(1048),g=t(44977),b=t(50076),M=t(15573),T=t(8208),w=t(10594);function k(e){return(0,w.Z)("MuiTableContainer",e)}(0,t(43349).Z)("MuiTableContainer",["root"]);var y=t(62559),C=["className","component"],S=(0,T.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,n){return n.root}})({width:"100%",overflowX:"auto"}),N=o.forwardRef((function(e,n){var t=(0,M.Z)({props:e,name:"MuiTableContainer"}),r=t.className,o=t.component,a=void 0===o?"div":o,s=(0,j.Z)(t,C),i=(0,m.Z)({},t,{component:a}),c=function(e){var n=e.classes;return(0,b.Z)({root:["root"]},k,n)}(i);return(0,y.jsx)(S,(0,m.Z)({ref:n,as:a,className:(0,g.Z)(c.root,r),ownerState:i},s))})),R=t(46981),E=function(e){var n=e.event,t=o.useState(!1),a=(0,r.Z)(t,2),s=a[0],i=a[1];return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsxs)(Z.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,y.jsx)(u.Z,{component:"th",scope:"row",onClick:function(){return i(!s)},children:n.event_type}),(0,y.jsx)(u.Z,{onClick:function(){return i(!s)},children:n.reason}),(0,y.jsx)(u.Z,{onClick:function(){return i(!s)},children:n.seen}),(0,y.jsx)(u.Z,{onClick:function(){return i(!s)},children:n.message.length>=30?"".concat(n.message.substr(0,30),"..."):n.message}),(0,y.jsx)(u.Z,{onClick:function(){return i(!s)},children:s?(0,y.jsx)(x.Z,{}):(0,y.jsx)(v.Z,{})})]}),(0,y.jsx)(Z.Z,{children:(0,y.jsx)(u.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,y.jsx)(p.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,y.jsx)(f.Z,{sx:{margin:1},children:(0,y.jsx)(h.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})},z=(0,s.Z)((function(e){return(0,a.Z)({events:{"& .MuiTypography-root":{fontSize:14},"& .Mui-expanded":{"& .eventMessage":{display:"none"}}}})}))((function(e){e.classes;var n=e.events;return e.loading?(0,y.jsx)(i.Z,{}):(0,y.jsx)(N,{component:R.Z,children:(0,y.jsxs)(c.Z,{"aria-label":"collapsible table",children:[(0,y.jsx)(d.Z,{children:(0,y.jsxs)(Z.Z,{children:[(0,y.jsx)(u.Z,{children:"Type"}),(0,y.jsx)(u.Z,{children:"Reason"}),(0,y.jsx)(u.Z,{children:"Age"}),(0,y.jsx)(u.Z,{children:"Message"}),(0,y.jsx)(u.Z,{})]})}),(0,y.jsx)(l.Z,{children:n.map((function(e){return(0,y.jsx)(E,{event:e},"".concat(e.event_type,"-").concat(e.seen))}))})]})})}))},33967:function(e,n,t){var r=t(64119);n.Z=void 0;var o=r(t(66830)),a=t(62559),s=(0,o.default)((0,a.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");n.Z=s},49535:function(e,n,t){var r=t(64119);n.Z=void 0;var o=r(t(66830)),a=t(62559),s=(0,o.default)((0,a.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");n.Z=s},77555:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(32793),o=t(1048),a=t(50390),s=t(44977),i=t(50076),c=t(29413),l=t(15573),u=t(8208),d=t(10594);function Z(e){return(0,d.Z)("MuiTableHead",e)}(0,t(43349).Z)("MuiTableHead",["root"]);var f=t(62559),p=["className","component"],h=(0,u.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),v={variant:"head"},x="thead",m=a.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiTableHead"}),a=t.className,u=t.component,d=void 0===u?x:u,m=(0,o.Z)(t,p),j=(0,r.Z)({},t,{component:d}),g=function(e){var n=e.classes;return(0,i.Z)({root:["root"]},Z,n)}(j);return(0,f.jsx)(c.Z.Provider,{value:v,children:(0,f.jsx)(h,(0,r.Z)({as:d,className:(0,s.Z)(g.root,a),ref:n,role:d===x?null:"rowgroup",ownerState:j},m))})}))}}]);
//# sourceMappingURL=6645.c41c6009.chunk.js.map