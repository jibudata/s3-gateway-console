{"version":3,"file":"static/js/2603.68894199.chunk.js","mappings":"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","sources":["screens/Console/Buckets/BucketDetails/AddAccessRule.tsx","screens/Console/Buckets/BucketDetails/BrowserHandler.tsx","screens/Console/Buckets/ListBuckets/UploadPermissionUtils.ts","screens/Console/ObjectBrowser/BrowserBreadcrumbs.tsx","screens/Console/Buckets/ListBuckets/UploadFilesButton.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DetailsListPanel.tsx","screens/Console/Common/FormComponents/DateSelector/utils.ts","screens/Console/Common/FormComponents/DateSelector/DateSelector.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SetRetention.tsx","utils/validationFunctions.ts","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DeleteObject.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SetLegalHoldModal.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/ObjectMetaData.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/IconWithLabel.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/utils.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/TagsModal.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/InspectObject.tsx","screens/Console/ObjectBrowser/utils.ts","screens/Console/ObjectBrowser/RenameLongFilename.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ObjectDetailPanel.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/RestoreFileVersion.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/SpecificVersionPill.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/FileVersionItem.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/DeleteNonCurrent.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/DeleteSelectedVersions.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/VersionsNavigator.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjectsHelpers.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjectsTable.tsx","screens/Console/ObjectBrowser/objectBrowserThunks.ts","screens/Console/ObjectBrowser/FilterObjectsSB.tsx","screens/Console/Buckets/ListBuckets/Objects/ListObjects/ListObjects.tsx","screens/Console/ObjectBrowser/OBHeader.tsx","screens/Console/Common/FormComponents/DaysSelector/DaysSelector.tsx","screens/Console/Buckets/ListBuckets/Objects/ObjectDetails/ShareFile.tsx","screens/Console/Buckets/ListBuckets/Objects/Preview/PreviewFileContent.tsx","screens/Console/Buckets/ListBuckets/Objects/Preview/PreviewFileModal.tsx","screens/Console/Buckets/ListBuckets/Objects/utils.ts","screens/Console/Common/Components/withSuspense.tsx","screens/Console/Common/FormComponents/CheckboxWrapper/CheckboxWrapper.tsx","screens/Console/Common/FormComponents/FormSwitchWrapper/FormSwitchWrapper.tsx","screens/Console/Common/FormComponents/InputBoxWrapper/InputBoxWrapper.tsx","screens/Console/Common/FormComponents/SelectWrapper/SelectWrapper.tsx","screens/Console/Tools/KeyRevealer.tsx","utils/wsUtils.ts"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState, useEffect } from \"react\";\nimport ModalWrapper from \"../../Common/ModalWrapper/ModalWrapper\";\nimport { Grid } from \"@mui/material\";\nimport { AddAccessRuleIcon, Button } from \"mds\";\nimport InputBoxWrapper from \"../../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n} from \"../../Common/FormComponents/common/styleLibrary\";\n\nimport SelectWrapper from \"../../Common/FormComponents/SelectWrapper/SelectWrapper\";\nimport {\n  setErrorSnackMessage,\n  setSnackBarMessage,\n} from \"../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../store\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\n\ninterface IAddAccessRule {\n  classes: any;\n  modalOpen: boolean;\n  onClose: () => any;\n  bucket: string;\n  prefilledRoute?: string;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n  });\n\nconst AddAccessRule = ({\n  modalOpen,\n  onClose,\n  classes,\n  bucket,\n  prefilledRoute,\n}: IAddAccessRule) => {\n  const dispatch = useAppDispatch();\n\n  const [prefix, setPrefix] = useState(\"\");\n  const [selectedAccess, setSelectedAccess] = useState<any>(\"readonly\");\n\n  useEffect(() => {\n    if (prefilledRoute) {\n      setPrefix(prefilledRoute);\n    }\n  }, [prefilledRoute]);\n\n  const accessOptions = [\n    { label: \"readonly\", value: \"readonly\" },\n    { label: \"writeonly\", value: \"writeonly\" },\n    { label: \"readwrite\", value: \"readwrite\" },\n  ];\n\n  const resetForm = () => {\n    setPrefix(\"\");\n    setSelectedAccess(\"readonly\");\n  };\n\n  const createProcess = () => {\n    api.bucket\n      .setAccessRuleWithBucket(bucket, {\n        prefix: prefix,\n        access: selectedAccess,\n      })\n      .then((res: any) => {\n        dispatch(setSnackBarMessage(\"Access Rule added successfully\"));\n        onClose();\n      })\n      .catch((err) => {\n        dispatch(setErrorSnackMessage(errorToHandler(err)));\n        onClose();\n      });\n  };\n\n  return (\n    <ModalWrapper\n      modalOpen={modalOpen}\n      title=\"Add Anonymous Access Rule\"\n      onClose={onClose}\n      titleIcon={<AddAccessRuleIcon />}\n    >\n      <Grid container>\n        <Grid item xs={12} className={classes.formFieldRow}>\n          <InputBoxWrapper\n            value={prefix}\n            label={\"Prefix\"}\n            id={\"prefix\"}\n            name={\"prefix\"}\n            placeholder={\"Enter Prefix\"}\n            onChange={(e) => {\n              setPrefix(e.target.value);\n            }}\n            tooltip={\n              \"Enter '/' to apply the rule to all prefixes and objects at the bucket root. Do not include the wildcard asterisk '*' as part of the prefix *unless* it is an explicit part of the prefix name. The Console automatically appends an asterisk to the appropriate sections of the resulting IAM policy.\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <SelectWrapper\n            id=\"access\"\n            name=\"Access\"\n            onChange={(e) => {\n              setSelectedAccess(e.target.value);\n            }}\n            label=\"Access\"\n            value={selectedAccess}\n            options={accessOptions}\n            disabled={false}\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"clear\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Clear\"}\n          />\n\n          <Button\n            id={\"add-access-save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={prefix.trim() === \"\"}\n            onClick={createProcess}\n            label={\"Save\"}\n          />\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(AddAccessRule);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useCallback, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { AppState, useAppDispatch } from \"../../../../store\";\nimport { containerForHeader } from \"../../Common/FormComponents/common/styleLibrary\";\n\nimport ListObjects from \"../ListBuckets/Objects/ListObjects/ListObjects\";\nimport { IAM_SCOPES } from \"../../../../common/SecureComponent/permissions\";\nimport {\n  errorInConnection,\n  newMessage,\n  resetMessages,\n  setIsOpeningOD,\n  setIsVersioned,\n  setLoadingLocking,\n  setLoadingObjectInfo,\n  setLoadingObjects,\n  setLoadingRecords,\n  setLoadingVersioning,\n  setLoadingVersions,\n  setLockingEnabled,\n  setObjectDetailsView,\n  setRecords,\n  setSelectedObjectView,\n  setSimplePathHandler,\n  setVersionsModeEnabled,\n} from \"../../ObjectBrowser/objectBrowserSlice\";\nimport hasPermission from \"../../../../common/SecureComponent/accessControl\";\nimport { IMessageEvent } from \"websocket\";\nimport { wsProtocol } from \"../../../../utils/wsUtils\";\nimport {\n  WebsocketRequest,\n  WebsocketResponse,\n} from \"../ListBuckets/Objects/ListObjects/types\";\nimport { decodeURLString, encodeURLString } from \"../../../../common/utils\";\nimport { permissionItems } from \"../ListBuckets/Objects/utils\";\nimport { setErrorSnackMessage } from \"../../../../systemSlice\";\nimport OBHeader from \"../../ObjectBrowser/OBHeader\";\nimport { api } from \"api\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...containerForHeader,\n  });\n\nlet objectsWS: WebSocket;\nlet currentRequestID: number = 0;\nlet errorCounter: number = 0;\nlet wsInFlight: boolean = false;\n\nconst initWSConnection = (\n  openCallback?: () => void,\n  onMessageCallback?: (message: IMessageEvent) => void,\n  connErrorCallback?: (message: string) => void\n) => {\n  if (wsInFlight) {\n    return;\n  }\n  wsInFlight = true;\n  const url = new URL(window.location.toString());\n  const isDev = process.env.NODE_ENV === \"development\";\n  const port = isDev ? \"9090\" : url.port;\n\n  // check if we are using base path, if not this always is `/`\n  const baseLocation = new URL(document.baseURI);\n  const baseUrl = baseLocation.pathname;\n\n  const wsProt = wsProtocol(url.protocol);\n\n  objectsWS = new WebSocket(\n    `${wsProt}://${url.hostname}:${port}${baseUrl}ws/objectManager`\n  );\n\n  objectsWS.onopen = () => {\n    wsInFlight = false;\n    if (openCallback) {\n      openCallback();\n    }\n    errorCounter = 0;\n  };\n\n  if (onMessageCallback) {\n    objectsWS.onmessage = onMessageCallback;\n  }\n\n  const reconnectFn = () => {\n    if (errorCounter <= 5) {\n      initWSConnection(() => {}, onMessageCallback, connErrorCallback);\n      errorCounter += 1;\n    } else {\n      console.error(\n        \"Websocket not available. Please review that your environment settings are enabled to allow websocket connections and that requests are made from the same origin.\"\n      );\n      if (connErrorCallback) {\n        connErrorCallback(\n          \"Couldn't establish WebSocket connection. Please review your configuration and try again.\"\n        );\n      }\n    }\n  };\n\n  objectsWS.onclose = () => {\n    wsInFlight = false;\n    console.warn(\"Websocket Disconnected. Attempting Reconnection...\");\n\n    // We reconnect after 3 seconds\n    setTimeout(reconnectFn, 3000);\n  };\n\n  objectsWS.onerror = () => {\n    wsInFlight = false;\n    console.error(\"Error in websocket connection. Attempting reconnection...\");\n    // Onclose will be triggered by specification, reconnect function will be executed there to avoid duplicated requests\n  };\n};\n\nconst BrowserHandler = () => {\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const location = useLocation();\n\n  const loadingVersioning = useSelector(\n    (state: AppState) => state.objectBrowser.loadingVersioning\n  );\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled\n  );\n  const rewindDate = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.dateToRewind\n  );\n  const showDeleted = useSelector(\n    (state: AppState) => state.objectBrowser.showDeleted\n  );\n  const allowResources = useSelector(\n    (state: AppState) => state.console.session.allowResources\n  );\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects\n  );\n  const loadingLocking = useSelector(\n    (state: AppState) => state.objectBrowser.loadingLocking\n  );\n  const loadRecords = useSelector(\n    (state: AppState) => state.objectBrowser.loadRecords\n  );\n  const selectedInternalPaths = useSelector(\n    (state: AppState) => state.objectBrowser.selectedInternalPaths\n  );\n  const simplePath = useSelector(\n    (state: AppState) => state.objectBrowser.simplePath\n  );\n  const isOpeningOD = useSelector(\n    (state: AppState) => state.objectBrowser.isOpeningObjectDetail\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n\n  const bucketName = params.bucketName || \"\";\n  const pathSegment = location.pathname.split(`/browser/${bucketName}/`);\n  const internalPaths = pathSegment.length === 2 ? pathSegment[1] : \"\";\n\n  /*WS Request Handlers*/\n  const onMessageCallBack = useCallback(\n    (message: IMessageEvent) => {\n      // reset start status\n      dispatch(setLoadingObjects(false));\n\n      const response: WebsocketResponse = JSON.parse(message.data.toString());\n      if (currentRequestID === response.request_id) {\n        // If response is not from current request, we can omit\n        if (response.request_id !== currentRequestID) {\n          return;\n        }\n\n        if (\n          response.error ===\n          \"The Access Key Id you provided does not exist in our records.\"\n        ) {\n          // Session expired.\n          window.location.reload();\n        } else if (response.error === \"Access Denied.\") {\n          const internalPathsPrefix = response.prefix;\n          let pathPrefix = \"\";\n\n          if (internalPathsPrefix) {\n            const decodedPath = decodeURLString(internalPathsPrefix);\n\n            pathPrefix = decodedPath.endsWith(\"/\")\n              ? decodedPath\n              : decodedPath + \"/\";\n          }\n\n          const permitItems = permissionItems(\n            response.bucketName || bucketName,\n            pathPrefix,\n            allowResources || []\n          );\n\n          if (!permitItems || permitItems.length === 0) {\n            dispatch(\n              setErrorSnackMessage({\n                errorMessage: response.error,\n                detailedError: response.error,\n              })\n            );\n          } else {\n            dispatch(setRecords(permitItems));\n          }\n\n          return;\n        }\n\n        // This indicates final messages is received.\n        if (response.request_end) {\n          dispatch(setLoadingObjects(false));\n          dispatch(setLoadingRecords(false));\n          return;\n        }\n\n        if (response.data) {\n          dispatch(newMessage(response.data));\n        }\n      }\n    },\n    [dispatch, allowResources, bucketName]\n  );\n\n  const initWSRequest = useCallback(\n    (path: string, date: Date) => {\n      if (objectsWS && objectsWS.readyState === 1) {\n        try {\n          const newRequestID = currentRequestID + 1;\n          dispatch(resetMessages());\n          dispatch(errorInConnection(false));\n\n          const request: WebsocketRequest = {\n            bucket_name: bucketName,\n            prefix: encodeURLString(path),\n            mode: rewindEnabled || showDeleted ? \"rewind\" : \"objects\",\n            date: date.toISOString(),\n            request_id: newRequestID,\n          };\n\n          objectsWS.send(JSON.stringify(request));\n\n          // We store the new ID for the requestID\n          currentRequestID = newRequestID;\n        } catch (e) {\n          console.error(e);\n        }\n      } else {\n        // Socket is disconnected, we request reconnection but will need to recreate call\n        const dupRequest = () => {\n          initWSRequest(path, date);\n        };\n\n        const fatalWSError = (message: string) => {\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: message,\n              detailedError: message,\n            })\n          );\n          dispatch(errorInConnection(true));\n        };\n\n        initWSConnection(dupRequest, onMessageCallBack, fatalWSError);\n      }\n    },\n    [bucketName, rewindEnabled, showDeleted, dispatch, onMessageCallBack]\n  );\n\n  useEffect(() => {\n    // when a bucket param changes, (i.e /browser/:bucketName),  re-init e.g with KBar, this should not apply for resources prefixes.\n    const permitItems = permissionItems(bucketName, \"\", allowResources || []);\n\n    if (bucketName && (!permitItems || permitItems.length === 0)) {\n      dispatch(resetMessages());\n      dispatch(setLoadingRecords(true));\n      dispatch(setLoadingObjects(true));\n      initWSRequest(\"\", new Date());\n    }\n  }, [bucketName, dispatch, initWSRequest, allowResources]);\n\n  useEffect(() => {\n    return () => {\n      const request: WebsocketRequest = {\n        mode: \"cancel\",\n        request_id: currentRequestID,\n      };\n\n      if (objectsWS && objectsWS.readyState === 1) {\n        objectsWS.send(JSON.stringify(request));\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const decodedIPaths = decodeURLString(internalPaths);\n\n    dispatch(setLoadingVersioning(true));\n\n    if (decodedIPaths.endsWith(\"/\") || decodedIPaths === \"\") {\n      dispatch(setObjectDetailsView(false));\n      dispatch(setSelectedObjectView(null));\n      dispatch(\n        setSimplePathHandler(decodedIPaths === \"\" ? \"/\" : decodedIPaths)\n      );\n      dispatch(setLoadingLocking(true));\n    } else {\n      dispatch(setLoadingObjectInfo(true));\n      dispatch(setObjectDetailsView(true));\n      dispatch(setLoadingVersions(true));\n      dispatch(\n        setSelectedObjectView(\n          `${decodedIPaths ? `${encodeURLString(decodedIPaths)}` : ``}`\n        )\n      );\n      dispatch(\n        setSimplePathHandler(\n          `${decodedIPaths.split(\"/\").slice(0, -1).join(\"/\")}/`\n        )\n      );\n    }\n  }, [bucketName, internalPaths, rewindDate, rewindEnabled, dispatch]);\n\n  // Direct file access effect / prefix\n  useEffect(() => {\n    if (!loadingObjects && !loadRecords && !rewindEnabled && !isOpeningOD) {\n      // No requests are in progress, We review current path, if it doesn't end in '/' and current list is empty then we trigger a new request.\n      const decodedInternalPaths = decodeURLString(internalPaths);\n\n      if (\n        !decodedInternalPaths.endsWith(\"/\") &&\n        simplePath !== decodedInternalPaths &&\n        decodedInternalPaths !== \"\"\n      ) {\n        setLoadingRecords(true);\n        const parentPath = `${decodedInternalPaths\n          .split(\"/\")\n          .slice(0, -1)\n          .join(\"/\")}/`;\n\n        initWSRequest(parentPath, new Date());\n      }\n    }\n    dispatch(setIsOpeningOD(false));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    loadingObjects,\n    loadRecords,\n    dispatch,\n    internalPaths,\n    initWSRequest,\n    rewindEnabled,\n    simplePath,\n  ]);\n\n  const displayListObjects =\n    hasPermission(bucketName, [\n      IAM_SCOPES.S3_LIST_BUCKET,\n      IAM_SCOPES.S3_ALL_LIST_BUCKET,\n    ]) || anonymousMode;\n\n  // Common objects list\n  useEffect(() => {\n    // begin watch if bucketName in bucketList and start pressed\n    if (loadingObjects && displayListObjects) {\n      let pathPrefix = \"\";\n      if (internalPaths) {\n        const decodedPath = decodeURLString(internalPaths);\n\n        // internalPaths are selected (file details), we split and get parent folder\n        if (selectedInternalPaths === internalPaths) {\n          pathPrefix = `${decodeURLString(internalPaths)\n            .split(\"/\")\n            .slice(0, -1)\n            .join(\"/\")}/`;\n        } else {\n          pathPrefix = decodedPath.endsWith(\"/\")\n            ? decodedPath\n            : decodedPath + \"/\";\n        }\n      }\n\n      let requestDate = new Date();\n\n      if (rewindEnabled && rewindDate) {\n        requestDate = new Date(rewindDate);\n      }\n      initWSRequest(pathPrefix, requestDate);\n    } else {\n      dispatch(setLoadingObjects(false));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    loadingObjects,\n    internalPaths,\n    dispatch,\n    rewindDate,\n    rewindEnabled,\n    displayListObjects,\n    initWSRequest,\n  ]);\n\n  useEffect(() => {\n    dispatch(setVersionsModeEnabled({ status: false }));\n  }, [internalPaths, dispatch]);\n\n  useEffect(() => {\n    if (loadingVersioning && !anonymousMode) {\n      if (displayListObjects) {\n        api.buckets\n          .getBucketVersioning(bucketName)\n          .then((res) => {\n            dispatch(setIsVersioned(res.data));\n            dispatch(setLoadingVersioning(false));\n          })\n          .catch((err) => {\n            console.error(\n              \"Error Getting Object Versioning Status: \",\n              err.error.detailedMessage\n            );\n            dispatch(setLoadingVersioning(false));\n          });\n      } else {\n        dispatch(setLoadingVersioning(false));\n        dispatch(resetMessages());\n      }\n    }\n  }, [\n    bucketName,\n    loadingVersioning,\n    dispatch,\n    displayListObjects,\n    anonymousMode,\n  ]);\n\n  useEffect(() => {\n    if (loadingLocking) {\n      if (displayListObjects) {\n        api.buckets\n          .getBucketObjectLockingStatus(bucketName)\n          .then((res) => {\n            dispatch(setLockingEnabled(res.data.object_locking_enabled));\n            dispatch(setLoadingLocking(false));\n          })\n          .catch((err) => {\n            console.error(\n              \"Error Getting Object Locking Status: \",\n              err.error.detailedMessage\n            );\n            dispatch(setLoadingLocking(false));\n          });\n      } else {\n        dispatch(resetMessages());\n        dispatch(setLoadingLocking(false));\n      }\n    }\n  }, [bucketName, loadingLocking, dispatch, displayListObjects]);\n\n  return (\n    <Fragment>\n      {!anonymousMode && <OBHeader bucketName={bucketName} />}\n      <ListObjects />\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(BrowserHandler);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const extractFileExtn = (resourceStr: string) => {\n  //file extensions may contain query string. so exclude query strings !\n  return (resourceStr.match(/\\.([^.]*?)(?=\\?|#|$)/) || [])[1];\n};\nexport const getPolicyAllowedFileExtensions = (\n  sessionGrants: Record<string, string[]>,\n  uploadPath: string,\n  scopes: string[] = []\n) => {\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    uploadPath,\n    scopes\n  );\n\n  //get acceptable files if any in the policy.\n  const allowedFileExtensions = sessionGrantWildCards.reduce(\n    (acc: string[], cv: string) => {\n      const extension: string = extractFileExtn(cv);\n      if (extension) {\n        acc.push(`.${extension}`); //strict extension matching.\n      }\n      return acc;\n    },\n    []\n  );\n\n  const uniqueExtensions = [...new Set(allowedFileExtensions)];\n  return uniqueExtensions.join(\",\");\n};\n\n// The resource should not have the extensions (*.ext) for the hasPermission to work.\n// so sanitize this and also use to extract the allowed extensions outside of permission check.\nexport const getSessionGrantsWildCard = (\n  sessionGrants: Record<string, string[]>,\n  uploadPath: string,\n  scopes: string[] = []\n) => {\n  //get only the path matching grants to reduce processing.\n  const grantsWithExtension = Object.keys(sessionGrants).reduce(\n    (acc: Record<string, string[]>, grantKey: string) => {\n      if (extractFileExtn(grantKey) && grantKey.includes(uploadPath)) {\n        acc[grantKey] = sessionGrants[grantKey];\n      }\n      return acc;\n    },\n    {}\n  );\n\n  const checkPathsForPermission = (sessionGrantKey: string) => {\n    const grantActions = grantsWithExtension[sessionGrantKey];\n    const hasScope = grantActions.some((actionKey) =>\n      scopes.find((scopeKey) => {\n        let wildCardMatch = false;\n        const hasWildCard = scopeKey.indexOf(\"*\") !== -1;\n        if (hasWildCard) {\n          const scopeActionKey = scopeKey.substring(0, scopeKey.length - 1);\n\n          wildCardMatch = actionKey.includes(scopeActionKey);\n        }\n\n        return wildCardMatch || actionKey === scopeKey;\n      })\n    );\n\n    const sessionGrantKeyPath = sessionGrantKey.substring(\n      0,\n      sessionGrantKey.indexOf(\"/*.\") //start of extension part.\n    );\n    const isUploadPathMatching =\n      sessionGrantKeyPath === `arn:aws:s3:::${uploadPath}`;\n\n    const hasGrant =\n      isUploadPathMatching && sessionGrantKey !== \"arn:aws:s3:::*\";\n\n    return hasScope && hasGrant;\n  };\n\n  return Object.keys(grantsWithExtension).filter(checkPathsForPermission);\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { objectBrowserCommon } from \"../Common/FormComponents/common/styleLibrary\";\nimport { encodeURLString } from \"../../../common/utils\";\nimport { Button, CopyIcon, NewPathIcon, Tooltip, Breadcrumbs } from \"mds\";\nimport { hasPermission } from \"../../../common/SecureComponent\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../common/SecureComponent/permissions\";\nimport withSuspense from \"../Common/Components/withSuspense\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport { setVersionsModeEnabled } from \"./objectBrowserSlice\";\nimport { getSessionGrantsWildCard } from \"../Buckets/ListBuckets/UploadPermissionUtils\";\n\nconst CreatePathModal = withSuspense(\n  React.lazy(\n    () => import(\"../Buckets/ListBuckets/Objects/ListObjects/CreatePathModal\")\n  )\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...objectBrowserCommon,\n    slashSpacingStyle: {\n      margin: \"0 5px\",\n    },\n  })\n);\n\ninterface IObjectBrowser {\n  bucketName: string;\n  internalPaths: string;\n  hidePathButton?: boolean;\n  additionalOptions?: React.ReactNode;\n}\n\nconst BrowserBreadcrumbs = ({\n  bucketName,\n  internalPaths,\n  hidePathButton,\n  additionalOptions,\n}: IObjectBrowser) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const classes = useStyles();\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled\n  );\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode\n  );\n  const versionedFile = useSelector(\n    (state: AppState) => state.objectBrowser.versionedFile\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n\n  const [createFolderOpen, setCreateFolderOpen] = useState<boolean>(false);\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {}\n  );\n\n  let paths = internalPaths;\n\n  if (internalPaths !== \"\") {\n    paths = `/${internalPaths}`;\n  }\n\n  const splitPaths = paths.split(\"/\").filter((path) => path !== \"\");\n  const lastBreadcrumbsIndex = splitPaths.length - 1;\n\n  const pathToCheckPerms = paths || bucketName;\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    pathToCheckPerms,\n    putObjectPermScopes\n  );\n\n  const canCreatePath =\n    hasPermission(\n      [pathToCheckPerms, ...sessionGrantWildCards],\n      putObjectPermScopes\n    ) || anonymousMode;\n\n  let breadcrumbsMap = splitPaths.map((objectItem: string, index: number) => {\n    const subSplit = `${splitPaths.slice(0, index + 1).join(\"/\")}/`;\n    const route = `/browser/${bucketName}/${\n      subSplit ? `${encodeURLString(subSplit)}` : ``\n    }`;\n\n    if (index === lastBreadcrumbsIndex && objectItem === versionedFile) {\n      return null;\n    }\n\n    return (\n      <Fragment key={`breadcrumbs-${index.toString()}`}>\n        <span className={classes.slashSpacingStyle}>/</span>\n        {index === lastBreadcrumbsIndex ? (\n          <span style={{ cursor: \"default\" }}>{objectItem}</span>\n        ) : (\n          <Link\n            to={route}\n            onClick={() => {\n              dispatch(\n                setVersionsModeEnabled({ status: false, objectName: \"\" })\n              );\n            }}\n          >\n            {objectItem}\n          </Link>\n        )}\n      </Fragment>\n    );\n  });\n\n  let versionsItem: any[] = [];\n\n  if (versionsMode) {\n    versionsItem = [\n      <Fragment key={`breadcrumbs-versionedItem`}>\n        <span>\n          <span className={classes.slashSpacingStyle}>/</span>\n          {versionedFile} - Versions\n        </span>\n      </Fragment>,\n    ];\n  }\n\n  const listBreadcrumbs: any[] = [\n    <Fragment key={`breadcrumbs-root-path`}>\n      <Link\n        to={`/browser/${bucketName}`}\n        onClick={() => {\n          dispatch(setVersionsModeEnabled({ status: false, objectName: \"\" }));\n        }}\n      >\n        {bucketName}\n      </Link>\n    </Fragment>,\n    ...breadcrumbsMap,\n    ...versionsItem,\n  ];\n\n  const closeAddFolderModal = () => {\n    setCreateFolderOpen(false);\n  };\n\n  const goBackFunction = () => {\n    if (versionsMode) {\n      dispatch(setVersionsModeEnabled({ status: false, objectName: \"\" }));\n    } else {\n      if (splitPaths.length === 0) {\n        navigate(\"/browser\");\n\n        return;\n      }\n\n      const prevPath = splitPaths.slice(0, -1);\n\n      navigate(\n        `/browser/${bucketName}${\n          prevPath.length > 0\n            ? `/${encodeURLString(`${prevPath.join(\"/\")}/`)}`\n            : \"\"\n        }`\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      <div className={classes.breadcrumbsMain}>\n        {createFolderOpen && (\n          <CreatePathModal\n            modalOpen={createFolderOpen}\n            bucketName={bucketName}\n            folderName={internalPaths}\n            onClose={closeAddFolderModal}\n          />\n        )}\n        <Breadcrumbs\n          goBackFunction={goBackFunction}\n          additionalOptions={\n            <Fragment>\n              <CopyToClipboard text={`${bucketName}/${splitPaths.join(\"/\")}`}>\n                <Button\n                  id={\"copy-path\"}\n                  icon={\n                    <CopyIcon\n                      style={{\n                        width: \"12px\",\n                        height: \"12px\",\n                        fill: \"#969FA8\",\n                        marginTop: -1,\n                      }}\n                    />\n                  }\n                  variant={\"regular\"}\n                  onClick={() => {\n                    dispatch(setSnackBarMessage(\"Path copied to clipboard\"));\n                  }}\n                  style={{\n                    width: \"28px\",\n                    height: \"28px\",\n                    color: \"#969FA8\",\n                    border: \"#969FA8 1px solid\",\n                    marginRight: 5,\n                  }}\n                />\n              </CopyToClipboard>\n              <div className={classes.additionalOptions}>\n                {additionalOptions}\n              </div>\n            </Fragment>\n          }\n        >\n          {listBreadcrumbs}\n        </Breadcrumbs>\n        {!hidePathButton && (\n          <Tooltip\n            tooltip={\n              canCreatePath\n                ? \"Choose or create a new path\"\n                : permissionTooltipHelper(\n                    [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                    \"create a new path\"\n                  )\n            }\n          >\n            <Button\n              id={\"new-path\"}\n              onClick={() => {\n                setCreateFolderOpen(true);\n              }}\n              disabled={anonymousMode ? false : rewindEnabled || !canCreatePath}\n              icon={<NewPathIcon style={{ fill: \"#969FA8\" }} />}\n              style={{\n                whiteSpace: \"nowrap\",\n              }}\n              variant={\"regular\"}\n              label={\"Create new path\"}\n            />\n          </Tooltip>\n        )}\n      </div>\n      <div className={classes.breadcrumbsSecond}>{additionalOptions}</div>\n    </Fragment>\n  );\n};\n\nexport default BrowserBreadcrumbs;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport { CSSObject } from \"styled-components\";\nimport { Menu, MenuItem } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport { Button, UploadFolderIcon, UploadIcon } from \"mds\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../common/SecureComponent/permissions\";\nimport { hasPermission } from \"../../../../common/SecureComponent\";\nimport TooltipWrapper from \"../../Common/TooltipWrapper/TooltipWrapper\";\nimport { useSelector } from \"react-redux\";\nimport { AppState } from \"../../../../store\";\nimport { getSessionGrantsWildCard } from \"./UploadPermissionUtils\";\n\ninterface IUploadFilesButton {\n  uploadPath: string;\n  bucketName: string;\n  forceDisable?: boolean;\n  uploadFileFunction: (closeFunction: () => void) => void;\n  uploadFolderFunction: (closeFunction: () => void) => void;\n  classes: any;\n  overrideStyles?: CSSObject;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    listUploadIcons: {\n      height: 20,\n      \"& .min-icon\": {\n        width: 18,\n        fill: \"rgba(0,0,0,0.87)\",\n      },\n    },\n  });\n\nconst UploadFilesButton = ({\n  uploadPath,\n  bucketName,\n  forceDisable = false,\n  uploadFileFunction,\n  uploadFolderFunction,\n  classes,\n  overrideStyles = {},\n}: IUploadFilesButton) => {\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {}\n  );\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    uploadPath,\n    putObjectPermScopes\n  );\n\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const openUploadMenu = Boolean(anchorEl);\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleCloseUpload = () => {\n    setAnchorEl(null);\n  };\n\n  const uploadObjectAllowed =\n    hasPermission(\n      [uploadPath, ...sessionGrantWildCards],\n      putObjectPermScopes\n    ) || anonymousMode;\n\n  const uploadFolderAllowed = hasPermission(\n    [bucketName, ...sessionGrantWildCards],\n    putObjectPermScopes,\n    false,\n    true\n  );\n\n  const uploadEnabled: boolean = uploadObjectAllowed || uploadFolderAllowed;\n\n  return (\n    <Fragment>\n      <TooltipWrapper\n        tooltip={\n          uploadEnabled\n            ? \"Upload Files\"\n            : permissionTooltipHelper(\n                [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                \"upload files to this bucket\"\n              )\n        }\n      >\n        <Button\n          id={\"upload-main\"}\n          aria-controls={`upload-main-menu`}\n          aria-haspopup=\"true\"\n          aria-expanded={openUploadMenu ? \"true\" : undefined}\n          onClick={handleClick}\n          label={\"Upload\"}\n          icon={<UploadIcon />}\n          variant={\"callAction\"}\n          disabled={forceDisable || !uploadEnabled}\n          sx={overrideStyles}\n        />\n      </TooltipWrapper>\n      <Menu\n        id={`upload-main-menu`}\n        aria-labelledby={`upload-main`}\n        anchorEl={anchorEl}\n        open={openUploadMenu}\n        onClose={() => {\n          handleCloseUpload();\n        }}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <MenuItem\n          onClick={() => {\n            uploadFileFunction(handleCloseUpload);\n          }}\n          disabled={!uploadObjectAllowed || forceDisable}\n        >\n          <ListItemIcon className={classes.listUploadIcons}>\n            <UploadIcon />\n          </ListItemIcon>\n          <ListItemText>Upload File</ListItemText>\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            uploadFolderFunction(handleCloseUpload);\n          }}\n          disabled={!uploadFolderAllowed || forceDisable}\n        >\n          <ListItemIcon className={classes.listUploadIcons}>\n            <UploadFolderIcon />\n          </ListItemIcon>\n          <ListItemText>Upload Folder</ListItemText>\n        </MenuItem>\n      </Menu>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(UploadFilesButton);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { Button, ClosePanelIcon, Grid } from \"mds\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\ninterface IDetailsListPanel {\n  open: boolean;\n  className?: string;\n  closePanel: () => void;\n  children: React.ReactNode;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    detailsList: {\n      borderColor: \"#EAEDEE\",\n      borderWidth: 0,\n      borderStyle: \"solid\",\n      borderRadius: 3,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0,\n      width: 0,\n      transitionDuration: \"0.3s\",\n      overflowX: \"hidden\",\n      overflowY: \"auto\",\n      position: \"relative\",\n      opacity: 0,\n      marginLeft: -1,\n      \"&.open\": {\n        width: 300,\n        minWidth: 300,\n        borderLeftWidth: 1,\n        opacity: 1,\n      },\n      \"@media (max-width: 799px)\": {\n        \"&.open\": {\n          width: \"100%\",\n          minWidth: \"100%\",\n          borderLeftWidth: 0,\n        },\n      },\n    },\n  })\n);\n\nconst DetailsListPanel = ({\n  open,\n  closePanel,\n  className = \"\",\n  children,\n}: IDetailsListPanel) => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      item\n      className={`${classes.detailsList} ${open ? \"open\" : \"\"} ${className}`}\n    >\n      <Button\n        variant={\"text\"}\n        id={\"close-details-list\"}\n        onClick={closePanel}\n        icon={<ClosePanelIcon />}\n        sx={{\n          position: \"absolute\",\n          right: 5,\n          top: 18,\n          padding: 0,\n          height: 14,\n          \"&:hover:not(:disabled)\": {\n            backgroundColor: \"transparent\",\n          },\n        }}\n      />\n      {children}\n    </Grid>\n  );\n};\n\nexport default DetailsListPanel;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const months = [\n  { value: \"01\", label: \"January\" },\n  { value: \"02\", label: \"February\" },\n  { value: \"03\", label: \"March\" },\n  { value: \"04\", label: \"April\" },\n  { value: \"05\", label: \"May\" },\n  { value: \"06\", label: \"June\" },\n  { value: \"07\", label: \"July\" },\n  { value: \"08\", label: \"August\" },\n  { value: \"09\", label: \"September\" },\n  { value: \"10\", label: \"October\" },\n  { value: \"11\", label: \"November\" },\n  { value: \"12\", label: \"December\" },\n];\n\nexport const days = Array.from(Array(31), (_, num) => ({\n  value: (num + 1).toString(),\n  label: (num + 1).toString(),\n}));\n\nconst currentYear = new Date().getFullYear();\n\nexport const years = Array.from(Array(50), (_, numYear) => ({\n  value: (numYear + currentYear).toString(),\n  label: (numYear + currentYear).toString(),\n}));\n\nexport const validDate = (year: string, month: string, day: string): any[] => {\n  const currentDate = Date.parse(`${year}-${month}-${day}`);\n\n  if (isNaN(currentDate)) {\n    return [false, \"\"];\n  }\n\n  const parsedMonth = parseInt(month);\n  const parsedDay = parseInt(day);\n\n  const monthForString = parsedMonth < 10 ? `0${parsedMonth}` : parsedMonth;\n  const dayForString = parsedDay < 10 ? `0${parsedDay}` : parsedDay;\n\n  const parsedDate = new Date(currentDate).toISOString().split(\"T\")[0];\n  const dateString = `${year}-${monthForString}-${dayForString}`;\n\n  return [parsedDate === dateString, dateString];\n};\n\n// twoDigitDate gets a two digit string number used for months or days\n// returns \"NaN\" if number is NaN\nexport const twoDigitDate = (num: number): string => {\n  return num < 10 ? `0${num}` : `${num}`;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, {\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from \"react\";\nimport clsx from \"clsx\";\nimport { Box, Grid, HelpIcon, InputLabel, Select, Switch, Tooltip } from \"mds\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { fieldBasic, tooltipHelper } from \"../common/styleLibrary\";\nimport { days, months, validDate, years } from \"./utils\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      paddingBottom: 10,\n      marginTop: 11,\n      marginBottom: 6,\n    },\n  });\n\ninterface IDateSelectorProps {\n  classes: any;\n  id: string;\n  label: string;\n  disableOptions?: boolean;\n  addSwitch?: boolean;\n  tooltip?: string;\n  borderBottom?: boolean;\n  value?: string;\n  onDateChange: (date: string, isValid: boolean) => any;\n}\n\nconst DateSelector = forwardRef(\n  (\n    {\n      classes,\n      id,\n      label,\n      disableOptions = false,\n      addSwitch = false,\n      tooltip = \"\",\n      borderBottom = false,\n      onDateChange,\n      value = \"\",\n    }: IDateSelectorProps,\n    ref: any\n  ) => {\n    useImperativeHandle(ref, () => ({ resetDate }));\n\n    const [dateEnabled, setDateEnabled] = useState<boolean>(false);\n    const [month, setMonth] = useState<string>(\"\");\n    const [day, setDay] = useState<string>(\"\");\n    const [year, setYear] = useState<string>(\"\");\n\n    useEffect(() => {\n      // verify if there is a current value\n      // assume is in the format \"2021-12-30\"\n      if (value !== \"\") {\n        const valueSplit = value.split(\"-\");\n\n        setYear(valueSplit[0]);\n        setMonth(valueSplit[1]);\n        // Turn to single digit to be displayed on dropdown buttons\n        setDay(`${parseInt(valueSplit[2])}`);\n      }\n    }, [value]);\n\n    useEffect(() => {\n      const [isValid, dateString] = validDate(year, month, day);\n      onDateChange(dateString, isValid);\n    }, [month, day, year, onDateChange]);\n\n    const resetDate = () => {\n      setMonth(\"\");\n      setDay(\"\");\n      setYear(\"\");\n    };\n\n    const isDateDisabled = () => {\n      if (disableOptions) {\n        return disableOptions;\n      } else if (addSwitch) {\n        return !dateEnabled;\n      } else {\n        return false;\n      }\n    };\n\n    const monthForDropDown = [{ value: \"\", label: \"<Month>\" }, ...months];\n    const daysForDrop = [{ value: \"\", label: \"<Day>\" }, ...days];\n    const yearsForDrop = [{ value: \"\", label: \"<Year>\" }, ...years];\n\n    return (\n      <Grid\n        item\n        xs={12}\n        className={clsx(classes.fieldContainer, {\n          [classes.fieldContainerBorder]: borderBottom,\n        })}\n      >\n        <div className={classes.labelContainer}>\n          <Grid container>\n            <InputLabel htmlFor={id}>\n              <span>{label}</span>\n              {tooltip !== \"\" && (\n                <div className={classes.tooltipContainer}>\n                  <Tooltip tooltip={tooltip} placement=\"top\">\n                    <div className={classes.tooltip}>\n                      <HelpIcon />\n                    </div>\n                  </Tooltip>\n                </div>\n              )}\n            </InputLabel>\n            {addSwitch && (\n              <Switch\n                indicatorLabels={[\"Specific Date\", \"Default (7 Days)\"]}\n                checked={dateEnabled}\n                value={\"date_enabled\"}\n                id=\"date-status\"\n                name=\"date-status\"\n                onChange={(e) => {\n                  setDateEnabled(e.target.checked);\n                  if (!e.target.checked) {\n                    onDateChange(\"\", true);\n                  }\n                }}\n                switchOnly\n              />\n            )}\n          </Grid>\n        </div>\n        <Box sx={{ display: \"flex\", gap: 12 }}>\n          <Select\n            id={`${id}-month`}\n            name={`${id}-month`}\n            value={month}\n            onChange={(newValue) => {\n              setMonth(newValue);\n            }}\n            options={monthForDropDown}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n\n          <Select\n            id={`${id}-day`}\n            name={`${id}-day`}\n            value={day}\n            onChange={(newValue) => {\n              setDay(newValue);\n            }}\n            options={daysForDrop}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n\n          <Select\n            id={`${id}-year`}\n            name={`${id}-year`}\n            value={year}\n            onChange={(newValue) => {\n              setYear(newValue);\n            }}\n            options={yearsForDrop}\n            label={\"\"}\n            disabled={isDateDisabled()}\n          />\n        </Box>\n      </Grid>\n    );\n  }\n);\n\nexport default withStyles(styles)(DateSelector);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Button, Grid, RadioGroup, Switch } from \"mds\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { IFileInfo } from \"./types\";\n\nimport { twoDigitDate } from \"../../../../Common/FormComponents/DateSelector/utils\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport DateSelector from \"../../../../Common/FormComponents/DateSelector/DateSelector\";\nimport api from \"../../../../../../common/api\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport { setModalErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { useSelector } from \"react-redux\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface ISetRetentionProps {\n  classes: any;\n  open: boolean;\n  closeModalAndRefresh: (updateInfo: boolean) => void;\n  objectName: string;\n  bucketName: string;\n  objectInfo: IFileInfo;\n}\n\ninterface IRefObject {\n  resetDate: () => void;\n}\n\nconst SetRetention = ({\n  classes,\n  open,\n  closeModalAndRefresh,\n  objectName,\n  objectInfo,\n  bucketName,\n}: ISetRetentionProps) => {\n  const dispatch = useAppDispatch();\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig\n  );\n\n  const [statusEnabled, setStatusEnabled] = useState<boolean>(true);\n  const [type, setType] = useState<string>(\"\");\n  const [date, setDate] = useState<string>(\"\");\n  const [isDateValid, setIsDateValid] = useState<boolean>(false);\n  const [isSaving, setIsSaving] = useState<boolean>(false);\n  const [alreadyConfigured, setAlreadyConfigured] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (objectInfo.retention_mode) {\n      setType(retentionConfig?.mode || \"governance\");\n      setAlreadyConfigured(true);\n    }\n    // get retention_until_date if defined\n    if (objectInfo.retention_until_date) {\n      const valueDate = new Date(objectInfo.retention_until_date);\n      if (valueDate.toString() !== \"Invalid Date\") {\n        const year = valueDate.getFullYear();\n        const month = twoDigitDate(valueDate.getMonth() + 1);\n        const day = valueDate.getDate();\n        if (!isNaN(day) && month !== \"NaN\" && !isNaN(year)) {\n          setDate(`${year}-${month}-${day}`);\n        }\n      }\n      setAlreadyConfigured(true);\n    }\n  }, [objectInfo, retentionConfig?.mode]);\n\n  const dateElement = useRef<IRefObject>(null);\n\n  const dateFieldDisabled = () => {\n    return !(statusEnabled && (type === \"governance\" || type === \"compliance\"));\n  };\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n  };\n\n  const resetForm = () => {\n    setStatusEnabled(false);\n    setType(\"governance\");\n    if (dateElement.current) {\n      dateElement.current.resetDate();\n    }\n  };\n\n  const addRetention = (\n    selectedObject: string,\n    versionId: string | null,\n    expireDate: string\n  ) => {\n    api\n      .invoke(\n        \"PUT\",\n        `/api/v1/buckets/${bucketName}/objects/retention?prefix=${encodeURLString(\n          selectedObject\n        )}&version_id=${versionId}`,\n        {\n          expires: expireDate,\n          mode: type,\n        }\n      )\n      .then((res: any) => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((error: ErrorResponseHandler) => {\n        dispatch(setModalErrorSnackMessage(error));\n        setIsSaving(false);\n      });\n  };\n\n  const disableRetention = (\n    selectedObject: string,\n    versionId: string | null\n  ) => {\n    api\n      .invoke(\n        \"DELETE\",\n        `/api/v1/buckets/${bucketName}/objects/retention?prefix=${encodeURLString(\n          selectedObject\n        )}&version_id=${versionId}`\n      )\n      .then(() => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((error: ErrorResponseHandler) => {\n        dispatch(setModalErrorSnackMessage(error));\n        setIsSaving(false);\n      });\n  };\n\n  const saveNewRetentionPolicy = () => {\n    setIsSaving(true);\n    const selectedObject = objectInfo.name;\n    const versionId = objectInfo.version_id;\n\n    const expireDate =\n      !statusEnabled && type === \"governance\" ? \"\" : `${date}T23:59:59Z`;\n\n    if (!statusEnabled && type === \"governance\") {\n      disableRetention(selectedObject, versionId);\n\n      return;\n    }\n\n    addRetention(selectedObject, versionId, expireDate);\n  };\n\n  const showSwitcher =\n    alreadyConfigured && (type === \"governance\" || type === \"\");\n\n  return (\n    <ModalWrapper\n      title=\"Set Retention Policy\"\n      modalOpen={open}\n      onClose={() => {\n        resetForm();\n        closeModalAndRefresh(false);\n      }}\n    >\n      <div className={classes.spacerBottom}>\n        <strong>Selected Object</strong>: {objectName}\n      </div>\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          onSubmit(e);\n        }}\n      >\n        {showSwitcher && (\n          <Grid item xs={12} className={classes.formFieldRow}>\n            <Switch\n              value=\"status\"\n              id=\"status\"\n              name=\"status\"\n              checked={statusEnabled}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                setStatusEnabled(!statusEnabled);\n              }}\n              label={\"Status\"}\n              indicatorLabels={[\"Enabled\", \"Disabled\"]}\n            />\n          </Grid>\n        )}\n        <Grid item xs={12} className={classes.formFieldRow}>\n          <RadioGroup\n            currentValue={type}\n            id=\"type\"\n            name=\"type\"\n            label=\"Type\"\n            disableOptions={\n              !statusEnabled || (alreadyConfigured && type !== \"\")\n            }\n            onChange={(e) => {\n              setType(e.target.value);\n            }}\n            selectorOptions={[\n              { label: \"Governance\", value: \"governance\" },\n              { label: \"Compliance\", value: \"compliance\" },\n            ]}\n          />\n        </Grid>\n        <Grid item xs={12} className={`${classes.dateSelector} `}>\n          <DateSelector\n            id=\"date\"\n            label=\"Date\"\n            disableOptions={dateFieldDisabled()}\n            ref={dateElement}\n            value={date}\n            borderBottom={true}\n            onDateChange={(date: string, isValid: boolean) => {\n              setIsDateValid(isValid);\n              if (isValid) {\n                setDate(date);\n              }\n            }}\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"reset\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Reset\"}\n          />\n          <Button\n            id={\"save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={\n              (statusEnabled && type === \"\") ||\n              (statusEnabled && !isDateValid) ||\n              isSaving\n            }\n            onClick={saveNewRetentionPolicy}\n            label={\"Save\"}\n          />\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(SetRetention);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const isVersionedMode = (status: string | undefined) => {\n  return status === \"Enabled\" || status === \"Suspended\";\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport { decodeURLString } from \"../../../../../../common/utils\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport useApi from \"../../../../Common/Hooks/useApi\";\nimport { ConfirmDeleteIcon, Switch } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\nimport { isVersionedMode } from \"../../../../../../utils/validationFunctions\";\nimport { BucketVersioningResponse } from \"api/consoleApi\";\n\ninterface IDeleteObjectProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedObject: string;\n  selectedBucket: string;\n\n  versioningInfo: BucketVersioningResponse | undefined;\n  selectedVersion?: string;\n}\n\nconst DeleteObject = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedObject,\n  versioningInfo,\n  selectedVersion = \"\",\n}: IDeleteObjectProps) => {\n  const dispatch = useAppDispatch();\n  const onDelSuccess = () => closeDeleteModalAndRefresh(true);\n  const onDelError = (err: ErrorResponseHandler) => {\n    dispatch(setErrorSnackMessage(err));\n\n    // We close the modal box on access denied.\n    if (err.detailedError === \"Access Denied.\") {\n      closeDeleteModalAndRefresh(true);\n    }\n  };\n  const onClose = () => closeDeleteModalAndRefresh(false);\n\n  const [deleteLoading, invokeDeleteApi] = useApi(onDelSuccess, onDelError);\n  const [deleteVersions, setDeleteVersions] = useState<boolean>(false);\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION]\n    ) && retentionConfig?.mode === \"governance\";\n\n  if (!selectedObject) {\n    return null;\n  }\n  const onConfirmDelete = () => {\n    const decodedSelectedObject = decodeURLString(selectedObject);\n    const recursive = decodedSelectedObject.endsWith(\"/\");\n    invokeDeleteApi(\n      \"DELETE\",\n      `/api/v1/buckets/${selectedBucket}/objects?path=${selectedObject}${\n        selectedVersion !== \"\"\n          ? `&version_id=${selectedVersion}`\n          : `&recursive=${recursive}&all_versions=${deleteVersions}`\n      }${bypassGovernance ? \"&bypass=true\" : \"\"}`\n    );\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Delete Object`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={onClose}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete: <br />\n          <b>{decodeURLString(selectedObject)}</b>{\" \"}\n          {selectedVersion !== \"\" ? (\n            <Fragment>\n              <br />\n              <br />\n              Version ID:\n              <br />\n              <strong>{selectedVersion}</strong>\n            </Fragment>\n          ) : (\n            \"\"\n          )}\n          ? <br />\n          <br />\n          {isVersionedMode(versioningInfo?.status) &&\n            selectedVersion === \"\" && (\n              <Fragment>\n                <Switch\n                  label={\"Delete All Versions\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={deleteVersions}\n                  value={\"delete_versions\"}\n                  id=\"delete-versions\"\n                  name=\"delete-versions\"\n                  onChange={(e) => {\n                    setDeleteVersions(!deleteVersions);\n                  }}\n                  description=\"\"\n                />\n              </Fragment>\n            )}\n          {canBypass && (deleteVersions || selectedVersion !== \"\") && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n          {deleteVersions && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                  border: \"#c83b51 1px solid\",\n                  borderRadius: 3,\n                  padding: 5,\n                  backgroundColor: \"#c83b5120\",\n                  color: \"#c83b51\",\n                }}\n              >\n                This will remove the object as well as all of its versions,{\" \"}\n                <br />\n                This action is irreversible.\n              </div>\n              <br />\n              Are you sure you want to continue?\n            </Fragment>\n          )}\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteObject;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport get from \"lodash/get\";\nimport { Button, Grid, Switch } from \"mds\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\nimport { IFileInfo } from \"./types\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport api from \"../../../../../../common/api\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\n\nimport { setModalErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface ISetRetentionProps {\n  classes: any;\n  open: boolean;\n  closeModalAndRefresh: (reload: boolean) => void;\n  objectName: string;\n  bucketName: string;\n  actualInfo: IFileInfo;\n}\n\nconst SetLegalHoldModal = ({\n  classes,\n  open,\n  closeModalAndRefresh,\n  objectName,\n  bucketName,\n  actualInfo,\n}: ISetRetentionProps) => {\n  const dispatch = useAppDispatch();\n  const [legalHoldEnabled, setLegalHoldEnabled] = useState<boolean>(false);\n  const [isSaving, setIsSaving] = useState<boolean>(false);\n  const versionId = actualInfo.version_id;\n\n  useEffect(() => {\n    const status = get(actualInfo, \"legal_hold_status\", \"OFF\");\n    setLegalHoldEnabled(status === \"ON\");\n  }, [actualInfo]);\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSaving(true);\n\n    api\n      .invoke(\n        \"PUT\",\n        `/api/v1/buckets/${bucketName}/objects/legalhold?prefix=${encodeURLString(\n          objectName\n        )}&version_id=${versionId}`,\n        { status: legalHoldEnabled ? \"enabled\" : \"disabled\" }\n      )\n      .then(() => {\n        setIsSaving(false);\n        closeModalAndRefresh(true);\n      })\n      .catch((error: ErrorResponseHandler) => {\n        dispatch(setModalErrorSnackMessage(error));\n        setIsSaving(false);\n      });\n  };\n\n  const resetForm = () => {\n    setLegalHoldEnabled(false);\n  };\n\n  return (\n    <ModalWrapper\n      title=\"Set Legal Hold\"\n      modalOpen={open}\n      onClose={() => {\n        resetForm();\n        closeModalAndRefresh(false);\n      }}\n    >\n      <Grid item xs={12} className={classes.spacerBottom}>\n        Object: {bucketName}\n      </Grid>\n\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          onSubmit(e);\n        }}\n      >\n        <Grid item xs={12} className={classes.formFieldRow}>\n          <Switch\n            value=\"legalhold\"\n            id=\"legalhold\"\n            name=\"legalhold\"\n            checked={legalHoldEnabled}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setLegalHoldEnabled(!legalHoldEnabled);\n            }}\n            label={\"Legal Hold Status\"}\n            indicatorLabels={[\"Enabled\", \"Disabled\"]}\n            tooltip={\n              \"To enable this feature you need to enable versioning on the bucket before creation\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} className={classes.modalButtonBar}>\n          <Button\n            id={\"clear\"}\n            type=\"button\"\n            variant=\"regular\"\n            onClick={resetForm}\n            label={\"Clear\"}\n          />\n          <Button\n            id={\"save\"}\n            type=\"submit\"\n            variant=\"callAction\"\n            disabled={isSaving}\n            label={\" Save\"}\n          />\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default withStyles(styles)(SetLegalHoldModal);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport { withStyles } from \"@mui/styles\";\nimport Grid from \"@mui/material/Grid\";\nimport { Box, Table, TableBody, TableCell, TableRow } from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport {\n  detailsPanel,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\n\ninterface IObjectMetadata {\n  metaData: any;\n  classes?: any;\n  linear?: boolean;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    titleItem: {\n      width: \"35%\",\n    },\n    ...spacingUtils,\n    ...detailsPanel,\n  });\n\nconst ObjectMetaData = ({\n  metaData,\n  classes,\n  linear = false,\n}: IObjectMetadata) => {\n  const metaKeys = Object.keys(metaData);\n\n  if (linear) {\n    return (\n      <Fragment>\n        {metaKeys.map((element: string, index: number) => {\n          const renderItem = Array.isArray(metaData[element])\n            ? metaData[element].map(decodeURIComponent).join(\", \")\n            : decodeURIComponent(metaData[element]);\n\n          return (\n            <Box\n              className={classes.metadataLinear}\n              key={`box-meta-${element}-${index.toString()}`}\n            >\n              <strong>{element}</strong>\n              <br />\n              {renderItem}\n            </Box>\n          );\n        })}\n      </Fragment>\n    );\n  }\n\n  return (\n    <Grid container>\n      <Grid\n        item\n        xs={12}\n        sx={{\n          marginTop: \"25px\",\n          marginBottom: \"5px\",\n        }}\n      >\n        <h3\n          style={{\n            marginTop: \"0\",\n            marginBottom: \"0\",\n          }}\n        >\n          Object Metadata\n        </h3>\n      </Grid>\n\n      <Grid item xs={12}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableBody>\n            {metaKeys.map((element: string, index: number) => {\n              const renderItem = Array.isArray(metaData[element])\n                ? metaData[element].map(decodeURIComponent).join(\", \")\n                : decodeURIComponent(metaData[element]);\n\n              return (\n                <TableRow key={`tRow-${index.toString()}`}>\n                  <TableCell\n                    component=\"th\"\n                    scope=\"row\"\n                    className={classes.titleItem}\n                  >\n                    {element}\n                  </TableCell>\n                  <TableCell align=\"right\">{renderItem}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles)(ObjectMetaData);\n","import React from \"react\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport { replaceUnicodeChar } from \"../../../../../../common/utils\";\n\ninterface IIconWithLabel {\n  classes: any;\n  icon: JSX.Element;\n  strings: string[];\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    fileName: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& .min-icon\": {\n        width: 16,\n        height: 16,\n        marginRight: 4,\n        minWidth: 16,\n        minHeight: 16,\n      },\n    },\n    fileNameText: {\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n  });\n\nconst IconWithLabel = ({ classes, icon, strings }: IIconWithLabel) => {\n  return (\n    <div className={classes.fileName}>\n      {icon}\n      <span className={classes.fileNameText}>\n        {replaceUnicodeChar(strings[strings.length - 1])}\n      </span>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(IconWithLabel);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\n\nimport {\n  FileBookIcon,\n  FileCodeIcon,\n  FileConfigIcon,\n  FileDbIcon,\n  FileFontIcon,\n  FileImageIcon,\n  FileLockIcon,\n  FileMissingIcon,\n  FileMusicIcon,\n  FileNonType,\n  FilePdfIcon,\n  FilePptIcon,\n  FileTxtIcon,\n  FileVideoIcon,\n  FileXlsIcon,\n  FileZipIcon,\n  FolderBrowserIcon,\n} from \"mds\";\nimport IconWithLabel from \"./IconWithLabel\";\n\ninterface IExtToIcon {\n  icon: any;\n  extensions: string[];\n}\n\nexport const extensionToIcon: IExtToIcon[] = [\n  {\n    icon: <FileVideoIcon />,\n    extensions: [\"mp4\", \"mov\", \"avi\", \"mpeg\", \"mpg\"],\n  },\n  {\n    icon: <FileMusicIcon />,\n    extensions: [\"mp3\", \"m4a\", \"aac\"],\n  },\n  {\n    icon: <FilePdfIcon />,\n    extensions: [\"pdf\"],\n  },\n  {\n    icon: <FilePptIcon />,\n    extensions: [\"ppt\", \"pptx\"],\n  },\n  {\n    icon: <FileXlsIcon />,\n    extensions: [\"xls\", \"xlsx\"],\n  },\n  {\n    icon: <FileLockIcon />,\n    extensions: [\"cer\", \"crt\", \"pem\"],\n  },\n  {\n    icon: <FileCodeIcon />,\n    extensions: [\"html\", \"xml\", \"css\", \"py\", \"go\", \"php\", \"cpp\", \"h\", \"java\"],\n  },\n  {\n    icon: <FileConfigIcon />,\n    extensions: [\"cfg\", \"yaml\"],\n  },\n  {\n    icon: <FileDbIcon />,\n    extensions: [\"sql\"],\n  },\n  {\n    icon: <FileFontIcon />,\n    extensions: [\"ttf\", \"otf\"],\n  },\n  {\n    icon: <FileTxtIcon />,\n    extensions: [\"doc\", \"docx\", \"txt\", \"rtf\"],\n  },\n  {\n    icon: <FileZipIcon />,\n    extensions: [\"zip\", \"rar\", \"tar\", \"gz\"],\n  },\n  {\n    icon: <FileBookIcon />,\n    extensions: [\"epub\", \"mobi\", \"azw\", \"azw3\"],\n  },\n  {\n    icon: <FileImageIcon />,\n    extensions: [\"jpeg\", \"jpg\", \"gif\", \"tiff\", \"png\", \"heic\", \"dng\"],\n  },\n];\n\nexport const displayFileIconName = (\n  element: string,\n  returnOnlyIcon: boolean = false\n) => {\n  let elementString = element;\n  let icon = <FileNonType />;\n  // Element is a folder\n  if (element.endsWith(\"/\")) {\n    icon = <FolderBrowserIcon />;\n    elementString = element.slice(0, -1);\n  }\n\n  const lowercaseElement = element.toLowerCase();\n  for (const etc of extensionToIcon) {\n    for (const ext of etc.extensions) {\n      if (lowercaseElement.endsWith(`.${ext}`)) {\n        icon = etc.icon;\n      }\n    }\n  }\n\n  if (!element.endsWith(\"/\") && element.indexOf(\".\") < 0) {\n    icon = <FileMissingIcon />;\n  }\n\n  const splitItem = elementString.split(\"/\");\n\n  if (returnOnlyIcon) {\n    return icon;\n  }\n\n  return <IconWithLabel icon={icon} strings={splitItem} />;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport get from \"lodash/get\";\nimport { useSelector } from \"react-redux\";\nimport { Box, Grid } from \"@mui/material\";\nimport {\n  AddNewTagIcon,\n  Button,\n  DisabledIcon,\n  EditTagIcon,\n  InputBox,\n  SectionTitle,\n} from \"mds\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport api from \"../../../../../../common/api\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { IFileInfo } from \"./types\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { SecureComponent } from \"../../../../../../common/SecureComponent\";\nimport Chip from \"@mui/material/Chip\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport {\n  selDistSet,\n  setModalErrorSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\n\ninterface ITagModal {\n  modalOpen: boolean;\n  bucketName: string;\n  actualInfo: IFileInfo;\n  onCloseAndUpdate: (refresh: boolean) => void;\n  classes: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    newTileHeader: {\n      fontSize: 18,\n      fontWeight: \"bold\",\n      color: \"#000\",\n      margin: \"35px 0\",\n      paddingBottom: 15,\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& > svg\": {\n        marginRight: 10,\n      },\n    },\n    tagsForLabel: {\n      fontSize: 16,\n      margin: \"20px 0 30px\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      width: \"100%\",\n    },\n    currentTagsContainer: {\n      fontSize: 14,\n      fontWeight: \"normal\",\n    },\n    noTagsForObject: {\n      color: \"#858585\",\n    },\n    deleteTag: {\n      color: \"#C83B51\",\n      marginLeft: 5,\n    },\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\nconst AddTagModal = ({\n  modalOpen,\n  onCloseAndUpdate,\n  bucketName,\n  actualInfo,\n  classes,\n}: ITagModal) => {\n  const dispatch = useAppDispatch();\n  const distributedSetup = useSelector(selDistSet);\n  const [newKey, setNewKey] = useState<string>(\"\");\n  const [newLabel, setNewLabel] = useState<string>(\"\");\n  const [isSending, setIsSending] = useState<boolean>(false);\n  const [deleteEnabled, setDeleteEnabled] = useState<boolean>(false);\n  const [deleteKey, setDeleteKey] = useState<string>(\"\");\n  const [deleteLabel, setDeleteLabel] = useState<string>(\"\");\n\n  const selectedObject = encodeURLString(actualInfo.name);\n  const currentTags = actualInfo.tags;\n  const currTagKeys = Object.keys(currentTags || {});\n\n  const allPathData = actualInfo.name.split(\"/\");\n  const currentItem = allPathData.pop() || \"\";\n\n  const resetForm = () => {\n    setNewLabel(\"\");\n    setNewKey(\"\");\n  };\n\n  const addTagProcess = () => {\n    setIsSending(true);\n    const newTag: any = {};\n\n    newTag[newKey] = newLabel;\n    const newTagList = { ...currentTags, ...newTag };\n\n    const verID = distributedSetup ? actualInfo.version_id : \"null\";\n\n    api\n      .invoke(\n        \"PUT\",\n        `/api/v1/buckets/${bucketName}/objects/tags?prefix=${selectedObject}&version_id=${verID}`,\n        { tags: newTagList }\n      )\n      .then((res: any) => {\n        onCloseAndUpdate(true);\n        setIsSending(false);\n      })\n      .catch((error: ErrorResponseHandler) => {\n        dispatch(setModalErrorSnackMessage(error));\n        setIsSending(false);\n      });\n  };\n\n  const deleteTagProcess = () => {\n    const cleanObject: any = { ...currentTags };\n    delete cleanObject[deleteKey];\n\n    const verID = distributedSetup ? actualInfo.version_id : \"null\";\n\n    api\n      .invoke(\n        \"PUT\",\n        `/api/v1/buckets/${bucketName}/objects/tags?prefix=${selectedObject}&version_id=${verID}`,\n        { tags: cleanObject }\n      )\n      .then((res: any) => {\n        onCloseAndUpdate(true);\n        setIsSending(false);\n      })\n      .catch((error: ErrorResponseHandler) => {\n        dispatch(setModalErrorSnackMessage(error));\n        setIsSending(false);\n      });\n  };\n\n  const onDeleteTag = (tagKey: string, tag: string) => {\n    setDeleteKey(tagKey);\n    setDeleteLabel(tag);\n    setDeleteEnabled(true);\n  };\n\n  const cancelDelete = () => {\n    setDeleteKey(\"\");\n    setDeleteLabel(\"\");\n    setDeleteEnabled(false);\n  };\n\n  const tagsFor = (plural: boolean) => (\n    <div className={classes.tagsForLabel}>\n      Tag{plural ? \"s\" : \"\"} for: <strong>{currentItem}</strong>\n    </div>\n  );\n\n  return (\n    <Fragment>\n      <ModalWrapper\n        modalOpen={modalOpen}\n        title={deleteEnabled ? \"Delete Tag\" : `Edit Tags`}\n        onClose={() => {\n          onCloseAndUpdate(true);\n        }}\n        titleIcon={\n          deleteEnabled ? (\n            <DisabledIcon style={{ fill: \"#C83B51\" }} />\n          ) : (\n            <EditTagIcon />\n          )\n        }\n      >\n        {deleteEnabled ? (\n          <Fragment>\n            <Grid container>\n              {tagsFor(false)}\n              Are you sure you want to delete the tag{\" \"}\n              <b className={classes.deleteTag}>\n                {deleteKey} : {deleteLabel}\n              </b>{\" \"}\n              ?\n              <Grid item xs={12} className={classes.modalButtonBar}>\n                <Button\n                  id={\"cancel\"}\n                  type=\"button\"\n                  variant=\"regular\"\n                  onClick={cancelDelete}\n                  label={\"Cancel\"}\n                />\n                <Button\n                  type=\"submit\"\n                  variant=\"secondary\"\n                  onClick={deleteTagProcess}\n                  id={\"deleteTag\"}\n                  label={\"Delete Tag\"}\n                />\n              </Grid>\n            </Grid>\n          </Fragment>\n        ) : (\n          <Grid container>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_TAGGING,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Box\n                sx={{\n                  display: \"flex\",\n                  flexFlow: \"column\",\n                  width: \"100%\",\n                }}\n              >\n                {tagsFor(true)}\n                <div className={classes.currentTagsContainer}>\n                  Current Tags:\n                  <br />\n                  {currTagKeys.length === 0 ? (\n                    <span className={classes.noTagsForObject}>\n                      There are no tags for this object\n                    </span>\n                  ) : (\n                    <Fragment />\n                  )}\n                  <Box sx={{ marginTop: \"5px\", marginBottom: \"15px\" }}>\n                    {currTagKeys.map((tagKey: string, index: number) => {\n                      const tag = get(currentTags, `${tagKey}`, \"\");\n                      if (tag !== \"\") {\n                        return (\n                          <SecureComponent\n                            key={`chip-${index}`}\n                            scopes={[IAM_SCOPES.S3_DELETE_OBJECT_TAGGING]}\n                            resource={bucketName}\n                            errorProps={{\n                              deleteIcon: null,\n                              onDelete: null,\n                            }}\n                          >\n                            <Chip\n                              style={{\n                                textTransform: \"none\",\n                                marginRight: \"5px\",\n                                marginBottom: \"5px\",\n                              }}\n                              size=\"small\"\n                              label={`${tagKey} : ${tag}`}\n                              color=\"primary\"\n                              deleteIcon={<CloseIcon />}\n                              onDelete={() => {\n                                onDeleteTag(tagKey, tag);\n                              }}\n                            />\n                          </SecureComponent>\n                        );\n                      }\n                      return null;\n                    })}\n                  </Box>\n                </div>\n              </Box>\n            </SecureComponent>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n                IAM_SCOPES.S3_PUT_ACTIONS,\n              ]}\n              resource={bucketName}\n              errorProps={{ disabled: true, onClick: null }}\n            >\n              <Grid container>\n                <SectionTitle icon={<AddNewTagIcon />} separator={false}>\n                  Add New Tag\n                </SectionTitle>\n                <Grid item xs={12} className={classes.formFieldRow}>\n                  <InputBox\n                    value={newKey}\n                    label={\"Tag Key\"}\n                    id={\"newTagKey\"}\n                    name={\"newTagKey\"}\n                    placeholder={\"Enter Tag Key\"}\n                    onChange={(e) => {\n                      setNewKey(e.target.value);\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12} className={classes.formFieldRow}>\n                  <InputBox\n                    value={newLabel}\n                    label={\"Tag Label\"}\n                    id={\"newTagLabel\"}\n                    name={\"newTagLabel\"}\n                    placeholder={\"Enter Tag Label\"}\n                    onChange={(e) => {\n                      setNewLabel(e.target.value);\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12} className={classes.modalButtonBar}>\n                  <Button\n                    id={\"clear\"}\n                    type=\"button\"\n                    variant=\"regular\"\n                    color=\"primary\"\n                    onClick={resetForm}\n                    label={\"Clear\"}\n                  />\n                  <Button\n                    type=\"submit\"\n                    variant=\"callAction\"\n                    disabled={\n                      newLabel.trim() === \"\" ||\n                      newKey.trim() === \"\" ||\n                      isSending\n                    }\n                    onClick={addTagProcess}\n                    id=\"saveTag\"\n                    label={\"Save\"}\n                  />\n                </Grid>\n              </Grid>\n            </SecureComponent>\n          </Grid>\n        )}\n      </ModalWrapper>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(AddTagModal);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport {\n  Button,\n  InspectMenuIcon,\n  PasswordKeyIcon,\n  Switch,\n  Grid,\n  Box,\n} from \"mds\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  decodeURLString,\n  deleteCookie,\n  encodeURLString,\n  getCookieValue,\n  performDownload,\n} from \"../../../../../../common/utils\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport {\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { DialogContentText } from \"@mui/material\";\nimport KeyRevealer from \"../../../../Tools/KeyRevealer\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...formFieldStyles,\n    ...modalStyleUtils,\n    ...spacingUtils,\n  });\n\ninterface IInspectObjectProps {\n  classes: any;\n  closeInspectModalAndRefresh: (refresh: boolean) => void;\n  inspectOpen: boolean;\n  inspectPath: string;\n  volumeName: string;\n}\n\nconst InspectObject = ({\n  classes,\n  closeInspectModalAndRefresh,\n  inspectOpen,\n  inspectPath,\n  volumeName,\n}: IInspectObjectProps) => {\n  const dispatch = useAppDispatch();\n  const onClose = () => closeInspectModalAndRefresh(false);\n  const [isEncrypt, setIsEncrypt] = useState<boolean>(true);\n  const [decryptionKey, setDecryptionKey] = useState<string>(\"\");\n  const [insFileName, setInsFileName] = useState<string>(\"\");\n\n  if (!inspectPath) {\n    return null;\n  }\n  const makeRequest = async (url: string) => {\n    return await fetch(url, { method: \"GET\" });\n  };\n\n  const performInspect = async () => {\n    const file = encodeURLString(inspectPath + \"/xl.meta\");\n    const volume = encodeURLString(volumeName);\n\n    const urlOfInspectApi = `/api/v1/admin/inspect?volume=${volume}&file=${file}&encrypt=${isEncrypt}`;\n\n    makeRequest(urlOfInspectApi)\n      .then(async (res) => {\n        if (!res.ok) {\n          const resErr: any = await res.json();\n\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: resErr.message,\n              detailedError: resErr.code,\n            })\n          );\n        }\n        const blob: Blob = await res.blob();\n\n        //@ts-ignore\n        const filename = res.headers.get(\"content-disposition\").split('\"')[1];\n        const decryptKey = getCookieValue(filename) || \"\";\n\n        performDownload(blob, filename);\n        setInsFileName(filename);\n        if (decryptKey === \"\") {\n          onClose();\n          return;\n        }\n        setDecryptionKey(decryptKey);\n      })\n      .catch((err) => {\n        dispatch(setErrorSnackMessage(err));\n      });\n  };\n\n  const onCloseDecKeyModal = () => {\n    deleteCookie(insFileName);\n    onClose();\n    setDecryptionKey(\"\");\n  };\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n  };\n\n  return (\n    <React.Fragment>\n      {!decryptionKey && (\n        <ModalWrapper\n          modalOpen={inspectOpen}\n          titleIcon={<InspectMenuIcon />}\n          title={`Inspect Object`}\n          onClose={onClose}\n        >\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n              onSubmit(e);\n            }}\n          >\n            Would you like to encrypt <b>{decodeURLString(inspectPath)}</b>?{\" \"}\n            <br />\n            <Switch\n              label={\"Encrypt\"}\n              indicatorLabels={[\"Yes\", \"No\"]}\n              checked={isEncrypt}\n              value={\"encrypt\"}\n              id=\"encrypt\"\n              name=\"encrypt\"\n              onChange={(e) => {\n                setIsEncrypt(!isEncrypt);\n              }}\n              description=\"\"\n            />\n            <Grid item xs={12} className={classes.modalButtonBar}>\n              <Button\n                id={\"inspect\"}\n                type=\"submit\"\n                variant=\"callAction\"\n                color=\"primary\"\n                onClick={performInspect}\n                label={\"Inspect\"}\n              />\n            </Grid>\n          </form>\n        </ModalWrapper>\n      )}\n      {decryptionKey ? (\n        <ModalWrapper\n          modalOpen={inspectOpen}\n          title=\"Inspect Decryption Key\"\n          onClose={onCloseDecKeyModal}\n          titleIcon={<PasswordKeyIcon />}\n        >\n          <DialogContentText>\n            <Box>\n              This will be displayed only once. It cannot be recovered.\n              <br />\n              Use secure medium to share this key.\n            </Box>\n            <Box>\n              <KeyRevealer value={decryptionKey} />\n            </Box>\n          </DialogContentText>\n        </ModalWrapper>\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(InspectObject);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { IFileInfo } from \"../Buckets/ListBuckets/Objects/ObjectDetails/types\";\nimport { encodeURLString, getClientOS } from \"../../../common/utils\";\nimport { makeid, storeCallForObjectWithID } from \"./transferManager\";\nimport { download } from \"../Buckets/ListBuckets/Objects/utils\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  setLongFileOpen,\n  setNewObject,\n  updateProgress,\n} from \"./objectBrowserSlice\";\nimport { AppDispatch } from \"../../../store\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\n\nexport const downloadObject = (\n  dispatch: AppDispatch,\n  bucketName: string,\n  internalPaths: string,\n  object: IFileInfo\n) => {\n  const identityDownload = encodeURLString(\n    `${bucketName}-${object.name}-${new Date().getTime()}-${Math.random()}`\n  );\n\n  if (object.name.length > 200 && getClientOS().toLowerCase().includes(\"win\")) {\n    dispatch(setLongFileOpen(true));\n    return;\n  }\n\n  const ID = makeid(8);\n\n  const downloadCall = download(\n    bucketName,\n    internalPaths,\n    object.version_id,\n    parseInt(object.size || \"0\"),\n    null,\n    ID,\n    (progress) => {\n      dispatch(\n        updateProgress({\n          instanceID: identityDownload,\n          progress: progress,\n        })\n      );\n    },\n    () => {\n      dispatch(completeObject(identityDownload));\n    },\n    (msg: string) => {\n      dispatch(failObject({ instanceID: identityDownload, msg }));\n    },\n    () => {\n      dispatch(cancelObjectInList(identityDownload));\n    },\n    () => {\n      dispatch(\n        setSnackBarMessage(\n          \"File download will be handled directly by the browser.\"\n        )\n      );\n    }\n  );\n\n  storeCallForObjectWithID(ID, downloadCall);\n  dispatch(\n    setNewObject({\n      ID,\n      bucketName,\n      done: false,\n      instanceID: identityDownload,\n      percentage: 0,\n      prefix: object.name,\n      type: \"download\",\n      waitingForFile: true,\n      failed: false,\n      cancelled: false,\n      errorMessage: \"\",\n    })\n  );\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { Button, EditIcon } from \"mds\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport {\n  containerForHeader,\n  formFieldStyles,\n  modalStyleUtils,\n  spacingUtils,\n} from \"../Common/FormComponents/common/styleLibrary\";\nimport { IFileInfo } from \"../Buckets/ListBuckets/Objects/ObjectDetails/types\";\nimport { useAppDispatch } from \"../../../store\";\nimport ModalWrapper from \"../Common/ModalWrapper/ModalWrapper\";\nimport InputBoxWrapper from \"../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport FormSwitchWrapper from \"../Common/FormComponents/FormSwitchWrapper/FormSwitchWrapper\";\nimport { downloadObject } from \"./utils\";\n\ninterface IRenameLongFilename {\n  open: boolean;\n  bucketName: string;\n  internalPaths: string;\n  currentItem: string;\n  actualInfo: IFileInfo;\n  closeModal: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...modalStyleUtils,\n    ...formFieldStyles,\n    ...spacingUtils,\n    ...containerForHeader,\n  })\n);\n\nconst RenameLongFileName = ({\n  open,\n  closeModal,\n  currentItem,\n  internalPaths,\n  actualInfo,\n  bucketName,\n}: IRenameLongFilename) => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n\n  const [newFileName, setNewFileName] = useState<string>(currentItem);\n  const [acceptLongName, setAcceptLongName] = useState<boolean>(false);\n\n  const doDownload = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    downloadObject(dispatch, bucketName, internalPaths, actualInfo);\n    closeModal();\n  };\n\n  return (\n    <ModalWrapper\n      title={`Rename Download`}\n      modalOpen={open}\n      onClose={closeModal}\n      titleIcon={<EditIcon />}\n    >\n      <div>\n        The file you are trying to download has a long name.\n        <br />\n        This can cause issues on Windows Systems by trimming the file name after\n        download.\n        <br />\n        <br /> We recommend to rename the file download\n      </div>\n      <form\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n          doDownload(e);\n        }}\n      >\n        <Grid container>\n          <Grid item xs={12} className={classes.modalFormScrollable}>\n            <Grid item xs={12} className={classes.formFieldRow}>\n              <InputBoxWrapper\n                id=\"download-filename\"\n                name=\"download-filename\"\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                  setNewFileName(event.target.value);\n                }}\n                label=\"\"\n                type={\"text\"}\n                value={newFileName}\n                error={\n                  newFileName.length > 200 && !acceptLongName\n                    ? \"Filename should be less than 200 characters long.\"\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.formFieldRow}>\n              <FormSwitchWrapper\n                value=\"acceptLongName\"\n                id=\"acceptLongName\"\n                name=\"acceptLongName\"\n                checked={acceptLongName}\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                  setAcceptLongName(event.target.checked);\n                  if (event.target.checked) {\n                    setNewFileName(currentItem);\n                  }\n                }}\n                label={\"Use Original Name\"}\n              />\n            </Grid>\n          </Grid>\n          <Grid item xs={12} className={classes.modalButtonBar}>\n            <Button\n              id={\"download-file\"}\n              type=\"submit\"\n              variant=\"callAction\"\n              color=\"primary\"\n              disabled={newFileName.length > 200 && !acceptLongName}\n              label={\"Download File\"}\n            />\n          </Grid>\n        </Grid>\n      </form>\n    </ModalWrapper>\n  );\n};\n\nexport default RenameLongFileName;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Box } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport {\n  ActionsList,\n  Button,\n  DeleteIcon,\n  DownloadIcon,\n  InspectMenuIcon,\n  LegalHoldIcon,\n  Loader,\n  MetadataIcon,\n  ObjectInfoIcon,\n  PreviewIcon,\n  RetentionIcon,\n  ShareIcon,\n  SimpleHeader,\n  TagsIcon,\n  VersionsIcon,\n} from \"mds\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport get from \"lodash/get\";\nimport Grid from \"@mui/material/Grid\";\nimport {\n  actionsTray,\n  detailsPanel,\n  spacingUtils,\n  textStyleUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { IFileInfo, MetadataResponse } from \"../ObjectDetails/types\";\nimport { extensionPreview } from \"../utils\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\n\nimport {\n  decodeURLString,\n  niceBytes,\n  niceBytesInt,\n  niceDaysInt,\n} from \"../../../../../../common/utils\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport api from \"../../../../../../common/api\";\nimport ShareFile from \"../ObjectDetails/ShareFile\";\nimport SetRetention from \"../ObjectDetails/SetRetention\";\nimport DeleteObject from \"../ListObjects/DeleteObject\";\nimport SetLegalHoldModal from \"../ObjectDetails/SetLegalHoldModal\";\nimport {\n  hasPermission,\n  SecureComponent,\n} from \"../../../../../../common/SecureComponent\";\nimport PreviewFileModal from \"../Preview/PreviewFileModal\";\nimport ObjectMetaData from \"../ObjectDetails/ObjectMetaData\";\nimport { displayFileIconName } from \"./utils\";\nimport TagsModal from \"../ObjectDetails/TagsModal\";\nimport InspectObject from \"./InspectObject\";\nimport { selDistSet } from \"../../../../../../systemSlice\";\nimport {\n  setLoadingObjectInfo,\n  setLoadingVersions,\n  setSelectedVersion,\n  setVersionsModeEnabled,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport RenameLongFileName from \"../../../../ObjectBrowser/RenameLongFilename\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\nimport { BucketVersioningResponse } from \"api/consoleApi\";\n\nconst styles = () =>\n  createStyles({\n    ObjectDetailsTitle: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& .min-icon\": {\n        width: 26,\n        height: 26,\n        minWidth: 26,\n        minHeight: 26,\n      },\n    },\n    objectNameContainer: {\n      whiteSpace: \"nowrap\",\n      textOverflow: \"ellipsis\",\n      overflow: \"hidden\",\n      alignItems: \"center\",\n      marginLeft: 10,\n    },\n    capitalizeFirst: {\n      textTransform: \"capitalize\",\n    },\n\n    ...actionsTray,\n    ...spacingUtils,\n    ...textStyleUtils,\n    ...detailsPanel,\n  });\n\nconst emptyFile: IFileInfo = {\n  is_latest: true,\n  last_modified: \"\",\n  legal_hold_status: \"\",\n  name: \"\",\n  retention_mode: \"\",\n  retention_until_date: \"\",\n  size: \"0\",\n  tags: {},\n  version_id: null,\n};\n\ninterface IObjectDetailPanelProps {\n  classes: any;\n  internalPaths: string;\n  bucketName: string;\n  versioningInfo: BucketVersioningResponse;\n  locking: boolean | undefined;\n  onClosePanel: (hardRefresh: boolean) => void;\n}\n\nconst ObjectDetailPanel = ({\n  classes,\n  internalPaths,\n  bucketName,\n  versioningInfo,\n  locking,\n  onClosePanel,\n}: IObjectDetailPanelProps) => {\n  const dispatch = useAppDispatch();\n\n  const distributedSetup = useSelector(selDistSet);\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode\n  );\n  const selectedVersion = useSelector(\n    (state: AppState) => state.objectBrowser.selectedVersion\n  );\n  const loadingObjectInfo = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjectInfo\n  );\n\n  const [shareFileModalOpen, setShareFileModalOpen] = useState<boolean>(false);\n  const [retentionModalOpen, setRetentionModalOpen] = useState<boolean>(false);\n  const [tagModalOpen, setTagModalOpen] = useState<boolean>(false);\n  const [legalholdOpen, setLegalholdOpen] = useState<boolean>(false);\n  const [inspectModalOpen, setInspectModalOpen] = useState<boolean>(false);\n  const [actualInfo, setActualInfo] = useState<IFileInfo | null>(null);\n  const [allInfoElements, setAllInfoElements] = useState<IFileInfo[]>([]);\n  const [objectToShare, setObjectToShare] = useState<IFileInfo | null>(null);\n  const [versions, setVersions] = useState<IFileInfo[]>([]);\n  const [deleteOpen, setDeleteOpen] = useState<boolean>(false);\n  const [previewOpen, setPreviewOpen] = useState<boolean>(false);\n  const [totalVersionsSize, setTotalVersionsSize] = useState<number>(0);\n  const [longFileOpen, setLongFileOpen] = useState<boolean>(false);\n  const [metaData, setMetaData] = useState<any | null>(null);\n  const [loadMetadata, setLoadingMetadata] = useState<boolean>(false);\n\n  const internalPathsDecoded = decodeURLString(internalPaths) || \"\";\n  const allPathData = internalPathsDecoded.split(\"/\");\n  const currentItem = allPathData.pop() || \"\";\n\n  // calculate object name to display\n  let objectNameArray: string[] = [];\n  if (actualInfo) {\n    objectNameArray = actualInfo.name.split(\"/\");\n  }\n\n  useEffect(() => {\n    if (distributedSetup && allInfoElements && allInfoElements.length >= 1) {\n      let infoElement =\n        allInfoElements.find((el: IFileInfo) => el.is_latest) || emptyFile;\n\n      if (selectedVersion !== \"\") {\n        infoElement =\n          allInfoElements.find(\n            (el: IFileInfo) => el.version_id === selectedVersion\n          ) || emptyFile;\n      }\n\n      if (!infoElement.is_delete_marker) {\n        setLoadingMetadata(true);\n      }\n\n      setActualInfo(infoElement);\n    }\n  }, [selectedVersion, distributedSetup, allInfoElements]);\n\n  useEffect(() => {\n    if (loadingObjectInfo && internalPaths !== \"\") {\n      api\n        .invoke(\n          \"GET\",\n          `/api/v1/buckets/${bucketName}/objects?prefix=${internalPaths}${\n            distributedSetup ? \"&with_versions=true\" : \"\"\n          }`\n        )\n        .then((res: { objects: IFileInfo[] }) => {\n          const result: IFileInfo[] = res.objects || [];\n          if (distributedSetup) {\n            setAllInfoElements(result);\n            setVersions(result);\n\n            const tVersionSize = result.reduce(\n              (acc: number, currValue: IFileInfo): number => {\n                if (currValue?.size) {\n                  return acc + parseInt(currValue.size);\n                }\n                return acc;\n              },\n              0\n            );\n\n            setTotalVersionsSize(tVersionSize);\n          } else {\n            const resInfo = result[0];\n\n            setActualInfo(resInfo);\n            setVersions([]);\n\n            if (!resInfo.is_delete_marker) {\n              setLoadingMetadata(true);\n            }\n          }\n\n          dispatch(setLoadingObjectInfo(false));\n        })\n        .catch((error: ErrorResponseHandler) => {\n          console.error(\"Error loading object details\", error);\n          dispatch(setLoadingObjectInfo(false));\n        });\n    }\n  }, [\n    loadingObjectInfo,\n    bucketName,\n    internalPaths,\n    dispatch,\n    distributedSetup,\n    selectedVersion,\n  ]);\n\n  useEffect(() => {\n    if (loadMetadata && internalPaths !== \"\") {\n      api\n        .invoke(\n          \"GET\",\n          `/api/v1/buckets/${bucketName}/objects/metadata?prefix=${internalPaths}`\n        )\n        .then((res: MetadataResponse) => {\n          let metadata = get(res, \"objectMetadata\", {});\n\n          setMetaData(metadata);\n          setLoadingMetadata(false);\n        })\n        .catch((err) => {\n          console.error(\"Error Getting Metadata Status: \", err.detailedError);\n          setLoadingMetadata(false);\n        });\n    }\n  }, [bucketName, internalPaths, loadMetadata]);\n\n  let tagKeys: string[] = [];\n\n  if (actualInfo && actualInfo.tags) {\n    tagKeys = Object.keys(actualInfo.tags);\n  }\n\n  const openRetentionModal = () => {\n    setRetentionModalOpen(true);\n  };\n\n  const closeRetentionModal = (updateInfo: boolean) => {\n    setRetentionModalOpen(false);\n    if (updateInfo) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const shareObject = () => {\n    setShareFileModalOpen(true);\n  };\n\n  const closeShareModal = () => {\n    setObjectToShare(null);\n    setShareFileModalOpen(false);\n  };\n\n  const closeFileOpen = () => {\n    setLongFileOpen(false);\n  };\n\n  const closeDeleteModal = (closeAndReload: boolean) => {\n    setDeleteOpen(false);\n\n    if (closeAndReload && selectedVersion === \"\") {\n      onClosePanel(true);\n    } else {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeAddTagModal = (reloadObjectData: boolean) => {\n    setTagModalOpen(false);\n    if (reloadObjectData) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeInspectModal = (reloadObjectData: boolean) => {\n    setInspectModalOpen(false);\n    if (reloadObjectData) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeLegalholdModal = (reload: boolean) => {\n    setLegalholdOpen(false);\n    if (reload) {\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const loaderForContainer = (\n    <div style={{ textAlign: \"center\", marginTop: 35 }}>\n      <Loader />\n    </div>\n  );\n\n  if (!actualInfo) {\n    if (loadingObjectInfo) {\n      return loaderForContainer;\n    }\n\n    return null;\n  }\n\n  const objectName =\n    objectNameArray.length > 0\n      ? objectNameArray[objectNameArray.length - 1]\n      : actualInfo.name;\n\n  const objectResources = [\n    bucketName,\n    currentItem,\n    [bucketName, actualInfo.name].join(\"/\"),\n  ];\n  const canSetLegalHold = hasPermission(bucketName, [\n    IAM_SCOPES.S3_PUT_OBJECT_LEGAL_HOLD,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n  const canSetTags = hasPermission(objectResources, [\n    IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const canChangeRetention = hasPermission(\n    objectResources,\n    [\n      IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n      IAM_SCOPES.S3_PUT_OBJECT_RETENTION,\n      IAM_SCOPES.S3_GET_ACTIONS,\n      IAM_SCOPES.S3_PUT_ACTIONS,\n    ],\n    true\n  );\n  const canInspect = hasPermission(objectResources, [\n    IAM_SCOPES.ADMIN_INSPECT_DATA,\n  ]);\n  const canChangeVersioning = hasPermission(objectResources, [\n    IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_GET_OBJECT_VERSION,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n  const canGetObject = hasPermission(objectResources, [\n    IAM_SCOPES.S3_GET_OBJECT,\n    IAM_SCOPES.S3_GET_ACTIONS,\n  ]);\n  const canDelete = hasPermission(\n    [bucketName, currentItem, [bucketName, actualInfo.name].join(\"/\")],\n    [IAM_SCOPES.S3_DELETE_OBJECT]\n  );\n\n  const multiActionButtons = [\n    {\n      action: () => {\n        downloadObject(dispatch, bucketName, internalPaths, actualInfo);\n      },\n      label: \"Download\",\n      disabled: !!actualInfo.is_delete_marker || !canGetObject,\n      icon: <DownloadIcon />,\n      tooltip: canGetObject\n        ? \"Download this Object\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"download this object\"\n          ),\n    },\n    {\n      action: () => {\n        shareObject();\n      },\n      label: \"Share\",\n      disabled: !!actualInfo.is_delete_marker || !canGetObject,\n      icon: <ShareIcon />,\n      tooltip: canGetObject\n        ? \"Share this File\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"share this object\"\n          ),\n    },\n    {\n      action: () => {\n        setPreviewOpen(true);\n      },\n      label: \"Preview\",\n      disabled:\n        !!actualInfo.is_delete_marker ||\n        extensionPreview(currentItem) === \"none\" ||\n        !canGetObject,\n      icon: <PreviewIcon />,\n      tooltip: canGetObject\n        ? \"Preview this File\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"preview this object\"\n          ),\n    },\n    {\n      action: () => {\n        setLegalholdOpen(true);\n      },\n      label: \"Legal Hold\",\n      disabled:\n        !locking ||\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        !canSetLegalHold ||\n        selectedVersion !== \"\",\n      icon: <LegalHoldIcon />,\n      tooltip: canSetLegalHold\n        ? locking\n          ? \"Change Legal Hold rules for this File\"\n          : \"Object Locking must be enabled on this bucket in order to set Legal Hold\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_PUT_OBJECT_LEGAL_HOLD, IAM_SCOPES.S3_PUT_ACTIONS],\n            \"change legal hold settings for this object\"\n          ),\n    },\n    {\n      action: openRetentionModal,\n      label: \"Retention\",\n      disabled:\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        !canChangeRetention ||\n        selectedVersion !== \"\" ||\n        !locking,\n      icon: <RetentionIcon />,\n      tooltip: canChangeRetention\n        ? locking\n          ? \"Change Retention rules for this File\"\n          : \"Object Locking must be enabled on this bucket in order to set Retention Rules\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n              IAM_SCOPES.S3_PUT_OBJECT_RETENTION,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"change Retention Rules for this object\"\n          ),\n    },\n    {\n      action: () => {\n        setTagModalOpen(true);\n      },\n      label: \"Tags\",\n      disabled:\n        !!actualInfo.is_delete_marker || selectedVersion !== \"\" || !canSetTags,\n      icon: <TagsIcon />,\n      tooltip: canSetTags\n        ? \"Change Tags for this File\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_PUT_OBJECT_TAGGING,\n              IAM_SCOPES.S3_GET_OBJECT_TAGGING,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"set Tags on this object\"\n          ),\n    },\n    {\n      action: () => {\n        setInspectModalOpen(true);\n      },\n      label: \"Inspect\",\n      disabled:\n        !distributedSetup ||\n        !!actualInfo.is_delete_marker ||\n        selectedVersion !== \"\" ||\n        !canInspect,\n      icon: <InspectMenuIcon />,\n      tooltip: canInspect\n        ? \"Inspect this file\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.ADMIN_INSPECT_DATA],\n            \"inspect this file\"\n          ),\n    },\n    {\n      action: () => {\n        dispatch(\n          setVersionsModeEnabled({\n            status: !versionsMode,\n            objectName: objectName,\n          })\n        );\n      },\n      label: versionsMode ? \"Hide Object Versions\" : \"Display Object Versions\",\n      icon: <VersionsIcon />,\n      disabled:\n        !distributedSetup ||\n        !(actualInfo.version_id && actualInfo.version_id !== \"null\") ||\n        !canChangeVersioning,\n      tooltip: canChangeVersioning\n        ? actualInfo.version_id && actualInfo.version_id !== \"null\"\n          ? \"Display Versions for this file\"\n          : \"\"\n        : permissionTooltipHelper(\n            [\n              IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n              IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n              IAM_SCOPES.S3_GET_OBJECT_VERSION,\n              IAM_SCOPES.S3_GET_ACTIONS,\n              IAM_SCOPES.S3_PUT_ACTIONS,\n            ],\n            \"display all versions of this object\"\n          ),\n    },\n  ];\n\n  const calculateLastModifyTime = (lastModified: string) => {\n    const currentTime = new Date();\n    const modifiedTime = new Date(lastModified);\n\n    const difTime = currentTime.getTime() - modifiedTime.getTime();\n\n    const formatTime = niceDaysInt(difTime, \"ms\");\n\n    return formatTime.trim() !== \"\" ? `${formatTime} ago` : \"Just now\";\n  };\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && actualInfo && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={objectToShare || actualInfo}\n        />\n      )}\n      {retentionModalOpen && actualInfo && (\n        <SetRetention\n          open={retentionModalOpen}\n          closeModalAndRefresh={closeRetentionModal}\n          objectName={currentItem}\n          objectInfo={actualInfo}\n          bucketName={bucketName}\n        />\n      )}\n      {deleteOpen && (\n        <DeleteObject\n          deleteOpen={deleteOpen}\n          selectedBucket={bucketName}\n          selectedObject={internalPaths}\n          closeDeleteModalAndRefresh={closeDeleteModal}\n          versioningInfo={distributedSetup ? versioningInfo : undefined}\n          selectedVersion={selectedVersion}\n        />\n      )}\n      {legalholdOpen && actualInfo && (\n        <SetLegalHoldModal\n          open={legalholdOpen}\n          closeModalAndRefresh={closeLegalholdModal}\n          objectName={actualInfo.name}\n          bucketName={bucketName}\n          actualInfo={actualInfo}\n        />\n      )}\n      {previewOpen && actualInfo && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={{\n            name: actualInfo.name,\n            version_id: actualInfo.version_id || \"null\",\n            size: parseInt(actualInfo.size || \"0\"),\n            content_type: \"\",\n            last_modified: actualInfo.last_modified,\n          }}\n          onClosePreview={() => {\n            setPreviewOpen(false);\n          }}\n        />\n      )}\n      {tagModalOpen && actualInfo && (\n        <TagsModal\n          modalOpen={tagModalOpen}\n          bucketName={bucketName}\n          actualInfo={actualInfo}\n          onCloseAndUpdate={closeAddTagModal}\n        />\n      )}\n      {inspectModalOpen && actualInfo && (\n        <InspectObject\n          inspectOpen={inspectModalOpen}\n          volumeName={bucketName}\n          inspectPath={actualInfo.name}\n          closeInspectModalAndRefresh={closeInspectModal}\n        />\n      )}\n      {longFileOpen && actualInfo && (\n        <RenameLongFileName\n          open={longFileOpen}\n          closeModal={closeFileOpen}\n          currentItem={currentItem}\n          bucketName={bucketName}\n          internalPaths={internalPaths}\n          actualInfo={actualInfo}\n        />\n      )}\n\n      {loadingObjectInfo ? (\n        <Fragment>{loaderForContainer}</Fragment>\n      ) : (\n        <Fragment>\n          <ActionsList\n            title={\n              <div className={classes.ObjectDetailsTitle}>\n                {displayFileIconName(objectName, true)}\n                <span className={classes.objectNameContainer}>\n                  {objectName}\n                </span>\n              </div>\n            }\n            items={multiActionButtons}\n          />\n          <TooltipWrapper\n            tooltip={\n              canDelete\n                ? \"\"\n                : permissionTooltipHelper(\n                    [IAM_SCOPES.S3_DELETE_OBJECT],\n                    \"delete this object\"\n                  )\n            }\n          >\n            <Grid\n              item\n              xs={12}\n              sx={{ justifyContent: \"center\", display: \"flex\" }}\n            >\n              <SecureComponent\n                resource={[\n                  bucketName,\n                  currentItem,\n                  [bucketName, actualInfo.name].join(\"/\"),\n                ]}\n                scopes={[IAM_SCOPES.S3_DELETE_OBJECT]}\n                errorProps={{ disabled: true }}\n              >\n                <Button\n                  id={\"delete-element-click\"}\n                  icon={<DeleteIcon />}\n                  iconLocation={\"start\"}\n                  fullWidth\n                  variant={\"secondary\"}\n                  onClick={() => {\n                    setDeleteOpen(true);\n                  }}\n                  disabled={\n                    selectedVersion === \"\" && actualInfo.is_delete_marker\n                  }\n                  sx={{\n                    width: \"calc(100% - 44px)\",\n                    margin: \"8px 0\",\n                  }}\n                  label={`Delete${selectedVersion !== \"\" ? \" version\" : \"\"}`}\n                />\n              </SecureComponent>\n            </Grid>\n          </TooltipWrapper>\n          <SimpleHeader icon={<ObjectInfoIcon />} label={\"Object Info\"} />\n          <Box className={classes.detailContainer}>\n            <strong>Name:</strong>\n            <br />\n            <div style={{ overflowWrap: \"break-word\" }}>{objectName}</div>\n          </Box>\n          {selectedVersion !== \"\" && (\n            <Box className={classes.detailContainer}>\n              <strong>Version ID:</strong>\n              <br />\n              {selectedVersion}\n            </Box>\n          )}\n          <Box className={classes.detailContainer}>\n            <strong>Size:</strong>\n            <br />\n            {niceBytes(actualInfo.size || \"0\")}\n          </Box>\n          {actualInfo.version_id &&\n            actualInfo.version_id !== \"null\" &&\n            selectedVersion === \"\" && (\n              <Box className={classes.detailContainer}>\n                <strong>Versions:</strong>\n                <br />\n                {versions.length} version{versions.length !== 1 ? \"s\" : \"\"},{\" \"}\n                {niceBytesInt(totalVersionsSize)}\n              </Box>\n            )}\n          {selectedVersion === \"\" && (\n            <Box className={classes.detailContainer}>\n              <strong>Last Modified:</strong>\n              <br />\n              {calculateLastModifyTime(actualInfo.last_modified)}\n            </Box>\n          )}\n          <Box className={classes.detailContainer}>\n            <strong>ETAG:</strong>\n            <br />\n            {actualInfo.etag || \"N/A\"}\n          </Box>\n          <Box className={classes.detailContainer}>\n            <strong>Tags:</strong>\n            <br />\n            {tagKeys.length === 0\n              ? \"N/A\"\n              : tagKeys.map((tagKey, index) => {\n                  return (\n                    <span key={`key-vs-${index.toString()}`}>\n                      {tagKey}:{get(actualInfo, `tags.${tagKey}`, \"\")}\n                      {index < tagKeys.length - 1 ? \", \" : \"\"}\n                    </span>\n                  );\n                })}\n          </Box>\n          <Box className={classes.detailContainer}>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_LEGAL_HOLD,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Fragment>\n                <strong>Legal Hold:</strong>\n                <br />\n                {actualInfo.legal_hold_status ? \"On\" : \"Off\"}\n              </Fragment>\n            </SecureComponent>\n          </Box>\n          <Box className={classes.detailContainer}>\n            <SecureComponent\n              scopes={[\n                IAM_SCOPES.S3_GET_OBJECT_RETENTION,\n                IAM_SCOPES.S3_GET_ACTIONS,\n              ]}\n              resource={bucketName}\n            >\n              <Fragment>\n                <strong>Retention Policy:</strong>\n                <br />\n                <span className={classes.capitalizeFirst}>\n                  {actualInfo.version_id && actualInfo.version_id !== \"null\" ? (\n                    <Fragment>\n                      {actualInfo.retention_mode\n                        ? actualInfo.retention_mode.toLowerCase()\n                        : \"None\"}\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      {actualInfo.retention_mode\n                        ? actualInfo.retention_mode.toLowerCase()\n                        : \"None\"}\n                    </Fragment>\n                  )}\n                </span>\n              </Fragment>\n            </SecureComponent>\n          </Box>\n          {!actualInfo.is_delete_marker && (\n            <Fragment>\n              <SimpleHeader label={\"Metadata\"} icon={<MetadataIcon />} />\n              <Box className={classes.detailContainer}>\n                {actualInfo && metaData ? (\n                  <ObjectMetaData metaData={metaData} linear />\n                ) : null}\n              </Box>\n            </Fragment>\n          )}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(ObjectDetailPanel);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { modalBasic } from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport api from \"../../../../../../common/api\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport { Box, RecoverIcon } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\nimport { IFileInfo } from \"./types\";\nimport { restoreLocalObjectList } from \"../../../../ObjectBrowser/objectBrowserSlice\";\n\ninterface IRestoreFileVersion {\n  classes: any;\n  restoreOpen: boolean;\n  bucketName: string;\n  versionToRestore: IFileInfo;\n  objectPath: string;\n  onCloseAndUpdate: (refresh: boolean) => void;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...modalBasic,\n  });\n\nconst RestoreFileVersion = ({\n  classes,\n  versionToRestore,\n  bucketName,\n  objectPath,\n  restoreOpen,\n  onCloseAndUpdate,\n}: IRestoreFileVersion) => {\n  const dispatch = useAppDispatch();\n  const [restoreLoading, setRestoreLoading] = useState<boolean>(false);\n\n  const restoreVersion = () => {\n    setRestoreLoading(true);\n\n    api\n      .invoke(\n        \"PUT\",\n        `/api/v1/buckets/${bucketName}/objects/restore?prefix=${encodeURLString(\n          objectPath\n        )}&version_id=${versionToRestore.version_id}`\n      )\n      .then((res: any) => {\n        setRestoreLoading(false);\n        onCloseAndUpdate(true);\n        dispatch(\n          restoreLocalObjectList({\n            prefix: objectPath,\n            objectInfo: versionToRestore,\n          })\n        );\n      })\n      .catch((error: ErrorResponseHandler) => {\n        dispatch(setErrorSnackMessage(error));\n        setRestoreLoading(false);\n      });\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Restore File Version`}\n      confirmText={\"Restore\"}\n      isOpen={restoreOpen}\n      isLoading={restoreLoading}\n      titleIcon={<RecoverIcon />}\n      onConfirm={restoreVersion}\n      confirmButtonProps={{\n        variant: \"secondary\",\n        disabled: restoreLoading,\n      }}\n      onClose={() => {\n        onCloseAndUpdate(false);\n      }}\n      confirmationContent={\n        <Box id=\"alert-dialog-description\">\n          Are you sure you want to restore <br />\n          <b>{objectPath}</b> <br /> with Version ID:\n          <br />\n          <b className={classes.wrapText}>{versionToRestore.version_id}</b>?\n        </Box>\n      }\n    />\n  );\n};\n\nexport default withStyles(styles)(RestoreFileVersion);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\n\ninterface ISpecificVersionPillProps {\n  type: \"null\" | \"current\" | \"deleted\";\n}\n\nconst SpecificVersionPill = ({ type }: ISpecificVersionPillProps) => {\n  let bgColor = \"#000\";\n  let message = \"\";\n\n  switch (type) {\n    case \"null\":\n      bgColor = \"#07193E\";\n      message = \"NULL VERSION\";\n      break;\n    case \"deleted\":\n      bgColor = \"#868686\";\n      message = \"DELETED\";\n      break;\n    default:\n      bgColor = \"#174551\";\n      message = \"CURRENT VERSION\";\n  }\n\n  return (\n    <span\n      style={{\n        backgroundColor: bgColor,\n        padding: \"0 5px\",\n        display: \"inline-block\",\n        color: \"#FFF\",\n        fontWeight: \"bold\",\n        fontSize: 12,\n        borderRadius: 2,\n        whiteSpace: \"nowrap\",\n        margin: \"0 10px\",\n      }}\n    >\n      {message}\n    </span>\n  );\n};\n\nexport default SpecificVersionPill;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { DateTime } from \"luxon\";\nimport styled from \"styled-components\";\nimport get from \"lodash/get\";\nimport { displayFileIconName } from \"../ListObjects/utils\";\nimport { IFileInfo } from \"./types\";\nimport {\n  DownloadIcon,\n  PreviewIcon,\n  RecoverIcon,\n  ShareIcon,\n  IconButton,\n  Tooltip,\n  Grid,\n} from \"mds\";\nimport { niceBytes } from \"../../../../../../common/utils\";\nimport SpecificVersionPill from \"./SpecificVersionPill\";\nimport CheckboxWrapper from \"../../../../Common/FormComponents/CheckboxWrapper/CheckboxWrapper\";\n\ninterface IFileVersionItem {\n  fileName: string;\n  versionInfo: IFileInfo;\n  index: number;\n  isSelected?: boolean;\n  checkable: boolean;\n  isChecked: boolean;\n  onCheck: (versionID: string) => void;\n  onShare: (versionInfo: IFileInfo) => void;\n  onDownload: (versionInfo: IFileInfo) => void;\n  onRestore: (versionInfo: IFileInfo) => void;\n  onPreview: (versionInfo: IFileInfo) => void;\n  globalClick: (versionInfo: IFileInfo) => void;\n  key: any;\n  style: any;\n}\n\nconst FileVersionStyled = styled.div(({ theme }) => {\n  return {\n    \"&:before\": {\n      content: \"' '\",\n      display: \"block\",\n      position: \"absolute\",\n      width: \"2px\",\n      height: \"calc(100% + 2px)\",\n      backgroundColor: get(theme, \"borderColor\", \"#F8F8F8\"),\n      left: \"24px\",\n    },\n    \"& .mainFileVersionItem\": {\n      borderBottom: `${get(theme, \"borderColor\", \"#F8F8F8\")} 1px solid`,\n      padding: \"1rem 0\",\n      margin: \"0 0.5rem 0 2.5rem\",\n      cursor: \"pointer\",\n      \"&.deleted\": {\n        color: \"#868686\",\n      },\n    },\n    \"& .intermediateLayer\": {\n      margin: \"0 1.5rem 0 1.5rem\",\n      \"&:hover, &.selected\": {\n        backgroundColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n        \"& > div\": {\n          borderBottomColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n        },\n      },\n    },\n    \"& .versionContainer\": {\n      fontSize: 16,\n      fontWeight: \"bold\",\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& svg.min-icon\": {\n        width: 18,\n        height: 18,\n        minWidth: 18,\n        minHeight: 18,\n        marginRight: 10,\n      },\n    },\n    \"& .buttonContainer\": {\n      textAlign: \"right\",\n      \"& button\": {\n        marginLeft: \"1.5rem\",\n      },\n    },\n    \"& .versionID\": {\n      fontSize: \"12px\",\n      margin: \"2px 0\",\n      whiteSpace: \"nowrap\",\n      textOverflow: \"ellipsis\",\n      maxWidth: \"95%\",\n      overflow: \"hidden\",\n    },\n    \"& .versionData\": {\n      marginRight: \"10px\",\n      fontSize: 12,\n      color: \"#868686\",\n    },\n    \"@media (max-width: 600px)\": {\n      \"& .buttonContainer\": {\n        \"& button\": {\n          marginLeft: \"5px\",\n        },\n      },\n    },\n    \"@media (max-width: 799px)\": {\n      \"&:before\": {\n        display: \"none\",\n      },\n      \"& .mainFileVersionItem\": {\n        padding: \"5px 0px\",\n        margin: 0,\n      },\n      \"& .intermediateLayer\": {\n        margin: 0,\n        \"&:hover, &.selected\": {\n          backgroundColor: \"transparent\",\n          \"& > div\": {\n            borderBottomColor: get(theme, \"boxBackground\", \"#F8F8F8\"),\n          },\n        },\n      },\n      \"& .versionContainer\": {\n        fontSize: 14,\n        \"& svg.min-icon\": {\n          display: \"none\",\n        },\n      },\n      \"& .versionData\": {\n        textOverflow: \"ellipsis\",\n        maxWidth: \"95%\",\n        overflow: \"hidden\",\n        whiteSpace: \"nowrap\",\n      },\n      \"& .collapsableInfo\": {\n        display: \"flex\",\n        flexDirection: \"column\",\n      },\n      \"& .versionItem\": {\n        display: \"none\",\n      },\n    },\n  };\n});\n\nconst FileVersionItem = ({\n  fileName,\n  versionInfo,\n  isSelected,\n  checkable,\n  isChecked,\n  onCheck,\n  onShare,\n  onDownload,\n  onRestore,\n  onPreview,\n  globalClick,\n  index,\n  key,\n  style,\n}: IFileVersionItem) => {\n  const disableButtons = versionInfo.is_delete_marker;\n\n  const versionItemButtons = [\n    {\n      icon: <PreviewIcon />,\n      action: onPreview,\n      tooltip: \"Preview\",\n    },\n    {\n      icon: <DownloadIcon />,\n      action: onDownload,\n      tooltip: \"Download this version\",\n    },\n    {\n      icon: <ShareIcon />,\n      action: onShare,\n      tooltip: \"Share this version\",\n    },\n    {\n      icon: <RecoverIcon />,\n      action: onRestore,\n      tooltip: \"Restore this version\",\n    },\n  ];\n\n  let pill: \"deleted\" | \"current\" | \"null\" | null = null;\n\n  if (versionInfo.is_delete_marker) {\n    pill = \"deleted\";\n  } else if (versionInfo.is_latest) {\n    pill = \"current\";\n  } else if (versionInfo.version_id === \"null\") {\n    pill = \"null\";\n  }\n\n  let lastModified = DateTime.now();\n\n  if (versionInfo.last_modified) {\n    lastModified = DateTime.fromISO(versionInfo.last_modified);\n  }\n\n  return (\n    <FileVersionStyled>\n      <Grid\n        container\n        className={\"ctrItem\"}\n        onClick={() => {\n          globalClick(versionInfo);\n        }}\n        key={key}\n        style={style}\n      >\n        <Grid\n          item\n          xs={12}\n          className={`${\"intermediateLayer\"} ${isSelected ? \"selected\" : \"\"}`}\n        >\n          <Grid\n            item\n            xs\n            className={`mainFileVersionItem ${\n              versionInfo.is_delete_marker ? \"deleted\" : \"\"\n            }`}\n          >\n            <Grid item xs={12}>\n              <Grid container>\n                <Grid item xs md={4} className={\"versionContainer\"}>\n                  {checkable && (\n                    <CheckboxWrapper\n                      checked={isChecked}\n                      id={`select-${versionInfo.version_id}`}\n                      label={\"\"}\n                      name={`select-${versionInfo.version_id}`}\n                      onChange={(e) => {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        onCheck(versionInfo.version_id || \"\");\n                      }}\n                      value={versionInfo.version_id || \"\"}\n                      disabled={versionInfo.is_delete_marker}\n                      overrideCheckboxStyles={{\n                        paddingLeft: 0,\n                        height: 34,\n                        width: 25,\n                      }}\n                      noTopMargin\n                    />\n                  )}\n                  {displayFileIconName(fileName, true)} v{index.toString()}\n                  <span className={\"versionItem\"}>\n                    {pill && <SpecificVersionPill type={pill} />}\n                  </span>\n                </Grid>\n                <Grid item xs={10} md={8} className={\"buttonContainer\"}>\n                  {versionItemButtons.map((button, index) => {\n                    return (\n                      <Tooltip\n                        tooltip={button.tooltip}\n                        key={`version-action-${\n                          button.tooltip\n                        }-${index.toString()}`}\n                      >\n                        <IconButton\n                          size={\"small\"}\n                          id={`version-action-${\n                            button.tooltip\n                          }-${index.toString()}`}\n                          className={`${\"spacing\"} ${\n                            disableButtons ? \"buttonDisabled\" : \"\"\n                          }`}\n                          disabled={disableButtons}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            if (!disableButtons) {\n                              button.action(versionInfo);\n                            } else {\n                              e.preventDefault();\n                            }\n                          }}\n                          sx={{\n                            backgroundColor: \"#F8F8F8\",\n                            borderRadius: \"100%\",\n                            width: \"28px\",\n                            height: \"28px\",\n                            padding: \"5px\",\n                            \"& .min-icon\": {\n                              width: \"14px\",\n                              height: \"14px\",\n                            },\n                          }}\n                        >\n                          {button.icon}\n                        </IconButton>\n                      </Tooltip>\n                    );\n                  })}\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} className={\"versionID\"}>\n              {versionInfo.version_id !== \"null\" ? versionInfo.version_id : \"-\"}\n            </Grid>\n            <Grid item xs={12} className={\"collapsableInfo\"}>\n              <span className={\"versionData\"}>\n                <strong>Last modified:</strong>{\" \"}\n                {lastModified.toFormat(\"ccc, LLL dd yyyy HH:mm:ss (ZZZZ)\")}\n              </span>\n              <span className={\"versionData\"}>\n                <strong>Size:</strong> {niceBytes(versionInfo.size || \"0\")}\n              </span>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </FileVersionStyled>\n  );\n};\n\nexport default FileVersionItem;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\n\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport { decodeURLString } from \"../../../../../../common/utils\";\nimport { ConfirmDeleteIcon, Switch, Grid, InputBox } from \"mds\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport api from \"../../../../../../common/api\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\n\ninterface IDeleteNonCurrentProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedObject: string;\n  selectedBucket: string;\n}\n\nconst DeleteNonCurrentVersions = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedObject,\n}: IDeleteNonCurrentProps) => {\n  const dispatch = useAppDispatch();\n  const [deleteLoading, setDeleteLoading] = useState<boolean>(false);\n  const [typeConfirm, setTypeConfirm] = useState<string>(\"\");\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION]\n    ) && retentionConfig?.mode === \"governance\";\n\n  useEffect(() => {\n    if (deleteLoading) {\n      api\n        .invoke(\n          \"DELETE\",\n          `/api/v1/buckets/${selectedBucket}/objects?path=${selectedObject}&non_current_versions=true${\n            bypassGovernance ? \"&bypass=true\" : \"\"\n          }`\n        )\n        .then(() => {\n          closeDeleteModalAndRefresh(true);\n        })\n        .catch((error: ErrorResponseHandler) => {\n          dispatch(setErrorSnackMessage(error));\n          setDeleteLoading(false);\n        });\n    }\n  }, [\n    deleteLoading,\n    closeDeleteModalAndRefresh,\n    dispatch,\n    selectedObject,\n    selectedBucket,\n    bypassGovernance,\n  ]);\n\n  if (!selectedObject) {\n    return null;\n  }\n  const onConfirmDelete = () => {\n    setDeleteLoading(true);\n  };\n\n  return (\n    <ConfirmDialog\n      title={`Delete Non-Current versions`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={() => closeDeleteModalAndRefresh(false)}\n      confirmButtonProps={{\n        disabled: typeConfirm !== \"YES, PROCEED\" || deleteLoading,\n      }}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete all the non-current versions for:{\" \"}\n          <b>{decodeURLString(selectedObject)}</b>? <br />\n          {canBypass && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n          <br />\n          To continue please type <b>YES, PROCEED</b> in the box.\n          <br />\n          <br />\n          <Grid item xs={12}>\n            <InputBox\n              id=\"type-confirm\"\n              name=\"retype-tenant\"\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                setTypeConfirm(event.target.value);\n              }}\n              label=\"\"\n              value={typeConfirm}\n            />\n          </Grid>\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteNonCurrentVersions;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport ConfirmDialog from \"../../../../Common/ModalWrapper/ConfirmDialog\";\nimport { ConfirmDeleteIcon, Switch } from \"mds\";\nimport api from \"../../../../../../common/api\";\nimport { setErrorSnackMessage } from \"../../../../../../systemSlice\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { IAM_SCOPES } from \"../../../../../../common/SecureComponent/permissions\";\nimport { useSelector } from \"react-redux\";\n\ninterface IDeleteSelectedVersionsProps {\n  closeDeleteModalAndRefresh: (refresh: boolean) => void;\n  deleteOpen: boolean;\n  selectedVersions: string[];\n  selectedObject: string;\n  selectedBucket: string;\n}\n\nconst DeleteObject = ({\n  closeDeleteModalAndRefresh,\n  deleteOpen,\n  selectedBucket,\n  selectedVersions,\n  selectedObject,\n}: IDeleteSelectedVersionsProps) => {\n  const dispatch = useAppDispatch();\n  const [deleteLoading, setDeleteLoading] = useState<boolean>(false);\n  const [bypassGovernance, setBypassGovernance] = useState<boolean>(false);\n\n  const retentionConfig = useSelector(\n    (state: AppState) => state.objectBrowser.retentionConfig\n  );\n\n  const canBypass =\n    hasPermission(\n      [selectedBucket],\n      [IAM_SCOPES.S3_BYPASS_GOVERNANCE_RETENTION]\n    ) && retentionConfig?.mode === \"governance\";\n\n  const onClose = () => closeDeleteModalAndRefresh(false);\n  const onConfirmDelete = () => {\n    setDeleteLoading(true);\n  };\n\n  useEffect(() => {\n    if (deleteLoading) {\n      const selectedObjectsRequest = selectedVersions.map((versionID) => {\n        return {\n          path: selectedObject,\n          versionID: versionID,\n          recursive: false,\n        };\n      });\n\n      if (selectedObjectsRequest.length > 0) {\n        api\n          .invoke(\n            \"POST\",\n            `/api/v1/buckets/${selectedBucket}/delete-objects?all_versions=false${\n              bypassGovernance ? \"&bypass=true\" : \"\"\n            }`,\n            selectedObjectsRequest\n          )\n          .then(() => {\n            setDeleteLoading(false);\n            closeDeleteModalAndRefresh(true);\n          })\n          .catch((error: ErrorResponseHandler) => {\n            dispatch(setErrorSnackMessage(error));\n            setDeleteLoading(false);\n          });\n      }\n    }\n  }, [\n    deleteLoading,\n    closeDeleteModalAndRefresh,\n    selectedBucket,\n    selectedObject,\n    selectedVersions,\n    bypassGovernance,\n    dispatch,\n  ]);\n\n  if (!selectedVersions) {\n    return null;\n  }\n\n  return (\n    <ConfirmDialog\n      title={`Delete Selected Versions`}\n      confirmText={\"Delete\"}\n      isOpen={deleteOpen}\n      titleIcon={<ConfirmDeleteIcon />}\n      isLoading={deleteLoading}\n      onConfirm={onConfirmDelete}\n      onClose={onClose}\n      confirmationContent={\n        <Fragment>\n          Are you sure you want to delete the selected {selectedVersions.length}{\" \"}\n          versions for <strong>{selectedObject}</strong>?\n          {canBypass && (\n            <Fragment>\n              <div\n                style={{\n                  marginTop: 10,\n                }}\n              >\n                <Switch\n                  label={\"Bypass Governance Mode\"}\n                  indicatorLabels={[\"Yes\", \"No\"]}\n                  checked={bypassGovernance}\n                  value={\"bypass_governance\"}\n                  id=\"bypass_governance\"\n                  name=\"bypass_governance\"\n                  onChange={(e) => {\n                    setBypassGovernance(!bypassGovernance);\n                  }}\n                  description=\"\"\n                />\n              </div>\n            </Fragment>\n          )}\n        </Fragment>\n      }\n    />\n  );\n};\n\nexport default DeleteObject;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport get from \"lodash/get\";\nimport { useSelector } from \"react-redux\";\nimport { withStyles } from \"@mui/styles\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { LinearProgress } from \"@mui/material\";\nimport Grid from \"@mui/material/Grid\";\nimport ShareFile from \"./ShareFile\";\nimport {\n  actionsTray,\n  containerForHeader,\n  objectBrowserCommon,\n  objectBrowserExtras,\n  spacingUtils,\n  tableStyles,\n  textStyleUtils,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { IFileInfo } from \"./types\";\nimport api from \"../../../../../../common/api\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\n\nimport { decodeURLString, niceBytesInt } from \"../../../../../../common/utils\";\nimport RestoreFileVersion from \"./RestoreFileVersion\";\n\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport {\n  Button,\n  DeleteIcon,\n  DeleteNonCurrentIcon,\n  Select,\n  SelectMultipleIcon,\n  VersionsIcon,\n  ScreenTitle,\n} from \"mds\";\nimport FileVersionItem from \"./FileVersionItem\";\nimport PreviewFileModal from \"../Preview/PreviewFileModal\";\nimport DeleteNonCurrent from \"../ListObjects/DeleteNonCurrent\";\nimport BrowserBreadcrumbs from \"../../../../ObjectBrowser/BrowserBreadcrumbs\";\nimport DeleteSelectedVersions from \"./DeleteSelectedVersions\";\nimport {\n  selDistSet,\n  setErrorSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport {\n  setLoadingObjectInfo,\n  setLoadingVersions,\n  setSelectedVersion,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport { List, ListRowProps } from \"react-virtualized\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    versionsContainer: {\n      padding: 10,\n      \"@media (max-width: 799px)\": {\n        minHeight: 800,\n      },\n    },\n    noBottomBorder: {\n      borderBottom: 0,\n    },\n    versionsVirtualPanel: {\n      flexGrow: 1,\n      height: \"calc(100% - 120px)\",\n      overflow: \"auto\",\n      \"@media (max-width: 799px)\": {\n        height: 600,\n      },\n    },\n    screenTitleContainer: {\n      position: \"relative\",\n      \"@media (max-width: 799px)\": {\n        \"&::before\": {\n          display: \"none\",\n        },\n      },\n    },\n    sortByLabel: {\n      color: \"#838383\",\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      marginRight: 12,\n      fontSize: 14,\n      \"@media (max-width: 600px)\": {\n        display: \"none\",\n      },\n    },\n    ...actionsTray,\n    ...tableStyles,\n    ...spacingUtils,\n    ...textStyleUtils,\n    ...objectBrowserCommon,\n    ...objectBrowserExtras,\n    ...containerForHeader,\n  });\n\ninterface IVersionsNavigatorProps {\n  classes: any;\n  internalPaths: string;\n  bucketName: string;\n}\n\nconst emptyFile: IFileInfo = {\n  is_latest: true,\n  last_modified: \"\",\n  legal_hold_status: \"\",\n  name: \"\",\n  retention_mode: \"\",\n  retention_until_date: \"\",\n  size: \"0\",\n  tags: {},\n  version_id: null,\n};\n\nconst VersionsNavigator = ({\n  classes,\n  internalPaths,\n  bucketName,\n}: IVersionsNavigatorProps) => {\n  const dispatch = useAppDispatch();\n\n  const searchVersions = useSelector(\n    (state: AppState) => state.objectBrowser.searchVersions\n  );\n  const loadingVersions = useSelector(\n    (state: AppState) => state.objectBrowser.loadingVersions\n  );\n  const selectedVersion = useSelector(\n    (state: AppState) => state.objectBrowser.selectedVersion\n  );\n\n  const distributedSetup = useSelector(selDistSet);\n  const [shareFileModalOpen, setShareFileModalOpen] = useState<boolean>(false);\n  const [actualInfo, setActualInfo] = useState<IFileInfo | null>(null);\n  const [objectToShare, setObjectToShare] = useState<IFileInfo | null>(null);\n  const [versions, setVersions] = useState<IFileInfo[]>([]);\n  const [restoreVersionOpen, setRestoreVersionOpen] = useState<boolean>(false);\n  const [restoreVersion, setRestoreVersion] = useState<IFileInfo | null>(null);\n  const [sortValue, setSortValue] = useState<string>(\"date\");\n  const [previewOpen, setPreviewOpen] = useState<boolean>(false);\n  const [deleteNonCurrentOpen, setDeleteNonCurrentOpen] =\n    useState<boolean>(false);\n  const [selectEnabled, setSelectEnabled] = useState<boolean>(false);\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n  const [delSelectedVOpen, setDelSelectedVOpen] = useState<boolean>(false);\n\n  // calculate object name to display\n  let objectNameArray: string[] = [];\n  if (actualInfo) {\n    objectNameArray = actualInfo.name.split(\"/\");\n  }\n\n  useEffect(() => {\n    if (!loadingVersions && !actualInfo) {\n      dispatch(setLoadingVersions(true));\n    }\n  }, [loadingVersions, actualInfo, dispatch]);\n\n  useEffect(() => {\n    if (loadingVersions && internalPaths !== \"\") {\n      api\n        .invoke(\n          \"GET\",\n          `/api/v1/buckets/${bucketName}/objects?prefix=${internalPaths}${\n            distributedSetup ? \"&with_versions=true\" : \"\"\n          }`\n        )\n        .then((res: IFileInfo[]) => {\n          const result = get(res, \"objects\", []);\n\n          const decodedInternalPaths = decodeURLString(internalPaths);\n\n          // Filter the results prefixes as API can return more files than expected.\n          const filteredPrefixes = result.filter(\n            (item: IFileInfo) => item.name === decodedInternalPaths\n          );\n\n          if (distributedSetup) {\n            setActualInfo(\n              filteredPrefixes.find((el: IFileInfo) => el.is_latest) ||\n                emptyFile\n            );\n            setVersions(filteredPrefixes);\n          } else {\n            setActualInfo(filteredPrefixes[0]);\n            setVersions([]);\n          }\n\n          dispatch(setLoadingVersions(false));\n        })\n        .catch((err: ErrorResponseHandler) => {\n          dispatch(setErrorSnackMessage(err));\n          dispatch(setLoadingVersions(false));\n        });\n    }\n  }, [loadingVersions, bucketName, internalPaths, dispatch, distributedSetup]);\n\n  const shareObject = () => {\n    setShareFileModalOpen(true);\n  };\n\n  const closeShareModal = () => {\n    setObjectToShare(null);\n    setShareFileModalOpen(false);\n    setPreviewOpen(false);\n  };\n\n  const onShareItem = (item: IFileInfo) => {\n    setObjectToShare(item);\n    shareObject();\n  };\n\n  const onPreviewItem = (item: IFileInfo) => {\n    setObjectToShare(item);\n    setPreviewOpen(true);\n  };\n\n  const onRestoreItem = (item: IFileInfo) => {\n    setRestoreVersion(item);\n    setRestoreVersionOpen(true);\n  };\n\n  const onDownloadItem = (item: IFileInfo) => {\n    downloadObject(dispatch, bucketName, internalPaths, item);\n  };\n\n  const onGlobalClick = (item: IFileInfo) => {\n    dispatch(setSelectedVersion(item.version_id || \"\"));\n  };\n\n  const filteredRecords = versions.filter((version) => {\n    if (version.version_id) {\n      return version.version_id.includes(searchVersions);\n    }\n    return false;\n  });\n\n  const closeRestoreModal = (reloadObjectData: boolean) => {\n    setRestoreVersionOpen(false);\n    setRestoreVersion(null);\n\n    if (reloadObjectData) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeDeleteNonCurrent = (reloadAfterDelete: boolean) => {\n    setDeleteNonCurrentOpen(false);\n\n    if (reloadAfterDelete) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n    }\n  };\n\n  const closeSelectedVersions = (reloadOnComplete: boolean) => {\n    setDelSelectedVOpen(false);\n\n    if (reloadOnComplete) {\n      dispatch(setLoadingVersions(true));\n      dispatch(setSelectedVersion(\"\"));\n      dispatch(setLoadingObjectInfo(true));\n      setSelectedItems([]);\n    }\n  };\n\n  const totalSpace = versions.reduce((acc: number, currValue: IFileInfo) => {\n    if (currValue.size) {\n      return acc + parseInt(currValue.size);\n    }\n    return acc;\n  }, 0);\n\n  filteredRecords.sort((a, b) => {\n    switch (sortValue) {\n      case \"size\":\n        if (a.size && b.size) {\n          if (a.size < b.size) {\n            return -1;\n          }\n          if (a.size > b.size) {\n            return 1;\n          }\n          return 0;\n        }\n        return 0;\n      default:\n        const dateA = new Date(a.last_modified).getTime();\n        const dateB = new Date(b.last_modified).getTime();\n\n        if (dateA < dateB) {\n          return 1;\n        }\n        if (dateA > dateB) {\n          return -1;\n        }\n        return 0;\n    }\n  });\n\n  const onCheckVersion = (selectedVersion: string) => {\n    if (selectedItems.includes(selectedVersion)) {\n      const filteredItems = selectedItems.filter(\n        (element) => element !== selectedVersion\n      );\n\n      setSelectedItems(filteredItems);\n\n      return;\n    }\n\n    const cloneState = [...selectedItems];\n    cloneState.push(selectedVersion);\n\n    setSelectedItems(cloneState);\n  };\n\n  const rowRenderer = ({\n    key, // Unique key within array of rows\n    index, // Index of row within collection\n    isScrolling, // The List is currently being scrolled\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\n    style, // Style object to be applied to row (to position it)\n  }: ListRowProps) => {\n    const versOrd = versions.length - index;\n    return (\n      <FileVersionItem\n        style={style}\n        key={key}\n        fileName={actualInfo?.name || \"\"}\n        versionInfo={filteredRecords[index]}\n        index={versOrd}\n        onDownload={onDownloadItem}\n        onRestore={onRestoreItem}\n        onShare={onShareItem}\n        onPreview={onPreviewItem}\n        globalClick={onGlobalClick}\n        isSelected={selectedVersion === filteredRecords[index].version_id}\n        checkable={selectEnabled}\n        onCheck={onCheckVersion}\n        isChecked={selectedItems.includes(\n          filteredRecords[index].version_id || \"\"\n        )}\n      />\n    );\n  };\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && actualInfo && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={objectToShare || actualInfo}\n        />\n      )}\n      {restoreVersionOpen && actualInfo && restoreVersion && (\n        <RestoreFileVersion\n          restoreOpen={restoreVersionOpen}\n          bucketName={bucketName}\n          versionToRestore={restoreVersion}\n          objectPath={actualInfo.name}\n          onCloseAndUpdate={closeRestoreModal}\n        />\n      )}\n      {previewOpen && actualInfo && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={{\n            name: actualInfo.name,\n            version_id:\n              objectToShare && objectToShare.version_id\n                ? objectToShare.version_id\n                : \"null\",\n            size: parseInt(\n              objectToShare && objectToShare.size ? objectToShare.size : \"0\"\n            ),\n            content_type: \"\",\n            last_modified: actualInfo.last_modified,\n          }}\n          onClosePreview={() => {\n            setPreviewOpen(false);\n          }}\n        />\n      )}\n      {deleteNonCurrentOpen && (\n        <DeleteNonCurrent\n          deleteOpen={deleteNonCurrentOpen}\n          closeDeleteModalAndRefresh={closeDeleteNonCurrent}\n          selectedBucket={bucketName}\n          selectedObject={internalPaths}\n        />\n      )}\n      {delSelectedVOpen && (\n        <DeleteSelectedVersions\n          selectedBucket={bucketName}\n          selectedObject={decodeURLString(internalPaths)}\n          deleteOpen={delSelectedVOpen}\n          selectedVersions={selectedItems}\n          closeDeleteModalAndRefresh={closeSelectedVersions}\n        />\n      )}\n      <Grid container className={classes.versionsContainer}>\n        {!actualInfo && (\n          <Grid item xs={12}>\n            <LinearProgress />\n          </Grid>\n        )}\n\n        {actualInfo && (\n          <Fragment>\n            <Grid item xs={12}>\n              <BrowserBreadcrumbs\n                bucketName={bucketName}\n                internalPaths={decodeURLString(internalPaths)}\n                hidePathButton={true}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.screenTitleContainer}>\n              <ScreenTitle\n                icon={\n                  <span className={classes.listIcon}>\n                    <VersionsIcon />\n                  </span>\n                }\n                title={`${\n                  objectNameArray.length > 0\n                    ? objectNameArray[objectNameArray.length - 1]\n                    : actualInfo.name\n                } Versions`}\n                subTitle={\n                  <Fragment>\n                    <span className={classes.detailsSpacer}>\n                      <strong>\n                        {versions.length} Version\n                        {versions.length === 1 ? \"\" : \"s\"}&nbsp;&nbsp;&nbsp;\n                      </strong>\n                    </span>\n                    <span className={classes.detailsSpacer}>\n                      <strong>{niceBytesInt(totalSpace)}</strong>\n                    </span>\n                  </Fragment>\n                }\n                actions={\n                  <Fragment>\n                    <TooltipWrapper tooltip={\"Select Multiple Versions\"}>\n                      <Button\n                        id={\"select-multiple-versions\"}\n                        onClick={() => {\n                          setSelectEnabled(!selectEnabled);\n                        }}\n                        icon={<SelectMultipleIcon />}\n                        variant={selectEnabled ? \"callAction\" : \"regular\"}\n                        style={{ marginRight: 8 }}\n                      />\n                    </TooltipWrapper>\n                    {selectEnabled && (\n                      <TooltipWrapper tooltip={\"Delete Selected Versions\"}>\n                        <Button\n                          id={\"delete-multiple-versions\"}\n                          onClick={() => {\n                            setDelSelectedVOpen(true);\n                          }}\n                          icon={<DeleteIcon />}\n                          variant={\"secondary\"}\n                          style={{ marginRight: 8 }}\n                          disabled={selectedItems.length === 0}\n                        />\n                      </TooltipWrapper>\n                    )}\n                    <TooltipWrapper tooltip={\"Delete Non Current Versions\"}>\n                      <Button\n                        id={\"delete-non-current\"}\n                        onClick={() => {\n                          setDeleteNonCurrentOpen(true);\n                        }}\n                        icon={<DeleteNonCurrentIcon />}\n                        variant={\"secondary\"}\n                        style={{ marginRight: 15 }}\n                        disabled={versions.length <= 1}\n                      />\n                    </TooltipWrapper>\n                    <Select\n                      id={\"sort-by\"}\n                      options={[\n                        { label: \"Date\", value: \"date\" },\n                        {\n                          label: \"Size\",\n                          value: \"size\",\n                        },\n                      ]}\n                      value={sortValue}\n                      label={\"Sort by\"}\n                      onChange={(newValue) => {\n                        setSortValue(newValue);\n                      }}\n                      noLabelMinWidth\n                    />\n                  </Fragment>\n                }\n                bottomBorder={false}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.versionsVirtualPanel}>\n              {actualInfo.version_id && actualInfo.version_id !== \"null\" && (\n                // @ts-ignore\n                <List\n                  style={{\n                    width: \"100%\",\n                  }}\n                  containerStyle={{\n                    width: \"100%\",\n                    maxWidth: \"100%\",\n                  }}\n                  width={1}\n                  height={800}\n                  rowCount={filteredRecords.length}\n                  rowHeight={108}\n                  rowRenderer={rowRenderer}\n                />\n              )}\n            </Grid>\n          </Fragment>\n        )}\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(VersionsNavigator);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { DateTime } from \"luxon\";\nimport { BucketObjectItem } from \"./types\";\nimport { niceBytes } from \"../../../../../../common/utils\";\nimport { displayFileIconName } from \"./utils\";\n\n// Functions\n\nexport const displayParsedDate = (object: BucketObjectItem) => {\n  if (object.name.endsWith(\"/\")) {\n    return \"\";\n  }\n\n  const currTime = DateTime.now();\n  const objectTime = DateTime.fromISO(object.last_modified);\n\n  const isToday =\n    currTime.hasSame(objectTime, \"day\") &&\n    currTime.hasSame(objectTime, \"month\") &&\n    currTime.hasSame(objectTime, \"year\");\n\n  if (isToday) {\n    return `Today, ${objectTime.toFormat(\"HH:mm\")}`;\n  }\n\n  return objectTime.toFormat(\"ccc, LLL dd yyyy HH:mm (ZZZZ)\");\n};\n\nexport const displayNiceBytes = (object: BucketObjectItem) => {\n  if (object.name.endsWith(\"/\") || !object.size) {\n    return \"-\";\n  }\n  return niceBytes(String(object.size));\n};\n\nexport const displayDeleteFlag = (state: boolean) => {\n  return state ? \"Yes\" : \"No\";\n};\n\n// Table Props\n\nexport const listModeColumns = [\n  {\n    label: \"Name\",\n    elementKey: \"name\",\n    renderFunction: displayFileIconName,\n    enableSort: true,\n  },\n  {\n    label: \"Last Modified\",\n    elementKey: \"last_modified\",\n    renderFunction: displayParsedDate,\n    renderFullObject: true,\n    enableSort: true,\n  },\n  {\n    label: \"Size\",\n    elementKey: \"size\",\n    renderFunction: displayNiceBytes,\n    renderFullObject: true,\n    width: 100,\n    enableSort: true,\n  },\n];\n\nexport const rewindModeColumns = [\n  {\n    label: \"Name\",\n    elementKey: \"name\",\n    renderFunction: displayFileIconName,\n    enableSort: true,\n  },\n  {\n    label: \"Object Date\",\n    elementKey: \"last_modified\",\n    renderFunction: displayParsedDate,\n    renderFullObject: true,\n    enableSort: true,\n  },\n  {\n    label: \"Size\",\n    elementKey: \"size\",\n    renderFunction: displayNiceBytes,\n    renderFullObject: true,\n    width: 100,\n    enableSort: true,\n  },\n  {\n    label: \"Deleted\",\n    elementKey: \"delete_flag\",\n    renderFunction: displayDeleteFlag,\n    width: 60,\n  },\n];\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { listModeColumns, rewindModeColumns } from \"./ListObjectsHelpers\";\nimport { ItemActions } from \"../../../../Common/TableWrapper/TableWrapper\";\nimport React, { useState } from \"react\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport { useSelector } from \"react-redux\";\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport { selFeatures } from \"../../../../consoleSlice\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport {\n  setIsOpeningOD,\n  setLoadingObjects,\n  setLoadingVersions,\n  setObjectDetailsView,\n  setSelectedObjects,\n  setSelectedObjectView,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport get from \"lodash/get\";\nimport { sortListObjects } from \"../utils\";\nimport { BucketObjectItem } from \"./types\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport { hasPermission } from \"../../../../../../common/SecureComponent\";\nimport { downloadObject } from \"../../../../ObjectBrowser/utils\";\nimport { IFileInfo } from \"../ObjectDetails/types\";\nimport { DataTable } from \"mds\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    browsePaper: {\n      border: 0,\n      \"@media (max-width: 800px)\": {\n        width: 800,\n      },\n    },\n    parentWrapper: {\n      position: \"relative\",\n      height: \"calc(100% - 60px)\",\n      \"@media (max-width: 800px)\": {\n        overflowX: \"auto\",\n      },\n      \"@media (max-width: 1060px)\": {\n        height: \"calc(100% - 115px)\",\n      },\n    },\n    \"@global\": {\n      \".rowLine:hover  .iconFileElm\": {\n        backgroundImage: \"url(/images/ob_file_filled.svg)\",\n      },\n      \".rowLine:hover  .iconFolderElm\": {\n        backgroundImage: \"url(/images/ob_folder_filled.svg)\",\n      },\n    },\n  })\n);\n\ninterface IListObjectTable {\n  internalPaths: string | null;\n}\n\nconst ListObjectsTable = ({ internalPaths }: IListObjectTable) => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const navigate = useNavigate();\n\n  const [sortDirection, setSortDirection] = useState<\n    \"ASC\" | \"DESC\" | undefined\n  >(\"ASC\");\n  const [currentSortField, setCurrentSortField] = useState<string>(\"name\");\n\n  const bucketName = params.bucketName || \"\";\n\n  const detailsOpen = useSelector(\n    (state: AppState) => state.objectBrowser.objectDetailsOpen\n  );\n\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects\n  );\n\n  const features = useSelector(selFeatures);\n  const obOnly = !!features?.includes(\"object-browser-only\");\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled\n  );\n  const records = useSelector((state: AppState) => state.objectBrowser.records);\n  const searchObjects = useSelector(\n    (state: AppState) => state.objectBrowser.searchObjects\n  );\n  const selectedObjects = useSelector(\n    (state: AppState) => state.objectBrowser.selectedObjects\n  );\n  const connectionError = useSelector(\n    (state: AppState) => state.objectBrowser.connectionError\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n\n  const displayListObjects = hasPermission(bucketName, [\n    IAM_SCOPES.S3_LIST_BUCKET,\n    IAM_SCOPES.S3_ALL_LIST_BUCKET,\n  ]);\n\n  const filteredRecords = records.filter((b: BucketObjectItem) => {\n    if (searchObjects === \"\") {\n      return true;\n    } else {\n      const objectName = b.name.toLowerCase();\n      if (objectName.indexOf(searchObjects.toLowerCase()) >= 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  });\n\n  const plSelect = filteredRecords;\n  const sortASC = plSelect.sort(sortListObjects(currentSortField));\n\n  let payload: BucketObjectItem[] = [];\n\n  if (sortDirection === \"ASC\") {\n    payload = sortASC;\n  } else {\n    payload = sortASC.reverse();\n  }\n\n  const openPath = (object: IFileInfo) => {\n    const idElement = object.name;\n    const newPath = `/browser/${bucketName}${\n      idElement ? `/${encodeURLString(idElement)}` : ``\n    }`;\n\n    // for anonymous start download\n    if (anonymousMode && internalPaths !== null && !object.name.endsWith(\"/\")) {\n      downloadObject(\n        dispatch,\n        bucketName,\n        `${encodeURLString(idElement)}`,\n        object\n      );\n      return;\n    }\n    dispatch(setSelectedObjects([]));\n\n    navigate(newPath);\n\n    if (!anonymousMode) {\n      dispatch(setObjectDetailsView(true));\n      dispatch(setLoadingVersions(true));\n      dispatch(setIsOpeningOD(true));\n    }\n    dispatch(\n      setSelectedObjectView(\n        `${idElement ? `${encodeURLString(idElement)}` : ``}`\n      )\n    );\n  };\n  const tableActions: ItemActions[] = [\n    {\n      type: \"view\",\n      label: \"View\",\n      onClick: openPath,\n      sendOnlyId: false,\n    },\n  ];\n\n  const sortChange = (sortData: any) => {\n    const newSortDirection = get(sortData, \"sortDirection\", \"DESC\");\n    setCurrentSortField(sortData.sortBy);\n    setSortDirection(newSortDirection);\n    dispatch(setLoadingObjects(true));\n  };\n\n  const selectAllItems = () => {\n    dispatch(setSelectedObjectView(null));\n\n    if (selectedObjects.length === payload.length) {\n      dispatch(setSelectedObjects([]));\n      return;\n    }\n\n    const elements = payload.map((item) => item.name);\n    dispatch(setSelectedObjects(elements));\n  };\n\n  const selectListObjects = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const targetD = e.target;\n    const value = targetD.value;\n    const checked = targetD.checked;\n\n    let elements: string[] = [...selectedObjects]; // We clone the selectedBuckets array\n\n    if (checked) {\n      // If the user has checked this field we need to push this to selectedBucketsList\n      elements.push(value);\n    } else {\n      // User has unchecked this field, we need to remove it from the list\n      elements = elements.filter((element) => element !== value);\n    }\n    dispatch(setSelectedObjects(elements));\n    dispatch(setSelectedObjectView(null));\n\n    return elements;\n  };\n\n  let errorMessage =\n    !displayListObjects && !anonymousMode\n      ? permissionTooltipHelper(\n          [IAM_SCOPES.S3_LIST_BUCKET, IAM_SCOPES.S3_ALL_LIST_BUCKET],\n          \"view Objects in this bucket\"\n        )\n      : `This location is empty${\n          !rewindEnabled ? \", please try uploading a new file\" : \"\"\n        }`;\n\n  if (connectionError) {\n    errorMessage =\n      \"Objects List unavailable. Please review your WebSockets configuration and try again\";\n  }\n\n  let customPaperHeight = \"calc(100vh - 290px)\";\n\n  if (obOnly) {\n    customPaperHeight = \"calc(100vh - 315px)\";\n  }\n\n  return (\n    <DataTable\n      itemActions={tableActions}\n      columns={rewindEnabled ? rewindModeColumns : listModeColumns}\n      isLoading={loadingObjects}\n      entityName=\"Objects\"\n      idField=\"name\"\n      records={payload}\n      customPaperHeight={customPaperHeight}\n      selectedItems={selectedObjects}\n      onSelect={!anonymousMode ? selectListObjects : undefined}\n      customEmptyMessage={errorMessage}\n      sortConfig={{\n        currentSort: currentSortField,\n        currentDirection: sortDirection,\n        triggerSort: sortChange,\n      }}\n      onSelectAll={selectAllItems}\n      rowStyle={({ index }) => {\n        if (payload[index]?.delete_flag) {\n          return \"deleted\";\n        }\n\n        return \"\";\n      }}\n      parentClassName={classes.parentWrapper}\n      sx={{\n        minHeight: detailsOpen ? \"100%\" : \"initial\",\n      }}\n      noBackground\n    />\n  );\n};\nexport default ListObjectsTable;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { AppState } from \"../../../store\";\nimport { encodeURLString, getClientOS } from \"../../../common/utils\";\nimport { BucketObjectItem } from \"../Buckets/ListBuckets/Objects/ListObjects/types\";\nimport { makeid, storeCallForObjectWithID } from \"./transferManager\";\nimport { download } from \"../Buckets/ListBuckets/Objects/utils\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  setAnonymousAccessOpen,\n  setDownloadRenameModal,\n  setNewObject,\n  setPreviewOpen,\n  setSelectedPreview,\n  setShareFileModalOpen,\n  updateProgress,\n} from \"./objectBrowserSlice\";\nimport { setSnackBarMessage } from \"../../../systemSlice\";\n\nexport const downloadSelected = createAsyncThunk(\n  \"objectBrowser/downloadSelected\",\n  async (bucketName: string, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    const downloadObject = (object: BucketObjectItem) => {\n      const identityDownload = encodeURLString(\n        `${bucketName}-${object.name}-${new Date().getTime()}-${Math.random()}`\n      );\n\n      const ID = makeid(8);\n\n      const downloadCall = download(\n        bucketName,\n        encodeURLString(object.name),\n        object.version_id,\n        object.size,\n        null,\n        ID,\n        (progress) => {\n          dispatch(\n            updateProgress({\n              instanceID: identityDownload,\n              progress: progress,\n            })\n          );\n        },\n        () => {\n          dispatch(completeObject(identityDownload));\n        },\n        (msg: string) => {\n          dispatch(failObject({ instanceID: identityDownload, msg }));\n        },\n        () => {\n          dispatch(cancelObjectInList(identityDownload));\n        },\n        () => {\n          dispatch(\n            setSnackBarMessage(\n              \"File download will be handled directly by the browser.\"\n            )\n          );\n        }\n      );\n      storeCallForObjectWithID(ID, downloadCall);\n      dispatch(\n        setNewObject({\n          ID,\n          bucketName,\n          done: false,\n          instanceID: identityDownload,\n          percentage: 0,\n          prefix: object.name,\n          type: \"download\",\n          waitingForFile: true,\n          failed: false,\n          cancelled: false,\n          errorMessage: \"\",\n        })\n      );\n    };\n\n    if (state.objectBrowser.selectedObjects.length !== 0) {\n      let itemsToDownload: BucketObjectItem[] = [];\n\n      const filterFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      itemsToDownload = state.objectBrowser.records.filter(filterFunction);\n\n      // I case just one element is selected, then we trigger download modal validation.\n      // We are going to enforce zip download when multiple files are selected\n      if (itemsToDownload.length === 1) {\n        if (\n          itemsToDownload[0].name.length > 200 &&\n          getClientOS().toLowerCase().includes(\"win\")\n        ) {\n          dispatch(setDownloadRenameModal(itemsToDownload[0]));\n          return;\n        }\n      }\n\n      itemsToDownload.forEach((filteredItem) => {\n        downloadObject(filteredItem);\n      });\n    }\n  }\n);\n\nexport const openPreview = createAsyncThunk(\n  \"objectBrowser/openPreview\",\n  async (_, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (state.objectBrowser.selectedObjects.length === 1) {\n      let fileObject: BucketObjectItem | undefined;\n\n      const findFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      fileObject = state.objectBrowser.records.find(findFunction);\n\n      if (fileObject) {\n        dispatch(setSelectedPreview(fileObject));\n        dispatch(setPreviewOpen(true));\n      }\n    }\n  }\n);\n\nexport const openShare = createAsyncThunk(\n  \"objectBrowser/openShare\",\n  async (_, { getState, rejectWithValue, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (state.objectBrowser.selectedObjects.length === 1) {\n      let fileObject: BucketObjectItem | undefined;\n\n      const findFunction = (currValue: BucketObjectItem) =>\n        state.objectBrowser.selectedObjects.includes(currValue.name);\n\n      fileObject = state.objectBrowser.records.find(findFunction);\n\n      if (fileObject) {\n        dispatch(setSelectedPreview(fileObject));\n        dispatch(setShareFileModalOpen(true));\n      }\n    }\n  }\n);\n\nexport const openAnonymousAccess = createAsyncThunk(\n  \"objectBrowser/openAnonymousAccess\",\n  async (_, { getState, dispatch }) => {\n    const state = getState() as AppState;\n\n    if (\n      state.objectBrowser.selectedObjects.length === 1 &&\n      state.objectBrowser.selectedObjects[0].endsWith(\"/\")\n    ) {\n      dispatch(setAnonymousAccessOpen(true));\n    }\n  }\n);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { setSearchObjects } from \"./objectBrowserSlice\";\nimport SearchBox from \"../Common/SearchBox\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport { useSelector } from \"react-redux\";\n\nconst FilterObjectsSB = () => {\n  const dispatch = useAppDispatch();\n\n  const searchObjects = useSelector(\n    (state: AppState) => state.objectBrowser.searchObjects\n  );\n  return (\n    <SearchBox\n      placeholder={\"Start typing to filter objects in the bucket\"}\n      onChange={(value) => {\n        dispatch(setSearchObjects(value));\n      }}\n      value={searchObjects}\n    />\n  );\n};\nexport default FilterObjectsSB;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, {\n  Fragment,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { useDropzone } from \"react-dropzone\";\nimport { Theme } from \"@mui/material/styles\";\nimport {\n  AccessRuleIcon,\n  ActionsList,\n  BucketsIcon,\n  Button,\n  DeleteIcon,\n  DownloadIcon,\n  HistoryIcon,\n  PageLayout,\n  PreviewIcon,\n  RefreshIcon,\n  ScreenTitle,\n  ShareIcon,\n} from \"mds\";\nimport { DateTime } from \"luxon\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport Grid from \"@mui/material/Grid\";\nimport get from \"lodash/get\";\nimport {\n  decodeURLString,\n  encodeURLString,\n  niceBytesInt,\n} from \"../../../../../../common/utils\";\n\nimport {\n  actionsTray,\n  containerForHeader,\n  objectBrowserCommon,\n  objectBrowserExtras,\n  searchField,\n  tableStyles,\n} from \"../../../../Common/FormComponents/common/styleLibrary\";\nimport { Badge } from \"@mui/material\";\nimport BrowserBreadcrumbs from \"../../../../ObjectBrowser/BrowserBreadcrumbs\";\nimport { extensionPreview } from \"../utils\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\n\nimport { AppState, useAppDispatch } from \"../../../../../../store\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../../common/SecureComponent/permissions\";\nimport {\n  hasPermission,\n  SecureComponent,\n} from \"../../../../../../common/SecureComponent\";\nimport withSuspense from \"../../../../Common/Components/withSuspense\";\nimport UploadFilesButton from \"../../UploadFilesButton\";\nimport DetailsListPanel from \"./DetailsListPanel\";\nimport ObjectDetailPanel from \"./ObjectDetailPanel\";\nimport VersionsNavigator from \"../ObjectDetails/VersionsNavigator\";\nimport CheckboxWrapper from \"../../../../Common/FormComponents/CheckboxWrapper/CheckboxWrapper\";\n\nimport {\n  setErrorSnackMessage,\n  setSnackBarMessage,\n} from \"../../../../../../systemSlice\";\n\nimport {\n  makeid,\n  removeTrace,\n  storeCallForObjectWithID,\n  storeFormDataWithID,\n} from \"../../../../ObjectBrowser/transferManager\";\nimport {\n  cancelObjectInList,\n  completeObject,\n  failObject,\n  openList,\n  resetMessages,\n  resetRewind,\n  setAnonymousAccessOpen,\n  setDownloadRenameModal,\n  setLoadingObjects,\n  setLoadingRecords,\n  setLoadingVersions,\n  setNewObject,\n  setObjectDetailsView,\n  setPreviewOpen,\n  setRetentionConfig,\n  setSearchObjects,\n  setSelectedBucket,\n  setSelectedObjects,\n  setSelectedObjectView,\n  setSelectedPreview,\n  setShareFileModalOpen,\n  setShowDeletedObjects,\n  setVersionsModeEnabled,\n  updateProgress,\n} from \"../../../../ObjectBrowser/objectBrowserSlice\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport {\n  selBucketDetailsInfo,\n  selBucketDetailsLoading,\n  setBucketDetailsLoad,\n  setBucketInfo,\n} from \"../../../BucketDetails/bucketDetailsSlice\";\nimport RenameLongFileName from \"../../../../ObjectBrowser/RenameLongFilename\";\nimport TooltipWrapper from \"../../../../Common/TooltipWrapper/TooltipWrapper\";\nimport ListObjectsTable from \"./ListObjectsTable\";\nimport {\n  downloadSelected,\n  openAnonymousAccess,\n  openPreview,\n  openShare,\n} from \"../../../../ObjectBrowser/objectBrowserThunks\";\n\nimport FilterObjectsSB from \"../../../../ObjectBrowser/FilterObjectsSB\";\nimport AddAccessRule from \"../../../BucketDetails/AddAccessRule\";\nimport { isVersionedMode } from \"../../../../../../utils/validationFunctions\";\nimport { api } from \"api\";\nimport { errorToHandler } from \"api/errors\";\nimport { BucketQuota } from \"api/consoleApi\";\nimport {\n  extractFileExtn,\n  getPolicyAllowedFileExtensions,\n  getSessionGrantsWildCard,\n} from \"../../UploadPermissionUtils\";\n\nconst DeleteMultipleObjects = withSuspense(\n  React.lazy(() => import(\"./DeleteMultipleObjects\"))\n);\nconst ShareFile = withSuspense(\n  React.lazy(() => import(\"../ObjectDetails/ShareFile\"))\n);\nconst RewindEnable = withSuspense(React.lazy(() => import(\"./RewindEnable\")));\nconst PreviewFileModal = withSuspense(\n  React.lazy(() => import(\"../Preview/PreviewFileModal\"))\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    badgeOverlap: {\n      \"& .MuiBadge-badge\": {\n        top: 10,\n        right: 1,\n        width: 5,\n        height: 5,\n        minWidth: 5,\n      },\n    },\n    ...tableStyles,\n    ...actionsTray,\n    ...searchField,\n\n    searchField: {\n      ...searchField.searchField,\n      maxWidth: 380,\n    },\n    screenTitleContainer: {\n      border: \"#EAEDEE 1px solid\",\n      padding: \"0 5px\",\n    },\n    labelStyle: {\n      color: \"#969FA8\",\n      fontSize: \"12px\",\n    },\n    breadcrumbsContainer: {\n      padding: \"12px 14px 5px\",\n    },\n    fullContainer: {\n      width: \"100%\",\n      position: \"relative\",\n      \"&.detailsOpen\": {\n        \"@media (max-width: 799px)\": {\n          display: \"none\",\n        },\n      },\n    },\n    hideListOnSmall: {\n      \"@media (max-width: 799px)\": {\n        display: \"none\",\n      },\n    },\n    actionsSection: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n    },\n    ...objectBrowserExtras,\n    ...objectBrowserCommon,\n    ...containerForHeader,\n  })\n);\n\nconst baseDnDStyle = {\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: \"#eeeeee\",\n  outline: \"none\",\n};\n\nconst activeDnDStyle = {\n  borderStyle: \"dashed\",\n  backgroundColor: \"#fafafa\",\n  borderColor: \"#2196f3\",\n};\n\nconst acceptDnDStyle = {\n  borderStyle: \"dashed\",\n  backgroundColor: \"#fafafa\",\n  borderColor: \"#00e676\",\n};\n\nconst ListObjects = () => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const params = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const rewindEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.rewindEnabled\n  );\n  const bucketToRewind = useSelector(\n    (state: AppState) => state.objectBrowser.rewind.bucketToRewind\n  );\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode\n  );\n\n  const showDeleted = useSelector(\n    (state: AppState) => state.objectBrowser.showDeleted\n  );\n  const detailsOpen = useSelector(\n    (state: AppState) => state.objectBrowser.objectDetailsOpen\n  );\n  const selectedInternalPaths = useSelector(\n    (state: AppState) => state.objectBrowser.selectedInternalPaths\n  );\n  const loadingObjects = useSelector(\n    (state: AppState) => state.objectBrowser.loadingObjects\n  );\n  const simplePath = useSelector(\n    (state: AppState) => state.objectBrowser.simplePath\n  );\n\n  const versioningConfig = useSelector(\n    (state: AppState) => state.objectBrowser.versionInfo\n  );\n  const lockingEnabled = useSelector(\n    (state: AppState) => state.objectBrowser.lockingEnabled\n  );\n  const downloadRenameModal = useSelector(\n    (state: AppState) => state.objectBrowser.downloadRenameModal\n  );\n  const selectedPreview = useSelector(\n    (state: AppState) => state.objectBrowser.selectedPreview\n  );\n  const shareFileModalOpen = useSelector(\n    (state: AppState) => state.objectBrowser.shareFileModalOpen\n  );\n  const previewOpen = useSelector(\n    (state: AppState) => state.objectBrowser.previewOpen\n  );\n  const selectedBucket = useSelector(\n    (state: AppState) => state.objectBrowser.selectedBucket\n  );\n  const anonymousMode = useSelector(\n    (state: AppState) => state.system.anonymousMode\n  );\n  const anonymousAccessOpen = useSelector(\n    (state: AppState) => state.objectBrowser.anonymousAccessOpen\n  );\n\n  const loadingBucket = useSelector(selBucketDetailsLoading);\n  const bucketInfo = useSelector(selBucketDetailsInfo);\n\n  const [deleteMultipleOpen, setDeleteMultipleOpen] = useState<boolean>(false);\n  const [rewindSelect, setRewindSelect] = useState<boolean>(false);\n  const [iniLoad, setIniLoad] = useState<boolean>(false);\n  const [canShareFile, setCanShareFile] = useState<boolean>(false);\n  const [canPreviewFile, setCanPreviewFile] = useState<boolean>(false);\n  const [quota, setQuota] = useState<BucketQuota | null>(null);\n\n  const isVersioningApplied = isVersionedMode(versioningConfig.status);\n  const bucketName = params.bucketName || \"\";\n\n  const pathSegment = location.pathname.split(`/browser/${bucketName}/`);\n  const internalPaths = pathSegment.length === 2 ? pathSegment[1] : \"\";\n\n  const pageTitle = decodeURLString(internalPaths);\n  const currentPath = pageTitle.split(\"/\").filter((i: string) => i !== \"\");\n\n  let uploadPath = [bucketName];\n  if (currentPath.length > 0) {\n    uploadPath = uploadPath.concat(currentPath);\n  }\n\n  const fileUpload = useRef<HTMLInputElement>(null);\n  const folderUpload = useRef<HTMLInputElement>(null);\n\n  const sessionGrants = useSelector((state: AppState) =>\n    state.console.session ? state.console.session.permissions || {} : {}\n  );\n\n  const putObjectPermScopes = [\n    IAM_SCOPES.S3_PUT_OBJECT,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ];\n\n  const pathAsResourceInPolicy = uploadPath.join(\"/\");\n  const allowedFileExtensions = getPolicyAllowedFileExtensions(\n    sessionGrants,\n    pathAsResourceInPolicy,\n    putObjectPermScopes\n  );\n\n  const sessionGrantWildCards = getSessionGrantsWildCard(\n    sessionGrants,\n    pathAsResourceInPolicy,\n    putObjectPermScopes\n  );\n\n  const canDownload = hasPermission(bucketName, [\n    IAM_SCOPES.S3_GET_OBJECT,\n    IAM_SCOPES.S3_GET_ACTIONS,\n  ]);\n  const canDelete = hasPermission(bucketName, [IAM_SCOPES.S3_DELETE_OBJECT]);\n  const canUpload =\n    hasPermission(\n      [pathAsResourceInPolicy, ...sessionGrantWildCards],\n      putObjectPermScopes\n    ) || anonymousMode;\n\n  const displayDeleteObject = hasPermission(bucketName, [\n    IAM_SCOPES.S3_DELETE_OBJECT,\n  ]);\n  const canSetAnonymousAccess = hasPermission(bucketName, [\n    IAM_SCOPES.S3_GET_BUCKET_POLICY,\n    IAM_SCOPES.S3_PUT_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const selectedObjects = useSelector(\n    (state: AppState) => state.objectBrowser.selectedObjects\n  );\n\n  useEffect(() => {\n    dispatch(setSearchObjects(\"\"));\n    dispatch(setLoadingObjects(true));\n    dispatch(setSelectedObjects([]));\n  }, [simplePath, dispatch]);\n\n  useEffect(() => {\n    if (rewindEnabled) {\n      if (bucketToRewind !== bucketName) {\n        dispatch(resetRewind());\n        return;\n      }\n    }\n  }, [rewindEnabled, bucketToRewind, bucketName, dispatch]);\n\n  // END OF WS HANDLERS\n\n  useEffect(() => {\n    if (folderUpload.current !== null) {\n      folderUpload.current.setAttribute(\"directory\", \"\");\n      folderUpload.current.setAttribute(\"webkitdirectory\", \"\");\n    }\n  }, [folderUpload]);\n\n  useEffect(() => {\n    if (selectedObjects.length === 1) {\n      const objectName = selectedObjects[0];\n\n      if (extensionPreview(objectName) !== \"none\") {\n        setCanPreviewFile(true);\n      } else {\n        setCanPreviewFile(false);\n      }\n\n      if (objectName.endsWith(\"/\")) {\n        setCanShareFile(false);\n      } else {\n        setCanShareFile(true);\n      }\n    } else {\n      setCanShareFile(false);\n      setCanPreviewFile(false);\n    }\n  }, [selectedObjects]);\n\n  useEffect(() => {\n    if (!quota && !anonymousMode) {\n      api.buckets\n        .getBucketQuota(bucketName)\n        .then((res) => {\n          let quotaVals = null;\n\n          if (res.data.quota) {\n            quotaVals = res.data;\n          }\n\n          setQuota(quotaVals);\n        })\n        .catch((err) => {\n          console.error(\n            \"Error Getting Quota Status: \",\n            err.error.detailedMessage\n          );\n          setQuota(null);\n        });\n    }\n  }, [quota, bucketName, anonymousMode]);\n\n  useEffect(() => {\n    if (selectedObjects.length > 0) {\n      dispatch(setObjectDetailsView(true));\n      return;\n    }\n\n    if (\n      selectedObjects.length === 0 &&\n      selectedInternalPaths === null &&\n      !loadingObjects\n    ) {\n      dispatch(setObjectDetailsView(false));\n    }\n  }, [selectedObjects, selectedInternalPaths, dispatch, loadingObjects]);\n\n  useEffect(() => {\n    if (!iniLoad) {\n      dispatch(setBucketDetailsLoad(true));\n      setIniLoad(true);\n    }\n  }, [iniLoad, dispatch, setIniLoad]);\n\n  // bucket info\n  useEffect(() => {\n    if ((loadingObjects || loadingBucket) && !anonymousMode) {\n      api.buckets\n        .bucketInfo(bucketName)\n        .then((res) => {\n          dispatch(setBucketDetailsLoad(false));\n          dispatch(setBucketInfo(res.data));\n          dispatch(setSelectedBucket(bucketName));\n        })\n        .catch((err) => {\n          dispatch(setBucketDetailsLoad(false));\n          dispatch(setErrorSnackMessage(errorToHandler(err)));\n        });\n    }\n  }, [bucketName, loadingBucket, dispatch, anonymousMode, loadingObjects]);\n\n  // Load retention Config\n\n  useEffect(() => {\n    if (selectedBucket !== \"\") {\n      api.buckets\n        .getBucketRetentionConfig(selectedBucket)\n        .then((res) => {\n          dispatch(setRetentionConfig(res.data));\n        })\n        .catch(() => {\n          dispatch(setRetentionConfig(null));\n        });\n    }\n  }, [selectedBucket, dispatch]);\n\n  const closeDeleteMultipleModalAndRefresh = (refresh: boolean) => {\n    setDeleteMultipleOpen(false);\n\n    if (refresh) {\n      dispatch(setSnackBarMessage(`Objects deleted successfully.`));\n      dispatch(setSelectedObjects([]));\n      dispatch(setLoadingObjects(true));\n    }\n  };\n\n  const handleUploadButton = (e: any) => {\n    if (\n      e === null ||\n      e === undefined ||\n      e.target.files === null ||\n      e.target.files === undefined\n    ) {\n      return;\n    }\n    e.preventDefault();\n    var newFiles: File[] = [];\n\n    for (var i = 0; i < e.target.files.length; i++) {\n      newFiles.push(e.target.files[i]);\n    }\n    uploadObject(newFiles, \"\");\n\n    e.target.value = \"\";\n  };\n\n  const uploadObject = useCallback(\n    (files: File[], folderPath: string): void => {\n      let pathPrefix = \"\";\n      if (simplePath) {\n        pathPrefix = simplePath.endsWith(\"/\") ? simplePath : simplePath + \"/\";\n      }\n\n      const upload = (\n        files: File[],\n        bucketName: string,\n        path: string,\n        folderPath: string\n      ) => {\n        let uploadPromise = (file: File) => {\n          return new Promise((resolve, reject) => {\n            let uploadUrl = `api/v1/buckets/${bucketName}/objects/upload`;\n            const fileName = file.name;\n\n            const blobFile = new Blob([file], { type: file.type });\n\n            let encodedPath = \"\";\n\n            const filePath = get(file, \"path\", \"\");\n            const fileWebkitRelativePath = get(file, \"webkitRelativePath\", \"\");\n\n            let relativeFolderPath = folderPath;\n            const ID = makeid(8);\n\n            // File was uploaded via drag & drop\n            if (filePath !== \"\") {\n              relativeFolderPath = filePath;\n            } else if (fileWebkitRelativePath !== \"\") {\n              // File was uploaded using upload button\n              relativeFolderPath = fileWebkitRelativePath;\n            }\n\n            if (path !== \"\" || relativeFolderPath !== \"\") {\n              const finalFolderPath = relativeFolderPath\n                .split(\"/\")\n                .slice(0, -1)\n                .join(\"/\");\n\n              const pathClean = path.endsWith(\"/\") ? path.slice(0, -1) : path;\n\n              encodedPath = encodeURLString(\n                `${pathClean}${\n                  !pathClean.endsWith(\"/\") &&\n                  finalFolderPath !== \"\" &&\n                  !finalFolderPath.startsWith(\"/\")\n                    ? \"/\"\n                    : \"\"\n                }${finalFolderPath}${\n                  !finalFolderPath.endsWith(\"/\") ||\n                  (finalFolderPath.trim() === \"\" && !path.endsWith(\"/\"))\n                    ? \"/\"\n                    : \"\"\n                }`\n              );\n            }\n\n            if (encodedPath !== \"\") {\n              uploadUrl = `${uploadUrl}?prefix=${encodedPath}`;\n            }\n\n            const identity = encodeURLString(\n              `${bucketName}-${encodedPath}-${new Date().getTime()}-${Math.random()}`\n            );\n\n            let xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", uploadUrl, true);\n            if (anonymousMode) {\n              xhr.setRequestHeader(\"X-Anonymous\", \"1\");\n            }\n            // xhr.setRequestHeader(\"X-Anonymous\", \"1\");\n\n            const areMultipleFiles = files.length > 1;\n            let errorMessage = `An error occurred while uploading the file${\n              areMultipleFiles ? \"s\" : \"\"\n            }.`;\n\n            const errorMessages: any = {\n              413: \"Error - File size too large\",\n            };\n\n            xhr.withCredentials = false;\n            xhr.onload = function (event) {\n              // resolve promise only when HTTP code is ok\n              if (xhr.status >= 200 && xhr.status < 300) {\n                dispatch(completeObject(identity));\n                resolve({ status: xhr.status });\n\n                removeTrace(ID);\n              } else {\n                // reject promise if there was a server error\n                if (errorMessages[xhr.status]) {\n                  errorMessage = errorMessages[xhr.status];\n                } else if (xhr.response) {\n                  try {\n                    const err = JSON.parse(xhr.response);\n                    errorMessage = err.detailedMessage;\n                  } catch (e) {\n                    errorMessage = \"something went wrong\";\n                  }\n                }\n\n                dispatch(\n                  failObject({\n                    instanceID: identity,\n                    msg: errorMessage,\n                  })\n                );\n                reject({ status: xhr.status, message: errorMessage });\n\n                removeTrace(ID);\n              }\n            };\n\n            xhr.upload.addEventListener(\"error\", (event) => {\n              reject(errorMessage);\n              dispatch(\n                failObject({\n                  instanceID: identity,\n                  msg: \"A network error occurred.\",\n                })\n              );\n              return;\n            });\n\n            xhr.upload.addEventListener(\"progress\", (event) => {\n              const progress = Math.floor((event.loaded * 100) / event.total);\n\n              dispatch(\n                updateProgress({\n                  instanceID: identity,\n                  progress: progress,\n                })\n              );\n            });\n\n            xhr.onerror = () => {\n              reject(errorMessage);\n              dispatch(\n                failObject({\n                  instanceID: identity,\n                  msg: \"A network error occurred.\",\n                })\n              );\n              return;\n            };\n            xhr.onloadend = () => {\n              if (files.length === 0) {\n                dispatch(setLoadingObjects(true));\n              }\n            };\n            xhr.onabort = () => {\n              dispatch(cancelObjectInList(identity));\n            };\n\n            const formData = new FormData();\n            if (file.size !== undefined) {\n              formData.append(file.size.toString(), blobFile, fileName);\n              storeCallForObjectWithID(ID, xhr);\n              dispatch(\n                setNewObject({\n                  ID,\n                  bucketName,\n                  done: false,\n                  instanceID: identity,\n                  percentage: 0,\n                  prefix: `${decodeURLString(encodedPath)}${fileName}`,\n                  type: \"upload\",\n                  waitingForFile: false,\n                  failed: false,\n                  cancelled: false,\n                  errorMessage: \"\",\n                })\n              );\n              storeFormDataWithID(ID, formData);\n            }\n          });\n        };\n\n        const uploadFilePromises: any = [];\n        // open object manager\n        dispatch(openList());\n        for (let i = 0; i < files.length; i++) {\n          const file = files[i];\n          uploadFilePromises.push(uploadPromise(file));\n        }\n        Promise.allSettled(uploadFilePromises).then((results: Array<any>) => {\n          const errors = results.filter(\n            (result) => result.status === \"rejected\"\n          );\n          if (errors.length > 0) {\n            const totalFiles = uploadFilePromises.length;\n            const successUploadedFiles =\n              uploadFilePromises.length - errors.length;\n            const err: ErrorResponseHandler = {\n              errorMessage: \"There were some errors during file upload\",\n              detailedError: `Uploaded files ${successUploadedFiles}/${totalFiles}`,\n            };\n            dispatch(setErrorSnackMessage(err));\n          }\n          // We force objects list reload after all promises were handled\n          dispatch(setLoadingObjects(true));\n          dispatch(setSelectedObjects([]));\n        });\n      };\n\n      upload(files, bucketName, pathPrefix, folderPath);\n    },\n    [bucketName, dispatch, simplePath, anonymousMode]\n  );\n\n  const onDrop = useCallback(\n    (acceptedFiles: any[]) => {\n      if (acceptedFiles && acceptedFiles.length > 0 && canUpload) {\n        let newFolderPath: string = acceptedFiles[0].path;\n        //Should we filter by allowed file extensions if any?.\n        let allowedFiles = [];\n        if (allowedFileExtensions.length > 0) {\n          allowedFiles = acceptedFiles.filter((file) => {\n            const fileExtn = extractFileExtn(file.name);\n            return allowedFileExtensions.includes(fileExtn);\n          });\n        } else {\n          allowedFiles = acceptedFiles;\n        }\n\n        if (allowedFiles.length) {\n          uploadObject(allowedFiles, newFolderPath);\n          console.log(\n            `${allowedFiles.length} Allowed Files Processed out of ${acceptedFiles.length}.`,\n            pathAsResourceInPolicy,\n            ...sessionGrantWildCards\n          );\n\n          if (allowedFiles.length !== acceptedFiles.length) {\n            dispatch(\n              setErrorSnackMessage({\n                errorMessage: \"Upload is restricted.\",\n                detailedError: permissionTooltipHelper(\n                  [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                  \"upload objects to this location\"\n                ),\n              })\n            );\n          }\n        } else {\n          dispatch(\n            setErrorSnackMessage({\n              errorMessage: \"Could not process drag and drop.\",\n              detailedError: permissionTooltipHelper(\n                [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n                \"upload objects to this location\"\n              ),\n            })\n          );\n\n          console.error(\n            \"Could not process drag and drop . upload may be restricted.\",\n            pathAsResourceInPolicy,\n            ...sessionGrantWildCards\n          );\n        }\n      }\n      if (!canUpload) {\n        dispatch(\n          setErrorSnackMessage({\n            errorMessage: \"Upload not allowed\",\n            detailedError: permissionTooltipHelper(\n              [IAM_SCOPES.S3_PUT_OBJECT, IAM_SCOPES.S3_PUT_ACTIONS],\n              \"upload objects to this location\"\n            ),\n          })\n        );\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [uploadObject]\n  );\n\n  const { getRootProps, getInputProps, isDragActive, isDragAccept } =\n    useDropzone({\n      noClick: true,\n      onDrop,\n    });\n\n  const dndStyles = useMemo(\n    () => ({\n      ...baseDnDStyle,\n      ...(isDragActive ? activeDnDStyle : {}),\n      ...(isDragAccept ? acceptDnDStyle : {}),\n    }),\n    [isDragActive, isDragAccept]\n  );\n\n  const closeShareModal = () => {\n    dispatch(setShareFileModalOpen(false));\n    dispatch(setSelectedPreview(null));\n  };\n\n  const rewindCloseModal = () => {\n    setRewindSelect(false);\n  };\n\n  const closePreviewWindow = () => {\n    dispatch(setPreviewOpen(false));\n    dispatch(setSelectedPreview(null));\n  };\n\n  const onClosePanel = (forceRefresh: boolean) => {\n    dispatch(setSelectedObjectView(null));\n    dispatch(setVersionsModeEnabled({ status: false }));\n    if (detailsOpen && selectedInternalPaths !== null) {\n      // We change URL to be the contained folder\n\n      const decodedPath = decodeURLString(internalPaths);\n      const splitURLS = decodedPath.split(\"/\");\n\n      // We remove the last section of the URL as it should be a file\n      splitURLS.pop();\n\n      let URLItem = \"\";\n\n      if (splitURLS && splitURLS.length > 0) {\n        URLItem = `${splitURLS.join(\"/\")}/`;\n      }\n\n      navigate(`/browser/${bucketName}/${encodeURLString(URLItem)}`);\n    }\n\n    dispatch(setObjectDetailsView(false));\n    dispatch(setSelectedObjects([]));\n\n    if (forceRefresh) {\n      dispatch(setLoadingObjects(true));\n    }\n  };\n\n  const setDeletedAction = () => {\n    dispatch(resetMessages());\n    dispatch(setShowDeletedObjects(!showDeleted));\n    onClosePanel(true);\n  };\n\n  const closeRenameModal = () => {\n    dispatch(setDownloadRenameModal(null));\n  };\n\n  const closeAddAccessRule = () => {\n    dispatch(setAnonymousAccessOpen(false));\n  };\n\n  let createdTime = DateTime.now();\n\n  if (bucketInfo?.creation_date) {\n    createdTime = DateTime.fromISO(bucketInfo.creation_date);\n  }\n\n  const multiActionButtons = [\n    {\n      action: () => {\n        dispatch(downloadSelected(bucketName));\n      },\n      label: \"Download\",\n      disabled: !canDownload || selectedObjects?.length === 0,\n      icon: <DownloadIcon />,\n      tooltip: canDownload\n        ? \"Download Selected\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_GET_OBJECT, IAM_SCOPES.S3_GET_ACTIONS],\n            \"download objects from this bucket\"\n          ),\n    },\n    {\n      action: () => {\n        dispatch(openShare());\n      },\n      label: \"Share\",\n      disabled: selectedObjects.length !== 1 || !canShareFile,\n      icon: <ShareIcon />,\n      tooltip: canShareFile ? \"Share Selected File\" : \"Sharing unavailable\",\n    },\n    {\n      action: () => {\n        dispatch(openPreview());\n      },\n      label: \"Preview\",\n      disabled: selectedObjects.length !== 1 || !canPreviewFile,\n      icon: <PreviewIcon />,\n      tooltip: canPreviewFile ? \"Preview Selected File\" : \"Preview unavailable\",\n    },\n    {\n      action: () => {\n        dispatch(openAnonymousAccess());\n      },\n      label: \"Anonymous Access\",\n      disabled:\n        selectedObjects.length !== 1 ||\n        !selectedObjects[0].endsWith(\"/\") ||\n        !canSetAnonymousAccess,\n      icon: <AccessRuleIcon />,\n      tooltip:\n        selectedObjects.length === 1 && selectedObjects[0].endsWith(\"/\")\n          ? \"Set Anonymous Access to this Folder\"\n          : \"Anonymous Access unavailable\",\n    },\n    {\n      action: () => {\n        setDeleteMultipleOpen(true);\n      },\n      label: \"Delete\",\n      icon: <DeleteIcon />,\n      disabled:\n        !canDelete || selectedObjects.length === 0 || !displayDeleteObject,\n      tooltip: canDelete\n        ? \"Delete Selected Files\"\n        : permissionTooltipHelper(\n            [IAM_SCOPES.S3_DELETE_OBJECT],\n            \"delete objects in this bucket\"\n          ),\n    },\n  ];\n\n  return (\n    <Fragment>\n      {shareFileModalOpen && selectedPreview && (\n        <ShareFile\n          open={shareFileModalOpen}\n          closeModalAndRefresh={closeShareModal}\n          bucketName={bucketName}\n          dataObject={{\n            name: selectedPreview.name,\n            last_modified: \"\",\n            version_id: selectedPreview.version_id,\n          }}\n        />\n      )}\n      {deleteMultipleOpen && (\n        <DeleteMultipleObjects\n          deleteOpen={deleteMultipleOpen}\n          selectedBucket={bucketName}\n          selectedObjects={selectedObjects}\n          closeDeleteModalAndRefresh={closeDeleteMultipleModalAndRefresh}\n          versioning={versioningConfig}\n        />\n      )}\n      {rewindSelect && (\n        <RewindEnable\n          open={rewindSelect}\n          closeModalAndRefresh={rewindCloseModal}\n          bucketName={bucketName}\n        />\n      )}\n      {previewOpen && (\n        <PreviewFileModal\n          open={previewOpen}\n          bucketName={bucketName}\n          object={selectedPreview}\n          onClosePreview={closePreviewWindow}\n        />\n      )}\n      {!!downloadRenameModal && (\n        <RenameLongFileName\n          open={!!downloadRenameModal}\n          closeModal={closeRenameModal}\n          currentItem={downloadRenameModal.name.split(\"/\")?.pop() || \"\"}\n          bucketName={bucketName}\n          internalPaths={internalPaths}\n          actualInfo={{\n            name: downloadRenameModal.name,\n            last_modified: \"\",\n            version_id: downloadRenameModal.version_id,\n            size: downloadRenameModal.size.toString(),\n          }}\n        />\n      )}\n      {anonymousAccessOpen && (\n        <AddAccessRule\n          onClose={closeAddAccessRule}\n          bucket={bucketName}\n          modalOpen={anonymousAccessOpen}\n          prefilledRoute={`${selectedObjects[0]}*`}\n        />\n      )}\n\n      <PageLayout variant={\"full\"}>\n        {anonymousMode && (\n          <div style={{ paddingBottom: 16 }}>\n            <FilterObjectsSB />\n          </div>\n        )}\n        <Grid item xs={12} className={classes.screenTitleContainer}>\n          <ScreenTitle\n            icon={\n              <span>\n                <BucketsIcon style={{ width: 30 }} />\n              </span>\n            }\n            title={bucketName}\n            subTitle={\n              !anonymousMode ? (\n                <Fragment>\n                  <span className={classes.detailsSpacer}>\n                    Created on:&nbsp;&nbsp;\n                    <strong>\n                      {bucketInfo?.creation_date\n                        ? createdTime.toFormat(\n                            \"ccc, LLL dd yyyy HH:mm:ss (ZZZZ)\"\n                          )\n                        : \"\"}\n                    </strong>\n                  </span>\n                  <span className={classes.detailsSpacer}>\n                    Access:&nbsp;&nbsp;&nbsp;\n                    <strong>{bucketInfo?.access || \"\"}</strong>\n                  </span>\n                  {bucketInfo && (\n                    <Fragment>\n                      <span className={classes.detailsSpacer}>\n                        {bucketInfo.size && (\n                          <Fragment>{niceBytesInt(bucketInfo.size)}</Fragment>\n                        )}\n                        {bucketInfo.size && quota && (\n                          <Fragment>\n                            {\" \"}\n                            / {niceBytesInt(quota.quota || 0)}\n                          </Fragment>\n                        )}\n                        {bucketInfo.size && bucketInfo.objects ? \" - \" : \"\"}\n                        {bucketInfo.objects && (\n                          <Fragment>\n                            {bucketInfo.objects}&nbsp;Object\n                            {bucketInfo.objects && bucketInfo.objects !== 1\n                              ? \"s\"\n                              : \"\"}\n                          </Fragment>\n                        )}\n                      </span>\n                    </Fragment>\n                  )}\n                </Fragment>\n              ) : null\n            }\n            actions={\n              <Fragment>\n                {!anonymousMode && (\n                  <TooltipWrapper tooltip={\"Rewind Bucket\"}>\n                    <Button\n                      id={\"rewind-objects-list\"}\n                      label={\"Rewind\"}\n                      icon={\n                        <Badge\n                          badgeContent=\" \"\n                          color=\"secondary\"\n                          variant=\"dot\"\n                          invisible={!rewindEnabled}\n                          className={classes.badgeOverlap}\n                          sx={{ height: 16 }}\n                        >\n                          <HistoryIcon\n                            style={{\n                              minWidth: 16,\n                              minHeight: 16,\n                              width: 16,\n                              height: 16,\n                              marginTop: -3,\n                            }}\n                          />\n                        </Badge>\n                      }\n                      variant={\"regular\"}\n                      onClick={() => {\n                        setRewindSelect(true);\n                      }}\n                      disabled={\n                        !isVersioningApplied ||\n                        !hasPermission(bucketName, [\n                          IAM_SCOPES.S3_GET_OBJECT,\n                          IAM_SCOPES.S3_GET_ACTIONS,\n                        ])\n                      }\n                    />\n                  </TooltipWrapper>\n                )}\n                <TooltipWrapper tooltip={\"Reload List\"}>\n                  <Button\n                    id={\"refresh-objects-list\"}\n                    label={\"Refresh\"}\n                    icon={<RefreshIcon />}\n                    variant={\"regular\"}\n                    onClick={() => {\n                      if (versionsMode) {\n                        dispatch(setLoadingVersions(true));\n                      } else {\n                        dispatch(resetMessages());\n                        dispatch(setLoadingRecords(true));\n                        dispatch(setLoadingObjects(true));\n                      }\n                    }}\n                    disabled={\n                      anonymousMode\n                        ? false\n                        : !hasPermission(bucketName, [\n                            IAM_SCOPES.S3_LIST_BUCKET,\n                            IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                          ]) || rewindEnabled\n                    }\n                  />\n                </TooltipWrapper>\n                <input\n                  type=\"file\"\n                  multiple\n                  accept={\n                    allowedFileExtensions ? allowedFileExtensions : undefined\n                  }\n                  onChange={handleUploadButton}\n                  style={{ display: \"none\" }}\n                  ref={fileUpload}\n                />\n                <input\n                  type=\"file\"\n                  multiple\n                  onChange={handleUploadButton}\n                  style={{ display: \"none\" }}\n                  ref={folderUpload}\n                />\n                <UploadFilesButton\n                  bucketName={bucketName}\n                  uploadPath={pathAsResourceInPolicy}\n                  uploadFileFunction={(closeMenu) => {\n                    if (fileUpload && fileUpload.current) {\n                      fileUpload.current.click();\n                    }\n                    closeMenu();\n                  }}\n                  uploadFolderFunction={(closeMenu) => {\n                    if (folderUpload && folderUpload.current) {\n                      folderUpload.current.click();\n                    }\n                    closeMenu();\n                  }}\n                />\n              </Fragment>\n            }\n            bottomBorder={false}\n          />\n        </Grid>\n        <div\n          id=\"object-list-wrapper\"\n          {...getRootProps({ style: { ...dndStyles } })}\n        >\n          <input {...getInputProps()} />\n          <Grid\n            item\n            xs={12}\n            className={classes.tableBlock}\n            sx={{ border: \"#EAEDEE 1px solid\", borderTop: 0 }}\n          >\n            {versionsMode ? (\n              <Fragment>\n                {selectedInternalPaths !== null && (\n                  <VersionsNavigator\n                    internalPaths={selectedInternalPaths}\n                    bucketName={bucketName}\n                  />\n                )}\n              </Fragment>\n            ) : (\n              <SecureComponent\n                scopes={[\n                  IAM_SCOPES.S3_LIST_BUCKET,\n                  IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                ]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <Grid\n                  item\n                  xs={12}\n                  className={`${classes.fullContainer} ${\n                    detailsOpen ? \"detailsOpen\" : \"\"\n                  } `}\n                >\n                  {!anonymousMode && (\n                    <Grid item xs={12} className={classes.breadcrumbsContainer}>\n                      <BrowserBreadcrumbs\n                        bucketName={bucketName}\n                        internalPaths={pageTitle}\n                        additionalOptions={\n                          !isVersioningApplied || rewindEnabled ? null : (\n                            <div>\n                              <CheckboxWrapper\n                                name={\"deleted_objects\"}\n                                id={\"showDeletedObjects\"}\n                                value={\"deleted_on\"}\n                                label={\"Show deleted objects\"}\n                                onChange={setDeletedAction}\n                                checked={showDeleted}\n                                overrideLabelClasses={classes.labelStyle}\n                                className={classes.overrideShowDeleted}\n                                noTopMargin\n                              />\n                            </div>\n                          )\n                        }\n                        hidePathButton={false}\n                      />\n                    </Grid>\n                  )}\n                  <ListObjectsTable internalPaths={selectedInternalPaths} />\n                </Grid>\n              </SecureComponent>\n            )}\n            {!anonymousMode && (\n              <SecureComponent\n                scopes={[\n                  IAM_SCOPES.S3_LIST_BUCKET,\n                  IAM_SCOPES.S3_ALL_LIST_BUCKET,\n                ]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <DetailsListPanel\n                  open={detailsOpen}\n                  closePanel={() => {\n                    onClosePanel(false);\n                  }}\n                  className={`${versionsMode ? classes.hideListOnSmall : \"\"}`}\n                >\n                  {selectedObjects.length > 0 && (\n                    <ActionsList\n                      items={multiActionButtons}\n                      title={\"Selected Objects:\"}\n                    />\n                  )}\n                  {selectedInternalPaths !== null && (\n                    <ObjectDetailPanel\n                      internalPaths={selectedInternalPaths}\n                      bucketName={bucketName}\n                      onClosePanel={onClosePanel}\n                      versioningInfo={versioningConfig}\n                      locking={lockingEnabled}\n                    />\n                  )}\n                </DetailsListPanel>\n              </SecureComponent>\n            )}\n          </Grid>\n        </div>\n      </PageLayout>\n    </Fragment>\n  );\n};\n\nexport default ListObjects;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect } from \"react\";\nimport {\n  IAM_PAGES,\n  IAM_PERMISSIONS,\n  IAM_ROLES,\n  IAM_SCOPES,\n} from \"../../../common/SecureComponent/permissions\";\nimport { SecureComponent } from \"../../../common/SecureComponent\";\nimport TooltipWrapper from \"../Common/TooltipWrapper/TooltipWrapper\";\nimport { BackLink, Button, SettingsIcon, Grid } from \"mds\";\nimport AutoColorIcon from \"../Common/Components/AutoColorIcon\";\nimport { useSelector } from \"react-redux\";\nimport { selFeatures } from \"../consoleSlice\";\nimport hasPermission from \"../../../common/SecureComponent/accessControl\";\nimport { useNavigate } from \"react-router-dom\";\nimport SearchBox from \"../Common/SearchBox\";\nimport { setSearchVersions } from \"./objectBrowserSlice\";\nimport { AppState, useAppDispatch } from \"../../../store\";\nimport FilterObjectsSB from \"./FilterObjectsSB\";\nimport PageHeaderWrapper from \"../Common/PageHeaderWrapper/PageHeaderWrapper\";\nimport ObjectManagerButton from \"../Common/ObjectManager/ObjectManagerButton\";\nimport HelpMenu from \"../HelpMenu\";\nimport { setHelpName } from \"../../../systemSlice\";\n\ninterface IOBHeader {\n  bucketName: string;\n}\n\nconst OBHeader = ({ bucketName }: IOBHeader) => {\n  const dispatch = useAppDispatch();\n  const features = useSelector(selFeatures);\n\n  const versionsMode = useSelector(\n    (state: AppState) => state.objectBrowser.versionsMode\n  );\n  const versionedFile = useSelector(\n    (state: AppState) => state.objectBrowser.versionedFile\n  );\n  const searchVersions = useSelector(\n    (state: AppState) => state.objectBrowser.searchVersions\n  );\n\n  const obOnly = !!features?.includes(\"object-browser-only\");\n\n  const navigate = useNavigate();\n\n  const configureBucketAllowed = hasPermission(bucketName, [\n    IAM_SCOPES.S3_GET_BUCKET_POLICY,\n    IAM_SCOPES.S3_PUT_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,\n    IAM_SCOPES.S3_DELETE_BUCKET,\n    IAM_SCOPES.S3_GET_BUCKET_NOTIFICATIONS,\n    IAM_SCOPES.S3_PUT_BUCKET_NOTIFICATIONS,\n    IAM_SCOPES.S3_GET_REPLICATION_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_REPLICATION_CONFIGURATION,\n    IAM_SCOPES.S3_GET_LIFECYCLE_CONFIGURATION,\n    IAM_SCOPES.S3_PUT_LIFECYCLE_CONFIGURATION,\n    IAM_SCOPES.ADMIN_GET_BUCKET_QUOTA,\n    IAM_SCOPES.ADMIN_SET_BUCKET_QUOTA,\n    IAM_SCOPES.S3_PUT_BUCKET_TAGGING,\n    IAM_SCOPES.S3_GET_BUCKET_TAGGING,\n    IAM_SCOPES.S3_LIST_BUCKET_VERSIONS,\n    IAM_SCOPES.S3_GET_BUCKET_POLICY_STATUS,\n    IAM_SCOPES.S3_DELETE_BUCKET_POLICY,\n    IAM_SCOPES.S3_GET_ACTIONS,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  const searchBar = (\n    <Fragment>\n      {!versionsMode ? (\n        <SecureComponent\n          scopes={[IAM_SCOPES.S3_LIST_BUCKET, IAM_SCOPES.S3_ALL_LIST_BUCKET]}\n          resource={bucketName}\n          errorProps={{ disabled: true }}\n        >\n          <FilterObjectsSB />\n        </SecureComponent>\n      ) : (\n        <Fragment>\n          <SearchBox\n            placeholder={`Start typing to filter versions of ${versionedFile}`}\n            onChange={(value) => {\n              dispatch(setSearchVersions(value));\n            }}\n            value={searchVersions}\n          />\n        </Fragment>\n      )}\n    </Fragment>\n  );\n\n  useEffect(() => {\n    dispatch(setHelpName(\"object_browser\"));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Fragment>\n      {!obOnly ? (\n        <PageHeaderWrapper\n          label={\n            <BackLink\n              label={\"Object Browser\"}\n              onClick={() => {\n                navigate(IAM_PAGES.OBJECT_BROWSER_VIEW);\n              }}\n            />\n          }\n          actions={\n            <Fragment>\n              <SecureComponent\n                scopes={IAM_PERMISSIONS[IAM_ROLES.BUCKET_ADMIN]}\n                resource={bucketName}\n                errorProps={{ disabled: true }}\n              >\n                <TooltipWrapper\n                  tooltip={\n                    configureBucketAllowed\n                      ? \"Configure Bucket\"\n                      : \"You do not have the required permissions to configure this bucket. Please contact your MinIO administrator to request \" +\n                        IAM_ROLES.BUCKET_ADMIN +\n                        \" permisions.\"\n                  }\n                >\n                  <Button\n                    id={\"configure-bucket-main\"}\n                    color=\"primary\"\n                    aria-label=\"Configure Bucket\"\n                    onClick={() => navigate(`/buckets/${bucketName}/admin`)}\n                    icon={\n                      <SettingsIcon\n                        style={{ width: 20, height: 20, marginTop: -3 }}\n                      />\n                    }\n                    style={{\n                      padding: \"0 10px\",\n                    }}\n                  />\n                </TooltipWrapper>\n              </SecureComponent>\n              <HelpMenu />\n            </Fragment>\n          }\n          middleComponent={searchBar}\n        />\n      ) : (\n        <Grid\n          container\n          sx={{\n            padding: \"20px 32px 0\",\n          }}\n        >\n          <Grid>\n            <AutoColorIcon marginRight={30} marginTop={10} />\n          </Grid>\n          <Grid\n            item\n            xs\n            sx={{\n              display: \"flex\",\n              gap: 10,\n            }}\n          >\n            {searchBar}\n            <ObjectManagerButton />\n          </Grid>\n        </Grid>\n      )}\n    </Fragment>\n  );\n};\n\nexport default OBHeader;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { DateTime } from \"luxon\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { fieldBasic, tooltipHelper } from \"../common/styleLibrary\";\nimport { Grid, InputBox, InputLabel, LinkIcon } from \"mds\";\n\ninterface IDaysSelector {\n  classes: any;\n  id: string;\n  initialDate: Date;\n  maxDays?: number;\n  label: string;\n  entity: string;\n  onChange: (newDate: string, isValid: boolean) => void;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    labelContainer: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginBottom: 15,\n    },\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      paddingBottom: 10,\n      marginTop: 11,\n      marginBottom: 6,\n    },\n    durationInputs: {\n      display: \"flex\",\n      alignItems: \"flex-start\",\n      justifyContent: \"flex-start\",\n      gap: 10,\n    },\n\n    validityIndicator: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-start\",\n      marginTop: 25,\n      marginLeft: 10,\n    },\n    invalidDurationText: {\n      marginTop: 15,\n      display: \"flex\",\n      color: \"red\",\n      fontSize: 11,\n    },\n    reverseInput: {\n      flexFlow: \"row-reverse\",\n      \"& > label\": {\n        fontWeight: 400,\n        marginLeft: 15,\n        marginRight: 25,\n      },\n    },\n    validityText: {\n      fontSize: 14,\n      marginTop: 15,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      \"@media (max-width: 900px)\": {\n        flexFlow: \"column\",\n      },\n      \"& > .min-icon\": {\n        color: \"#5E5E5E\",\n        width: 15,\n        height: 15,\n        marginRight: 10,\n      },\n    },\n    validTill: {\n      fontWeight: \"bold\",\n      marginLeft: 15,\n    },\n  });\n\nconst calculateNewTime = (\n  initialDate: Date,\n  days: number,\n  hours: number,\n  minutes: number\n) => {\n  return DateTime.fromJSDate(initialDate).plus({ days, hours, minutes });\n};\n\nconst DaysSelector = ({\n  classes,\n  id,\n  initialDate,\n  label,\n  maxDays,\n  entity,\n  onChange,\n}: IDaysSelector) => {\n  const [selectedDays, setSelectedDays] = useState<number>(7);\n  const [selectedHours, setSelectedHours] = useState<number>(0);\n  const [selectedMinutes, setSelectedMinutes] = useState<number>(0);\n  const [validDate, setValidDate] = useState<boolean>(true);\n  const [dateSelected, setDateSelected] = useState<DateTime>(DateTime.now());\n\n  useEffect(() => {\n    if (\n      !isNaN(selectedHours) &&\n      !isNaN(selectedDays) &&\n      !isNaN(selectedMinutes)\n    ) {\n      setDateSelected(\n        calculateNewTime(\n          initialDate,\n          selectedDays,\n          selectedHours,\n          selectedMinutes\n        )\n      );\n    }\n  }, [initialDate, selectedDays, selectedHours, selectedMinutes]);\n\n  useEffect(() => {\n    if (validDate) {\n      const formattedDate = dateSelected.toFormat(\"yyyy-MM-dd HH:mm:ss\");\n      onChange(formattedDate.split(\" \").join(\"T\"), true);\n    } else {\n      onChange(\"0000-00-00\", false);\n    }\n  }, [dateSelected, onChange, validDate]);\n\n  // Basic validation for inputs\n  useEffect(() => {\n    let valid = true;\n    if (\n      selectedDays < 0 ||\n      (maxDays && selectedDays > maxDays) ||\n      isNaN(selectedDays)\n    ) {\n      valid = false;\n    }\n\n    if (selectedHours < 0 || selectedHours > 23 || isNaN(selectedHours)) {\n      valid = false;\n    }\n\n    if (selectedMinutes < 0 || selectedMinutes > 59 || isNaN(selectedMinutes)) {\n      valid = false;\n    }\n\n    if (\n      maxDays &&\n      selectedDays === maxDays &&\n      (selectedHours !== 0 || selectedMinutes !== 0)\n    ) {\n      valid = false;\n    }\n\n    if (selectedDays <= 0 && selectedHours <= 0 && selectedMinutes <= 0) {\n      valid = false;\n    }\n\n    setValidDate(valid);\n  }, [\n    dateSelected,\n    maxDays,\n    onChange,\n    selectedDays,\n    selectedHours,\n    selectedMinutes,\n  ]);\n\n  const extraStyles = {\n    \"& .textBoxContainer\": {\n      minWidth: 0,\n    },\n    \"& input\": {\n      textAlign: \"center\" as const,\n      paddingRight: 10,\n      paddingLeft: 10,\n      width: 40,\n    },\n  };\n\n  return (\n    <Fragment>\n      <Grid container className={classes.fieldContainer}>\n        <Grid item xs={12} className={classes.labelContainer}>\n          <InputLabel htmlFor={id}>{label}</InputLabel>\n        </Grid>\n        <Grid item xs={12} className={classes.durationInputs}>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max={maxDays ? maxDays.toString() : \"999\"}\n              label=\"Days\"\n              name={id}\n              onChange={(e) => {\n                setSelectedDays(parseInt(e.target.value));\n              }}\n              value={selectedDays.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max=\"23\"\n              label=\"Hours\"\n              name={id}\n              onChange={(e) => {\n                setSelectedHours(parseInt(e.target.value));\n              }}\n              value={selectedHours.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n          <Grid item xs className={classes.dateInputContainer}>\n            <InputBox\n              id={id}\n              className={`${classes.reverseInput} removeArrows`}\n              type=\"number\"\n              min=\"0\"\n              max=\"59\"\n              label=\"Minutes\"\n              name={id}\n              onChange={(e) => {\n                setSelectedMinutes(parseInt(e.target.value));\n              }}\n              value={selectedMinutes.toString()}\n              sx={extraStyles}\n              noLabelMinWidth\n            />\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          className={`${classes.validityIndicator} ${classes.formFieldRow}`}\n        >\n          {validDate ? (\n            <div className={classes.validityText}>\n              <LinkIcon />\n              <div className={classes.validityLabel}>\n                {entity} will be available until:\n              </div>{\" \"}\n              <div className={classes.validTill}>\n                {dateSelected.toFormat(\"MM/dd/yyyy HH:mm:ss\")}\n              </div>\n            </div>\n          ) : (\n            <div className={classes.invalidDurationText}>\n              Please select a valid duration.\n            </div>\n          )}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(DaysSelector);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Button, CopyIcon, ReadBox, ShareIcon, Grid } from \"mds\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\n\nimport { IFileInfo } from \"./types\";\nimport { ErrorResponseHandler } from \"../../../../../../common/types\";\nimport api from \"../../../../../../common/api\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport DaysSelector from \"../../../../Common/FormComponents/DaysSelector/DaysSelector\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport {\n  selDistSet,\n  setModalErrorSnackMessage,\n  setModalSnackMessage,\n} from \"../../../../../../systemSlice\";\nimport { useAppDispatch } from \"../../../../../../store\";\n\ninterface IShareFileProps {\n  open: boolean;\n  bucketName: string;\n  dataObject: IFileInfo;\n  closeModalAndRefresh: () => void;\n}\n\nconst ShareFile = ({\n  open,\n  closeModalAndRefresh,\n  bucketName,\n  dataObject,\n}: IShareFileProps) => {\n  const dispatch = useAppDispatch();\n  const distributedSetup = useSelector(selDistSet);\n  const [shareURL, setShareURL] = useState<string>(\"\");\n  const [isLoadingVersion, setIsLoadingVersion] = useState<boolean>(true);\n  const [isLoadingFile, setIsLoadingFile] = useState<boolean>(false);\n  const [selectedDate, setSelectedDate] = useState<string>(\"\");\n  const [dateValid, setDateValid] = useState<boolean>(true);\n  const [versionID, setVersionID] = useState<string>(\"null\");\n\n  const initialDate = new Date();\n\n  const dateChanged = (newDate: string, isValid: boolean) => {\n    setDateValid(isValid);\n    if (isValid) {\n      setSelectedDate(newDate);\n      return;\n    }\n    setSelectedDate(\"\");\n    setShareURL(\"\");\n  };\n\n  useEffect(() => {\n    // In case version is undefined, we get the latest version of the object\n    if (dataObject.version_id === undefined) {\n      // In case it is not distributed setup, then we default to \"null\";\n      if (distributedSetup) {\n        api\n          .invoke(\n            \"GET\",\n            `/api/v1/buckets/${bucketName}/objects?prefix=${encodeURLString(\n              dataObject.name\n            )}${distributedSetup ? \"&with_versions=true\" : \"\"}`\n          )\n          .then((res: { objects: IFileInfo[] }) => {\n            const result: IFileInfo[] = res.objects || [];\n\n            const latestVersion: IFileInfo | undefined = result.find(\n              (elem: IFileInfo) => elem.is_latest\n            );\n\n            if (latestVersion) {\n              setVersionID(`${latestVersion.version_id}`);\n              return;\n            }\n\n            // Version couldn't be retrieved, we default\n            setVersionID(\"null\");\n          })\n          .catch((error: ErrorResponseHandler) => {\n            dispatch(setModalErrorSnackMessage(error));\n          });\n\n        setIsLoadingVersion(false);\n        return;\n      }\n      setVersionID(\"null\");\n      setIsLoadingVersion(false);\n      return;\n    }\n    setVersionID(dataObject.version_id || \"null\");\n    setIsLoadingVersion(false);\n  }, [bucketName, dataObject, distributedSetup, dispatch]);\n\n  useEffect(() => {\n    if (dateValid && !isLoadingVersion) {\n      setIsLoadingFile(true);\n      setShareURL(\"\");\n\n      const slDate = new Date(`${selectedDate}`);\n      const currDate = new Date();\n\n      const diffDate = Math.ceil(\n        (slDate.getTime() - currDate.getTime()) / 1000\n      );\n\n      if (diffDate > 0) {\n        api\n          .invoke(\n            \"GET\",\n            `/api/v1/buckets/${bucketName}/objects/share?prefix=${encodeURLString(\n              dataObject.name\n            )}&version_id=${versionID}${\n              selectedDate !== \"\" ? `&expires=${diffDate}s` : \"\"\n            }`\n          )\n          .then((res: string) => {\n            setShareURL(res);\n            setIsLoadingFile(false);\n          })\n          .catch((error: ErrorResponseHandler) => {\n            dispatch(setModalErrorSnackMessage(error));\n            setShareURL(\"\");\n            setIsLoadingFile(false);\n          });\n      }\n    }\n  }, [\n    dataObject,\n    selectedDate,\n    bucketName,\n    dateValid,\n    setShareURL,\n    dispatch,\n    distributedSetup,\n    isLoadingVersion,\n    versionID,\n  ]);\n\n  return (\n    <React.Fragment>\n      <ModalWrapper\n        title=\"Share File\"\n        titleIcon={<ShareIcon style={{ fill: \"#4CCB92\" }} />}\n        modalOpen={open}\n        onClose={() => {\n          closeModalAndRefresh();\n        }}\n      >\n        {isLoadingVersion && (\n          <Grid item xs={12}>\n            <LinearProgress />\n          </Grid>\n        )}\n        {!isLoadingVersion && (\n          <Fragment>\n            <Grid\n              item\n              xs={12}\n              sx={{\n                fontSize: 14,\n                fontWeight: 400,\n              }}\n            >\n              This is a temporary URL with integrated access credentials for\n              sharing objects valid for up to 7 days.\n              <br />\n              <br />\n              The temporary URL expires after the configured time limit.\n            </Grid>\n            <br />\n            <Grid item xs={12}>\n              <DaysSelector\n                initialDate={initialDate}\n                id=\"date\"\n                label=\"Active for\"\n                maxDays={7}\n                onChange={dateChanged}\n                entity=\"Link\"\n              />\n            </Grid>\n            <Grid\n              item\n              xs={12}\n              sx={{\n                marginBottom: 10,\n              }}\n            >\n              <ReadBox\n                actionButton={\n                  <CopyToClipboard text={shareURL}>\n                    <Button\n                      id={\"copy-path\"}\n                      variant=\"regular\"\n                      onClick={() => {\n                        dispatch(\n                          setModalSnackMessage(\"Share URL Copied to clipboard\")\n                        );\n                      }}\n                      disabled={shareURL === \"\" || isLoadingFile}\n                      style={{\n                        width: \"28px\",\n                        height: \"28px\",\n                        padding: \"0px\",\n                      }}\n                      icon={<CopyIcon />}\n                    />\n                  </CopyToClipboard>\n                }\n              >\n                {shareURL}\n              </ReadBox>\n            </Grid>\n          </Fragment>\n        )}\n      </ModalWrapper>\n    </React.Fragment>\n  );\n};\n\nexport default ShareFile;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { Grid, LinearProgress } from \"@mui/material\";\nimport { BucketObjectItem } from \"../ListObjects/types\";\nimport { extensionPreview } from \"../utils\";\nimport { encodeURLString } from \"../../../../../../common/utils\";\nimport clsx from \"clsx\";\n\nconst styles = () =>\n  createStyles({\n    iframeContainer: {\n      border: \"0px\",\n      flex: \"1 1 auto\",\n      width: \"100%\",\n      height: 250,\n      backgroundColor: \"transparent\",\n      borderRadius: 5,\n\n      \"&.image\": {\n        height: 500,\n      },\n      \"&.text\": {\n        height: 700,\n      },\n      \"&.audio\": {\n        height: 150,\n      },\n      \"&.video\": {\n        height: 350,\n      },\n      \"&.fullHeight\": {\n        height: \"calc(100vh - 185px)\",\n      },\n    },\n    iframeBase: {\n      backgroundColor: \"#fff\",\n    },\n    iframeHidden: {\n      display: \"none\",\n    },\n  });\n\ninterface IPreviewFileProps {\n  bucketName: string;\n  object: BucketObjectItem | null;\n  isFullscreen?: boolean;\n  classes: any;\n}\n\nconst PreviewFile = ({\n  bucketName,\n  object,\n  isFullscreen = false,\n  classes,\n}: IPreviewFileProps) => {\n  const [loading, setLoading] = useState<boolean>(true);\n\n  let path = \"\";\n\n  if (object) {\n    const encodedPath = encodeURLString(object.name);\n    let basename = document.baseURI.replace(window.location.origin, \"\");\n    path = `${window.location.origin}${basename}api/v1/buckets/${bucketName}/objects/download?preview=true&prefix=${encodedPath}`;\n    if (object.version_id) {\n      path = path.concat(`&version_id=${object.version_id}`);\n    }\n  }\n\n  const objectType = extensionPreview(object?.name || \"\");\n\n  const iframeLoaded = () => {\n    setLoading(false);\n  };\n\n  return (\n    <Fragment>\n      {loading && (\n        <Grid item xs={12}>\n          <LinearProgress />\n        </Grid>\n      )}\n      <div style={{ textAlign: \"center\" }}>\n        {objectType === \"video\" && (\n          <video\n            style={{\n              width: \"auto\",\n              height: \"auto\",\n              maxWidth: \"calc(100vw - 100px)\",\n              maxHeight: \"calc(100vh - 200px)\",\n            }}\n            autoPlay={true}\n            controls={true}\n            muted={false}\n            playsInline={true}\n            onPlay={iframeLoaded}\n          >\n            <source src={path} type=\"video/mp4\" />\n          </video>\n        )}\n        {objectType === \"audio\" && (\n          <audio\n            style={{\n              width: \"100%\",\n              height: \"auto\",\n            }}\n            autoPlay={true}\n            controls={true}\n            muted={false}\n            playsInline={true}\n            onPlay={iframeLoaded}\n          >\n            <source src={path} type=\"audio/mpeg\" />\n          </audio>\n        )}\n        {objectType === \"image\" && (\n          <img\n            style={{\n              width: \"auto\",\n              height: \"auto\",\n              maxWidth: \"100vw\",\n              maxHeight: \"100vh\",\n            }}\n            src={path}\n            alt={\"preview\"}\n            onLoad={iframeLoaded}\n          />\n        )}\n        {objectType !== \"video\" &&\n          objectType !== \"audio\" &&\n          objectType !== \"image\" && (\n            <div\n              className={clsx(classes.iframeBase, {\n                [classes.iframeHidden]: loading,\n              })}\n            >\n              <iframe\n                src={path}\n                title=\"File Preview\"\n                allowTransparency\n                className={`${classes.iframeContainer} ${\n                  isFullscreen ? \"fullHeight\" : objectType\n                }`}\n                onLoad={iframeLoaded}\n              >\n                File couldn't be loaded. Please try Download instead\n              </iframe>\n            </div>\n          )}\n      </div>\n    </Fragment>\n  );\n};\nexport default withStyles(styles)(PreviewFile);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport ModalWrapper from \"../../../../Common/ModalWrapper/ModalWrapper\";\nimport PreviewFileContent from \"./PreviewFileContent\";\nimport { BucketObjectItem } from \"../ListObjects/types\";\nimport { ObjectPreviewIcon } from \"mds\";\n\ninterface IPreviewFileProps {\n  open: boolean;\n  bucketName: string;\n  object: BucketObjectItem | null;\n  onClosePreview: () => void;\n}\n\nconst PreviewFileModal = ({\n  open,\n  bucketName,\n  object,\n  onClosePreview,\n}: IPreviewFileProps) => {\n  return (\n    <Fragment>\n      <ModalWrapper\n        modalOpen={open}\n        title={`Preview - ${object?.name}`}\n        onClose={onClosePreview}\n        wideLimit={false}\n        titleIcon={<ObjectPreviewIcon />}\n      >\n        <PreviewFileContent bucketName={bucketName} object={object} />\n      </ModalWrapper>\n    </Fragment>\n  );\n};\n\nexport default PreviewFileModal;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { BucketObjectItem } from \"./ListObjects/types\";\nimport { encodeURLString } from \"../../../../../common/utils\";\nimport { removeTrace } from \"../../../ObjectBrowser/transferManager\";\nimport streamSaver from \"streamsaver\";\nimport store from \"../../../../../store\";\nimport { PermissionResource } from \"api/consoleApi\";\n\nexport const download = (\n  bucketName: string,\n  objectPath: string,\n  versionID: any,\n  fileSize: number,\n  overrideFileName: string | null = null,\n  id: string,\n  progressCallback: (progress: number) => void,\n  completeCallback: () => void,\n  errorCallback: (msg: string) => void,\n  abortCallback: () => void,\n  toastCallback: () => void\n) => {\n  const anchor = document.createElement(\"a\");\n  document.body.appendChild(anchor);\n  let basename = document.baseURI.replace(window.location.origin, \"\");\n  const state = store.getState();\n  const anonymousMode = state.system.anonymousMode;\n\n  let path = `${\n    window.location.origin\n  }${basename}api/v1/buckets/${bucketName}/objects/download?prefix=${objectPath}${\n    overrideFileName !== null && overrideFileName.trim() !== \"\"\n      ? `&override_file_name=${encodeURLString(overrideFileName || \"\")}`\n      : \"\"\n  }`;\n  if (versionID) {\n    path = path.concat(`&version_id=${versionID}`);\n  }\n  return new DownloadHelper(\n    path,\n    id,\n    anonymousMode,\n    fileSize,\n    progressCallback,\n    completeCallback,\n    errorCallback,\n    abortCallback,\n    toastCallback\n  );\n};\n\nclass DownloadHelper {\n  aborter: AbortController;\n  path: string;\n  id: string;\n  filename: string = \"\";\n  anonymousMode: boolean;\n  fileSize: number = 0;\n  writer: any = null;\n  progressCallback: (progress: number) => void;\n  completeCallback: () => void;\n  errorCallback: (msg: string) => void;\n  abortCallback: () => void;\n  toastCallback: () => void;\n\n  constructor(\n    path: string,\n    id: string,\n    anonymousMode: boolean,\n    fileSize: number,\n    progressCallback: (progress: number) => void,\n    completeCallback: () => void,\n    errorCallback: (msg: string) => void,\n    abortCallback: () => void,\n    toastCallback: () => void\n  ) {\n    this.aborter = new AbortController();\n    this.path = path;\n    this.id = id;\n    this.anonymousMode = anonymousMode;\n    this.fileSize = fileSize;\n    this.progressCallback = progressCallback;\n    this.completeCallback = completeCallback;\n    this.errorCallback = errorCallback;\n    this.abortCallback = abortCallback;\n    this.toastCallback = toastCallback;\n  }\n\n  abort(): void {\n    this.aborter.abort();\n    this.abortCallback();\n    if (this.writer) {\n      this.writer.abort();\n    }\n  }\n\n  send(): void {\n    let isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    if (isSafari) {\n      this.toastCallback();\n      this.downloadByBrowser();\n    } else if (!this.fileSize) {\n      this.downloadByBrowser();\n    } else {\n      this.download({\n        url: this.path,\n        chunkSize: 1024 * 1024 * 1024 * 1.5,\n      });\n    }\n  }\n\n  async getRangeContent(url: string, start: number, end: number) {\n    const info = this.getRequestInfo(start, end);\n    const response = await fetch(url, info);\n    if (response.ok && response.body) {\n      if (!this.filename) {\n        this.filename = this.getFilename(response);\n      }\n      if (!this.writer) {\n        this.writer = streamSaver.createWriteStream(this.filename).getWriter();\n      }\n      const reader = response.body.getReader();\n      let done, value;\n      while (!done) {\n        ({ value, done } = await reader.read());\n        if (done) {\n          break;\n        }\n        await this.writer.write(value);\n      }\n    } else {\n      throw new Error(`Unexpected response status code (${response.status}).`);\n    }\n  }\n\n  getRequestInfo(start: number, end: number) {\n    const info: RequestInit = {\n      signal: this.aborter.signal,\n      headers: { range: `bytes=${start}-${end}` },\n    };\n    if (this.anonymousMode) {\n      info.headers = { ...info.headers, \"X-Anonymous\": \"1\" };\n    }\n    return info;\n  }\n\n  getFilename(response: Response) {\n    const rspHeader = response.headers.get(\"Content-Disposition\");\n    if (rspHeader) {\n      let rspHeaderDecoded = decodeURIComponent(rspHeader);\n      return rspHeaderDecoded.split('\"')[1];\n    }\n    return \"download\";\n  }\n\n  async download({ url, chunkSize }: any) {\n    const numberOfChunks = Math.ceil(this.fileSize / chunkSize);\n    this.progressCallback(0);\n    try {\n      for (let i = 0; i < numberOfChunks; i++) {\n        let start = i * chunkSize;\n        let end =\n          i + 1 === numberOfChunks\n            ? this.fileSize - 1\n            : (i + 1) * chunkSize - 1;\n        await this.getRangeContent(url, start, end);\n        let percentComplete = Math.round(((i + 1) / numberOfChunks) * 100);\n        this.progressCallback(percentComplete);\n      }\n      this.writer.close();\n      this.completeCallback();\n      removeTrace(this.id);\n    } catch (e: any) {\n      this.errorCallback(e.message);\n    }\n  }\n\n  downloadByBrowser() {\n    const link = document.createElement(\"a\");\n    link.href = this.path;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    this.completeCallback();\n    removeTrace(this.id);\n  }\n}\n\n// Review file extension by name & returns the type of preview browser that can be used\nexport const extensionPreview = (\n  fileName: string\n): \"image\" | \"text\" | \"audio\" | \"video\" | \"none\" => {\n  const imageExtensions = [\n    \"jif\",\n    \"jfif\",\n    \"apng\",\n    \"avif\",\n    \"svg\",\n    \"webp\",\n    \"bmp\",\n    \"ico\",\n    \"jpg\",\n    \"jpe\",\n    \"jpeg\",\n    \"gif\",\n    \"png\",\n    \"heic\",\n  ];\n  const textExtensions = [\"pdf\"];\n  const audioExtensions = [\"wav\", \"mp3\", \"alac\", \"aiff\", \"dsd\", \"pcm\"];\n  const videoExtensions = [\n    \"mp4\",\n    \"avi\",\n    \"mpg\",\n    \"webm\",\n    \"mov\",\n    \"flv\",\n    \"mkv\",\n    \"wmv\",\n    \"avchd\",\n    \"mpeg-4\",\n  ];\n\n  let fileExtension = fileName.split(\".\").pop();\n\n  if (!fileExtension) {\n    return \"none\";\n  }\n\n  fileExtension = fileExtension.toLowerCase();\n\n  if (imageExtensions.includes(fileExtension)) {\n    return \"image\";\n  }\n\n  if (textExtensions.includes(fileExtension)) {\n    return \"text\";\n  }\n\n  if (audioExtensions.includes(fileExtension)) {\n    return \"audio\";\n  }\n\n  if (videoExtensions.includes(fileExtension)) {\n    return \"video\";\n  }\n\n  return \"none\";\n};\n\nexport const sortListObjects = (fieldSort: string) => {\n  switch (fieldSort) {\n    case \"name\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        a.name.localeCompare(b.name);\n    case \"last_modified\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        new Date(a.last_modified).getTime() -\n        new Date(b.last_modified).getTime();\n    case \"size\":\n      return (a: BucketObjectItem, b: BucketObjectItem) =>\n        (a.size || -1) - (b.size || -1);\n  }\n};\n\nexport const permissionItems = (\n  bucketName: string,\n  currentPath: string,\n  permissionsArray: PermissionResource[]\n): BucketObjectItem[] | null => {\n  if (permissionsArray.length === 0) {\n    return null;\n  }\n\n  // We get permissions applied to the current bucket\n  const filteredPermissionsForBucket = permissionsArray.filter(\n    (permissionItem) =>\n      permissionItem.resource?.endsWith(`:${bucketName}`) ||\n      permissionItem.resource?.includes(`:${bucketName}/`)\n  );\n\n  // No permissions for this bucket. we can throw the error message at this point\n  if (filteredPermissionsForBucket.length === 0) {\n    return null;\n  }\n\n  let returnElements: BucketObjectItem[] = [];\n\n  // We split current path\n  const splitCurrentPath = currentPath.split(\"/\");\n\n  filteredPermissionsForBucket.forEach((permissionElement) => {\n    // We review paths in resource address\n\n    // We split ARN & get the last item to check the URL\n    const splitARN = permissionElement.resource?.split(\":\");\n    const urlARN = splitARN?.pop() || \"\";\n\n    // We split the paths of the URL & compare against current location to see if there are more items to include. In case current level is a wildcard or is the last one, we omit this validation\n\n    const splitURLARN = urlARN.split(\"/\");\n\n    // splitURL has more items than bucket name, we can continue validating\n    if (splitURLARN.length > 1) {\n      splitURLARN.every((currentElementInPath, index) => {\n        // It is a wildcard element. We can store the verification as value should be included (?)\n        if (currentElementInPath === \"*\") {\n          return false;\n        }\n\n        // Element is not included in the path. The user is trying to browse something else.\n        if (\n          splitCurrentPath[index] &&\n          splitCurrentPath[index] !== currentElementInPath\n        ) {\n          return false;\n        }\n\n        // This element is not included by index in the current paths list. We add it so user can browse into it\n        if (!splitCurrentPath[index]) {\n          returnElements.push({\n            name: `${currentElementInPath}/`,\n            size: 0,\n            last_modified: \"\",\n            version_id: \"\",\n          });\n        }\n\n        return true;\n      });\n    }\n\n    // We review prefixes in allow resources for StringEquals variant only.\n    if (\n      permissionElement.conditionOperator === \"StringEquals\" ||\n      permissionElement.conditionOperator === \"StringLike\"\n    ) {\n      permissionElement.prefixes?.forEach((prefixItem) => {\n        // Prefix Item is not empty?\n        if (prefixItem !== \"\") {\n          const splitItems = prefixItem.split(\"/\");\n\n          let pathToRouteElements: string[] = [];\n\n          // We verify if currentPath is contained in the path begin, if is not contained the  user has no access to this subpath\n          const cleanCurrPath = currentPath.replace(/\\/$/, \"\");\n\n          if (!prefixItem.startsWith(cleanCurrPath) && currentPath !== \"\") {\n            return;\n          }\n\n          // For every split element we iterate and check if we can construct a URL\n          splitItems.every((splitElement, index) => {\n            if (!splitElement.includes(\"*\") && splitElement !== \"\") {\n              if (splitElement !== splitCurrentPath[index]) {\n                returnElements.push({\n                  name: `${pathToRouteElements.join(\"/\")}${\n                    pathToRouteElements.length > 0 ? \"/\" : \"\"\n                  }${splitElement}/`,\n                  size: 0,\n                  last_modified: \"\",\n                  version_id: \"\",\n                });\n                return false;\n              }\n              if (splitElement !== \"\") {\n                pathToRouteElements.push(splitElement);\n              }\n\n              return true;\n            }\n            return false;\n          });\n        }\n      });\n    }\n  });\n\n  // We clean duplicated name entries\n  if (returnElements.length > 0) {\n    let clElements: BucketObjectItem[] = [];\n    let keys: string[] = [];\n\n    returnElements.forEach((itm) => {\n      if (!keys.includes(itm.name)) {\n        clElements.push(itm);\n        keys.push(itm.name);\n      }\n    });\n\n    returnElements = clElements;\n  }\n\n  return returnElements;\n};\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { ComponentType, Suspense, SuspenseProps } from \"react\";\n\nfunction withSuspense<P extends string | number | object>(\n  WrappedComponent: ComponentType<P>,\n  fallback: SuspenseProps[\"fallback\"] = null\n) {\n  function ComponentWithSuspense(props: P) {\n    return (\n      <Suspense fallback={fallback}>\n        <WrappedComponent {...(props as any)} />\n      </Suspense>\n    );\n  }\n\n  return ComponentWithSuspense;\n}\n\nexport default withSuspense;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React from \"react\";\nimport { Checkbox, Grid, InputLabel, Tooltip } from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  checkboxIcons,\n  fieldBasic,\n  tooltipHelper,\n} from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\n\ninterface CheckBoxProps {\n  label: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  tooltip?: string;\n  overrideLabelClasses?: string;\n  overrideCheckboxStyles?: React.CSSProperties;\n  index?: number;\n  noTopMargin?: boolean;\n  checked: boolean;\n  className?: string;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    ...checkboxIcons,\n    fieldContainer: {\n      ...fieldBasic.fieldContainer,\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n      margin: \"15px 0\",\n      marginBottom: 0,\n      flexBasis: \"initial\",\n      flexWrap: \"nowrap\",\n    },\n    noTopMargin: {\n      marginTop: 0,\n    },\n  });\n\nconst CheckboxWrapper = ({\n  label,\n  onChange,\n  value,\n  id,\n  name,\n  checked = false,\n  disabled = false,\n  noTopMargin = false,\n  tooltip = \"\",\n  overrideLabelClasses = \"\",\n  overrideCheckboxStyles,\n  classes,\n  className,\n}: CheckBoxProps) => {\n  return (\n    <React.Fragment>\n      <Grid\n        item\n        xs={12}\n        className={`${classes.fieldContainer} ${\n          noTopMargin ? classes.noTopMargin : \"\"\n        } ${className ? className : \"\"}`}\n      >\n        <div>\n          <Checkbox\n            name={name}\n            id={id}\n            value={value}\n            color=\"primary\"\n            inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n            checked={checked}\n            onChange={onChange}\n            checkedIcon={<span className={classes.checkedIcon} />}\n            icon={<span className={classes.unCheckedIcon} />}\n            disabled={disabled}\n            disableRipple\n            disableFocusRipple\n            focusRipple={false}\n            centerRipple={false}\n            disableTouchRipple\n            style={overrideCheckboxStyles || {}}\n          />\n        </div>\n        {label !== \"\" && (\n          <InputLabel\n            htmlFor={id}\n            className={`${classes.noMinWidthLabel} ${overrideLabelClasses}`}\n          >\n            <span>{label}</span>\n            {tooltip !== \"\" && (\n              <div className={classes.tooltipContainer}>\n                <Tooltip title={tooltip} placement=\"top-start\">\n                  <div className={classes.tooltip}>\n                    <HelpIcon />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n          </InputLabel>\n        )}\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(CheckboxWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { InputLabel, Switch, Tooltip, Typography } from \"@mui/material\";\nimport Grid from \"@mui/material/Grid\";\nimport { actionsTray, fieldBasic } from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\nimport clsx from \"clsx\";\nimport { InputProps as StandardInputProps } from \"@mui/material/Input/Input\";\n\ninterface IFormSwitch {\n  label?: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  tooltip?: string;\n  description?: string;\n  index?: number;\n  checked: boolean;\n  switchOnly?: boolean;\n  indicatorLabels?: string[];\n  extraInputProps?: StandardInputProps[\"inputProps\"];\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    indicatorLabelOn: {\n      fontWeight: \"bold\",\n      color: \"#081C42 !important\",\n    },\n    indicatorLabel: {\n      fontSize: 12,\n      color: \"#E2E2E2\",\n      margin: \"0 8px 0 10px\",\n    },\n    fieldDescription: {\n      marginTop: 4,\n      color: \"#999999\",\n    },\n    tooltip: {\n      fontSize: 16,\n    },\n    ...actionsTray,\n    ...fieldBasic,\n  });\n\nconst StyledSwitch = withStyles((theme) => ({\n  root: {\n    width: 50,\n    height: 24,\n    padding: 0,\n    margin: 0,\n  },\n  switchBase: {\n    padding: 1,\n    \"&$checked\": {\n      transform: \"translateX(24px)\",\n      color: theme.palette.common.white,\n      \"& + $track\": {\n        backgroundColor: \"#4CCB92\",\n        boxShadow: \"inset 0px 1px 4px rgba(0,0,0,0.1)\",\n        opacity: 1,\n        border: \"none\",\n      },\n    },\n    \"&$focusVisible $thumb\": {\n      color: \"#4CCB92\",\n      border: \"6px solid #fff\",\n    },\n  },\n  thumb: {\n    width: 22,\n    height: 22,\n    backgroundColor: \"#FAFAFA\",\n    border: \"2px solid #FFFFFF\",\n    marginLeft: 1,\n  },\n  track: {\n    borderRadius: 24 / 2,\n    backgroundColor: \"#E2E2E2\",\n    boxShadow: \"inset 0px 1px 4px rgba(0,0,0,0.1)\",\n    opacity: 1,\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\n  },\n  checked: {},\n  focusVisible: {},\n  switchContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n  },\n}))(Switch);\n\nconst FormSwitchWrapper = ({\n  label = \"\",\n  onChange,\n  value,\n  id,\n  name,\n  checked = false,\n  disabled = false,\n  switchOnly = false,\n  tooltip = \"\",\n  description = \"\",\n  classes,\n  indicatorLabels,\n  extraInputProps = {},\n}: IFormSwitch) => {\n  const switchComponent = (\n    <React.Fragment>\n      {!switchOnly && (\n        <span\n          className={clsx(classes.indicatorLabel, {\n            [classes.indicatorLabelOn]: !checked,\n          })}\n        >\n          {indicatorLabels && indicatorLabels.length > 1\n            ? indicatorLabels[1]\n            : \"OFF\"}\n        </span>\n      )}\n      <StyledSwitch\n        checked={checked}\n        onChange={onChange}\n        color=\"primary\"\n        name={name}\n        inputProps={{ \"aria-label\": \"primary checkbox\", ...extraInputProps }}\n        disabled={disabled}\n        disableRipple\n        disableFocusRipple\n        disableTouchRipple\n        value={value}\n        id={id}\n      />\n      {!switchOnly && (\n        <span\n          className={clsx(classes.indicatorLabel, {\n            [classes.indicatorLabelOn]: checked,\n          })}\n        >\n          {indicatorLabels ? indicatorLabels[0] : \"ON\"}\n        </span>\n      )}\n    </React.Fragment>\n  );\n\n  if (switchOnly) {\n    return switchComponent;\n  }\n\n  return (\n    <div>\n      <Grid container alignItems={\"center\"}>\n        <Grid item xs={12} sm={8} md={8}>\n          {label !== \"\" && (\n            <InputLabel htmlFor={id} className={classes.inputLabel}>\n              <span>{label}</span>\n              {tooltip !== \"\" && (\n                <div className={classes.tooltipContainer}>\n                  <Tooltip title={tooltip} placement=\"top-start\">\n                    <div className={classes.tooltip}>\n                      <HelpIcon />\n                    </div>\n                  </Tooltip>\n                </div>\n              )}\n            </InputLabel>\n          )}\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          sm={label !== \"\" ? 4 : 12}\n          md={label !== \"\" ? 4 : 12}\n          textAlign={\"right\"}\n          justifyContent={\"end\"}\n          className={classes.switchContainer}\n        >\n          {switchComponent}\n        </Grid>\n        {description !== \"\" && (\n          <Grid item xs={12} textAlign={\"left\"}>\n            <Typography component=\"p\" className={classes.fieldDescription}>\n              {description}\n            </Typography>\n          </Grid>\n        )}\n      </Grid>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(FormSwitchWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React, { ClipboardEvent, useState } from \"react\";\nimport {\n  Grid,\n  IconButton,\n  InputLabel,\n  TextField,\n  TextFieldProps,\n  Tooltip,\n} from \"@mui/material\";\nimport { OutlinedInputProps } from \"@mui/material/OutlinedInput\";\nimport { InputProps as StandardInputProps } from \"@mui/material/Input\";\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\nimport RemoveRedEyeIcon from \"@mui/icons-material/RemoveRedEye\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport {\n  fieldBasic,\n  inputFieldStyles,\n  tooltipHelper,\n} from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\nimport clsx from \"clsx\";\n\ninterface InputBoxProps {\n  label: string;\n  classes: any;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onKeyPress?: (e: any) => void;\n  onFocus?: () => void;\n  onPaste?: (e: ClipboardEvent<HTMLInputElement>) => void;\n  value: string | boolean;\n  id: string;\n  name: string;\n  disabled?: boolean;\n  multiline?: boolean;\n  type?: string;\n  tooltip?: string;\n  autoComplete?: string;\n  index?: number;\n  error?: string;\n  required?: boolean;\n  placeholder?: string;\n  min?: string;\n  max?: string;\n  overlayId?: string;\n  overlayIcon?: any;\n  overlayAction?: () => void;\n  overlayObject?: any;\n  extraInputProps?: StandardInputProps[\"inputProps\"];\n  noLabelMinWidth?: boolean;\n  pattern?: string;\n  autoFocus?: boolean;\n  className?: string;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    textBoxContainer: {\n      flexGrow: 1,\n      position: \"relative\",\n    },\n    overlayAction: {\n      position: \"absolute\",\n      right: 5,\n      top: 6,\n      \"& svg\": {\n        maxWidth: 15,\n        maxHeight: 15,\n      },\n      \"&.withLabel\": {\n        top: 5,\n      },\n    },\n  });\n\nconst inputStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ...inputFieldStyles,\n  })\n);\n\nfunction InputField(props: TextFieldProps) {\n  const classes = inputStyles();\n\n  return (\n    <TextField\n      InputProps={{ classes } as Partial<OutlinedInputProps>}\n      {...props}\n    />\n  );\n}\n\nconst InputBoxWrapper = ({\n  label,\n  onChange,\n  value,\n  id,\n  name,\n  type = \"text\",\n  autoComplete = \"off\",\n  disabled = false,\n  multiline = false,\n  tooltip = \"\",\n  index = 0,\n  error = \"\",\n  required = false,\n  placeholder = \"\",\n  min,\n  max,\n  overlayId,\n  overlayIcon = null,\n  overlayObject = null,\n  extraInputProps = {},\n  overlayAction,\n  noLabelMinWidth = false,\n  pattern = \"\",\n  autoFocus = false,\n  classes,\n  className = \"\",\n  onKeyPress,\n  onFocus,\n  onPaste,\n}: InputBoxProps) => {\n  let inputProps: any = { \"data-index\": index, ...extraInputProps };\n  const [toggleTextInput, setToggleTextInput] = useState<boolean>(false);\n\n  if (type === \"number\" && min) {\n    inputProps[\"min\"] = min;\n  }\n\n  if (type === \"number\" && max) {\n    inputProps[\"max\"] = max;\n  }\n\n  if (pattern !== \"\") {\n    inputProps[\"pattern\"] = pattern;\n  }\n\n  let inputBoxWrapperIcon = overlayIcon;\n  let inputBoxWrapperType = type;\n\n  if (type === \"password\" && overlayIcon === null) {\n    inputBoxWrapperIcon = toggleTextInput ? (\n      <VisibilityOffIcon />\n    ) : (\n      <RemoveRedEyeIcon />\n    );\n    inputBoxWrapperType = toggleTextInput ? \"text\" : \"password\";\n  }\n\n  return (\n    <React.Fragment>\n      <Grid\n        container\n        className={clsx(\n          className !== \"\" ? className : \"\",\n          error !== \"\" ? classes.errorInField : classes.inputBoxContainer\n        )}\n      >\n        {label !== \"\" && (\n          <InputLabel\n            htmlFor={id}\n            className={\n              noLabelMinWidth ? classes.noMinWidthLabel : classes.inputLabel\n            }\n          >\n            <span>\n              {label}\n              {required ? \"*\" : \"\"}\n            </span>\n            {tooltip !== \"\" && (\n              <div className={classes.tooltipContainer}>\n                <Tooltip title={tooltip} placement=\"top-start\">\n                  <div className={classes.tooltip}>\n                    <HelpIcon />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n          </InputLabel>\n        )}\n\n        <div className={classes.textBoxContainer}>\n          <InputField\n            id={id}\n            name={name}\n            fullWidth\n            value={value}\n            autoFocus={autoFocus}\n            disabled={disabled}\n            onChange={onChange}\n            type={inputBoxWrapperType}\n            multiline={multiline}\n            autoComplete={autoComplete}\n            inputProps={inputProps}\n            error={error !== \"\"}\n            helperText={error}\n            placeholder={placeholder}\n            className={classes.inputRebase}\n            onKeyPress={onKeyPress}\n            onFocus={onFocus}\n            onPaste={onPaste}\n          />\n          {inputBoxWrapperIcon && (\n            <div\n              className={`${classes.overlayAction} ${\n                label !== \"\" ? \"withLabel\" : \"\"\n              }`}\n            >\n              <IconButton\n                onClick={\n                  overlayAction\n                    ? () => {\n                        overlayAction();\n                      }\n                    : () => setToggleTextInput(!toggleTextInput)\n                }\n                id={overlayId}\n                size={\"small\"}\n                disableFocusRipple={false}\n                disableRipple={false}\n                disableTouchRipple={false}\n              >\n                {inputBoxWrapperIcon}\n              </IconButton>\n            </div>\n          )}\n          {overlayObject && (\n            <div\n              className={`${classes.overlayAction} ${\n                label !== \"\" ? \"withLabel\" : \"\"\n              }`}\n            >\n              {overlayObject}\n            </div>\n          )}\n        </div>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(InputBoxWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\nimport React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport {\n  FormControl,\n  InputBase,\n  InputLabel,\n  MenuItem,\n  Select,\n  SelectChangeEvent,\n  Tooltip,\n} from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { fieldBasic, tooltipHelper } from \"../common/styleLibrary\";\nimport { HelpIcon } from \"mds\";\n\nexport interface selectorTypes {\n  label: string;\n  value: string;\n}\n\ninterface SelectProps {\n  options: selectorTypes[];\n  value: string;\n  label: string;\n  id: string;\n  name: string;\n  tooltip?: string;\n  onChange: (e: SelectChangeEvent<string>) => void;\n  disabled?: boolean;\n  classes: any;\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    ...fieldBasic,\n    ...tooltipHelper,\n    fieldContainer: {\n      display: \"flex\",\n      \"@media (max-width: 600px)\": {\n        flexFlow: \"column\",\n      },\n    },\n  });\n\nconst SelectStyled = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 38,\n      lineHeight: 1,\n      \"label + &\": {\n        marginTop: theme.spacing(3),\n      },\n    },\n    input: {\n      height: 38,\n      position: \"relative\",\n      color: \"#07193E\",\n      fontSize: 13,\n      fontWeight: 600,\n      padding: \"8px 20px 10px 10px\",\n      border: \"#e5e5e5 1px solid\",\n      borderRadius: 4,\n      display: \"flex\",\n      alignItems: \"center\",\n      \"&:hover\": {\n        borderColor: \"#393939\",\n      },\n      \"&:focus\": {\n        backgroundColor: \"#fff\",\n      },\n    },\n  })\n)(InputBase);\n\nconst SelectWrapper = ({\n  classes,\n  id,\n  name,\n  onChange,\n  options,\n  label,\n  tooltip = \"\",\n  value,\n  disabled = false,\n}: SelectProps) => {\n  return (\n    <React.Fragment>\n      <Grid item xs={12} className={classes.fieldContainer}>\n        {label !== \"\" && (\n          <InputLabel htmlFor={id} className={classes.inputLabel}>\n            <span>{label}</span>\n            {tooltip !== \"\" && (\n              <div className={classes.tooltipContainer}>\n                <Tooltip title={tooltip} placement=\"top-start\">\n                  <div className={classes.tooltip}>\n                    <HelpIcon />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n          </InputLabel>\n        )}\n        <FormControl fullWidth>\n          <Select\n            id={id}\n            name={name}\n            value={value}\n            onChange={onChange}\n            input={<SelectStyled />}\n            disabled={disabled}\n          >\n            {options.map((option) => (\n              <MenuItem\n                value={option.value}\n                key={`select-${name}-${option.label}`}\n              >\n                {option.label}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(SelectWrapper);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from \"react\";\nimport { Box } from \"@mui/material\";\nimport { Button, CopyIcon } from \"mds\";\nimport InputBoxWrapper from \"../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\n\nconst KeyRevealer = ({ value }: { value: string }) => {\n  const [shown, setShown] = useState<boolean>(false);\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        alignItems: \"center\",\n        flexFlow: {\n          sm: \"row\",\n          xs: \"column\",\n        },\n      }}\n    >\n      <InputBoxWrapper\n        id=\"inspect-dec-key\"\n        name=\"inspect-dec-key\"\n        placeholder=\"\"\n        label=\"\"\n        type={shown ? \"text\" : \"password\"}\n        onChange={() => {}}\n        value={value}\n        overlayIcon={<CopyIcon />}\n        extraInputProps={{\n          readOnly: true,\n        }}\n        overlayAction={() => navigator.clipboard.writeText(value)}\n      />\n\n      <Button\n        id={\"show-hide-key\"}\n        style={{\n          marginLeft: \"10px\",\n        }}\n        variant=\"callAction\"\n        onClick={() => setShown(!shown)}\n        label={\"Show/Hide\"}\n      />\n    </Box>\n  );\n};\n\nexport default KeyRevealer;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n// Close codes for websockets defined in RFC 6455\nexport const WSCloseAbnormalClosure = 1006;\nexport const WSClosePolicyViolation = 1008;\nexport const WSCloseInternalServerErr = 1011;\n\nexport const wsProtocol = (protocol: string): string => {\n  let wsProtocol = \"ws\";\n  if (protocol === \"https:\") {\n    wsProtocol = \"wss\";\n  }\n  return wsProtocol;\n};\n"],"names":["withStyles","theme","createStyles","_objectSpread","formFieldStyles","modalStyleUtils","_ref","modalOpen","onClose","classes","bucket","prefilledRoute","dispatch","useAppDispatch","_useState","useState","_useState2","_slicedToArray","prefix","setPrefix","_useState3","_useState4","selectedAccess","setSelectedAccess","useEffect","_jsx","ModalWrapper","title","titleIcon","AddAccessRuleIcon","children","_jsxs","Grid","container","item","xs","className","formFieldRow","InputBoxWrapper","value","label","id","name","placeholder","onChange","e","target","tooltip","SelectWrapper","options","disabled","modalButtonBar","Button","type","variant","onClick","trim","api","setAccessRuleWithBucket","access","then","res","setSnackBarMessage","catch","err","setErrorSnackMessage","errorToHandler","objectsWS","extractFileExtn","resourceStr","match","getSessionGrantsWildCard","sessionGrants","uploadPath","scopes","arguments","length","undefined","grantsWithExtension","Object","keys","reduce","acc","grantKey","includes","filter","sessionGrantKey","hasScope","some","actionKey","find","scopeKey","wildCardMatch","indexOf","scopeActionKey","substring","isUploadPathMatching","concat","CreatePathModal","withSuspense","React","useStyles","makeStyles","objectBrowserCommon","slashSpacingStyle","margin","bucketName","internalPaths","hidePathButton","additionalOptions","navigate","useNavigate","rewindEnabled","useSelector","state","objectBrowser","rewind","versionsMode","versionedFile","anonymousMode","system","createFolderOpen","setCreateFolderOpen","putObjectPermScopes","IAM_SCOPES","S3_PUT_OBJECT","S3_PUT_ACTIONS","console","session","permissions","paths","splitPaths","split","path","lastBreadcrumbsIndex","pathToCheckPerms","sessionGrantWildCards","canCreatePath","hasPermission","_toConsumableArray","breadcrumbsMap","map","objectItem","index","subSplit","slice","join","route","encodeURLString","Fragment","style","cursor","Link","to","setVersionsModeEnabled","status","objectName","toString","versionsItem","listBreadcrumbs","breadcrumbsMain","folderName","Breadcrumbs","goBackFunction","prevPath","CopyToClipboard","text","icon","CopyIcon","width","height","fill","marginTop","color","border","marginRight","Tooltip","permissionTooltipHelper","NewPathIcon","whiteSpace","breadcrumbsSecond","listUploadIcons","_ref$forceDisable","forceDisable","uploadFileFunction","uploadFolderFunction","_ref$overrideStyles","overrideStyles","anchorEl","setAnchorEl","openUploadMenu","Boolean","handleCloseUpload","uploadObjectAllowed","uploadFolderAllowed","uploadEnabled","TooltipWrapper","event","currentTarget","UploadIcon","sx","Menu","open","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","ListItemIcon","ListItemText","UploadFolderIcon","detailsList","borderColor","borderWidth","borderStyle","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","transitionDuration","overflowX","overflowY","position","opacity","marginLeft","minWidth","borderLeftWidth","closePanel","_ref$className","ClosePanelIcon","right","top","padding","backgroundColor","months","days","Array","from","_","num","currentYear","Date","getFullYear","years","numYear","DateSelector","forwardRef","ref","_ref$disableOptions","disableOptions","_ref$addSwitch","addSwitch","_ref$tooltip","_ref$borderBottom","borderBottom","onDateChange","_ref$value","useImperativeHandle","resetDate","dateEnabled","setDateEnabled","month","setMonth","_useState5","_useState6","day","setDay","_useState7","_useState8","year","setYear","valueSplit","parseInt","_validDate","currentDate","parse","isNaN","parsedMonth","parsedDay","monthForString","dayForString","parsedDate","toISOString","dateString","validDate","_validDate2","isValid","isDateDisabled","monthForDropDown","daysForDrop","yearsForDrop","clsx","fieldContainer","_defineProperty","fieldContainerBorder","labelContainer","InputLabel","htmlFor","tooltipContainer","placement","HelpIcon","Switch","indicatorLabels","checked","switchOnly","Box","display","gap","Select","newValue","fieldBasic","tooltipHelper","alignItems","justifyContent","paddingBottom","marginBottom","spacingUtils","closeModalAndRefresh","objectInfo","retentionConfig","statusEnabled","setStatusEnabled","setType","date","setDate","isDateValid","setIsDateValid","_useState9","_useState10","isSaving","setIsSaving","_useState11","_useState12","alreadyConfigured","setAlreadyConfigured","retention_mode","mode","retention_until_date","valueDate","getMonth","getDate","dateElement","useRef","resetForm","current","showSwitcher","spacerBottom","noValidate","autoComplete","onSubmit","preventDefault","RadioGroup","currentValue","selectorOptions","dateSelector","selectedObject","versionId","version_id","expireDate","invoke","expires","error","setModalErrorSnackMessage","addRetention","disableRetention","isVersionedMode","closeDeleteModalAndRefresh","deleteOpen","selectedBucket","versioningInfo","_ref$selectedVersion","selectedVersion","_useApi","useApi","detailedError","_useApi2","deleteLoading","invokeDeleteApi","deleteVersions","setDeleteVersions","bypassGovernance","setBypassGovernance","canBypass","S3_BYPASS_GOVERNANCE_RETENTION","ConfirmDialog","confirmText","isOpen","ConfirmDeleteIcon","isLoading","onConfirm","recursive","decodeURLString","endsWith","confirmationContent","description","actualInfo","legalHoldEnabled","setLegalHoldEnabled","get","titleItem","detailsPanel","metaData","_ref$linear","linear","metaKeys","element","renderItem","isArray","decodeURIComponent","metadataLinear","Table","table","TableBody","TableRow","TableCell","component","scope","align","fileName","minHeight","fileNameText","overflow","textOverflow","strings","replaceUnicodeChar","extensionToIcon","FileVideoIcon","extensions","FileMusicIcon","FilePdfIcon","FilePptIcon","FileXlsIcon","FileLockIcon","FileCodeIcon","FileConfigIcon","FileDbIcon","FileFontIcon","FileTxtIcon","FileZipIcon","FileBookIcon","FileImageIcon","displayFileIconName","returnOnlyIcon","elementString","FileNonType","FolderBrowserIcon","lowercaseElement","toLowerCase","_i","_extensionToIcon","_step","etc","_iterator","_createForOfIteratorHelper","s","n","done","ext","f","FileMissingIcon","splitItem","IconWithLabel","newTileHeader","fontSize","fontWeight","tagsForLabel","currentTagsContainer","noTagsForObject","deleteTag","onCloseAndUpdate","distributedSetup","selDistSet","newKey","setNewKey","newLabel","setNewLabel","isSending","setIsSending","deleteEnabled","setDeleteEnabled","deleteKey","setDeleteKey","deleteLabel","setDeleteLabel","currentTags","tags","currTagKeys","currentItem","pop","tagsFor","plural","DisabledIcon","EditTagIcon","cleanObject","verID","SecureComponent","S3_GET_OBJECT_TAGGING","S3_GET_ACTIONS","resource","flexFlow","tagKey","tag","S3_DELETE_OBJECT_TAGGING","errorProps","deleteIcon","onDelete","Chip","textTransform","size","CloseIcon","onDeleteTag","S3_PUT_OBJECT_TAGGING","SectionTitle","AddNewTagIcon","separator","InputBox","newTag","newTagList","closeInspectModalAndRefresh","inspectOpen","inspectPath","volumeName","isEncrypt","setIsEncrypt","decryptionKey","setDecryptionKey","insFileName","setInsFileName","makeRequest","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","wrap","_context","prev","next","fetch","method","abrupt","sent","stop","_x","apply","performInspect","_ref3","_callee3","file","volume","urlOfInspectApi","_context3","_ref4","_callee2","resErr","blob","filename","decryptKey","_context2","ok","json","errorMessage","message","code","headers","getCookieValue","performDownload","_x2","InspectMenuIcon","deleteCookie","PasswordKeyIcon","DialogContentText","KeyRevealer","downloadObject","object","identityDownload","getTime","Math","random","getClientOS","setLongFileOpen","ID","makeid","downloadCall","download","progress","updateProgress","instanceID","completeObject","msg","failObject","cancelObjectInList","storeCallForObjectWithID","setNewObject","percentage","waitingForFile","failed","cancelled","containerForHeader","closeModal","newFileName","setNewFileName","acceptLongName","setAcceptLongName","EditIcon","doDownload","modalFormScrollable","FormSwitchWrapper","emptyFile","is_latest","last_modified","legal_hold_status","ObjectDetailsTitle","objectNameContainer","capitalizeFirst","actionsTray","textStyleUtils","locking","onClosePanel","loadingObjectInfo","shareFileModalOpen","setShareFileModalOpen","retentionModalOpen","setRetentionModalOpen","tagModalOpen","setTagModalOpen","legalholdOpen","setLegalholdOpen","inspectModalOpen","setInspectModalOpen","setActualInfo","_useState13","_useState14","allInfoElements","setAllInfoElements","_useState15","_useState16","objectToShare","setObjectToShare","_useState17","_useState18","versions","setVersions","_useState19","_useState20","setDeleteOpen","_useState21","_useState22","previewOpen","setPreviewOpen","_useState23","_useState24","totalVersionsSize","setTotalVersionsSize","_useState25","_useState26","longFileOpen","_useState27","_useState28","setMetaData","_useState29","_useState30","loadMetadata","setLoadingMetadata","objectNameArray","infoElement","el","is_delete_marker","result","objects","tVersionSize","currValue","resInfo","setLoadingObjectInfo","metadata","tagKeys","loaderForContainer","textAlign","Loader","objectResources","canSetLegalHold","S3_PUT_OBJECT_LEGAL_HOLD","canSetTags","canChangeRetention","S3_GET_OBJECT_RETENTION","S3_PUT_OBJECT_RETENTION","canInspect","ADMIN_INSPECT_DATA","canChangeVersioning","S3_GET_BUCKET_VERSIONING","S3_PUT_BUCKET_VERSIONING","S3_GET_OBJECT_VERSION","canGetObject","S3_GET_OBJECT","canDelete","S3_DELETE_OBJECT","multiActionButtons","action","DownloadIcon","ShareIcon","extensionPreview","PreviewIcon","LegalHoldIcon","RetentionIcon","TagsIcon","VersionsIcon","ShareFile","dataObject","SetRetention","updateInfo","DeleteObject","closeAndReload","setLoadingVersions","setSelectedVersion","SetLegalHoldModal","reload","PreviewFileModal","content_type","onClosePreview","TagsModal","reloadObjectData","InspectObject","RenameLongFileName","ActionsList","items","DeleteIcon","iconLocation","fullWidth","SimpleHeader","ObjectInfoIcon","detailContainer","overflowWrap","niceBytes","niceBytesInt","lastModified","currentTime","modifiedTime","difTime","formatTime","niceDaysInt","calculateLastModifyTime","etag","S3_GET_OBJECT_LEGAL_HOLD","MetadataIcon","ObjectMetaData","modalBasic","versionToRestore","objectPath","restoreOpen","restoreLoading","setRestoreLoading","RecoverIcon","restoreLocalObjectList","confirmButtonProps","wrapText","bgColor","FileVersionStyled","styled","div","content","left","borderBottomColor","maxWidth","flexDirection","versionInfo","isSelected","checkable","isChecked","onCheck","onShare","onDownload","onRestore","onPreview","globalClick","key","disableButtons","versionItemButtons","pill","DateTime","now","fromISO","md","CheckboxWrapper","stopPropagation","overrideCheckboxStyles","paddingLeft","noTopMargin","SpecificVersionPill","button","IconButton","toFormat","setDeleteLoading","typeConfirm","setTypeConfirm","selectedVersions","selectedObjectsRequest","versionID","versionsContainer","noBottomBorder","versionsVirtualPanel","flexGrow","screenTitleContainer","sortByLabel","tableStyles","objectBrowserExtras","searchVersions","loadingVersions","restoreVersionOpen","setRestoreVersionOpen","restoreVersion","setRestoreVersion","sortValue","setSortValue","deleteNonCurrentOpen","setDeleteNonCurrentOpen","selectEnabled","setSelectEnabled","selectedItems","setSelectedItems","delSelectedVOpen","setDelSelectedVOpen","decodedInternalPaths","filteredPrefixes","onShareItem","onPreviewItem","onRestoreItem","onDownloadItem","onGlobalClick","filteredRecords","version","totalSpace","sort","a","b","dateA","dateB","onCheckVersion","filteredItems","cloneState","push","RestoreFileVersion","DeleteNonCurrent","reloadAfterDelete","DeleteSelectedVersions","reloadOnComplete","LinearProgress","BrowserBreadcrumbs","ScreenTitle","listIcon","subTitle","detailsSpacer","actions","SelectMultipleIcon","DeleteNonCurrentIcon","noLabelMinWidth","bottomBorder","List","containerStyle","rowCount","rowHeight","rowRenderer","isScrolling","isVisible","versOrd","FileVersionItem","displayParsedDate","currTime","objectTime","hasSame","displayNiceBytes","String","listModeColumns","elementKey","renderFunction","enableSort","renderFullObject","rewindModeColumns","browsePaper","parentWrapper","backgroundImage","params","useParams","sortDirection","setSortDirection","currentSortField","setCurrentSortField","detailsOpen","objectDetailsOpen","loadingObjects","features","selFeatures","obOnly","records","searchObjects","selectedObjects","connectionError","displayListObjects","S3_LIST_BUCKET","S3_ALL_LIST_BUCKET","sortASC","sortListObjects","payload","reverse","tableActions","idElement","newPath","setSelectedObjects","setObjectDetailsView","setIsOpeningOD","setSelectedObjectView","sendOnlyId","customPaperHeight","DataTable","itemActions","columns","entityName","idField","onSelect","targetD","elements","customEmptyMessage","sortConfig","currentSort","currentDirection","triggerSort","sortData","newSortDirection","sortBy","setLoadingObjects","onSelectAll","rowStyle","_payload$index","delete_flag","parentClassName","noBackground","downloadSelected","createAsyncThunk","getState","itemsToDownload","filterFunction","rejectWithValue","setDownloadRenameModal","forEach","filteredItem","openPreview","fileObject","findFunction","setSelectedPreview","_x3","_x4","openShare","_ref6","_ref5","_x5","_x6","openAnonymousAccess","_ref8","_callee4","_ref7","_context4","setAnonymousAccessOpen","_x7","_x8","SearchBox","setSearchObjects","DeleteMultipleObjects","RewindEnable","badgeOverlap","searchField","labelStyle","breadcrumbsContainer","fullContainer","hideListOnSmall","actionsSection","baseDnDStyle","outline","activeDnDStyle","acceptDnDStyle","_downloadRenameModal$","location","useLocation","bucketToRewind","showDeleted","selectedInternalPaths","simplePath","versioningConfig","lockingEnabled","downloadRenameModal","selectedPreview","anonymousAccessOpen","loadingBucket","selBucketDetailsLoading","bucketInfo","selBucketDetailsInfo","deleteMultipleOpen","setDeleteMultipleOpen","rewindSelect","setRewindSelect","iniLoad","setIniLoad","canShareFile","setCanShareFile","canPreviewFile","setCanPreviewFile","quota","setQuota","isVersioningApplied","pathSegment","pathname","pageTitle","currentPath","i","fileUpload","folderUpload","pathAsResourceInPolicy","allowedFileExtensions","cv","extension","Set","getPolicyAllowedFileExtensions","canDownload","canUpload","displayDeleteObject","canSetAnonymousAccess","S3_GET_BUCKET_POLICY","S3_PUT_BUCKET_POLICY","resetRewind","setAttribute","buckets","getBucketQuota","quotaVals","data","detailedMessage","setBucketDetailsLoad","setBucketInfo","setSelectedBucket","getBucketRetentionConfig","setRetentionConfig","handleUploadButton","files","newFiles","uploadObject","useCallback","folderPath","pathPrefix","uploadPromise","Promise","resolve","reject","uploadUrl","blobFile","Blob","encodedPath","filePath","fileWebkitRelativePath","relativeFolderPath","finalFolderPath","pathClean","startsWith","identity","xhr","XMLHttpRequest","setRequestHeader","areMultipleFiles","errorMessages","withCredentials","onload","removeTrace","response","JSON","upload","addEventListener","floor","loaded","total","onerror","onloadend","onabort","formData","FormData","append","storeFormDataWithID","uploadFilePromises","openList","allSettled","results","errors","totalFiles","successUploadedFiles","onDrop","acceptedFiles","_console","_console2","newFolderPath","allowedFiles","fileExtn","log","_useDropzone","useDropzone","noClick","getRootProps","getInputProps","isDragActive","isDragAccept","dndStyles","useMemo","forceRefresh","splitURLS","URLItem","createdTime","creation_date","AccessRuleIcon","refresh","versioning","AddAccessRule","PageLayout","FilterObjectsSB","BucketsIcon","Badge","badgeContent","invisible","HistoryIcon","RefreshIcon","resetMessages","setLoadingRecords","multiple","accept","UploadFilesButton","closeMenu","click","tableBlock","borderTop","VersionsNavigator","setShowDeletedObjects","overrideLabelClasses","overrideShowDeleted","ListObjectsTable","DetailsListPanel","ObjectDetailPanel","configureBucketAllowed","S3_GET_BUCKET_ENCRYPTION_CONFIGURATION","S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION","S3_DELETE_BUCKET","S3_GET_BUCKET_NOTIFICATIONS","S3_PUT_BUCKET_NOTIFICATIONS","S3_GET_REPLICATION_CONFIGURATION","S3_PUT_REPLICATION_CONFIGURATION","S3_GET_LIFECYCLE_CONFIGURATION","S3_PUT_LIFECYCLE_CONFIGURATION","ADMIN_GET_BUCKET_QUOTA","ADMIN_SET_BUCKET_QUOTA","S3_PUT_BUCKET_TAGGING","S3_GET_BUCKET_TAGGING","S3_LIST_BUCKET_VERSIONS","S3_GET_BUCKET_POLICY_STATUS","S3_DELETE_BUCKET_POLICY","searchBar","setSearchVersions","setHelpName","AutoColorIcon","ObjectManagerButton","PageHeaderWrapper","BackLink","IAM_PAGES","OBJECT_BROWSER_VIEW","IAM_PERMISSIONS","IAM_ROLES","BUCKET_ADMIN","SettingsIcon","HelpMenu","middleComponent","currentRequestID","errorCounter","wsInFlight","initWSConnection","openCallback","onMessageCallback","connErrorCallback","URL","window","port","baseUrl","document","baseURI","wsProt","wsProtocol","protocol","WebSocket","hostname","onopen","onmessage","reconnectFn","onclose","warn","setTimeout","loadingVersioning","rewindDate","dateToRewind","allowResources","loadingLocking","loadRecords","isOpeningOD","isOpeningObjectDetail","onMessageCallBack","request_id","internalPathsPrefix","decodedPath","permitItems","permissionItems","setRecords","request_end","newMessage","initWSRequest","readyState","newRequestID","errorInConnection","request","bucket_name","send","stringify","decodedIPaths","setLoadingVersioning","setSimplePathHandler","setLoadingLocking","parentPath","requestDate","getBucketVersioning","setIsVersioned","getBucketObjectLockingStatus","setLockingEnabled","object_locking_enabled","OBHeader","ListObjects","durationInputs","validityIndicator","invalidDurationText","reverseInput","validityText","validTill","initialDate","maxDays","entity","selectedDays","setSelectedDays","selectedHours","setSelectedHours","selectedMinutes","setSelectedMinutes","setValidDate","dateSelected","setDateSelected","hours","minutes","fromJSDate","plus","calculateNewTime","formattedDate","valid","extraStyles","paddingRight","dateInputContainer","min","max","LinkIcon","validityLabel","shareURL","setShareURL","isLoadingVersion","setIsLoadingVersion","isLoadingFile","setIsLoadingFile","selectedDate","setSelectedDate","dateValid","setDateValid","setVersionID","latestVersion","elem","slDate","currDate","diffDate","ceil","DaysSelector","newDate","ReadBox","actionButton","setModalSnackMessage","iframeContainer","flex","iframeBase","iframeHidden","_ref$isFullscreen","isFullscreen","loading","setLoading","basename","replace","origin","objectType","iframeLoaded","maxHeight","autoPlay","controls","muted","playsInline","onPlay","src","alt","onLoad","allowTransparency","wideLimit","ObjectPreviewIcon","PreviewFileContent","fileSize","overrideFileName","progressCallback","completeCallback","errorCallback","abortCallback","toastCallback","anchor","createElement","body","appendChild","store","DownloadHelper","_classCallCheck","aborter","writer","this","AbortController","_createClass","abort","test","navigator","userAgent","downloadByBrowser","chunkSize","_getRangeContent","start","end","info","reader","_yield$reader$read","getRequestInfo","getFilename","streamSaver","getWriter","getReader","read","write","Error","signal","range","rspHeader","_download","numberOfChunks","percentComplete","getRangeContent","round","close","t0","link","href","removeChild","fileExtension","fieldSort","localeCompare","permissionsArray","filteredPermissionsForBucket","permissionItem","_permissionItem$resou","_permissionItem$resou2","returnElements","splitCurrentPath","permissionElement","_permissionElement$re","_permissionElement$pr","splitARN","splitURLARN","every","currentElementInPath","conditionOperator","prefixes","prefixItem","splitItems","pathToRouteElements","cleanCurrPath","splitElement","clElements","itm","WrappedComponent","fallback","props","Suspense","checkboxIcons","flexBasis","flexWrap","_ref$checked","_ref$disabled","_ref$noTopMargin","_ref$overrideLabelCla","Checkbox","inputProps","checkedIcon","unCheckedIcon","disableRipple","disableFocusRipple","focusRipple","centerRipple","disableTouchRipple","noMinWidthLabel","StyledSwitch","root","switchBase","transform","palette","common","white","boxShadow","thumb","track","transition","transitions","create","focusVisible","switchContainer","indicatorLabelOn","indicatorLabel","fieldDescription","_ref$label","_ref$switchOnly","_ref$description","_ref$extraInputProps","extraInputProps","switchComponent","sm","inputLabel","Typography","inputStyles","inputFieldStyles","InputField","TextField","InputProps","textBoxContainer","overlayAction","_ref$type","_ref$autoComplete","_ref$multiline","multiline","_ref$index","_ref$error","_ref$required","required","_ref$placeholder","overlayId","_ref$overlayIcon","overlayIcon","_ref$overlayObject","overlayObject","_ref$noLabelMinWidth","_ref$pattern","pattern","_ref$autoFocus","autoFocus","onKeyPress","onFocus","onPaste","toggleTextInput","setToggleTextInput","inputBoxWrapperIcon","inputBoxWrapperType","VisibilityOffIcon","RemoveRedEyeIcon","errorInField","inputBoxContainer","helperText","inputRebase","SelectStyled","lineHeight","spacing","input","InputBase","FormControl","option","shown","setShown","readOnly","clipboard","writeText","WSCloseAbnormalClosure","WSClosePolicyViolation","WSCloseInternalServerErr"],"sourceRoot":""}