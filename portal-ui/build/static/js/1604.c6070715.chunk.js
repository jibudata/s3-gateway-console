"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1604],{1604:function(e,n,t){t.r(n);var a=t(29439),o=t(1413),i=t(72791),l=t(60364),s=t(36151),r=t(40986),c=t(11135),d=t(25787),u=t(61889),m=t(23814),Z=t(42649),p=t(81207),h=t(56028),f=t(83679),x=t(21435),v=t(72401),b=t(80184),j=(0,l.$j)(null,{setModalErrorSnackMessage:Z.zb});n.default=(0,d.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},m.bK),m.QV),m.DF),m.ID))}))(j((function(e){var n=e.classes,t=e.open,o=e.bucketName,l=e.closeModalAndRefresh,c=e.setModalErrorSnackMessage,d=(0,i.useState)(!1),m=(0,a.Z)(d,2),Z=m[0],j=m[1],g=(0,i.useState)(!0),k=(0,a.Z)(g,2),C=k[0],S=k[1],N=(0,i.useState)("compliance"),y=(0,a.Z)(N,2),M=y[0],P=y[1],E=(0,i.useState)("days"),R=(0,a.Z)(E,2),w=R[0],F=R[1],O=(0,i.useState)(1),B=(0,a.Z)(O,2),I=B[0],L=B[1],_=(0,i.useState)(!1),z=(0,a.Z)(_,2),D=z[0],U=z[1];return(0,i.useEffect)((function(){Number.isNaN(I)||I<1?U(!1):U(!0)}),[I]),(0,i.useEffect)((function(){C&&p.Z.invoke("GET","/api/v1/buckets/".concat(o,"/retention")).then((function(e){S(!1),P(e.mode),L(e.validity),F(e.unit)})).catch((function(e){S(!1)}))}),[C,o]),(0,b.jsx)(h.Z,{title:"Set Retention Configuration",modalOpen:t,onClose:function(){l()},children:C?(0,b.jsx)(v.Z,{style:{width:16,height:16}}):(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),Z||(j(!0),p.Z.invoke("PUT","/api/v1/buckets/".concat(o,"/retention"),{mode:M,unit:w,validity:I}).then((function(){j(!1),l()})).catch((function(e){j(!1),c(e)})))},children:(0,b.jsxs)(u.ZP,{container:!0,children:[(0,b.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,b.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,b.jsx)(f.Z,{currentSelection:M,id:"retention_mode",name:"retention_mode",label:"Retention Mode",onChange:function(e){P(e.target.value)},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}]})}),(0,b.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,b.jsx)(f.Z,{currentSelection:w,id:"retention_unit",name:"retention_unit",label:"Retention Unit",onChange:function(e){F(e.target.value)},selectorOptions:[{value:"days",label:"Days"},{value:"years",label:"Years"}]})}),(0,b.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,b.jsx)(x.Z,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){L(e.target.valueAsNumber)},label:"Retention Validity",value:String(I),required:!0,min:"1"})})]}),(0,b.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,b.jsx)(s.Z,{type:"button",variant:"outlined",color:"primary",disabled:Z,onClick:function(){l()},children:"Cancel"}),(0,b.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",disabled:Z||!D,children:"Set"})]}),Z&&(0,b.jsx)(u.ZP,{item:!0,xs:12,children:(0,b.jsx)(r.Z,{})})]})})})})))},83679:function(e,n,t){var a=t(4942),o=t(1413),i=(t(72791),t(28182)),l=t(61889),s=t(10765),r=t(85523),c=t(61419),d=t(30829),u=t(20068),m=t(11135),Z=t(25787),p=t(72455),h=t(23814),f=t(84570),x=t(80184),v=(0,p.Z)((0,o.Z)({root:{"&:hover":{backgroundColor:"transparent"}}},h.FU)),b=function(e){var n=v();return(0,x.jsx)(c.Z,(0,o.Z)({className:n.root,disableRipple:!0,color:"default",checkedIcon:(0,x.jsx)("span",{className:n.radioSelectedIcon}),icon:(0,x.jsx)("span",{className:n.radioUnselectedIcon})},e))};n.Z=(0,Z.Z)((function(e){return(0,m.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},h.YI),h.Hr),{},{optionLabel:{"&.Mui-disabled":{"& .MuiFormControlLabel-label":{color:"#9c9c9c"}},"&:last-child":{marginRight:0},"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E"}},checkedOption:{"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E",fontWeight:700}}}))}))((function(e){var n=e.selectorOptions,t=void 0===n?[]:n,o=e.currentSelection,c=e.label,m=e.id,Z=e.name,p=e.onChange,h=e.tooltip,v=void 0===h?"":h,j=e.disableOptions,g=void 0!==j&&j,k=e.classes,C=e.displayInColumn,S=void 0!==C&&C;return(0,x.jsxs)(l.ZP,{container:!0,alignItems:"center",children:[(0,x.jsx)(l.ZP,{item:!0,xs:!0,children:(0,x.jsxs)(d.Z,{htmlFor:m,className:k.inputLabel,children:[(0,x.jsx)("span",{children:c}),""!==v&&(0,x.jsx)("div",{className:k.tooltipContainer,children:(0,x.jsx)(u.Z,{title:v,placement:"top-start",children:(0,x.jsx)("div",{children:(0,x.jsx)(f.Z,{})})})})]})}),(0,x.jsx)(l.ZP,{item:!0,xs:!0,className:k.radioOptionsLayout,children:(0,x.jsx)(s.Z,{"aria-label":m,id:m,name:Z,value:o,onChange:p,row:!S,style:{display:"block",textAlign:"right"},children:t.map((function(e){return(0,x.jsx)(r.Z,{value:e.value,control:(0,x.jsx)(b,{}),label:e.label,disabled:g,className:(0,i.Z)(k.optionLabel,(0,a.Z)({},k.checkedOption,e.value===o))},"rd-".concat(Z,"-").concat(e.value))}))})})]})}))},56028:function(e,n,t){var a=t(29439),o=t(1413),i=t(72791),l=t(60364),s=t(13400),r=t(55646),c=t(5574),d=t(65661),u=t(39157),m=t(11135),Z=t(25787),p=t(23814),h=t(42649),f=t(29823),x=t(28057),v=t(80184),b=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:h.MK});n.Z=(0,Z.Z)((function(e){return(0,m.Z)((0,o.Z)((0,o.Z)({},p.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},p.sN))}))(b((function(e){var n=e.onClose,t=e.modalOpen,l=e.title,m=e.children,Z=e.classes,p=e.wideLimit,h=void 0===p||p,b=e.modalSnackMessage,j=e.noContentPadding,g=e.setModalSnackMessage,k=e.titleIcon,C=void 0===k?null:k,S=(0,i.useState)(!1),N=(0,a.Z)(S,2),y=N[0],M=N[1];(0,i.useEffect)((function(){g("")}),[g]),(0,i.useEffect)((function(){if(b){if(""===b.message)return void M(!1);"error"!==b.type&&M(!0)}}),[b]);var P=h?{classes:{paper:Z.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},E="";return b&&(E=b.detailedErrorMsg,(""===b.detailedErrorMsg||b.detailedErrorMsg.length<5)&&(E=b.message)),(0,v.jsxs)(c.Z,(0,o.Z)((0,o.Z)({open:t,classes:Z},P),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:Z.root,children:[(0,v.jsxs)(d.Z,{className:Z.title,children:[(0,v.jsxs)("div",{className:Z.titleText,children:[C," ",l]}),(0,v.jsx)("div",{className:Z.closeContainer,children:(0,v.jsx)(s.Z,{"aria-label":"close",id:"close",className:Z.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,v.jsx)(f.Z,{})})})]}),(0,v.jsx)(x.Z,{isModal:!0}),(0,v.jsx)(r.Z,{open:y,className:Z.snackBarModal,onClose:function(){M(!1),g("")},message:E,ContentProps:{className:"".concat(Z.snackBar," ").concat(b&&"error"===b.type?Z.errorSnackBar:"")},autoHideDuration:b&&"error"===b.type?1e4:5e3}),(0,v.jsx)(u.Z,{className:j?"":Z.content,children:m})]}))})))},29823:function(e,n,t){var a=t(95318);n.Z=void 0;var o=a(t(45649)),i=t(80184),l=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=l}}]);
//# sourceMappingURL=1604.c6070715.chunk.js.map