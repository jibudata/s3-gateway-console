"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8296],{8296:function(e,t,n){n.r(t);var a=n(1413),l=n(93433),i=n(29439),s=n(72791),c=n(29945),o=n(87995),u=n(44690),r=n(31776),d=n(66315),f=n(56028),x=n(23814),b=n(80184);t.default=function(e){var t=e.open,n=e.selectedBucket,m=e.closeModalAndRefresh,h=(0,u.TL)(),v=(0,s.useState)(!1),p=(0,i.Z)(v,2),j=p[0],g=p[1],Z=(0,s.useState)(""),k=(0,i.Z)(Z,2),S=k[0],C=k[1],F=(0,s.useState)(""),E=(0,i.Z)(F,2),L=E[0],R=E[1],D=(0,s.useState)(""),O=(0,i.Z)(D,2),w=O[0],z=O[1],I=(0,s.useState)([]),y=(0,i.Z)(I,2),A=y[0],T=y[1],B=(0,s.useState)([]),P=(0,i.Z)(B,2),M=P[0],N=P[1],G=(0,s.useCallback)((function(){g(!0),r.h.admin.arnList().then((function(e){null!==e.data.arns&&N(e.data.arns),g(!1)})).catch((function(e){g(!1),h((0,o.zb)(e))}))}),[h]);(0,s.useEffect)((function(){G()}),[G]);var U=[{label:"PUT - Object Uploaded",value:d.Ln.Put},{label:"GET - Object accessed",value:d.Ln.Get},{label:"DELETE - Object Deleted",value:d.Ln.Delete},{label:"REPLICA - Object Replicated",value:d.Ln.Replica},{label:"ILM - Object Transitioned",value:d.Ln.Ilm},{label:"SCANNER - Object has too many versions / Prefixes has too many sub-folders",value:d.Ln.Scanner}],W=null===M||void 0===M?void 0:M.map((function(e){return{label:e,value:e}}));return(0,b.jsx)(f.Z,{modalOpen:t,onClose:function(){m()},title:"Subscribe To Bucket Events",titleIcon:(0,b.jsx)(c.c3W,{}),children:(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j||(g(!0),r.h.buckets.createBucketEvent(n,{configuration:{arn:w,events:A,prefix:S,suffix:L},ignoreExisting:!0}).then((function(){g(!1),m()})).catch((function(e){g(!1),h((0,o.zb)(e))})))},children:(0,b.jsxs)(c.rjZ,{container:!0,children:[(0,b.jsxs)(c.rjZ,{item:!0,xs:12,sx:x.oO.formScrollable,children:[(0,b.jsx)(c.rjZ,{item:!0,xs:12,sx:(0,a.Z)((0,a.Z)({},x.DF.formFieldRow),{},{"& div div .MuiOutlinedInput-root":{padding:0}}),children:(0,b.jsx)(c.F2H,{onChange:function(e){z(e)},id:"select-access-policy",name:"select-access-policy",label:"ARN",value:w,options:W||[],helpTip:(0,b.jsx)(s.Fragment,{children:(0,b.jsx)("a",{target:"blank",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/reference-arns.html",children:"Amazon Resource Name"})})})}),(0,b.jsx)(c.rjZ,{item:!0,xs:12,sx:x.DF.formFieldRow,children:(0,b.jsx)(c.Wzg,{id:"prefix-input",name:"prefix-input",label:"Prefix",value:S,onChange:function(e){C(e.target.value)}})}),(0,b.jsx)(c.rjZ,{item:!0,xs:12,sx:x.DF.formFieldRow,children:(0,b.jsx)(c.Wzg,{id:"suffix-input",name:"suffix-input",label:"Suffix",value:L,onChange:function(e){R(e.target.value)}})}),(0,b.jsx)(c.rjZ,{item:!0,xs:12,sx:x.DF.formFieldRow,children:(0,b.jsx)(c.wQF,{columns:[{label:"Event",elementKey:"label"}],idField:"value",records:U,onSelect:function(e){var t=e.target,n=t.value,a=t.checked,i=(0,l.Z)(A);a?i.push(n):i=i.filter((function(e){return e!==n})),T(i)},selectedItems:A,noBackground:!0,customPaperHeight:"260px"})})]}),(0,b.jsxs)(c.rjZ,{item:!0,xs:12,sx:x.ID.modalButtonBar,children:[(0,b.jsx)(c.zxk,{id:"cancel-add-event",type:"button",variant:"regular",disabled:j,onClick:function(){m()},label:"Cancel"}),(0,b.jsx)(c.zxk,{id:"save-event",type:"submit",variant:"callAction",disabled:j||""===w||0===A.length,label:"Save"})]})]})})})}}}]);
//# sourceMappingURL=8296.f82aeccc.chunk.js.map