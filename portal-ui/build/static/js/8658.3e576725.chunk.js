(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8658],{51270:function(e,n,t){"use strict";var i=t(29439),r=(t(72791),t(51691)),o=t(9505),s=t(23508),a=t(29945),c=t(87995),u=t(81551),l=t(80184);n.Z=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,d=e.idp,f=e.idpType,p=(0,u.TL)(),x=(0,o.Z)((function(e){n(!0),p((0,c.cN)(!0===e.restart))}),(function(e){return p((0,c.Ih)(e))})),h=(0,i.Z)(x,2),m=h[0],Z=h[1];if(!d)return null;var v="_"===d?"Default":d;return(0,l.jsx)(s.Z,{title:"Delete ".concat(v),confirmText:"Delete",isOpen:t,titleIcon:(0,l.jsx)(a.NvT,{}),isLoading:m,onConfirm:function(){Z("DELETE","/api/v1/idp/".concat(f,"/").concat(d))},onClose:function(){return n(!1)},confirmButtonProps:{disabled:m},confirmationContent:(0,l.jsxs)(r.Z,{children:["Are you sure you want to delete IDP ",(0,l.jsx)("b",{children:v})," ","configuration? ",(0,l.jsx)("br",{})]})})}},31329:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var i=t(72791),r=t(74165),o=t(15861),s=t(29439),a=t(1413),c=t(11135),u=t(25787),l=t(81551),d=t(57689),f=t(56087),p=t(38442),x=t(81207),h=t(87995),m=t(23814),Z=t(61889),v=t(27454),C=t(29945),j=t(92983),D=t(51270),b=t(47974),y=t(80184),A=(0,u.Z)((function(e){return(0,c.Z)((0,a.Z)({},m.Bz))}))((function(e){var n=e.classes,t=e.idpType,a=(0,l.TL)(),c=(0,d.s0)(),u=(0,i.useState)(!1),m=(0,s.Z)(u,2),A=m[0],F=m[1],I=(0,i.useState)(""),N=(0,s.Z)(I,2),_=N[0],g=N[1],T=(0,i.useState)(!1),P=(0,s.Z)(T,2),k=P[0],E=P[1],w=(0,i.useState)([]),O=(0,s.Z)(w,2),M=O[0],z=O[1],U=(0,p.F)(f.C3,[f.Ft.ADMIN_CONFIG_UPDATE]),G=(0,p.F)(f.C3,[f.Ft.ADMIN_CONFIG_UPDATE]),L=(0,p.F)(f.C3,[f.Ft.ADMIN_CONFIG_UPDATE]);(0,i.useEffect)((function(){B()}),[]),(0,i.useEffect)((function(){k&&(L?x.Z.invoke("GET","/api/v1/idp/".concat(t)).then((function(e){E(!1),z(e.results.map((function(e){return e.name="_"===e.name?"Default":e.name,e.enabled=!0===e.enabled?"Enabled":"Disabled",e})))})).catch((function(e){E(!1),a((0,h.Ih)(e))})):E(!1))}),[k,E,z,a,L,t]);var B=function(){E(!0)},K=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(!1),n&&B();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=[{type:"view",onClick:function(e){var n="Default"===e.name?"_":e.name;c("/identity/idp/".concat(t,"/configurations/").concat(n))},disableButtonFunction:function(){return!G}},{type:"delete",onClick:function(e){F(!0),g(e="Default"===e?"_":e)},sendOnlyId:!0,disableButtonFunction:function(e){return!U||"Default"===e}}];return(0,y.jsxs)(i.Fragment,{children:[A&&(0,y.jsx)(D.Z,{deleteOpen:A,idp:_,idpType:t,closeDeleteModalAndRefresh:K}),(0,y.jsx)(b.Z,{label:"".concat(t.toUpperCase()," Configurations")}),(0,y.jsx)(C.Xgh,{className:n.pageContainer,children:(0,y.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,y.jsxs)(Z.ZP,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"flex-end",sx:{"& button":{marginLeft:"8px"}},children:[(0,y.jsx)(p.s,{scopes:[f.Ft.ADMIN_CONFIG_UPDATE],resource:f.C3,errorProps:{disabled:!0},children:(0,y.jsx)(v.Z,{tooltip:"Refresh",children:(0,y.jsx)(C.zxk,{id:"refresh-keys",variant:"regular",icon:(0,y.jsx)(C.DuK,{}),onClick:function(){return E(!0)}})})}),(0,y.jsx)(p.s,{scopes:[f.Ft.ADMIN_CONFIG_UPDATE],resource:f.C3,errorProps:{disabled:!0},children:(0,y.jsx)(v.Z,{tooltip:"Create ".concat(t," configuration"),children:(0,y.jsx)(C.zxk,{id:"create-idp",label:"Create Configuration",variant:"callAction",icon:(0,y.jsx)(C.dtP,{}),onClick:function(){return c("/identity/idp/".concat(t,"/configurations/add-idp"))}})})})]}),(0,y.jsx)(Z.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,y.jsx)(p.s,{scopes:[f.Ft.ADMIN_CONFIG_UPDATE],resource:f.C3,errorProps:{disabled:!0},children:(0,y.jsx)(j.Z,{itemActions:S,columns:[{label:"Name",elementKey:"name"},{label:"Type",elementKey:"type"},{label:"Enabled",elementKey:"enabled"}],isLoading:k,records:M,entityName:"Keys",idField:"name"})})})]})})]})})),F=function(){return(0,y.jsx)(A,{idpType:"openid"})}},26759:function(e,n,t){"use strict";var i=t(64836);n.Z=void 0;var r=i(t(45649)),o=t(80184),s=(0,r.default)((0,o.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");n.Z=s},70366:function(e,n,t){"use strict";var i=t(64836);n.Z=void 0;var r=i(t(45649)),o=t(80184),s=(0,r.default)((0,o.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");n.Z=s},97911:function(e,n,t){"use strict";var i=t(64836);n.Z=void 0;var r=i(t(45649)),o=t(80184),s=(0,r.default)((0,o.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");n.Z=s},26769:function(e,n,t){var i=t(39066),r=t(93629),o=t(43141);e.exports=function(e){return"string"==typeof e||!r(e)&&o(e)&&"[object String]"==i(e)}}}]);
//# sourceMappingURL=8658.3e576725.chunk.js.map