"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[1692],{99748:(e,t,s)=>{s.d(t,{c:()=>n});var i=s(69060),l=s(82496);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(s){return(0,l.jsx)(i.Suspense,{fallback:t,children:(0,l.jsx)(e,{...s})})}}},64640:(e,t,s)=>{s.d(t,{c:()=>o});var i=s(69060),l=s(51560),n=s(66152),a=s(82496);const o=e=>{let{compactMode:t=!1}=e;const s=(0,l.i6)(),o=(0,a.jsx)(n.qaq,{id:"go-to-register",type:"submit",variant:"callAction",color:"primary",onClick:()=>s("/support/register"),children:"Register your Cluster"}),r="Please use your MinIO Subscription Network login credentials to register this cluster and enable this feature.";return t?(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(n.yeN,{sx:{"& div.leftItems":{marginBottom:0}},children:(0,a.jsx)(n.g1k,{title:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1},children:[(0,a.jsx)("span",{children:r})," ",o]}),iconComponent:(0,a.jsx)(n.m9S,{}),help:null})}),(0,a.jsx)("br",{})]}):(0,a.jsx)(n.kvh,{sx:{padding:"25px",border:"1px solid #eaeaea",display:"flex",alignItems:"center",justifyContent:"center",flexFlow:"row",marginBottom:"15px",["@media (max-width: ".concat(n.WQo.sm,"px)")]:{flexFlow:"column"}},children:(0,a.jsxs)(n.yeN,{container:!0,children:[(0,a.jsx)(n.yeN,{item:!0,xs:12,children:(0,a.jsx)(n.kvh,{sx:{marginRight:"8px",fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center","& .min-icon":{width:"83px",height:"14px",marginLeft:"5px",marginRight:"5px"}},children:"Register your cluster"})}),(0,a.jsx)(n.yeN,{item:!0,xs:12,children:(0,a.jsx)(n.kvh,{sx:{display:"flex",flexFlow:"row",["@media (max-width: ".concat(n.WQo.sm,"px)")]:{flexFlow:"column"}},children:(0,a.jsxs)(n.kvh,{sx:{display:"flex",flexFlow:"column",flex:"2"},children:[(0,a.jsx)(n.kvh,{sx:{fontSize:"16px",display:"flex",flexFlow:"column",marginTop:"15px",marginBottom:"15px"},children:r}),(0,a.jsx)(n.kvh,{sx:{flex:"1"},children:(0,a.jsx)(n.kvh,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:o})})]})})})]})})}},81692:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var i=s(69060),l=s(51560),n=s(99748),a=s(90692),o=s(66152),r=s(40012),c=s(50900),x=s(95705),d=s(66156),h=s(79468),p=s(4836),u=s(82496);const m=e=>{let{onClose:t,diagStatus:s,logsStatus:l,open:n,disable:a=!1}=e;const r=(0,d.Ab)(),[h,m]=(0,i.useState)(!1),g=()=>{m(!0),c.c.invoke("PUT","/api/v1/support/callhome",{diagState:!a&&s,logsState:!a&&l}).then((e=>{r((0,x.cX)("Configuration saved successfully")),m(!1),t(!0)})).catch((e=>{m(!1),r((0,x.aW)(e))}))};return(0,u.jsx)(p.c,{modalOpen:n,title:a?"Disable Call Home":"Edit Call Home Configurations",onClose:()=>t(!1),titleIcon:(0,u.jsx)(o.ABk,{}),children:a?(0,u.jsxs)(i.Fragment,{children:["Please Acknowledge that after doing this action, we will no longer receive updated cluster information automatically, losing the potential benefits that Call Home provides to your MinIO cluster.",(0,u.jsx)(o.yeN,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Are you sure you want to disable SUBNET Call Home?"}),(0,u.jsx)("br",{}),h&&(0,u.jsx)(o.yeN,{item:!0,xs:12,sx:{marginBottom:10},children:(0,u.jsx)(o.cHM,{})}),(0,u.jsxs)(o.yeN,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,u.jsx)(o.qaq,{id:"reset",type:"button",variant:"regular",disabled:h,onClick:()=>t(!1),label:"Cancel",sx:{marginRight:10}}),(0,u.jsx)(o.qaq,{id:"save-lifecycle",type:"submit",variant:"secondary",color:"primary",disabled:h,label:"Yes, Disable Call Home",onClick:g})]})]}):(0,u.jsxs)(i.Fragment,{children:["Are you sure you want to change the following configurations for SUBNET Call Home:",(0,u.jsxs)(o.yeN,{item:!0,sx:{margin:"20px 0",display:"flex",flexDirection:"column",gap:15},children:[(0,u.jsxs)(o.yeN,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,u.jsx)(o.c2_,{style:{fill:s?"#4CCB92":"#C83B51",width:20}}),(0,u.jsxs)("span",{children:[(0,u.jsx)("strong",{children:s?"Enable":"Disable"})," - Send Diagnostics Information to SUBNET"]})]}),(0,u.jsxs)(o.yeN,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,u.jsx)(o.c2_,{style:{fill:l?"#4CCB92":"#C83B51",width:20}}),(0,u.jsxs)("span",{children:[(0,u.jsx)("strong",{children:l?"Enable":"Disable"})," - Send Logs Information to SUBNET"]})]})]}),(0,u.jsx)(o.yeN,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Please Acknowledge that the information provided will only be available in your SUBNET Account and it will not be shared to other persons or entities besides MinIO team and you."}),h&&(0,u.jsx)(o.yeN,{item:!0,xs:12,sx:{marginBottom:10},children:(0,u.jsx)(o.cHM,{})}),(0,u.jsxs)(o.yeN,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,u.jsx)(o.qaq,{id:"reset",type:"button",variant:"regular",disabled:h,onClick:()=>t(!1),label:"Cancel",sx:{marginRight:10}}),(0,u.jsx)(o.qaq,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:h,label:"Yes, Save this Configuration",onClick:g})]})]})})};var g=s(64640),j=s(3428),y=s(48504);const f=()=>{const e=(0,d.Ab)(),t=(0,l.i6)(),[s,n]=(0,i.useState)(!0),[a,p]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),[k,v]=(0,i.useState)(!1),[C,S]=(0,i.useState)(!1),[w,N]=(0,i.useState)(!1),[I,B]=(0,i.useState)(!1),E=(0,h.IX)();(0,i.useEffect)((()=>{s&&c.c.invoke("GET","/api/v1/support/callhome").then((e=>{n(!1),b(!!e.diagnosticsStatus),N(!!e.logsStatus),v(!!e.diagnosticsStatus),S(!!e.logsStatus)})).catch((t=>{n(!1),e((0,x.aW)(t))}))}),[s,e]);let q="regular";return!E||f===k&&w===C||(q="callAction"),(0,i.useEffect)((()=>{e((0,x.i8)("call_home"))}),[]),(0,u.jsxs)(i.Fragment,{children:[a&&(0,u.jsx)(m,{onClose:e=>{e&&n(!0),p(!1)},open:a,logsStatus:w,diagStatus:f,disable:I}),(0,u.jsx)(j.c,{label:"Call Home",actions:(0,u.jsx)(y.c,{})}),(0,u.jsxs)(o._al,{children:[!E&&(0,u.jsx)(g.c,{compactMode:!0}),(0,u.jsx)(o.yE_,{helpBox:(0,u.jsx)(o.g1k,{title:"Learn more about Call Home",iconComponent:(0,u.jsx)(o.ABk,{}),help:(0,u.jsx)(i.Fragment,{children:(0,u.jsx)(o.kvh,{sx:{display:"flex",flexFlow:"column",fontSize:"14px",flex:"2",marginTop:"10px"},children:(0,u.jsxs)(o.kvh,{children:["Enabling Call Home sends cluster health & status to your registered MinIO Subscription Network account every 24 hours.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"This helps the MinIO support team to provide quick incident responses along with suggestions for possible improvements that can be made to your MinIO instances.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"Your cluster must be"," ",(0,u.jsx)(r.cH,{to:"/support/register",children:"registered"})," in the MinIO Subscription Network (SUBNET) before enabling this feature."]})})})}),children:s?(0,u.jsx)("span",{style:{marginLeft:5},children:(0,u.jsx)(o.c1M,{style:{width:16,height:16}})}):(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(o.Wkk,{value:"enableDiag",id:"enableDiag",name:"enableDiag",checked:f,onChange:e=>{b(e.target.checked)},label:"Daily Health Report",disabled:!E,description:"Daily Health Report enables you to proactively identify potential issues in your deployment before they escalate."}),(0,u.jsx)(o.Wkk,{value:"enableLogs",id:"enableLogs",name:"enableLogs",checked:w,onChange:e=>{N(e.target.checked)},label:"Live Error Logs",disabled:!E,description:"Live Error Logs will enable MinIO's support team and automatic diagnostics system to catch failures early."}),(0,u.jsxs)(o.kvh,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginTop:"55px",gap:"0px 10px"},children:[(k||C)&&(0,u.jsx)(o.qaq,{id:"callhome-action",variant:"secondary","data-test-id":"call-home-toggle-button",onClick:()=>{B(!0),p(!0)},disabled:s||!E,children:"Disable Call Home"}),(0,u.jsx)(o.qaq,{id:"callhome-action",type:"button",variant:q,"data-test-id":"call-home-toggle-button",onClick:()=>{E?(B(!1),p(!0)):t("/support/register")},disabled:s||!E,children:"Save Configuration"})]})]})})]})]})},b=(0,n.c)(i.lazy((()=>s.e(20).then(s.bind(s,30020))))),k=(0,n.c)(i.lazy((()=>s.e(2928).then(s.bind(s,22928))))),v=(0,n.c)(i.lazy((()=>s.e(6520).then(s.bind(s,76520))))),C=()=>(0,u.jsxs)(l.c5,{children:[(0,u.jsx)(l.kX,{path:"register",element:(0,u.jsx)(k,{})}),(0,u.jsx)(l.kX,{path:"profile",element:(0,u.jsx)(v,{})}),(0,u.jsx)(l.kX,{path:"call-home",element:(0,u.jsx)(f,{})}),(0,u.jsx)(l.kX,{path:"inspect",element:(0,u.jsx)(b,{})}),(0,u.jsx)(l.kX,{path:"*",element:(0,u.jsx)(a.c,{})})]})}}]);
//# sourceMappingURL=1692.e6616840.chunk.js.map