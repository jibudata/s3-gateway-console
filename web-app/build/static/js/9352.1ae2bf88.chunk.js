"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[9352],{3276:(e,t,i)=>{i.d(t,{c:()=>o});var n=i(69060),a=i(66152),l=i(82496);const o=e=>{let{timeStart:t,setTimeStart:i,timeEnd:o,setTimeEnd:s,triggerSync:r,label:d="Filter:",startLabel:c="Start Time:",endLabel:x="End Time:"}=e;return(0,l.jsx)(a.yeN,{item:!0,xs:12,sx:{"& .filter-date-input-label, .end-time-input-label":{display:"none"},"& .MuiInputBase-adornedEnd.filter-date-date-time-input":{width:"100%",border:"1px solid #eaeaea",paddingLeft:"8px",paddingRight:"8px",borderRadius:"1px"},"& .MuiInputAdornment-root button":{height:"20px",width:"20px",marginRight:"5px"},"& .filter-date-input-wrapper":{height:"30px",width:"100%","& .MuiTextField-root":{height:"30px",width:"90%","& input.Mui-disabled":{color:"#000000",WebkitTextFillColor:"#101010"}}}},children:(0,l.jsxs)(a.kvh,{sx:{display:"grid",height:40,alignItems:"center",gridTemplateColumns:"auto 2fr auto",padding:0,["@media (max-width: ".concat(a.WQo.sm,"px)")]:{padding:5},["@media (max-width: ".concat(a.WQo.md,"px)")]:{gridTemplateColumns:"1fr",height:"auto"},gap:"5px"},children:[(0,l.jsx)(a.kvh,{sx:{fontSize:"14px",fontWeight:500,marginRight:"5px"},className:"muted",children:d}),(0,l.jsxs)(a.kvh,{customBorderPadding:"0px",sx:{display:"grid",height:40,alignItems:"center",gridTemplateColumns:"1fr 1fr",gap:"8px",paddingLeft:"8px",paddingRight:"8px",["@media (max-width: ".concat(a.WQo.md,"px)")]:{height:"auto",gridTemplateColumns:"1fr"}},children:[(0,l.jsx)(a.KuV,{value:t,onChange:i,id:"stTime",secondsSelector:!1,pickerStartComponent:(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(a.CwM,{}),(0,l.jsx)("span",{children:c})]})}),(0,l.jsx)(a.KuV,{value:o,onChange:s,id:"endTime",secondsSelector:!1,pickerStartComponent:(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(a.CwM,{}),(0,l.jsx)("span",{children:x})]})})]}),r&&(0,l.jsx)(a.kvh,{sx:{alignItems:"flex-end",display:"flex",justifyContent:"flex-end"},children:(0,l.jsx)(a.qaq,{id:"sync",type:"button",variant:"callAction",onClick:r,icon:(0,l.jsx)(a.OOf,{}),label:"Sync"})})]})})}},20720:(e,t,i)=>{i.d(t,{c:()=>d});i(69060);var n=i(67659),a=i(58564),l=i.n(a),o=i(66152),s=i(82496);const r=n.cp.div((e=>{let{theme:t}=e;return{fontFamily:"Inter,sans-serif",maxWidth:"321px",display:"flex",marginLeft:"auto",marginRight:"auto",cursor:"default",color:l()(t,"signalColors.main","#07193E"),"& .mainBox":{flex:1,display:"flex",padding:"0 8px 0 8px",["@media (max-width: ".concat(o.WQo.sm,"px)")]:{padding:"0 10px 0 10px"},"& .indicatorIcon":{width:"20px",height:"20px",marginTop:"8px",maxWidth:"26px","& .min-icon":{width:"16px",height:"16px"}},"& .indicatorContainer":{flex:1,display:"flex",flexFlow:"column","& .indicatorLabel":{fontSize:"16px",fontWeight:600},"& .counterIndicator":{display:"flex",alignItems:"center",gap:"5px",justifyContent:"space-between",paddingBottom:0,fontSize:"55px",["@media (max-width: ".concat(o.WQo.sm,"px)")]:{paddingBottom:10,fontSize:"35px"},["@media (max-width: ".concat(o.WQo.lg,"px)")]:{fontSize:"45px"},["@media (max-width: ".concat(o.WQo.xl,"px)")]:{fontSize:"50px"},flexFlow:"row",fontWeight:600,"& .stat-text":{color:l()(t,"mutedText","#87888D"),fontSize:"12px",marginTop:"8px"},"& .stat-value":{textAlign:"center",height:"50px"},"& .min-icon":{marginRight:"8px",marginTop:"8px",height:"10px",width:"10px"}},"& .onlineCounter":{display:"flex",alignItems:"center",marginTop:"5px","& .min-icon":{fill:l()(t,"signalColors.good","#4CCB92")}},"& .offlineCount":{display:"flex",alignItems:"center",marginTop:"8px","& .min-icon":{fill:l()(t,"signalColors.danger","#C51B3F")}}}}}})),d=e=>{let{onlineCount:t=0,offlineCount:i=0,icon:n=null,label:a="",okStatusText:l="Online",notOkStatusText:d="Offline"}=e;return(0,s.jsx)(r,{children:(0,s.jsxs)(o.kvh,{className:"mainBox",children:[(0,s.jsxs)(o.kvh,{className:"indicatorContainer",children:[(0,s.jsx)(o.kvh,{className:"indicatorLabel",children:a}),(0,s.jsxs)(o.kvh,{className:"counterIndicator",children:[(0,s.jsxs)(o.kvh,{children:[(0,s.jsx)(o.kvh,{className:"stat-value",children:t}),(0,s.jsxs)(o.kvh,{className:"onlineCounter",children:[(0,s.jsx)(o.c2_,{}),(0,s.jsx)("div",{className:"stat-text",children:l})]})]}),(0,s.jsxs)(o.kvh,{children:[(0,s.jsx)(o.kvh,{className:"stat-value",children:i}),(0,s.jsxs)(o.kvh,{className:"offlineCount",children:[(0,s.jsx)(o.c2_,{})," ",(0,s.jsx)("div",{className:"stat-text",children:d})]})]})]})]}),(0,s.jsx)(o.kvh,{className:"indicatorIcon",children:n})]})})}},94984:(e,t,i)=>{i.d(t,{F6:()=>n,Wu:()=>o,Wz:()=>l,_M:()=>a});const n={RED:"#C83B51",GREEN:"#4CCB92",YELLOW:"#FFBD62"},a=(e,t)=>e<=t/2?"bad":2!==t&&e===t/2+1?"warn":e===t?"good":void 0,l=e=>{switch(e){case"offline":return"bad";case"online":return"good";default:return"warn"}},o=(e,t)=>e<=t/2?"bad":e===t/2+1?"warn":e===t?"good":void 0},99352:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ot});var n=i(69060),a=i(19536),l=i(66156),o=i(27e3),s=i(87816),r=i(95705),d=i(66152),c=i(58564),x=i.n(c);let h=function(e){return e.singleValue="singleValue",e.linearGraph="linearGraph",e.areaGraph="areaGraph",e.barChart="barChart",e.pieChart="pieChart",e.singleRep="singleRep",e.simpleWidget="simpleWidget",e}({});var m=i(61060),p=i(82496);const g=["#C4D4E9","#DCD1EE","#D1EEE7","#EEDED1","#AAF38F","#F9E6C5","#C83B51","#F4CECE","#D6D6D6"],u=e=>(0,m.C0)(e,"ns"),f=e=>parseInt(e).toString(10),v=[{id:1,title:"Uptime",data:"N/A",type:h.simpleWidget,widgetIcon:(0,p.jsx)(d.gN2,{}),labelDisplayFunction:m.C0},{id:50,title:"Capacity",data:[],dataOuter:[{name:"outer",value:100}],widgetConfiguration:{outerChart:{colorList:["#9c9c9c"],innerRadius:0,outerRadius:0,startAngle:0,endAngle:0},innerChart:{colorList:g,innerRadius:20,outerRadius:50,startAngle:90,endAngle:-200}},type:h.pieChart,innerLabel:"N/A",labelDisplayFunction:m.U7},{id:51,title:"Usable Capacity",data:[],dataOuter:[{name:"outer",value:100}],widgetConfiguration:{outerChart:{colorList:["#9c9c9c"],innerRadius:0,outerRadius:0,startAngle:0,endAngle:0},innerChart:{colorList:g,innerRadius:20,outerRadius:50,startAngle:90,endAngle:-200}},type:h.pieChart,innerLabel:"N/A",labelDisplayFunction:m.U7},{id:68,title:"Data Usage Growth",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.areaGraph,yAxisFormatter:m.U7,xAxisFormatter:m._6},{id:52,title:"Object size distribution",data:[],widgetConfiguration:[{dataKey:"a",color:"#2781B0",background:{fill:"#EEF1F4"},greatestColor:"#081C42"}],customStructure:[{originTag:"LESS_THAN_1024_B",displayTag:"Less than 1024B"},{originTag:"BETWEEN_1024_B_AND_1_MB",displayTag:"Between 1024B and 1MB"},{originTag:"BETWEEN_1_MB_AND_10_MB",displayTag:"Between 1MB and 10MB"},{originTag:"BETWEEN_10_MB_AND_64_MB",displayTag:"Between 10MB and 64MB"},{originTag:"BETWEEN_64_MB_AND_128_MB",displayTag:"Between 64MB and 128MB"},{originTag:"BETWEEN_128_MB_AND_512_MB",displayTag:"Between 128MB and 512MB"},{originTag:"GREATER_THAN_512_MB",displayTag:"Greater than 512MB"}],type:h.barChart},{id:66,title:"Buckets",data:[],innerLabel:"N/A",type:h.singleRep,color:"#0071BC",fillColor:"#ADD5E0"},{id:44,title:"Objects",data:[],innerLabel:"N/A",type:h.singleRep,color:"#0071BC",fillColor:"#ADD5E0"},{id:63,title:"API Data Received Rate",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000",strokeWidth:3}],type:h.linearGraph,xAxisFormatter:m._6,yAxisFormatter:m.U7},{id:61,title:"Total Open FDs",data:[],innerLabel:"N/A",type:h.singleRep,color:"#22B573",fillColor:"#A6E8C4"},{id:62,title:"Total Goroutines",data:[],innerLabel:"N/A",type:h.singleRep,color:"#F7655E",fillColor:"#F4CECE"},{id:77,title:"Node CPU Usage",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,yAxisFormatter:f,xAxisFormatter:m._6},{id:60,title:"API Request Rate",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,yAxisFormatter:f,xAxisFormatter:m._6},{id:70,title:"API Data Sent Rate",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,xAxisFormatter:m._6,yAxisFormatter:m.U7},{id:17,title:"Internode Data Transfer",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,yAxisFormatter:m.U7,xAxisFormatter:m._6},{id:73,title:"Node IO",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,yAxisFormatter:m.U7,xAxisFormatter:m._6},{id:80,title:"Time Since Last Heal Activity",data:"N/A",type:h.simpleWidget,widgetIcon:(0,p.jsx)(d.ySO,{}),labelDisplayFunction:u},{id:81,title:"Time Since Last Scan Activity",data:"N/A",type:h.simpleWidget,widgetIcon:(0,p.jsx)(d.qh2,{}),labelDisplayFunction:u},{id:71,title:"API Request Error Rate",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,xAxisFormatter:m._6},{id:76,title:"Node Memory Usage",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,xAxisFormatter:m._6,yAxisFormatter:m.U7},{id:74,title:"Drive Used Capacity",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,xAxisFormatter:m._6,yAxisFormatter:m.U7},{id:82,title:"Drives Free Inodes",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,disableYAxis:!0,xAxisFormatter:m._6},{id:11,title:"Node Syscalls",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,yAxisFormatter:f,xAxisFormatter:m._6},{id:8,title:"Node File Descriptors",data:[],widgetConfiguration:[{dataKey:"",keyLabel:"",lineColor:"#000",fillColor:"#000"}],type:h.linearGraph,yAxisFormatter:f,xAxisFormatter:m._6},{id:500,mergedPanels:[{id:53,title:"Online",data:"N/A",type:h.singleValue},{id:69,title:"Offline",data:"N/A",type:h.singleValue}],title:"Servers"},{id:501,mergedPanels:[{id:9,title:"Online",data:"N/A",type:h.singleValue},{id:78,title:"Offline",data:"N/A",type:h.singleValue}],title:"Drives"},{id:502,mergedPanels:[{id:65,title:"Upload",data:"N/A",type:h.singleValue,labelDisplayFunction:m.U7},{id:64,title:"Download",data:"N/A",type:h.singleValue,labelDisplayFunction:m.U7}],title:"Network"}],j=(e,t)=>{if(0===e.length)return["","0"];if("mean"===t){const t=e.reduce(((e,t)=>e+parseFloat(t[1])),0);return["",Math.floor(t/e.length).toString()]}{const t=e.sort(((e,t)=>e[0]-t[0]));return t[t.length-1]}},y=(e,t)=>{if(!e)return t;const i=e.type;switch(t.type){case h.singleValue:case h.simpleWidget:if("stat"===i||"singlestat"===i){let i=x()(e,"targets[0].result[0].values",[]);null===i&&(i=[]);const n=x()(e,"options.reduceOptions.calcs[0]","lastNotNull"),a=j(i,n),l=t.labelDisplayFunction?t.labelDisplayFunction(a[1]):a[1];return{...t,data:l}}break;case h.pieChart:if("gauge"===i){const i=x()(e,"options.reduceOptions.calcs[0]","lastNotNull");let n=x()(e,"targets",[]).filter((e=>null!==e));const a=n.map((e=>(e.result&&Array.isArray(e.result)?e.result:[]).map((t=>{const i=x()(t,"values",[]),n=Object.keys(t.metric),a=i.sort(((e,t)=>parseInt(e[0][1])-parseInt(t[0][1]))),l=t.metric[n[0]],o=a[a.length-1];return{name:l,value:parseInt(o[1]),legend:e.legendFormat}})))),l=n[0].result&&n[0].result.length>0?n[0].result[0].values:[],o=j(l,i),s=t.labelDisplayFunction?t.labelDisplayFunction(o[1]):o[1];return{...t,data:a,innerLabel:s}}break;case h.linearGraph:case h.areaGraph:if("graph"===i){let i=x()(e,"targets",[]);null===i&&(i=[]);const n=[],a=[];i.forEach(((e,t)=>{let i=x()(e,"result",[]);const l=e.legendFormat;null===i&&(i=[]),i.forEach((e=>{const i=((e,t)=>{const i=Object.keys(e),n=new RegExp("{{(".concat(i.join("|"),")}}"),"g");let a=t.replace(n,(t=>{const i=t.replace(/({{|}})/g,"");return e[i]}));const l=(a.match(/{{/g)||[]).length,o=(a.match(/}}/g)||[]).length;let s=a.replace(/{{(.*?)}}/g,"");return l===o&&0!==l&&0!==o&&(i.forEach((t=>{a=a.replace(t,e[t])})),s=a),s})(e.metric,l),o="key_".concat(t).concat(i);n.push({dataKey:o,keyLabel:i,lineColor:"",fillColor:""});let s=x()(e,"values",[]);null===s&&(s=[]),s.forEach((e=>{const t=a.findIndex((t=>t.name===e[0]));if(-1===t){let t={name:e[0]};t[o]=e[1],a.push(t)}else a[t][o]=e[1]}))}))}));const l=n.sort(((e,t)=>e.keyLabel<t.keyLabel?-1:e.keyLabel>t.keyLabel?1:0)).map(((e,t)=>({...e,lineColor:g[t]||(0,m.Q1)(e.keyLabel),fillColor:g[t]||(0,m.Q1)(e.keyLabel)}))),o=a.sort(((e,t)=>e.name-t.name));return{...t,widgetConfiguration:l,data:o}}break;case h.barChart:if("bargauge"===i){let i=x()(e,"targets[0].result",[]);null===i&&(i=[]);const n=(e,t)=>e[0]-t[0];let a=[];return a=t.customStructure?t.customStructure.map((e=>{const t=i.find((t=>t.metric.range===e.originTag)),a=x()(t,"values",[]).sort(n),l=a[a.length-1]||["","0"];return{name:e.displayTag,a:parseInt(l[1])}})):i.map((e=>{const t=Object.keys(e.metric),i=e.metric[t[0]],a=x()(e,"values",[]).sort(n),l=a[a.length-1]||["","0"];return{name:i,a:parseInt(l[1])}})),{...t,data:a}}break;case h.singleRep:if("stat"===i){let i=x()(e,"targets[0].result[0].values",[]);null===i&&(i=[]);const n=x()(e,"options.reduceOptions.calcs[0]","lastNotNull"),a=j(i,n),l=i.sort(((e,t)=>e[0]-t[0]));let o=[];1===l.length&&o.push({value:0}),l.forEach((e=>{o.push({value:parseInt(e[1])})}));const s=t.labelDisplayFunction?t.labelDisplayFunction(a[1]):a[1];return{...t,data:o,innerLabel:s}}}return t},C=e=>{const t=e.split(" "),i=()=>{let t=e;return isNaN(parseFloat(e))||(t=(0,m.Mx)(parseFloat(e))),(0,p.jsx)(n.Fragment,{children:t})};return 2!==t.length?i():m.M$.includes(t[1])?(0,p.jsxs)("span",{className:"commonValue",children:[t[0],(0,p.jsx)("span",{className:"unitText",children:t[1]})]}):i()};var w=i(67659),b=i(14844),k=i(84460),S=i(50140),T=i(41213),W=i(22580),I=i(76896),N=i(91236),F=i(61628),A=i(77640);const E=e=>{let{panelItem:t}=e;const i=(0,l.Ab)();return(0,p.jsx)(d.kvh,{sx:{alignItems:"right",gap:"10px","& .link-text":{color:"#2781B0",fontSize:"12px",fontWeight:600},"& .zoom-graph-icon":{backgroundColor:"transparent",border:0,padding:0,cursor:"pointer","& svg":{color:"#D0D0D0",height:16},"&:hover":{"& svg":{color:"#404143"}}}},children:(0,p.jsx)("button",{onClick:()=>{i((0,A.Y1)(t))},className:"zoom-graph-icon",children:(0,p.jsx)(d.c9w,{})})})};var L=i(25976);const z=e=>{let{title:t,componentRef:i,data:a}=e;const[o,s]=n.useState(null),c=Boolean(o),x=(0,l.Ab)(),h=()=>{if(null!==a&&a.length>0)((e,t)=>{let i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+t),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)})(null!==t?(t+"_"+Date.now().toString()+".csv").replace(/\s+/g,"").trim().toLowerCase():"widgetData_"+Date.now().toString()+".csv",(e=a,[Object.keys(e[0])].concat(e).map((e=>Object.values(e).toString())).join("\n")));else{let e;e={errorMessage:"Unable to download widget data",detailedError:"Unable to download widget data - data not available"},(e=>{x((0,r.aW)(e))})(e)}var e},m=e=>{"csv"===e?h():"png"===e&&(()=>{if(null!==t){const e=(t+"_"+Date.now().toString()+".png").replace(/\s+/g,"").trim().toLowerCase();(0,L.exportComponentAsPNG)(i,{fileName:e})}else{const e="widgetData_"+Date.now().toString()+".png";(0,L.exportComponentAsPNG)(i,{fileName:e})}})()};return(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)(d.kvh,{sx:{justifyItems:"center","& .download-icon":{backgroundColor:"transparent",border:0,padding:0,cursor:"pointer","& svg":{color:"#D0D0D0",height:16},"&:hover":{"& svg":{color:"#404143"}}}},children:[(0,p.jsx)("button",{className:"download-icon",onClick:e=>{s(e.currentTarget)},children:(0,p.jsx)(d.Gwr,{})}),(0,p.jsx)(d.KQH,{id:"download-widget-main-menu",options:[{label:"Download as CSV",value:"csv"},{label:"Download as PNG",value:"png"}],selectedOption:"",onSelect:e=>m(e),hideTriggerAction:()=>{s(null)},open:c,anchorEl:o,anchorOrigin:"end"})]})})},B=e=>{let{active:t,payload:i,label:n,barChartConfiguration:a}=e;return t?(0,p.jsxs)(d.kvh,{sx:F.O8.customTooltip,children:[(0,p.jsx)(d.kvh,{sx:F.O8.timeStampTitle,children:n}),i&&i.map(((e,t)=>(0,p.jsxs)(d.kvh,{sx:F.O8.labelContainer,children:[(0,p.jsx)(d.kvh,{sx:F.O8.labelColor,style:{backgroundColor:a[t].color}}),(0,p.jsx)(d.kvh,{sx:{...F.O8.itemValue,"& span.valueContainer":{...F.O8.valueContainer}},children:(0,p.jsx)("span",{className:"valueContainer",children:e.value})})]},"pltiem-".concat(t,"-").concat(n))))]}):null};var R=i(50900);const D=w.cp.div((e=>{let{theme:t}=e;return{...(0,F.ER)(t),loadingAlign:{width:"100%",paddingTop:"15px",textAlign:"center",margin:"auto"}}})),U=e=>{let{y:t,payload:i}=e;return(0,p.jsx)("text",{width:50,fontSize:"69.7%",textAnchor:"start",fill:"#333",transform:"translate(5,".concat(t,")"),fontWeight:400,dy:3,children:i.value})},M=e=>{let{title:t,panelItem:i,timeStart:o,timeEnd:s,apiPrefix:c,zoomActivated:x=!1}=e;const h=(0,l.Ab)(),[m,g]=(0,n.useState)(!1),[u,f]=(0,n.useState)([]),[v,j]=(0,n.useState)(null),[C,w]=(0,n.useState)(!1),[F,A]=(0,n.useState)(window.innerWidth>=d.WQo.md),L=(0,n.useRef)(),M=(0,a.w1)((e=>e.dashboard.widgetLoadVersion));(0,n.useEffect)((()=>{g(!0)}),[M]),(0,n.useEffect)((()=>{const e=()=>{let e=!1;window.innerWidth>=d.WQo.md&&(e=!0),A(e)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,n.useEffect)((()=>{if(m){let e=0;if(null!==o&&null!==s){const t=s.toUnixInteger()-o.toUnixInteger(),i=Math.floor(t/60);e=i<1?15:i}R.c.invoke("GET","/api/v1/".concat(c,"/info/widgets/").concat(i.id,"/?step=").concat(e,"&").concat(null!==o?"&start=".concat(o.toUnixInteger()):"").concat(null!==o&&null!==s?"&":"").concat(null!==s?"end=".concat(s.toUnixInteger()):"")).then((e=>{const t=y(e,i);f(t.data),j(t),g(!1)})).catch((e=>{h((0,r.aW)(e)),g(!1)}))}}),[m,i,s,o,h,c]);const _=v?v.widgetConfiguration:[];let O=0,Q=0;if(1===_.length){const e=_[0];u.forEach(((t,i)=>{t[e.dataKey]>Q&&(Q=t[e.dataKey],O=i)}))}return(0,p.jsx)(D,{children:(0,p.jsxs)(d.kvh,{className:x?"":"singleValueContainer",onMouseOver:()=>{w(!0)},onMouseLeave:()=>{w(!1)},children:[!x&&(0,p.jsxs)(d.yeN,{container:!0,children:[(0,p.jsx)(d.yeN,{item:!0,xs:10,sx:{alignItems:"start",justifyItems:"start"},children:(0,p.jsx)("div",{className:"titleContainer",children:t})}),(0,p.jsx)(d.yeN,{item:!0,xs:1,sx:{display:"flex",justifyContent:"flex-end"},children:C&&(0,p.jsx)(E,{panelItem:i})}),(0,p.jsx)(d.yeN,{item:!0,xs:1,sx:{display:"flex",justifyContent:"flex-end"},children:(0,p.jsx)(z,{title:t,componentRef:L,data:u})})]}),m&&(0,p.jsx)(d.kvh,{className:"loadingAlign",children:(0,p.jsx)(d.c1M,{})}),!m&&(0,p.jsx)("div",{ref:L,className:x?"zoomChartCont":"contentContainer",children:(0,p.jsx)(b.W,{width:"99%",children:(0,p.jsxs)(k.e,{data:u,layout:"vertical",barCategoryGap:1,children:[(0,p.jsx)(S.K,{type:"number",hide:!0}),(0,p.jsx)(T.C,{dataKey:"name",type:"category",interval:0,tick:(0,p.jsx)(U,{}),tickLine:!1,axisLine:!1,width:150,hide:!F,style:{fontSize:"12px",fontWeight:100}}),_.map((e=>(0,p.jsx)(W.U,{dataKey:e.dataKey,fill:e.color,background:e.background,barSize:x?25:12,children:1===_.length?(0,p.jsx)(n.Fragment,{children:u.map(((t,i)=>(0,p.jsx)(I.m,{fill:i===O?e.greatestColor:e.color},"chart-bar-".concat(i.toString()))))}):null},"bar-".concat(e.dataKey)))),(0,p.jsx)(N.o,{cursor:{fill:"rgba(255, 255, 255, 0.3)"},content:(0,p.jsx)(B,{barChartConfiguration:_})})]})})})]})})};var _=i(48648),O=i(39672),Q=i(67208);const P=e=>{let{active:t,payload:i,label:n,linearConfiguration:a,yAxisFormatter:l}=e;return t?(0,p.jsxs)(d.kvh,{sx:F.O8.customTooltip,children:[(0,p.jsx)(d.kvh,{sx:F.O8.timeStampTitle,children:(0,m._6)(n,!0)}),i&&i.map(((e,t)=>(0,p.jsxs)(d.kvh,{sx:F.O8.labelContainer,children:[(0,p.jsx)(d.kvh,{sx:F.O8.labelColor,style:{backgroundColor:a[t].lineColor}}),(0,p.jsx)(d.kvh,{sx:{...F.O8.itemValue,"& span.valueContainer":{...F.O8.valueContainer}},children:(0,p.jsxs)("span",{className:"valueContainer",children:[a[t].keyLabel,":"," ",l(e.value)]})})]},"lbPl-".concat(t,"-").concat(a[t].keyLabel))))]}):null},G=w.cp.div((e=>{let{theme:t}=e;return{...(0,F.ER)(t),"& .chartCont":{position:"relative",height:140,width:"100%"},"& .legendChart":{display:"flex",flexDirection:"column",flex:"0 1 auto",maxHeight:130,margin:0,overflowY:"auto",position:"relative",textAlign:"center",width:"100%",justifyContent:"flex-start",color:x()(t,"mutedText","#87888d"),fontWeight:"bold",fontSize:12,["@media (max-width: ".concat(d.WQo.md,"px)")]:{display:"none"}},"& .loadingAlign":{width:40,height:40,textAlign:"center",margin:"15px auto"}}})),V=e=>{let{title:t,timeStart:i,timeEnd:o,panelItem:s,apiPrefix:c,hideYAxis:x=!1,areaWidget:h=!1,yAxisFormatter:m=(e=>e),xAxisFormatter:g=((e,t,i)=>e),zoomActivated:u=!1}=e;const f=(0,l.Ab)(),[v,j]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1),[k,W]=(0,n.useState)([]),[I,F]=(0,n.useState)([]),[A,L]=(0,n.useState)(0),[B,D]=(0,n.useState)(null),U=(0,a.w1)((e=>e.dashboard.widgetLoadVersion)),M=(0,n.useRef)(null);(0,n.useEffect)((()=>{j(!0)}),[U]),(0,n.useEffect)((()=>{if(v){let e=0;if(null!==i&&null!==o){const t=o.toUnixInteger()-i.toUnixInteger(),n=Math.floor(t/60);e=n<1?15:n}R.c.invoke("GET","/api/v1/".concat(c,"/info/widgets/").concat(s.id,"/?step=").concat(e,"&").concat(null!==i?"&start=".concat(i.toUnixInteger()):"").concat(null!==i&&null!==o?"&":"").concat(null!==o?"end=".concat(o.toUnixInteger()):"")).then((e=>{const t=y(e,s);W(t.data),D(t),j(!1);let i=0;for(const n of t.data)for(const e in n){if("name"===e)continue;let t=parseInt(n[e]);isNaN(t)&&(t=0),i<t&&(i=t)}L(i)})).catch((e=>{f((0,r.aW)(e)),j(!1)}))}}),[v,s,o,i,f,c]);let V=Math.floor(k.length/5);(0,n.useEffect)((()=>{const e=k.map((e=>{const t=new Date(1e3*(null===e||void 0===e?void 0:e.name));return{...e,name:t}}));F(e)}),[k]);const K=B?null===B||void 0===B?void 0:B.widgetConfiguration:[],H=e=>{const{cx:t,cy:i,index:n}=e;return n%3!==0?null:(0,p.jsx)("circle",{cx:t,cy:i,r:3,strokeWidth:0,fill:"#07264A"})};let q=!1;return u&&(q=!0),(0,p.jsx)(G,{children:(0,p.jsxs)(d.kvh,{className:u?"":"singleValueContainer",onMouseOver:()=>{w(!0)},onMouseLeave:()=>{w(!1)},children:[!u&&(0,p.jsxs)(d.yeN,{container:!0,children:[(0,p.jsx)(d.yeN,{item:!0,xs:10,sx:{alignItems:"start"},children:(0,p.jsx)(d.kvh,{className:"titleContainer",children:t})}),(0,p.jsx)(d.yeN,{item:!0,xs:1,sx:{display:"flex",justifyContent:"flex-end",alignContent:"flex-end"},children:C&&(0,p.jsx)(E,{panelItem:s})}),(0,p.jsx)(d.yeN,{item:!0,xs:1,sx:{display:"flex",justifyContent:"flex-end"},children:null!==M&&(0,p.jsx)(z,{title:t,componentRef:M,data:I})})]}),(0,p.jsx)("div",{ref:M,children:(0,p.jsxs)(d.kvh,{sx:u?{flexDirection:"column"}:{height:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",["@media (max-width: ".concat(d.WQo.md,"px)")]:{gridTemplateColumns:"1fr"}},style:h?{gridTemplateColumns:"1fr"}:{},children:[v&&(0,p.jsx)(d.c1M,{className:"loadingAlign"}),!v&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(d.kvh,{className:u?"zoomChartCont":"chartCont",children:(0,p.jsx)(b.W,{width:"99%",children:(0,p.jsxs)(_.s,{data:k,margin:{top:5,right:20,left:x?20:5,bottom:0},children:[h&&(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,p.jsx)("stop",{offset:"0%",stopColor:"#2781B0",stopOpacity:1}),(0,p.jsx)("stop",{offset:"100%",stopColor:"#ffffff",stopOpacity:0}),(0,p.jsx)("stop",{offset:"95%",stopColor:"#ffffff",stopOpacity:.8})]})}),(0,p.jsx)(O._,{strokeDasharray:h?"2 2":"5 5",strokeWidth:1,strokeOpacity:1,stroke:"#eee0e0",vertical:!h}),(0,p.jsx)(S.K,{dataKey:"name",tickFormatter:e=>g(e,q,!0),interval:V,tick:{fontSize:"68%",fontWeight:"normal",color:"#404143"},tickCount:10,stroke:"#082045"}),(0,p.jsx)(T.C,{type:"number",domain:[0,1.1*A],hide:x,tickFormatter:e=>m(e),tick:{fontSize:"68%",fontWeight:"normal",color:"#404143"},stroke:"#082045"}),K.map(((e,t)=>(0,p.jsx)(Q.g,{type:"monotone",dataKey:e.dataKey,isAnimationActive:!1,stroke:h?"#D7E5F8":e.lineColor,fill:h?"url(#colorUv)":e.fillColor,fillOpacity:h?.65:0,strokeWidth:h?0:3,strokeLinecap:"round",dot:!!h&&(0,p.jsx)(H,{})},"area-".concat(e.dataKey,"-").concat(t.toString())))),(0,p.jsx)(N.o,{content:(0,p.jsx)(P,{linearConfiguration:K,yAxisFormatter:m}),wrapperStyle:{zIndex:5e3}})]})})}),!h&&(0,p.jsxs)(n.Fragment,{children:[u&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)("strong",{children:"Series"}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{})]}),(0,p.jsx)(d.kvh,{className:"legendChart",children:K.map(((e,t)=>(0,p.jsxs)(d.kvh,{className:"singleLegendContainer",children:[(0,p.jsx)(d.kvh,{className:"colorContainer",style:{backgroundColor:e.lineColor}}),(0,p.jsx)(d.kvh,{className:"legendLabel",children:e.keyLabel})]},"legend-".concat(e.keyLabel,"-").concat(t.toString()))))})]})]})]})})]})})};var K=i(79948),H=i(49480);const q=w.cp.div((e=>{let{theme:t}=e;return{...(0,F.ER)(t),"& .loadingAlign":{width:"100%",paddingTop:"15px",textAlign:"center",margin:"auto"},"& .pieChartLabel":{fontSize:60,color:x()(t,"signalColors.main","#07193E"),fontWeight:"bold",width:"100%","& .unitText":{color:x()(t,"mutedText","#87888d"),fontSize:12}},"& .chartContainer":{width:"100%",height:140}}})),Y=e=>{let{title:t,panelItem:i,timeStart:o,timeEnd:s,apiPrefix:c}=e;const h=(0,l.Ab)(),[m,g]=(0,n.useState)(!1),[u,f]=(0,n.useState)([]),[v,j]=(0,n.useState)([]),[w,k]=(0,n.useState)(null),S=(0,a.w1)((e=>e.dashboard.widgetLoadVersion));(0,n.useEffect)((()=>{g(!0)}),[S]),(0,n.useEffect)((()=>{if(m){let e=0;if(null!==o&&null!==s){const t=s.toUnixInteger()-o.toUnixInteger(),i=Math.floor(t/60);e=i<1?15:i}R.c.invoke("GET","/api/v1/".concat(c,"/info/widgets/").concat(i.id,"/?step=").concat(e,"&").concat(null!==o?"&start=".concat(o.toUnixInteger()):"").concat(null!==o&&null!==s?"&":"").concat(null!==s?"end=".concat(s.toUnixInteger()):"")).then((e=>{const t=y(e,i);f(t.data),j(t.dataOuter),k(t),g(!1)})).catch((e=>{h((0,r.aW)(e)),g(!1)}))}}),[m,i,s,o,h,c]);const T=w?w.widgetConfiguration:[],W=null===w||void 0===w?void 0:w.innerLabel,N=x()(T,"innerChart.colorList",[]),F=x()(T,"outerChart.colorList",[]);return(0,p.jsx)(q,{children:(0,p.jsxs)(d.kvh,{className:"singleValueContainer",children:[(0,p.jsx)(d.kvh,{className:"titleContainer",children:t}),m&&(0,p.jsx)(d.kvh,{className:"loadingAlign",children:(0,p.jsx)(d.c1M,{})}),!m&&(0,p.jsxs)(d.kvh,{className:"contentContainer",children:[(0,p.jsx)("span",{className:"pieChartLabel",children:W&&C(W)}),(0,p.jsx)(d.kvh,{className:"chartContainer",children:(0,p.jsx)(b.W,{width:"99%",children:(0,p.jsxs)(K.i,{margin:{top:5,bottom:5},children:[v&&(0,p.jsx)(H.e,{data:v,cx:"50%",cy:"50%",dataKey:"value",innerRadius:x()(T,"outerChart.innerRadius",0),outerRadius:x()(T,"outerChart.outerRadius","80%"),startAngle:x()(T,"outerChart.startAngle",0),endAngle:x()(T,"outerChart.endAngle",360),fill:"#201763",children:v.map(((e,t)=>(0,p.jsx)(I.m,{fill:"undefined"===typeof F[t]?"#393939":F[t]},"cellOuter-".concat(t))))}),u&&(0,p.jsx)(H.e,{data:u,dataKey:"value",cx:"50%",cy:"50%",innerRadius:x()(T,"innerChart.innerRadius",0),outerRadius:x()(T,"innerChart.outerRadius","80%"),startAngle:x()(T,"innerChart.startAngle",0),endAngle:x()(T,"innerChart.endAngle",360),fill:"#201763",children:u.map(((e,t)=>(0,p.jsx)(I.m,{fill:"undefined"===typeof N[t]?"#393939":N[t]},"cell-".concat(t))))})]})})})]})]})})},Z=w.cp.span((e=>{let{theme:t}=e;return{display:"inline-flex",color:x()(t,"signalColors.main","#07193E"),alignItems:"center","& .icon":{color:x()(t,"signalColors.main","#07193E"),fill:x()(t,"signalColors.main","#07193E"),marginRight:5,marginLeft:12},"& .widgetLabel":{fontWeight:"bold",textTransform:"uppercase",marginRight:10},"& .widgetValue":{marginRight:25}}})),$=e=>{let{iconWidget:t,title:i,panelItem:o,timeStart:s,timeEnd:c,apiPrefix:x,renderFn:h}=e;const m=(0,l.Ab)(),[g,u]=(0,n.useState)(!1),[f,v]=(0,n.useState)(""),j=(0,a.w1)((e=>e.dashboard.widgetLoadVersion));return(0,n.useEffect)((()=>{u(!0)}),[j]),(0,n.useEffect)((()=>{if(g){let e=0;if(null!==s&&null!==c){const t=c.toUnixInteger()-s.toUnixInteger(),i=Math.floor(t/60);e=i<1?15:i}R.c.invoke("GET","/api/v1/".concat(x,"/info/widgets/").concat(o.id,"/?step=").concat(e,"&").concat(null!==s?"&start=".concat(s.toUnixInteger()):"").concat(null!==s&&null!==c?"&":"").concat(null!==c?"end=".concat(c.toUnixInteger()):"")).then((e=>{const t=y(e,o);v(t.data),u(!1)})).catch((e=>{m((0,r.aW)(e)),u(!1)}))}}),[g,o,c,s,m,x]),h?h({valueToRender:f,loading:g,title:i,id:o.id,iconWidget:t}):(0,p.jsxs)(n.Fragment,{children:[g&&(0,p.jsx)("div",{className:"loadingAlign",children:(0,p.jsx)(d.c1M,{})}),!g&&(0,p.jsxs)(Z,{children:[(0,p.jsx)("span",{className:"icon",children:t||null}),(0,p.jsxs)("span",{className:"widgetLabel",children:[i,": "]}),(0,p.jsx)("span",{className:"widgetValue",children:f})]})]})},J=e=>{let{children:t}=e;return(0,p.jsx)(d.kvh,{withBorders:!0,sx:{borderRadius:"3px",padding:15,height:136,maxWidth:"100%",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{padding:5,height:"auto"},["@media (max-width: ".concat(d.WQo.md,"px)")]:{display:"flex",flexFlow:"column",maxWidth:"initial"}},children:t})},X=w.cp.div((e=>{let{theme:t}=e;return{fontFamily:"Inter,sans-serif",color:x()(t,"signalColors.main","#07193E"),maxWidth:"300px",display:"flex",marginLeft:"auto",marginRight:"auto",cursor:"default",position:"relative",width:"100%"}})),ee=e=>{let{value:t,label:i="",icon:n=null,loading:a=!1}=e;return(0,p.jsx)(X,{children:(0,p.jsxs)(d.kvh,{sx:{flex:1,display:"flex",width:"100%",padding:"0 8px 0 8px",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{padding:"0 10px 0 10px"}},children:[(0,p.jsxs)(d.kvh,{sx:{flex:1,display:"flex",flexFlow:"column",marginTop:"12px",zIndex:10,overflow:"hidden"},children:[(0,p.jsx)(d.kvh,{sx:{fontSize:"16px",fontWeight:600},children:i}),(0,p.jsx)(d.o5h,{tooltip:t,placement:"bottom",children:(0,p.jsx)(d.kvh,{sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",maxWidth:187,flexFlow:"row",fontSize:55,["@media (max-width: ".concat(d.WQo.sm,"px)")]:{fontSize:35,maxWidth:200,flexFlow:"column"},["@media (max-width: ".concat(d.WQo.md,"px)")]:{fontSize:35},["@media (max-width: ".concat(d.WQo.lg,"px)")]:{fontSize:36},["@media (max-width: ".concat(d.WQo.xl,"px)")]:{fontSize:50}},children:t})})]}),(0,p.jsx)(d.kvh,{sx:{display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"flex-start",marginTop:"8px",maxWidth:"26px","& .min-icon":{width:"16px",height:"16px"}},children:a?(0,p.jsx)(d.c1M,{style:{width:"16px",height:"16px"}}):n})]})})},te=e=>{let{title:t,value:i,loading:n}=e;return(0,p.jsx)(ee,{label:t,icon:(0,p.jsx)(d.Gme,{}),value:i,loading:n})},ie=e=>{let{title:t,value:i,loading:n}=e;return(0,p.jsx)(ee,{label:t,icon:(0,p.jsx)(d.SIH,{}),value:i,loading:n})},ne=(0,a.Ul)(null,{setErrorSnackMessage:r.aW})((e=>{let{title:t,panelItem:i,timeStart:o,timeEnd:s,propLoading:d,apiPrefix:c}=e;const x=(0,l.Ab)(),[h,g]=(0,n.useState)(!1),[u,f]=(0,n.useState)(null),v=(0,a.w1)((e=>e.dashboard.widgetLoadVersion));(0,n.useEffect)((()=>{g(!0)}),[v]),(0,n.useEffect)((()=>{if(h){let e=0;if(null!==o&&null!==s){const t=s.toUnixInteger()-o.toUnixInteger(),i=Math.floor(t/60);e=i<1?15:i}R.c.invoke("GET","/api/v1/".concat(c,"/info/widgets/").concat(i.id,"/?step=").concat(e,"&").concat(null!==o?"&start=".concat(o.toUnixInteger()):"").concat(null!==o&&null!==s?"&":"").concat(null!==s?"end=".concat(s.toUnixInteger()):"")).then((e=>{const t=y(e,i);f(t),g(!1)})).catch((e=>{x((0,r.aW)(e)),g(!1)}))}}),[h,i,s,o,x,c]);let j="";if(u){const e=parseInt(u.innerLabel||"0");j=isNaN(e)?"0":(0,m.Mx)(e)}return 66===(C=i.id)?(0,p.jsx)(J,{children:(0,p.jsx)(te,{loading:h,title:t,value:u?j:""})}):44===C?(0,p.jsx)(J,{children:(0,p.jsx)(ie,{loading:h,title:t,value:u?j:""})}):null;var C})),ae=w.cp.div((e=>{let{theme:t}=e;return{display:"flex",height:140,flexDirection:"column",justifyContent:"center","& .unitText":{color:x()(t,"mutedText","#87888d"),fontSize:12},"& .loadingAlign":{width:"100%",textAlign:"center",margin:"auto"},"& .metric":{fontSize:60,lineHeight:1,color:x()(t,"signalColors.main","#07193E"),fontWeight:700},"& .titleElement":{fontSize:10,color:x()(t,"mutedText","#87888d"),fontWeight:700},...(0,F.ER)(t)}})),le=e=>{let{title:t,panelItem:i,timeStart:o,timeEnd:s,apiPrefix:c,renderFn:x}=e;const h=(0,l.Ab)(),[m,g]=(0,n.useState)(!1),[u,f]=(0,n.useState)(""),v=(0,a.w1)((e=>e.dashboard.widgetLoadVersion));(0,n.useEffect)((()=>{g(!0)}),[v]),(0,n.useEffect)((()=>{if(m){let e=0;if(null!==o&&null!==s){const t=s.toUnixInteger()-o.toUnixInteger(),i=Math.floor(t/60);e=i<1?15:i}R.c.invoke("GET","/api/v1/".concat(c,"/info/widgets/").concat(i.id,"/?step=").concat(e,"&").concat(null!==o?"&start=".concat(o.toUnixInteger()):"").concat(null!==o&&null!==s?"&":"").concat(null!==s?"end=".concat(s.toUnixInteger()):"")).then((e=>{const t=y(e,i);f(t.data),g(!1)})).catch((e=>{h((0,r.aW)(e)),g(!1)}))}}),[m,i,s,o,h,c]);const j=C(u);return x?x({valueToRender:j,loading:m,title:t,id:i.id}):(0,p.jsxs)(ae,{children:[m&&(0,p.jsx)(d.kvh,{className:"loadingAlign",children:(0,p.jsx)(d.c1M,{})}),!m&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(d.kvh,{className:"metric",children:C(u)}),(0,p.jsx)(d.kvh,{className:"titleElement",children:t})]})]})},oe=w.cp.div((e=>{let{theme:t}=e;return{flex:1,display:"flex",alignItems:"center",flexFlow:"row","& .usableLabel":{color:x()(t,"mutedText","#87888d"),fontSize:"10px",display:"flex",flexFlow:"column",alignItems:"center",textAlign:"center"},"& .usedLabel":{color:x()(t,"mutedText","#87888d"),fontWeight:"bold",fontSize:"14px"},"& .totalUsed":{display:"flex","& .value":{fontSize:"50px",fontFamily:"Inter",fontWeight:600,alignSelf:"flex-end",lineHeight:1},"& .unit":{color:x()(t,"mutedText","#87888d"),fontWeight:"bold",fontSize:"14px",marginLeft:"12px",alignSelf:"flex-end"}},"& .ofUsed":{marginTop:"5px","& .value":{color:x()(t,"mutedText","#87888d"),fontWeight:"bold",fontSize:"14px",textAlign:"right"}},["@media (max-width: ".concat(d.WQo.sm,"px)")]:{flexFlow:"column"}}})),se=e=>{let{value:t,timeStart:i,timeEnd:o,apiPrefix:s}=e;const c=(0,l.Ab)(),[x,h]=(0,n.useState)(!1),[g,u]=(0,n.useState)(0),[f,v]=(0,n.useState)(0),[j,C]=(0,n.useState)(0),[w,b]=(0,n.useState)(0),k=(0,a.w1)((e=>e.dashboard.widgetLoadVersion));(0,n.useEffect)((()=>{h(!0)}),[k]),(0,n.useEffect)((()=>{if(x){let e=0;if(null!==i&&null!==o){const t=o.toUnixInteger()-i.toUnixInteger(),n=Math.floor(t/60);e=n<1?15:n}R.c.invoke("GET","/api/v1/".concat(s,"/info/widgets/").concat(t.id,"/?step=").concat(e,"&").concat(null!==i?"&start=".concat(i.toUnixInteger()):"").concat(null!==i&&null!==o?"&":"").concat(null!==o?"end=".concat(o.toUnixInteger()):"")).then((e=>{const i=y(e,t);let n=0,a=0,l=0;i.data.forEach((e=>{e.forEach((e=>{switch(e.legend){case"Total Usable":n+=e.value;break;case"Used Space":a+=e.value;break;case"Usable Free":l+=e.value}}))}));const o=Math.round(l/n*100);u(l),v(o),C(a),b(n),h(!1)})).catch((e=>{c((0,r.aW)(e)),h(!1)}))}}),[x,t,o,i,c,s]);const S=(0,m.UH)(j,!0,!1),T=[{value:g,color:"#D6D6D6",label:"Usable Available Space"},{value:j,color:(0,m.kT)(j,w),label:"Used Space"}];return(0,p.jsxs)(oe,{children:[(0,p.jsx)(d.kvh,{sx:{fontSize:"16px",fontWeight:600,["@media (max-width: ".concat(d.WQo.sm,"px)")]:{alignSelf:"flex-start"}},children:"Capacity"}),(0,p.jsxs)(d.kvh,{sx:{position:"relative",width:110,height:110,marginLeft:"auto",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{marginLeft:""}},children:[(0,p.jsxs)(d.kvh,{sx:{position:"absolute",display:"flex",flexFlow:"column",alignItems:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",fontSize:12},children:["".concat(f,"%"),(0,p.jsx)("br",{}),(0,p.jsx)(d.kvh,{className:"usableLabel",children:"Free"})]}),(0,p.jsx)(K.i,{width:110,height:110,children:(0,p.jsx)(H.e,{data:T,cx:"50%",cy:"50%",dataKey:"value",outerRadius:50,innerRadius:40,startAngle:-70,endAngle:360,animationDuration:1,children:T.map(((e,t)=>(0,p.jsx)(I.m,{fill:e.color},"cellCapacity-".concat(t))))})})]}),(0,p.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"center",marginLeft:"auto",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{marginLeft:""}},children:[(0,p.jsxs)(d.kvh,{children:[(0,p.jsx)(d.kvh,{className:"usedLabel",children:"Used:"}),(0,p.jsxs)(d.kvh,{className:"totalUsed",children:[(0,p.jsx)("div",{className:"value",children:S.total}),(0,p.jsx)("div",{className:"unit",children:S.unit})]}),(0,p.jsx)(d.kvh,{className:"ofUsed",children:(0,p.jsxs)("div",{className:"value",children:["Of: ",(0,m.Av)(w)]})})]}),(0,p.jsx)(d.kvh,{sx:{marginLeft:"15px",height:"100%",display:"flex",alignItems:"flex-start"},children:(0,p.jsx)(d.kvh,{children:x?(0,p.jsx)(d.c1M,{style:{width:"26px",height:"26px"}}):(0,p.jsx)(d.ot9,{})})})]})]})},re=w.cp.div((e=>{let{theme:t}=e;return{display:"grid",alignItems:"center",gap:8,height:33,paddingLeft:15,gridTemplateColumns:"20px 1.5fr .5fr 20px",background:x()(t,"boxBackground","#FBFAFA"),"& .min-icon":{height:"12px",width:"12px",fill:x()(t,"signalColors.good","#4CCB92")},"& .ok-icon":{height:"8px",width:"8px",fill:x()(t,"signalColors.good","#4CCB92"),color:x()(t,"signalColors.good","#4CCB92")},"& .timeStatLabel":{fontSize:"12px",color:x()(t,"signalColors.good","#4CCB92"),fontWeight:600},"& .timeStatValue":{fontSize:"12px",color:x()(t,"signalColors.good","#4CCB92")}}})),de=e=>{let{icon:t,label:i,value:n,loading:a=!1}=e;return(0,p.jsxs)(re,{className:"dashboard-time-stat-item",children:[a?(0,p.jsx)(d.c1M,{style:{width:10,height:10}}):t,(0,p.jsx)(d.kvh,{className:"timeStatLabel",children:i}),(0,p.jsx)(d.kvh,{className:"timeStatValue",children:n}),"n/a"!==n?(0,p.jsx)(d.QAs,{className:"ok-icon"}):null]})},ce=e=>{let{valueToRender:t="",loading:i=!1,iconWidget:n=null}=e;return(0,p.jsx)(d.kvh,{sx:{display:"flex",height:"47px",borderRadius:"2px","& .dashboard-time-stat-item":{height:"100%",width:"100%"}},children:(0,p.jsx)(de,{loading:i,icon:n,label:(0,p.jsxs)(d.kvh,{children:[(0,p.jsx)(d.kvh,{sx:{display:"inline",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{display:"none"}},children:"Time since last"})," ","Heal Activity"]}),value:t})})},xe=e=>{let{valueToRender:t="",loading:i=!1,iconWidget:n=null}=e;return(0,p.jsx)(d.kvh,{sx:{display:"flex",height:"47px",borderRadius:"2px","& .dashboard-time-stat-item":{height:"100%",width:"100%"}},children:(0,p.jsx)(de,{loading:i,icon:n,label:(0,p.jsxs)(d.kvh,{children:[(0,p.jsx)(d.kvh,{sx:{display:"inline",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{display:"none"}},children:"Time since last"})," ","Scan Activity"]}),value:t})})},he=e=>{let{valueToRender:t="",loading:i=!1,iconWidget:n=null}=e;return(0,p.jsx)(d.kvh,{sx:{display:"flex",height:47,borderRadius:2,"& .dashboard-time-stat-item":{height:"100%",width:"100%"}},children:(0,p.jsx)(de,{loading:i,icon:n,label:(0,p.jsx)(d.kvh,{children:"Uptime"}),value:t})})},me=function(e,t,i,n,a){let l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];switch(e.type){case h.singleValue:return(0,p.jsx)(le,{title:e.title,panelItem:e,timeStart:t,timeEnd:i,apiPrefix:a});case h.simpleWidget:let o,s=null;return 80===e.id?s=ce:81===e.id?s=xe:1===e.id&&(s=he),[80,81,1].includes(e.id)&&(o=e=>{let{valueToRender:t,loading:i,title:n,id:a,iconWidget:l}=e;return(0,p.jsx)(s,{valueToRender:t,loading:i,title:n,id:a,iconWidget:l})}),(0,p.jsx)($,{title:e.title,panelItem:e,timeStart:t,timeEnd:i,apiPrefix:a,iconWidget:e.widgetIcon,renderFn:o});case h.pieChart:return 50===e.id?(0,p.jsx)(J,{children:(0,p.jsx)(se,{value:e,timeStart:t,timeEnd:i,apiPrefix:a})}):(0,p.jsx)(Y,{title:e.title,panelItem:e,timeStart:t,timeEnd:i,apiPrefix:a});case h.linearGraph:case h.areaGraph:return(0,p.jsx)(V,{title:e.title,panelItem:e,timeStart:t,timeEnd:i,hideYAxis:e.disableYAxis,xAxisFormatter:e.xAxisFormatter,yAxisFormatter:e.yAxisFormatter,apiPrefix:a,areaWidget:e.type===h.areaGraph,zoomActivated:l});case h.barChart:return(0,p.jsx)(M,{title:e.title,panelItem:e,timeStart:t,timeEnd:i,apiPrefix:a,zoomActivated:l});case h.singleRep:const r=e.fillColor?e.fillColor:e.color;return(0,p.jsx)(ne,{title:e.title,panelItem:e,timeStart:t,timeEnd:i,propLoading:n,color:e.color,fillColor:r,apiPrefix:a});default:return null}},pe=[{sx:{minWidth:0,display:"grid",gap:"30px",gridTemplateColumns:"1fr 1fr 1fr 1fr",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{gridTemplateColumns:"1fr"},["@media (max-width: ".concat(d.WQo.md,"px)")]:{gridTemplateColumns:"1fr 1fr"}},columns:[{componentId:66},{componentId:44},{componentId:500},{componentId:501}]},{sx:{display:"grid",minWidth:0,gap:"30px",gridTemplateColumns:"1fr 1fr",["@media (max-width: ".concat(d.WQo.md,"px)")]:{gridTemplateColumns:"1fr"}},columns:[{componentId:50},{componentId:502}]},{sx:{display:"grid",minWidth:0,gap:"30px",gridTemplateColumns:"1fr 1fr 1fr",["@media (max-width: ".concat(d.WQo.md,"px)")]:{gridTemplateColumns:"1fr"}},columns:[{componentId:80},{componentId:81},{componentId:1}]},{sx:{display:"grid",minWidth:0,gap:"30px",gridTemplateColumns:"1fr 1fr",["@media (max-width: ".concat(d.WQo.md,"px)")]:{gridTemplateColumns:"1fr"}},columns:[{componentId:68},{componentId:52}]},{sx:{display:"grid",minWidth:0,gap:"30px",gridTemplateColumns:"1fr 1fr",["@media (max-width: ".concat(d.WQo.md,"px)")]:{gridTemplateColumns:"1fr"}},columns:[{componentId:63},{componentId:70}]}],ge=[{sx:{display:"grid",gridTemplateColumns:"1fr",gap:"30px"},columns:[{componentId:60}]},{sx:{display:"grid",minWidth:0,gap:"30px",gridTemplateColumns:"1fr 1fr",["@media (max-width: ".concat(d.WQo.md,"px)")]:{gridTemplateColumns:"1fr"}},columns:[{componentId:71,sx:{flex:1,width:"50%",flexShrink:0}},{componentId:17,sx:{flex:1,width:"50%",flexShrink:0}}]},{sx:{display:"grid",gridTemplateColumns:"1fr",gap:"30px"},columns:[{componentId:73}]}],ue=[{sx:{display:"grid",minWidth:0,gridTemplateColumns:"1fr 1fr",gap:"30px"},columns:[{componentId:76},{componentId:77}]},{sx:{display:"grid",minWidth:0,gridTemplateColumns:"1fr 1fr",gap:"30px"},columns:[{componentId:82},{componentId:74}]}],fe=[{sx:{display:"grid",minWidth:0,gridTemplateColumns:"1fr 1fr",gap:"30px"},columns:[{componentId:11},{componentId:8}]}],ve=e=>{let{children:t}=e;return(0,p.jsx)(d.kvh,{sx:{display:"grid",gridTemplateColumns:"1fr",gap:"30px"},children:t})};var je=i(4836);const ye=e=>{let{value:t,modalOpen:i,timeStart:a,timeEnd:o,apiPrefix:s}=e;const r=(0,l.Ab)();return t?(0,p.jsx)(je.c,{title:t.title,onClose:()=>{r((0,A.cX)())},modalOpen:i,wideLimit:!1,sx:{padding:0},children:(0,p.jsx)(n.Fragment,{children:me(t,a,o,!0,s,!0)})}):null};var Ce=i(3276),we=i(40012);const be=w.cp.div((e=>{let{theme:t}=e;return{...(0,F.ER)(t),"& .metricText":{fontSize:70,lineHeight:1.1,color:x()(t,"signalColors.main","#07193E"),fontWeight:"bold"},"& .unitText":{fontSize:10,color:x()(t,"mutedText","#87888d"),fontWeight:"normal"},"& .subHeaderContainer":{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},"& .subMessage":{fontSize:10,color:x()(t,"mutedText","#87888d"),"&.bold":{fontWeight:"bold"}},"& .headerContainer":{display:"flex",justifyContent:"space-between"},"& .viewAll":{fontSize:10,color:x()(t,"signalColors.danger","#C83B51"),textTransform:"capitalize","& a, & a:hover, & a:visited, & a:active":{color:x()(t,"signalColors.danger","#C83B51")}}}})),ke=e=>{let{title:t,metricValue:i,metricUnit:a,subMessage:l,moreLink:o,rightComponent:s,extraMargin:r=!1}=e;const c=()=>(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)("div",{className:"subHeaderContainer",children:[(0,p.jsxs)("div",{className:"leftSide",children:[(0,p.jsx)("div",{children:(0,p.jsxs)("span",{className:"metricText",children:[i,(0,p.jsx)("span",{className:"unitText",children:a})]})}),l&&(0,p.jsx)(d.kvh,{sx:{fontWeight:l.fontWeight||"normal"},children:l.message})]}),(0,p.jsx)("div",{className:"rightSide",children:s})]})}),x=()=>(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)("div",{className:"headerContainer",children:[(0,p.jsx)("span",{className:"titleContainer",children:t}),o&&(0,p.jsx)(n.Fragment,{children:(0,p.jsx)("span",{className:"viewAll",children:(0,p.jsx)(we.cH,{to:o,children:"View All"})})})]})});return(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(d.kvh,{withBorders:!0,sx:{height:200,padding:16,margin:r?"10px 20px 10px 0":""},children:""!==i&&(0,p.jsxs)(be,{children:[(0,p.jsx)(x,{}),(0,p.jsx)(c,{})]})})})},Se=e=>{let{title:t,leftComponent:i,rightComponent:a}=e;return(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(ke,{title:t,metricValue:i,rightComponent:a})})},Te=e=>{let{panelItem:t,timeStart:i,timeEnd:o,apiPrefix:s,statLabel:c}=e;const x=(0,l.Ab)(),[h,m]=(0,n.useState)(!1),[g,u]=(0,n.useState)(""),f=(0,a.w1)((e=>e.dashboard.widgetLoadVersion));return(0,n.useEffect)((()=>{m(!0)}),[f]),(0,n.useEffect)((()=>{if(h){let e=0;if(null!==i&&null!==o){const t=o.toUnixInteger()-i.toUnixInteger(),n=Math.floor(t/60);e=n<1?15:n}R.c.invoke("GET","/api/v1/".concat(s,"/info/widgets/").concat(t.id,"/?step=").concat(e,"&").concat(null!==i?"&start=".concat(i.toUnixInteger()):"").concat(null!==i&&null!==o?"&":"").concat(null!==o?"end=".concat(o.toUnixInteger()):"")).then((e=>{const i=y(e,t);u(i.data),m(!1)})).catch((e=>{x((0,r.aW)(e)),m(!1)}))}}),[h,t,o,i,x,s]),h?(0,p.jsx)(d.kvh,{sx:{width:"100%",paddingTop:"5px",textAlign:"center",margin:"auto"},children:(0,p.jsx)(d.c1M,{style:{width:12,height:12}})}):(0,p.jsxs)(d.kvh,{children:[(0,p.jsx)(d.kvh,{className:"stat-value",children:g}),c]})},We=w.cp.div((e=>{let{theme:t}=e;return{fontFamily:"Inter,sans-serif",color:x()(t,"signalColors.main","#07193E"),maxWidth:"321px",display:"flex",marginLeft:"auto",marginRight:"auto",cursor:"default","& .stat-text":{color:x()(t,"mutedText","#87888d"),fontSize:"12px",marginTop:"8px"}}})),Ie=e=>{let{statItemLeft:t=null,statItemRight:i=null,icon:n=null,label:a=""}=e;return(0,p.jsx)(We,{children:(0,p.jsxs)(d.kvh,{sx:{flex:1,display:"flex",padding:"0 8px 0 8px",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{padding:"0 10px 0 10px"}},children:[(0,p.jsxs)(d.kvh,{sx:{flex:1,display:"flex",flexFlow:"column"},children:[(0,p.jsx)(d.kvh,{sx:{fontSize:"16px",fontWeight:600},children:a}),(0,p.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"center",gap:5,justifyContent:"space-between",paddingBottom:0,fontSize:55,flexFlow:"row",fontWeight:600,"& .stat-value":{textAlign:"center",height:"50px"},"& .min-icon":{marginRight:"8px",marginTop:"8px",height:"10px",width:"10px"},["@media (max-width: ".concat(d.WQo.sm,"px)")]:{fontSize:35},["@media (max-width: ".concat(d.WQo.lg,"px)")]:{fontSize:45},["@media (max-width: ".concat(d.WQo.xl,"px)")]:{fontSize:50}},children:[t,i]})]}),(0,p.jsx)(d.kvh,{sx:{width:"20px",height:"20px",marginTop:"8px",maxWidth:"26px","& .min-icon":{width:"16px",height:"16px"}},children:n})]})})},Ne=w.cp.div((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",marginTop:"5px",gap:8,"&.online":{"& .min-icon":{margin:0,fill:x()(t,"signalColors.good","#4CCB92")}},"&.offline":{"& .min-icon":{margin:0,fill:x()(t,"signalColors.danger","#C51B3F")}},"& .indicatorText":{color:x()(t,"mutedText","#C51B3F"),fontSize:12}}})),Fe=e=>{let{info:t,timeStart:i,timeEnd:n,apiPrefix:a}=e;const{mergedPanels:l=[],id:o}=t,[s,r]=l,c=(0,p.jsx)(Te,{panelItem:s,timeStart:i,timeEnd:n,apiPrefix:a,statLabel:(0,p.jsxs)(Ne,{className:"online",children:[(0,p.jsx)(d.c2_,{}),(0,p.jsx)(d.kvh,{className:"indicatorText",children:"Online"})]})}),x=(0,p.jsx)(Te,{panelItem:r,timeStart:i,timeEnd:n,apiPrefix:a,statLabel:(0,p.jsxs)(Ne,{className:"offline",children:[(0,p.jsx)(d.c2_,{}),(0,p.jsx)(d.kvh,{className:"indicatorText",children:"Offline"})]})});let h=null,m="";return 500===o?(h=(0,p.jsx)(d.Yh7,{}),m="Servers"):501===o&&(h=(0,p.jsx)(d.orE,{}),m="Drives"),(0,p.jsx)(Ie,{statItemLeft:c,statItemRight:x,icon:h,label:m})},Ae=w.cp.div((e=>{let{theme:t}=e;return{"& .putLabel":{display:"flex",gap:10,alignItems:"center",marginTop:"10px","& .min-icon":{height:15,width:15,fill:x()(t,"signalColors.good","#4CCB92")},"& .getText":{fontSize:"18px",color:x()(t,"mutedText","#87888d"),fontWeight:"bold"},"& .valueText":{fontSize:50,fontFamily:"Inter",fontWeight:600}}}})),Ee=e=>{let{value:t,loading:i}=e;return(0,p.jsxs)(Ae,{children:[(0,p.jsxs)(d.kvh,{className:"putLabel",children:[(0,p.jsx)(d.kvh,{className:"getText",children:"GET"}),i?(0,p.jsx)(d.c1M,{style:{width:"15px",height:"15px"}}):(0,p.jsx)(d.eEG,{})]}),(0,p.jsx)(d.kvh,{className:"valueText",children:t})]})},Le=w.cp.div((e=>{let{theme:t}=e;return{"& .putLabel":{display:"flex",gap:10,alignItems:"center",marginTop:"10px","& .min-icon":{height:15,width:15,fill:x()(t,"signalColors.info","#2781B0")},"& .putText":{fontSize:"18px",color:x()(t,"mutedText","#87888d"),fontWeight:"bold"},"& .valueText":{fontSize:50,fontFamily:"Inter",fontWeight:600}}}})),ze=e=>{let{value:t,loading:i}=e;return(0,p.jsxs)(Le,{children:[(0,p.jsxs)(d.kvh,{className:"putLabel",children:[(0,p.jsx)(d.kvh,{className:"putText",children:"PUT"}),i?(0,p.jsx)(d.c1M,{style:{width:"15px",height:"15px"}}):(0,p.jsx)(d.YrK,{})]}),(0,p.jsx)(d.kvh,{className:"valueText",children:t})]})},Be=w.cp.div((e=>{let{theme:t}=e;return{flex:1,display:"flex",alignItems:"center",flexFlow:"row",gap:"15px","& .unitText":{fontSize:"14px",color:x()(t,"mutedText","#87888d"),marginLeft:"5px"},"& .unit":{color:x()(t,"mutedText","#87888d"),fontSize:"18px",marginLeft:"12px",marginTop:"10px"},["@media (max-width: ".concat(d.WQo.sm,"px)")]:{flexFlow:"column"}}})),Re=e=>{let{value:t,timeStart:i,timeEnd:n,apiPrefix:a}=e;const{mergedPanels:l=[]}=t,[o,s]=l,r=(0,p.jsx)(le,{title:t.title,panelItem:o,timeStart:i,timeEnd:n,apiPrefix:a,renderFn:e=>{let{valueToRender:t,loading:i,title:n,id:a}=e;return(0,p.jsx)(ze,{value:t,loading:i,title:n,id:a})}}),c=(0,p.jsx)(le,{title:t.title,panelItem:s,timeStart:i,timeEnd:n,apiPrefix:a,renderFn:e=>{let{valueToRender:t,loading:i,title:n,id:a}=e;return(0,p.jsx)(Ee,{value:t,loading:i,title:n,id:a})}});return(0,p.jsxs)(Be,{children:[(0,p.jsx)(d.kvh,{sx:{fontSize:"16px",fontWeight:600},children:"Network"}),(0,p.jsx)(d.kvh,{sx:{position:"relative",width:110,height:110,marginLeft:"auto",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{marginLeft:"0"}},children:(0,p.jsx)(d.kvh,{sx:{position:"absolute",display:"flex",flexFlow:"column",alignItems:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",fontSize:12},children:c})}),(0,p.jsx)(d.kvh,{sx:{display:"flex",alignItems:"center",marginLeft:"auto",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{marginLeft:"0"}},children:(0,p.jsx)(d.kvh,{sx:{display:"flex",alignItems:"center","& .value":{fontSize:"50px",fontFamily:"Inter"}},children:r})}),(0,p.jsx)(d.kvh,{sx:{marginLeft:"15px",height:"100%",display:"flex",alignItems:"flex-start","& .min-icon":{height:"15px",width:"15px"}},children:(0,p.jsx)(d.uM9,{})})]})},De=e=>{let{info:t,timeStart:i,timeEnd:n,loading:a,apiPrefix:l}=e;const{mergedPanels:o=[],title:s="",id:r}=t,[d,c]=o;return[500,501].includes(r)?(0,p.jsx)(J,{children:(0,p.jsx)(Fe,{info:t,timeStart:i,timeEnd:n,apiPrefix:l})}):502===r?(0,p.jsx)(J,{children:(0,p.jsx)(Re,{apiPrefix:l,timeEnd:n,timeStart:i,value:t})}):(0,p.jsx)(Se,{title:s,leftComponent:me(d,i,n,a,l),rightComponent:me(c,i,n,a,l)})};var Ue=i(20720),Me=i(48812),_e=i.n(Me),Oe=i(94984);const Qe=w.cp.div((e=>{let{theme:t}=e;return{alignItems:"baseline",padding:"5px",display:"flex",gap:"5px","& .StatBox":{display:"flex",alignItems:"center",justifyContent:"center",flexFlow:"column","& .stat-text":{color:x()(t,"mutedText","#87888d"),fontSize:"12px"},"& .stat-value":{fontSize:"18px",color:x()(t,"signalColors.main","#07193E"),display:"flex",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& .stat-container":{display:"flex",alignItems:"center",justifyContent:"center",flexFlow:"column",marginLeft:"5px",maxWidth:"40px","&:first-of-type(svg)":{fill:x()(t,"mutedText","#87888d")},"& .stat-indicator":{marginRight:"0px",justifyContent:"center",alignItems:"center",textAlign:"center","& svg.min-icon":{width:"10px",height:"10px"},"&.good":{"& svg.min-icon":{fill:x()(t,"signalColors.good","#4CCB92")}},"&.warn":{"& svg.min-icon":{fill:x()(t,"signalColors.warning","#FFBD62")}},"&.bad":{"& svg.min-icon":{fill:x()(t,"signalColors.danger","#C51B3F")}}}}}}}})),Pe=w.cp.div((e=>{let{theme:t}=e;return{display:"flex",alignItems:"flex-start",flexFlow:"column",flex:1,"& .server-state":{marginLeft:"8px","& .min-icon":{height:"14px",width:"14px"},"&.good":{"& svg.min-icon":{fill:x()(t,"signalColors.good","#4CCB92")}},"&.warn":{"& svg.min-icon":{fill:x()(t,"signalColors.warning","#FFBD62")}},"&.bad":{"& svg.min-icon":{fill:x()(t,"signalColors.danger","#C51B3F")}}}}})),Ge=e=>{let{label:t="",value:i="",statusColor:n="warn",hasStatus:a=!1}=e;return(0,p.jsx)(Qe,{children:(0,p.jsxs)(d.kvh,{className:"StatBox",children:[(0,p.jsxs)("div",{className:"stat-value",children:[i," ",(0,p.jsx)(d.kvh,{className:"stat-container",children:a?(0,p.jsx)(d.kvh,{className:"stat-indicator ".concat(n),children:(0,p.jsx)(d.c2_,{})}):(0,p.jsx)(d.kvh,{sx:{width:"12px",height:"12px"}})})]}),(0,p.jsx)("div",{className:"stat-text",children:t})]})})},Ve=e=>{let{server:t}=e;const i=Object.keys(x()(t,"network",{})),n=i.length,a=t.drives?t.drives.length:0,l=i.reduce(((e,i)=>"online"===(t.network?t.network[i]:"")?e+1:e),0),o=t.drives?t.drives.filter((e=>"ok"===e.state)).length:0;return(0,p.jsx)(Pe,{children:(0,p.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"center",padding:"3px",gap:"15px",justifyContent:"space-between",width:"100%",paddingLeft:"20px",flexFlow:"row",["@media (max-width: ".concat(d.WQo.md,"px)")]:{flexFlow:"column"}},children:[(0,p.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"center"},children:[(0,p.jsx)(d.kvh,{sx:{fontWeight:600,textTransform:"none"},children:t.endpoint||""}),(null===t||void 0===t?void 0:t.state)&&(0,p.jsx)(d.kvh,{className:"server-state ".concat((0,Oe.Wz)(t.state)),children:(0,p.jsx)(d.c2_,{})})]}),(0,p.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:"1.5",gap:"5%"},children:[(0,p.jsx)(Ge,{statusColor:(0,Oe._M)(o,a),label:"Drives",hasStatus:!0,value:"".concat(o,"/").concat(a)}),(0,p.jsx)(Ge,{statusColor:(0,Oe.Wu)(l,n),label:"Network",hasStatus:!0,value:"".concat(l,"/").concat(n)}),(0,p.jsx)(Ge,{statusColor:"good",label:"Up time",value:null!==t&&void 0!==t&&t.uptime?(0,m.C0)("".concat(t.uptime)):"N/A"})]}),(0,p.jsx)(Ge,{statusColor:"good",label:"",value:(0,p.jsxs)(d.kvh,{sx:{background:"rgb(235, 236, 237)",color:"#000000",paddingLeft:"10px",paddingRight:"10px",borderRadius:"2px",fontSize:"12px",marginTop:"5px","& .label":{fontWeight:600,marginRight:"3px"}},children:[(0,p.jsx)("span",{className:"label",children:"Version:"}),t.version?t.version:"N/A"]})})]})})},Ke=e=>{switch(e){case"offline":return Oe.F6.RED;case"ok":return Oe.F6.GREEN;default:return Oe.F6.YELLOW}},He=w.cp.div((e=>{let{theme:t}=e;return{flex:1,display:"flex",alignItems:"center",paddingLeft:"20px",marginTop:"10px",flexFlow:"row","& .info-label":{color:x()(t,"mutedText","#87888d"),fontSize:"12px",textAlign:"center"},"& .info-value":{fontSize:"18px",color:x()(t,"signalColors.main","#07193E"),display:"flex",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},["@media (max-width: ".concat(d.WQo.sm,"px)")]:{flexFlow:"column"}}})),qe=e=>{let{drive:t}=e;const i=t.totalSpace||0,n=t.usedSpace||0;return(0,p.jsx)(d.kvh,{withBorders:!0,sx:{display:"flex",flex:1,alignItems:"center",paddingBottom:"10px",padding:"20px"},children:(0,p.jsxs)(d.kvh,{sx:{display:"flex",flexFlow:"column",marginLeft:"10px",flex:1},children:[(0,p.jsxs)(d.kvh,{sx:{fontSize:"14px",fontWeight:400,display:"flex",alignItems:"center","& .min-icon":{marginRight:"10px",height:"10px",width:"10px",fill:Ke(t.state||""),flexShrink:0},"& .drive-endpoint":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-all",marginRight:"8px",fontWeight:600,fontSize:16,["@media (max-width: ".concat(d.WQo.sm,"px)")]:{fontSize:10}}},children:[(0,p.jsx)("div",{className:"drive-endpoint",children:t.endpoint||""}),t.state&&(0,p.jsx)(d.c2_,{})]}),(0,p.jsxs)(He,{children:[(0,p.jsx)(d.kvh,{sx:{flex:1},children:(0,p.jsx)(d.EDc,{label:!0,usedBytes:n,totalBytes:i,width:"120",height:"120"})}),(0,p.jsxs)(d.kvh,{sx:{display:"flex",gap:"5%",alignItems:"center",flex:2,flexGrow:1},children:[(0,p.jsxs)(d.kvh,{sx:{display:"flex",flexFlow:"column"},children:[(0,p.jsx)("div",{className:"info-value",children:(0,m.U7)(t.totalSpace?t.totalSpace.toString():"0")}),(0,p.jsx)("label",{className:"info-label",children:"Capacity"})]}),(0,p.jsxs)(d.kvh,{sx:{display:"flex",flexFlow:"column"},children:[(0,p.jsx)("div",{className:"info-value",children:(0,m.U7)(t.usedSpace?t.usedSpace.toString():"0")}),(0,p.jsx)("label",{className:"info-label",children:"Used"})]}),(0,p.jsxs)(d.kvh,{sx:{display:"flex",flexFlow:"column"},children:[(0,p.jsx)("div",{className:"info-value",children:(0,m.U7)(t.availableSpace?t.availableSpace.toString():"0")}),(0,p.jsx)("label",{className:"info-label",children:"Available"})]})]})]})]})})},Ye=e=>{let{data:t}=e;const[i,a]=n.useState(t.length>1?"":t[0].endpoint+"-0"),l=e=>{a(e)};return(0,p.jsxs)(d.kvh,{children:[(0,p.jsxs)(d.kvh,{sx:{fontSize:18,lineHeight:2,fontWeight:700},children:["Servers (",t.length,")"]}),(0,p.jsx)(d.kvh,{children:t.map(((e,t)=>{var n,a;const o="".concat(e.endpoint,"-").concat(t),s=i===o;return(0,p.jsxs)(d.G73,{expanded:s,onTitleClick:()=>{l(s?"":o)},id:"key",title:(0,p.jsx)(Ve,{server:e,index:t}),sx:{marginBottom:15},children:[(0,p.jsxs)(d.kvh,{useBackground:!0,sx:{padding:"10px 30px",fontWeight:"bold"},children:["Drives (",null===(n=e.drives)||void 0===n?void 0:n.length,")"]}),(0,p.jsx)(d.kvh,{sx:{flex:1,display:"flex",flexDirection:"column",padding:"15px 30px",gap:15,["@media (max-width: ".concat(d.WQo.sm,"px)")]:{padding:"10px 10px"}},children:null===(a=e.drives)||void 0===a?void 0:a.map(((e,t)=>(0,p.jsx)(qe,{drive:e},"".concat(e.endpoint,"-").concat(t))))})]},o)}))})]})},Ze=w.cp.div((e=>{let{theme:t}=e;return{fontFamily:"Inter,sans-serif",color:x()(t,"signalColors.main","#07193E"),maxWidth:"300px",display:"flex",marginLeft:"auto",marginRight:"auto",cursor:"default",position:"relative",width:"100%"}})),$e=e=>{let{counterValue:t,label:i="",icon:n=null,actions:a=null}=e;return(0,p.jsx)(Ze,{children:(0,p.jsxs)(d.kvh,{sx:{flex:1,display:"flex",width:"100%",padding:"0 8px 0 8px",position:"absolute",["@media (max-width: ".concat(d.WQo.md,"px)")]:{padding:"0 10px 0 10px"}},children:[(0,p.jsxs)(d.kvh,{sx:{flex:1,display:"flex",flexFlow:"column",marginTop:"8px",zIndex:10,overflow:"hidden"},children:[(0,p.jsx)(d.kvh,{sx:{fontSize:"16px",fontWeight:600},children:i}),(0,p.jsx)(d.o5h,{tooltip:t,placement:"bottom",children:(0,p.jsx)(d.kvh,{sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",maxWidth:187,flexFlow:"row",fontSize:t.toString().length>=5?50:55,["@media (max-width: ".concat(d.WQo.sm,"px)")]:{flexFlow:"column",maxWidth:200,fontSize:t.toString().length>=5?20:35},["@media (max-width: ".concat(d.WQo.md,"px)")]:{fontSize:t.toString().length>=5?28:35},["@media (max-width: ".concat(d.WQo.lg,"px)")]:{fontSize:t.toString().length>=5?28:36},["@media (max-width: ".concat(d.WQo.xl,"px)")]:{fontSize:t.toString().length>=5?45:50}},children:t})})]}),(0,p.jsxs)(d.kvh,{sx:{display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"flex-start",marginTop:"8px",maxWidth:"26px","& .min-icon":{width:"16px",height:"16px"}},children:[n,(0,p.jsx)(d.kvh,{sx:{display:"flex"},children:a})]})]})})};var Je=i(34204),Xe=i(21124),et=i(84612);const tt=e=>{let{children:t}=e;return(0,p.jsx)(d.kvh,{withBorders:!0,sx:{padding:15,height:"136px",maxWidth:"100%",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{padding:5,maxWidth:"initial"}},children:t})},it=e=>{var t,i,n,a,l,o,s,r,c,x;let{usage:h}=e;const g=h&&h.usage?h.usage.toString():"0",u=(e=>void 0===e?{total:"0",unit:"Mi"}:(0,m.UH)(e))(g),{lastScan:f="n/a",lastHeal:v="n/a",upTime:j="n/a"}={},y=(e=>e&&e.servers?[...e.servers].sort((function(e,t){var i,n;const a=(null===(i=e.endpoint)||void 0===i?void 0:i.toLowerCase())||"",l=(null===(n=t.endpoint)||void 0===n?void 0:n.toLowerCase())||"";return a<l?-1:a>l?1:0})):[])(h);let C=[];y.forEach((e=>{var t;const i=null===(t=e.drives)||void 0===t?void 0:t.map((e=>e));i&&(C=[...C,...i])}));const w=_e()(y,"state"),{offline:b=[],online:k=[]}=w,S=_e()(C,"state"),{offline:T=[],ok:W=[]}=S;return(0,p.jsx)(d.kvh,{children:(0,p.jsxs)(d.kvh,{sx:{display:"grid",gridTemplateRows:"1fr",gridTemplateColumns:"1fr",gap:27,marginBottom:40},children:[(0,p.jsxs)(d.kvh,{sx:{display:"grid",gridTemplateColumns:"1fr",gap:"40px"},children:[(0,p.jsxs)(d.kvh,{sx:{display:"grid",gridTemplateRows:"136px",gridTemplateColumns:"1fr 1fr 1fr",gap:20,["@media (max-width: ".concat(d.WQo.sm,"px)")]:{gridTemplateColumns:"1fr"},["@media (max-width: ".concat(d.WQo.md,"px)")]:{marginBottom:0}},children:[(0,p.jsx)(tt,{children:(0,p.jsx)($e,{label:"Buckets",icon:(0,p.jsx)(d.Gme,{}),counterValue:h?(0,m.Mx)(h.buckets):0,actions:(0,p.jsx)(we.cH,{to:Xe.Ks.BUCKETS,style:{zIndex:3,textDecoration:"none",top:"40px",position:"relative",marginRight:"75px"},children:(0,p.jsx)(et.c,{tooltip:"Browse",children:(0,p.jsx)(d.qaq,{id:"browse-dashboard",onClick:()=>{},label:"Browse",icon:(0,p.jsx)(d.GU$,{}),variant:"regular",style:{padding:5,height:30,fontSize:14,marginTop:20}})})})})}),(0,p.jsx)(tt,{children:(0,p.jsx)($e,{label:"Objects",icon:(0,p.jsx)(d.SIH,{}),counterValue:h?(0,m.Mx)(h.objects):0})}),(0,p.jsx)(tt,{children:(0,p.jsx)(Ue.c,{onlineCount:k.length,offlineCount:b.length,label:"Servers",icon:(0,p.jsx)(d.Yh7,{})})}),(0,p.jsx)(tt,{children:(0,p.jsx)(Ue.c,{offlineCount:(null===h||void 0===h||null===(t=h.backend)||void 0===t?void 0:t.offlineDrives)||T.length,onlineCount:(null===h||void 0===h||null===(i=h.backend)||void 0===i?void 0:i.onlineDrives)||W.length,label:"Drives",icon:(0,p.jsx)(d.orE,{})})}),(0,p.jsxs)(d.kvh,{withBorders:!0,sx:{gridRowStart:"1",gridRowEnd:"3",gridColumnStart:"3",padding:15,display:"grid",justifyContent:"stretch"},children:[(0,p.jsx)(Je.c,{usageValue:g,total:u.total,unit:u.unit}),(0,p.jsxs)(d.kvh,{sx:{display:"flex",flexFlow:"column",gap:"14px"},children:[(0,p.jsx)(de,{icon:(0,p.jsx)(d.ySO,{}),label:(0,p.jsxs)(d.kvh,{children:[(0,p.jsx)(d.kvh,{sx:{display:"inline",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{display:"none"}},children:"Time since last"})," ","Heal Activity"]}),value:v}),(0,p.jsx)(de,{icon:(0,p.jsx)(d.aWZ,{}),label:(0,p.jsxs)(d.kvh,{children:[(0,p.jsx)(d.kvh,{sx:{display:"inline",["@media (max-width: ".concat(d.WQo.sm,"px)")]:{display:"none"}},children:"Time since last"})," ","Scan Activity"]}),value:f}),(0,p.jsx)(de,{icon:(0,p.jsx)(d.gN2,{}),label:"Uptime",value:j})]})]})]}),(0,p.jsxs)(d.kvh,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"14px",["@media (max-width: ".concat(d.WQo.lg,"px)")]:{gridTemplateColumns:"1fr"}},children:[(0,p.jsx)(de,{icon:(0,p.jsx)(d.Qnt,{}),label:"Backend type",value:null!==(n=null===h||void 0===h||null===(a=h.backend)||void 0===a?void 0:a.backendType)&&void 0!==n?n:"Unknown"}),(0,p.jsx)(de,{icon:(0,p.jsx)(d.SD5,{}),label:"Standard storage class parity",value:null!==(l=null===h||void 0===h||null===(o=h.backend)||void 0===o||null===(s=o.standardSCParity)||void 0===s?void 0:s.toString())&&void 0!==l?l:"n/a"}),(0,p.jsx)(de,{icon:(0,p.jsx)(d.SD5,{}),label:"Reduced redundancy storage class parity",value:null!==(r=null===h||void 0===h||null===(c=h.backend)||void 0===c||null===(x=c.rrSCParity)||void 0===x?void 0:x.toString())&&void 0!==r?r:"n/a"})]}),(0,p.jsx)(d.kvh,{sx:{display:"grid",gridTemplateRows:"auto",gridTemplateColumns:"1fr",gap:"auto"},children:(0,p.jsx)(Ye,{data:y})})]}),"not configured"===(null===h||void 0===h?void 0:h.advancedMetricsStatus)&&(0,p.jsx)(d.kvh,{children:(0,p.jsx)(d.g1k,{iconComponent:(0,p.jsx)(d.wk_,{}),title:"We can\u2019t retrieve advanced metrics at this time.",help:(0,p.jsxs)(d.kvh,{children:[(0,p.jsx)(d.kvh,{sx:{fontSize:"14px"},children:"MinIO Dashboard will display basic metrics as we couldn\u2019t connect to Prometheus successfully. Please try again in a few minutes. If the problem persists, you can review your configuration and confirm that Prometheus server is up and running."}),(0,p.jsx)(d.kvh,{sx:{paddingTop:20,fontSize:14},children:(0,p.jsx)("a",{href:"https://min.io/docs/minio/linux/operations/monitoring/collect-minio-metrics-using-prometheus.html",target:"_blank",rel:"noopener",children:"Read more about Prometheus on our Docs site."})})]})})})]})})},nt=e=>{let{apiPrefix:t="admin",usage:i}=e;const a=(0,l.Ab)(),r=(0,l.Cq)((e=>e.dashboard.status)),c=(0,l.Cq)((e=>e.dashboard.zoom.openZoom)),x=(0,l.Cq)((e=>e.dashboard.zoom.widgetRender)),h=(0,l.Cq)(s.qS),m=!(null===h||void 0===h||!h.includes("object-browser-only"));let g=!1;(null!==h&&void 0!==h&&h.includes("hide-menu")||m)&&(g=!0);const[u,f]=(0,n.useState)(null),[j,y]=(0,n.useState)(null),C=v,[w,b]=(0,n.useState)("info"),k=e=>e.reduce(((e,i,a)=>{const{columns:l=[]}=i,o=l.map(((e,i)=>{var l;return((e,i)=>(0,p.jsx)(n.Fragment,{children:e?(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(d.kvh,{children:e.mergedPanels?(0,p.jsx)(De,{info:e,timeStart:u,timeEnd:j,loading:!0,apiPrefix:t}):me(e,u,j,!0,t,c)})}):null},"widget-".concat(i)))((l=e.componentId,C.find((e=>e.id===l))),"".concat(a,"-").concat(i))}));return[...e,(0,p.jsx)(d.kvh,{sx:i.sx,children:o},"layout-row-".concat(a))]}),[]),S="not configured"===(null===i||void 0===i?void 0:i.advancedMetricsStatus),T=(0,p.jsx)(d.kvh,{sx:{marginBottom:20},children:"info"===w?(0,p.jsxs)(d.yeN,{container:!0,children:[(0,p.jsx)(d.yeN,{item:!0,children:(0,p.jsx)(d.kvh,{sx:{fontSize:18,lineHeight:2,fontWeight:700},children:"Server Information"})}),(0,p.jsx)(d.yeN,{item:!0,xs:!0,children:(0,p.jsx)(d.yeN,{container:!0,direction:"row-reverse",children:(0,p.jsx)(d.yeN,{item:!0,children:(0,p.jsx)(d.qaq,{id:"sync",type:"button",variant:"callAction",onClick:()=>{a((0,o.Q)())},disabled:"loading"===r,icon:(0,p.jsx)(d.OOf,{}),label:"Sync"})})})})]}):(0,p.jsx)(Ce.c,{timeStart:u,setTimeStart:f,timeEnd:j,setTimeEnd:y,triggerSync:()=>{a((0,A.wF)())}})});let W=[{tabConfig:{label:"Info",id:"info",disabled:!1},content:(0,p.jsxs)(n.Fragment,{children:[(!i||"loading"===r)&&(0,p.jsx)(d.cHM,{}),i&&"idle"===r&&(0,p.jsxs)(n.Fragment,{children:[T,(0,p.jsx)(it,{usage:i})]})]})},...[{tabConfig:{label:"Usage",id:"usage",disabled:S},content:(0,p.jsxs)(n.Fragment,{children:[T,(0,p.jsxs)(ve,{children:["unavailable"===(null===i||void 0===i?void 0:i.advancedMetricsStatus)&&(0,p.jsx)(d.g1k,{iconComponent:(0,p.jsx)(d.wk_,{}),title:"We can\u2019t retrieve advanced metrics at this time.",help:(0,p.jsx)(d.kvh,{sx:{fontSize:"14px"},children:"It looks like Prometheus is not available or reachable at the moment."})}),C.length?k(pe):null]})]})},{tabConfig:{label:"Traffic",id:"traffic",disabled:S},content:(0,p.jsxs)(n.Fragment,{children:[T,(0,p.jsxs)(ve,{children:["unavailable"===(null===i||void 0===i?void 0:i.advancedMetricsStatus)&&(0,p.jsx)(d.g1k,{iconComponent:(0,p.jsx)(d.wk_,{}),title:"We can\u2019t retrieve advanced metrics at this time.",help:(0,p.jsx)(d.kvh,{sx:{fontSize:"14px"},children:"It looks like Prometheus is not available or reachable at the moment."})}),C.length?k(ge):null]})]})},{tabConfig:{label:"Resources",id:"resources",disabled:S},content:(0,p.jsxs)(n.Fragment,{children:[T,(0,p.jsxs)(ve,{children:["unavailable"===(null===i||void 0===i?void 0:i.advancedMetricsStatus)&&(0,p.jsx)(d.g1k,{iconComponent:(0,p.jsx)(d.wk_,{}),title:"We can\u2019t retrieve advanced metrics at this time.",help:(0,p.jsx)(d.kvh,{sx:{fontSize:"14px"},children:"It looks like Prometheus is not available or reachable at the moment."})}),C.length?k(ue):null,(0,p.jsx)("h2",{style:{margin:0,borderBottom:"1px solid #dedede"},children:"Advanced"}),C.length?k(fe):null]})]})}]];return(0,p.jsxs)(d._al,{sx:{padding:g?0:"2rem"},children:[c&&(0,p.jsx)(ye,{modalOpen:c,timeStart:u,timeEnd:j,widgetRender:0,value:x,apiPrefix:t}),(0,p.jsx)(d.kZJ,{horizontal:!0,options:W,currentTabOrPath:w,onTabClick:e=>{b(e)}})]})};var at=i(3428),lt=i(48504);const ot=()=>{const e=(0,l.Ab)(),[t,i]=(0,n.useState)(!1),d=(0,a.w1)((e=>e.dashboard.usage)),c=(0,a.w1)(s.qS),x=!(null===c||void 0===c||!c.includes("object-browser-only"));let h=!1;return(null!==c&&void 0!==c&&c.includes("hide-menu")||x)&&(h=!0),(0,n.useEffect)((()=>{t||(i(!0),e((0,o.Q)()))}),[t,e]),(0,n.useEffect)((()=>{e((0,r.i8)("metrics"))}),[e]),(0,p.jsxs)(n.Fragment,{children:[!h&&(0,p.jsx)(at.c,{label:"Metrics",actions:(0,p.jsx)(lt.c,{})}),(0,p.jsx)(nt,{usage:d})]})}}}]);
//# sourceMappingURL=9352.1ae2bf88.chunk.js.map