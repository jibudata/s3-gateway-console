"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[428],{428:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var s=n(69060),i=n(58564),o=n.n(i),r=n(19536),c=n(51560),a=n(66152),l=n(61180),d=n(78256),u=n(3992),b=n(21124),m=n(95705),h=n(2432),x=n(66156),p=n(99748),f=n(84612),j=n(82496);const S=(0,p.c)(s.lazy((()=>n.e(6536).then(n.bind(n,96536))))),k=(0,p.c)(s.lazy((()=>n.e(968).then(n.bind(n,50968))))),E=()=>{const e=(0,x.Ab)(),t=(0,c.W4)(),n=(0,r.w1)(h.qO),[i,p]=(0,s.useState)(!1),[E,O]=(0,s.useState)(!0),[_,v]=(0,s.useState)([]),[N,T]=(0,s.useState)(!1),[I,C]=(0,s.useState)(null),g=t.bucketName||"",A=(0,u.i)(g,[b.Oi.S3_GET_BUCKET_NOTIFICATIONS,b.Oi.S3_GET_ACTIONS]);(0,s.useEffect)((()=>{n&&O(!0)}),[n,O]),(0,s.useEffect)((()=>{e((0,m.i8)("bucket_detail_events"))}),[]),(0,s.useEffect)((()=>{E&&(A?l.m.buckets.listBucketEvents(g).then((e=>{const t=o()(e.data,"events",[]);O(!1),v(t||[])})).catch((t=>{O(!1),e((0,m.aW)((0,d.K)(t.error)))})):O(!1))}),[E,e,g,A]);const y=[{type:"delete",onClick:e=>{T(!0),C(e)}}];return(0,j.jsxs)(s.Fragment,{children:[N&&(0,j.jsx)(S,{deleteOpen:N,selectedBucket:g,bucketEvent:I,closeDeleteModalAndRefresh:e=>{T(!1),e&&O(!0)}}),i&&(0,j.jsx)(k,{open:i,selectedBucket:g,closeModalAndRefresh:()=>{p(!1),O(!0)}}),(0,j.jsx)(a.eCc,{separator:!0,sx:{marginBottom:15},actions:(0,j.jsx)(u.K,{scopes:[b.Oi.S3_PUT_BUCKET_NOTIFICATIONS,b.Oi.S3_PUT_ACTIONS,b.Oi.ADMIN_SERVER_INFO],resource:g,matchAll:!0,errorProps:{disabled:!0},children:(0,j.jsx)(f.c,{tooltip:"Subscribe to Event",children:(0,j.jsx)(a.qaq,{id:"Subscribe-bucket-event",onClick:()=>{p(!0)},label:"Subscribe to Event",icon:(0,j.jsx)(a.EgV,{}),variant:"callAction"})})}),children:(0,j.jsx)(a.M5Y,{content:(0,j.jsxs)(s.Fragment,{children:["MinIO"," ",(0,j.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/monitoring.html",children:"bucket notifications"})," ","allow administrators to send notifications to supported external services on certain object or bucket events."]}),placement:"right",children:"Events"})}),(0,j.jsxs)(a.yeN,{container:!0,children:[(0,j.jsx)(a.yeN,{item:!0,xs:12,children:(0,j.jsx)(u.K,{scopes:[b.Oi.S3_GET_BUCKET_NOTIFICATIONS,b.Oi.S3_GET_ACTIONS],resource:g,errorProps:{disabled:!0},children:(0,j.jsx)(a.iSL,{itemActions:y,columns:[{label:"SQS",elementKey:"arn"},{label:"Events",elementKey:"events",renderFunction:e=>{if(!e)return"other";const t=e.reduce(((e,t)=>e.includes(t)?e:[...e,t]),[]);return(0,j.jsx)(s.Fragment,{children:t.join(", ")})}},{label:"Prefix",elementKey:"prefix"},{label:"Suffix",elementKey:"suffix"}],isLoading:E,records:_,entityName:"Events",idField:"id",customPaperHeight:"400px"})})}),!E&&(0,j.jsxs)(a.yeN,{item:!0,xs:12,children:[(0,j.jsx)("br",{}),(0,j.jsx)(a.g1k,{title:"Event Notifications",iconComponent:(0,j.jsx)(a.sPV,{}),help:(0,j.jsxs)(s.Fragment,{children:["MinIO bucket notifications allow administrators to send notifications to supported external services on certain object or bucket events. MinIO supports bucket and object-level S3 events similar to the Amazon S3 Event Notifications.",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),"You can learn more at our"," ",(0,j.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/monitoring/bucket-notifications.html?ref=con",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})]})]})]})}}}]);
//# sourceMappingURL=428.2172e82f.chunk.js.map