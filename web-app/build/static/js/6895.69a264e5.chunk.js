"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6895],{66895:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var n=s(72791),i=s(57689),c=s(29945),a=s(78687),l=s(56087),o=s(38442),r=s(75578),d=s(87995),b=s(9859),u=s(44690),_=s(27454),T=s(79844),x=s(31776),h=s(82342),C=s(99670),I=s(80184);const j=(0,r.Z)(n.lazy((()=>s.e(9968).then(s.bind(s,39968))))),F=(0,r.Z)(n.lazy((()=>s.e(7494).then(s.bind(s,47494))))),S=(0,r.Z)(n.lazy((()=>s.e(4738).then(s.bind(s,84738))))),E=(0,r.Z)(n.lazy((()=>s.e(3989).then(s.bind(s,93989))))),m=(0,r.Z)(n.lazy((()=>s.e(5702).then(s.bind(s,25702))))),f=(0,r.Z)(n.lazy((()=>s.e(5759).then(s.bind(s,85759))))),p=(0,r.Z)(n.lazy((()=>s.e(51).then(s.bind(s,51))))),O=()=>{var e;const t=(0,u.TL)(),s=(0,i.s0)(),r=(0,i.UO)(),O=(0,i.TH)(),k=(0,a.v9)(d.N5),A=(0,a.v9)(b.HQ),N=(0,a.v9)(b.G6),y=(0,a.v9)(d.gw),[g,U]=(0,n.useState)(!1),[v,L]=(0,n.useState)(!1),B=r.bucketName||"",G=(0,o.F)(B,l.o3),R=(0,o.F)(B,l.B);(0,n.useEffect)((()=>{t((0,d.Sc)("bucket_details"))}),[]),(0,n.useEffect)((()=>{g||(t((0,b.d5)(!0)),U(!0))}),[g,t,U]),(0,n.useEffect)((()=>{A&&x.h.buckets.bucketInfo(B).then((e=>{t((0,b.d5)(!1)),t((0,b.f4)(e.data))})).catch((e=>{t((0,b.d5)(!1)),t((0,d.Ih)((0,h.g)(e)))}))}),[B,A,t]);let w="/buckets/".concat(B);const P={events:"/admin/events",replication:"/admin/replication",lifecycle:"/admin/lifecycle",access:"/admin/access",prefix:"/admin/prefix"},z=e=>{let t=P[e];return t=t?"".concat(w).concat(t):"".concat(w).concat("/admin/summary"),t};return(0,I.jsxs)(n.Fragment,{children:[v&&(0,I.jsx)(j,{deleteOpen:v,selectedBucket:B,closeDeleteModalAndRefresh:e=>{(e=>{L(!1),e&&s("/buckets")})(e)}}),(0,I.jsx)(T.Z,{label:(0,I.jsx)(c.hbI,{label:"Buckets",onClick:()=>s("/buckets")}),actions:(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(_.Z,{tooltip:R?"Browse Bucket":(0,l.MK)(l.D[l.EI.BUCKET_VIEWER],"browsing this bucket"),children:(0,I.jsx)(c.zxk,{id:"switch-browse-view","aria-label":"Browse Bucket",onClick:()=>{s("/browser/".concat(B))},icon:(0,I.jsx)(c.ROc,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"},disabled:!R})}),(0,I.jsx)(C.Z,{})]})}),(0,I.jsxs)(c.Xgh,{children:[(0,I.jsx)(c.UHn,{icon:(0,I.jsx)(n.Fragment,{children:(0,I.jsx)(c.wNb,{width:40})}),title:B,subTitle:(0,I.jsxs)(o.s,{scopes:[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS],resource:B,children:[(0,I.jsx)("span",{style:{fontSize:15},children:"Access: "}),(0,I.jsx)("span",{style:{fontWeight:600,fontSize:15,textTransform:"capitalize"},children:null===N||void 0===N||null===(e=N.access)||void 0===e?void 0:e.toLowerCase()})]}),actions:(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(o.s,{scopes:l.o3,resource:B,errorProps:{disabled:!0},children:(0,I.jsx)(_.Z,{tooltip:G?"":(0,l.MK)([l.Ft.S3_DELETE_BUCKET,l.Ft.S3_FORCE_DELETE_BUCKET],"deleting this bucket"),children:(0,I.jsx)(c.zxk,{id:"delete-bucket-button",onClick:()=>{L(!0)},label:"Delete Bucket",icon:(0,I.jsx)(c.XHJ,{}),variant:"secondary",disabled:!G})})}),(0,I.jsx)(c.zxk,{id:"refresh-bucket-info",onClick:()=>{t((0,b.d5)(!0))},label:"Refresh",icon:(0,I.jsx)(c.DuK,{})})]}),sx:{marginBottom:15}}),(0,I.jsx)(c.xuv,{children:(0,I.jsx)(c.mQc,{currentTabOrPath:O.pathname,useRouteTabs:!0,onTabClick:e=>{s(e)},options:[{tabConfig:{label:"Summary",id:"summary",to:z("summary")}},{tabConfig:{label:"Events",id:"events",disabled:!(0,o.F)(B,[l.Ft.S3_GET_BUCKET_NOTIFICATIONS,l.Ft.S3_PUT_BUCKET_NOTIFICATIONS,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),to:z("events")}},{tabConfig:{label:"Replication",id:"replication",disabled:!k||y.enabled&&y.curSite||!(0,o.F)(B,[l.Ft.S3_GET_REPLICATION_CONFIGURATION,l.Ft.S3_PUT_REPLICATION_CONFIGURATION,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),to:z("replication")}},{tabConfig:{label:"Lifecycle",id:"lifecycle",disabled:!k||!(0,o.F)(B,[l.Ft.S3_GET_LIFECYCLE_CONFIGURATION,l.Ft.S3_PUT_LIFECYCLE_CONFIGURATION,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),to:z("lifecycle")}},{tabConfig:{label:"Access",id:"access",disabled:!(0,o.F)(B,[l.Ft.ADMIN_GET_POLICY,l.Ft.ADMIN_LIST_USER_POLICIES,l.Ft.ADMIN_LIST_USERS]),to:z("access")}},{tabConfig:{label:"Anonymous",id:"anonymous",disabled:!(0,o.F)(B,[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS]),to:z("prefix")}}],routes:(0,I.jsxs)(i.Z5,{children:[(0,I.jsx)(i.AW,{path:"summary",element:(0,I.jsx)(E,{})}),(0,I.jsx)(i.AW,{path:"events",element:(0,I.jsx)(m,{})}),k&&(0,I.jsx)(i.AW,{path:"replication",element:(0,I.jsx)(f,{})}),k&&(0,I.jsx)(i.AW,{path:"lifecycle",element:(0,I.jsx)(p,{})}),(0,I.jsx)(i.AW,{path:"access",element:(0,I.jsx)(S,{})}),(0,I.jsx)(i.AW,{path:"prefix",element:(0,I.jsx)(F,{})}),(0,I.jsx)(i.AW,{path:"*",element:(0,I.jsx)(i.Fg,{to:"/buckets/".concat(B,"/admin/summary")})})]})})})]})]})}},75578:(e,t,s)=>{s.d(t,{Z:()=>c});var n=s(72791),i=s(80184);const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(s){return(0,i.jsx)(n.Suspense,{fallback:t,children:(0,i.jsx)(e,{...s})})}}}}]);
//# sourceMappingURL=6895.69a264e5.chunk.js.map