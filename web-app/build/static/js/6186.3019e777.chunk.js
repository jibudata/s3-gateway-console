"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[6186],{46186:(e,s,t)=>{t.r(s),t.d(s,{default:()=>U});var i=t(69060),n=t(58564),l=t.n(n),a=t(19536),r=t(51560),c=t(61180),o=t(78256),d=t(66152),u=t(61628),x=t(21124),h=t(3992),m=t(95705),p=t(2432),j=t(66156),f=t(96168),b=t(82496);const g=e=>{var s,t;let{versioningState:i={}}=e;return(0,b.jsxs)(d.kvh,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,b.jsx)(d.kvh,{sx:{fontWeight:"medium",display:"flex",gap:2},children:i.excludeFolders?(0,b.jsx)(f.c,{icon:i.excludeFolders?(0,b.jsx)(d.kG7,{style:{color:"green"}}):(0,b.jsx)(d.U_2,{}),label:(0,b.jsx)("label",{style:{textDecoration:"normal"},children:"Exclude Folders"})}):null}),null!==(s=i.excludedPrefixes)&&void 0!==s&&s.length?(0,b.jsxs)(d.kvh,{sx:{fontWeight:"medium",display:"flex",justifyItems:"end",placeItems:"flex-start",flexDirection:"column",gap:1},children:[(0,b.jsx)(d.kvh,{children:"Excluded Prefixes :"}),(0,b.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto",placeItems:"flex-start",justifyItems:"end",flexDirection:"column",display:"flex"},children:null===(t=i.excludedPrefixes)||void 0===t?void 0:t.map((e=>(0,b.jsx)("div",{children:(0,b.jsx)("strong",{children:e.prefix})})))})]}):null]})};var S=t(99748);const T=e=>{let{disabled:s,onClick:t,...i}=e;return(0,b.jsx)(d.wPi,{size:"small",disabled:s,onClick:t,...i,children:(0,b.jsx)(d.UZg,{})})},_=e=>{let{resourceName:s,iamScopes:t,secureCmpProps:i={},children:n}=e;return(0,b.jsx)(h.K,{scopes:t,resource:s,errorProps:{disabled:!0},...i,children:n})},O=e=>{let{isLoading:s=!0,resourceName:t="",iamScopes:i,secureCmpProps:n={},property:l=null,value:a=null,onEdit:r,disabled:c=!1,helpTip:o}=e;return(0,b.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"baseline",justifyContent:"flex-start",gap:10},children:[(0,b.jsx)(d.GA5,{label:l,value:o?(0,b.jsx)(_,{resourceName:t,iamScopes:i,secureCmpProps:n,children:(0,b.jsx)(d.M5Y,{placement:"left",content:o,children:(0,b.jsx)(d.GYA,{isLoading:s,onClick:r,label:a,sx:{fontWeight:"bold"},disabled:c})})}):(0,b.jsx)(_,{resourceName:t,iamScopes:i,secureCmpProps:n,children:(0,b.jsx)(d.GYA,{isLoading:s,onClick:r,label:a,sx:{fontWeight:"bold"},disabled:c})})}),(0,b.jsx)(_,{resourceName:t,iamScopes:i,secureCmpProps:n,children:(0,b.jsx)(T,{onClick:r,sx:{background:"#f8f8f8",marginLeft:"3px",top:3,"& .min-icon":{width:"16px",height:"16px"}},disabled:c})})]})};var E=t(61060);const k=e=>{let{bucketSize:s}=e;return(0,b.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"center","& .min-icon":{height:37,width:37}},children:[(0,b.jsx)(d.a4W,{}),(0,b.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",flexFlow:"column",marginLeft:"20px",fontSize:"19px"},children:[(0,b.jsx)("label",{style:{fontWeight:600},children:"Reported Usage:"}),(0,b.jsx)("label",{children:(0,E.U7)(s)})]})]})},y=e=>{let{quota:s}=e;return(0,b.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"center","& .min-icon":{height:37,width:37}},children:[(0,b.jsx)(d.use,{}),(0,b.jsxs)(d.kvh,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",flexFlow:"column",marginLeft:"20px",fontSize:"19px"},children:[(0,b.jsxs)("label",{style:{fontWeight:600,textTransform:"capitalize"},children:[null===s||void 0===s?void 0:s.type," Quota"]}),(0,b.jsxs)("label",{children:[" ",(0,E.U7)("".concat(null===s||void 0===s?void 0:s.quota),!0)]})]})]})},v=(0,S.c)(i.lazy((()=>t.e(4844).then(t.bind(t,64844))))),C=(0,S.c)(i.lazy((()=>t.e(6292).then(t.bind(t,16292))))),N=(0,S.c)(i.lazy((()=>t.e(7264).then(t.bind(t,57264))))),I=(0,S.c)(i.lazy((()=>t.e(5084).then(t.bind(t,25084))))),A=(0,S.c)(i.lazy((()=>t.e(4528).then(t.bind(t,94528))))),G=(0,S.c)(i.lazy((()=>t.e(9892).then(t.bind(t,79892))))),U=()=>{var e;const s=(0,j.Ab)(),t=(0,r.W4)(),n=(0,a.w1)(p.qO),S=(0,a.w1)(p.yi),T=(0,a.w1)(m.wB),[_,E]=(0,i.useState)(null),[U,B]=(0,i.useState)("0"),[K,w]=(0,i.useState)(!1),[P,R]=(0,i.useState)(!1),[L,M]=(0,i.useState)(!1),[z,D]=(0,i.useState)(!0),[F,W]=(0,i.useState)(!0),[Y,q]=(0,i.useState)(!0),[V,Q]=(0,i.useState)(!0),[X,J]=(0,i.useState)(!0),[H,Z]=(0,i.useState)(!0),[$,ee]=(0,i.useState)(!0),[se,te]=(0,i.useState)(!0),[ie,ne]=(0,i.useState)(),[le,ae]=(0,i.useState)(!1),[re,ce]=(0,i.useState)(null),[oe,de]=(0,i.useState)(!1),[ue,xe]=(0,i.useState)(!1),[he,me]=(0,i.useState)(null),[pe,je]=(0,i.useState)(!1),[fe,be]=(0,i.useState)(!1),[ge,Se]=(0,i.useState)(!1),[Te,_e]=(0,i.useState)(!1);(0,i.useEffect)((()=>{s((0,m.i8)("bucket_detail_summary"))}),[]);const Oe=t.bucketName||"";let Ee="n/a",ke="";null!==S&&S.access&&S.definition&&(Ee=S.access,ke=S.definition);const ye=(0,h.i)(Oe,[x.Oi.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION,x.Oi.S3_GET_ACTIONS]),ve=(0,h.i)(Oe,[x.Oi.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,x.Oi.S3_GET_ACTIONS]),Ce=(0,h.i)(Oe,[x.Oi.ADMIN_GET_BUCKET_QUOTA]);(0,i.useEffect)((()=>{q(!!n)}),[n,q]),(0,i.useEffect)((()=>{V&&(ve?c.m.buckets.getBucketEncryptionInfo(Oe).then((e=>{e.data.algorithm&&(de(!0),E(e.data)),Q(!1)})).catch((e=>{"The server side encryption configuration was not found"===(e=(0,o.K)(e.error)).errorMessage&&(de(!1),E(null)),Q(!1)})):(de(!1),E(null),Q(!1)))}),[V,Oe,ve]),(0,i.useEffect)((()=>{X&&T&&c.m.buckets.getBucketVersioning(Oe).then((e=>{ne(e.data),J(!1)})).catch((e=>{s((0,m.aW)((0,o.K)(e.error))),J(!1)}))}),[X,s,Oe,T]),(0,i.useEffect)((()=>{H&&T&&(Ce?c.m.buckets.getBucketQuota(Oe).then((e=>{ce(e.data),e.data.quota?ae(!0):ae(!1),Z(!1)})).catch((e=>{s((0,m.aW)((0,o.K)(e.error))),ae(!1),Z(!1)})):(ae(!1),Z(!1)))}),[H,J,s,Oe,T,Ce]),(0,i.useEffect)((()=>{X&&T&&(ye?c.m.buckets.getBucketObjectLockingStatus(Oe).then((e=>{w(e.data.object_locking_enabled),D(!1)})).catch((e=>{s((0,m.aW)((0,o.K)(e.error))),D(!1)})):D(!1))}),[z,s,Oe,X,T,ye]),(0,i.useEffect)((()=>{F&&c.m.buckets.listBuckets().then((e=>{const s=l()(e.data,"buckets",[]).find((e=>e.name===Oe)),t=l()(s,"size","0");W(!1),B(t)})).catch((e=>{W(!1),s((0,m.aW)((0,o.K)(e.error)))}))}),[F,s,Oe]),(0,i.useEffect)((()=>{$&&T&&c.m.buckets.getBucketReplication(Oe).then((e=>{const s=e.data.rules?e.data.rules:[];M(s.length>0),ee(!1)})).catch((e=>{s((0,m.aW)((0,o.K)(e.error))),ee(!1)}))}),[$,s,Oe,T]),(0,i.useEffect)((()=>{se&&K&&c.m.buckets.getBucketRetentionConfig(Oe).then((e=>{te(!1),xe(!0),me(e.data)})).catch((e=>{xe(!1),te(!1),me(null)}))}),[se,K,Oe]);const Ne=()=>{s((0,p.E3)(!0)),q(!0),W(!0),J(!0),Q(!0),te(!0)};let Ie=null===ie||void 0===ie?void 0:ie.status,Ae="Unversioned (Default)";return"Enabled"===Ie?Ae="Versioned":"Suspended"===Ie&&(Ae="Suspended"),(0,b.jsxs)(i.Fragment,{children:[fe&&(0,b.jsx)(N,{open:fe,selectedBucket:Oe,encryptionEnabled:oe,encryptionCfg:_,closeModalAndRefresh:()=>{be(!1),Q(!0)}}),ge&&(0,b.jsx)(G,{open:ge,selectedBucket:Oe,enabled:le,cfg:re,closeModalAndRefresh:()=>{Se(!1),Z(!0)}}),P&&(0,b.jsx)(v,{bucketName:Oe,open:P,actualPolicy:Ee,actualDefinition:ke,closeModalAndRefresh:()=>{R(!1),Ne()}}),pe&&(0,b.jsx)(C,{bucketName:Oe,open:pe,closeModalAndRefresh:()=>{je(!1),Ne()}}),Te&&(0,b.jsx)(I,{closeVersioningModalAndRefresh:e=>{_e(!1),e&&Ne()},modalOpen:Te,selectedBucket:Oe,versioningInfo:ie,objectLockingEnabled:!!K}),(0,b.jsx)(d.eCc,{separator:!0,sx:{marginBottom:15},children:"Summary"}),(0,b.jsxs)(d.yeN,{container:!0,children:[(0,b.jsx)(h.K,{scopes:[x.Oi.S3_GET_BUCKET_POLICY,x.Oi.S3_GET_ACTIONS],resource:Oe,children:(0,b.jsx)(d.yeN,{item:!0,xs:12,children:(0,b.jsxs)(d.kvh,{sx:u.AX,children:[(0,b.jsxs)(d.kvh,{sx:u.AX,children:[(0,b.jsx)(h.K,{scopes:[x.Oi.S3_GET_BUCKET_POLICY,x.Oi.S3_GET_ACTIONS],resource:Oe,children:(0,b.jsx)(O,{iamScopes:[x.Oi.S3_PUT_BUCKET_POLICY,x.Oi.S3_PUT_ACTIONS],resourceName:Oe,property:"Access Policy:",value:Ee.toLowerCase(),onEdit:()=>{R(!0)},isLoading:Y,helpTip:(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)("strong",{children:"Private"})," policy limits access to credentialled accounts with appropriate permissions",(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Public"})," policy anyone will be able to upload, download and delete files from this Bucket once logged in",(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Custom"})," policy can be written to define which accounts are authorized to access this Bucket",(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),"To allow Bucket access without credentials, use the"," ",(0,b.jsx)("a",{href:"/buckets/".concat(Oe,"/admin/prefix"),children:"Anonymous"})," ","setting"]})})}),(0,b.jsx)(h.K,{scopes:[x.Oi.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION,x.Oi.S3_GET_ACTIONS],resource:Oe,children:(0,b.jsx)(O,{iamScopes:[x.Oi.S3_PUT_BUCKET_ENCRYPTION_CONFIGURATION,x.Oi.S3_PUT_ACTIONS],resourceName:Oe,property:"Encryption:",value:oe?"Enabled":"Disabled",onEdit:()=>{be(!0)},isLoading:V,helpTip:(0,b.jsxs)(i.Fragment,{children:["MinIO supports enabling automatic"," ",(0,b.jsx)("a",{href:"https://min.io/docs/minio/kubernetes/upstream/administration/server-side-encryption/server-side-encryption-sse-kms.html",target:"blank",children:"SSE-KMS"})," ","and"," ",(0,b.jsx)("a",{href:"https://min.io/docs/minio/kubernetes/upstream/administration/server-side-encryption/server-side-encryption-sse-s3.html",target:"blank",children:"SSE-S3"})," ","encryption of all objects written to a bucket using a specific External Key (EK) stored on the external KMS."]})})}),(0,b.jsx)(h.K,{scopes:[x.Oi.S3_GET_REPLICATION_CONFIGURATION,x.Oi.S3_GET_ACTIONS],resource:Oe,children:(0,b.jsx)(d.GA5,{label:"Replication:",value:(0,b.jsx)(f.c,{icon:L?(0,b.jsx)(d.kG7,{}):(0,b.jsx)(d.U_2,{}),label:(0,b.jsx)("label",{className:"muted",children:L?"Enabled":"Disabled"})})})}),(0,b.jsx)(h.K,{scopes:[x.Oi.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION,x.Oi.S3_GET_ACTIONS],resource:Oe,children:(0,b.jsx)(d.GA5,{label:"Object Locking:",value:(0,b.jsx)(f.c,{icon:K?(0,b.jsx)(d.kG7,{}):(0,b.jsx)(d.U_2,{}),label:(0,b.jsx)("label",{className:"muted",children:K?"Enabled":"Disabled"})})})}),(0,b.jsx)(d.kvh,{children:(0,b.jsx)(d.GA5,{label:"Tags:",value:(0,b.jsx)(A,{bucketName:Oe})})}),(0,b.jsx)(O,{iamScopes:[x.Oi.ADMIN_SET_BUCKET_QUOTA],resourceName:Oe,property:"Quota:",value:le?"Enabled":"Disabled",onEdit:()=>{Se(!0)},isLoading:H,helpTip:(0,b.jsxs)(i.Fragment,{children:["Setting a"," ",(0,b.jsx)("a",{href:"https://min.io/docs/minio/linux/reference/minio-mc/mc-quota-set.html",target:"blank",children:"quota"})," ","assigns a hard limit to a bucket beyond which MinIO does not allow writes."]})})]}),(0,b.jsxs)(d.kvh,{sx:{display:"grid",gridTemplateColumns:"1fr",alignItems:"flex-start"},children:[(0,b.jsx)(k,{bucketSize:"".concat(U)}),le&&re?(0,b.jsx)(y,{quota:re}):null]})]})})}),T&&(0,b.jsx)(h.K,{scopes:[x.Oi.S3_GET_BUCKET_VERSIONING,x.Oi.S3_GET_ACTIONS],resource:Oe,children:(0,b.jsxs)(d.yeN,{item:!0,xs:12,sx:{marginTop:5},children:[(0,b.jsx)(d.eCc,{separator:!0,sx:{marginBottom:15},children:"Versioning"}),(0,b.jsx)(d.kvh,{sx:u.AX,children:(0,b.jsxs)(d.kvh,{sx:u.AX,children:[(0,b.jsx)(O,{iamScopes:[x.Oi.S3_PUT_BUCKET_VERSIONING,x.Oi.S3_PUT_ACTIONS],resourceName:Oe,property:"Current Status:",value:(0,b.jsx)(d.kvh,{sx:{display:"flex",flexDirection:"column",textDecorationStyle:"initial",placeItems:"flex-start",justifyItems:"flex-start",gap:3},children:(0,b.jsxs)("div",{children:[" ",Ae]})}),onEdit:()=>{_e(!0)},isLoading:X,disabled:K}),"Enabled"===(null===ie||void 0===ie?void 0:ie.status)?(0,b.jsx)(g,{versioningState:ie}):null]})})]})}),K&&(0,b.jsx)(h.K,{scopes:[x.Oi.S3_GET_OBJECT_RETENTION,x.Oi.S3_GET_ACTIONS],resource:Oe,children:(0,b.jsxs)(d.yeN,{item:!0,xs:12,sx:{marginTop:5},children:[(0,b.jsx)(d.eCc,{separator:!0,sx:{marginBottom:15},children:"Retention"}),(0,b.jsx)(d.kvh,{sx:u.AX,children:(0,b.jsxs)(d.kvh,{sx:u.AX,children:[(0,b.jsx)(O,{iamScopes:[x.Oi.ADMIN_SET_BUCKET_QUOTA],resourceName:Oe,property:"Retention:",value:ue?"Enabled":"Disabled",onEdit:()=>{je(!0)},isLoading:se,helpTip:(0,b.jsxs)(i.Fragment,{children:["MinIO"," ",(0,b.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/macos/administration/object-management.html#object-retention",children:"Object Locking"})," ","enforces Write-Once Read-Many (WORM) immutability to protect versioned objects from deletion."]})}),(0,b.jsx)(d.GA5,{label:"Mode:",value:(0,b.jsx)("label",{className:"muted",style:{textTransform:"capitalize"},children:he&&he.mode?he.mode:"-"})}),(0,b.jsx)(d.GA5,{label:"Validity:",value:(0,b.jsxs)("label",{className:"muted",style:{textTransform:"capitalize"},children:[he&&he.validity," ",he&&(1===he.validity?null===(e=he.unit)||void 0===e?void 0:e.slice(0,-1):he.unit)]})})]})})]})})]})]})}},96168:(e,s,t)=>{t.d(s,{c:()=>l});t(69060);var i=t(66152),n=t(82496);const l=e=>{let{icon:s=null,label:t=null}=e;return(0,n.jsxs)(i.kvh,{sx:{display:"flex",alignItems:"center",gap:5,marginTop:3},children:[(0,n.jsx)(i.kvh,{sx:{height:16,width:16,display:"flex",alignItems:"center"},children:s}),(0,n.jsx)(i.kvh,{children:t})]})}}}]);
//# sourceMappingURL=6186.3019e777.chunk.js.map