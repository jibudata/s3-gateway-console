"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[9572],{19572:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(69060),i=n(58564),a=n.n(i),s=n(66152),o=n(19536),l=n(61180),c=n(3992),d=n(21124),u=n(2432),x=n(51560),p=n(95705),h=n(66156),y=n(78256),m=n(70780),g=n(82496);const j=e=>{let{onCloseAndRefresh:t,deleteOpen:n,bucket:i,id:a}=e;const o=(0,h.Ab)(),[c,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{c&&l.m.buckets.deleteBucketLifecycleRule(i,a).then((()=>{d(!1),t(!0)})).catch((e=>{d(!1),o((0,p.aW)((0,y.K)(e.error)))}))}),[c,i,a,t,o]);return(0,g.jsx)(m.c,{title:"Delete Lifecycle Rule",confirmText:"Delete",isOpen:n,isLoading:c,onConfirm:()=>{d(!0)},titleIcon:(0,g.jsx)(s.sB6,{}),onClose:()=>t(!1),confirmationContent:(0,g.jsxs)(r.Fragment,{children:["Are you sure you want to delete the ",(0,g.jsx)("strong",{children:a})," rule?"]})})};var _=n(61628),b=n(4836),v=n(14632);const f=e=>{var t,n,i,o,c;let{closeModalAndRefresh:d,selectedBucket:u,lifecycleRule:x,open:m}=e;const j=(0,h.Ab)(),[f,S]=(0,r.useState)(!0),[C,k]=(0,r.useState)(!1),[T,E]=(0,r.useState)(""),[O,N]=(0,r.useState)(!1),[I,F]=(0,r.useState)([]),[w,A]=(0,r.useState)(""),[L,q]=(0,r.useState)(""),[B,R]=(0,r.useState)(""),[V,M]=(0,r.useState)(!1),[P,D]=(0,r.useState)("0"),[K,G]=(0,r.useState)("0"),[W,U]=(0,r.useState)("expiry"),[Y,z]=(0,r.useState)("0"),[H,Z]=(0,r.useState)("0"),[Q,X]=(0,r.useState)(!1),[J,$]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(!1);(0,r.useEffect)((()=>{f&&l.m.admin.tiersList().then((e=>{const t=a()(e.data,"items",[]);if(null!==t&&t.length>=1){const e=t.map((e=>{const t=e.type,n=a()(e,"".concat(t,".name"),"");return{label:n,value:n}}));F(e),e.length>0&&q(e[0].value)}S(!1)})).catch((()=>{S(!1)}))}),[f]),(0,r.useEffect)((()=>{let e=!0;"expiry"!==W&&""===L&&(e=!1),X(e)}),[W,Y,H,L]),(0,r.useEffect)((()=>{var e;"Enabled"===x.status&&N(!0);let t=!1;var n,r,i,a,s,o;(x.transition&&(x.transition.days&&0!==x.transition.days&&(Z(x.transition.days.toString()),U("transition"),t=!0),x.transition.noncurrent_transition_days&&0!==x.transition.noncurrent_transition_days&&(G(x.transition.noncurrent_transition_days.toString()),U("transition"),t=!0),x.transition.date&&"0001-01-01T00:00:00Z"!==x.transition.date&&(U("transition"),t=!0)),x.expiration&&(x.expiration.days&&0!==x.expiration.days&&(z(x.expiration.days.toString()),U("expiry"),t=!1),x.expiration.noncurrent_expiration_days&&0!==x.expiration.noncurrent_expiration_days&&(D(x.expiration.noncurrent_expiration_days.toString()),U("expiry"),t=!1),x.expiration.date&&"0001-01-01T00:00:00Z"!==x.expiration.date&&(U("expiry"),t=!1)),t)?(q((null===(n=x.transition)||void 0===n?void 0:n.storage_class)||""),G((null===(r=x.transition)||void 0===r||null===(i=r.noncurrent_transition_days)||void 0===i?void 0:i.toString())||"0"),R((null===(a=x.transition)||void 0===a?void 0:a.noncurrent_storage_class)||"")):D((null===(s=x.expiration)||void 0===s||null===(o=s.noncurrent_expiration_days)||void 0===o?void 0:o.toString())||"0");if(M(!(null===(e=x.expiration)||void 0===e||!e.delete_marker)),A(x.prefix||""),x.tags){const e=x.tags.reduce(((e,t,n)=>"".concat(e).concat(0!==n?"&":"").concat(t.key,"=").concat(t.value)),"");E(e)}}),[x]);let ne="";return x.expiration&&(x.expiration.days>0?ne="Current Version":x.expiration.noncurrent_expiration_days&&(ne="Non-Current Version")),x.transition&&(x.transition.days>0?ne="Current Version":x.transition.noncurrent_transition_days&&(ne="Non-Current Version")),(0,g.jsx)(b.c,{onClose:()=>{d(!1)},modalOpen:m,title:"Edit Lifecycle Configuration",titleIcon:(0,g.jsx)(s.KOK,{}),children:f?(0,g.jsx)(s.c1M,{style:{width:16,height:16}}):(0,g.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:e=>{(e=>{if(e.preventDefault(),!C&&(k(!0),null!==u&&null!==x)){let e={};if("expiry"===W){var t,n,r;let i={};null!==(t=x.expiration)&&void 0!==t&&t.days&&(null===(n=x.expiration)||void 0===n?void 0:n.days)>0&&(i.expiry_days=parseInt(Y)),null!==(r=x.expiration)&&void 0!==r&&r.noncurrent_expiration_days&&(i.noncurrentversion_expiration_days=parseInt(P)),e={...i}}else{var i,a,s;let t={};null!==(i=x.transition)&&void 0!==i&&i.days&&(null===(a=x.transition)||void 0===a?void 0:a.days)>0&&(t.transition_days=parseInt(H),t.storage_class=L),null!==(s=x.transition)&&void 0!==s&&s.noncurrent_transition_days&&(t.noncurrentversion_transition_days=parseInt(K),t.noncurrentversion_transition_storage_class=B),e={...t}}const o={type:W,disable:!O,prefix:w,tags:T,expired_object_delete_marker:V,...e};l.m.buckets.updateBucketLifecycle(u,x.id,o).then((e=>{k(!1),d(!0)})).catch((async e=>{k(!1);const t=await e.json();j((0,p.aW)((0,y.K)(t)))}))}})(e)},children:(0,g.jsxs)(s.yE_,{containerPadding:!1,withBorders:!1,children:[(0,g.jsx)(s.Wkk,{label:"Status",indicatorLabels:["Enabled","Disabled"],checked:O,value:"user_enabled",id:"rule_status",name:"rule_status",onChange:e=>{N(e.target.checked)}}),(0,g.jsx)(s.q22,{id:"id",name:"id",label:"Id",value:x.id,onChange:()=>{},disabled:!0}),W?(0,g.jsx)(s.ew2,{currentValue:W,id:"rule_type",name:"rule_type",label:"Rule Type",selectorOptions:[{value:"expiry",label:"Expiry"},{value:"transition",label:"Transition"}],onChange:()=>{},disableOptions:!0}):null,(0,g.jsx)(s.q22,{id:"object-version",name:"object-version",label:"Object Version",value:ne,onChange:()=>{},disabled:!0}),"expiry"===W&&(null===(t=x.expiration)||void 0===t?void 0:t.days)&&(0,g.jsx)(s.q22,{type:"number",id:"expiry_days",name:"expiry_days",onChange:e=>{z(e.target.value)},label:"Expiry Days",value:Y,min:"0"}),"expiry"===W&&(null===(n=x.expiration)||void 0===n?void 0:n.noncurrent_expiration_days)&&(0,g.jsx)(s.q22,{type:"number",id:"noncurrentversion_expiration_days",name:"noncurrentversion_expiration_days",onChange:e=>{D(e.target.value)},label:"Non-current Expiration Days",value:P,min:"0"}),"transition"===W&&(null===(i=x.transition)||void 0===i?void 0:i.days)&&(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(s.q22,{type:"number",id:"transition_days",name:"transition_days",onChange:e=>{Z(e.target.value)},label:"Transition Days",value:H,min:"0"}),(0,g.jsx)(s.M1e,{label:"Tier",id:"storage_class",name:"storage_class",value:L,onChange:e=>{q(e)},options:I})]}),"transition"===W&&(null===(o=x.transition)||void 0===o?void 0:o.noncurrent_transition_days)&&(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(s.q22,{type:"number",id:"noncurrentversion_transition_days",name:"noncurrentversion_transition_days",onChange:e=>{G(e.target.value)},label:"Non-current Transition Days",value:K,min:"0"}),(0,g.jsx)(s.q22,{id:"noncurrentversion_t_SC",name:"noncurrentversion_t_SC",onChange:e=>{R(e.target.value)},placeholder:"Set Non-current Version Transition Storage Class",label:"Non-current Version Transition Storage Class",value:B})]}),(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsxs)(s.G73,{title:"Filters",id:"lifecycle-filters",expanded:ee,onTitleClick:()=>te(!ee),children:[(0,g.jsx)(s.q22,{id:"prefix",name:"prefix",onChange:e=>{A(e.target.value)},label:"Prefix",value:w}),(0,g.jsx)(v.c,{name:"tags",label:"Tags",elements:T,onChange:e=>{E(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0})]})}),"expiry"===W&&(null===(c=x.expiration)||void 0===c?void 0:c.noncurrent_expiration_days)&&(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsx)(s.G73,{title:"Advanced",id:"lifecycle-advanced-filters",expanded:J,onTitleClick:()=>$(!J),sx:{marginTop:15},children:(0,g.jsx)(s.Wkk,{value:"expired_delete_marker",id:"expired_delete_marker",name:"expired_delete_marker",checked:V,onChange:e=>{M(e.target.checked)},label:"Expired Object Delete Marker"})})}),(0,g.jsxs)(s.yeN,{item:!0,xs:12,sx:_.W2.modalButtonBar,children:[(0,g.jsx)(s.qaq,{id:"cancel",type:"button",variant:"regular",disabled:C,onClick:()=>{d(!1)},label:"Cancel"}),(0,g.jsx)(s.qaq,{id:"save",type:"submit",variant:"callAction",color:"primary",disabled:C||!Q,label:"Save"})]}),C&&(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsx)(s.cHM,{})})]})})})};var S=n(77152);const C=e=>{let{open:t,closeModalAndRefresh:n,bucketName:i}=e;const c=(0,h.Ab)(),u=(0,o.w1)(p.wB),[x,m]=(0,r.useState)(!0),[j,f]=(0,r.useState)([]),[C,k]=(0,r.useState)(!1),[T,E]=(0,r.useState)(null),[O,N]=(0,r.useState)(""),[I,F]=(0,r.useState)(""),[w,A]=(0,r.useState)(""),[L,q]=(0,r.useState)("expiry"),[B,R]=(0,r.useState)("current"),[V,M]=(0,r.useState)(""),[P,D]=(0,r.useState)(!1),[K,G]=(0,r.useState)(!1),[W,U]=(0,r.useState)(!0),[Y,z]=(0,r.useState)(!1),[H,Z]=(0,r.useState)(!1),[Q,X]=(0,r.useState)("days"),J={"& .MuiPaper-root":{padding:0}};(0,r.useEffect)((()=>{x&&l.m.admin.tiersList().then((e=>{const t=a()(e.data,"items",[]);if(null!==t&&t.length>=1){const e=t.map((e=>{const t=e.type,n=a()(e,"".concat(t,".name"),"");return{label:n,value:n}}));f(e),e.length>0&&A(e[0].value)}m(!1)})).catch((()=>{m(!1)}))}),[x]),(0,r.useEffect)((()=>{let e=!0;"expiry"!==L&&""===w&&(e=!1),V&&0!==parseInt(V)||(e=!1),parseInt(V)>2147483647&&(e=!1),D(e)}),[L,V,w]),(0,r.useEffect)((()=>{W&&u&&l.m.buckets.getBucketVersioning(i).then((e=>{E(e.data),U(!1)})).catch((e=>{c((0,p.op)((0,y.K)(e))),U(!1)}))}),[W,c,i,u]);return(0,g.jsxs)(b.c,{modalOpen:t,onClose:()=>{n(!1)},title:"Add Lifecycle Rule",titleIcon:(0,g.jsx)(s.KOK,{}),children:[x&&(0,g.jsx)(s.yeN,{container:!0,children:(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsx)(s.cHM,{})})}),!x&&(0,g.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:e=>{e.preventDefault(),k(!0),(()=>{let e={};if("expiry"===L){let t={};"current"===B?t.expiry_days=parseInt(V):"days"===Q?t.noncurrentversion_expiration_days=parseInt(V):t.newer_noncurrentversion_expiration_versions=parseInt(V),e={...t}}else{let t={};"current"===B?(t.transition_days=parseInt(V),t.storage_class=w):"days"===Q&&(t.noncurrentversion_transition_days=parseInt(V),t.noncurrentversion_transition_storage_class=w),e={...t}}const t={type:L,prefix:O,tags:I,expired_object_delete_marker:K,...e};l.m.buckets.addBucketLifecycle(i,t).then((()=>{k(!1),n(!0)})).catch((e=>{k(!1),c((0,p.op)((0,y.K)(e)))}))})()},children:(0,g.jsxs)(s.yE_,{withBorders:!1,containerPadding:!1,children:[(0,g.jsx)(s.ew2,{currentValue:L,id:"ilm_type",name:"ilm_type",label:"Type of Lifecycle",onChange:e=>{q(e.target.value)},selectorOptions:[{value:"expiry",label:"Expiry"},{value:"transition",label:"Transition"}],helpTip:(0,g.jsxs)(r.Fragment,{children:["Select"," ",(0,g.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/object-management/create-lifecycle-management-expiration-rule.html",children:"Expiry"})," ","to delete Objects per this rule. Select"," ",(0,g.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/object-management/transition-objects-to-minio.html",children:"Transition"})," ","to move Objects to a remote storage"," ",(0,g.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/windows/administration/object-management/transition-objects-to-minio.html#configure-the-remote-storage-tier",children:"Tier"})," ","per this rule."]}),helpTipPlacement:"right"}),"Enabled"===(null===T||void 0===T?void 0:T.status)&&(0,g.jsx)(s.M1e,{value:B,id:"object_version",name:"object_version",label:"Object Version",onChange:e=>{R(e)},options:[{value:"current",label:"Current Version"},{value:"noncurrent",label:"Non-Current Version"}],helpTip:(0,g.jsxs)(r.Fragment,{children:["Select whether to apply the rule to current or non-current Object",(0,g.jsxs)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/object-management/create-lifecycle-management-expiration-rule.html#expire-versioned-objects",children:[" ","Versions"]})]}),helpTipPlacement:"right"}),(0,g.jsx)(s.q22,{error:V&&!P?parseInt(V)<=0?"Number of ".concat(Q," to retain must be greater than zero"):parseInt(V)>2147483647?"Number of ".concat(Q," must be less than or equal to 2147483647"):"":"",id:"expiry_days",name:"expiry_days",onChange:e=>{e.target.validity.valid&&M(e.target.value)},pattern:"[0-9]*",label:"After",value:V,overlayObject:(0,g.jsx)(r.Fragment,{children:(0,g.jsxs)(s.yeN,{container:!0,sx:{justifyContent:"center"},children:[(0,g.jsx)(S.c,{id:"expire-current-unit",unitSelected:Q,unitsList:[{label:"Days",value:"days"},{label:"Versions",value:"versions"}],disabled:"noncurrent"!==B||"expiry"!==L,onUnitChange:e=>{X(e)}}),"expiry"===L&&"noncurrent"===B&&(0,g.jsxs)(s.M5Y,{content:(0,g.jsx)(r.Fragment,{children:"Select to set expiry by days or newer noncurrent versions"}),placement:"right",children:[" ",(0,g.jsx)(s._DX,{style:{width:15,height:15}})]})]})})}),"expiry"===L?(0,g.jsx)(r.Fragment,{}):(0,g.jsx)(s.M1e,{label:"To Tier",id:"storage_class",name:"storage_class",value:w,onChange:e=>{A(e)},options:j,helpTip:(0,g.jsxs)(r.Fragment,{children:["Configure a"," ",(0,g.jsx)("a",{href:d.Ks.TIERS_ADD,color:"secondary",style:{textDecoration:"underline"},children:"remote tier"})," ","to receive transitioned Objects"]}),helpTipPlacement:"right"}),(0,g.jsx)(s.yeN,{item:!0,xs:12,sx:J,children:(0,g.jsxs)(s.G73,{title:"Filters",id:"lifecycle-filters",expanded:H,onTitleClick:()=>Z(!H),children:[(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsx)(s.q22,{id:"prefix",name:"prefix",onChange:e=>{N(e.target.value)},label:"Prefix",value:O})}),(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsx)(v.c,{name:"tags",label:"Tags",elements:"",onChange:e=>{F(e)},keyPlaceholder:"Tag Key",valuePlaceholder:"Tag Value",withBorder:!0})})]})}),"expiry"===L&&"noncurrent"===B&&(0,g.jsx)(s.yeN,{item:!0,xs:12,sx:J,children:(0,g.jsx)(s.G73,{title:"Advanced",id:"lifecycle-advanced-filters",expanded:Y,onTitleClick:()=>z(!Y),sx:{marginTop:15},children:(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsx)(s.Wkk,{value:"expired_delete_marker",id:"expired_delete_marker",name:"expired_delete_marker",checked:K,onChange:e=>{G(e.target.checked)},label:"Expire Delete Marker",description:"Remove the reference to the object if no versions are left"})})})}),(0,g.jsxs)(s.yeN,{item:!0,xs:12,sx:_.W2.modalButtonBar,children:[(0,g.jsx)(s.qaq,{id:"reset",type:"button",variant:"regular",disabled:C,onClick:()=>{n(!1)},label:"Cancel"}),(0,g.jsx)(s.qaq,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:C||!P,label:"Save"})]}),C&&(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsx)(s.cHM,{})})]})})]})};var k=n(84612);const T=()=>{const e=(0,o.w1)(u.qO),t=(0,x.W4)(),[n,i]=(0,r.useState)(!0),[y,m]=(0,r.useState)([]),[_,b]=(0,r.useState)(!1),[v,S]=(0,r.useState)(!1),[T,E]=(0,r.useState)(null),[O,N]=(0,r.useState)(!1),[I,F]=(0,r.useState)(null),w=(0,h.Ab)(),A=t.bucketName||"",L=(0,c.i)(A,[d.Oi.S3_GET_LIFECYCLE_CONFIGURATION,d.Oi.S3_GET_ACTIONS]);(0,r.useEffect)((()=>{e&&i(!0)}),[e,i]),(0,r.useEffect)((()=>{w((0,p.i8)("bucket_detail_lifecycle"))}),[]),(0,r.useEffect)((()=>{n&&(L?l.m.buckets.getBucketLifecycle(A).then((e=>{const t=a()(e.data,"lifecycle",[]);m(t||[]),i(!1)})).catch((e=>{console.error(e.error),m([]),i(!1)})):i(!1))}),[n,i,A,L]);const q=[{label:"Type",renderFullObject:!0,renderFunction:e=>e?e.expiration&&(e.expiration.days>0||e.expiration.noncurrent_expiration_days||e.expiration.newer_noncurrent_expiration_versions&&e.expiration.newer_noncurrent_expiration_versions>0)?(0,g.jsx)("span",{children:"Expiry"}):e.transition&&(e.transition.days>0||e.transition.noncurrent_transition_days)?(0,g.jsx)("span",{children:"Transition"}):(0,g.jsx)(r.Fragment,{}):(0,g.jsx)(r.Fragment,{})},{label:"Version",renderFullObject:!0,renderFunction:e=>{if(!e)return(0,g.jsx)(r.Fragment,{});if(e.expiration){if(e.expiration.days>0)return(0,g.jsx)("span",{children:"Current"});if(e.expiration.noncurrent_expiration_days||e.expiration.newer_noncurrent_expiration_versions)return(0,g.jsx)("span",{children:"Non-Current"})}if(e.transition){if(e.transition.days>0)return(0,g.jsx)("span",{children:"Current"});if(e.transition.noncurrent_transition_days)return(0,g.jsx)("span",{children:"Non-Current"})}}},{label:"Tier",elementKey:"storage_class",renderFunction:e=>{let t=a()(e,"transition.storage_class","");return t=a()(e,"transition.noncurrent_storage_class",t),t},renderFullObject:!0},{label:"Prefix",elementKey:"prefix"},{label:"After",renderFullObject:!0,renderFunction:e=>{if(!e)return(0,g.jsx)(r.Fragment,{});if(e.transition){if(e.transition.days>0)return(0,g.jsxs)("span",{children:[e.transition.days," days"]});if(e.transition.noncurrent_transition_days)return(0,g.jsxs)("span",{children:[e.transition.noncurrent_transition_days," days"]})}return e.expiration?e.expiration.days>0?(0,g.jsxs)("span",{children:[e.expiration.days," days"]}):e.expiration.noncurrent_expiration_days?(0,g.jsxs)("span",{children:[e.expiration.noncurrent_expiration_days," days"]}):(0,g.jsxs)("span",{children:[e.expiration.newer_noncurrent_expiration_versions," versions"]}):void 0}},{label:"Status",elementKey:"status"}],B=[{type:"view",onClick(e){E(e),S(!0)}},{type:"delete",onClick(e){F(e),N(!0)},sendOnlyId:!0}];return(0,g.jsxs)(r.Fragment,{children:[v&&T&&(0,g.jsx)(f,{open:v,closeModalAndRefresh:e=>{S(!1),E(null),e&&i(!0)},selectedBucket:A,lifecycleRule:T}),_&&(0,g.jsx)(C,{open:_,bucketName:A,closeModalAndRefresh:e=>{b(!1),e&&i(!0)}}),O&&I&&(0,g.jsx)(j,{id:I,bucket:A,deleteOpen:O,onCloseAndRefresh:e=>{N(!1),F(null),e&&i(!0)}}),(0,g.jsx)(s.eCc,{separator:!0,sx:{marginBottom:15},actions:(0,g.jsx)(c.K,{scopes:[d.Oi.S3_PUT_LIFECYCLE_CONFIGURATION,d.Oi.S3_PUT_ACTIONS],resource:A,matchAll:!0,errorProps:{disabled:!0},children:(0,g.jsx)(k.c,{tooltip:"Add Lifecycle Rule",children:(0,g.jsx)(s.qaq,{id:"add-bucket-lifecycle-rule",onClick:()=>{b(!0)},label:"Add Lifecycle Rule",icon:(0,g.jsx)(s.EgV,{}),variant:"callAction"})})}),children:(0,g.jsx)(s.M5Y,{content:(0,g.jsxs)(r.Fragment,{children:["MinIO derives it\u2019s behavior and syntax from"," ",(0,g.jsx)("a",{target:"blank",href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lifecycle-mgmt.html",children:"S3 lifecycle"})," ","for compatibility in migrating workloads and lifecycle rules from S3 to MinIO."]}),placement:"right",children:"Lifecycle Rules"})}),(0,g.jsxs)(s.yeN,{container:!0,children:[(0,g.jsx)(s.yeN,{item:!0,xs:12,children:(0,g.jsx)(c.K,{scopes:[d.Oi.S3_GET_LIFECYCLE_CONFIGURATION,d.Oi.S3_GET_ACTIONS],resource:A,errorProps:{disabled:!0},children:(0,g.jsx)(s.iSL,{itemActions:B,columns:q,isLoading:n,records:y,entityName:"Lifecycle",customEmptyMessage:"There are no Lifecycle rules yet",idField:"id",customPaperHeight:"400px"})})}),!n&&(0,g.jsxs)(s.yeN,{item:!0,xs:12,children:[(0,g.jsx)("br",{}),(0,g.jsx)(s.g1k,{title:"Lifecycle Rules",iconComponent:(0,g.jsx)(s.msS,{}),help:(0,g.jsxs)(r.Fragment,{children:["MinIO Object Lifecycle Management allows creating rules for time or date based automatic transition or expiry of objects. For object transition, MinIO automatically moves the object to a configured remote storage tier.",(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),"You can learn more at our"," ",(0,g.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/object-management/object-lifecycle-management.html?ref=con",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})]})]})]})}},77152:(e,t,n)=>{n.d(t,{c:()=>d});var r=n(69060),i=n(66152),a=n(67659),s=n(58564),o=n.n(s),l=n(82496);const c=a.cp.button((e=>{let{theme:t}=e;return{border:"1px solid ".concat(o()(t,"borderColor","#E2E2E2")),borderRadius:3,color:o()(t,"secondaryText","#5B5C5C"),backgroundColor:o()(t,"boxBackground","#FBFAFA"),fontSize:12}})),d=e=>{let{id:t,unitSelected:n,unitsList:a,disabled:s=!1,onUnitChange:o}=e;const[d,u]=r.useState(null),x=Boolean(d),p=e=>{u(null),""!==e&&o&&o(e)};return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(c,{id:"".concat(t,"-button"),"aria-controls":"".concat(t,"-menu"),"aria-haspopup":"true","aria-expanded":x?"true":void 0,onClick:e=>{u(e.currentTarget)},disabled:s,type:"button",children:n}),(0,l.jsx)(i.KQH,{id:"upload-main-menu",options:a,selectedOption:"",onSelect:e=>p(e),hideTriggerAction:()=>{p("")},open:x,anchorEl:d,anchorOrigin:"end"})]})}},14632:(e,t,n)=>{n.d(t,{c:()=>d});var r=n(69060),i=n(58564),a=n.n(i),s=n(24888),o=n.n(s),l=n(66152),c=n(82496);const d=e=>{let{elements:t,name:n,label:i,tooltip:s="",keyPlaceholder:d="",valuePlaceholder:u="",onChange:x,withBorder:p=!1}=e;const[h,y]=(0,r.useState)([""]),[m,g]=(0,r.useState)([""]),j=(0,r.createRef)();(0,r.useEffect)((()=>{if(1===h.length&&""===h[0]&&1===m.length&&""===m[0]&&t&&""!==t){const e=t.split("&");let n=[],r=[];e.forEach((e=>{const t=e.split("=");2===t.length&&(n.push(t[0]),r.push(t[1]))})),n.push(""),r.push(""),y(n),g(r)}}),[h,m,t]),(0,r.useEffect)((()=>{const e=j.current;e&&h.length>1&&e.scrollIntoView(!1)}),[h]);const _=(0,r.useRef)(!0);(0,r.useLayoutEffect)((()=>{_.current?_.current=!1:f()}),[h,m]);const b=e=>{e.persist();let t=[...h];const n=a()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,y(t)},v=e=>{e.persist();let t=[...m];const n=a()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,g(t)},f=o()((()=>{let e="";h.forEach(((t,n)=>{if(h[n]&&m[n]){let r="".concat(t,"=").concat(m[n]);0!==n&&(r="&".concat(r)),e="".concat(e).concat(r)}})),x(e)}),500),S=m.map(((e,t)=>(0,c.jsxs)(l.yeN,{item:!0,xs:12,className:"lineInputBoxes inputItem",children:[(0,c.jsx)(l.q22,{id:"".concat(n,"-key-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:h[t],onChange:b,index:t,placeholder:d}),(0,c.jsx)("span",{className:"queryDiv",children:":"}),(0,c.jsx)(l.q22,{id:"".concat(n,"-value-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:m[t],onChange:v,index:t,placeholder:u,overlayIcon:t===m.length-1?(0,c.jsx)(l.EgV,{}):null,overlayAction:()=>{(()=>{if(""!==h[h.length-1].trim()&&""!==m[m.length-1].trim()){const e=[...h],t=[...m];e.push(""),t.push(""),y(e),g(t)}})()}})]},"query-pair-".concat(n,"-").concat(t.toString()))));return(0,c.jsx)(r.Fragment,{children:(0,c.jsxs)(l.yeN,{item:!0,xs:12,sx:{"& .lineInputBoxes":{display:"flex"},"& .queryDiv":{alignSelf:"center",margin:"-15px 4px 0",fontWeight:600}},className:"inputItem",children:[(0,c.jsxs)(l.mWW,{children:[i,""!==s&&(0,c.jsx)(l.kvh,{sx:{marginLeft:5,display:"flex",alignItems:"center","& .min-icon":{width:13}},children:(0,c.jsx)(l.o5h,{tooltip:s,placement:"top",children:(0,c.jsx)(l.OKz,{style:{width:13,height:13}})})})]}),(0,c.jsxs)(l.kvh,{withBorders:p,sx:{padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15},children:[S,(0,c.jsx)("div",{ref:j})]})]})})}}}]);
//# sourceMappingURL=9572.70d2f6c8.chunk.js.map