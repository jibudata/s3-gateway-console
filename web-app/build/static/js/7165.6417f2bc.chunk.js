"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[7165,2012],{24256:(e,t,n)=>{n.d(t,{c:()=>s});var i=n(69060),o=n(58564),a=n.n(o),l=n(66152),r=n(82496);const s=e=>{let{elements:t,name:n,label:o,tooltip:s="",commonPlaceholder:c="",onChange:d,withBorder:u=!1}=e;const[p,h]=(0,i.useState)([""]),m=(0,i.createRef)();(0,i.useEffect)((()=>{if(1===p.length&&""===p[0]&&t&&""!==t){const e=t.split(",");e.push(""),h(e)}}),[t,p]),(0,i.useEffect)((()=>{if(p.length>1){const e=m.current;e&&e.scrollIntoView(!1)}}),[p,m]);const f=(0,i.useCallback)((e=>{d(e)}),[d]),x=(0,i.useRef)(!0);(0,i.useEffect)((()=>{if(x.current)return void(x.current=!1);const e=p.filter((e=>""!==e.trim())).join(",");f(e)}),[p]);const g=e=>{e.persist();let t=[...p];const n=a()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,h(t)},v=p.map(((e,t)=>(0,r.jsx)(l.q22,{id:"".concat(n,"-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:p[t],onChange:g,index:t,placeholder:c,overlayIcon:t===p.length-1?(0,r.jsx)(l.EgV,{}):null,overlayAction:()=>{(e=>{if(""!==e[e.length-1].trim()){const t=[...e];t.push(""),h(t)}})(p)}},"csv-multi-".concat(n,"-").concat(t.toString()))));return(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(l.kvh,{sx:{display:"flex"},className:"inputItem",children:[(0,r.jsxs)(l.mWW,{sx:{alignItems:"flex-start"},children:[(0,r.jsx)("span",{children:o}),""!==s&&(0,r.jsx)(l.kvh,{sx:{marginLeft:5,display:"flex",alignItems:"center","& .min-icon":{width:13}},children:(0,r.jsx)(l.o5h,{tooltip:s,placement:"top",children:(0,r.jsx)(l.kvh,{className:s,children:(0,r.jsx)(l.OKz,{})})})})]}),(0,r.jsxs)(l.kvh,{withBorders:u,sx:{width:"100%",overflowY:"auto",height:150,position:"relative"},children:[v,(0,r.jsx)("div",{ref:m})]})]})})}},17165:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var i=n(69060),o=n(66152),a=n(13844),l=n(51560),r=n(58564),s=n.n(r),c=n(19536),d=n(61180),u=n(78256),p=n(95705),h=n(66156),m=n(4836),f=n(61628),x=n(82496);const g=e=>{let{open:t,type:n,onCloseEndpoint:a}=e;const[l,r]=(0,i.useState)(""),[s,c]=(0,i.useState)(""),[g,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(!1),[j,k]=(0,i.useState)(["name","endpoint"]),[_,C]=(0,i.useState)(["name","endpoint","auth-token"]),w=(0,h.Ab)(),S=e=>{C(_.filter((t=>t!==e)))},E=(e,t)=>{j.includes(e)&&t?k(j.filter((t=>t!==e))):t||j.includes(e)||k([...j,e])};let q="Add new Webhook",A=(0,x.jsx)(o.OjQ,{});switch(n){case"logger_webhook":q="New Logger Webhook",A=(0,x.jsx)(o.Mz0,{});break;case"audit_webhook":q="New Audit Webhook",A=(0,x.jsx)(o.CEO,{})}return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(m.c,{modalOpen:t,title:q,onClose:a,titleIcon:A,children:[(0,x.jsxs)(o.yE_,{containerPadding:!1,withBorders:!1,children:[(0,x.jsx)(o.q22,{id:"name",name:"name",onChange:e=>{S("name"),r(e.target.value),E("name",e.target.validity.valid)},error:j.includes("name")&&!_.includes("name")?"Invalid Name":"",label:"Name",value:l,pattern:"^(?=.*[a-zA-Z0-9]).{1,}$",required:!0}),(0,x.jsx)(o.q22,{id:"endpoint",name:"endpoint",onChange:e=>{S("endpoint"),c(e.target.value),E("endpoint",e.target.validity.valid)},error:j.includes("endpoint")&&!_.includes("endpoint")?"Invalid Endpoint set":"",label:"Endpoint",value:s,pattern:"^(https?):\\/\\/([a-zA-Z0-9\\-.]+)(:[0-9]+)?(\\/[a-zA-Z0-9\\-.\\/]*)?$",required:!0}),(0,x.jsx)(o.q22,{id:"auth-token",name:"auth-token",onChange:e=>{S("auth-token"),v(e.target.value)},label:"Auth Token",value:g})]}),y&&(0,x.jsx)(o.yeN,{item:!0,xs:12,sx:{marginBottom:10},children:(0,x.jsx)(o.cHM,{})}),(0,x.jsxs)(o.yeN,{item:!0,xs:12,sx:f.W2.modalButtonBar,children:[(0,x.jsx)(o.qaq,{id:"reset",type:"button",variant:"regular",disabled:y,onClick:a,label:"Cancel",sx:{marginRight:10}}),(0,x.jsx)(o.qaq,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:y||0!==j.length,label:"Save",onClick:()=>{if(y)return;if(0!==j.length)return;if(""===l.trim())return void k([...j,"name"]);if(""===s.trim())return void k([...j,"endpoint"]);b(!0);const e={key_values:[{key:"endpoint",value:s},{key:"auth_token",value:g}],arn_resource_id:l};d.m.configs.setConfig(n,e).then((e=>{b(!1),w((0,p.s$)(e.data.restart||!1)),e.data.restart||w((0,p.cX)("Configuration saved successfully")),a(),w((0,p.Q5)(!0))})).catch((e=>{b(!1),w((0,p.aW)((0,u.K)(e.error)))}))}})]})]})})};var v=n(70780);const y=e=>{let{modalOpen:t,onClose:n,selectedARN:a}=e;const[l,r]=(0,i.useState)(!1),s=(0,h.Ab)();(0,i.useEffect)((()=>{l&&d.m.configs.resetConfig(a).then((()=>{r(!1),s((0,p.s$)(!0)),s((0,p.Q5)(!0)),n()})).catch((e=>{r(!1),s((0,p.aW)((0,u.K)(e.error)))}))}),[l,s,n,a]);const c=!a.includes(":");let m="Are you sure you want to delete the Configured Endpoint";return c&&(m="Are you sure you want to reset the Default"),(0,x.jsx)(v.c,{title:c?"Reset Default Webhook":"Delete Webhook",confirmText:c?"Reset":"Delete",isOpen:t,isLoading:l,onConfirm:()=>{r(!0)},titleIcon:(0,x.jsx)(o.sB6,{}),onClose:n,confirmationContent:(0,x.jsxs)(i.Fragment,{children:["".concat(m," "),(0,x.jsx)("strong",{children:a}),"?"]})})},b=e=>{var t,n,l,r,s,c;let{open:g,type:v,endpointInfo:y,onCloseEndpoint:b}=e;const[j,k]=(0,i.useState)(""),[_,C]=(0,i.useState)(""),[w,S]=(0,i.useState)(""),[E,q]=(0,i.useState)("on"),[A,N]=(0,i.useState)(!1),[T,I]=(0,i.useState)([]),M=(0,h.Ab)();(0,i.useEffect)((()=>{if(y){const e=y.key_values.find((e=>"endpoint"===e.key)),t=y.key_values.find((e=>"auth_token"===e.key)),n=y.key_values.find((e=>"enable"===e.key));let i=[];if(e){const t=e.value;""===t?i.push("endpoint"):C(t)}if(t){const e=t.value;""===e?i.push("auth-token"):S(e)}n&&"off"===n.value&&q(n.value),k(y.name||""),I(i)}}),[y]);const L=!j.includes(":"),W=y.key_values.filter((e=>!!e.env_override)),R=(0,a.yU)(W);let O="Edit Webhook",B=(0,x.jsx)(o.OjQ,{});switch(v){case"logger_webhook":O="Edit ".concat(L?" the Default ":"","Logger Webhook"),B=(0,x.jsx)(o.Mz0,{});break;case"audit_webhook":O="Edit ".concat(L?" the Default ":"","Audit Webhook"),B=(0,x.jsx)(o.CEO,{})}return W.length>0&&(O="View env variable Webhook"),(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(m.c,{modalOpen:g,title:"".concat(O).concat(L?"":" - ".concat(j)),onClose:b,titleIcon:B,children:(0,x.jsx)(o.yE_,{withBorders:!1,containerPadding:!1,children:W.length>0?(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(o.E$k,{label:"Enabled",sx:{width:"100%"},actionButton:(0,x.jsx)(o.yeN,{item:!0,sx:{display:"flex",justifyContent:"flex-end",paddingRight:"10px"},children:(0,x.jsx)(o.o5h,{tooltip:R.enable?"This value is set from the ".concat((null===(t=R.enable)||void 0===t?void 0:t.overrideEnv)||"N/A"," environment variable"):"",placement:"left",children:(0,x.jsx)(o.Mz0,{style:{width:20}})})}),children:(null===(n=R.enable)||void 0===n?void 0:n.value)||"-"}),(0,x.jsx)(o.E$k,{label:"Endpoint",sx:{width:"100%"},actionButton:(0,x.jsx)(o.yeN,{item:!0,sx:{display:"flex",justifyContent:"flex-end",paddingRight:"10px"},children:(0,x.jsx)(o.o5h,{tooltip:R.enable?"This value is set from the ".concat((null===(l=R.endpoint)||void 0===l?void 0:l.overrideEnv)||"N/A"," environment variable"):"",placement:"left",children:(0,x.jsx)(o.Mz0,{style:{width:20}})})}),children:(null===(r=R.endpoint)||void 0===r?void 0:r.value)||"-"}),(0,x.jsx)(o.E$k,{label:"Auth Token",sx:{width:"100%"},actionButton:(0,x.jsx)(o.yeN,{item:!0,sx:{display:"flex",justifyContent:"flex-end",paddingRight:"10px"},children:(0,x.jsx)(o.o5h,{tooltip:R.enable?"This value is set from the ".concat((null===(s=R.auth_token)||void 0===s?void 0:s.overrideEnv)||"N/A"," environment variable"):"",placement:"left",children:(0,x.jsx)(o.Mz0,{style:{width:20}})})}),children:(null===(c=R.auth_token)||void 0===c?void 0:c.value)||"-"})]}):(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(o.Wkk,{onChange:e=>{const t=e.target.checked?"on":"off";q(t)},id:"endpoint_enabled",name:"endpoint_enabled",label:"Enabled",value:"switch_on",checked:"on"===E}),(0,x.jsx)(o.q22,{id:"endpoint",name:"endpoint",onChange:e=>{C(e.target.value),((e,t)=>{T.includes(e)&&t?I(T.filter((t=>t!==e))):t||T.includes(e)||I([...T,e])})("endpoint",e.target.validity.valid)},error:T.includes("endpoint")?"Invalid Endpoint set":"",label:"Endpoint",value:_,pattern:"^(https?):\\/\\/([a-zA-Z0-9\\-.]+)(:[0-9]+)?(\\/[a-zA-Z0-9\\-.\\/]*)?$",required:!0}),(0,x.jsx)(o.q22,{id:"auth-token",name:"auth-token",onChange:e=>{S(e.target.value)},label:"Auth Token",value:w}),A&&(0,x.jsx)(o.yeN,{item:!0,xs:12,sx:{marginBottom:10},children:(0,x.jsx)(o.cHM,{})}),(0,x.jsxs)(o.yeN,{item:!0,sx:f.W2.modalButtonBar,children:[(0,x.jsx)(o.qaq,{id:"reset",type:"button",variant:"regular",disabled:A,onClick:b,label:"Cancel"}),(0,x.jsx)(o.qaq,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:A||0!==T.length,label:"Update",onClick:()=>{if(A)return;if(0!==T.length)return;if(!_||""===_.trim())return void I([...T,"endpoint"]);N(!0);const e={key_values:[{key:"endpoint",value:_},{key:"auth_token",value:w},{key:"enable",value:E}]};d.m.configs.setConfig(j,e).then((e=>{N(!1),M((0,p.s$)(e.data.restart||!1)),e.data.restart||M((0,p.cX)("Configuration saved successfully")),b(),M((0,p.Q5)(!0))})).catch((e=>{N(!1),M((0,p.aW)((0,u.K)(e.error)))}))}})]})]})})})})},j=e=>{let{setResetConfigurationOpen:t,WebhookSettingslist:n,type:a}=e;const[l,r]=(0,i.useState)(!1),[s,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(""),[m,f]=(0,i.useState)(null),v=[{type:"view",onClick:e=>{e.name&&(u(!0),f(e))}},{type:"delete",onClick:e=>{e.name&&(c(!0),h(e.name))},disableButtonFunction:e=>{const t=n.find((t=>t.name===e));if(t){var i;const e=null===(i=t.key_values)||void 0===i?void 0:i.filter((e=>!!e.env_override));return!!(e&&e.length>0)}return!1}}];return(0,x.jsxs)(o.yeN,{container:!0,children:[l&&(0,x.jsx)(g,{open:l,type:a,onCloseEndpoint:()=>{r(!1)}}),s&&(0,x.jsx)(y,{modalOpen:s,onClose:()=>{c(!1),h("")},selectedARN:p,type:a}),d&&m&&(0,x.jsx)(b,{open:d,type:a,endpointInfo:m,onCloseEndpoint:()=>{u(!1),f(null)}}),(0,x.jsx)(o.yeN,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,x.jsx)(o.qaq,{id:"newWebhook",variant:"callAction",onClick:()=>{r(!0)},children:"New Endpoint"})}),(0,x.jsx)(o.yeN,{item:!0,xs:12,sx:{padding:"0 10px 10px"},children:(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)("h3",{children:"Currently Configured Endpoints"}),(0,x.jsx)(o.iSL,{columns:[{label:"Status",elementKey:"key_values",renderFunction:e=>{const t=e.find((e=>"enable"===e.key));if(null!==t&&void 0!==t&&t.env_override){const e=null!==t&&void 0!==t&&t.env_override.value&&"on"!==(null===t||void 0===t?void 0:t.env_override.value)&&null!==t&&void 0!==t&&t.env_override.value?"Disabled":"Enabled";return(0,x.jsxs)(o.yeN,{container:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"start",fontSize:"8px"},children:[(0,x.jsx)(o.Mz0,{style:{fill:"#052F51",width:"14px"}}),e?"Enabled":"Disabled"]})}return t&&"on"!==t.value&&t.value?(0,x.jsxs)(o.yeN,{container:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"start",fontSize:"8px"},children:[(0,x.jsx)(o.wMo,{style:{fill:"#C83B51",width:14,height:14}}),"Disabled"]}):(0,x.jsxs)(o.yeN,{container:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"start",fontSize:"8px"},children:[(0,x.jsx)(o.Ijg,{style:{fill:"#4CCB92",width:14,height:14}}),"Enabled"]})},width:50},{label:"Name",elementKey:"name"},{label:"Endpoint",elementKey:"key_values",renderFunction:e=>{const t=e.find((e=>"endpoint"===e.key));return t?t.env_override?t.env_override.value:t.value:""}}],itemActions:v,idField:"name",isLoading:!1,records:n,entityName:"endpoints",customPaperHeight:"calc(100vh - 750px)"})]})})]})};var k=n(22012),_=n(76776);const C=e=>{let{selectedConfiguration:t,className:n=""}=e;const r=(0,h.Ab)(),m=(0,l.i6)(),{pathname:f=""}=(0,l.IT)();let g=f.substring(f.lastIndexOf("/")+1);g="settings"===g?"region":g;const[v,y]=(0,i.useState)([]),[b,C]=(0,i.useState)(!1),[w,S]=(0,i.useState)([]),[E,q]=(0,i.useState)([]),[A,N]=(0,i.useState)(!1),[T,I]=(0,i.useState)({}),M=(0,c.w1)((e=>e.system.loadingConfigurations));(0,i.useEffect)((()=>{r((0,p.Q5)(!0))}),[g,r]),(0,i.useEffect)((()=>{if(M){const e=s()(t,"configuration_id",!1);if(e)return void d.m.configs.configInfo(e).then((t=>{q(t.data);let n=s()(t.data[0],"key_values",[]);const i=a.Ow[e].map((e=>{const t=n.find((t=>t.key===e.name)),i=(null===t||void 0===t?void 0:t.value)||"";return{key:e.name,value:e.customValueProcess?e.customValueProcess(i):i,env_override:null===t||void 0===t?void 0:t.env_override}}));S(i),I((0,a.yU)(i)),r((0,p.Q5)(!1))})).catch((e=>{r((0,p.Q5)(!1)),r((0,p.aW)((0,u.K)(e.error)))}));r((0,p.Q5)(!1))}}),[M,t,r]),(0,i.useEffect)((()=>{if(b){const e={key_values:(0,a.ay)(v)};d.m.configs.setConfig(t.configuration_id,e).then((e=>{C(!1),r((0,p.s$)(e.data.restart||!1)),r((0,p.Q5)(!0)),e.data.restart||r((0,p.cX)("Configuration saved successfully"))})).catch((e=>{C(!1),r((0,p.aW)((0,u.K)(e.error)))}))}}),[b,r,t,v,m]);const L=(0,i.useCallback)((e=>{y(e)}),[y]),W=()=>{N(!0)};return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)("div",{onMouseMove:()=>{r((0,p.i8)("settings_".concat(t.configuration_label)))},children:[A&&(0,x.jsx)(_.c,{configurationName:t.configuration_id,closeResetModalAndRefresh:e=>{N(!1),r((0,p.s$)(e)),e&&r((0,p.Q5)(!0))},resetOpen:A}),M?(0,x.jsx)(o.yeN,{item:!0,xs:12,sx:{textAlign:"center",paddingTop:"15px"},children:(0,x.jsx)(o.c1M,{})}):(0,x.jsx)(o.kvh,{sx:{padding:"15px",height:"100%"},children:"logger_webhook"===t.configuration_id||"audit_webhook"===t.configuration_id?(0,x.jsx)(j,{WebhookSettingslist:E,setResetConfigurationOpen:W,type:t.configuration_id}):(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)("form",{noValidate:!0,onSubmit:e=>{e.preventDefault(),C(!0)},className:n,style:{height:"100%",display:"flex",flexFlow:"column"},children:[(0,x.jsx)(o.yeN,{item:!0,xs:12,sx:{display:"grid",gridTemplateColumns:"1fr",gap:"10px"},children:(0,x.jsx)(k.default,{fields:a.Ow[t.configuration_id],onChange:L,defaultVals:w,overrideEnv:T})}),(0,x.jsxs)(o.yeN,{item:!0,xs:12,sx:{paddingTop:"15px ",textAlign:"right",maxHeight:"60px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,x.jsx)(o.qaq,{type:"button",id:"restore-defaults",variant:"secondary",onClick:W,label:"Restore Defaults"}),"\xa0 \xa0",(0,x.jsx)(o.qaq,{id:"save",type:"submit",variant:"callAction",disabled:b,label:"Save"})]})]})})})]})})},w=()=>{const{pathname:e=""}=(0,l.IT)(),t=e.substring(e.lastIndexOf("/")+1),n=a.Mj.find((e=>e.configuration_id===t)),i="".concat(t);return(0,x.jsx)(o.yeN,{item:!0,xs:12,sx:{height:"100%","& .identity_ldap, .api":{"& label":{minWidth:220,marginRight:0}}},children:n&&(0,x.jsx)(C,{className:"".concat(i),selectedConfiguration:n})})};var S=n(21124),E=n(3428),q=n(89940),A=n(61060),N=n(39427),T=n(84612);const I=()=>{const e=(0,c.OY)(),[t,n]=(0,q.c)((e=>{(0,A.wx)(new Blob([window.atob(e.value)]),"minio-server-config-".concat(N.CS.now().toFormat("LL-dd-yyyy-HH-mm-ss"),".conf"))}),(t=>{e((0,p.aW)(t))}));return(0,x.jsx)(T.c,{tooltip:"Warning! The resulting file will contain server configuration information in plain text",children:(0,x.jsx)(o.qaq,{id:"export-config",onClick:()=>{n("GET","api/v1/configs/export")},icon:(0,x.jsx)(o.OKe,{}),label:"Export",variant:"regular",disabled:t})})},M=()=>{const e=(0,l.i6)(),t=(0,c.OY)(),n=(0,c.w1)((e=>e.system.serverNeedsRestart)),[a,r]=(0,i.useState)(void 0),s=(0,i.useRef)(null),[d,u]=(0,q.c)((e=>{t((0,p.s$)(!0)),r(!0)}),(e=>{t((0,p.aW)(e))}));(0,i.useEffect)((()=>{!n&&a&&e(0)}),[n,a,e]);return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)("input",{type:"file",onChange:e=>{if(null===e||void 0===e||null===e.target.files||void 0===e.target.files)return;e.preventDefault();const[t]=e.target.files,n=new FormData,i=new Blob([t],{type:t.type});n.append("file",i,t.name),u("POST","api/v1/configs/import",n),e.target.value=""},style:{display:"none"},ref:s}),(0,x.jsx)(T.c,{tooltip:"The file must be valid and  should have valid config values",children:(0,x.jsx)(o.qaq,{id:"import-config",onClick:()=>{s&&s.current&&s.current.click()},icon:(0,x.jsx)(o.Gwr,{}),label:"Import",variant:"regular",disabled:d})})]})};var L=n(48504);const W=["region"],R=["cache"],O=()=>{const{pathname:e=""}=(0,l.IT)(),t=(0,h.Ab)(),n=(0,l.i6)(),[r,s]=(0,i.useState)([]),c=(0,i.useCallback)((async()=>{d.m.configs.listConfig().then((e=>{var t;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.configurations){var n;const t=((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.configurations)||[]).reduce(((e,t)=>{let{key:n=""}=t;return R.includes(n)||e.push(n),e}),[]);s(t)}})).catch((e=>{t((0,p.aW)((0,u.K)(e)))}))}),[t]);(0,i.useEffect)((()=>{c(),t((0,p.i8)("settings_Region"))}),[]);const m=a.Mj.filter((e=>{let{configuration_id:t}=e;return W.includes(t)||r.includes(t)||!r.length}));return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(E.c,{label:"Configuration",actions:(0,x.jsx)(L.c,{})}),(0,x.jsxs)(o._al,{children:[(0,x.jsxs)(o.yeN,{item:!0,xs:12,id:"settings-container",children:[(0,x.jsx)(o.g1F,{icon:(0,x.jsx)(o.Ih4,{}),title:"MinIO Configuration:",actions:(0,x.jsxs)(o.kvh,{sx:{display:"flex",gap:10},children:[(0,x.jsx)(M,{}),(0,x.jsx)(I,{})]}),sx:{marginBottom:15}}),(0,x.jsx)(o.kZJ,{currentTabOrPath:e,onTabClick:e=>{n(e)},useRouteTabs:!0,options:m.map((e=>{const{configuration_id:t,configuration_label:n,icon:i}=e;return{tabConfig:{id:"settings-tab-".concat(n),label:n,value:t,icon:i,to:(o=t,"".concat(S.Ks.SETTINGS,"/").concat(o))}};var o})),routes:(0,x.jsxs)(l.c5,{children:[m.map((e=>(0,x.jsx)(l.kX,{path:"".concat(e.configuration_id),element:(0,x.jsx)(w,{})},"configItem-".concat(e.configuration_label)))),(0,x.jsx)(l.kX,{path:"/",element:(0,x.jsx)(l.YX,{to:"".concat(S.Ks.SETTINGS,"/region")})})]})})]}),(0,x.jsx)(o.yeN,{item:!0,xs:12,sx:{paddingTop:"15px"},children:(0,x.jsx)(o.g1k,{title:"Learn more about Configurations",iconComponent:(0,x.jsx)(o.Ih4,{}),help:(0,x.jsxs)(i.Fragment,{children:["MinIO supports a variety of configurations ranging from encryption, compression, region, notifications, etc.",(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),"You can learn more at our"," ",(0,x.jsx)("a",{href:"https://min.io/docs/minio/linux/reference/minio-mc-admin/mc-admin-config.html?ref=con#id4",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})})]})]})}},13844:(e,t,n)=>{n.d(t,{Mj:()=>a,Ow:()=>l,ay:()=>r,i2:()=>s,yU:()=>c});n(69060);var i=n(66152),o=n(82496);const a=[{icon:(0,o.jsx)(i.Csk,{}),configuration_id:"region",configuration_label:"Region"},{icon:(0,o.jsx)(i.GQs,{}),configuration_id:"compression",configuration_label:"Compression"},{icon:(0,o.jsx)(i.UGn,{}),configuration_id:"api",configuration_label:"API"},{icon:(0,o.jsx)(i.QLM,{}),configuration_id:"heal",configuration_label:"Heal"},{icon:(0,o.jsx)(i.cKz,{}),configuration_id:"scanner",configuration_label:"Scanner"},{icon:(0,o.jsx)(i.on8,{}),configuration_id:"etcd",configuration_label:"Etcd"},{icon:(0,o.jsx)(i.Mz0,{}),configuration_id:"logger_webhook",configuration_label:"Logger Webhook"},{icon:(0,o.jsx)(i.CEO,{}),configuration_id:"audit_webhook",configuration_label:"Audit Webhook"},{icon:(0,o.jsx)(i.IvS,{}),configuration_id:"audit_kafka",configuration_label:"Audit Kafka"}],l={region:[{name:"name",required:!0,label:"Server Location",tooltip:'Name of the location of the server e.g. "us-west-rack2"',type:"string",placeholder:"e.g. us-west-rack-2"},{name:"comment",required:!1,label:"Comment",tooltip:"You can add a comment to this setting",type:"comment",placeholder:"Enter custom notes if any"}],compression:[{name:"extensions",required:!1,label:"Extensions",tooltip:'Extensions to compress e.g. ".txt", ".log" or ".csv" -  you can write one per field',type:"csv",placeholder:"Enter an Extension",withBorder:!0},{name:"mime_types",required:!1,label:"Mime Types",tooltip:'Mime types e.g. "text/*", "application/json" or "application/xml" - you can write one per field',type:"csv",placeholder:"Enter a Mime Type",withBorder:!0}],api:[{name:"requests_max",required:!1,label:"Requests Max",tooltip:"Maximum number of concurrent requests, e.g. '1600'",type:"number",placeholder:"Enter Requests Max"},{name:"cors_allow_origin",required:!1,label:"Cors Allow Origin",tooltip:"List of origins allowed for CORS requests",type:"csv",placeholder:"Enter allowed origin e.g. https://example.com"},{name:"replication_workers",required:!1,label:"Replication Workers",tooltip:"Number of replication workers, defaults to 100",type:"number",placeholder:"Enter Replication Workers"},{name:"replication_failed_workers",required:!1,label:"Replication Failed Workers",tooltip:"Number of replication workers for recently failed replicas, defaults to 4",type:"number",placeholder:"Enter Replication Failed Workers"}],heal:[{name:"bitrotscan",required:!1,label:"Bitrot Scan",tooltip:"Perform bitrot scan on disks when checking objects during scanner",type:"on|off"},{name:"max_sleep",required:!1,label:"Max Sleep",tooltip:"Maximum sleep duration between objects to slow down heal operation, e.g. 2s",type:"duration",placeholder:"Enter Max Sleep Duration"},{name:"max_io",required:!1,label:"Max IO",tooltip:"Maximum IO requests allowed between objects to slow down heal operation, e.g. 3",type:"number",placeholder:"Enter Max IO"}],scanner:[{name:"delay",required:!1,label:"Delay Multiplier",tooltip:"Scanner delay multiplier, defaults to '10.0'",type:"number",placeholder:"Enter Delay"},{name:"max_wait",required:!1,label:"Max Wait",tooltip:"Maximum wait time between operations, defaults to '15s'",type:"duration",placeholder:"Enter Max Wait"},{name:"cycle",required:!1,label:"Cycle",tooltip:"Time duration between scanner cycles, defaults to '1m'",type:"duration",placeholder:"Enter Cycle"}],etcd:[{name:"endpoints",required:!0,label:"Endpoints",tooltip:'List of etcd endpoints e.g. "http://localhost:2379" - you can write one per field',type:"csv",placeholder:"Enter Endpoint"},{name:"path_prefix",required:!1,label:"Path Prefix",tooltip:'Namespace prefix to isolate tenants e.g. "customer1/"',type:"string",placeholder:"Enter Path Prefix"},{name:"coredns_path",required:!1,label:"Coredns Path",tooltip:'Shared bucket DNS records, default is "/skydns"',type:"string",placeholder:"Enter Coredns Path"},{name:"client_cert",required:!1,label:"Client Cert",tooltip:"Client cert for mTLS authentication",type:"string",placeholder:"Enter Client Cert"},{name:"client_cert_key",required:!1,label:"Client Cert Key",tooltip:"Client cert key for mTLS authentication",type:"string",placeholder:"Enter Client Cert Key"},{name:"comment",required:!1,label:"Comment",tooltip:"You can add a comment to this setting",type:"comment",multiline:!0,placeholder:"Enter custom notes if any"}],logger_webhook:[{name:"endpoint",required:!0,label:"Endpoint",type:"string",placeholder:"Enter Endpoint"},{name:"auth_token",required:!0,label:"Auth Token",type:"string",placeholder:"Enter Auth Token"}],audit_webhook:[{name:"endpoint",required:!0,label:"Endpoint",type:"string",placeholder:"Enter Endpoint"},{name:"auth_token",required:!0,label:"Auth Token",type:"string",placeholder:"Enter Auth Token"}],audit_kafka:[{name:"enable",required:!1,label:"Enable",tooltip:"Enable audit_kafka target",type:"on|off",customValueProcess:e=>""===e||"on"===e?"on":"off"},{name:"brokers",required:!0,label:"Brokers",type:"csv",placeholder:"Enter Kafka Broker"},{name:"topic",required:!1,label:"Topic",type:"string",placeholder:"Enter Kafka Topic",tooltip:"Kafka topic used for bucket notifications"},{name:"sasl",required:!1,label:"Use SASL",tooltip:"Enable SASL (Simple Authentication and Security Layer) authentication",type:"on|off"},{name:"sasl_username",required:!1,label:"SASL Username",type:"string",placeholder:"Enter SASL Username",tooltip:"Username for SASL/PLAIN or SASL/SCRAM authentication"},{name:"sasl_password",required:!1,label:"SASL Password",type:"password",placeholder:"Enter SASL Password",tooltip:"Password for SASL/PLAIN or SASL/SCRAM authentication"},{name:"sasl_mechanism",required:!1,label:"SASL Mechanism",type:"string",placeholder:"Enter SASL Mechanism",tooltip:"SASL authentication mechanism"},{name:"tls",required:!1,label:"Use TLS",tooltip:"Enable TLS (Transport Layer Security)",type:"on|off"},{name:"tls_skip_verify",required:!1,label:"Skip TLS Verification",tooltip:"Trust server TLS without verification",type:"on|off"},{name:"client_tls_cert",required:!1,label:"Client Cert",tooltip:"Client cert for mTLS authentication",type:"string",placeholder:"Enter Client Cert"},{name:"client_tls_key",required:!1,label:"Client Cert Key",tooltip:"Client cert key for mTLS authentication",type:"string",placeholder:"Enter Client Cert Key"},{name:"tls_client_auth",required:!1,label:"TLS Client Auth",tooltip:"ClientAuth determines the Kafka server's policy for TLS client authorization",type:"string"},{name:"version",required:!1,label:"Version",tooltip:"Specify the version of the Kafka cluster",type:"string"}]},r=e=>e.filter((e=>""!==e.value)),s=(e,t,n)=>{const i=e.target,o=i.value;let a=[...n];return i.checked?a.push(o):a=a.filter((e=>e!==o)),t(a),a},c=e=>{let t={};return e.forEach((e=>{if(e.env_override){const n={value:e.env_override.value||"",overrideEnv:e.env_override.name||""};t={...t,[e.key]:n}}})),t}},22012:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s,valueDef:()=>r});var i=n(69060),o=n(66152),a=n(24256),l=n(82496);const r=(e,t,n)=>{let i="on|off"===t?"off":"";if(n.length>0){const t=n.find((t=>t.key===e));t&&(i=t.value||"")}return i},s=e=>{let{onChange:t,fields:n,defaultVals:s,overrideEnv:c}=e;const[d,u]=(0,i.useState)([]),p=n||[],h=s||[];(0,i.useEffect)((()=>{const e=n.map((e=>({key:e.name,value:r(e.name,e.type,h)})));u(e)}),[n,s]),(0,i.useEffect)((()=>{t(d)}),[d]);const m=(e,t,n)=>{const i=[...d];t=t.trim(),i[n]={key:e,value:t},u(i)},f=(e,t)=>{const n=d[t];if(n){const t=null===c||void 0===c?void 0:c["".concat(n.key)];if(t)return(0,l.jsx)(o.E$k,{label:e.label,actionButton:(0,l.jsx)(o.yeN,{item:!0,sx:{display:"flex",justifyContent:"flex-end",paddingRight:"10px"},children:(0,l.jsx)(o.o5h,{tooltip:"This value is set from the ".concat(t.overrideEnv," environment variable"),placement:"left",children:(0,l.jsx)(o.Mz0,{style:{width:20}})})}),sx:{width:"100%"},children:t.value})}switch(e.type){case"on|off":const i=n?n.value:"off";return(0,l.jsx)(o.Wkk,{onChange:n=>{const i=n.target.checked?"on":"off";m(e.name,i,t)},id:e.name,name:e.name,label:e.label,value:"switch_on",tooltip:e.tooltip,checked:"on"===i});case"csv":return(0,l.jsx)(a.c,{elements:n?n.value:"",label:e.label,name:e.name,onChange:n=>{let i="";i=Array.isArray(n)?n.join(","):n,m(e.name,i,t)},tooltip:e.tooltip,commonPlaceholder:e.placeholder,withBorder:!0});case"comment":return(0,l.jsx)(o.W_2,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:n?n.value:"",onChange:n=>m(e.name,n.target.value,t),placeholder:e.placeholder});default:return(0,l.jsx)(o.q22,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:n?n.value:"",onChange:n=>m(e.name,n.target.value,t),placeholder:e.placeholder})}};return(0,l.jsx)(o.yE_,{withBorders:!1,containerPadding:!1,children:p.map(((e,t)=>(0,l.jsx)(i.Fragment,{children:f(e,t)},e.name)))})}},76776:(e,t,n)=>{n.d(t,{c:()=>u});var i=n(69060),o=n(61180),a=n(78256),l=n(70780),r=n(66152),s=n(95705),c=n(66156),d=n(82496);const u=e=>{let{configurationName:t,closeResetModalAndRefresh:n,resetOpen:u}=e;const p=(0,c.Ab)(),[h,m]=(0,i.useState)(!1);(0,i.useEffect)((()=>{h&&o.m.configs.resetConfig(t).then((()=>{m(!1),n(!0)})).catch((e=>{m(!1),p((0,s.aW)((0,a.K)(e.error)))}))}),[n,t,h,p]);return(0,d.jsx)(l.c,{title:"Restore Defaults",confirmText:"Yes, Reset Configuration",isOpen:u,titleIcon:(0,d.jsx)(r.sB6,{}),isLoading:h,onConfirm:()=>{m(!0)},onClose:()=>{n(!1)},confirmationContent:(0,d.jsxs)(i.Fragment,{children:[h&&(0,d.jsx)(r.cHM,{}),(0,d.jsxs)(i.Fragment,{children:["Are you sure you want to restore these configurations to default values?",(0,d.jsx)("br",{}),(0,d.jsx)("b",{style:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"},children:"Please note that this may cause your system to not be accessible"})]})]})})}}}]);
//# sourceMappingURL=7165.6417f2bc.chunk.js.map